(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~Queue~TaskRoot"],{

/***/ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _assertThisInitialized; });
function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/construct.js":
/*!**************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/construct.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _construct; });
/* harmony import */ var _setPrototypeOf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./setPrototypeOf.js */ "./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");
/* harmony import */ var _isNativeReflectConstruct_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isNativeReflectConstruct.js */ "./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js");


function _construct(Parent, args, Class) {
  if (Object(_isNativeReflectConstruct_js__WEBPACK_IMPORTED_MODULE_1__["default"])()) {
    _construct = Reflect.construct;
  } else {
    _construct = function _construct(Parent, args, Class) {
      var a = [null];
      a.push.apply(a, args);
      var Constructor = Function.bind.apply(Parent, a);
      var instance = new Constructor();
      if (Class) Object(_setPrototypeOf_js__WEBPACK_IMPORTED_MODULE_0__["default"])(instance, Class.prototype);
      return instance;
    };
  }

  return _construct.apply(null, arguments);
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _getPrototypeOf; });
function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _isNativeFunction; });
function _isNativeFunction(fn) {
  return Function.toString.call(fn).indexOf("[native code]") !== -1;
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _isNativeReflectConstruct; });
function _isNativeReflectConstruct() {
  if (typeof Reflect === "undefined" || !Reflect.construct) return false;
  if (Reflect.construct.sham) return false;
  if (typeof Proxy === "function") return true;

  try {
    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
    return true;
  } catch (e) {
    return false;
  }
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js":
/*!********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _wrapNativeSuper; });
/* harmony import */ var _getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getPrototypeOf.js */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _setPrototypeOf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./setPrototypeOf.js */ "./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");
/* harmony import */ var _isNativeFunction_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./isNativeFunction.js */ "./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js");
/* harmony import */ var _construct_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./construct.js */ "./node_modules/@babel/runtime/helpers/esm/construct.js");




function _wrapNativeSuper(Class) {
  var _cache = typeof Map === "function" ? new Map() : undefined;

  _wrapNativeSuper = function _wrapNativeSuper(Class) {
    if (Class === null || !Object(_isNativeFunction_js__WEBPACK_IMPORTED_MODULE_2__["default"])(Class)) return Class;

    if (typeof Class !== "function") {
      throw new TypeError("Super expression must either be null or a function");
    }

    if (typeof _cache !== "undefined") {
      if (_cache.has(Class)) return _cache.get(Class);

      _cache.set(Class, Wrapper);
    }

    function Wrapper() {
      return Object(_construct_js__WEBPACK_IMPORTED_MODULE_3__["default"])(Class, arguments, Object(_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_0__["default"])(this).constructor);
    }

    Wrapper.prototype = Object.create(Class.prototype, {
      constructor: {
        value: Wrapper,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
    return Object(_setPrototypeOf_js__WEBPACK_IMPORTED_MODULE_1__["default"])(Wrapper, Class);
  };

  return _wrapNativeSuper(Class);
}

/***/ }),

/***/ "./node_modules/css-box-model/dist/css-box-model.esm.js":
/*!**************************************************************!*\
  !*** ./node_modules/css-box-model/dist/css-box-model.esm.js ***!
  \**************************************************************/
/*! exports provided: calculateBox, createBox, expand, getBox, getRect, offset, shrink, withScroll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateBox", function() { return calculateBox; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createBox", function() { return createBox; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "expand", function() { return expand; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBox", function() { return getBox; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRect", function() { return getRect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "offset", function() { return offset; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shrink", function() { return shrink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withScroll", function() { return withScroll; });
/* harmony import */ var tiny_invariant__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tiny-invariant */ "./node_modules/tiny-invariant/dist/tiny-invariant.esm.js");


var getRect = function getRect(_ref) {
  var top = _ref.top,
      right = _ref.right,
      bottom = _ref.bottom,
      left = _ref.left;
  var width = right - left;
  var height = bottom - top;
  var rect = {
    top: top,
    right: right,
    bottom: bottom,
    left: left,
    width: width,
    height: height,
    x: left,
    y: top,
    center: {
      x: (right + left) / 2,
      y: (bottom + top) / 2
    }
  };
  return rect;
};
var expand = function expand(target, expandBy) {
  return {
    top: target.top - expandBy.top,
    left: target.left - expandBy.left,
    bottom: target.bottom + expandBy.bottom,
    right: target.right + expandBy.right
  };
};
var shrink = function shrink(target, shrinkBy) {
  return {
    top: target.top + shrinkBy.top,
    left: target.left + shrinkBy.left,
    bottom: target.bottom - shrinkBy.bottom,
    right: target.right - shrinkBy.right
  };
};

var shift = function shift(target, shiftBy) {
  return {
    top: target.top + shiftBy.y,
    left: target.left + shiftBy.x,
    bottom: target.bottom + shiftBy.y,
    right: target.right + shiftBy.x
  };
};

var noSpacing = {
  top: 0,
  right: 0,
  bottom: 0,
  left: 0
};
var createBox = function createBox(_ref2) {
  var borderBox = _ref2.borderBox,
      _ref2$margin = _ref2.margin,
      margin = _ref2$margin === void 0 ? noSpacing : _ref2$margin,
      _ref2$border = _ref2.border,
      border = _ref2$border === void 0 ? noSpacing : _ref2$border,
      _ref2$padding = _ref2.padding,
      padding = _ref2$padding === void 0 ? noSpacing : _ref2$padding;
  var marginBox = getRect(expand(borderBox, margin));
  var paddingBox = getRect(shrink(borderBox, border));
  var contentBox = getRect(shrink(paddingBox, padding));
  return {
    marginBox: marginBox,
    borderBox: getRect(borderBox),
    paddingBox: paddingBox,
    contentBox: contentBox,
    margin: margin,
    border: border,
    padding: padding
  };
};

var parse = function parse(raw) {
  var value = raw.slice(0, -2);
  var suffix = raw.slice(-2);

  if (suffix !== 'px') {
    return 0;
  }

  var result = Number(value);
  !!isNaN(result) ?  true ? Object(tiny_invariant__WEBPACK_IMPORTED_MODULE_0__["default"])(false, "Could not parse value [raw: " + raw + ", without suffix: " + value + "]") : undefined : void 0;
  return result;
};

var getWindowScroll = function getWindowScroll() {
  return {
    x: window.pageXOffset,
    y: window.pageYOffset
  };
};

var offset = function offset(original, change) {
  var borderBox = original.borderBox,
      border = original.border,
      margin = original.margin,
      padding = original.padding;
  var shifted = shift(borderBox, change);
  return createBox({
    borderBox: shifted,
    border: border,
    margin: margin,
    padding: padding
  });
};
var withScroll = function withScroll(original, scroll) {
  if (scroll === void 0) {
    scroll = getWindowScroll();
  }

  return offset(original, scroll);
};
var calculateBox = function calculateBox(borderBox, styles) {
  var margin = {
    top: parse(styles.marginTop),
    right: parse(styles.marginRight),
    bottom: parse(styles.marginBottom),
    left: parse(styles.marginLeft)
  };
  var padding = {
    top: parse(styles.paddingTop),
    right: parse(styles.paddingRight),
    bottom: parse(styles.paddingBottom),
    left: parse(styles.paddingLeft)
  };
  var border = {
    top: parse(styles.borderTopWidth),
    right: parse(styles.borderRightWidth),
    bottom: parse(styles.borderBottomWidth),
    left: parse(styles.borderLeftWidth)
  };
  return createBox({
    borderBox: borderBox,
    margin: margin,
    padding: padding,
    border: border
  });
};
var getBox = function getBox(el) {
  var borderBox = el.getBoundingClientRect();
  var styles = window.getComputedStyle(el);
  return calculateBox(borderBox, styles);
};




/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/plyr/dist/plyr.css":
/*!*******************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/plyr/dist/plyr.css ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, "@keyframes plyr-progress{to{background-position:25px 0;background-position:var(--plyr-progress-loading-size,25px) 0}}@keyframes plyr-popup{0%{opacity:.5;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes plyr-fade-in{0%{opacity:0}to{opacity:1}}.plyr{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;align-items:center;direction:ltr;display:flex;flex-direction:column;font-family:inherit;font-family:var(--plyr-font-family,inherit);font-variant-numeric:tabular-nums;font-weight:400;font-weight:var(--plyr-font-weight-regular,400);line-height:1.7;line-height:var(--plyr-line-height,1.7);max-width:100%;min-width:200px;position:relative;text-shadow:none;transition:box-shadow .3s ease;z-index:0}.plyr audio,.plyr iframe,.plyr video{display:block;height:100%;width:100%}.plyr button{font:inherit;line-height:inherit;width:auto}.plyr:focus{outline:0}.plyr--full-ui{box-sizing:border-box}.plyr--full-ui *,.plyr--full-ui :after,.plyr--full-ui :before{box-sizing:inherit}.plyr--full-ui a,.plyr--full-ui button,.plyr--full-ui input,.plyr--full-ui label{touch-action:manipulation}.plyr__badge{background:#4a5464;background:var(--plyr-badge-background,#4a5464);border-radius:2px;border-radius:var(--plyr-badge-border-radius,2px);color:#fff;color:var(--plyr-badge-text-color,#fff);font-size:9px;font-size:var(--plyr-font-size-badge,9px);line-height:1;padding:3px 4px}.plyr--full-ui ::-webkit-media-text-track-container{display:none}.plyr__captions{animation:plyr-fade-in .3s ease;bottom:0;display:none;font-size:13px;font-size:var(--plyr-font-size-small,13px);left:0;padding:10px;padding:var(--plyr-control-spacing,10px);position:absolute;text-align:center;transition:transform .4s ease-in-out;width:100%}.plyr__captions span:empty{display:none}@media (min-width:480px){.plyr__captions{font-size:15px;font-size:var(--plyr-font-size-base,15px);padding:20px;padding:calc(var(--plyr-control-spacing, 10px)*2)}}@media (min-width:768px){.plyr__captions{font-size:18px;font-size:var(--plyr-font-size-large,18px)}}.plyr--captions-active .plyr__captions{display:block}.plyr:not(.plyr--hide-controls) .plyr__controls:not(:empty)~.plyr__captions{transform:translateY(-40px);transform:translateY(calc(var(--plyr-control-spacing, 10px)*-4))}.plyr__caption{background:rgba(0,0,0,.8);background:var(--plyr-captions-background,rgba(0,0,0,.8));border-radius:2px;-webkit-box-decoration-break:clone;box-decoration-break:clone;color:#fff;color:var(--plyr-captions-text-color,#fff);line-height:185%;padding:.2em .5em;white-space:pre-wrap}.plyr__caption div{display:inline}.plyr__control{background:transparent;border:0;border-radius:3px;border-radius:var(--plyr-control-radius,3px);color:inherit;cursor:pointer;flex-shrink:0;overflow:visible;padding:7px;padding:calc(var(--plyr-control-spacing, 10px)*.7);position:relative;transition:all .3s ease}.plyr__control svg{fill:currentColor;display:block;height:18px;height:var(--plyr-control-icon-size,18px);pointer-events:none;width:18px;width:var(--plyr-control-icon-size,18px)}.plyr__control:focus{outline:0}.plyr__control.plyr__tab-focus{outline-color:#00b3ff;outline-color:var(--plyr-tab-focus-color,var(--plyr-color-main,var(--plyr-color-main,#00b3ff)));outline-offset:2px;outline-style:dotted;outline-width:3px}a.plyr__control{text-decoration:none}.plyr__control.plyr__control--pressed .icon--not-pressed,.plyr__control.plyr__control--pressed .label--not-pressed,.plyr__control:not(.plyr__control--pressed) .icon--pressed,.plyr__control:not(.plyr__control--pressed) .label--pressed,a.plyr__control:after,a.plyr__control:before{display:none}.plyr--full-ui ::-webkit-media-controls{display:none}.plyr__controls{align-items:center;display:flex;justify-content:flex-end;text-align:center}.plyr__controls .plyr__progress__container{flex:1;min-width:0}.plyr__controls .plyr__controls__item{margin-left:2.5px;margin-left:calc(var(--plyr-control-spacing, 10px)/4)}.plyr__controls .plyr__controls__item:first-child{margin-left:0;margin-right:auto}.plyr__controls .plyr__controls__item.plyr__progress__container{padding-left:2.5px;padding-left:calc(var(--plyr-control-spacing, 10px)/4)}.plyr__controls .plyr__controls__item.plyr__time{padding:0 5px;padding:0 calc(var(--plyr-control-spacing, 10px)/2)}.plyr__controls .plyr__controls__item.plyr__progress__container:first-child,.plyr__controls .plyr__controls__item.plyr__time+.plyr__time,.plyr__controls .plyr__controls__item.plyr__time:first-child{padding-left:0}.plyr [data-plyr=airplay],.plyr [data-plyr=captions],.plyr [data-plyr=fullscreen],.plyr [data-plyr=pip],.plyr__controls:empty{display:none}.plyr--airplay-supported [data-plyr=airplay],.plyr--captions-enabled [data-plyr=captions],.plyr--fullscreen-enabled [data-plyr=fullscreen],.plyr--pip-supported [data-plyr=pip]{display:inline-block}.plyr__menu{display:flex;position:relative}.plyr__menu .plyr__control svg{transition:transform .3s ease}.plyr__menu .plyr__control[aria-expanded=true] svg{transform:rotate(90deg)}.plyr__menu .plyr__control[aria-expanded=true] .plyr__tooltip{display:none}.plyr__menu__container{animation:plyr-popup .2s ease;background:hsla(0,0%,100%,.9);background:var(--plyr-menu-background,hsla(0,0%,100%,.9));border-radius:4px;bottom:100%;box-shadow:0 1px 2px rgba(0,0,0,.15);box-shadow:var(--plyr-menu-shadow,0 1px 2px rgba(0,0,0,.15));color:#4a5464;color:var(--plyr-menu-color,#4a5464);font-size:15px;font-size:var(--plyr-font-size-base,15px);margin-bottom:10px;position:absolute;right:-3px;text-align:left;white-space:nowrap;z-index:3}.plyr__menu__container>div{overflow:hidden;transition:height .35s cubic-bezier(.4,0,.2,1),width .35s cubic-bezier(.4,0,.2,1)}.plyr__menu__container:after{border:4px solid transparent;border-top:var(--plyr-menu-arrow-size,4px) solid hsla(0,0%,100%,.9);border-width:var(--plyr-menu-arrow-size,4px);content:\"\";height:0;position:absolute;right:14px;right:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7 - var(--plyr-menu-arrow-size, 4px)/2);top:100%;width:0}.plyr__menu__container [role=menu]{padding:7px;padding:calc(var(--plyr-control-spacing, 10px)*.7)}.plyr__menu__container [role=menuitem],.plyr__menu__container [role=menuitemradio]{margin-top:2px}.plyr__menu__container [role=menuitem]:first-child,.plyr__menu__container [role=menuitemradio]:first-child{margin-top:0}.plyr__menu__container .plyr__control{align-items:center;color:#4a5464;color:var(--plyr-menu-color,#4a5464);display:flex;font-size:13px;font-size:var(--plyr-font-size-menu,var(--plyr-font-size-small,13px));padding:4.66667px 10.5px;padding:calc(var(--plyr-control-spacing, 10px)*.7/1.5) calc(var(--plyr-control-spacing, 10px)*.7*1.5);-webkit-user-select:none;user-select:none;width:100%}.plyr__menu__container .plyr__control>span{align-items:inherit;display:flex;width:100%}.plyr__menu__container .plyr__control:after{border:4px solid transparent;border:var(--plyr-menu-item-arrow-size,4px) solid transparent;content:\"\";position:absolute;top:50%;transform:translateY(-50%)}.plyr__menu__container .plyr__control--forward{padding-right:28px;padding-right:calc(var(--plyr-control-spacing, 10px)*.7*4)}.plyr__menu__container .plyr__control--forward:after{border-left-color:#728197;border-left-color:var(--plyr-menu-arrow-color,#728197);right:6.5px;right:calc(var(--plyr-control-spacing, 10px)*.7*1.5 - var(--plyr-menu-item-arrow-size, 4px))}.plyr__menu__container .plyr__control--forward.plyr__tab-focus:after,.plyr__menu__container .plyr__control--forward:hover:after{border-left-color:initial}.plyr__menu__container .plyr__control--back{font-weight:400;font-weight:var(--plyr-font-weight-regular,400);margin:7px;margin:calc(var(--plyr-control-spacing, 10px)*.7);margin-bottom:3.5px;margin-bottom:calc(var(--plyr-control-spacing, 10px)*.7/2);padding-left:28px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7*4);position:relative;width:calc(100% - 14px);width:calc(100% - var(--plyr-control-spacing, 10px)*.7*2)}.plyr__menu__container .plyr__control--back:after{border-right-color:#728197;border-right-color:var(--plyr-menu-arrow-color,#728197);left:6.5px;left:calc(var(--plyr-control-spacing, 10px)*.7*1.5 - var(--plyr-menu-item-arrow-size, 4px))}.plyr__menu__container .plyr__control--back:before{background:#dcdfe5;background:var(--plyr-menu-back-border-color,#dcdfe5);box-shadow:0 1px 0 #fff;box-shadow:0 1px 0 var(--plyr-menu-back-border-shadow-color,#fff);content:\"\";height:1px;left:0;margin-top:3.5px;margin-top:calc(var(--plyr-control-spacing, 10px)*.7/2);overflow:hidden;position:absolute;right:0;top:100%}.plyr__menu__container .plyr__control--back.plyr__tab-focus:after,.plyr__menu__container .plyr__control--back:hover:after{border-right-color:initial}.plyr__menu__container .plyr__control[role=menuitemradio]{padding-left:7px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7)}.plyr__menu__container .plyr__control[role=menuitemradio]:after,.plyr__menu__container .plyr__control[role=menuitemradio]:before{border-radius:100%}.plyr__menu__container .plyr__control[role=menuitemradio]:before{background:rgba(0,0,0,.1);content:\"\";display:block;flex-shrink:0;height:16px;margin-right:10px;margin-right:var(--plyr-control-spacing,10px);transition:all .3s ease;width:16px}.plyr__menu__container .plyr__control[role=menuitemradio]:after{background:#fff;border:0;height:6px;left:12px;opacity:0;top:50%;transform:translateY(-50%) scale(0);transition:transform .3s ease,opacity .3s ease;width:6px}.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]:before{background:#00b3ff;background:var(--plyr-control-toggle-checked-background,var(--plyr-color-main,var(--plyr-color-main,#00b3ff)))}.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]:after{opacity:1;transform:translateY(-50%) scale(1)}.plyr__menu__container .plyr__control[role=menuitemradio].plyr__tab-focus:before,.plyr__menu__container .plyr__control[role=menuitemradio]:hover:before{background:rgba(35,40,47,.1)}.plyr__menu__container .plyr__menu__value{align-items:center;display:flex;margin-left:auto;margin-right:calc(-7px - -2);margin-right:calc(var(--plyr-control-spacing, 10px)*.7*-1 - -2);overflow:hidden;padding-left:24.5px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7*3.5);pointer-events:none}.plyr--full-ui input[type=range]{-webkit-appearance:none;background:transparent;border:0;border-radius:26px;border-radius:calc(var(--plyr-range-thumb-height, 13px)*2);color:#00b3ff;color:var(--plyr-range-fill-background,var(--plyr-color-main,var(--plyr-color-main,#00b3ff)));display:block;height:19px;height:calc(var(--plyr-range-thumb-active-shadow-width, 3px)*2 + var(--plyr-range-thumb-height, 13px));margin:0;min-width:0;padding:0;transition:box-shadow .3s ease;width:100%}.plyr--full-ui input[type=range]::-webkit-slider-runnable-track{background:transparent;background-image:linear-gradient(90deg,currentColor 0,transparent 0);background-image:linear-gradient(to right,currentColor var(--value,0),transparent var(--value,0));border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-webkit-transition:box-shadow .3s ease;transition:box-shadow .3s ease;-webkit-user-select:none;user-select:none}.plyr--full-ui input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2);box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2));height:13px;height:var(--plyr-range-thumb-height,13px);margin-top:-4px;margin-top:calc(var(--plyr-range-thumb-height, 13px)/2*-1 - var(--plyr-range-track-height, 5px)/2*-1);position:relative;-webkit-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-moz-range-track{background:transparent;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-moz-transition:box-shadow .3s ease;transition:box-shadow .3s ease;user-select:none}.plyr--full-ui input[type=range]::-moz-range-thumb{background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2);box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2));height:13px;height:var(--plyr-range-thumb-height,13px);position:relative;-moz-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-moz-range-progress{background:currentColor;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px)}.plyr--full-ui input[type=range]::-ms-track{color:transparent}.plyr--full-ui input[type=range]::-ms-fill-upper,.plyr--full-ui input[type=range]::-ms-track{background:transparent;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-ms-transition:box-shadow .3s ease;transition:box-shadow .3s ease;user-select:none}.plyr--full-ui input[type=range]::-ms-fill-lower{background:transparent;background:currentColor;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-ms-transition:box-shadow .3s ease;transition:box-shadow .3s ease;user-select:none}.plyr--full-ui input[type=range]::-ms-thumb{background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2);box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2));height:13px;height:var(--plyr-range-thumb-height,13px);margin-top:0;position:relative;-ms-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-ms-tooltip{display:none}.plyr--full-ui input[type=range]:focus{outline:0}.plyr--full-ui input[type=range]::-moz-focus-outer{border:0}.plyr--full-ui input[type=range].plyr__tab-focus::-webkit-slider-runnable-track{outline-color:#00b3ff;outline-color:var(--plyr-tab-focus-color,var(--plyr-color-main,var(--plyr-color-main,#00b3ff)));outline-offset:2px;outline-style:dotted;outline-width:3px}.plyr--full-ui input[type=range].plyr__tab-focus::-moz-range-track{outline-color:#00b3ff;outline-color:var(--plyr-tab-focus-color,var(--plyr-color-main,var(--plyr-color-main,#00b3ff)));outline-offset:2px;outline-style:dotted;outline-width:3px}.plyr--full-ui input[type=range].plyr__tab-focus::-ms-track{outline-color:#00b3ff;outline-color:var(--plyr-tab-focus-color,var(--plyr-color-main,var(--plyr-color-main,#00b3ff)));outline-offset:2px;outline-style:dotted;outline-width:3px}.plyr__poster{background-color:#000;background-color:var(--plyr-video-background,var(--plyr-video-background,#000));background-position:50% 50%;background-repeat:no-repeat;background-size:contain;height:100%;left:0;opacity:0;position:absolute;top:0;transition:opacity .2s ease;width:100%;z-index:1}.plyr--stopped.plyr__poster-enabled .plyr__poster{opacity:1}.plyr--youtube.plyr--paused.plyr__poster-enabled:not(.plyr--stopped) .plyr__poster{display:none}.plyr__time{font-size:13px;font-size:var(--plyr-font-size-time,var(--plyr-font-size-small,13px))}.plyr__time+.plyr__time:before{content:\"\\2044\";margin-right:10px;margin-right:var(--plyr-control-spacing,10px)}@media (max-width:767px){.plyr__time+.plyr__time{display:none}}.plyr__tooltip{background:hsla(0,0%,100%,.9);background:var(--plyr-tooltip-background,hsla(0,0%,100%,.9));border-radius:3px;border-radius:var(--plyr-tooltip-radius,3px);bottom:100%;box-shadow:0 1px 2px rgba(0,0,0,.15);box-shadow:var(--plyr-tooltip-shadow,0 1px 2px rgba(0,0,0,.15));color:#4a5464;color:var(--plyr-tooltip-color,#4a5464);font-size:13px;font-size:var(--plyr-font-size-small,13px);font-weight:400;font-weight:var(--plyr-font-weight-regular,400);left:50%;line-height:1.3;margin-bottom:10px;margin-bottom:calc(var(--plyr-control-spacing, 10px)/2*2);opacity:0;padding:5px 7.5px;padding:calc(var(--plyr-control-spacing, 10px)/2) calc(var(--plyr-control-spacing, 10px)/2*1.5);pointer-events:none;position:absolute;transform:translate(-50%,10px) scale(.8);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;white-space:nowrap;z-index:2}.plyr__tooltip:before{border-left:4px solid transparent;border-left:var(--plyr-tooltip-arrow-size,4px) solid transparent;border-right:4px solid transparent;border-right:var(--plyr-tooltip-arrow-size,4px) solid transparent;border-top:4px solid hsla(0,0%,100%,.9);border-top:var(--plyr-tooltip-arrow-size,4px) solid var(--plyr-tooltip-background,hsla(0,0%,100%,.9));bottom:-4px;bottom:calc(var(--plyr-tooltip-arrow-size, 4px)*-1);content:\"\";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;z-index:2}.plyr .plyr__control.plyr__tab-focus .plyr__tooltip,.plyr .plyr__control:hover .plyr__tooltip,.plyr__tooltip--visible{opacity:1;transform:translate(-50%) scale(1)}.plyr .plyr__control:hover .plyr__tooltip{z-index:3}.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip,.plyr__controls>.plyr__control:first-child .plyr__tooltip{left:0;transform:translateY(10px) scale(.8);transform-origin:0 100%}.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip:before,.plyr__controls>.plyr__control:first-child .plyr__tooltip:before{left:16px;left:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7)}.plyr__controls>.plyr__control:last-child .plyr__tooltip{left:auto;right:0;transform:translateY(10px) scale(.8);transform-origin:100% 100%}.plyr__controls>.plyr__control:last-child .plyr__tooltip:before{left:auto;right:16px;right:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7);transform:translateX(50%)}.plyr__controls>.plyr__control:first-child+.plyr__control.plyr__tab-focus .plyr__tooltip,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip--visible,.plyr__controls>.plyr__control:first-child+.plyr__control:hover .plyr__tooltip,.plyr__controls>.plyr__control:first-child.plyr__tab-focus .plyr__tooltip,.plyr__controls>.plyr__control:first-child .plyr__tooltip--visible,.plyr__controls>.plyr__control:first-child:hover .plyr__tooltip,.plyr__controls>.plyr__control:last-child.plyr__tab-focus .plyr__tooltip,.plyr__controls>.plyr__control:last-child .plyr__tooltip--visible,.plyr__controls>.plyr__control:last-child:hover .plyr__tooltip{transform:translate(0) scale(1)}.plyr__progress{left:6.5px;left:calc(var(--plyr-range-thumb-height, 13px)*.5);margin-right:13px;margin-right:var(--plyr-range-thumb-height,13px);position:relative}.plyr__progress__buffer,.plyr__progress input[type=range]{margin-left:-6.5px;margin-left:calc(var(--plyr-range-thumb-height, 13px)*-.5);margin-right:-6.5px;margin-right:calc(var(--plyr-range-thumb-height, 13px)*-.5);width:calc(100% + 13px);width:calc(100% + var(--plyr-range-thumb-height, 13px))}.plyr__progress input[type=range]{position:relative;z-index:2}.plyr__progress .plyr__tooltip{font-size:13px;font-size:var(--plyr-font-size-time,var(--plyr-font-size-small,13px));left:0}.plyr__progress__buffer{-webkit-appearance:none;background:transparent;border:0;border-radius:100px;height:5px;height:var(--plyr-range-track-height,5px);left:0;margin-top:-2.5px;margin-top:calc(var(--plyr-range-track-height, 5px)/2*-1);padding:0;position:absolute;top:50%}.plyr__progress__buffer::-webkit-progress-bar{background:transparent}.plyr__progress__buffer::-webkit-progress-value{background:currentColor;border-radius:100px;min-width:5px;min-width:var(--plyr-range-track-height,5px);-webkit-transition:width .2s ease;transition:width .2s ease}.plyr__progress__buffer::-moz-progress-bar{background:currentColor;border-radius:100px;min-width:5px;min-width:var(--plyr-range-track-height,5px);-moz-transition:width .2s ease;transition:width .2s ease}.plyr__progress__buffer::-ms-fill{border-radius:100px;-ms-transition:width .2s ease;transition:width .2s ease}.plyr--loading .plyr__progress__buffer{animation:plyr-progress 1s linear infinite;background-image:linear-gradient(-45deg,rgba(35,40,47,.6) 25%,transparent 0,transparent 50%,rgba(35,40,47,.6) 0,rgba(35,40,47,.6) 75%,transparent 0,transparent);background-image:linear-gradient(-45deg,var(--plyr-progress-loading-background,rgba(35,40,47,.6)) 25%,transparent 25%,transparent 50%,var(--plyr-progress-loading-background,rgba(35,40,47,.6)) 50%,var(--plyr-progress-loading-background,rgba(35,40,47,.6)) 75%,transparent 75%,transparent);background-repeat:repeat-x;background-size:25px 25px;background-size:var(--plyr-progress-loading-size,25px) var(--plyr-progress-loading-size,25px);color:transparent}.plyr--video.plyr--loading .plyr__progress__buffer{background-color:hsla(0,0%,100%,.25);background-color:var(--plyr-video-progress-buffered-background,hsla(0,0%,100%,.25))}.plyr--audio.plyr--loading .plyr__progress__buffer{background-color:rgba(193,200,209,.6);background-color:var(--plyr-audio-progress-buffered-background,rgba(193,200,209,.6))}.plyr__volume{align-items:center;display:flex;max-width:110px;min-width:80px;position:relative;width:20%}.plyr__volume input[type=range]{margin-left:5px;margin-left:calc(var(--plyr-control-spacing, 10px)/2);margin-right:5px;margin-right:calc(var(--plyr-control-spacing, 10px)/2);position:relative;z-index:2}.plyr--is-ios .plyr__volume{min-width:0;width:auto}.plyr--audio{display:block}.plyr--audio .plyr__controls{background:#fff;background:var(--plyr-audio-controls-background,#fff);border-radius:inherit;color:#4a5464;color:var(--plyr-audio-control-color,#4a5464);padding:10px;padding:var(--plyr-control-spacing,10px)}.plyr--audio .plyr__control.plyr__tab-focus,.plyr--audio .plyr__control:hover,.plyr--audio .plyr__control[aria-expanded=true]{background:#00b3ff;background:var(--plyr-audio-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b3ff)));color:#fff;color:var(--plyr-audio-control-color-hover,#fff)}.plyr--full-ui.plyr--audio input[type=range]::-webkit-slider-runnable-track{background-color:rgba(193,200,209,.6);background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,rgba(193,200,209,.6)))}.plyr--full-ui.plyr--audio input[type=range]::-moz-range-track{background-color:rgba(193,200,209,.6);background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,rgba(193,200,209,.6)))}.plyr--full-ui.plyr--audio input[type=range]::-ms-track{background-color:rgba(193,200,209,.6);background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,rgba(193,200,209,.6)))}.plyr--full-ui.plyr--audio input[type=range]:active::-webkit-slider-thumb{box-shadow:0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2),0 0 0 3px rgba(35,40,47,.1);box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2)),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,rgba(35,40,47,.1))}.plyr--full-ui.plyr--audio input[type=range]:active::-moz-range-thumb{box-shadow:0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2),0 0 0 3px rgba(35,40,47,.1);box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2)),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,rgba(35,40,47,.1))}.plyr--full-ui.plyr--audio input[type=range]:active::-ms-thumb{box-shadow:0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2),0 0 0 3px rgba(35,40,47,.1);box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2)),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,rgba(35,40,47,.1))}.plyr--audio .plyr__progress__buffer{color:rgba(193,200,209,.6);color:var(--plyr-audio-progress-buffered-background,rgba(193,200,209,.6))}.plyr--video{background:#000;background:var(--plyr-video-background,var(--plyr-video-background,#000));overflow:hidden}.plyr--video.plyr--menu-open{overflow:visible}.plyr__video-wrapper{background:#000;background:var(--plyr-video-background,var(--plyr-video-background,#000));height:100%;margin:auto;overflow:hidden;position:relative;width:100%}.plyr__video-embed,.plyr__video-wrapper--fixed-ratio{aspect-ratio:16/9}@supports not (aspect-ratio:16/9){.plyr__video-embed,.plyr__video-wrapper--fixed-ratio{height:0;padding-bottom:56.25%;position:relative}}.plyr__video-embed iframe,.plyr__video-wrapper--fixed-ratio video{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.plyr--full-ui .plyr__video-embed>.plyr__video-embed__container{padding-bottom:240%;position:relative;transform:translateY(-38.28125%)}.plyr--video .plyr__controls{background:linear-gradient(transparent,rgba(0,0,0,.75));background:var(--plyr-video-controls-background,linear-gradient(transparent,rgba(0,0,0,.75)));border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;bottom:0;color:#fff;color:var(--plyr-video-control-color,#fff);left:0;padding:5px;padding:calc(var(--plyr-control-spacing, 10px)/2);padding-top:20px;padding-top:calc(var(--plyr-control-spacing, 10px)*2);position:absolute;right:0;transition:opacity .4s ease-in-out,transform .4s ease-in-out;z-index:3}@media (min-width:480px){.plyr--video .plyr__controls{padding:10px;padding:var(--plyr-control-spacing,10px);padding-top:35px;padding-top:calc(var(--plyr-control-spacing, 10px)*3.5)}}.plyr--video.plyr--hide-controls .plyr__controls{opacity:0;pointer-events:none;transform:translateY(100%)}.plyr--video .plyr__control.plyr__tab-focus,.plyr--video .plyr__control:hover,.plyr--video .plyr__control[aria-expanded=true]{background:#00b3ff;background:var(--plyr-video-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b3ff)));color:#fff;color:var(--plyr-video-control-color-hover,#fff)}.plyr__control--overlaid{background:#00b3ff;background:var(--plyr-video-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b3ff)));border:0;border-radius:100%;color:#fff;color:var(--plyr-video-control-color,#fff);display:none;left:50%;opacity:.9;padding:15px;padding:calc(var(--plyr-control-spacing, 10px)*1.5);position:absolute;top:50%;transform:translate(-50%,-50%);transition:.3s;z-index:2}.plyr__control--overlaid svg{left:2px;position:relative}.plyr__control--overlaid:focus,.plyr__control--overlaid:hover{opacity:1}.plyr--playing .plyr__control--overlaid{opacity:0;visibility:hidden}.plyr--full-ui.plyr--video .plyr__control--overlaid{display:block}.plyr--full-ui.plyr--video input[type=range]::-webkit-slider-runnable-track{background-color:hsla(0,0%,100%,.25);background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,hsla(0,0%,100%,.25)))}.plyr--full-ui.plyr--video input[type=range]::-moz-range-track{background-color:hsla(0,0%,100%,.25);background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,hsla(0,0%,100%,.25)))}.plyr--full-ui.plyr--video input[type=range]::-ms-track{background-color:hsla(0,0%,100%,.25);background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,hsla(0,0%,100%,.25)))}.plyr--full-ui.plyr--video input[type=range]:active::-webkit-slider-thumb{box-shadow:0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2),0 0 0 3px hsla(0,0%,100%,.5);box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2)),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,hsla(0,0%,100%,.5))}.plyr--full-ui.plyr--video input[type=range]:active::-moz-range-thumb{box-shadow:0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2),0 0 0 3px hsla(0,0%,100%,.5);box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2)),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,hsla(0,0%,100%,.5))}.plyr--full-ui.plyr--video input[type=range]:active::-ms-thumb{box-shadow:0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2),0 0 0 3px hsla(0,0%,100%,.5);box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px rgba(35,40,47,.15),0 0 0 1px rgba(35,40,47,.2)),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,hsla(0,0%,100%,.5))}.plyr--video .plyr__progress__buffer{color:hsla(0,0%,100%,.25);color:var(--plyr-video-progress-buffered-background,hsla(0,0%,100%,.25))}.plyr:fullscreen{background:#000;border-radius:0!important;height:100%;margin:0;width:100%}.plyr:fullscreen video{height:100%}.plyr:fullscreen .plyr__video-wrapper{height:100%;position:static}.plyr:fullscreen.plyr--vimeo .plyr__video-wrapper{height:0;position:relative}.plyr:fullscreen .plyr__control .icon--exit-fullscreen{display:block}.plyr:fullscreen .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr:fullscreen.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr:-webkit-full-screen .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}.plyr:fullscreen .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr:-webkit-full-screen{background:#000;border-radius:0!important;height:100%;margin:0;width:100%}.plyr:-webkit-full-screen video{height:100%}.plyr:-webkit-full-screen .plyr__video-wrapper{height:100%;position:static}.plyr:-webkit-full-screen.plyr--vimeo .plyr__video-wrapper{height:0;position:relative}.plyr:-webkit-full-screen .plyr__control .icon--exit-fullscreen{display:block}.plyr:-webkit-full-screen .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr:-webkit-full-screen.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr:-webkit-full-screen .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr:-moz-full-screen{background:#000;border-radius:0!important;height:100%;margin:0;width:100%}.plyr:-moz-full-screen video{height:100%}.plyr:-moz-full-screen .plyr__video-wrapper{height:100%;position:static}.plyr:-moz-full-screen.plyr--vimeo .plyr__video-wrapper{height:0;position:relative}.plyr:-moz-full-screen .plyr__control .icon--exit-fullscreen{display:block}.plyr:-moz-full-screen .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr:-moz-full-screen.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr:-moz-full-screen .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr:-ms-fullscreen{background:#000;border-radius:0!important;height:100%;margin:0;width:100%}.plyr:-ms-fullscreen video{height:100%}.plyr:-ms-fullscreen .plyr__video-wrapper{height:100%;position:static}.plyr:-ms-fullscreen.plyr--vimeo .plyr__video-wrapper{height:0;position:relative}.plyr:-ms-fullscreen .plyr__control .icon--exit-fullscreen{display:block}.plyr:-ms-fullscreen .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr:-ms-fullscreen.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr:-ms-fullscreen .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr--fullscreen-fallback{background:#000;border-radius:0!important;bottom:0;display:block;height:100%;left:0;margin:0;position:fixed;right:0;top:0;width:100%;z-index:10000000}.plyr--fullscreen-fallback video{height:100%}.plyr--fullscreen-fallback .plyr__video-wrapper{height:100%;position:static}.plyr--fullscreen-fallback.plyr--vimeo .plyr__video-wrapper{height:0;position:relative}.plyr--fullscreen-fallback .plyr__control .icon--exit-fullscreen{display:block}.plyr--fullscreen-fallback .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr--fullscreen-fallback.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr--fullscreen-fallback .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr__ads{border-radius:inherit;bottom:0;cursor:pointer;left:0;overflow:hidden;position:absolute;right:0;top:0;z-index:-1}.plyr__ads>div,.plyr__ads>div iframe{height:100%;position:absolute;width:100%}.plyr__ads:after{background:#23282f;border-radius:2px;bottom:10px;bottom:var(--plyr-control-spacing,10px);color:#fff;content:attr(data-badge-text);font-size:11px;padding:2px 6px;pointer-events:none;position:absolute;right:10px;right:var(--plyr-control-spacing,10px);z-index:3}.plyr__ads:after:empty{display:none}.plyr__cues{background:currentColor;display:block;height:5px;height:var(--plyr-range-track-height,5px);left:0;margin:-var(--plyr-range-track-height,5px)/2 0 0;opacity:.8;position:absolute;top:50%;width:3px;z-index:3}.plyr__preview-thumb{background-color:hsla(0,0%,100%,.9);background-color:var(--plyr-tooltip-background,hsla(0,0%,100%,.9));border-radius:3px;bottom:100%;box-shadow:0 1px 2px rgba(0,0,0,.15);box-shadow:var(--plyr-tooltip-shadow,0 1px 2px rgba(0,0,0,.15));margin-bottom:10px;margin-bottom:calc(var(--plyr-control-spacing, 10px)/2*2);opacity:0;padding:3px;padding:var(--plyr-tooltip-radius,3px);pointer-events:none;position:absolute;transform:translateY(10px) scale(.8);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;z-index:2}.plyr__preview-thumb--is-shown{opacity:1;transform:translate(0) scale(1)}.plyr__preview-thumb:before{border-left:4px solid transparent;border-left:var(--plyr-tooltip-arrow-size,4px) solid transparent;border-right:4px solid transparent;border-right:var(--plyr-tooltip-arrow-size,4px) solid transparent;border-top:4px solid hsla(0,0%,100%,.9);border-top:var(--plyr-tooltip-arrow-size,4px) solid var(--plyr-tooltip-background,hsla(0,0%,100%,.9));bottom:-4px;bottom:calc(var(--plyr-tooltip-arrow-size, 4px)*-1);content:\"\";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;z-index:2}.plyr__preview-thumb__image-container{background:#c1c8d1;border-radius:2px;border-radius:calc(var(--plyr-tooltip-radius, 3px) - 1px);overflow:hidden;position:relative;z-index:0}.plyr__preview-thumb__image-container img{height:100%;left:0;max-height:none;max-width:none;position:absolute;top:0;width:100%}.plyr__preview-thumb__time-container{bottom:6px;left:0;position:absolute;right:0;white-space:nowrap;z-index:3}.plyr__preview-thumb__time-container span{background-color:rgba(0,0,0,.55);border-radius:2px;border-radius:calc(var(--plyr-tooltip-radius, 3px) - 1px);color:#fff;font-size:13px;font-size:var(--plyr-font-size-time,var(--plyr-font-size-small,13px));padding:3px 6px}.plyr__preview-scrubbing{bottom:0;filter:blur(1px);height:100%;left:0;margin:auto;opacity:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .3s ease;width:100%;z-index:1}.plyr__preview-scrubbing--is-shown{opacity:1}.plyr__preview-scrubbing img{height:100%;left:0;max-height:none;max-width:none;-o-object-fit:contain;object-fit:contain;position:absolute;top:0;width:100%}.plyr--no-transition{transition:none!important}.plyr__sr-only{clip:rect(1px,1px,1px,1px);border:0!important;height:1px!important;overflow:hidden;padding:0!important;position:absolute!important;width:1px!important}.plyr [hidden]{display:none!important}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "./node_modules/lodash.isequal/index.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash.isequal/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, module) {/**
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the size to enable large array optimizations. */
var LARGE_ARRAY_SIZE = 200;

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used to compose bitmasks for value comparisons. */
var COMPARE_PARTIAL_FLAG = 1,
    COMPARE_UNORDERED_FLAG = 2;

/** Used as references for various `Number` constants. */
var MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    arrayTag = '[object Array]',
    asyncTag = '[object AsyncFunction]',
    boolTag = '[object Boolean]',
    dateTag = '[object Date]',
    errorTag = '[object Error]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    mapTag = '[object Map]',
    numberTag = '[object Number]',
    nullTag = '[object Null]',
    objectTag = '[object Object]',
    promiseTag = '[object Promise]',
    proxyTag = '[object Proxy]',
    regexpTag = '[object RegExp]',
    setTag = '[object Set]',
    stringTag = '[object String]',
    symbolTag = '[object Symbol]',
    undefinedTag = '[object Undefined]',
    weakMapTag = '[object WeakMap]';

var arrayBufferTag = '[object ArrayBuffer]',
    dataViewTag = '[object DataView]',
    float32Tag = '[object Float32Array]',
    float64Tag = '[object Float64Array]',
    int8Tag = '[object Int8Array]',
    int16Tag = '[object Int16Array]',
    int32Tag = '[object Int32Array]',
    uint8Tag = '[object Uint8Array]',
    uint8ClampedTag = '[object Uint8ClampedArray]',
    uint16Tag = '[object Uint16Array]',
    uint32Tag = '[object Uint32Array]';

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/** Used to identify `toStringTag` values of typed arrays. */
var typedArrayTags = {};
typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =
typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =
typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =
typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =
typedArrayTags[uint32Tag] = true;
typedArrayTags[argsTag] = typedArrayTags[arrayTag] =
typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =
typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =
typedArrayTags[errorTag] = typedArrayTags[funcTag] =
typedArrayTags[mapTag] = typedArrayTags[numberTag] =
typedArrayTags[objectTag] = typedArrayTags[regexpTag] =
typedArrayTags[setTag] = typedArrayTags[stringTag] =
typedArrayTags[weakMapTag] = false;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Detect free variable `exports`. */
var freeExports =  true && exports && !exports.nodeType && exports;

/** Detect free variable `module`. */
var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;

/** Detect the popular CommonJS extension `module.exports`. */
var moduleExports = freeModule && freeModule.exports === freeExports;

/** Detect free variable `process` from Node.js. */
var freeProcess = moduleExports && freeGlobal.process;

/** Used to access faster Node.js helpers. */
var nodeUtil = (function() {
  try {
    return freeProcess && freeProcess.binding && freeProcess.binding('util');
  } catch (e) {}
}());

/* Node.js helper references. */
var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;

/**
 * A specialized version of `_.filter` for arrays without support for
 * iteratee shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} predicate The function invoked per iteration.
 * @returns {Array} Returns the new filtered array.
 */
function arrayFilter(array, predicate) {
  var index = -1,
      length = array == null ? 0 : array.length,
      resIndex = 0,
      result = [];

  while (++index < length) {
    var value = array[index];
    if (predicate(value, index, array)) {
      result[resIndex++] = value;
    }
  }
  return result;
}

/**
 * Appends the elements of `values` to `array`.
 *
 * @private
 * @param {Array} array The array to modify.
 * @param {Array} values The values to append.
 * @returns {Array} Returns `array`.
 */
function arrayPush(array, values) {
  var index = -1,
      length = values.length,
      offset = array.length;

  while (++index < length) {
    array[offset + index] = values[index];
  }
  return array;
}

/**
 * A specialized version of `_.some` for arrays without support for iteratee
 * shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} predicate The function invoked per iteration.
 * @returns {boolean} Returns `true` if any element passes the predicate check,
 *  else `false`.
 */
function arraySome(array, predicate) {
  var index = -1,
      length = array == null ? 0 : array.length;

  while (++index < length) {
    if (predicate(array[index], index, array)) {
      return true;
    }
  }
  return false;
}

/**
 * The base implementation of `_.times` without support for iteratee shorthands
 * or max array length checks.
 *
 * @private
 * @param {number} n The number of times to invoke `iteratee`.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the array of results.
 */
function baseTimes(n, iteratee) {
  var index = -1,
      result = Array(n);

  while (++index < n) {
    result[index] = iteratee(index);
  }
  return result;
}

/**
 * The base implementation of `_.unary` without support for storing metadata.
 *
 * @private
 * @param {Function} func The function to cap arguments for.
 * @returns {Function} Returns the new capped function.
 */
function baseUnary(func) {
  return function(value) {
    return func(value);
  };
}

/**
 * Checks if a `cache` value for `key` exists.
 *
 * @private
 * @param {Object} cache The cache to query.
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function cacheHas(cache, key) {
  return cache.has(key);
}

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Converts `map` to its key-value pairs.
 *
 * @private
 * @param {Object} map The map to convert.
 * @returns {Array} Returns the key-value pairs.
 */
function mapToArray(map) {
  var index = -1,
      result = Array(map.size);

  map.forEach(function(value, key) {
    result[++index] = [key, value];
  });
  return result;
}

/**
 * Creates a unary function that invokes `func` with its argument transformed.
 *
 * @private
 * @param {Function} func The function to wrap.
 * @param {Function} transform The argument transform.
 * @returns {Function} Returns the new function.
 */
function overArg(func, transform) {
  return function(arg) {
    return func(transform(arg));
  };
}

/**
 * Converts `set` to an array of its values.
 *
 * @private
 * @param {Object} set The set to convert.
 * @returns {Array} Returns the values.
 */
function setToArray(set) {
  var index = -1,
      result = Array(set.size);

  set.forEach(function(value) {
    result[++index] = value;
  });
  return result;
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var nativeObjectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var Buffer = moduleExports ? root.Buffer : undefined,
    Symbol = root.Symbol,
    Uint8Array = root.Uint8Array,
    propertyIsEnumerable = objectProto.propertyIsEnumerable,
    splice = arrayProto.splice,
    symToStringTag = Symbol ? Symbol.toStringTag : undefined;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeGetSymbols = Object.getOwnPropertySymbols,
    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,
    nativeKeys = overArg(Object.keys, Object);

/* Built-in method references that are verified to be native. */
var DataView = getNative(root, 'DataView'),
    Map = getNative(root, 'Map'),
    Promise = getNative(root, 'Promise'),
    Set = getNative(root, 'Set'),
    WeakMap = getNative(root, 'WeakMap'),
    nativeCreate = getNative(Object, 'create');

/** Used to detect maps, sets, and weakmaps. */
var dataViewCtorString = toSource(DataView),
    mapCtorString = toSource(Map),
    promiseCtorString = toSource(Promise),
    setCtorString = toSource(Set),
    weakMapCtorString = toSource(WeakMap);

/** Used to convert symbols to primitives and strings. */
var symbolProto = Symbol ? Symbol.prototype : undefined,
    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
  this.size = 0;
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  var result = this.has(key) && delete this.__data__[key];
  this.size -= result ? 1 : 0;
  return result;
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  this.size += this.has(key) ? 0 : 1;
  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
  this.size = 0;
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  --this.size;
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    ++this.size;
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.size = 0;
  this.__data__ = {
    'hash': new Hash,
    'map': new (Map || ListCache),
    'string': new Hash
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  var result = getMapData(this, key)['delete'](key);
  this.size -= result ? 1 : 0;
  return result;
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  var data = getMapData(this, key),
      size = data.size;

  data.set(key, value);
  this.size += data.size == size ? 0 : 1;
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 *
 * Creates an array cache object to store unique values.
 *
 * @private
 * @constructor
 * @param {Array} [values] The values to cache.
 */
function SetCache(values) {
  var index = -1,
      length = values == null ? 0 : values.length;

  this.__data__ = new MapCache;
  while (++index < length) {
    this.add(values[index]);
  }
}

/**
 * Adds `value` to the array cache.
 *
 * @private
 * @name add
 * @memberOf SetCache
 * @alias push
 * @param {*} value The value to cache.
 * @returns {Object} Returns the cache instance.
 */
function setCacheAdd(value) {
  this.__data__.set(value, HASH_UNDEFINED);
  return this;
}

/**
 * Checks if `value` is in the array cache.
 *
 * @private
 * @name has
 * @memberOf SetCache
 * @param {*} value The value to search for.
 * @returns {number} Returns `true` if `value` is found, else `false`.
 */
function setCacheHas(value) {
  return this.__data__.has(value);
}

// Add methods to `SetCache`.
SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
SetCache.prototype.has = setCacheHas;

/**
 * Creates a stack cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Stack(entries) {
  var data = this.__data__ = new ListCache(entries);
  this.size = data.size;
}

/**
 * Removes all key-value entries from the stack.
 *
 * @private
 * @name clear
 * @memberOf Stack
 */
function stackClear() {
  this.__data__ = new ListCache;
  this.size = 0;
}

/**
 * Removes `key` and its value from the stack.
 *
 * @private
 * @name delete
 * @memberOf Stack
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function stackDelete(key) {
  var data = this.__data__,
      result = data['delete'](key);

  this.size = data.size;
  return result;
}

/**
 * Gets the stack value for `key`.
 *
 * @private
 * @name get
 * @memberOf Stack
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function stackGet(key) {
  return this.__data__.get(key);
}

/**
 * Checks if a stack value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Stack
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function stackHas(key) {
  return this.__data__.has(key);
}

/**
 * Sets the stack `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Stack
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the stack cache instance.
 */
function stackSet(key, value) {
  var data = this.__data__;
  if (data instanceof ListCache) {
    var pairs = data.__data__;
    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {
      pairs.push([key, value]);
      this.size = ++data.size;
      return this;
    }
    data = this.__data__ = new MapCache(pairs);
  }
  data.set(key, value);
  this.size = data.size;
  return this;
}

// Add methods to `Stack`.
Stack.prototype.clear = stackClear;
Stack.prototype['delete'] = stackDelete;
Stack.prototype.get = stackGet;
Stack.prototype.has = stackHas;
Stack.prototype.set = stackSet;

/**
 * Creates an array of the enumerable property names of the array-like `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @param {boolean} inherited Specify returning inherited property names.
 * @returns {Array} Returns the array of property names.
 */
function arrayLikeKeys(value, inherited) {
  var isArr = isArray(value),
      isArg = !isArr && isArguments(value),
      isBuff = !isArr && !isArg && isBuffer(value),
      isType = !isArr && !isArg && !isBuff && isTypedArray(value),
      skipIndexes = isArr || isArg || isBuff || isType,
      result = skipIndexes ? baseTimes(value.length, String) : [],
      length = result.length;

  for (var key in value) {
    if ((inherited || hasOwnProperty.call(value, key)) &&
        !(skipIndexes && (
           // Safari 9 has enumerable `arguments.length` in strict mode.
           key == 'length' ||
           // Node.js 0.10 has enumerable non-index properties on buffers.
           (isBuff && (key == 'offset' || key == 'parent')) ||
           // PhantomJS 2 has enumerable non-index properties on typed arrays.
           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||
           // Skip index properties.
           isIndex(key, length)
        ))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of `getAllKeys` and `getAllKeysIn` which uses
 * `keysFunc` and `symbolsFunc` to get the enumerable property names and
 * symbols of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Function} keysFunc The function to get the keys of `object`.
 * @param {Function} symbolsFunc The function to get the symbols of `object`.
 * @returns {Array} Returns the array of property names and symbols.
 */
function baseGetAllKeys(object, keysFunc, symbolsFunc) {
  var result = keysFunc(object);
  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));
}

/**
 * The base implementation of `getTag` without fallbacks for buggy environments.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
function baseGetTag(value) {
  if (value == null) {
    return value === undefined ? undefinedTag : nullTag;
  }
  return (symToStringTag && symToStringTag in Object(value))
    ? getRawTag(value)
    : objectToString(value);
}

/**
 * The base implementation of `_.isArguments`.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 */
function baseIsArguments(value) {
  return isObjectLike(value) && baseGetTag(value) == argsTag;
}

/**
 * The base implementation of `_.isEqual` which supports partial comparisons
 * and tracks traversed objects.
 *
 * @private
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @param {boolean} bitmask The bitmask flags.
 *  1 - Unordered comparison
 *  2 - Partial comparison
 * @param {Function} [customizer] The function to customize comparisons.
 * @param {Object} [stack] Tracks traversed `value` and `other` objects.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 */
function baseIsEqual(value, other, bitmask, customizer, stack) {
  if (value === other) {
    return true;
  }
  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {
    return value !== value && other !== other;
  }
  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);
}

/**
 * A specialized version of `baseIsEqual` for arrays and objects which performs
 * deep comparisons and tracks traversed objects enabling objects with circular
 * references to be compared.
 *
 * @private
 * @param {Object} object The object to compare.
 * @param {Object} other The other object to compare.
 * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
 * @param {Function} customizer The function to customize comparisons.
 * @param {Function} equalFunc The function to determine equivalents of values.
 * @param {Object} [stack] Tracks traversed `object` and `other` objects.
 * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
 */
function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {
  var objIsArr = isArray(object),
      othIsArr = isArray(other),
      objTag = objIsArr ? arrayTag : getTag(object),
      othTag = othIsArr ? arrayTag : getTag(other);

  objTag = objTag == argsTag ? objectTag : objTag;
  othTag = othTag == argsTag ? objectTag : othTag;

  var objIsObj = objTag == objectTag,
      othIsObj = othTag == objectTag,
      isSameTag = objTag == othTag;

  if (isSameTag && isBuffer(object)) {
    if (!isBuffer(other)) {
      return false;
    }
    objIsArr = true;
    objIsObj = false;
  }
  if (isSameTag && !objIsObj) {
    stack || (stack = new Stack);
    return (objIsArr || isTypedArray(object))
      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)
      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);
  }
  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {
    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),
        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');

    if (objIsWrapped || othIsWrapped) {
      var objUnwrapped = objIsWrapped ? object.value() : object,
          othUnwrapped = othIsWrapped ? other.value() : other;

      stack || (stack = new Stack);
      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);
    }
  }
  if (!isSameTag) {
    return false;
  }
  stack || (stack = new Stack);
  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.isTypedArray` without Node.js optimizations.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 */
function baseIsTypedArray(value) {
  return isObjectLike(value) &&
    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
}

/**
 * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function baseKeys(object) {
  if (!isPrototype(object)) {
    return nativeKeys(object);
  }
  var result = [];
  for (var key in Object(object)) {
    if (hasOwnProperty.call(object, key) && key != 'constructor') {
      result.push(key);
    }
  }
  return result;
}

/**
 * A specialized version of `baseIsEqualDeep` for arrays with support for
 * partial deep comparisons.
 *
 * @private
 * @param {Array} array The array to compare.
 * @param {Array} other The other array to compare.
 * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
 * @param {Function} customizer The function to customize comparisons.
 * @param {Function} equalFunc The function to determine equivalents of values.
 * @param {Object} stack Tracks traversed `array` and `other` objects.
 * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.
 */
function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {
  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,
      arrLength = array.length,
      othLength = other.length;

  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {
    return false;
  }
  // Assume cyclic values are equal.
  var stacked = stack.get(array);
  if (stacked && stack.get(other)) {
    return stacked == other;
  }
  var index = -1,
      result = true,
      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;

  stack.set(array, other);
  stack.set(other, array);

  // Ignore non-index properties.
  while (++index < arrLength) {
    var arrValue = array[index],
        othValue = other[index];

    if (customizer) {
      var compared = isPartial
        ? customizer(othValue, arrValue, index, other, array, stack)
        : customizer(arrValue, othValue, index, array, other, stack);
    }
    if (compared !== undefined) {
      if (compared) {
        continue;
      }
      result = false;
      break;
    }
    // Recursively compare arrays (susceptible to call stack limits).
    if (seen) {
      if (!arraySome(other, function(othValue, othIndex) {
            if (!cacheHas(seen, othIndex) &&
                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {
              return seen.push(othIndex);
            }
          })) {
        result = false;
        break;
      }
    } else if (!(
          arrValue === othValue ||
            equalFunc(arrValue, othValue, bitmask, customizer, stack)
        )) {
      result = false;
      break;
    }
  }
  stack['delete'](array);
  stack['delete'](other);
  return result;
}

/**
 * A specialized version of `baseIsEqualDeep` for comparing objects of
 * the same `toStringTag`.
 *
 * **Note:** This function only supports comparing values with tags of
 * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.
 *
 * @private
 * @param {Object} object The object to compare.
 * @param {Object} other The other object to compare.
 * @param {string} tag The `toStringTag` of the objects to compare.
 * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
 * @param {Function} customizer The function to customize comparisons.
 * @param {Function} equalFunc The function to determine equivalents of values.
 * @param {Object} stack Tracks traversed `object` and `other` objects.
 * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
 */
function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {
  switch (tag) {
    case dataViewTag:
      if ((object.byteLength != other.byteLength) ||
          (object.byteOffset != other.byteOffset)) {
        return false;
      }
      object = object.buffer;
      other = other.buffer;

    case arrayBufferTag:
      if ((object.byteLength != other.byteLength) ||
          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {
        return false;
      }
      return true;

    case boolTag:
    case dateTag:
    case numberTag:
      // Coerce booleans to `1` or `0` and dates to milliseconds.
      // Invalid dates are coerced to `NaN`.
      return eq(+object, +other);

    case errorTag:
      return object.name == other.name && object.message == other.message;

    case regexpTag:
    case stringTag:
      // Coerce regexes to strings and treat strings, primitives and objects,
      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring
      // for more details.
      return object == (other + '');

    case mapTag:
      var convert = mapToArray;

    case setTag:
      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;
      convert || (convert = setToArray);

      if (object.size != other.size && !isPartial) {
        return false;
      }
      // Assume cyclic values are equal.
      var stacked = stack.get(object);
      if (stacked) {
        return stacked == other;
      }
      bitmask |= COMPARE_UNORDERED_FLAG;

      // Recursively compare objects (susceptible to call stack limits).
      stack.set(object, other);
      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);
      stack['delete'](object);
      return result;

    case symbolTag:
      if (symbolValueOf) {
        return symbolValueOf.call(object) == symbolValueOf.call(other);
      }
  }
  return false;
}

/**
 * A specialized version of `baseIsEqualDeep` for objects with support for
 * partial deep comparisons.
 *
 * @private
 * @param {Object} object The object to compare.
 * @param {Object} other The other object to compare.
 * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
 * @param {Function} customizer The function to customize comparisons.
 * @param {Function} equalFunc The function to determine equivalents of values.
 * @param {Object} stack Tracks traversed `object` and `other` objects.
 * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
 */
function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {
  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,
      objProps = getAllKeys(object),
      objLength = objProps.length,
      othProps = getAllKeys(other),
      othLength = othProps.length;

  if (objLength != othLength && !isPartial) {
    return false;
  }
  var index = objLength;
  while (index--) {
    var key = objProps[index];
    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {
      return false;
    }
  }
  // Assume cyclic values are equal.
  var stacked = stack.get(object);
  if (stacked && stack.get(other)) {
    return stacked == other;
  }
  var result = true;
  stack.set(object, other);
  stack.set(other, object);

  var skipCtor = isPartial;
  while (++index < objLength) {
    key = objProps[index];
    var objValue = object[key],
        othValue = other[key];

    if (customizer) {
      var compared = isPartial
        ? customizer(othValue, objValue, key, other, object, stack)
        : customizer(objValue, othValue, key, object, other, stack);
    }
    // Recursively compare objects (susceptible to call stack limits).
    if (!(compared === undefined
          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))
          : compared
        )) {
      result = false;
      break;
    }
    skipCtor || (skipCtor = key == 'constructor');
  }
  if (result && !skipCtor) {
    var objCtor = object.constructor,
        othCtor = other.constructor;

    // Non `Object` object instances with different constructors are not equal.
    if (objCtor != othCtor &&
        ('constructor' in object && 'constructor' in other) &&
        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&
          typeof othCtor == 'function' && othCtor instanceof othCtor)) {
      result = false;
    }
  }
  stack['delete'](object);
  stack['delete'](other);
  return result;
}

/**
 * Creates an array of own enumerable property names and symbols of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names and symbols.
 */
function getAllKeys(object) {
  return baseGetAllKeys(object, keys, getSymbols);
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key)
    ? data[typeof key == 'string' ? 'string' : 'hash']
    : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the raw `toStringTag`.
 */
function getRawTag(value) {
  var isOwn = hasOwnProperty.call(value, symToStringTag),
      tag = value[symToStringTag];

  try {
    value[symToStringTag] = undefined;
    var unmasked = true;
  } catch (e) {}

  var result = nativeObjectToString.call(value);
  if (unmasked) {
    if (isOwn) {
      value[symToStringTag] = tag;
    } else {
      delete value[symToStringTag];
    }
  }
  return result;
}

/**
 * Creates an array of the own enumerable symbols of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of symbols.
 */
var getSymbols = !nativeGetSymbols ? stubArray : function(object) {
  if (object == null) {
    return [];
  }
  object = Object(object);
  return arrayFilter(nativeGetSymbols(object), function(symbol) {
    return propertyIsEnumerable.call(object, symbol);
  });
};

/**
 * Gets the `toStringTag` of `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
var getTag = baseGetTag;

// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.
if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||
    (Map && getTag(new Map) != mapTag) ||
    (Promise && getTag(Promise.resolve()) != promiseTag) ||
    (Set && getTag(new Set) != setTag) ||
    (WeakMap && getTag(new WeakMap) != weakMapTag)) {
  getTag = function(value) {
    var result = baseGetTag(value),
        Ctor = result == objectTag ? value.constructor : undefined,
        ctorString = Ctor ? toSource(Ctor) : '';

    if (ctorString) {
      switch (ctorString) {
        case dataViewCtorString: return dataViewTag;
        case mapCtorString: return mapTag;
        case promiseCtorString: return promiseTag;
        case setCtorString: return setTag;
        case weakMapCtorString: return weakMapTag;
      }
    }
    return result;
  };
}

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  length = length == null ? MAX_SAFE_INTEGER : length;
  return !!length &&
    (typeof value == 'number' || reIsUint.test(value)) &&
    (value > -1 && value % 1 == 0 && value < length);
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value;
  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    ? (value !== '__proto__')
    : (value === null);
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Checks if `value` is likely a prototype object.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
 */
function isPrototype(value) {
  var Ctor = value && value.constructor,
      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

  return value === proto;
}

/**
 * Converts `value` to a string using `Object.prototype.toString`.
 *
 * @private
 * @param {*} value The value to convert.
 * @returns {string} Returns the converted string.
 */
function objectToString(value) {
  return nativeObjectToString.call(value);
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to convert.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */
var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {
  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&
    !propertyIsEnumerable.call(value, 'callee');
};

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * Checks if `value` is a buffer.
 *
 * @static
 * @memberOf _
 * @since 4.3.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
 * @example
 *
 * _.isBuffer(new Buffer(2));
 * // => true
 *
 * _.isBuffer(new Uint8Array(2));
 * // => false
 */
var isBuffer = nativeIsBuffer || stubFalse;

/**
 * Performs a deep comparison between two values to determine if they are
 * equivalent.
 *
 * **Note:** This method supports comparing arrays, array buffers, booleans,
 * date objects, error objects, maps, numbers, `Object` objects, regexes,
 * sets, strings, symbols, and typed arrays. `Object` objects are compared
 * by their own, not inherited, enumerable properties. Functions and DOM
 * nodes are compared by strict equality, i.e. `===`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.isEqual(object, other);
 * // => true
 *
 * object === other;
 * // => false
 */
function isEqual(value, other) {
  return baseIsEqual(value, other);
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  if (!isObject(value)) {
    return false;
  }
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 9 which returns 'object' for typed arrays and other constructors.
  var tag = baseGetTag(value);
  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' &&
    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return value != null && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return value != null && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a typed array.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 * @example
 *
 * _.isTypedArray(new Uint8Array);
 * // => true
 *
 * _.isTypedArray([]);
 * // => false
 */
var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;

/**
 * Creates an array of the own enumerable property names of `object`.
 *
 * **Note:** Non-object values are coerced to objects. See the
 * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
 * for more details.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Object
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.keys(new Foo);
 * // => ['a', 'b'] (iteration order is not guaranteed)
 *
 * _.keys('hi');
 * // => ['0', '1']
 */
function keys(object) {
  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);
}

/**
 * This method returns a new empty array.
 *
 * @static
 * @memberOf _
 * @since 4.13.0
 * @category Util
 * @returns {Array} Returns the new empty array.
 * @example
 *
 * var arrays = _.times(2, _.stubArray);
 *
 * console.log(arrays);
 * // => [[], []]
 *
 * console.log(arrays[0] === arrays[1]);
 * // => false
 */
function stubArray() {
  return [];
}

/**
 * This method returns `false`.
 *
 * @static
 * @memberOf _
 * @since 4.13.0
 * @category Util
 * @returns {boolean} Returns `false`.
 * @example
 *
 * _.times(2, _.stubFalse);
 * // => [false, false]
 */
function stubFalse() {
  return false;
}

module.exports = isEqual;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./node_modules/lodash.sortby/index.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash.sortby/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, module) {/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the size to enable large array optimizations. */
var LARGE_ARRAY_SIZE = 200;

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used to compose bitmasks for comparison styles. */
var UNORDERED_COMPARE_FLAG = 1,
    PARTIAL_COMPARE_FLAG = 2;

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0,
    MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    arrayTag = '[object Array]',
    boolTag = '[object Boolean]',
    dateTag = '[object Date]',
    errorTag = '[object Error]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    mapTag = '[object Map]',
    numberTag = '[object Number]',
    objectTag = '[object Object]',
    promiseTag = '[object Promise]',
    regexpTag = '[object RegExp]',
    setTag = '[object Set]',
    stringTag = '[object String]',
    symbolTag = '[object Symbol]',
    weakMapTag = '[object WeakMap]';

var arrayBufferTag = '[object ArrayBuffer]',
    dataViewTag = '[object DataView]',
    float32Tag = '[object Float32Array]',
    float64Tag = '[object Float64Array]',
    int8Tag = '[object Int8Array]',
    int16Tag = '[object Int16Array]',
    int32Tag = '[object Int32Array]',
    uint8Tag = '[object Uint8Array]',
    uint8ClampedTag = '[object Uint8ClampedArray]',
    uint16Tag = '[object Uint16Array]',
    uint32Tag = '[object Uint32Array]';

/** Used to match property names within property paths. */
var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
    reIsPlainProp = /^\w*$/,
    reLeadingDot = /^\./,
    rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to match backslashes in property paths. */
var reEscapeChar = /\\(\\)?/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/** Used to identify `toStringTag` values of typed arrays. */
var typedArrayTags = {};
typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =
typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =
typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =
typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =
typedArrayTags[uint32Tag] = true;
typedArrayTags[argsTag] = typedArrayTags[arrayTag] =
typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =
typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =
typedArrayTags[errorTag] = typedArrayTags[funcTag] =
typedArrayTags[mapTag] = typedArrayTags[numberTag] =
typedArrayTags[objectTag] = typedArrayTags[regexpTag] =
typedArrayTags[setTag] = typedArrayTags[stringTag] =
typedArrayTags[weakMapTag] = false;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Detect free variable `exports`. */
var freeExports =  true && exports && !exports.nodeType && exports;

/** Detect free variable `module`. */
var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;

/** Detect the popular CommonJS extension `module.exports`. */
var moduleExports = freeModule && freeModule.exports === freeExports;

/** Detect free variable `process` from Node.js. */
var freeProcess = moduleExports && freeGlobal.process;

/** Used to access faster Node.js helpers. */
var nodeUtil = (function() {
  try {
    return freeProcess && freeProcess.binding('util');
  } catch (e) {}
}());

/* Node.js helper references. */
var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;

/**
 * A faster alternative to `Function#apply`, this function invokes `func`
 * with the `this` binding of `thisArg` and the arguments of `args`.
 *
 * @private
 * @param {Function} func The function to invoke.
 * @param {*} thisArg The `this` binding of `func`.
 * @param {Array} args The arguments to invoke `func` with.
 * @returns {*} Returns the result of `func`.
 */
function apply(func, thisArg, args) {
  switch (args.length) {
    case 0: return func.call(thisArg);
    case 1: return func.call(thisArg, args[0]);
    case 2: return func.call(thisArg, args[0], args[1]);
    case 3: return func.call(thisArg, args[0], args[1], args[2]);
  }
  return func.apply(thisArg, args);
}

/**
 * A specialized version of `_.map` for arrays without support for iteratee
 * shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the new mapped array.
 */
function arrayMap(array, iteratee) {
  var index = -1,
      length = array ? array.length : 0,
      result = Array(length);

  while (++index < length) {
    result[index] = iteratee(array[index], index, array);
  }
  return result;
}

/**
 * Appends the elements of `values` to `array`.
 *
 * @private
 * @param {Array} array The array to modify.
 * @param {Array} values The values to append.
 * @returns {Array} Returns `array`.
 */
function arrayPush(array, values) {
  var index = -1,
      length = values.length,
      offset = array.length;

  while (++index < length) {
    array[offset + index] = values[index];
  }
  return array;
}

/**
 * A specialized version of `_.some` for arrays without support for iteratee
 * shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} predicate The function invoked per iteration.
 * @returns {boolean} Returns `true` if any element passes the predicate check,
 *  else `false`.
 */
function arraySome(array, predicate) {
  var index = -1,
      length = array ? array.length : 0;

  while (++index < length) {
    if (predicate(array[index], index, array)) {
      return true;
    }
  }
  return false;
}

/**
 * The base implementation of `_.property` without support for deep paths.
 *
 * @private
 * @param {string} key The key of the property to get.
 * @returns {Function} Returns the new accessor function.
 */
function baseProperty(key) {
  return function(object) {
    return object == null ? undefined : object[key];
  };
}

/**
 * The base implementation of `_.sortBy` which uses `comparer` to define the
 * sort order of `array` and replaces criteria objects with their corresponding
 * values.
 *
 * @private
 * @param {Array} array The array to sort.
 * @param {Function} comparer The function to define sort order.
 * @returns {Array} Returns `array`.
 */
function baseSortBy(array, comparer) {
  var length = array.length;

  array.sort(comparer);
  while (length--) {
    array[length] = array[length].value;
  }
  return array;
}

/**
 * The base implementation of `_.times` without support for iteratee shorthands
 * or max array length checks.
 *
 * @private
 * @param {number} n The number of times to invoke `iteratee`.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the array of results.
 */
function baseTimes(n, iteratee) {
  var index = -1,
      result = Array(n);

  while (++index < n) {
    result[index] = iteratee(index);
  }
  return result;
}

/**
 * The base implementation of `_.unary` without support for storing metadata.
 *
 * @private
 * @param {Function} func The function to cap arguments for.
 * @returns {Function} Returns the new capped function.
 */
function baseUnary(func) {
  return function(value) {
    return func(value);
  };
}

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/**
 * Converts `map` to its key-value pairs.
 *
 * @private
 * @param {Object} map The map to convert.
 * @returns {Array} Returns the key-value pairs.
 */
function mapToArray(map) {
  var index = -1,
      result = Array(map.size);

  map.forEach(function(value, key) {
    result[++index] = [key, value];
  });
  return result;
}

/**
 * Creates a unary function that invokes `func` with its argument transformed.
 *
 * @private
 * @param {Function} func The function to wrap.
 * @param {Function} transform The argument transform.
 * @returns {Function} Returns the new function.
 */
function overArg(func, transform) {
  return function(arg) {
    return func(transform(arg));
  };
}

/**
 * Converts `set` to an array of its values.
 *
 * @private
 * @param {Object} set The set to convert.
 * @returns {Array} Returns the values.
 */
function setToArray(set) {
  var index = -1,
      result = Array(set.size);

  set.forEach(function(value) {
    result[++index] = value;
  });
  return result;
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var Symbol = root.Symbol,
    Uint8Array = root.Uint8Array,
    propertyIsEnumerable = objectProto.propertyIsEnumerable,
    splice = arrayProto.splice,
    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeKeys = overArg(Object.keys, Object),
    nativeMax = Math.max;

/* Built-in method references that are verified to be native. */
var DataView = getNative(root, 'DataView'),
    Map = getNative(root, 'Map'),
    Promise = getNative(root, 'Promise'),
    Set = getNative(root, 'Set'),
    WeakMap = getNative(root, 'WeakMap'),
    nativeCreate = getNative(Object, 'create');

/** Used to detect maps, sets, and weakmaps. */
var dataViewCtorString = toSource(DataView),
    mapCtorString = toSource(Map),
    promiseCtorString = toSource(Promise),
    setCtorString = toSource(Set),
    weakMapCtorString = toSource(WeakMap);

/** Used to convert symbols to primitives and strings. */
var symbolProto = Symbol ? Symbol.prototype : undefined,
    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,
    symbolToString = symbolProto ? symbolProto.toString : undefined;

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  return this.has(key) && delete this.__data__[key];
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.__data__ = {
    'hash': new Hash,
    'map': new (Map || ListCache),
    'string': new Hash
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  return getMapData(this, key)['delete'](key);
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  getMapData(this, key).set(key, value);
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 *
 * Creates an array cache object to store unique values.
 *
 * @private
 * @constructor
 * @param {Array} [values] The values to cache.
 */
function SetCache(values) {
  var index = -1,
      length = values ? values.length : 0;

  this.__data__ = new MapCache;
  while (++index < length) {
    this.add(values[index]);
  }
}

/**
 * Adds `value` to the array cache.
 *
 * @private
 * @name add
 * @memberOf SetCache
 * @alias push
 * @param {*} value The value to cache.
 * @returns {Object} Returns the cache instance.
 */
function setCacheAdd(value) {
  this.__data__.set(value, HASH_UNDEFINED);
  return this;
}

/**
 * Checks if `value` is in the array cache.
 *
 * @private
 * @name has
 * @memberOf SetCache
 * @param {*} value The value to search for.
 * @returns {number} Returns `true` if `value` is found, else `false`.
 */
function setCacheHas(value) {
  return this.__data__.has(value);
}

// Add methods to `SetCache`.
SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
SetCache.prototype.has = setCacheHas;

/**
 * Creates a stack cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Stack(entries) {
  this.__data__ = new ListCache(entries);
}

/**
 * Removes all key-value entries from the stack.
 *
 * @private
 * @name clear
 * @memberOf Stack
 */
function stackClear() {
  this.__data__ = new ListCache;
}

/**
 * Removes `key` and its value from the stack.
 *
 * @private
 * @name delete
 * @memberOf Stack
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function stackDelete(key) {
  return this.__data__['delete'](key);
}

/**
 * Gets the stack value for `key`.
 *
 * @private
 * @name get
 * @memberOf Stack
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function stackGet(key) {
  return this.__data__.get(key);
}

/**
 * Checks if a stack value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Stack
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function stackHas(key) {
  return this.__data__.has(key);
}

/**
 * Sets the stack `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Stack
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the stack cache instance.
 */
function stackSet(key, value) {
  var cache = this.__data__;
  if (cache instanceof ListCache) {
    var pairs = cache.__data__;
    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {
      pairs.push([key, value]);
      return this;
    }
    cache = this.__data__ = new MapCache(pairs);
  }
  cache.set(key, value);
  return this;
}

// Add methods to `Stack`.
Stack.prototype.clear = stackClear;
Stack.prototype['delete'] = stackDelete;
Stack.prototype.get = stackGet;
Stack.prototype.has = stackHas;
Stack.prototype.set = stackSet;

/**
 * Creates an array of the enumerable property names of the array-like `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @param {boolean} inherited Specify returning inherited property names.
 * @returns {Array} Returns the array of property names.
 */
function arrayLikeKeys(value, inherited) {
  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
  // Safari 9 makes `arguments.length` enumerable in strict mode.
  var result = (isArray(value) || isArguments(value))
    ? baseTimes(value.length, String)
    : [];

  var length = result.length,
      skipIndexes = !!length;

  for (var key in value) {
    if ((inherited || hasOwnProperty.call(value, key)) &&
        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of `_.forEach` without support for iteratee shorthands.
 *
 * @private
 * @param {Array|Object} collection The collection to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array|Object} Returns `collection`.
 */
var baseEach = createBaseEach(baseForOwn);

/**
 * The base implementation of `_.flatten` with support for restricting flattening.
 *
 * @private
 * @param {Array} array The array to flatten.
 * @param {number} depth The maximum recursion depth.
 * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.
 * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.
 * @param {Array} [result=[]] The initial result value.
 * @returns {Array} Returns the new flattened array.
 */
function baseFlatten(array, depth, predicate, isStrict, result) {
  var index = -1,
      length = array.length;

  predicate || (predicate = isFlattenable);
  result || (result = []);

  while (++index < length) {
    var value = array[index];
    if (depth > 0 && predicate(value)) {
      if (depth > 1) {
        // Recursively flatten arrays (susceptible to call stack limits).
        baseFlatten(value, depth - 1, predicate, isStrict, result);
      } else {
        arrayPush(result, value);
      }
    } else if (!isStrict) {
      result[result.length] = value;
    }
  }
  return result;
}

/**
 * The base implementation of `baseForOwn` which iterates over `object`
 * properties returned by `keysFunc` and invokes `iteratee` for each property.
 * Iteratee functions may exit iteration early by explicitly returning `false`.
 *
 * @private
 * @param {Object} object The object to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @param {Function} keysFunc The function to get the keys of `object`.
 * @returns {Object} Returns `object`.
 */
var baseFor = createBaseFor();

/**
 * The base implementation of `_.forOwn` without support for iteratee shorthands.
 *
 * @private
 * @param {Object} object The object to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Object} Returns `object`.
 */
function baseForOwn(object, iteratee) {
  return object && baseFor(object, iteratee, keys);
}

/**
 * The base implementation of `_.get` without support for default values.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Array|string} path The path of the property to get.
 * @returns {*} Returns the resolved value.
 */
function baseGet(object, path) {
  path = isKey(path, object) ? [path] : castPath(path);

  var index = 0,
      length = path.length;

  while (object != null && index < length) {
    object = object[toKey(path[index++])];
  }
  return (index && index == length) ? object : undefined;
}

/**
 * The base implementation of `getTag`.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
function baseGetTag(value) {
  return objectToString.call(value);
}

/**
 * The base implementation of `_.hasIn` without support for deep paths.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {Array|string} key The key to check.
 * @returns {boolean} Returns `true` if `key` exists, else `false`.
 */
function baseHasIn(object, key) {
  return object != null && key in Object(object);
}

/**
 * The base implementation of `_.isEqual` which supports partial comparisons
 * and tracks traversed objects.
 *
 * @private
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @param {Function} [customizer] The function to customize comparisons.
 * @param {boolean} [bitmask] The bitmask of comparison flags.
 *  The bitmask may be composed of the following flags:
 *     1 - Unordered comparison
 *     2 - Partial comparison
 * @param {Object} [stack] Tracks traversed `value` and `other` objects.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 */
function baseIsEqual(value, other, customizer, bitmask, stack) {
  if (value === other) {
    return true;
  }
  if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {
    return value !== value && other !== other;
  }
  return baseIsEqualDeep(value, other, baseIsEqual, customizer, bitmask, stack);
}

/**
 * A specialized version of `baseIsEqual` for arrays and objects which performs
 * deep comparisons and tracks traversed objects enabling objects with circular
 * references to be compared.
 *
 * @private
 * @param {Object} object The object to compare.
 * @param {Object} other The other object to compare.
 * @param {Function} equalFunc The function to determine equivalents of values.
 * @param {Function} [customizer] The function to customize comparisons.
 * @param {number} [bitmask] The bitmask of comparison flags. See `baseIsEqual`
 *  for more details.
 * @param {Object} [stack] Tracks traversed `object` and `other` objects.
 * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
 */
function baseIsEqualDeep(object, other, equalFunc, customizer, bitmask, stack) {
  var objIsArr = isArray(object),
      othIsArr = isArray(other),
      objTag = arrayTag,
      othTag = arrayTag;

  if (!objIsArr) {
    objTag = getTag(object);
    objTag = objTag == argsTag ? objectTag : objTag;
  }
  if (!othIsArr) {
    othTag = getTag(other);
    othTag = othTag == argsTag ? objectTag : othTag;
  }
  var objIsObj = objTag == objectTag && !isHostObject(object),
      othIsObj = othTag == objectTag && !isHostObject(other),
      isSameTag = objTag == othTag;

  if (isSameTag && !objIsObj) {
    stack || (stack = new Stack);
    return (objIsArr || isTypedArray(object))
      ? equalArrays(object, other, equalFunc, customizer, bitmask, stack)
      : equalByTag(object, other, objTag, equalFunc, customizer, bitmask, stack);
  }
  if (!(bitmask & PARTIAL_COMPARE_FLAG)) {
    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),
        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');

    if (objIsWrapped || othIsWrapped) {
      var objUnwrapped = objIsWrapped ? object.value() : object,
          othUnwrapped = othIsWrapped ? other.value() : other;

      stack || (stack = new Stack);
      return equalFunc(objUnwrapped, othUnwrapped, customizer, bitmask, stack);
    }
  }
  if (!isSameTag) {
    return false;
  }
  stack || (stack = new Stack);
  return equalObjects(object, other, equalFunc, customizer, bitmask, stack);
}

/**
 * The base implementation of `_.isMatch` without support for iteratee shorthands.
 *
 * @private
 * @param {Object} object The object to inspect.
 * @param {Object} source The object of property values to match.
 * @param {Array} matchData The property names, values, and compare flags to match.
 * @param {Function} [customizer] The function to customize comparisons.
 * @returns {boolean} Returns `true` if `object` is a match, else `false`.
 */
function baseIsMatch(object, source, matchData, customizer) {
  var index = matchData.length,
      length = index,
      noCustomizer = !customizer;

  if (object == null) {
    return !length;
  }
  object = Object(object);
  while (index--) {
    var data = matchData[index];
    if ((noCustomizer && data[2])
          ? data[1] !== object[data[0]]
          : !(data[0] in object)
        ) {
      return false;
    }
  }
  while (++index < length) {
    data = matchData[index];
    var key = data[0],
        objValue = object[key],
        srcValue = data[1];

    if (noCustomizer && data[2]) {
      if (objValue === undefined && !(key in object)) {
        return false;
      }
    } else {
      var stack = new Stack;
      if (customizer) {
        var result = customizer(objValue, srcValue, key, object, source, stack);
      }
      if (!(result === undefined
            ? baseIsEqual(srcValue, objValue, customizer, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG, stack)
            : result
          )) {
        return false;
      }
    }
  }
  return true;
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.isTypedArray` without Node.js optimizations.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 */
function baseIsTypedArray(value) {
  return isObjectLike(value) &&
    isLength(value.length) && !!typedArrayTags[objectToString.call(value)];
}

/**
 * The base implementation of `_.iteratee`.
 *
 * @private
 * @param {*} [value=_.identity] The value to convert to an iteratee.
 * @returns {Function} Returns the iteratee.
 */
function baseIteratee(value) {
  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.
  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.
  if (typeof value == 'function') {
    return value;
  }
  if (value == null) {
    return identity;
  }
  if (typeof value == 'object') {
    return isArray(value)
      ? baseMatchesProperty(value[0], value[1])
      : baseMatches(value);
  }
  return property(value);
}

/**
 * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function baseKeys(object) {
  if (!isPrototype(object)) {
    return nativeKeys(object);
  }
  var result = [];
  for (var key in Object(object)) {
    if (hasOwnProperty.call(object, key) && key != 'constructor') {
      result.push(key);
    }
  }
  return result;
}

/**
 * The base implementation of `_.map` without support for iteratee shorthands.
 *
 * @private
 * @param {Array|Object} collection The collection to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the new mapped array.
 */
function baseMap(collection, iteratee) {
  var index = -1,
      result = isArrayLike(collection) ? Array(collection.length) : [];

  baseEach(collection, function(value, key, collection) {
    result[++index] = iteratee(value, key, collection);
  });
  return result;
}

/**
 * The base implementation of `_.matches` which doesn't clone `source`.
 *
 * @private
 * @param {Object} source The object of property values to match.
 * @returns {Function} Returns the new spec function.
 */
function baseMatches(source) {
  var matchData = getMatchData(source);
  if (matchData.length == 1 && matchData[0][2]) {
    return matchesStrictComparable(matchData[0][0], matchData[0][1]);
  }
  return function(object) {
    return object === source || baseIsMatch(object, source, matchData);
  };
}

/**
 * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.
 *
 * @private
 * @param {string} path The path of the property to get.
 * @param {*} srcValue The value to match.
 * @returns {Function} Returns the new spec function.
 */
function baseMatchesProperty(path, srcValue) {
  if (isKey(path) && isStrictComparable(srcValue)) {
    return matchesStrictComparable(toKey(path), srcValue);
  }
  return function(object) {
    var objValue = get(object, path);
    return (objValue === undefined && objValue === srcValue)
      ? hasIn(object, path)
      : baseIsEqual(srcValue, objValue, undefined, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG);
  };
}

/**
 * The base implementation of `_.orderBy` without param guards.
 *
 * @private
 * @param {Array|Object} collection The collection to iterate over.
 * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.
 * @param {string[]} orders The sort orders of `iteratees`.
 * @returns {Array} Returns the new sorted array.
 */
function baseOrderBy(collection, iteratees, orders) {
  var index = -1;
  iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(baseIteratee));

  var result = baseMap(collection, function(value, key, collection) {
    var criteria = arrayMap(iteratees, function(iteratee) {
      return iteratee(value);
    });
    return { 'criteria': criteria, 'index': ++index, 'value': value };
  });

  return baseSortBy(result, function(object, other) {
    return compareMultiple(object, other, orders);
  });
}

/**
 * A specialized version of `baseProperty` which supports deep paths.
 *
 * @private
 * @param {Array|string} path The path of the property to get.
 * @returns {Function} Returns the new accessor function.
 */
function basePropertyDeep(path) {
  return function(object) {
    return baseGet(object, path);
  };
}

/**
 * The base implementation of `_.rest` which doesn't validate or coerce arguments.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @returns {Function} Returns the new function.
 */
function baseRest(func, start) {
  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);
  return function() {
    var args = arguments,
        index = -1,
        length = nativeMax(args.length - start, 0),
        array = Array(length);

    while (++index < length) {
      array[index] = args[start + index];
    }
    index = -1;
    var otherArgs = Array(start + 1);
    while (++index < start) {
      otherArgs[index] = args[index];
    }
    otherArgs[start] = array;
    return apply(func, this, otherArgs);
  };
}

/**
 * The base implementation of `_.toString` which doesn't convert nullish
 * values to empty strings.
 *
 * @private
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 */
function baseToString(value) {
  // Exit early for strings to avoid a performance hit in some environments.
  if (typeof value == 'string') {
    return value;
  }
  if (isSymbol(value)) {
    return symbolToString ? symbolToString.call(value) : '';
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Casts `value` to a path array if it's not one.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {Array} Returns the cast property path array.
 */
function castPath(value) {
  return isArray(value) ? value : stringToPath(value);
}

/**
 * Compares values to sort them in ascending order.
 *
 * @private
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {number} Returns the sort order indicator for `value`.
 */
function compareAscending(value, other) {
  if (value !== other) {
    var valIsDefined = value !== undefined,
        valIsNull = value === null,
        valIsReflexive = value === value,
        valIsSymbol = isSymbol(value);

    var othIsDefined = other !== undefined,
        othIsNull = other === null,
        othIsReflexive = other === other,
        othIsSymbol = isSymbol(other);

    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||
        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||
        (valIsNull && othIsDefined && othIsReflexive) ||
        (!valIsDefined && othIsReflexive) ||
        !valIsReflexive) {
      return 1;
    }
    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||
        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||
        (othIsNull && valIsDefined && valIsReflexive) ||
        (!othIsDefined && valIsReflexive) ||
        !othIsReflexive) {
      return -1;
    }
  }
  return 0;
}

/**
 * Used by `_.orderBy` to compare multiple properties of a value to another
 * and stable sort them.
 *
 * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,
 * specify an order of "desc" for descending or "asc" for ascending sort order
 * of corresponding values.
 *
 * @private
 * @param {Object} object The object to compare.
 * @param {Object} other The other object to compare.
 * @param {boolean[]|string[]} orders The order to sort by for each property.
 * @returns {number} Returns the sort order indicator for `object`.
 */
function compareMultiple(object, other, orders) {
  var index = -1,
      objCriteria = object.criteria,
      othCriteria = other.criteria,
      length = objCriteria.length,
      ordersLength = orders.length;

  while (++index < length) {
    var result = compareAscending(objCriteria[index], othCriteria[index]);
    if (result) {
      if (index >= ordersLength) {
        return result;
      }
      var order = orders[index];
      return result * (order == 'desc' ? -1 : 1);
    }
  }
  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications
  // that causes it, under certain circumstances, to provide the same value for
  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247
  // for more details.
  //
  // This also ensures a stable sort in V8 and other engines.
  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.
  return object.index - other.index;
}

/**
 * Creates a `baseEach` or `baseEachRight` function.
 *
 * @private
 * @param {Function} eachFunc The function to iterate over a collection.
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {Function} Returns the new base function.
 */
function createBaseEach(eachFunc, fromRight) {
  return function(collection, iteratee) {
    if (collection == null) {
      return collection;
    }
    if (!isArrayLike(collection)) {
      return eachFunc(collection, iteratee);
    }
    var length = collection.length,
        index = fromRight ? length : -1,
        iterable = Object(collection);

    while ((fromRight ? index-- : ++index < length)) {
      if (iteratee(iterable[index], index, iterable) === false) {
        break;
      }
    }
    return collection;
  };
}

/**
 * Creates a base function for methods like `_.forIn` and `_.forOwn`.
 *
 * @private
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {Function} Returns the new base function.
 */
function createBaseFor(fromRight) {
  return function(object, iteratee, keysFunc) {
    var index = -1,
        iterable = Object(object),
        props = keysFunc(object),
        length = props.length;

    while (length--) {
      var key = props[fromRight ? length : ++index];
      if (iteratee(iterable[key], key, iterable) === false) {
        break;
      }
    }
    return object;
  };
}

/**
 * A specialized version of `baseIsEqualDeep` for arrays with support for
 * partial deep comparisons.
 *
 * @private
 * @param {Array} array The array to compare.
 * @param {Array} other The other array to compare.
 * @param {Function} equalFunc The function to determine equivalents of values.
 * @param {Function} customizer The function to customize comparisons.
 * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`
 *  for more details.
 * @param {Object} stack Tracks traversed `array` and `other` objects.
 * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.
 */
function equalArrays(array, other, equalFunc, customizer, bitmask, stack) {
  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,
      arrLength = array.length,
      othLength = other.length;

  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {
    return false;
  }
  // Assume cyclic values are equal.
  var stacked = stack.get(array);
  if (stacked && stack.get(other)) {
    return stacked == other;
  }
  var index = -1,
      result = true,
      seen = (bitmask & UNORDERED_COMPARE_FLAG) ? new SetCache : undefined;

  stack.set(array, other);
  stack.set(other, array);

  // Ignore non-index properties.
  while (++index < arrLength) {
    var arrValue = array[index],
        othValue = other[index];

    if (customizer) {
      var compared = isPartial
        ? customizer(othValue, arrValue, index, other, array, stack)
        : customizer(arrValue, othValue, index, array, other, stack);
    }
    if (compared !== undefined) {
      if (compared) {
        continue;
      }
      result = false;
      break;
    }
    // Recursively compare arrays (susceptible to call stack limits).
    if (seen) {
      if (!arraySome(other, function(othValue, othIndex) {
            if (!seen.has(othIndex) &&
                (arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack))) {
              return seen.add(othIndex);
            }
          })) {
        result = false;
        break;
      }
    } else if (!(
          arrValue === othValue ||
            equalFunc(arrValue, othValue, customizer, bitmask, stack)
        )) {
      result = false;
      break;
    }
  }
  stack['delete'](array);
  stack['delete'](other);
  return result;
}

/**
 * A specialized version of `baseIsEqualDeep` for comparing objects of
 * the same `toStringTag`.
 *
 * **Note:** This function only supports comparing values with tags of
 * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.
 *
 * @private
 * @param {Object} object The object to compare.
 * @param {Object} other The other object to compare.
 * @param {string} tag The `toStringTag` of the objects to compare.
 * @param {Function} equalFunc The function to determine equivalents of values.
 * @param {Function} customizer The function to customize comparisons.
 * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`
 *  for more details.
 * @param {Object} stack Tracks traversed `object` and `other` objects.
 * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
 */
function equalByTag(object, other, tag, equalFunc, customizer, bitmask, stack) {
  switch (tag) {
    case dataViewTag:
      if ((object.byteLength != other.byteLength) ||
          (object.byteOffset != other.byteOffset)) {
        return false;
      }
      object = object.buffer;
      other = other.buffer;

    case arrayBufferTag:
      if ((object.byteLength != other.byteLength) ||
          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {
        return false;
      }
      return true;

    case boolTag:
    case dateTag:
    case numberTag:
      // Coerce booleans to `1` or `0` and dates to milliseconds.
      // Invalid dates are coerced to `NaN`.
      return eq(+object, +other);

    case errorTag:
      return object.name == other.name && object.message == other.message;

    case regexpTag:
    case stringTag:
      // Coerce regexes to strings and treat strings, primitives and objects,
      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring
      // for more details.
      return object == (other + '');

    case mapTag:
      var convert = mapToArray;

    case setTag:
      var isPartial = bitmask & PARTIAL_COMPARE_FLAG;
      convert || (convert = setToArray);

      if (object.size != other.size && !isPartial) {
        return false;
      }
      // Assume cyclic values are equal.
      var stacked = stack.get(object);
      if (stacked) {
        return stacked == other;
      }
      bitmask |= UNORDERED_COMPARE_FLAG;

      // Recursively compare objects (susceptible to call stack limits).
      stack.set(object, other);
      var result = equalArrays(convert(object), convert(other), equalFunc, customizer, bitmask, stack);
      stack['delete'](object);
      return result;

    case symbolTag:
      if (symbolValueOf) {
        return symbolValueOf.call(object) == symbolValueOf.call(other);
      }
  }
  return false;
}

/**
 * A specialized version of `baseIsEqualDeep` for objects with support for
 * partial deep comparisons.
 *
 * @private
 * @param {Object} object The object to compare.
 * @param {Object} other The other object to compare.
 * @param {Function} equalFunc The function to determine equivalents of values.
 * @param {Function} customizer The function to customize comparisons.
 * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`
 *  for more details.
 * @param {Object} stack Tracks traversed `object` and `other` objects.
 * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
 */
function equalObjects(object, other, equalFunc, customizer, bitmask, stack) {
  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,
      objProps = keys(object),
      objLength = objProps.length,
      othProps = keys(other),
      othLength = othProps.length;

  if (objLength != othLength && !isPartial) {
    return false;
  }
  var index = objLength;
  while (index--) {
    var key = objProps[index];
    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {
      return false;
    }
  }
  // Assume cyclic values are equal.
  var stacked = stack.get(object);
  if (stacked && stack.get(other)) {
    return stacked == other;
  }
  var result = true;
  stack.set(object, other);
  stack.set(other, object);

  var skipCtor = isPartial;
  while (++index < objLength) {
    key = objProps[index];
    var objValue = object[key],
        othValue = other[key];

    if (customizer) {
      var compared = isPartial
        ? customizer(othValue, objValue, key, other, object, stack)
        : customizer(objValue, othValue, key, object, other, stack);
    }
    // Recursively compare objects (susceptible to call stack limits).
    if (!(compared === undefined
          ? (objValue === othValue || equalFunc(objValue, othValue, customizer, bitmask, stack))
          : compared
        )) {
      result = false;
      break;
    }
    skipCtor || (skipCtor = key == 'constructor');
  }
  if (result && !skipCtor) {
    var objCtor = object.constructor,
        othCtor = other.constructor;

    // Non `Object` object instances with different constructors are not equal.
    if (objCtor != othCtor &&
        ('constructor' in object && 'constructor' in other) &&
        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&
          typeof othCtor == 'function' && othCtor instanceof othCtor)) {
      result = false;
    }
  }
  stack['delete'](object);
  stack['delete'](other);
  return result;
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key)
    ? data[typeof key == 'string' ? 'string' : 'hash']
    : data.map;
}

/**
 * Gets the property names, values, and compare flags of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the match data of `object`.
 */
function getMatchData(object) {
  var result = keys(object),
      length = result.length;

  while (length--) {
    var key = result[length],
        value = object[key];

    result[length] = [key, value, isStrictComparable(value)];
  }
  return result;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Gets the `toStringTag` of `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
var getTag = baseGetTag;

// Fallback for data views, maps, sets, and weak maps in IE 11,
// for data views in Edge < 14, and promises in Node.js.
if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||
    (Map && getTag(new Map) != mapTag) ||
    (Promise && getTag(Promise.resolve()) != promiseTag) ||
    (Set && getTag(new Set) != setTag) ||
    (WeakMap && getTag(new WeakMap) != weakMapTag)) {
  getTag = function(value) {
    var result = objectToString.call(value),
        Ctor = result == objectTag ? value.constructor : undefined,
        ctorString = Ctor ? toSource(Ctor) : undefined;

    if (ctorString) {
      switch (ctorString) {
        case dataViewCtorString: return dataViewTag;
        case mapCtorString: return mapTag;
        case promiseCtorString: return promiseTag;
        case setCtorString: return setTag;
        case weakMapCtorString: return weakMapTag;
      }
    }
    return result;
  };
}

/**
 * Checks if `path` exists on `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Array|string} path The path to check.
 * @param {Function} hasFunc The function to check properties.
 * @returns {boolean} Returns `true` if `path` exists, else `false`.
 */
function hasPath(object, path, hasFunc) {
  path = isKey(path, object) ? [path] : castPath(path);

  var result,
      index = -1,
      length = path.length;

  while (++index < length) {
    var key = toKey(path[index]);
    if (!(result = object != null && hasFunc(object, key))) {
      break;
    }
    object = object[key];
  }
  if (result) {
    return result;
  }
  var length = object ? object.length : 0;
  return !!length && isLength(length) && isIndex(key, length) &&
    (isArray(object) || isArguments(object));
}

/**
 * Checks if `value` is a flattenable `arguments` object or array.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.
 */
function isFlattenable(value) {
  return isArray(value) || isArguments(value) ||
    !!(spreadableSymbol && value && value[spreadableSymbol]);
}

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  length = length == null ? MAX_SAFE_INTEGER : length;
  return !!length &&
    (typeof value == 'number' || reIsUint.test(value)) &&
    (value > -1 && value % 1 == 0 && value < length);
}

/**
 * Checks if the given arguments are from an iteratee call.
 *
 * @private
 * @param {*} value The potential iteratee value argument.
 * @param {*} index The potential iteratee index or key argument.
 * @param {*} object The potential iteratee object argument.
 * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
 *  else `false`.
 */
function isIterateeCall(value, index, object) {
  if (!isObject(object)) {
    return false;
  }
  var type = typeof index;
  if (type == 'number'
        ? (isArrayLike(object) && isIndex(index, object.length))
        : (type == 'string' && index in object)
      ) {
    return eq(object[index], value);
  }
  return false;
}

/**
 * Checks if `value` is a property name and not a property path.
 *
 * @private
 * @param {*} value The value to check.
 * @param {Object} [object] The object to query keys on.
 * @returns {boolean} Returns `true` if `value` is a property name, else `false`.
 */
function isKey(value, object) {
  if (isArray(value)) {
    return false;
  }
  var type = typeof value;
  if (type == 'number' || type == 'symbol' || type == 'boolean' ||
      value == null || isSymbol(value)) {
    return true;
  }
  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||
    (object != null && value in Object(object));
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value;
  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    ? (value !== '__proto__')
    : (value === null);
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Checks if `value` is likely a prototype object.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
 */
function isPrototype(value) {
  var Ctor = value && value.constructor,
      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

  return value === proto;
}

/**
 * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` if suitable for strict
 *  equality comparisons, else `false`.
 */
function isStrictComparable(value) {
  return value === value && !isObject(value);
}

/**
 * A specialized version of `matchesProperty` for source values suitable
 * for strict equality comparisons, i.e. `===`.
 *
 * @private
 * @param {string} key The key of the property to get.
 * @param {*} srcValue The value to match.
 * @returns {Function} Returns the new spec function.
 */
function matchesStrictComparable(key, srcValue) {
  return function(object) {
    if (object == null) {
      return false;
    }
    return object[key] === srcValue &&
      (srcValue !== undefined || (key in Object(object)));
  };
}

/**
 * Converts `string` to a property path array.
 *
 * @private
 * @param {string} string The string to convert.
 * @returns {Array} Returns the property path array.
 */
var stringToPath = memoize(function(string) {
  string = toString(string);

  var result = [];
  if (reLeadingDot.test(string)) {
    result.push('');
  }
  string.replace(rePropName, function(match, number, quote, string) {
    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));
  });
  return result;
});

/**
 * Converts `value` to a string key if it's not a string or symbol.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {string|symbol} Returns the key.
 */
function toKey(value) {
  if (typeof value == 'string' || isSymbol(value)) {
    return value;
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Creates an array of elements, sorted in ascending order by the results of
 * running each element in a collection thru each iteratee. This method
 * performs a stable sort, that is, it preserves the original sort order of
 * equal elements. The iteratees are invoked with one argument: (value).
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Collection
 * @param {Array|Object} collection The collection to iterate over.
 * @param {...(Function|Function[])} [iteratees=[_.identity]]
 *  The iteratees to sort by.
 * @returns {Array} Returns the new sorted array.
 * @example
 *
 * var users = [
 *   { 'user': 'fred',   'age': 48 },
 *   { 'user': 'barney', 'age': 36 },
 *   { 'user': 'fred',   'age': 40 },
 *   { 'user': 'barney', 'age': 34 }
 * ];
 *
 * _.sortBy(users, function(o) { return o.user; });
 * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]
 *
 * _.sortBy(users, ['user', 'age']);
 * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]
 *
 * _.sortBy(users, 'user', function(o) {
 *   return Math.floor(o.age / 10);
 * });
 * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]
 */
var sortBy = baseRest(function(collection, iteratees) {
  if (collection == null) {
    return [];
  }
  var length = iteratees.length;
  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {
    iteratees = [];
  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {
    iteratees = [iteratees[0]];
  }
  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);
});

/**
 * Creates a function that memoizes the result of `func`. If `resolver` is
 * provided, it determines the cache key for storing the result based on the
 * arguments provided to the memoized function. By default, the first argument
 * provided to the memoized function is used as the map cache key. The `func`
 * is invoked with the `this` binding of the memoized function.
 *
 * **Note:** The cache is exposed as the `cache` property on the memoized
 * function. Its creation may be customized by replacing the `_.memoize.Cache`
 * constructor with one whose instances implement the
 * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
 * method interface of `delete`, `get`, `has`, and `set`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to have its output memoized.
 * @param {Function} [resolver] The function to resolve the cache key.
 * @returns {Function} Returns the new memoized function.
 * @example
 *
 * var object = { 'a': 1, 'b': 2 };
 * var other = { 'c': 3, 'd': 4 };
 *
 * var values = _.memoize(_.values);
 * values(object);
 * // => [1, 2]
 *
 * values(other);
 * // => [3, 4]
 *
 * object.a = 2;
 * values(object);
 * // => [1, 2]
 *
 * // Modify the result cache.
 * values.cache.set(object, ['a', 'b']);
 * values(object);
 * // => ['a', 'b']
 *
 * // Replace `_.memoize.Cache`.
 * _.memoize.Cache = WeakMap;
 */
function memoize(func, resolver) {
  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  var memoized = function() {
    var args = arguments,
        key = resolver ? resolver.apply(this, args) : args[0],
        cache = memoized.cache;

    if (cache.has(key)) {
      return cache.get(key);
    }
    var result = func.apply(this, args);
    memoized.cache = cache.set(key, result);
    return result;
  };
  memoized.cache = new (memoize.Cache || MapCache);
  return memoized;
}

// Assign cache to `_.memoize`.
memoize.Cache = MapCache;

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */
function isArguments(value) {
  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&
    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);
}

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */
function isArrayLikeObject(value) {
  return isObjectLike(value) && isArrayLike(value);
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' &&
    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Checks if `value` is classified as a typed array.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 * @example
 *
 * _.isTypedArray(new Uint8Array);
 * // => true
 *
 * _.isTypedArray([]);
 * // => false
 */
var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;

/**
 * Converts `value` to a string. An empty string is returned for `null`
 * and `undefined` values. The sign of `-0` is preserved.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 * @example
 *
 * _.toString(null);
 * // => ''
 *
 * _.toString(-0);
 * // => '-0'
 *
 * _.toString([1, 2, 3]);
 * // => '1,2,3'
 */
function toString(value) {
  return value == null ? '' : baseToString(value);
}

/**
 * Gets the value at `path` of `object`. If the resolved value is
 * `undefined`, the `defaultValue` is returned in its place.
 *
 * @static
 * @memberOf _
 * @since 3.7.0
 * @category Object
 * @param {Object} object The object to query.
 * @param {Array|string} path The path of the property to get.
 * @param {*} [defaultValue] The value returned for `undefined` resolved values.
 * @returns {*} Returns the resolved value.
 * @example
 *
 * var object = { 'a': [{ 'b': { 'c': 3 } }] };
 *
 * _.get(object, 'a[0].b.c');
 * // => 3
 *
 * _.get(object, ['a', '0', 'b', 'c']);
 * // => 3
 *
 * _.get(object, 'a.b.c', 'default');
 * // => 'default'
 */
function get(object, path, defaultValue) {
  var result = object == null ? undefined : baseGet(object, path);
  return result === undefined ? defaultValue : result;
}

/**
 * Checks if `path` is a direct or inherited property of `object`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Object
 * @param {Object} object The object to query.
 * @param {Array|string} path The path to check.
 * @returns {boolean} Returns `true` if `path` exists, else `false`.
 * @example
 *
 * var object = _.create({ 'a': _.create({ 'b': 2 }) });
 *
 * _.hasIn(object, 'a');
 * // => true
 *
 * _.hasIn(object, 'a.b');
 * // => true
 *
 * _.hasIn(object, ['a', 'b']);
 * // => true
 *
 * _.hasIn(object, 'b');
 * // => false
 */
function hasIn(object, path) {
  return object != null && hasPath(object, path, baseHasIn);
}

/**
 * Creates an array of the own enumerable property names of `object`.
 *
 * **Note:** Non-object values are coerced to objects. See the
 * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
 * for more details.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Object
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.keys(new Foo);
 * // => ['a', 'b'] (iteration order is not guaranteed)
 *
 * _.keys('hi');
 * // => ['0', '1']
 */
function keys(object) {
  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);
}

/**
 * This method returns the first argument it receives.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Util
 * @param {*} value Any value.
 * @returns {*} Returns `value`.
 * @example
 *
 * var object = { 'a': 1 };
 *
 * console.log(_.identity(object) === object);
 * // => true
 */
function identity(value) {
  return value;
}

/**
 * Creates a function that returns the value at `path` of a given object.
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Util
 * @param {Array|string} path The path of the property to get.
 * @returns {Function} Returns the new accessor function.
 * @example
 *
 * var objects = [
 *   { 'a': { 'b': 2 } },
 *   { 'a': { 'b': 1 } }
 * ];
 *
 * _.map(objects, _.property('a.b'));
 * // => [2, 1]
 *
 * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');
 * // => [1, 2]
 */
function property(path) {
  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);
}

module.exports = sortBy;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./node_modules/match-sorter/dist/match-sorter.esm.js":
/*!************************************************************!*\
  !*** ./node_modules/match-sorter/dist/match-sorter.esm.js ***!
  \************************************************************/
/*! exports provided: defaultBaseSortFn, matchSorter, rankings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultBaseSortFn", function() { return defaultBaseSortFn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "matchSorter", function() { return matchSorter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rankings", function() { return rankings; });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var remove_accents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! remove-accents */ "./node_modules/remove-accents/index.js");
/* harmony import */ var remove_accents__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(remove_accents__WEBPACK_IMPORTED_MODULE_1__);



var rankings = {
  CASE_SENSITIVE_EQUAL: 7,
  EQUAL: 6,
  STARTS_WITH: 5,
  WORD_STARTS_WITH: 4,
  CONTAINS: 3,
  ACRONYM: 2,
  MATCHES: 1,
  NO_MATCH: 0
};
matchSorter.rankings = rankings;

var defaultBaseSortFn = function defaultBaseSortFn(a, b) {
  return String(a.rankedValue).localeCompare(String(b.rankedValue));
};
/**
 * Takes an array of items and a value and returns a new array with the items that match the given value
 * @param {Array} items - the items to sort
 * @param {String} value - the value to use for ranking
 * @param {Object} options - Some options to configure the sorter
 * @return {Array} - the new sorted array
 */


function matchSorter(items, value, options) {
  if (options === void 0) {
    options = {};
  }

  var _options = options,
      keys = _options.keys,
      _options$threshold = _options.threshold,
      threshold = _options$threshold === void 0 ? rankings.MATCHES : _options$threshold,
      _options$baseSort = _options.baseSort,
      baseSort = _options$baseSort === void 0 ? defaultBaseSortFn : _options$baseSort,
      _options$sorter = _options.sorter,
      sorter = _options$sorter === void 0 ? function (matchedItems) {
    return matchedItems.sort(function (a, b) {
      return sortRankedValues(a, b, baseSort);
    });
  } : _options$sorter;
  var matchedItems = items.reduce(reduceItemsToRanked, []);
  return sorter(matchedItems).map(function (_ref) {
    var item = _ref.item;
    return item;
  });

  function reduceItemsToRanked(matches, item, index) {
    var rankingInfo = getHighestRanking(item, keys, value, options);
    var rank = rankingInfo.rank,
        _rankingInfo$keyThres = rankingInfo.keyThreshold,
        keyThreshold = _rankingInfo$keyThres === void 0 ? threshold : _rankingInfo$keyThres;

    if (rank >= keyThreshold) {
      matches.push(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, rankingInfo, {
        item: item,
        index: index
      }));
    }

    return matches;
  }
}
/**
 * Gets the highest ranking for value for the given item based on its values for the given keys
 * @param {*} item - the item to rank
 * @param {Array} keys - the keys to get values from the item for the ranking
 * @param {String} value - the value to rank against
 * @param {Object} options - options to control the ranking
 * @return {{rank: Number, keyIndex: Number, keyThreshold: Number}} - the highest ranking
 */


function getHighestRanking(item, keys, value, options) {
  if (!keys) {
    // if keys is not specified, then we assume the item given is ready to be matched
    var stringItem = item;
    return {
      // ends up being duplicate of 'item' in matches but consistent
      rankedValue: stringItem,
      rank: getMatchRanking(stringItem, value, options),
      keyIndex: -1,
      keyThreshold: options.threshold
    };
  }

  var valuesToRank = getAllValuesToRank(item, keys);
  return valuesToRank.reduce(function (_ref2, _ref3, i) {
    var rank = _ref2.rank,
        rankedValue = _ref2.rankedValue,
        keyIndex = _ref2.keyIndex,
        keyThreshold = _ref2.keyThreshold;
    var itemValue = _ref3.itemValue,
        attributes = _ref3.attributes;
    var newRank = getMatchRanking(itemValue, value, options);
    var newRankedValue = rankedValue;
    var minRanking = attributes.minRanking,
        maxRanking = attributes.maxRanking,
        threshold = attributes.threshold;

    if (newRank < minRanking && newRank >= rankings.MATCHES) {
      newRank = minRanking;
    } else if (newRank > maxRanking) {
      newRank = maxRanking;
    }

    if (newRank > rank) {
      rank = newRank;
      keyIndex = i;
      keyThreshold = threshold;
      newRankedValue = itemValue;
    }

    return {
      rankedValue: newRankedValue,
      rank: rank,
      keyIndex: keyIndex,
      keyThreshold: keyThreshold
    };
  }, {
    rankedValue: item,
    rank: rankings.NO_MATCH,
    keyIndex: -1,
    keyThreshold: options.threshold
  });
}
/**
 * Gives a rankings score based on how well the two strings match.
 * @param {String} testString - the string to test against
 * @param {String} stringToRank - the string to rank
 * @param {Object} options - options for the match (like keepDiacritics for comparison)
 * @returns {Number} the ranking for how well stringToRank matches testString
 */


function getMatchRanking(testString, stringToRank, options) {
  testString = prepareValueForComparison(testString, options);
  stringToRank = prepareValueForComparison(stringToRank, options); // too long

  if (stringToRank.length > testString.length) {
    return rankings.NO_MATCH;
  } // case sensitive equals


  if (testString === stringToRank) {
    return rankings.CASE_SENSITIVE_EQUAL;
  } // Lower casing before further comparison


  testString = testString.toLowerCase();
  stringToRank = stringToRank.toLowerCase(); // case insensitive equals

  if (testString === stringToRank) {
    return rankings.EQUAL;
  } // starts with


  if (testString.startsWith(stringToRank)) {
    return rankings.STARTS_WITH;
  } // word starts with


  if (testString.includes(" " + stringToRank)) {
    return rankings.WORD_STARTS_WITH;
  } // contains


  if (testString.includes(stringToRank)) {
    return rankings.CONTAINS;
  } else if (stringToRank.length === 1) {
    // If the only character in the given stringToRank
    //   isn't even contained in the testString, then
    //   it's definitely not a match.
    return rankings.NO_MATCH;
  } // acronym


  if (getAcronym(testString).includes(stringToRank)) {
    return rankings.ACRONYM;
  } // will return a number between rankings.MATCHES and
  // rankings.MATCHES + 1 depending  on how close of a match it is.


  return getClosenessRanking(testString, stringToRank);
}
/**
 * Generates an acronym for a string.
 *
 * @param {String} string the string for which to produce the acronym
 * @returns {String} the acronym
 */


function getAcronym(string) {
  var acronym = '';
  var wordsInString = string.split(' ');
  wordsInString.forEach(function (wordInString) {
    var splitByHyphenWords = wordInString.split('-');
    splitByHyphenWords.forEach(function (splitByHyphenWord) {
      acronym += splitByHyphenWord.substr(0, 1);
    });
  });
  return acronym;
}
/**
 * Returns a score based on how spread apart the
 * characters from the stringToRank are within the testString.
 * A number close to rankings.MATCHES represents a loose match. A number close
 * to rankings.MATCHES + 1 represents a tighter match.
 * @param {String} testString - the string to test against
 * @param {String} stringToRank - the string to rank
 * @returns {Number} the number between rankings.MATCHES and
 * rankings.MATCHES + 1 for how well stringToRank matches testString
 */


function getClosenessRanking(testString, stringToRank) {
  var matchingInOrderCharCount = 0;
  var charNumber = 0;

  function findMatchingCharacter(matchChar, string, index) {
    for (var j = index, J = string.length; j < J; j++) {
      var stringChar = string[j];

      if (stringChar === matchChar) {
        matchingInOrderCharCount += 1;
        return j + 1;
      }
    }

    return -1;
  }

  function getRanking(spread) {
    var spreadPercentage = 1 / spread;
    var inOrderPercentage = matchingInOrderCharCount / stringToRank.length;
    var ranking = rankings.MATCHES + inOrderPercentage * spreadPercentage;
    return ranking;
  }

  var firstIndex = findMatchingCharacter(stringToRank[0], testString, 0);

  if (firstIndex < 0) {
    return rankings.NO_MATCH;
  }

  charNumber = firstIndex;

  for (var i = 1, I = stringToRank.length; i < I; i++) {
    var matchChar = stringToRank[i];
    charNumber = findMatchingCharacter(matchChar, testString, charNumber);
    var found = charNumber > -1;

    if (!found) {
      return rankings.NO_MATCH;
    }
  }

  var spread = charNumber - firstIndex;
  return getRanking(spread);
}
/**
 * Sorts items that have a rank, index, and keyIndex
 * @param {Object} a - the first item to sort
 * @param {Object} b - the second item to sort
 * @return {Number} -1 if a should come first, 1 if b should come first, 0 if equal
 */


function sortRankedValues(a, b, baseSort) {
  var aFirst = -1;
  var bFirst = 1;
  var aRank = a.rank,
      aKeyIndex = a.keyIndex;
  var bRank = b.rank,
      bKeyIndex = b.keyIndex;
  var same = aRank === bRank;

  if (same) {
    if (aKeyIndex === bKeyIndex) {
      // use the base sort function as a tie-breaker
      return baseSort(a, b);
    } else {
      return aKeyIndex < bKeyIndex ? aFirst : bFirst;
    }
  } else {
    return aRank > bRank ? aFirst : bFirst;
  }
}
/**
 * Prepares value for comparison by stringifying it, removing diacritics (if specified)
 * @param {String} value - the value to clean
 * @param {Object} options - {keepDiacritics: whether to remove diacritics}
 * @return {String} the prepared value
 */


function prepareValueForComparison(value, _ref4) {
  var keepDiacritics = _ref4.keepDiacritics;
  // value might not actually be a string at this point (we don't get to choose)
  // so part of preparing the value for comparison is ensure that it is a string
  value = "" + value; // toString

  if (!keepDiacritics) {
    value = remove_accents__WEBPACK_IMPORTED_MODULE_1___default()(value);
  }

  return value;
}
/**
 * Gets value for key in item at arbitrarily nested keypath
 * @param {Object} item - the item
 * @param {Object|Function} key - the potentially nested keypath or property callback
 * @return {Array} - an array containing the value(s) at the nested keypath
 */


function getItemValues(item, key) {
  if (typeof key === 'object') {
    key = key.key;
  }

  var value;

  if (typeof key === 'function') {
    value = key(item);
  } else if (item == null) {
    value = null;
  } else if (Object.hasOwnProperty.call(item, key)) {
    value = item[key];
  } else if (key.includes('.')) {
    // eslint-disable-next-line @typescript-eslint/no-unsafe-call
    return getNestedValues(key, item);
  } else {
    value = null;
  } // because `value` can also be undefined


  if (value == null) {
    return [];
  }

  if (Array.isArray(value)) {
    return value;
  }

  return [String(value)];
}
/**
 * Given path: "foo.bar.baz"
 * And item: {foo: {bar: {baz: 'buzz'}}}
 *   -> 'buzz'
 * @param path a dot-separated set of keys
 * @param item the item to get the value from
 */


function getNestedValues(path, item) {
  var keys = path.split('.');
  var values = [item];

  for (var i = 0, I = keys.length; i < I; i++) {
    var nestedKey = keys[i];
    var nestedValues = [];

    for (var j = 0, J = values.length; j < J; j++) {
      var nestedItem = values[j];
      if (nestedItem == null) continue;

      if (Object.hasOwnProperty.call(nestedItem, nestedKey)) {
        var nestedValue = nestedItem[nestedKey];

        if (nestedValue != null) {
          nestedValues.push(nestedValue);
        }
      } else if (nestedKey === '*') {
        // ensure that values is an array
        nestedValues = nestedValues.concat(nestedItem);
      }
    }

    values = nestedValues;
  }

  if (Array.isArray(values[0])) {
    // keep allowing the implicit wildcard for an array of strings at the end of
    // the path; don't use `.flat()` because that's not available in node.js v10
    var result = [];
    return result.concat.apply(result, values);
  } // Based on our logic it should be an array of strings by now...
  // assuming the user's path terminated in strings


  return values;
}
/**
 * Gets all the values for the given keys in the given item and returns an array of those values
 * @param item - the item from which the values will be retrieved
 * @param keys - the keys to use to retrieve the values
 * @return objects with {itemValue, attributes}
 */


function getAllValuesToRank(item, keys) {
  var allValues = [];

  for (var j = 0, J = keys.length; j < J; j++) {
    var key = keys[j];
    var attributes = getKeyAttributes(key);
    var itemValues = getItemValues(item, key);

    for (var i = 0, I = itemValues.length; i < I; i++) {
      allValues.push({
        itemValue: itemValues[i],
        attributes: attributes
      });
    }
  }

  return allValues;
}

var defaultKeyAttributes = {
  maxRanking: Infinity,
  minRanking: -Infinity
};
/**
 * Gets all the attributes for the given key
 * @param key - the key from which the attributes will be retrieved
 * @return object containing the key's attributes
 */

function getKeyAttributes(key) {
  if (typeof key === 'string') {
    return defaultKeyAttributes;
  }

  return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, defaultKeyAttributes, key);
}
/*
eslint
  no-continue: "off",
*/




/***/ }),

/***/ "./node_modules/memoize-one/dist/memoize-one.esm.js":
/*!**********************************************************!*\
  !*** ./node_modules/memoize-one/dist/memoize-one.esm.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var safeIsNaN = Number.isNaN ||
    function ponyfill(value) {
        return typeof value === 'number' && value !== value;
    };
function isEqual(first, second) {
    if (first === second) {
        return true;
    }
    if (safeIsNaN(first) && safeIsNaN(second)) {
        return true;
    }
    return false;
}
function areInputsEqual(newInputs, lastInputs) {
    if (newInputs.length !== lastInputs.length) {
        return false;
    }
    for (var i = 0; i < newInputs.length; i++) {
        if (!isEqual(newInputs[i], lastInputs[i])) {
            return false;
        }
    }
    return true;
}

function memoizeOne(resultFn, isEqual) {
    if (isEqual === void 0) { isEqual = areInputsEqual; }
    var lastThis;
    var lastArgs = [];
    var lastResult;
    var calledOnce = false;
    function memoized() {
        var newArgs = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            newArgs[_i] = arguments[_i];
        }
        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {
            return lastResult;
        }
        lastResult = resultFn.apply(this, newArgs);
        calledOnce = true;
        lastThis = this;
        lastArgs = newArgs;
        return lastResult;
    }
    return memoized;
}

/* harmony default export */ __webpack_exports__["default"] = (memoizeOne);


/***/ }),

/***/ "./node_modules/plyr/dist/plyr.css":
/*!*****************************************!*\
  !*** ./node_modules/plyr/dist/plyr.css ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var api = __webpack_require__(/*! ../../style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
            var content = __webpack_require__(/*! !../../css-loader/dist/cjs.js!./plyr.css */ "./node_modules/css-loader/dist/cjs.js!./node_modules/plyr/dist/plyr.css");

            content = content.__esModule ? content.default : content;

            if (typeof content === 'string') {
              content = [[module.i, content, '']];
            }

var options = {};

options.insert = "head";
options.singleton = false;

var update = api(content, options);



module.exports = content.locals || {};

/***/ }),

/***/ "./node_modules/plyr/dist/plyr.min.js":
/*!********************************************!*\
  !*** ./node_modules/plyr/dist/plyr.min.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {"object"==typeof navigator&&function(e,t){ true?module.exports=t():undefined}(this,(function(){"use strict";function e(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function t(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a={addCSS:!0,thumbWidth:15,watch:!0};function l(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}var o=function(e){return null!=e?e.constructor:null},r=function(e,t){return!!(e&&t&&e instanceof t)},c=function(e){return null==e},h=function(e){return o(e)===Object},u=function(e){return o(e)===String},d=function(e){return Array.isArray(e)},m=function(e){return r(e,NodeList)},p=u,g=d,f=m,b=function(e){return r(e,Element)},y=function(e){return r(e,Event)},v=function(e){return c(e)||(u(e)||d(e)||m(e))&&!e.length||h(e)&&!Object.keys(e).length};function w(e,t){if(1>t){var i=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(i))}return Math.round(e/t)*t}var T=function(){function e(t,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),b(t)?this.element=t:p(t)&&(this.element=document.querySelector(t)),b(this.element)&&v(this.element.rangeTouch)&&(this.config=n({},a,{},i),this.init())}return function(e,i,s){i&&t(e.prototype,i),s&&t(e,s)}(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,i=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[i](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!y(t))return null;var i,s=t.target,n=t.changedTouches[0],a=parseFloat(s.getAttribute("min"))||0,l=parseFloat(s.getAttribute("max"))||100,o=parseFloat(s.getAttribute("step"))||1,r=s.getBoundingClientRect(),c=100/r.width*(this.config.thumbWidth/2)/100;return 0>(i=100/r.width*(n.clientX-r.left))?i=0:100<i&&(i=100),50>i?i-=(100-2*i)*c:50<i&&(i+=2*(i-50)*c),a+w(i/100*(l-a),o)}},{key:"set",value:function(t){e.enabled&&y(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),function(e,t){if(e&&t){var i=new Event(t,{bubbles:!0});e.dispatchEvent(i)}}(t.target,"touchend"===t.type?"change":"input"))}}],[{key:"setup",value:function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=null;if(v(t)||p(t)?s=Array.from(document.querySelectorAll(p(t)?t:'input[type="range"]')):b(t)?s=[t]:f(t)?s=Array.from(t):g(t)&&(s=t.filter(b)),v(s))return null;var o=n({},a,{},i);if(p(t)&&o.watch){var r=new MutationObserver((function(i){Array.from(i).forEach((function(i){Array.from(i.addedNodes).forEach((function(i){b(i)&&l(i,t)&&new e(i,o)}))}))}));r.observe(document.body,{childList:!0,subtree:!0})}return s.map((function(t){return new e(t,i)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}();const k=e=>null!=e?e.constructor:null,C=(e,t)=>Boolean(e&&t&&e instanceof t),A=e=>null==e,S=e=>k(e)===Object,E=e=>k(e)===String,P=e=>k(e)===Function,N=e=>Array.isArray(e),M=e=>C(e,NodeList),x=e=>A(e)||(E(e)||N(e)||M(e))&&!e.length||S(e)&&!Object.keys(e).length;var I=A,L=S,$=e=>k(e)===Number&&!Number.isNaN(e),_=E,O=e=>k(e)===Boolean,q=P,j=N,D=M,H=e=>null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument,F=e=>C(e,Event),R=e=>C(e,KeyboardEvent),V=e=>C(e,TextTrack)||!A(e)&&E(e.kind),B=e=>C(e,Promise)&&P(e.then),U=e=>{if(C(e,window.URL))return!0;if(!E(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!x(new URL(t).hostname)}catch(e){return!1}},W=x;const z=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i=Object.keys(t).find((t=>void 0!==e.style[t]));return!!_(i)&&t[i]})();function K(e,t){setTimeout((()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}}),t)}const Y={isIE:Boolean(window.document.documentMode),isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function Q(e,t){return t.split(".").reduce(((e,t)=>e&&e[t]),e)}function X(e={},...t){if(!t.length)return e;const i=t.shift();return L(i)?(Object.keys(i).forEach((t=>{L(i[t])?(Object.keys(e).includes(t)||Object.assign(e,{[t]:{}}),X(e[t],i[t])):Object.assign(e,{[t]:i[t]})})),X(e,...t)):e}function J(e,t){const i=e.length?e:[e];Array.from(i).reverse().forEach(((e,i)=>{const s=i>0?t.cloneNode(!0):t,n=e.parentNode,a=e.nextSibling;s.appendChild(e),a?n.insertBefore(s,a):n.appendChild(s)}))}function G(e,t){H(e)&&!W(t)&&Object.entries(t).filter((([,e])=>!I(e))).forEach((([t,i])=>e.setAttribute(t,i)))}function Z(e,t,i){const s=document.createElement(e);return L(t)&&G(s,t),_(i)&&(s.innerText=i),s}function ee(e,t,i,s){H(t)&&t.appendChild(Z(e,i,s))}function te(e){D(e)||j(e)?Array.from(e).forEach(te):H(e)&&H(e.parentNode)&&e.parentNode.removeChild(e)}function ie(e){if(!H(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function se(e,t){return H(t)&&H(t.parentNode)&&H(e)?(t.parentNode.replaceChild(e,t),e):null}function ne(e,t){if(!_(e)||W(e))return{};const i={},s=X({},t);return e.split(",").forEach((e=>{const t=e.trim(),n=t.replace(".",""),a=t.replace(/[[\]]/g,"").split("="),[l]=a,o=a.length>1?a[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":_(s.class)?i.class=`${s.class} ${n}`:i.class=n;break;case"#":i.id=t.replace("#","");break;case"[":i[l]=o}})),X(s,i)}function ae(e,t){if(!H(e))return;let i=t;O(i)||(i=!e.hidden),e.hidden=i}function le(e,t,i){if(D(e))return Array.from(e).map((e=>le(e,t,i)));if(H(e)){let s="toggle";return void 0!==i&&(s=i?"add":"remove"),e.classList[s](t),e.classList.contains(t)}return!1}function oe(e,t){return H(e)&&e.classList.contains(t)}function re(e,t){const{prototype:i}=Element;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function ce(e){return this.elements.container.querySelectorAll(e)}function he(e){return this.elements.container.querySelector(e)}function ue(e=null,t=!1){H(e)&&(e.focus({preventScroll:!0}),t&&le(e,this.config.classNames.tabFocus))}const de={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},me={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t,i){const s=Y.isIPhone&&i&&me.playsinline,n=me[e]||"html5"!==t;return{api:n,ui:n&&me.rangeInput&&("video"!==e||!Y.isIPhone||s)}},pip:!(Y.isIPhone||!q(Z("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||Z("video").disablePictureInPicture)),airplay:q(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(W(e))return!1;const[t]=e.split("/");let i=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(de).includes(i)&&(i+=`; codecs="${de[e]}"`);try{return Boolean(i&&this.media.canPlayType(i).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range","range"===e.type})(),touch:"ontouchstart"in document.documentElement,transitions:!1!==z,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},pe=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e})();function ge(e,t,i,s=!1,n=!0,a=!1){if(!e||!("addEventListener"in e)||W(t)||!q(i))return;const l=t.split(" ");let o=a;pe&&(o={passive:n,capture:a}),l.forEach((t=>{this&&this.eventListeners&&s&&this.eventListeners.push({element:e,type:t,callback:i,options:o}),e[s?"addEventListener":"removeEventListener"](t,i,o)}))}function fe(e,t="",i,s=!0,n=!1){ge.call(this,e,t,i,!0,s,n)}function be(e,t="",i,s=!0,n=!1){ge.call(this,e,t,i,!1,s,n)}function ye(e,t="",i,s=!0,n=!1){const a=(...l)=>{be(e,t,a,s,n),i.apply(this,l)};ge.call(this,e,t,a,!0,s,n)}function ve(e,t="",i=!1,s={}){if(!H(e)||W(t))return;const n=new CustomEvent(t,{bubbles:i,detail:{...s,plyr:this}});e.dispatchEvent(n)}function we(){this&&this.eventListeners&&(this.eventListeners.forEach((e=>{const{element:t,type:i,callback:s,options:n}=e;t.removeEventListener(i,s,n)})),this.eventListeners=[])}function Te(){return new Promise((e=>this.ready?setTimeout(e,0):fe.call(this,this.elements.container,"ready",e))).then((()=>{}))}function ke(e){B(e)&&e.then(null,(()=>{}))}function Ce(e){return j(e)?e.filter(((t,i)=>e.indexOf(t)===i)):e}function Ae(e,t){return j(e)&&e.length?e.reduce(((e,i)=>Math.abs(i-t)<Math.abs(e-t)?i:e)):null}const Se=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce(((e,[t,i])=>({...e,[t/i]:[t,i]})),{});function Ee(e){if(!(j(e)||_(e)&&e.includes(":")))return!1;return(j(e)?e:e.split(":")).map(Number).every($)}function Pe(e){if(!j(e)||!e.every($))return null;const[t,i]=e,s=(e,t)=>0===t?e:s(t,e%t),n=s(t,i);return[t/n,i/n]}function Ne(e){const t=e=>Ee(e)?e.split(":").map(Number):null;let i=t(e);if(null===i&&(i=t(this.config.ratio)),null===i&&!W(this.embed)&&j(this.embed.ratio)&&({ratio:i}=this.embed),null===i&&this.isHTML5){const{videoWidth:e,videoHeight:t}=this.media;i=Pe([e,t])}return i}function Me(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,i=Ne.call(this,e);if(!j(i))return{};const[s,n]=i,a=100/s*n;if(!!window.CSS&&window.CSS.supports(`aspect-ratio: ${s}/${n}`)?t.style.aspectRatio=`${s}/${n}`:t.style.paddingBottom=`${a}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const e=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),i=(e-a)/(e/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${i}%)`}else this.isHTML5&&t.classList.toggle(this.config.classNames.videoFixedRatio,null!==i);return{padding:a,ratio:i}}function xe(e,t,i=.05){const s=e/t,n=Ae(Object.keys(Se),s);return Math.abs(n-s)<=i?Se[n]:[e,t]}const Ie={getSources(){if(!this.isHTML5)return[];return Array.from(this.media.querySelectorAll("source")).filter((e=>{const t=e.getAttribute("type");return!!W(t)||me.mime.call(this,t)}))},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:Ie.getSources.call(this).map((e=>Number(e.getAttribute("size")))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,W(this.config.ratio)||Me.call(e),Object.defineProperty(e.media,"quality",{get(){const t=Ie.getSources.call(e).find((t=>t.getAttribute("src")===e.source));return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&q(e.config.quality.onChange))e.config.quality.onChange(t);else{const i=Ie.getSources.call(e).find((e=>Number(e.getAttribute("size"))===t));if(!i)return;const{currentTime:s,paused:n,preload:a,readyState:l,playbackRate:o}=e.media;e.media.src=i.getAttribute("src"),("none"!==a||l)&&(e.once("loadedmetadata",(()=>{e.speed=o,e.currentTime=s,n||ke(e.play())})),e.media.load())}ve.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(te(Ie.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function Le(e,...t){return W(e)?e:e.toString().replace(/{(\d+)}/g,((e,i)=>t[i].toString()))}const $e=(e="",t="",i="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),i.toString()),_e=(e="")=>e.toString().replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()));function Oe(e=""){let t=e.toString();return t=function(e=""){let t=e.toString();return t=$e(t,"-"," "),t=$e(t,"_"," "),t=_e(t),$e(t," ","")}(t),t.charAt(0).toLowerCase()+t.slice(1)}function qe(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const je={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},De={get(e="",t={}){if(W(e)||W(t))return"";let i=Q(t.i18n,e);if(W(i))return Object.keys(je).includes(e)?je[e]:"";const s={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(s).forEach((([e,t])=>{i=$e(i,e,t)})),i}};class He{constructor(t){e(this,"get",(e=>{if(!He.supported||!this.enabled)return null;const t=window.localStorage.getItem(this.key);if(W(t))return null;const i=JSON.parse(t);return _(e)&&e.length?i[e]:i})),e(this,"set",(e=>{if(!He.supported||!this.enabled)return;if(!L(e))return;let t=this.get();W(t)&&(t={}),X(t,e),window.localStorage.setItem(this.key,JSON.stringify(t))})),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}}function Fe(e,t="text"){return new Promise(((i,s)=>{try{const s=new XMLHttpRequest;if(!("withCredentials"in s))return;s.addEventListener("load",(()=>{if("text"===t)try{i(JSON.parse(s.responseText))}catch(e){i(s.responseText)}else i(s.response)})),s.addEventListener("error",(()=>{throw new Error(s.status)})),s.open("GET",e,!0),s.responseType=t,s.send()}catch(e){s(e)}}))}function Re(e,t){if(!_(e))return;const i=_(t);let s=!1;const n=()=>null!==document.getElementById(t),a=(e,t)=>{e.innerHTML=t,i&&n()||document.body.insertAdjacentElement("afterbegin",e)};if(!i||!n()){const n=He.supported,l=document.createElement("div");if(l.setAttribute("hidden",""),i&&l.setAttribute("id",t),n){const e=window.localStorage.getItem(`cache-${t}`);if(s=null!==e,s){const t=JSON.parse(e);a(l,t.content)}}Fe(e).then((e=>{W(e)||(n&&window.localStorage.setItem(`cache-${t}`,JSON.stringify({content:e})),a(l,e))})).catch((()=>{}))}}const Ve=e=>Math.trunc(e/60/60%60,10);function Be(e=0,t=!1,i=!1){if(!$(e))return Be(void 0,t,i);const s=e=>`0${e}`.slice(-2);let n=Ve(e);const a=(l=e,Math.trunc(l/60%60,10));var l;const o=(e=>Math.trunc(e%60,10))(e);return n=t||n>0?`${n}:`:"",`${i&&e>0?"-":""}${n}${s(a)}:${s(o)}`}const Ue={getIconUrl(){const e=new URL(this.config.iconUrl,window.location).host!==window.location.host||Y.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:e}},findElements(){try{return this.elements.controls=he.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:ce.call(this,this.config.selectors.buttons.play),pause:he.call(this,this.config.selectors.buttons.pause),restart:he.call(this,this.config.selectors.buttons.restart),rewind:he.call(this,this.config.selectors.buttons.rewind),fastForward:he.call(this,this.config.selectors.buttons.fastForward),mute:he.call(this,this.config.selectors.buttons.mute),pip:he.call(this,this.config.selectors.buttons.pip),airplay:he.call(this,this.config.selectors.buttons.airplay),settings:he.call(this,this.config.selectors.buttons.settings),captions:he.call(this,this.config.selectors.buttons.captions),fullscreen:he.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=he.call(this,this.config.selectors.progress),this.elements.inputs={seek:he.call(this,this.config.selectors.inputs.seek),volume:he.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:he.call(this,this.config.selectors.display.buffer),currentTime:he.call(this,this.config.selectors.display.currentTime),duration:he.call(this,this.config.selectors.display.duration)},H(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const i="http://www.w3.org/2000/svg",s=Ue.getIconUrl.call(this),n=`${s.cors?"":s.url}#${this.config.iconPrefix}`,a=document.createElementNS(i,"svg");G(a,X(t,{"aria-hidden":"true",focusable:"false"}));const l=document.createElementNS(i,"use"),o=`${n}-${e}`;return"href"in l&&l.setAttributeNS("http://www.w3.org/1999/xlink","href",o),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o),a.appendChild(l),a},createLabel(e,t={}){const i=De.get(e,this.config);return Z("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},i)},createBadge(e){if(W(e))return null;const t=Z("span",{class:this.config.classNames.menu.value});return t.appendChild(Z("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const i=X({},t);let s=Oe(e);const n={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((e=>{Object.keys(i).includes(e)&&(n[e]=i[e],delete i[e])})),"button"!==n.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some((e=>e===this.config.classNames.control))||X(i,{class:`${i.class} ${this.config.classNames.control}`}):i.class=this.config.classNames.control,e){case"play":n.toggle=!0,n.label="play",n.labelPressed="pause",n.icon="play",n.iconPressed="pause";break;case"mute":n.toggle=!0,n.label="mute",n.labelPressed="unmute",n.icon="volume",n.iconPressed="muted";break;case"captions":n.toggle=!0,n.label="enableCaptions",n.labelPressed="disableCaptions",n.icon="captions-off",n.iconPressed="captions-on";break;case"fullscreen":n.toggle=!0,n.label="enterFullscreen",n.labelPressed="exitFullscreen",n.icon="enter-fullscreen",n.iconPressed="exit-fullscreen";break;case"play-large":i.class+=` ${this.config.classNames.control}--overlaid`,s="play",n.label="play",n.icon="play";break;default:W(n.label)&&(n.label=s),W(n.icon)&&(n.icon=e)}const a=Z(n.element);return n.toggle?(a.appendChild(Ue.createIcon.call(this,n.iconPressed,{class:"icon--pressed"})),a.appendChild(Ue.createIcon.call(this,n.icon,{class:"icon--not-pressed"})),a.appendChild(Ue.createLabel.call(this,n.labelPressed,{class:"label--pressed"})),a.appendChild(Ue.createLabel.call(this,n.label,{class:"label--not-pressed"}))):(a.appendChild(Ue.createIcon.call(this,n.icon)),a.appendChild(Ue.createLabel.call(this,n.label))),X(i,ne(this.config.selectors.buttons[s],i)),G(a,i),"play"===s?(j(this.elements.buttons[s])||(this.elements.buttons[s]=[]),this.elements.buttons[s].push(a)):this.elements.buttons[s]=a,a},createRange(e,t){const i=Z("input",X(ne(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":De.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=i,Ue.updateRangeFill.call(this,i),T.setup(i),i},createProgress(e,t){const i=Z("progress",X(ne(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){i.appendChild(Z("span",null,"0"));const t={played:"played",buffer:"buffered"}[e],s=t?De.get(t,this.config):"";i.innerText=`% ${s.toLowerCase()}`}return this.elements.display[e]=i,i},createTime(e,t){const i=ne(this.config.selectors.display[e],t),s=Z("div",X(i,{class:`${i.class?i.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":De.get(e,this.config)}),"00:00");return this.elements.display[e]=s,s},bindMenuItemShortcuts(e,t){fe.call(this,e,"keydown keyup",(i=>{if(![32,38,39,40].includes(i.which))return;if(i.preventDefault(),i.stopPropagation(),"keydown"===i.type)return;const s=re(e,'[role="menuitemradio"]');if(!s&&[32,39].includes(i.which))Ue.showMenuPanel.call(this,t,!0);else{let t;32!==i.which&&(40===i.which||s&&39===i.which?(t=e.nextElementSibling,H(t)||(t=e.parentNode.firstElementChild)):(t=e.previousElementSibling,H(t)||(t=e.parentNode.lastElementChild)),ue.call(this,t,!0))}}),!1),fe.call(this,e,"keyup",(e=>{13===e.which&&Ue.focusFirstMenuItem.call(this,null,!0)}))},createMenuItem({value:e,list:t,type:i,title:s,badge:n=null,checked:a=!1}){const l=ne(this.config.selectors.inputs[i]),o=Z("button",X(l,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${l.class?l.class:""}`.trim(),"aria-checked":a,value:e})),r=Z("span");r.innerHTML=s,H(n)&&r.appendChild(n),o.appendChild(r),Object.defineProperty(o,"checked",{enumerable:!0,get:()=>"true"===o.getAttribute("aria-checked"),set(e){e&&Array.from(o.parentNode.children).filter((e=>re(e,'[role="menuitemradio"]'))).forEach((e=>e.setAttribute("aria-checked","false"))),o.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(o,"click keyup",(t=>{if(!R(t)||32===t.which){switch(t.preventDefault(),t.stopPropagation(),o.checked=!0,i){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}Ue.showMenuPanel.call(this,"home",R(t))}}),i,!1),Ue.bindMenuItemShortcuts.call(this,o,i),t.appendChild(o)},formatTime(e=0,t=!1){if(!$(e))return e;return Be(e,Ve(this.duration)>0,t)},updateTimeDisplay(e=null,t=0,i=!1){H(e)&&$(t)&&(e.innerText=Ue.formatTime(t,i))},updateVolume(){this.supported.ui&&(H(this.elements.inputs.volume)&&Ue.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),H(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange(e,t=0){H(e)&&(e.value=t,Ue.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!F(e))return;let t=0;const i=(e,t)=>{const i=$(t)?t:0,s=H(e)?e:this.elements.display.buffer;if(H(s)){s.value=i;const e=s.getElementsByTagName("span")[0];H(e)&&(e.childNodes[0].nodeValue=i)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":s=this.currentTime,n=this.duration,t=0===s||0===n||Number.isNaN(s)||Number.isNaN(n)?0:(s/n*100).toFixed(2),"timeupdate"===e.type&&Ue.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":i(this.elements.display.buffer,100*this.buffered)}var s,n},updateRangeFill(e){const t=F(e)?e.target:e;if(H(t)&&"range"===t.getAttribute("type")){if(re(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const e=Ue.formatTime(this.currentTime),i=Ue.formatTime(this.duration),s=De.get("seekLabel",this.config);t.setAttribute("aria-valuetext",s.replace("{currentTime}",e).replace("{duration}",i))}else if(re(t,this.config.selectors.inputs.volume)){const e=100*t.value;t.setAttribute("aria-valuenow",e),t.setAttribute("aria-valuetext",`${e.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);Y.isWebkit&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){if(!this.config.tooltips.seek||!H(this.elements.inputs.seek)||!H(this.elements.display.seekTooltip)||0===this.duration)return;const t=`${this.config.classNames.tooltip}--visible`,i=e=>le(this.elements.display.seekTooltip,t,e);if(this.touch)return void i(!1);let s=0;const n=this.elements.progress.getBoundingClientRect();if(F(e))s=100/n.width*(e.pageX-n.left);else{if(!oe(this.elements.display.seekTooltip,t))return;s=parseFloat(this.elements.display.seekTooltip.style.left,10)}s<0?s=0:s>100&&(s=100),Ue.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*s),this.elements.display.seekTooltip.style.left=`${s}%`,F(e)&&["mouseenter","mouseleave"].includes(e.type)&&i("mouseenter"===e.type)},timeUpdate(e){const t=!H(this.elements.display.duration)&&this.config.invertTime;Ue.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||Ue.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return ae(this.elements.display.currentTime,!0),void ae(this.elements.progress,!0);H(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=H(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Ue.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Ue.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),Ue.updateSeekTooltip.call(this)},toggleMenuButton(e,t){ae(this.elements.settings.buttons[e],!t)},updateSetting(e,t,i){const s=this.elements.settings.panels[e];let n=null,a=t;if("captions"===e)n=this.currentTrack;else{if(n=W(i)?this[e]:i,W(n)&&(n=this.config[e].default),!W(this.options[e])&&!this.options[e].includes(n))return void this.debug.warn(`Unsupported value of '${n}' for ${e}`);if(!this.config[e].options.includes(n))return void this.debug.warn(`Disabled value of '${n}' for ${e}`)}if(H(a)||(a=s&&s.querySelector('[role="menu"]')),!H(a))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=Ue.getLabel.call(this,e,n);const l=a&&a.querySelector(`[value="${n}"]`);H(l)&&(l.checked=!0)},getLabel(e,t){switch(e){case"speed":return 1===t?De.get("normal",this.config):`${t}&times;`;case"quality":if($(t)){const e=De.get(`qualityLabel.${t}`,this.config);return e.length?e:`${t}p`}return _e(t);case"captions":return Ke.getLabel.call(this);default:return null}},setQualityMenu(e){if(!H(this.elements.settings.panels.quality))return;const t="quality",i=this.elements.settings.panels.quality.querySelector('[role="menu"]');j(e)&&(this.options.quality=Ce(e).filter((e=>this.config.quality.options.includes(e))));const s=!W(this.options.quality)&&this.options.quality.length>1;if(Ue.toggleMenuButton.call(this,t,s),ie(i),Ue.checkMenu.call(this),!s)return;const n=e=>{const t=De.get(`qualityBadge.${e}`,this.config);return t.length?Ue.createBadge.call(this,t):null};this.options.quality.sort(((e,t)=>{const i=this.config.quality.options;return i.indexOf(e)>i.indexOf(t)?1:-1})).forEach((e=>{Ue.createMenuItem.call(this,{value:e,list:i,type:t,title:Ue.getLabel.call(this,"quality",e),badge:n(e)})})),Ue.updateSetting.call(this,t,i)},setCaptionsMenu(){if(!H(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=Ke.getTracks.call(this),s=Boolean(i.length);if(Ue.toggleMenuButton.call(this,e,s),ie(t),Ue.checkMenu.call(this),!s)return;const n=i.map(((e,i)=>({value:i,checked:this.captions.toggled&&this.currentTrack===i,title:Ke.getLabel.call(this,e),badge:e.language&&Ue.createBadge.call(this,e.language.toUpperCase()),list:t,type:"language"})));n.unshift({value:-1,checked:!this.captions.toggled,title:De.get("disabled",this.config),list:t,type:"language"}),n.forEach(Ue.createMenuItem.bind(this)),Ue.updateSetting.call(this,e,t)},setSpeedMenu(){if(!H(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((e=>e>=this.minimumSpeed&&e<=this.maximumSpeed));const i=!W(this.options.speed)&&this.options.speed.length>1;Ue.toggleMenuButton.call(this,e,i),ie(t),Ue.checkMenu.call(this),i&&(this.options.speed.forEach((i=>{Ue.createMenuItem.call(this,{value:i,list:t,type:e,title:Ue.getLabel.call(this,"speed",i)})})),Ue.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!W(e)&&Object.values(e).some((e=>!e.hidden));ae(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let i=e;H(i)||(i=Object.values(this.elements.settings.panels).find((e=>!e.hidden)));const s=i.querySelector('[role^="menuitem"]');ue.call(this,s,t)},toggleMenu(e){const{popup:t}=this.elements.settings,i=this.elements.buttons.settings;if(!H(t)||!H(i))return;const{hidden:s}=t;let n=s;if(O(e))n=e;else if(R(e)&&27===e.which)n=!1;else if(F(e)){const s=q(e.composedPath)?e.composedPath()[0]:e.target,a=t.contains(s);if(a||!a&&e.target!==i&&n)return}i.setAttribute("aria-expanded",n),ae(t,!n),le(this.elements.container,this.config.classNames.menu.open,n),n&&R(e)?Ue.focusFirstMenuItem.call(this,null,!0):n||s||ue.call(this,i,R(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const i=t.scrollWidth,s=t.scrollHeight;return te(t),{width:i,height:s}},showMenuPanel(e="",t=!1){const i=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!H(i))return;const s=i.parentNode,n=Array.from(s.children).find((e=>!e.hidden));if(me.transitions&&!me.reducedMotion){s.style.width=`${n.scrollWidth}px`,s.style.height=`${n.scrollHeight}px`;const e=Ue.getMenuSize.call(this,i),t=e=>{e.target===s&&["width","height"].includes(e.propertyName)&&(s.style.width="",s.style.height="",be.call(this,s,z,t))};fe.call(this,s,z,t),s.style.width=`${e.width}px`,s.style.height=`${e.height}px`}ae(n,!0),ae(i,!1),Ue.focusFirstMenuItem.call(this,i,t)},setDownloadUrl(){const e=this.elements.buttons.download;H(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:i,createProgress:s,createRange:n,createTime:a,setQualityMenu:l,setSpeedMenu:o,showMenuPanel:r}=Ue;this.elements.controls=null,j(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));const c=Z("div",ne(this.config.selectors.controls.wrapper));this.elements.controls=c;const h={class:"plyr__controls__item"};return Ce(j(this.config.controls)?this.config.controls:[]).forEach((l=>{if("restart"===l&&c.appendChild(i.call(this,"restart",h)),"rewind"===l&&c.appendChild(i.call(this,"rewind",h)),"play"===l&&c.appendChild(i.call(this,"play",h)),"fast-forward"===l&&c.appendChild(i.call(this,"fast-forward",h)),"progress"===l){const t=Z("div",{class:`${h.class} plyr__progress__container`}),i=Z("div",ne(this.config.selectors.progress));if(i.appendChild(n.call(this,"seek",{id:`plyr-seek-${e.id}`})),i.appendChild(s.call(this,"buffer")),this.config.tooltips.seek){const e=Z("span",{class:this.config.classNames.tooltip},"00:00");i.appendChild(e),this.elements.display.seekTooltip=e}this.elements.progress=i,t.appendChild(this.elements.progress),c.appendChild(t)}if("current-time"===l&&c.appendChild(a.call(this,"currentTime",h)),"duration"===l&&c.appendChild(a.call(this,"duration",h)),"mute"===l||"volume"===l){let{volume:t}=this.elements;if(H(t)&&c.contains(t)||(t=Z("div",X({},h,{class:`${h.class} plyr__volume`.trim()})),this.elements.volume=t,c.appendChild(t)),"mute"===l&&t.appendChild(i.call(this,"mute")),"volume"===l&&!Y.isIos){const i={max:1,step:.05,value:this.config.volume};t.appendChild(n.call(this,"volume",X(i,{id:`plyr-volume-${e.id}`})))}}if("captions"===l&&c.appendChild(i.call(this,"captions",h)),"settings"===l&&!W(this.config.settings)){const s=Z("div",X({},h,{class:`${h.class} plyr__menu`.trim(),hidden:""}));s.appendChild(i.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const n=Z("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),a=Z("div"),l=Z("div",{id:`plyr-settings-${e.id}-home`}),o=Z("div",{role:"menu"});l.appendChild(o),a.appendChild(l),this.elements.settings.panels.home=l,this.config.settings.forEach((i=>{const s=Z("button",X(ne(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,s,i),fe.call(this,s,"click",(()=>{r.call(this,i,!1)}));const n=Z("span",null,De.get(i,this.config)),l=Z("span",{class:this.config.classNames.menu.value});l.innerHTML=e[i],n.appendChild(l),s.appendChild(n),o.appendChild(s);const c=Z("div",{id:`plyr-settings-${e.id}-${i}`,hidden:""}),h=Z("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});h.appendChild(Z("span",{"aria-hidden":!0},De.get(i,this.config))),h.appendChild(Z("span",{class:this.config.classNames.hidden},De.get("menuBack",this.config))),fe.call(this,c,"keydown",(e=>{37===e.which&&(e.preventDefault(),e.stopPropagation(),r.call(this,"home",!0))}),!1),fe.call(this,h,"click",(()=>{r.call(this,"home",!1)})),c.appendChild(h),c.appendChild(Z("div",{role:"menu"})),a.appendChild(c),this.elements.settings.buttons[i]=s,this.elements.settings.panels[i]=c})),n.appendChild(a),s.appendChild(n),c.appendChild(s),this.elements.settings.popup=n,this.elements.settings.menu=s}if("pip"===l&&me.pip&&c.appendChild(i.call(this,"pip",h)),"airplay"===l&&me.airplay&&c.appendChild(i.call(this,"airplay",h)),"download"===l){const e=X({},h,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(e.download="");const{download:t}=this.config.urls;!U(t)&&this.isEmbed&&X(e,{icon:`logo-${this.provider}`,label:this.provider}),c.appendChild(i.call(this,"download",e))}"fullscreen"===l&&c.appendChild(i.call(this,"fullscreen",h))})),this.isHTML5&&l.call(this,Ie.getQualityOptions.call(this)),o.call(this),c},inject(){if(this.config.loadSprite){const e=Ue.getIconUrl.call(this);e.cors&&Re(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let i=!0;q(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),H(this.config.controls)||_(this.config.controls)?e=this.config.controls:(e=Ue.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Ke.getLabel.call(this)}),i=!1);let s;i&&_(this.config.controls)&&(e=(e=>{let i=e;return Object.entries(t).forEach((([e,t])=>{i=$e(i,`{${e}}`,t)})),i})(e)),_(this.config.selectors.controls.container)&&(s=document.querySelector(this.config.selectors.controls.container)),H(s)||(s=this.elements.container);if(s[H(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),H(this.elements.controls)||Ue.findElements.call(this),!W(this.elements.buttons)){const e=e=>{const t=this.config.classNames.controlPressed;Object.defineProperty(e,"pressed",{enumerable:!0,get:()=>oe(e,t),set(i=!1){le(e,t,i)}})};Object.values(this.elements.buttons).filter(Boolean).forEach((t=>{j(t)||D(t)?Array.from(t).filter(Boolean).forEach(e):e(t)}))}if(Y.isEdge&&K(s),this.config.tooltips.controls){const{classNames:e,selectors:t}=this.config,i=`${t.controls.wrapper} ${t.labels} .${e.hidden}`,s=ce.call(this,i);Array.from(s).forEach((e=>{le(e,this.config.classNames.hidden,!1),le(e,this.config.classNames.tooltip,!0)}))}}};function We(e,t=!0){let i=e;if(t){const e=document.createElement("a");e.href=i,i=e.href}try{return new URL(i)}catch(e){return null}}function ze(e){const t=new URLSearchParams;return L(e)&&Object.entries(e).forEach((([e,i])=>{t.set(e,i)})),t}const Ke={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!me.textTracks)return void(j(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Ue.setCaptionsMenu.call(this));var e,t;if(H(this.elements.captions)||(this.elements.captions=Z("div",ne(this.config.selectors.captions)),e=this.elements.captions,t=this.elements.wrapper,H(e)&&H(t)&&t.parentNode.insertBefore(e,t.nextSibling)),Y.isIE&&window.URL){const e=this.media.querySelectorAll("track");Array.from(e).forEach((e=>{const t=e.getAttribute("src"),i=We(t);null!==i&&i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&Fe(t,"blob").then((t=>{e.setAttribute("src",window.URL.createObjectURL(t))})).catch((()=>{te(e)}))}))}const i=Ce((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((e=>e.split("-")[0])));let s=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===s&&([s]=i);let n=this.storage.get("captions");if(O(n)||({active:n}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:n,language:s,languages:i}),this.isHTML5){const e=this.config.captions.update?"addtrack removetrack":"removetrack";fe.call(this,this.media.textTracks,e,Ke.update.bind(this))}setTimeout(Ke.update.bind(this),0)},update(){const e=Ke.getTracks.call(this,!0),{active:t,language:i,meta:s,currentTrackNode:n}=this.captions,a=Boolean(e.find((e=>e.language===i)));this.isHTML5&&this.isVideo&&e.filter((e=>!s.get(e))).forEach((e=>{this.debug.log("Track added",e),s.set(e,{default:"showing"===e.mode}),"showing"===e.mode&&(e.mode="hidden"),fe.call(this,e,"cuechange",(()=>Ke.updateCues.call(this)))})),(a&&this.language!==i||!e.includes(n))&&(Ke.setLanguage.call(this,i),Ke.toggle.call(this,t&&a)),le(this.elements.container,this.config.classNames.captions.enabled,!W(e)),j(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Ue.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:i}=this.captions,s=this.config.classNames.captions.active,n=I(e)?!i:e;if(n!==i){if(t||(this.captions.active=n,this.storage.set({captions:n})),!this.language&&n&&!t){const e=Ke.getTracks.call(this),t=Ke.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=t.language,void Ke.set.call(this,e.indexOf(t))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=n),le(this.elements.container,s,n),this.captions.toggled=n,Ue.updateSetting.call(this,"captions"),ve.call(this,this.media,n?"captionsenabled":"captionsdisabled")}setTimeout((()=>{n&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")}))},set(e,t=!0){const i=Ke.getTracks.call(this);if(-1!==e)if($(e))if(e in i){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const s=i[e],{language:n}=s||{};this.captions.currentTrackNode=s,Ue.updateSetting.call(this,"captions"),t||(this.captions.language=n,this.storage.set({language:n})),this.isVimeo&&this.embed.enableTextTrack(n),ve.call(this,this.media,"languagechange")}Ke.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&Ke.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else Ke.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!_(e))return void this.debug.warn("Invalid language argument",e);const i=e.toLowerCase();this.captions.language=i;const s=Ke.getTracks.call(this),n=Ke.findTrack.call(this,[i]);Ke.set.call(this,s.indexOf(n),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter((t=>!this.isHTML5||e||this.captions.meta.has(t))).filter((e=>["captions","subtitles"].includes(e.kind)))},findTrack(e,t=!1){const i=Ke.getTracks.call(this),s=e=>Number((this.captions.meta.get(e)||{}).default),n=Array.from(i).sort(((e,t)=>s(t)-s(e)));let a;return e.every((e=>(a=n.find((t=>t.language===e)),!a))),a||(t?n[0]:void 0)},getCurrentTrack(){return Ke.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!V(t)&&me.textTracks&&this.captions.toggled&&(t=Ke.getCurrentTrack.call(this)),V(t)?W(t.label)?W(t.language)?De.get("enabled",this.config):e.language.toUpperCase():t.label:De.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!H(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!I(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const e=Ke.getCurrentTrack.call(this);t=Array.from((e||{}).activeCues||[]).map((e=>e.getCueAsHTML())).map(qe)}const i=t.map((e=>e.trim())).join("\n");if(i!==this.elements.captions.innerHTML){ie(this.elements.captions);const e=Z("span",ne(this.config.selectors.caption));e.innerHTML=i,this.elements.captions.appendChild(e),ve.call(this,this.media,"cuechange")}}},Ye={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.6.7/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1}},Qe="picture-in-picture",Xe="inline",Je={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Ge="audio",Ze="video";const et=()=>{};class tt{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):et}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):et}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):et}}class it{constructor(t){e(this,"onChange",(()=>{if(!this.enabled)return;const e=this.player.elements.buttons.fullscreen;H(e)&&(e.pressed=this.active);const t=this.target===this.player.media?this.target:this.player.elements.container;ve.call(this.player,t,this.active?"enterfullscreen":"exitfullscreen",!0)})),e(this,"toggleFallback",((e=!1)=>{if(e?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",le(this.target,this.player.config.classNames.fullscreen.fallback,e),Y.isIos){let t=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";t||(t=document.createElement("meta"),t.setAttribute("name","viewport"));const s=_(t.content)&&t.content.includes(i);e?(this.cleanupViewport=!s,s||(t.content+=`,${i}`)):this.cleanupViewport&&(t.content=t.content.split(",").filter((e=>e.trim()!==i)).join(","))}this.onChange()})),e(this,"trapFocus",(e=>{if(Y.isIos||!this.active||"Tab"!==e.key||9!==e.keyCode)return;const t=document.activeElement,i=ce.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[s]=i,n=i[i.length-1];t!==n||e.shiftKey?t===s&&e.shiftKey&&(n.focus(),e.preventDefault()):(s.focus(),e.preventDefault())})),e(this,"update",(()=>{if(this.enabled){let e;e=this.forceFallback?"Fallback (forced)":it.native?"Native":"Fallback",this.player.debug.log(`${e} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");le(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)})),e(this,"enter",(()=>{this.enabled&&(Y.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!it.native||this.forceFallback?this.toggleFallback(!0):this.prefix?W(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))})),e(this,"exit",(()=>{if(this.enabled)if(Y.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),ke(this.player.play());else if(!it.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!W(this.prefix)){const e="moz"===this.prefix?"Cancel":"Exit";document[`${this.prefix}${e}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)})),e(this,"toggle",(()=>{this.active?this.exit():this.enter()})),this.player=t,this.prefix=it.prefix,this.property=it.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===t.config.fullscreen.fallback,this.player.elements.fullscreen=t.config.fullscreen.container&&function(e,t){const{prototype:i}=Element;return(i.closest||function(){let e=this;do{if(re.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,t.config.fullscreen.container),fe.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":`${this.prefix}fullscreenchange`,(()=>{this.onChange()})),fe.call(this.player,this.player.elements.container,"dblclick",(e=>{H(this.player.elements.controls)&&this.player.elements.controls.contains(e.target)||this.player.listeners.proxy(e,this.toggle,"fullscreen")})),fe.call(this,this.player.elements.container,"keydown",(e=>this.trapFocus(e))),this.update()}static get native(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get usingNative(){return it.native&&!this.forceFallback}static get prefix(){if(q(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some((t=>!(!q(document[`${t}ExitFullscreen`])&&!q(document[`${t}CancelFullScreen`]))&&(e=t,!0))),e}static get property(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}get enabled(){return(it.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}get active(){if(!this.enabled)return!1;if(!it.native||this.forceFallback)return oe(this.target,this.player.config.classNames.fullscreen.fallback);const e=this.prefix?document[`${this.prefix}${this.property}Element`]:document.fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){return Y.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}function st(e,t=1){return new Promise(((i,s)=>{const n=new Image,a=()=>{delete n.onload,delete n.onerror,(n.naturalWidth>=t?i:s)(n)};Object.assign(n,{onload:a,onerror:a,src:e})}))}const nt={addStyleHook(){le(this.elements.container,this.config.selectors.container.replace(".",""),!0),le(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void nt.toggleNativeControls.call(this,!0);H(this.elements.controls)||(Ue.inject.call(this),this.listeners.controls()),nt.toggleNativeControls.call(this),this.isHTML5&&Ke.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Ue.updateVolume.call(this),Ue.timeUpdate.call(this),nt.checkPlaying.call(this),le(this.elements.container,this.config.classNames.pip.supported,me.pip&&this.isHTML5&&this.isVideo),le(this.elements.container,this.config.classNames.airplay.supported,me.airplay&&this.isHTML5),le(this.elements.container,this.config.classNames.isIos,Y.isIos),le(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((()=>{ve.call(this,this.media,"ready")}),0),nt.setTitle.call(this),this.poster&&nt.setPoster.call(this,this.poster,!1).catch((()=>{})),this.config.duration&&Ue.durationUpdate.call(this)},setTitle(){let e=De.get("play",this.config);if(_(this.config.title)&&!W(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach((t=>{t.setAttribute("aria-label",e)})),this.isEmbed){const e=he.call(this,"iframe");if(!H(e))return;const t=W(this.config.title)?"video":this.config.title,i=De.get("frameTitle",this.config);e.setAttribute("title",i.replace("{title}",t))}},togglePoster(e){le(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),Te.call(this).then((()=>st(e))).catch((t=>{throw e===this.poster&&nt.togglePoster.call(this,!1),t})).then((()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),nt.togglePoster.call(this,!0),e))))},checkPlaying(e){le(this.elements.container,this.config.classNames.playing,this.playing),le(this.elements.container,this.config.classNames.paused,this.paused),le(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",De.get(this.playing?"pause":"play",this.config))})),F(e)&&"timeupdate"===e.type||nt.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((()=>{le(this.elements.container,this.config.classNames.loading,this.loading),nt.toggleControls.call(this)}),this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||i))}},migrateStyles(){Object.values({...this.media.style}).filter((e=>!W(e)&&_(e)&&e.startsWith("--plyr"))).forEach((e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)})),W(this.media.style)&&this.media.removeAttribute("style")}};class at{constructor(t){e(this,"firstTouch",(()=>{const{player:e}=this,{elements:t}=e;e.touch=!0,le(t.container,e.config.classNames.isTouch,!0)})),e(this,"setTabFocus",(e=>{const{player:t}=this,{elements:i}=t;if(clearTimeout(this.focusTimer),"keydown"===e.type&&9!==e.which)return;"keydown"===e.type&&(this.lastKeyDown=e.timeStamp);const s=e.timeStamp-this.lastKeyDown<=20;("focus"!==e.type||s)&&((()=>{const e=t.config.classNames.tabFocus;le(ce.call(t,`.${e}`),e,!1)})(),"focusout"!==e.type&&(this.focusTimer=setTimeout((()=>{const e=document.activeElement;i.container.contains(e)&&le(document.activeElement,t.config.classNames.tabFocus,!0)}),10)))})),e(this,"global",((e=!0)=>{const{player:t}=this;t.config.keyboard.global&&ge.call(t,window,"keydown keyup",this.handleKey,e,!1),ge.call(t,document.body,"click",this.toggleMenu,e),ye.call(t,document.body,"touchstart",this.firstTouch),ge.call(t,document.body,"keydown focus blur focusout",this.setTabFocus,e,!1,!0)})),e(this,"container",(()=>{const{player:e}=this,{config:t,elements:i,timers:s}=e;!t.keyboard.global&&t.keyboard.focused&&fe.call(e,i.container,"keydown keyup",this.handleKey,!1),fe.call(e,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(t=>{const{controls:n}=i;n&&"enterfullscreen"===t.type&&(n.pressed=!1,n.hover=!1);let a=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(nt.toggleControls.call(e,!0),a=e.touch?3e3:2e3),clearTimeout(s.controls),s.controls=setTimeout((()=>nt.toggleControls.call(e,!1)),a)}));const n=t=>{if(!t)return Me.call(e);const s=i.container.getBoundingClientRect(),{width:n,height:a}=s;return Me.call(e,`${n}:${a}`)},a=()=>{clearTimeout(s.resized),s.resized=setTimeout(n,50)};fe.call(e,i.container,"enterfullscreen exitfullscreen",(t=>{const{target:s,usingNative:l}=e.fullscreen;if(s!==i.container)return;if(!e.isEmbed&&W(e.config.ratio))return;const o="enterfullscreen"===t.type,{padding:r,ratio:c}=n(o);((t,i,s)=>{if(!e.isVimeo||e.config.vimeo.premium)return;const n=e.elements.wrapper.firstChild,[,a]=t,[l,o]=Ne.call(e);n.style.maxWidth=s?a/o*l+"px":null,n.style.margin=s?"0 auto":null})(c,0,o),o&&setTimeout((()=>K(i.container)),100),l||(o?fe.call(e,window,"resize",a):be.call(e,window,"resize",a))}))})),e(this,"media",(()=>{const{player:e}=this,{elements:t}=e;if(fe.call(e,e.media,"timeupdate seeking seeked",(t=>Ue.timeUpdate.call(e,t))),fe.call(e,e.media,"durationchange loadeddata loadedmetadata",(t=>Ue.durationUpdate.call(e,t))),fe.call(e,e.media,"ended",(()=>{e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&(e.restart(),e.pause())})),fe.call(e,e.media,"progress playing seeking seeked",(t=>Ue.updateProgress.call(e,t))),fe.call(e,e.media,"volumechange",(t=>Ue.updateVolume.call(e,t))),fe.call(e,e.media,"playing play pause ended emptied timeupdate",(t=>nt.checkPlaying.call(e,t))),fe.call(e,e.media,"waiting canplay seeked playing",(t=>nt.checkLoading.call(e,t))),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){const i=he.call(e,`.${e.config.classNames.video}`);if(!H(i))return;fe.call(e,t.container,"click",(s=>{([t.container,i].includes(s.target)||i.contains(s.target))&&(e.touch&&e.config.hideControls||(e.ended?(this.proxy(s,e.restart,"restart"),this.proxy(s,(()=>{ke(e.play())}),"play")):this.proxy(s,(()=>{ke(e.togglePlay())}),"play")))}))}e.supported.ui&&e.config.disableContextMenu&&fe.call(e,t.wrapper,"contextmenu",(e=>{e.preventDefault()}),!1),fe.call(e,e.media,"volumechange",(()=>{e.storage.set({volume:e.volume,muted:e.muted})})),fe.call(e,e.media,"ratechange",(()=>{Ue.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})})),fe.call(e,e.media,"qualitychange",(t=>{Ue.updateSetting.call(e,"quality",null,t.detail.quality)})),fe.call(e,e.media,"ready qualitychange",(()=>{Ue.setDownloadUrl.call(e)}));const i=e.config.events.concat(["keyup","keydown"]).join(" ");fe.call(e,e.media,i,(i=>{let{detail:s={}}=i;"error"===i.type&&(s=e.media.error),ve.call(e,t.container,i.type,!0,s)}))})),e(this,"proxy",((e,t,i)=>{const{player:s}=this,n=s.config.listeners[i];let a=!0;q(n)&&(a=n.call(s,e)),!1!==a&&q(t)&&t.call(s,e)})),e(this,"bind",((e,t,i,s,n=!0)=>{const{player:a}=this,l=a.config.listeners[s],o=q(l);fe.call(a,e,t,(e=>this.proxy(e,i,s)),n&&!o)})),e(this,"controls",(()=>{const{player:e}=this,{elements:t}=e,i=Y.isIE?"change":"input";if(t.buttons.play&&Array.from(t.buttons.play).forEach((t=>{this.bind(t,"click",(()=>{ke(e.togglePlay())}),"play")})),this.bind(t.buttons.restart,"click",e.restart,"restart"),this.bind(t.buttons.rewind,"click",(()=>{e.lastSeekTime=Date.now(),e.rewind()}),"rewind"),this.bind(t.buttons.fastForward,"click",(()=>{e.lastSeekTime=Date.now(),e.forward()}),"fastForward"),this.bind(t.buttons.mute,"click",(()=>{e.muted=!e.muted}),"mute"),this.bind(t.buttons.captions,"click",(()=>e.toggleCaptions())),this.bind(t.buttons.download,"click",(()=>{ve.call(e,e.media,"download")}),"download"),this.bind(t.buttons.fullscreen,"click",(()=>{e.fullscreen.toggle()}),"fullscreen"),this.bind(t.buttons.pip,"click",(()=>{e.pip="toggle"}),"pip"),this.bind(t.buttons.airplay,"click",e.airplay,"airplay"),this.bind(t.buttons.settings,"click",(t=>{t.stopPropagation(),t.preventDefault(),Ue.toggleMenu.call(e,t)}),null,!1),this.bind(t.buttons.settings,"keyup",(t=>{const i=t.which;[13,32].includes(i)&&(13!==i?(t.preventDefault(),t.stopPropagation(),Ue.toggleMenu.call(e,t)):Ue.focusFirstMenuItem.call(e,null,!0))}),null,!1),this.bind(t.settings.menu,"keydown",(t=>{27===t.which&&Ue.toggleMenu.call(e,t)})),this.bind(t.inputs.seek,"mousedown mousemove",(e=>{const i=t.progress.getBoundingClientRect(),s=100/i.width*(e.pageX-i.left);e.currentTarget.setAttribute("seek-value",s)})),this.bind(t.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(t=>{const i=t.currentTarget,s=t.keyCode?t.keyCode:t.which,n="play-on-seeked";if(R(t)&&39!==s&&37!==s)return;e.lastSeekTime=Date.now();const a=i.hasAttribute(n),l=["mouseup","touchend","keyup"].includes(t.type);a&&l?(i.removeAttribute(n),ke(e.play())):!l&&e.playing&&(i.setAttribute(n,""),e.pause())})),Y.isIos){const t=ce.call(e,'input[type="range"]');Array.from(t).forEach((e=>this.bind(e,i,(e=>K(e.target)))))}this.bind(t.inputs.seek,i,(t=>{const i=t.currentTarget;let s=i.getAttribute("seek-value");W(s)&&(s=i.value),i.removeAttribute("seek-value"),e.currentTime=s/i.max*e.duration}),"seek"),this.bind(t.progress,"mouseenter mouseleave mousemove",(t=>Ue.updateSeekTooltip.call(e,t))),this.bind(t.progress,"mousemove touchmove",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.startMove(t)})),this.bind(t.progress,"mouseleave touchend click",(()=>{const{previewThumbnails:t}=e;t&&t.loaded&&t.endMove(!1,!0)})),this.bind(t.progress,"mousedown touchstart",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.startScrubbing(t)})),this.bind(t.progress,"mouseup touchend",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.endScrubbing(t)})),Y.isWebkit&&Array.from(ce.call(e,'input[type="range"]')).forEach((t=>{this.bind(t,"input",(t=>Ue.updateRangeFill.call(e,t.target)))})),e.config.toggleInvert&&!H(t.display.duration)&&this.bind(t.display.currentTime,"click",(()=>{0!==e.currentTime&&(e.config.invertTime=!e.config.invertTime,Ue.timeUpdate.call(e))})),this.bind(t.inputs.volume,i,(t=>{e.volume=t.target.value}),"volume"),this.bind(t.controls,"mouseenter mouseleave",(i=>{t.controls.hover=!e.touch&&"mouseenter"===i.type})),t.fullscreen&&Array.from(t.fullscreen.children).filter((e=>!e.contains(t.container))).forEach((i=>{this.bind(i,"mouseenter mouseleave",(i=>{t.controls.hover=!e.touch&&"mouseenter"===i.type}))})),this.bind(t.controls,"mousedown mouseup touchstart touchend touchcancel",(e=>{t.controls.pressed=["mousedown","touchstart"].includes(e.type)})),this.bind(t.controls,"focusin",(()=>{const{config:i,timers:s}=e;le(t.controls,i.classNames.noTransition,!0),nt.toggleControls.call(e,!0),setTimeout((()=>{le(t.controls,i.classNames.noTransition,!1)}),0);const n=this.touch?3e3:4e3;clearTimeout(s.controls),s.controls=setTimeout((()=>nt.toggleControls.call(e,!1)),n)})),this.bind(t.inputs.volume,"wheel",(t=>{const i=t.webkitDirectionInvertedFromDevice,[s,n]=[t.deltaX,-t.deltaY].map((e=>i?-e:e)),a=Math.sign(Math.abs(s)>Math.abs(n)?s:n);e.increaseVolume(a/50);const{volume:l}=e.media;(1===a&&l<1||-1===a&&l>0)&&t.preventDefault()}),"volume",!1)})),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){const{player:t}=this,{elements:i}=t,s=e.keyCode?e.keyCode:e.which,n="keydown"===e.type,a=n&&s===this.lastKey;if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;if(!$(s))return;if(n){const n=document.activeElement;if(H(n)){const{editable:s}=t.config.selectors,{seek:a}=i.inputs;if(n!==a&&re(n,s))return;if(32===e.which&&re(n,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(s)&&(e.preventDefault(),e.stopPropagation()),s){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:a||(t.currentTime=t.duration/10*(s-48));break;case 32:case 75:a||ke(t.togglePlay());break;case 38:t.increaseVolume(.1);break;case 40:t.decreaseVolume(.1);break;case 77:a||(t.muted=!t.muted);break;case 39:t.forward();break;case 37:t.rewind();break;case 70:t.fullscreen.toggle();break;case 67:a||t.toggleCaptions();break;case 76:t.loop=!t.loop}27===s&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=s}else this.lastKey=null}toggleMenu(e){Ue.toggleMenu.call(this.player,e)}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var lt=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){e.exports=function(){var e=function(){},t={},i={},s={};function n(e,t){e=e.push?e:[e];var n,a,l,o=[],r=e.length,c=r;for(n=function(e,i){i.length&&o.push(e),--c||t(o)};r--;)a=e[r],(l=i[a])?n(a,l):(s[a]=s[a]||[]).push(n)}function a(e,t){if(e){var n=s[e];if(i[e]=t,n)for(;n.length;)n[0](e,t),n.splice(0,1)}}function l(t,i){t.call&&(t={success:t}),i.length?(t.error||e)(i):(t.success||e)(t)}function o(t,i,s,n){var a,l,r=document,c=s.async,h=(s.numRetries||0)+1,u=s.before||e,d=t.replace(/[\?|#].*$/,""),m=t.replace(/^(css|img)!/,"");n=n||0,/(^css!|\.css$)/.test(d)?((l=r.createElement("link")).rel="stylesheet",l.href=m,(a="hideFocus"in l)&&l.relList&&(a=0,l.rel="preload",l.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(d)?(l=r.createElement("img")).src=m:((l=r.createElement("script")).src=t,l.async=void 0===c||c),l.onload=l.onerror=l.onbeforeload=function(e){var r=e.type[0];if(a)try{l.sheet.cssText.length||(r="e")}catch(e){18!=e.code&&(r="e")}if("e"==r){if((n+=1)<h)return o(t,i,s,n)}else if("preload"==l.rel&&"style"==l.as)return l.rel="stylesheet";i(t,r,e.defaultPrevented)},!1!==u(t,l)&&r.head.appendChild(l)}function r(e,t,i){var s,n,a=(e=e.push?e:[e]).length,l=a,r=[];for(s=function(e,i,s){if("e"==i&&r.push(e),"b"==i){if(!s)return;r.push(e)}--a||t(r)},n=0;n<l;n++)o(e[n],s,i)}function c(e,i,s){var n,o;if(i&&i.trim&&(n=i),o=(n?s:i)||{},n){if(n in t)throw"LoadJS";t[n]=!0}function c(t,i){r(e,(function(e){l(o,e),t&&l({success:t,error:i},e),a(n,e)}),o)}if(o.returnPromise)return new Promise(c);c()}return c.ready=function(e,t){return n(e,(function(e){l(t,e)})),c},c.done=function(e){a(e,[])},c.reset=function(){t={},i={},s={}},c.isDefined=function(e){return e in t},c}()}));function ot(e){return new Promise(((t,i)=>{lt(e,{success:t,error:i})}))}function rt(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,ve.call(this,this.media,e?"play":"pause"))}const ct={setup(){const e=this;le(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,Me.call(e),L(window.Vimeo)?ct.ready.call(e):ot(e.config.urls.vimeo.sdk).then((()=>{ct.ready.call(e)})).catch((t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready(){const e=this,t=e.config.vimeo,{premium:i,referrerPolicy:s,...n}=t;i&&Object.assign(n,{controls:!1,sidedock:!1});const a=ze({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative,...n});let l=e.media.getAttribute("src");W(l)&&(l=e.media.getAttribute(e.config.attributes.embed.id));const o=W(r=l)?null:$(Number(r))?r:r.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:r;var r;const c=Z("iframe"),h=Le(e.config.urls.vimeo.iframe,o,a);if(c.setAttribute("src",h),c.setAttribute("allowfullscreen",""),c.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),W(s)||c.setAttribute("referrerPolicy",s),i||!t.customControls)c.setAttribute("data-poster",e.poster),e.media=se(c,e.media);else{const t=Z("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});t.appendChild(c),e.media=se(t,e.media)}t.customControls||Fe(Le(e.config.urls.vimeo.api,h)).then((t=>{!W(t)&&t.thumbnail_url&&nt.setPoster.call(e,t.thumbnail_url).catch((()=>{}))})),e.embed=new window.Vimeo.Player(c,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(rt.call(e,!0),e.embed.play()),e.media.pause=()=>(rt.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:u}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>u,set(t){const{embed:i,media:s,paused:n,volume:a}=e,l=n&&!i.hasPlayed;s.seeking=!0,ve.call(e,s,"seeking"),Promise.resolve(l&&i.setVolume(0)).then((()=>i.setCurrentTime(t))).then((()=>l&&i.pause())).then((()=>l&&i.setVolume(a))).catch((()=>{}))}});let d=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>d,set(t){e.embed.setPlaybackRate(t).then((()=>{d=t,ve.call(e,e.media,"ratechange")})).catch((()=>{e.options.speed=[1]}))}});let{volume:m}=e.config;Object.defineProperty(e.media,"volume",{get:()=>m,set(t){e.embed.setVolume(t).then((()=>{m=t,ve.call(e,e.media,"volumechange")}))}});let{muted:p}=e.config;Object.defineProperty(e.media,"muted",{get:()=>p,set(t){const i=!!O(t)&&t;e.embed.setVolume(i?0:e.config.volume).then((()=>{p=i,ve.call(e,e.media,"volumechange")}))}});let g,{loop:f}=e.config;Object.defineProperty(e.media,"loop",{get:()=>f,set(t){const i=O(t)?t:e.config.loop.active;e.embed.setLoop(i).then((()=>{f=i}))}}),e.embed.getVideoUrl().then((t=>{g=t,Ue.setDownloadUrl.call(e)})).catch((e=>{this.debug.warn(e)})),Object.defineProperty(e.media,"currentSrc",{get:()=>g}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then((t=>{const[i,s]=t;e.embed.ratio=xe(i,s),Me.call(this)})),e.embed.setAutopause(e.config.autopause).then((t=>{e.config.autopause=t})),e.embed.getVideoTitle().then((t=>{e.config.title=t,nt.setTitle.call(this)})),e.embed.getCurrentTime().then((t=>{u=t,ve.call(e,e.media,"timeupdate")})),e.embed.getDuration().then((t=>{e.media.duration=t,ve.call(e,e.media,"durationchange")})),e.embed.getTextTracks().then((t=>{e.media.textTracks=t,Ke.setup.call(e)})),e.embed.on("cuechange",(({cues:t=[]})=>{const i=t.map((e=>function(e){const t=document.createDocumentFragment(),i=document.createElement("div");return t.appendChild(i),i.innerHTML=e,t.firstChild.innerText}(e.text)));Ke.updateCues.call(e,i)})),e.embed.on("loaded",(()=>{if(e.embed.getPaused().then((t=>{rt.call(e,!t),t||ve.call(e,e.media,"playing")})),H(e.embed.element)&&e.supported.ui){e.embed.element.setAttribute("tabindex",-1)}})),e.embed.on("bufferstart",(()=>{ve.call(e,e.media,"waiting")})),e.embed.on("bufferend",(()=>{ve.call(e,e.media,"playing")})),e.embed.on("play",(()=>{rt.call(e,!0),ve.call(e,e.media,"playing")})),e.embed.on("pause",(()=>{rt.call(e,!1)})),e.embed.on("timeupdate",(t=>{e.media.seeking=!1,u=t.seconds,ve.call(e,e.media,"timeupdate")})),e.embed.on("progress",(t=>{e.media.buffered=t.percent,ve.call(e,e.media,"progress"),1===parseInt(t.percent,10)&&ve.call(e,e.media,"canplaythrough"),e.embed.getDuration().then((t=>{t!==e.media.duration&&(e.media.duration=t,ve.call(e,e.media,"durationchange"))}))})),e.embed.on("seeked",(()=>{e.media.seeking=!1,ve.call(e,e.media,"seeked")})),e.embed.on("ended",(()=>{e.media.paused=!0,ve.call(e,e.media,"ended")})),e.embed.on("error",(t=>{e.media.error=t,ve.call(e,e.media,"error")})),t.customControls&&setTimeout((()=>nt.build.call(e)),0)}};function ht(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,ve.call(this,this.media,e?"play":"pause"))}function ut(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}const dt={setup(){if(le(this.elements.wrapper,this.config.classNames.embed,!0),L(window.YT)&&q(window.YT.Player))dt.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{q(e)&&e(),dt.ready.call(this)},ot(this.config.urls.youtube.sdk).catch((e=>{this.debug.warn("YouTube API failed to load",e)}))}},getTitle(e){Fe(Le(this.config.urls.youtube.api,e)).then((e=>{if(L(e)){const{title:t,height:i,width:s}=e;this.config.title=t,nt.setTitle.call(this),this.embed.ratio=xe(s,i)}Me.call(this)})).catch((()=>{Me.call(this)}))},ready(){const e=this,t=e.config.youtube,i=e.media&&e.media.getAttribute("id");if(!W(i)&&i.startsWith("youtube-"))return;let s=e.media.getAttribute("src");W(s)&&(s=e.media.getAttribute(this.config.attributes.embed.id));const n=W(a=s)?null:a.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:a;var a;const l=Z("div",{id:`${e.provider}-${Math.floor(1e4*Math.random())}`,"data-poster":t.customControls?e.poster:void 0});if(e.media=se(l,e.media),t.customControls){const t=e=>`https://i.ytimg.com/vi/${n}/${e}default.jpg`;st(t("maxres"),121).catch((()=>st(t("sd"),121))).catch((()=>st(t("hq")))).then((t=>nt.setPoster.call(e,t.src))).then((t=>{t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((()=>{}))}e.embed=new window.YT.Player(e.media,{videoId:n,host:ut(t),playerVars:X({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.fullscreen.iosNative?0:1,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(t){if(!e.media.error){const i=t.data,s={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[i]||"An unknown error occured";e.media.error={code:i,message:s},ve.call(e,e.media,"error")}},onPlaybackRateChange(t){const i=t.target;e.media.playbackRate=i.getPlaybackRate(),ve.call(e,e.media,"ratechange")},onReady(i){if(q(e.media.play))return;const s=i.target;dt.getTitle.call(e,n),e.media.play=()=>{ht.call(e,!0),s.playVideo()},e.media.pause=()=>{ht.call(e,!1),s.pauseVideo()},e.media.stop=()=>{s.stopVideo()},e.media.duration=s.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(s.getCurrentTime()),set(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,ve.call(e,e.media,"seeking"),s.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>s.getPlaybackRate(),set(e){s.setPlaybackRate(e)}});let{volume:a}=e.config;Object.defineProperty(e.media,"volume",{get:()=>a,set(t){a=t,s.setVolume(100*a),ve.call(e,e.media,"volumechange")}});let{muted:l}=e.config;Object.defineProperty(e.media,"muted",{get:()=>l,set(t){const i=O(t)?t:l;l=i,s[i?"mute":"unMute"](),s.setVolume(100*a),ve.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>s.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const o=s.getAvailablePlaybackRates();e.options.speed=o.filter((t=>e.config.speed.options.includes(t))),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),ve.call(e,e.media,"timeupdate"),ve.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((()=>{e.media.buffered=s.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&ve.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),ve.call(e,e.media,"canplaythrough"))}),200),t.customControls&&setTimeout((()=>nt.build.call(e)),50)},onStateChange(i){const s=i.target;clearInterval(e.timers.playing);switch(e.media.seeking&&[1,2].includes(i.data)&&(e.media.seeking=!1,ve.call(e,e.media,"seeked")),i.data){case-1:ve.call(e,e.media,"timeupdate"),e.media.buffered=s.getVideoLoadedFraction(),ve.call(e,e.media,"progress");break;case 0:ht.call(e,!1),e.media.loop?(s.stopVideo(),s.playVideo()):ve.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(ht.call(e,!0),ve.call(e,e.media,"playing"),e.timers.playing=setInterval((()=>{ve.call(e,e.media,"timeupdate")}),50),e.media.duration!==s.getDuration()&&(e.media.duration=s.getDuration(),ve.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),ht.call(e,!1);break;case 3:ve.call(e,e.media,"waiting")}ve.call(e,e.elements.container,"statechange",!1,{code:i.data})}}})}},mt={setup(){this.media?(le(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),le(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&le(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=Z("div",{class:this.config.classNames.video}),J(this.media,this.elements.wrapper),this.elements.poster=Z("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?Ie.setup.call(this):this.isYouTube?dt.setup.call(this):this.isVimeo&&ct.setup.call(this)):this.debug.warn("No media element found!")}};class pt{constructor(t){e(this,"load",(()=>{this.enabled&&(L(window.google)&&L(window.google.ima)?this.ready():ot(this.player.config.urls.googleIMA.sdk).then((()=>{this.ready()})).catch((()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))})))})),e(this,"ready",(()=>{var e;this.enabled||((e=this).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then((()=>{this.clearSafetyTimer("onAdsManagerLoaded()")})),this.listeners(),this.setupIMA()})),e(this,"setupIMA",(()=>{this.elements.container=Z("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(e=>this.onAdsManagerLoaded(e)),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(e=>this.onAdError(e)),!1),this.requestAds()})),e(this,"requestAds",(()=>{const{container:e}=this.player.elements;try{const t=new google.ima.AdsRequest;t.adTagUrl=this.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t)}catch(e){this.onAdError(e)}})),e(this,"pollCountdown",((e=!1)=>{if(!e)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval((()=>{const e=Be(Math.max(this.manager.getRemainingTime(),0)),t=`${De.get("advertisement",this.player.config)} - ${e}`;this.elements.container.setAttribute("data-badge-text",t)}),100)})),e(this,"onAdsManagerLoaded",(e=>{if(!this.enabled)return;const t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,this.manager=e.getAdsManager(this.player,t),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(e=>this.onAdError(e))),Object.keys(google.ima.AdEvent.Type).forEach((e=>{this.manager.addEventListener(google.ima.AdEvent.Type[e],(e=>this.onAdEvent(e)))})),this.trigger("loaded")})),e(this,"addCuePoints",(()=>{W(this.cuePoints)||this.cuePoints.forEach((e=>{if(0!==e&&-1!==e&&e<this.player.duration){const t=this.player.elements.progress;if(H(t)){const i=100/this.player.duration*e,s=Z("span",{class:this.player.config.classNames.cues});s.style.left=`${i.toString()}%`,t.appendChild(s)}}}))})),e(this,"onAdEvent",(e=>{const{container:t}=this.player.elements,i=e.getAd(),s=e.getAdData();switch((e=>{ve.call(this.player,this.player.media,`ads${e.replace(/_/g,"").toLowerCase()}`)})(e.type),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=t.offsetWidth,i.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:s.adError&&this.player.debug.warn(`Non-fatal ad error: ${s.adError.getMessage()}`)}})),e(this,"onAdError",(e=>{this.cancel(),this.player.debug.warn("Ads error",e)})),e(this,"listeners",(()=>{const{container:e}=this.player.elements;let t;this.player.on("canplay",(()=>{this.addCuePoints()})),this.player.on("ended",(()=>{this.loader.contentComplete()})),this.player.on("timeupdate",(()=>{t=this.player.currentTime})),this.player.on("seeked",(()=>{const e=this.player.currentTime;W(this.cuePoints)||this.cuePoints.forEach(((i,s)=>{t<i&&i<e&&(this.manager.discardAdBreak(),this.cuePoints.splice(s,1))}))})),window.addEventListener("resize",(()=>{this.manager&&this.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)}))})),e(this,"play",(()=>{const{container:e}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then((()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(e){this.onAdError(e)}})).catch((()=>{}))})),e(this,"resumeContent",(()=>{this.elements.container.style.zIndex="",this.playing=!1,ke(this.player.media.play())})),e(this,"pauseContent",(()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()})),e(this,"cancel",(()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()})),e(this,"loadAds",(()=>{this.managerPromise.then((()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise((e=>{this.on("loaded",e),this.player.debug.log(this.manager)})),this.initialized=!1,this.requestAds()})).catch((()=>{}))})),e(this,"trigger",((e,...t)=>{const i=this.events[e];j(i)&&i.forEach((e=>{q(e)&&e.apply(this,t)}))})),e(this,"on",((e,t)=>(j(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this))),e(this,"startSafetyTimer",((e,t)=>{this.player.debug.log(`Safety timer invoked from: ${t}`),this.safetyTimer=setTimeout((()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")}),e)})),e(this,"clearSafetyTimer",(e=>{I(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${e}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)})),this.player=t,this.config=t.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(((e,t)=>{this.on("loaded",e),this.on("error",t)})),this.load()}get enabled(){const{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!W(e.publisherId)||U(e.tagUrl))}get tagUrl(){const{config:e}=this;if(U(e.tagUrl))return e.tagUrl;return`https://go.aniview.com/api/adserver6/vast/?${ze({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId})}`}}const gt=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach((e=>{const i={};e.split(/\r\n|\n|\r/).forEach((e=>{if($(i.startTime)){if(!W(e.trim())&&W(i.text)){const t=e.trim().split("#xywh=");[i.text]=t,t[1]&&([i.x,i.y,i.w,i.h]=t[1].split(","))}}else{const t=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);t&&(i.startTime=60*Number(t[1]||0)*60+60*Number(t[2])+Number(t[3])+Number(`0.${t[4]}`),i.endTime=60*Number(t[6]||0)*60+60*Number(t[7])+Number(t[8])+Number(`0.${t[9]}`))}})),i.text&&t.push(i)})),t},ft=(e,t)=>{const i={};return e>t.width/t.height?(i.width=t.width,i.height=1/e*t.width):(i.height=t.height,i.width=e*t.height),i};class bt{constructor(t){e(this,"load",(()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then((()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.loaded=!0)}))})),e(this,"getThumbnails",(()=>new Promise((e=>{const{src:t}=this.player.config.previewThumbnails;if(W(t))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort(((e,t)=>e.height-t.height)),this.player.debug.log("Preview thumbnails",this.thumbnails),e()};if(q(t))t((e=>{this.thumbnails=e,i()}));else{const e=(_(t)?[t]:t).map((e=>this.getThumbnail(e)));Promise.all(e).then(i)}})))),e(this,"getThumbnail",(e=>new Promise((t=>{Fe(e).then((i=>{const s={frames:gt(i),height:null,urlPrefix:""};s.frames[0].text.startsWith("/")||s.frames[0].text.startsWith("http://")||s.frames[0].text.startsWith("https://")||(s.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));const n=new Image;n.onload=()=>{s.height=n.naturalHeight,s.width=n.naturalWidth,this.thumbnails.push(s),t()},n.src=s.urlPrefix+s.frames[0].text}))})))),e(this,"startMove",(e=>{if(this.loaded&&F(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{const t=this.player.elements.progress.getBoundingClientRect(),i=100/t.width*(e.pageX-t.left);this.seekTime=this.player.media.duration*(i/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=Be(this.seekTime)}this.showImageAtCurrentTime()}})),e(this,"endMove",(()=>{this.toggleThumbContainer(!1,!0)})),e(this,"startScrubbing",(e=>{(I(e.button)||!1===e.button||0===e.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))})),e(this,"endScrubbing",(()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):ye.call(this.player,this.player.media,"timeupdate",(()=>{this.mouseDown||this.toggleScrubbingContainer(!1)}))})),e(this,"listeners",(()=>{this.player.on("play",(()=>{this.toggleThumbContainer(!1,!0)})),this.player.on("seeked",(()=>{this.toggleThumbContainer(!1)})),this.player.on("timeupdate",(()=>{this.lastTime=this.player.media.currentTime}))})),e(this,"render",(()=>{this.elements.thumb.container=Z("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=Z("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const e=Z("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=Z("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.container.appendChild(e),H(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=Z("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)})),e(this,"destroy",(()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()})),e(this,"showImageAtCurrentTime",(()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const e=this.thumbnails[0].frames.findIndex((e=>this.seekTime>=e.startTime&&this.seekTime<=e.endTime)),t=e>=0;let i=0;this.mouseDown||this.toggleThumbContainer(t),t&&(this.thumbnails.forEach(((t,s)=>{this.loadedImages.includes(t.frames[e].text)&&(i=s)})),e!==this.showingThumb&&(this.showingThumb=e,this.loadImage(i)))})),e(this,"loadImage",((e=0)=>{const t=this.showingThumb,i=this.thumbnails[e],{urlPrefix:s}=i,n=i.frames[t],a=i.frames[t].text,l=s+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,n,e,t,a,!1),this.currentImageElement.dataset.index=t,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const i=new Image;i.src=l,i.dataset.index=t,i.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log(`Loading image: ${l}`),i.onload=()=>this.showImage(i,n,e,t,a,!0),this.loadingImage=i,this.removeOldImages(i)}})),e(this,"showImage",((e,t,i,s,n,a=!0)=>{this.player.debug.log(`Showing thumb: ${n}. num: ${s}. qual: ${i}. newimg: ${a}`),this.setImageSizeAndOffset(e,t),a&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(n)||this.loadedImages.push(n)),this.preloadNearby(s,!0).then(this.preloadNearby(s,!1)).then(this.getHigherQuality(i,e,t,n))})),e(this,"removeOldImages",(e=>{Array.from(this.currentImageContainer.children).forEach((t=>{if("img"!==t.tagName.toLowerCase())return;const i=this.usingSprites?500:1e3;if(t.dataset.index!==e.dataset.index&&!t.dataset.deleting){t.dataset.deleting=!0;const{currentImageContainer:e}=this;setTimeout((()=>{e.removeChild(t),this.player.debug.log(`Removing thumb: ${t.dataset.filename}`)}),i)}}))})),e(this,"preloadNearby",((e,t=!0)=>new Promise((i=>{setTimeout((()=>{const s=this.thumbnails[0].frames[e].text;if(this.showingThumbFilename===s){let n;n=t?this.thumbnails[0].frames.slice(e):this.thumbnails[0].frames.slice(0,e).reverse();let a=!1;n.forEach((e=>{const t=e.text;if(t!==s&&!this.loadedImages.includes(t)){a=!0,this.player.debug.log(`Preloading thumb filename: ${t}`);const{urlPrefix:e}=this.thumbnails[0],s=e+t,n=new Image;n.src=s,n.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${t}`),this.loadedImages.includes(t)||this.loadedImages.push(t),i()}}})),a||i()}}),300)})))),e(this,"getHigherQuality",((e,t,i,s)=>{if(e<this.thumbnails.length-1){let n=t.naturalHeight;this.usingSprites&&(n=i.h),n<this.thumbContainerHeight&&setTimeout((()=>{this.showingThumbFilename===s&&(this.player.debug.log(`Showing higher quality thumb for: ${s}`),this.loadImage(e+1))}),300)}})),e(this,"toggleThumbContainer",((e=!1,t=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)})),e(this,"toggleScrubbingContainer",((e=!1)=>{const t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)})),e(this,"determineContainerAutoSizing",(()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)})),e(this,"setThumbContainerSizeAndPos",(()=>{if(this.sizeSpecifiedInCSS){if(this.elements.thumb.imageContainer.clientHeight>20&&this.elements.thumb.imageContainer.clientWidth<20){const e=Math.floor(this.elements.thumb.imageContainer.clientHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.width=`${e}px`}else if(this.elements.thumb.imageContainer.clientHeight<20&&this.elements.thumb.imageContainer.clientWidth>20){const e=Math.floor(this.elements.thumb.imageContainer.clientWidth/this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height=`${e}px`}}else{const e=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height=`${this.thumbContainerHeight}px`,this.elements.thumb.imageContainer.style.width=`${e}px`}this.setThumbContainerPos()})),e(this,"setThumbContainerPos",(()=>{const e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,s=t.left-e.left+10,n=t.right-e.left-i.clientWidth-10;let a=this.mousePosX-e.left-i.clientWidth/2;a<s&&(a=s),a>n&&(a=n),i.style.left=`${a}px`})),e(this,"setScrubbingContainerSize",(()=>{const{width:e,height:t}=ft(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${e}px`,this.elements.scrubbing.container.style.height=`${t}px`})),e(this,"setImageSizeAndOffset",((e,t)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/t.h;e.style.height=e.naturalHeight*i+"px",e.style.width=e.naturalWidth*i+"px",e.style.left=`-${t.x*i}px`,e.style.top=`-${t.y*i}px`})),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e}=ft(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}const yt={insertElements(e,t){_(t)?ee(e,this.media,{src:t}):j(t)&&t.forEach((t=>{ee(e,this.media,t)}))},change(e){Q(e,"sources.length")?(Ie.cancelRequests.call(this),this.destroy.call(this,(()=>{this.options.quality=[],te(this.media),this.media=null,H(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:i}=e,[{provider:s=Je.html5,src:n}]=t,a="html5"===s?i:"div",l="html5"===s?{}:{src:n};Object.assign(this,{provider:s,type:i,supported:me.check(i,s,this.config.playsinline),media:Z(a,l)}),this.elements.container.appendChild(this.media),O(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),W(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),nt.addStyleHook.call(this),this.isHTML5&&yt.insertElements.call(this,"source",t),this.config.title=e.title,mt.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&yt.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&nt.build.call(this),this.isHTML5&&this.media.load(),W(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new bt(this))),this.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}};class vt{constructor(t,i){if(e(this,"play",(()=>q(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then((()=>this.ads.play())).catch((()=>ke(this.media.play()))),this.media.play()):null)),e(this,"pause",(()=>this.playing&&q(this.media.pause)?this.media.pause():null)),e(this,"togglePlay",(e=>(O(e)?e:!this.playing)?this.play():this.pause())),e(this,"stop",(()=>{this.isHTML5?(this.pause(),this.restart()):q(this.media.stop)&&this.media.stop()})),e(this,"restart",(()=>{this.currentTime=0})),e(this,"rewind",(e=>{this.currentTime-=$(e)?e:this.config.seekTime})),e(this,"forward",(e=>{this.currentTime+=$(e)?e:this.config.seekTime})),e(this,"increaseVolume",(e=>{const t=this.media.muted?0:this.volume;this.volume=t+($(e)?e:0)})),e(this,"decreaseVolume",(e=>{this.increaseVolume(-e)})),e(this,"airplay",(()=>{me.airplay&&this.media.webkitShowPlaybackTargetPicker()})),e(this,"toggleControls",(e=>{if(this.supported.ui&&!this.isAudio){const t=oe(this.elements.container,this.config.classNames.hideControls),i=void 0===e?void 0:!e,s=le(this.elements.container,this.config.classNames.hideControls,i);if(s&&j(this.config.controls)&&this.config.controls.includes("settings")&&!W(this.config.settings)&&Ue.toggleMenu.call(this,!1),s!==t){const e=s?"controlshidden":"controlsshown";ve.call(this,this.media,e)}return!s}return!1})),e(this,"on",((e,t)=>{fe.call(this,this.elements.container,e,t)})),e(this,"once",((e,t)=>{ye.call(this,this.elements.container,e,t)})),e(this,"off",((e,t)=>{be(this.elements.container,e,t)})),e(this,"destroy",((e,t=!1)=>{if(!this.ready)return;const i=()=>{document.body.style.overflow="",this.embed=null,t?(Object.keys(this.elements).length&&(te(this.elements.buttons.play),te(this.elements.captions),te(this.elements.controls),te(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),q(e)&&e()):(we.call(this),Ie.cancelRequests.call(this),se(this.elements.original,this.elements.container),ve.call(this,this.elements.original,"destroyed",!0),q(e)&&e.call(this.elements.original),this.ready=!1,setTimeout((()=>{this.elements=null,this.media=null}),200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(nt.toggleNativeControls.call(this,!0),i()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&q(this.embed.destroy)&&this.embed.destroy(),i()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200))})),e(this,"supports",(e=>me.mime.call(this,e))),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=me.touch,this.media=t,_(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||D(this.media)||j(this.media))&&(this.media=this.media[0]),this.config=X({},Ye,vt.defaults,i||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch(e){return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new tt(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",me),I(this.media)||!H(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!me.check().api)return void this.debug.error("Setup failed: no support");const s=this.media.cloneNode(!0);s.autoplay=!1,this.elements.original=s;const n=this.media.tagName.toLowerCase();let a=null,l=null;switch(n){case"div":if(a=this.media.querySelector("iframe"),H(a)){if(l=We(a.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?Je.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?Je.vimeo:null}(l.toString()),this.elements.container=this.media,this.media=a,this.elements.container.className="",l.search.length){const e=["1","true"];e.includes(l.searchParams.get("autoplay"))&&(this.config.autoplay=!0),e.includes(l.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=e.includes(l.searchParams.get("playsinline")),this.config.youtube.hl=l.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(W(this.provider)||!Object.values(Je).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=Ze;break;case"video":case"audio":this.type=n,this.provider=Je.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=me.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new at(this),this.storage=new He(this),this.media.plyr=this,H(this.elements.container)||(this.elements.container=Z("div",{tabindex:0}),J(this.media,this.elements.container)),nt.migrateStyles.call(this),nt.addStyleHook.call(this),mt.setup.call(this),this.config.debug&&fe.call(this,this.elements.container,this.config.events.join(" "),(e=>{this.debug.log(`event: ${e.type}`)})),this.fullscreen=new it(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&nt.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new pt(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(()=>ke(this.play()))),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new bt(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===Je.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===Je.youtube}get isVimeo(){return this.provider===Je.vimeo}get isVideo(){return this.type===Ze}get isAudio(){return this.type===Ge}get playing(){return Boolean(this.ready&&!this.paused&&!this.ended)}get paused(){return Boolean(this.media.paused)}get stopped(){return Boolean(this.paused&&0===this.currentTime)}get ended(){return Boolean(this.media.ended)}set currentTime(e){if(!this.duration)return;const t=$(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e}=this.media;return $(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return Boolean(this.media.seeking)}get duration(){const e=parseFloat(this.config.duration),t=(this.media||{}).duration,i=$(t)&&t!==1/0?t:0;return e||i}set volume(e){let t=e;_(t)&&(t=Number(t)),$(t)||(t=this.storage.get("volume")),$(t)||({volume:t}=this.config),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!W(e)&&this.muted&&t>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let t=e;O(t)||(t=this.storage.get("muted")),O(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}get muted(){return Boolean(this.media.muted)}get hasAudio(){return!this.isHTML5||(!!this.isAudio||(Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)))}set speed(e){let t=null;$(e)&&(t=e),$(t)||(t=this.storage.get("speed")),$(t)||(t=this.config.speed.selected);const{minimumSpeed:i,maximumSpeed:s}=this;t=function(e=0,t=0,i=255){return Math.min(Math.max(e,t),i)}(t,i,s),this.config.speed.selected=t,setTimeout((()=>{this.media.playbackRate=t}),0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){const t=this.config.quality,i=this.options.quality;if(!i.length)return;let s=[!W(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find($),n=!0;if(!i.includes(s)){const e=Ae(i,s);this.debug.warn(`Unsupported quality option: ${s}, using ${e} instead`),s=e,n=!1}t.selected=s,this.media.quality=s,n&&this.storage.set({quality:s})}get quality(){return this.media.quality}set loop(e){const t=O(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}get loop(){return Boolean(this.media.loop)}set source(e){yt.change.call(this,e)}get source(){return this.media.currentSrc}get download(){const{download:e}=this.config.urls;return U(e)?e:this.source}set download(e){U(e)&&(this.config.urls.download=e,Ue.setDownloadUrl.call(this))}set poster(e){this.isVideo?nt.setPoster.call(this,e,!1).catch((()=>{})):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e=Pe(Ne.call(this));return j(e)?e.join(":"):e}set ratio(e){this.isVideo?_(e)&&Ee(e)?(this.config.ratio=Pe(e),Me.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){const t=O(e)?e:this.config.autoplay;this.config.autoplay=t}get autoplay(){return Boolean(this.config.autoplay)}toggleCaptions(e){Ke.toggle.call(this,e,!1)}set currentTrack(e){Ke.set.call(this,e,!1)}get currentTrack(){const{toggled:e,currentTrack:t}=this.captions;return e?t:-1}set language(e){Ke.setLanguage.call(this,e,!1)}get language(){return(Ke.getCurrentTrack.call(this)||{}).language}set pip(e){if(!me.pip)return;const t=O(e)?e:!this.pip;q(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?Qe:Xe),q(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}get pip(){return me.pip?W(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Qe:null}static supported(e,t,i){return me.check(e,t,i)}static loadSprite(e,t){return Re(e,t)}static setup(e,t={}){let i=null;return _(e)?i=Array.from(document.querySelectorAll(e)):D(e)?i=Array.from(e):j(e)&&(i=e.filter(H)),W(i)?null:i.map((e=>new vt(e,t)))}}var wt;return vt.defaults=(wt=Ye,JSON.parse(JSON.stringify(wt))),vt}));
//# sourceMappingURL=plyr.min.js.map

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/polished/dist/polished.esm.js":
/*!****************************************************!*\
  !*** ./node_modules/polished/dist/polished.esm.js ***!
  \****************************************************/
/*! exports provided: adjustHue, animation, backgroundImages, backgrounds, between, border, borderColor, borderRadius, borderStyle, borderWidth, buttons, clearFix, complement, cover, cssVar, darken, desaturate, directionalProperty, easeIn, easeInOut, easeOut, ellipsis, em, fluidRange, fontFace, getContrast, getLuminance, getValueAndUnit, grayscale, hiDPI, hideText, hideVisually, hsl, hslToColorString, hsla, important, invert, lighten, linearGradient, margin, math, meetsContrastGuidelines, mix, modularScale, normalize, opacify, padding, parseToHsl, parseToRgb, position, radialGradient, readableColor, rem, remToPx, retinaImage, rgb, rgbToColorString, rgba, saturate, setHue, setLightness, setSaturation, shade, size, stripUnit, textInputs, timingFunctions, tint, toColorString, transitions, transparentize, triangle, wordWrap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "adjustHue", function() { return curriedAdjustHue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "animation", function() { return animation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "backgroundImages", function() { return backgroundImages; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "backgrounds", function() { return backgrounds; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "between", function() { return between; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "border", function() { return border; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "borderColor", function() { return borderColor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "borderRadius", function() { return borderRadius; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "borderStyle", function() { return borderStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "borderWidth", function() { return borderWidth; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buttons", function() { return buttons; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clearFix", function() { return clearFix; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "complement", function() { return complement; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cover", function() { return cover; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cssVar", function() { return cssVar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "darken", function() { return curriedDarken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "desaturate", function() { return curriedDesaturate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "directionalProperty", function() { return directionalProperty; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "easeIn", function() { return easeIn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "easeInOut", function() { return easeInOut; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "easeOut", function() { return easeOut; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ellipsis", function() { return ellipsis; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "em", function() { return em; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fluidRange", function() { return fluidRange; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fontFace", function() { return fontFace; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getContrast", function() { return getContrast; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLuminance", function() { return getLuminance; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getValueAndUnit", function() { return getValueAndUnit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "grayscale", function() { return grayscale; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hiDPI", function() { return hiDPI; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hideText", function() { return hideText; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hideVisually", function() { return hideVisually; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hsl", function() { return hsl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hslToColorString", function() { return hslToColorString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hsla", function() { return hsla; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "important", function() { return important; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "invert", function() { return invert; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lighten", function() { return curriedLighten; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "linearGradient", function() { return linearGradient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "margin", function() { return margin; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "math", function() { return math; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "meetsContrastGuidelines", function() { return meetsContrastGuidelines; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mix", function() { return curriedMix; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "modularScale", function() { return modularScale; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalize", function() { return normalize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "opacify", function() { return curriedOpacify; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "padding", function() { return padding; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseToHsl", function() { return parseToHsl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseToRgb", function() { return parseToRgb; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "position", function() { return position; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "radialGradient", function() { return radialGradient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "readableColor", function() { return readableColor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rem", function() { return rem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "remToPx", function() { return remToPx; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "retinaImage", function() { return retinaImage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rgb", function() { return rgb; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rgbToColorString", function() { return rgbToColorString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rgba", function() { return rgba; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "saturate", function() { return curriedSaturate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setHue", function() { return curriedSetHue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setLightness", function() { return curriedSetLightness; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setSaturation", function() { return curriedSetSaturation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shade", function() { return curriedShade; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "size", function() { return size; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stripUnit", function() { return stripUnit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "textInputs", function() { return textInputs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "timingFunctions", function() { return timingFunctions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tint", function() { return curriedTint; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toColorString", function() { return toColorString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "transitions", function() { return transitions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "transparentize", function() { return curriedTransparentize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "triangle", function() { return triangle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "wordWrap", function() { return wordWrap; });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/inheritsLoose */ "./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js");
/* harmony import */ var _babel_runtime_helpers_esm_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/esm/wrapNativeSuper */ "./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js");
/* harmony import */ var _babel_runtime_helpers_esm_taggedTemplateLiteralLoose__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/esm/taggedTemplateLiteralLoose */ "./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js");






function last() {
  var _ref;

  return _ref = arguments.length - 1, _ref < 0 || arguments.length <= _ref ? undefined : arguments[_ref];
}

function negation(a) {
  return -a;
}

function addition(a, b) {
  return a + b;
}

function subtraction(a, b) {
  return a - b;
}

function multiplication(a, b) {
  return a * b;
}

function division(a, b) {
  return a / b;
}

function max() {
  return Math.max.apply(Math, arguments);
}

function min() {
  return Math.min.apply(Math, arguments);
}

function comma() {
  return Array.of.apply(Array, arguments);
}

var defaultSymbols = {
  symbols: {
    '*': {
      infix: {
        symbol: '*',
        f: multiplication,
        notation: 'infix',
        precedence: 4,
        rightToLeft: 0,
        argCount: 2
      },
      symbol: '*',
      regSymbol: '\\*'
    },
    '/': {
      infix: {
        symbol: '/',
        f: division,
        notation: 'infix',
        precedence: 4,
        rightToLeft: 0,
        argCount: 2
      },
      symbol: '/',
      regSymbol: '/'
    },
    '+': {
      infix: {
        symbol: '+',
        f: addition,
        notation: 'infix',
        precedence: 2,
        rightToLeft: 0,
        argCount: 2
      },
      prefix: {
        symbol: '+',
        f: last,
        notation: 'prefix',
        precedence: 3,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: '+',
      regSymbol: '\\+'
    },
    '-': {
      infix: {
        symbol: '-',
        f: subtraction,
        notation: 'infix',
        precedence: 2,
        rightToLeft: 0,
        argCount: 2
      },
      prefix: {
        symbol: '-',
        f: negation,
        notation: 'prefix',
        precedence: 3,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: '-',
      regSymbol: '-'
    },
    ',': {
      infix: {
        symbol: ',',
        f: comma,
        notation: 'infix',
        precedence: 1,
        rightToLeft: 0,
        argCount: 2
      },
      symbol: ',',
      regSymbol: ','
    },
    '(': {
      prefix: {
        symbol: '(',
        f: last,
        notation: 'prefix',
        precedence: 0,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: '(',
      regSymbol: '\\('
    },
    ')': {
      postfix: {
        symbol: ')',
        f: undefined,
        notation: 'postfix',
        precedence: 0,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: ')',
      regSymbol: '\\)'
    },
    min: {
      func: {
        symbol: 'min',
        f: min,
        notation: 'func',
        precedence: 0,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: 'min',
      regSymbol: 'min\\b'
    },
    max: {
      func: {
        symbol: 'max',
        f: max,
        notation: 'func',
        precedence: 0,
        rightToLeft: 0,
        argCount: 1
      },
      symbol: 'max',
      regSymbol: 'max\\b'
    }
  }
};

// based on https://github.com/styled-components/styled-components/blob/fcf6f3804c57a14dd7984dfab7bc06ee2edca044/src/utils/error.js

/**
 * Parse errors.md and turn it into a simple hash of code: message
 * @private
 */
var ERRORS = {
  "1": "Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).\n\n",
  "2": "Passed invalid arguments to hsla, please pass multiple numbers e.g. hsla(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).\n\n",
  "3": "Passed an incorrect argument to a color function, please pass a string representation of a color.\n\n",
  "4": "Couldn't generate valid rgb string from %s, it returned %s.\n\n",
  "5": "Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.\n\n",
  "6": "Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).\n\n",
  "7": "Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).\n\n",
  "8": "Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.\n\n",
  "9": "Please provide a number of steps to the modularScale helper.\n\n",
  "10": "Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\n\n",
  "11": "Invalid value passed as base to modularScale, expected number or em string but got \"%s\"\n\n",
  "12": "Expected a string ending in \"px\" or a number passed as the first argument to %s(), got \"%s\" instead.\n\n",
  "13": "Expected a string ending in \"px\" or a number passed as the second argument to %s(), got \"%s\" instead.\n\n",
  "14": "Passed invalid pixel value (\"%s\") to %s(), please pass a value like \"12px\" or 12.\n\n",
  "15": "Passed invalid base value (\"%s\") to %s(), please pass a value like \"12px\" or 12.\n\n",
  "16": "You must provide a template to this method.\n\n",
  "17": "You passed an unsupported selector state to this method.\n\n",
  "18": "minScreen and maxScreen must be provided as stringified numbers with the same units.\n\n",
  "19": "fromSize and toSize must be provided as stringified numbers with the same units.\n\n",
  "20": "expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\n\n",
  "21": "expects the objects in the first argument array to have the properties `prop`, `fromSize`, and `toSize`.\n\n",
  "22": "expects the first argument object to have the properties `prop`, `fromSize`, and `toSize`.\n\n",
  "23": "fontFace expects a name of a font-family.\n\n",
  "24": "fontFace expects either the path to the font file(s) or a name of a local copy.\n\n",
  "25": "fontFace expects localFonts to be an array.\n\n",
  "26": "fontFace expects fileFormats to be an array.\n\n",
  "27": "radialGradient requries at least 2 color-stops to properly render.\n\n",
  "28": "Please supply a filename to retinaImage() as the first argument.\n\n",
  "29": "Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\n\n",
  "30": "Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\n\n",
  "31": "The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation\n\n",
  "32": "To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s')\n\n",
  "33": "The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation\n\n",
  "34": "borderRadius expects a radius value as a string or number as the second argument.\n\n",
  "35": "borderRadius expects one of \"top\", \"bottom\", \"left\" or \"right\" as the first argument.\n\n",
  "36": "Property must be a string value.\n\n",
  "37": "Syntax Error at %s.\n\n",
  "38": "Formula contains a function that needs parentheses at %s.\n\n",
  "39": "Formula is missing closing parenthesis at %s.\n\n",
  "40": "Formula has too many closing parentheses at %s.\n\n",
  "41": "All values in a formula must have the same unit or be unitless.\n\n",
  "42": "Please provide a number of steps to the modularScale helper.\n\n",
  "43": "Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\n\n",
  "44": "Invalid value passed as base to modularScale, expected number or em/rem string but got %s.\n\n",
  "45": "Passed invalid argument to hslToColorString, please pass a HslColor or HslaColor object.\n\n",
  "46": "Passed invalid argument to rgbToColorString, please pass a RgbColor or RgbaColor object.\n\n",
  "47": "minScreen and maxScreen must be provided as stringified numbers with the same units.\n\n",
  "48": "fromSize and toSize must be provided as stringified numbers with the same units.\n\n",
  "49": "Expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\n\n",
  "50": "Expects the objects in the first argument array to have the properties prop, fromSize, and toSize.\n\n",
  "51": "Expects the first argument object to have the properties prop, fromSize, and toSize.\n\n",
  "52": "fontFace expects either the path to the font file(s) or a name of a local copy.\n\n",
  "53": "fontFace expects localFonts to be an array.\n\n",
  "54": "fontFace expects fileFormats to be an array.\n\n",
  "55": "fontFace expects a name of a font-family.\n\n",
  "56": "linearGradient requries at least 2 color-stops to properly render.\n\n",
  "57": "radialGradient requries at least 2 color-stops to properly render.\n\n",
  "58": "Please supply a filename to retinaImage() as the first argument.\n\n",
  "59": "Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\n\n",
  "60": "Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\n\n",
  "61": "Property must be a string value.\n\n",
  "62": "borderRadius expects a radius value as a string or number as the second argument.\n\n",
  "63": "borderRadius expects one of \"top\", \"bottom\", \"left\" or \"right\" as the first argument.\n\n",
  "64": "The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation.\n\n",
  "65": "To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s').\n\n",
  "66": "The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation.\n\n",
  "67": "You must provide a template to this method.\n\n",
  "68": "You passed an unsupported selector state to this method.\n\n",
  "69": "Expected a string ending in \"px\" or a number passed as the first argument to %s(), got %s instead.\n\n",
  "70": "Expected a string ending in \"px\" or a number passed as the second argument to %s(), got %s instead.\n\n",
  "71": "Passed invalid pixel value %s to %s(), please pass a value like \"12px\" or 12.\n\n",
  "72": "Passed invalid base value %s to %s(), please pass a value like \"12px\" or 12.\n\n",
  "73": "Please provide a valid CSS variable.\n\n",
  "74": "CSS variable not found and no default was provided.\n\n",
  "75": "important requires a valid style object, got a %s instead.\n\n",
  "76": "fromSize and toSize must be provided as stringified numbers with the same units as minScreen and maxScreen.\n\n",
  "77": "remToPx expects a value in \"rem\" but you provided it in \"%s\".\n\n",
  "78": "base must be set in \"px\" or \"%\" but you set it in \"%s\".\n"
};
/**
 * super basic version of sprintf
 * @private
 */

function format() {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  var a = args[0];
  var b = [];
  var c;

  for (c = 1; c < args.length; c += 1) {
    b.push(args[c]);
  }

  b.forEach(function (d) {
    a = a.replace(/%[a-z]/, d);
  });
  return a;
}
/**
 * Create an error file out of errors.md for development and a simple web link to the full errors
 * in production mode.
 * @private
 */


var PolishedError = /*#__PURE__*/function (_Error) {
  Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_2__["default"])(PolishedError, _Error);

  function PolishedError(code) {
    var _this;

    if (false) {} else {
      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
        args[_key2 - 1] = arguments[_key2];
      }

      _this = _Error.call(this, format.apply(void 0, [ERRORS[code]].concat(args))) || this;
    }

    return Object(_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1__["default"])(_this);
  }

  return PolishedError;
}( /*#__PURE__*/Object(_babel_runtime_helpers_esm_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_3__["default"])(Error));

var unitRegExp = /((?!\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\D|$)|ged|darg?|nrut)/g; // Merges additional math functionality into the defaults.

function mergeSymbolMaps(additionalSymbols) {
  var symbolMap = {};
  symbolMap.symbols = additionalSymbols ? Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, defaultSymbols.symbols, additionalSymbols.symbols) : Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, defaultSymbols.symbols);
  return symbolMap;
}

function exec(operators, values) {
  var _ref;

  var op = operators.pop();
  values.push(op.f.apply(op, (_ref = []).concat.apply(_ref, values.splice(-op.argCount))));
  return op.precedence;
}

function calculate(expression, additionalSymbols) {
  var symbolMap = mergeSymbolMaps(additionalSymbols);
  var match;
  var operators = [symbolMap.symbols['('].prefix];
  var values = [];
  var pattern = new RegExp( // Pattern for numbers
  "\\d+(?:\\.\\d+)?|" + // ...and patterns for individual operators/function names
  Object.keys(symbolMap.symbols).map(function (key) {
    return symbolMap.symbols[key];
  }) // longer symbols should be listed first
  // $FlowFixMe
  .sort(function (a, b) {
    return b.symbol.length - a.symbol.length;
  }) // $FlowFixMe
  .map(function (val) {
    return val.regSymbol;
  }).join('|') + "|(\\S)", 'g');
  pattern.lastIndex = 0; // Reset regular expression object

  var afterValue = false;

  do {
    match = pattern.exec(expression);

    var _ref2 = match || [')', undefined],
        token = _ref2[0],
        bad = _ref2[1];

    var notNumber = symbolMap.symbols[token];
    var notNewValue = notNumber && !notNumber.prefix && !notNumber.func;
    var notAfterValue = !notNumber || !notNumber.postfix && !notNumber.infix; // Check for syntax errors:

    if (bad || (afterValue ? notAfterValue : notNewValue)) {
      throw new PolishedError(37, match ? match.index : expression.length, expression);
    }

    if (afterValue) {
      // We either have an infix or postfix operator (they should be mutually exclusive)
      var curr = notNumber.postfix || notNumber.infix;

      do {
        var prev = operators[operators.length - 1];
        if ((curr.precedence - prev.precedence || prev.rightToLeft) > 0) break; // Apply previous operator, since it has precedence over current one
      } while (exec(operators, values)); // Exit loop after executing an opening parenthesis or function


      afterValue = curr.notation === 'postfix';

      if (curr.symbol !== ')') {
        operators.push(curr); // Postfix always has precedence over any operator that follows after it

        if (afterValue) exec(operators, values);
      }
    } else if (notNumber) {
      // prefix operator or function
      operators.push(notNumber.prefix || notNumber.func);

      if (notNumber.func) {
        // Require an opening parenthesis
        match = pattern.exec(expression);

        if (!match || match[0] !== '(') {
          throw new PolishedError(38, match ? match.index : expression.length, expression);
        }
      }
    } else {
      // number
      values.push(+token);
      afterValue = true;
    }
  } while (match && operators.length);

  if (operators.length) {
    throw new PolishedError(39, match ? match.index : expression.length, expression);
  } else if (match) {
    throw new PolishedError(40, match ? match.index : expression.length, expression);
  } else {
    return values.pop();
  }
}

function reverseString(str) {
  return str.split('').reverse().join('');
}
/**
 * Helper for doing math with CSS Units. Accepts a formula as a string. All values in the formula must have the same unit (or be unitless). Supports complex formulas utliziing addition, subtraction, multiplication, division, square root, powers, factorial, min, max, as well as parentheses for order of operation.
 *
 *In cases where you need to do calculations with mixed units where one unit is a [relative length unit](https://developer.mozilla.org/en-US/docs/Web/CSS/length#Relative_length_units), you will want to use [CSS Calc](https://developer.mozilla.org/en-US/docs/Web/CSS/calc).
 *
 * *warning* While we've done everything possible to ensure math safely evalutes formulas expressed as strings, you should always use extreme caution when passing `math` user provided values.
 * @example
 * // Styles as object usage
 * const styles = {
 *   fontSize: math('12rem + 8rem'),
 *   fontSize: math('(12px + 2px) * 3'),
 *   fontSize: math('3px^2 + sqrt(4)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   fontSize: ${math('12rem + 8rem')};
 *   fontSize: ${math('(12px + 2px) * 3')};
 *   fontSize: ${math('3px^2 + sqrt(4)')};
 * `
 *
 * // CSS as JS Output
 *
 * div: {
 *   fontSize: '20rem',
 *   fontSize: '42px',
 *   fontSize: '11px',
 * }
 */


function math(formula, additionalSymbols) {
  var reversedFormula = reverseString(formula);
  var formulaMatch = reversedFormula.match(unitRegExp); // Check that all units are the same

  if (formulaMatch && !formulaMatch.every(function (unit) {
    return unit === formulaMatch[0];
  })) {
    throw new PolishedError(41);
  }

  var cleanFormula = reverseString(reversedFormula.replace(unitRegExp, ''));
  return "" + calculate(cleanFormula, additionalSymbols) + (formulaMatch ? reverseString(formulaMatch[0]) : '');
}

var cssVariableRegex = /--[\S]*/g;
/**
 * Fetches the value of a passed CSS Variable in the :root scope, or otherwise returns a defaultValue if provided.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   'background': cssVar('--background-color'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${cssVar('--background-color')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   'background': 'red'
 * }
 */

function cssVar(cssVariable, defaultValue) {
  if (!cssVariable || !cssVariable.match(cssVariableRegex)) {
    throw new PolishedError(73);
  }

  var variableValue;
  /* eslint-disable */

  /* istanbul ignore next */

  if (typeof document !== 'undefined' && document.documentElement !== null) {
    variableValue = getComputedStyle(document.documentElement).getPropertyValue(cssVariable);
  }
  /* eslint-enable */


  if (variableValue) {
    return variableValue.trim();
  } else if (defaultValue) {
    return defaultValue;
  }

  throw new PolishedError(74);
}

// @private
function capitalizeString(string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
}

var positionMap$1 = ['Top', 'Right', 'Bottom', 'Left'];

function generateProperty(property, position) {
  if (!property) return position.toLowerCase();
  var splitProperty = property.split('-');

  if (splitProperty.length > 1) {
    splitProperty.splice(1, 0, position);
    return splitProperty.reduce(function (acc, val) {
      return "" + acc + capitalizeString(val);
    });
  }

  var joinedProperty = property.replace(/([a-z])([A-Z])/g, "$1" + position + "$2");
  return property === joinedProperty ? "" + property + position : joinedProperty;
}

function generateStyles(property, valuesWithDefaults) {
  var styles = {};

  for (var i = 0; i < valuesWithDefaults.length; i += 1) {
    if (valuesWithDefaults[i] || valuesWithDefaults[i] === 0) {
      styles[generateProperty(property, positionMap$1[i])] = valuesWithDefaults[i];
    }
  }

  return styles;
}
/**
 * Enables shorthand for direction-based properties. It accepts a property (hyphenated or camelCased) and up to four values that map to top, right, bottom, and left, respectively. You can optionally pass an empty string to get only the directional values as properties. You can also optionally pass a null argument for a directional value to ignore it.
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...directionalProperty('padding', '12px', '24px', '36px', '48px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${directionalProperty('padding', '12px', '24px', '36px', '48px')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'paddingTop': '12px',
 *   'paddingRight': '24px',
 *   'paddingBottom': '36px',
 *   'paddingLeft': '48px'
 * }
 */


function directionalProperty(property) {
  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    values[_key - 1] = arguments[_key];
  }

  //  prettier-ignore
  var firstValue = values[0],
      _values$ = values[1],
      secondValue = _values$ === void 0 ? firstValue : _values$,
      _values$2 = values[2],
      thirdValue = _values$2 === void 0 ? firstValue : _values$2,
      _values$3 = values[3],
      fourthValue = _values$3 === void 0 ? secondValue : _values$3;
  var valuesWithDefaults = [firstValue, secondValue, thirdValue, fourthValue];
  return generateStyles(property, valuesWithDefaults);
}

/**
 * Check if a string ends with something
 * @private
 */
function endsWith(string, suffix) {
  return string.substr(-suffix.length) === suffix;
}

var cssRegex$1 = /^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;
/**
 * Returns a given CSS value minus its unit of measure.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   '--dimension': stripUnit('100px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   --dimension: ${stripUnit('100px')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   '--dimension': 100
 * }
 */

function stripUnit(value) {
  if (typeof value !== 'string') return value;
  var matchedValue = value.match(cssRegex$1);
  return matchedValue ? parseFloat(value) : value;
}

/**
 * Factory function that creates pixel-to-x converters
 * @private
 */

var pxtoFactory = function pxtoFactory(to) {
  return function (pxval, base) {
    if (base === void 0) {
      base = '16px';
    }

    var newPxval = pxval;
    var newBase = base;

    if (typeof pxval === 'string') {
      if (!endsWith(pxval, 'px')) {
        throw new PolishedError(69, to, pxval);
      }

      newPxval = stripUnit(pxval);
    }

    if (typeof base === 'string') {
      if (!endsWith(base, 'px')) {
        throw new PolishedError(70, to, base);
      }

      newBase = stripUnit(base);
    }

    if (typeof newPxval === 'string') {
      throw new PolishedError(71, pxval, to);
    }

    if (typeof newBase === 'string') {
      throw new PolishedError(72, base, to);
    }

    return "" + newPxval / newBase + to;
  };
};

/**
 * Convert pixel value to ems. The default base value is 16px, but can be changed by passing a
 * second argument to the function.
 * @function
 * @param {string|number} pxval
 * @param {string|number} [base='16px']
 * @example
 * // Styles as object usage
 * const styles = {
 *   'height': em('16px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   height: ${em('16px')}
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   'height': '1em'
 * }
 */

var em = /*#__PURE__*/pxtoFactory('em');

var cssRegex = /^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;
/**
 * Returns a given CSS value and its unit as elements of an array.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   '--dimension': getValueAndUnit('100px')[0],
 *   '--unit': getValueAndUnit('100px')[1],
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   --dimension: ${getValueAndUnit('100px')[0]};
 *   --unit: ${getValueAndUnit('100px')[1]};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   '--dimension': 100,
 *   '--unit': 'px',
 * }
 */

function getValueAndUnit(value) {
  if (typeof value !== 'string') return [value, ''];
  var matchedValue = value.match(cssRegex);
  if (matchedValue) return [parseFloat(value), matchedValue[2]];
  return [value, undefined];
}

/**
 * Helper for targeting rules in a style block generated by polished modules that need !important-level specificity. Can optionally specify a rule (or rules) to target specific rules.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...important(cover())
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${important(cover())}
 * `
 *
 * // CSS as JS Output
 *
 * div: {
 *   'position': 'absolute !important',
 *   'top': '0 !important',
 *   'right: '0 !important',
 *   'bottom': '0 !important',
 *   'left: '0 !important'
 * }
 */

function important(styleBlock, rules) {
  if (typeof styleBlock !== 'object' || styleBlock === null) {
    throw new PolishedError(75, typeof styleBlock);
  }

  var newStyleBlock = {};
  Object.keys(styleBlock).forEach(function (key) {
    if (typeof styleBlock[key] === 'object' && styleBlock[key] !== null) {
      newStyleBlock[key] = important(styleBlock[key], rules);
    } else if (!rules || rules && (rules === key || rules.indexOf(key) >= 0)) {
      newStyleBlock[key] = styleBlock[key] + " !important";
    } else {
      newStyleBlock[key] = styleBlock[key];
    }
  });
  return newStyleBlock;
}

var ratioNames = {
  minorSecond: 1.067,
  majorSecond: 1.125,
  minorThird: 1.2,
  majorThird: 1.25,
  perfectFourth: 1.333,
  augFourth: 1.414,
  perfectFifth: 1.5,
  minorSixth: 1.6,
  goldenSection: 1.618,
  majorSixth: 1.667,
  minorSeventh: 1.778,
  majorSeventh: 1.875,
  octave: 2,
  majorTenth: 2.5,
  majorEleventh: 2.667,
  majorTwelfth: 3,
  doubleOctave: 4
};

function getRatio(ratioName) {
  return ratioNames[ratioName];
}
/**
 * Establish consistent measurements and spacial relationships throughout your projects by incrementing an em or rem value up or down a defined scale. We provide a list of commonly used scales as pre-defined variables.
 * @example
 * // Styles as object usage
 * const styles = {
 *    // Increment two steps up the default scale
 *   'fontSize': modularScale(2)
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *    // Increment two steps up the default scale
 *   fontSize: ${modularScale(2)}
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   'fontSize': '1.77689em'
 * }
 */


function modularScale(steps, base, ratio) {
  if (base === void 0) {
    base = '1em';
  }

  if (ratio === void 0) {
    ratio = 1.333;
  }

  if (typeof steps !== 'number') {
    throw new PolishedError(42);
  }

  if (typeof ratio === 'string' && !ratioNames[ratio]) {
    throw new PolishedError(43);
  }

  var _ref = typeof base === 'string' ? getValueAndUnit(base) : [base, ''],
      realBase = _ref[0],
      unit = _ref[1];

  var realRatio = typeof ratio === 'string' ? getRatio(ratio) : ratio;

  if (typeof realBase === 'string') {
    throw new PolishedError(44, base);
  }

  return "" + realBase * Math.pow(realRatio, steps) + (unit || '');
}

/**
 * Convert pixel value to rems. The default base value is 16px, but can be changed by passing a
 * second argument to the function.
 * @function
 * @param {string|number} pxval
 * @param {string|number} [base='16px']
 * @example
 * // Styles as object usage
 * const styles = {
 *   'height': rem('16px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   height: ${rem('16px')}
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   'height': '1rem'
 * }
 */

var rem = /*#__PURE__*/pxtoFactory('rem');

var defaultFontSize = 16;

function convertBase(base) {
  var deconstructedValue = getValueAndUnit(base);

  if (deconstructedValue[1] === 'px') {
    return parseFloat(base);
  }

  if (deconstructedValue[1] === '%') {
    return parseFloat(base) / 100 * defaultFontSize;
  }

  throw new PolishedError(78, deconstructedValue[1]);
}

function getBaseFromDoc() {
  /* eslint-disable */

  /* istanbul ignore next */
  if (typeof document !== 'undefined' && document.documentElement !== null) {
    var rootFontSize = getComputedStyle(document.documentElement).fontSize;
    return rootFontSize ? convertBase(rootFontSize) : defaultFontSize;
  }
  /* eslint-enable */

  /* istanbul ignore next */


  return defaultFontSize;
}
/**
 * Convert rem values to px. By default, the base value is pulled from the font-size property on the root element (if it is set in % or px). It defaults to 16px if not found on the root. You can also override the base value by providing your own base in % or px.
 * @example
 * // Styles as object usage
 * const styles = {
 *   'height': remToPx('1.6rem')
 *   'height': remToPx('1.6rem', '10px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   height: ${remToPx('1.6rem')}
 *   height: ${remToPx('1.6rem', '10px')}
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   'height': '25.6px',
 *   'height': '16px',
 * }
 */


function remToPx(value, base) {
  var deconstructedValue = getValueAndUnit(value);

  if (deconstructedValue[1] !== 'rem' && deconstructedValue[1] !== '') {
    throw new PolishedError(77, deconstructedValue[1]);
  }

  var newBase = base ? convertBase(base) : getBaseFromDoc();
  return deconstructedValue[0] * newBase + "px";
}

var functionsMap$3 = {
  back: 'cubic-bezier(0.600, -0.280, 0.735, 0.045)',
  circ: 'cubic-bezier(0.600,  0.040, 0.980, 0.335)',
  cubic: 'cubic-bezier(0.550,  0.055, 0.675, 0.190)',
  expo: 'cubic-bezier(0.950,  0.050, 0.795, 0.035)',
  quad: 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',
  quart: 'cubic-bezier(0.895,  0.030, 0.685, 0.220)',
  quint: 'cubic-bezier(0.755,  0.050, 0.855, 0.060)',
  sine: 'cubic-bezier(0.470,  0.000, 0.745, 0.715)'
};
/**
 * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   'transitionTimingFunction': easeIn('quad')
 * }
 *
 * // styled-components usage
 *  const div = styled.div`
 *   transitionTimingFunction: ${easeIn('quad')};
 * `
 *
 * // CSS as JS Output
 *
 * 'div': {
 *   'transitionTimingFunction': 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',
 * }
 */

function easeIn(functionName) {
  return functionsMap$3[functionName.toLowerCase().trim()];
}

var functionsMap$2 = {
  back: 'cubic-bezier(0.680, -0.550, 0.265, 1.550)',
  circ: 'cubic-bezier(0.785,  0.135, 0.150, 0.860)',
  cubic: 'cubic-bezier(0.645,  0.045, 0.355, 1.000)',
  expo: 'cubic-bezier(1.000,  0.000, 0.000, 1.000)',
  quad: 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',
  quart: 'cubic-bezier(0.770,  0.000, 0.175, 1.000)',
  quint: 'cubic-bezier(0.860,  0.000, 0.070, 1.000)',
  sine: 'cubic-bezier(0.445,  0.050, 0.550, 0.950)'
};
/**
 * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   'transitionTimingFunction': easeInOut('quad')
 * }
 *
 * // styled-components usage
 *  const div = styled.div`
 *   transitionTimingFunction: ${easeInOut('quad')};
 * `
 *
 * // CSS as JS Output
 *
 * 'div': {
 *   'transitionTimingFunction': 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',
 * }
 */

function easeInOut(functionName) {
  return functionsMap$2[functionName.toLowerCase().trim()];
}

var functionsMap$1 = {
  back: 'cubic-bezier(0.175,  0.885, 0.320, 1.275)',
  cubic: 'cubic-bezier(0.215,  0.610, 0.355, 1.000)',
  circ: 'cubic-bezier(0.075,  0.820, 0.165, 1.000)',
  expo: 'cubic-bezier(0.190,  1.000, 0.220, 1.000)',
  quad: 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',
  quart: 'cubic-bezier(0.165,  0.840, 0.440, 1.000)',
  quint: 'cubic-bezier(0.230,  1.000, 0.320, 1.000)',
  sine: 'cubic-bezier(0.390,  0.575, 0.565, 1.000)'
};
/**
 * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   'transitionTimingFunction': easeOut('quad')
 * }
 *
 * // styled-components usage
 *  const div = styled.div`
 *   transitionTimingFunction: ${easeOut('quad')};
 * `
 *
 * // CSS as JS Output
 *
 * 'div': {
 *   'transitionTimingFunction': 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',
 * }
 */

function easeOut(functionName) {
  return functionsMap$1[functionName.toLowerCase().trim()];
}

/**
 * Returns a CSS calc formula for linear interpolation of a property between two values. Accepts optional minScreen (defaults to '320px') and maxScreen (defaults to '1200px').
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   fontSize: between('20px', '100px', '400px', '1000px'),
 *   fontSize: between('20px', '100px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   fontSize: ${between('20px', '100px', '400px', '1000px')};
 *   fontSize: ${between('20px', '100px')}
 * `
 *
 * // CSS as JS Output
 *
 * h1: {
 *   'fontSize': 'calc(-33.33333333333334px + 13.333333333333334vw)',
 *   'fontSize': 'calc(-9.090909090909093px + 9.090909090909092vw)'
 * }
 */

function between(fromSize, toSize, minScreen, maxScreen) {
  if (minScreen === void 0) {
    minScreen = '320px';
  }

  if (maxScreen === void 0) {
    maxScreen = '1200px';
  }

  var _getValueAndUnit = getValueAndUnit(fromSize),
      unitlessFromSize = _getValueAndUnit[0],
      fromSizeUnit = _getValueAndUnit[1];

  var _getValueAndUnit2 = getValueAndUnit(toSize),
      unitlessToSize = _getValueAndUnit2[0],
      toSizeUnit = _getValueAndUnit2[1];

  var _getValueAndUnit3 = getValueAndUnit(minScreen),
      unitlessMinScreen = _getValueAndUnit3[0],
      minScreenUnit = _getValueAndUnit3[1];

  var _getValueAndUnit4 = getValueAndUnit(maxScreen),
      unitlessMaxScreen = _getValueAndUnit4[0],
      maxScreenUnit = _getValueAndUnit4[1];

  if (typeof unitlessMinScreen !== 'number' || typeof unitlessMaxScreen !== 'number' || !minScreenUnit || !maxScreenUnit || minScreenUnit !== maxScreenUnit) {
    throw new PolishedError(47);
  }

  if (typeof unitlessFromSize !== 'number' || typeof unitlessToSize !== 'number' || fromSizeUnit !== toSizeUnit) {
    throw new PolishedError(48);
  }

  if (fromSizeUnit !== minScreenUnit || toSizeUnit !== maxScreenUnit) {
    throw new PolishedError(76);
  }

  var slope = (unitlessFromSize - unitlessToSize) / (unitlessMinScreen - unitlessMaxScreen);
  var base = unitlessToSize - slope * unitlessMaxScreen;
  return "calc(" + base.toFixed(2) + (fromSizeUnit || '') + " + " + (100 * slope).toFixed(2) + "vw)";
}

/**
 * CSS to contain a float (credit to CSSMojo).
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *    ...clearFix(),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${clearFix()}
 * `
 *
 * // CSS as JS Output
 *
 * '&::after': {
 *   'clear': 'both',
 *   'content': '""',
 *   'display': 'table'
 * }
 */
function clearFix(parent) {
  var _ref;

  if (parent === void 0) {
    parent = '&';
  }

  var pseudoSelector = parent + "::after";
  return _ref = {}, _ref[pseudoSelector] = {
    clear: 'both',
    content: '""',
    display: 'table'
  }, _ref;
}

/**
 * CSS to fully cover an area. Can optionally be passed an offset to act as a "padding".
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...cover()
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${cover()}
 * `
 *
 * // CSS as JS Output
 *
 * div: {
 *   'position': 'absolute',
 *   'top': '0',
 *   'right: '0',
 *   'bottom': '0',
 *   'left: '0'
 * }
 */
function cover(offset) {
  if (offset === void 0) {
    offset = 0;
  }

  return {
    position: 'absolute',
    top: offset,
    right: offset,
    bottom: offset,
    left: offset
  };
}

/**
 * CSS to represent truncated text with an ellipsis. You can optionally pass a max-width and number of lines before truncating.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...ellipsis('250px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${ellipsis('250px')}
 * `
 *
 * // CSS as JS Output
 *
 * div: {
 *   'display': 'inline-block',
 *   'maxWidth': '250px',
 *   'overflow': 'hidden',
 *   'textOverflow': 'ellipsis',
 *   'whiteSpace': 'nowrap',
 *   'wordWrap': 'normal'
 * }
 */
function ellipsis(width, lines) {
  if (lines === void 0) {
    lines = 1;
  }

  var styles = {
    display: 'inline-block',
    maxWidth: width || '100%',
    overflow: 'hidden',
    textOverflow: 'ellipsis',
    whiteSpace: 'nowrap',
    wordWrap: 'normal'
  };
  return lines > 1 ? Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, styles, {
    WebkitBoxOrient: 'vertical',
    WebkitLineClamp: lines,
    display: '-webkit-box',
    whiteSpace: 'normal'
  }) : styles;
}

function _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

/**
 * Returns a set of media queries that resizes a property (or set of properties) between a provided fromSize and toSize. Accepts optional minScreen (defaults to '320px') and maxScreen (defaults to '1200px') to constrain the interpolation.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...fluidRange(
 *    {
 *        prop: 'padding',
 *        fromSize: '20px',
 *        toSize: '100px',
 *      },
 *      '400px',
 *      '1000px',
 *    )
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${fluidRange(
 *      {
 *        prop: 'padding',
 *        fromSize: '20px',
 *        toSize: '100px',
 *      },
 *      '400px',
 *      '1000px',
 *    )}
 * `
 *
 * // CSS as JS Output
 *
 * div: {
 *   "@media (min-width: 1000px)": Object {
 *     "padding": "100px",
 *   },
 *   "@media (min-width: 400px)": Object {
 *     "padding": "calc(-33.33333333333334px + 13.333333333333334vw)",
 *   },
 *   "padding": "20px",
 * }
 */
function fluidRange(cssProp, minScreen, maxScreen) {
  if (minScreen === void 0) {
    minScreen = '320px';
  }

  if (maxScreen === void 0) {
    maxScreen = '1200px';
  }

  if (!Array.isArray(cssProp) && typeof cssProp !== 'object' || cssProp === null) {
    throw new PolishedError(49);
  }

  if (Array.isArray(cssProp)) {
    var mediaQueries = {};
    var fallbacks = {};

    for (var _iterator = _createForOfIteratorHelperLoose(cssProp), _step; !(_step = _iterator()).done;) {
      var _extends2, _extends3;

      var obj = _step.value;

      if (!obj.prop || !obj.fromSize || !obj.toSize) {
        throw new PolishedError(50);
      }

      fallbacks[obj.prop] = obj.fromSize;
      mediaQueries["@media (min-width: " + minScreen + ")"] = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, mediaQueries["@media (min-width: " + minScreen + ")"], (_extends2 = {}, _extends2[obj.prop] = between(obj.fromSize, obj.toSize, minScreen, maxScreen), _extends2));
      mediaQueries["@media (min-width: " + maxScreen + ")"] = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, mediaQueries["@media (min-width: " + maxScreen + ")"], (_extends3 = {}, _extends3[obj.prop] = obj.toSize, _extends3));
    }

    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, fallbacks, mediaQueries);
  } else {
    var _ref, _ref2, _ref3;

    if (!cssProp.prop || !cssProp.fromSize || !cssProp.toSize) {
      throw new PolishedError(51);
    }

    return _ref3 = {}, _ref3[cssProp.prop] = cssProp.fromSize, _ref3["@media (min-width: " + minScreen + ")"] = (_ref = {}, _ref[cssProp.prop] = between(cssProp.fromSize, cssProp.toSize, minScreen, maxScreen), _ref), _ref3["@media (min-width: " + maxScreen + ")"] = (_ref2 = {}, _ref2[cssProp.prop] = cssProp.toSize, _ref2), _ref3;
  }
}

var dataURIRegex = /^\s*data:([a-z]+\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\-._~:@/?%\s]*\s*$/i;
var formatHintMap = {
  woff: 'woff',
  woff2: 'woff2',
  ttf: 'truetype',
  otf: 'opentype',
  eot: 'embedded-opentype',
  svg: 'svg',
  svgz: 'svg'
};

function generateFormatHint(format, formatHint) {
  if (!formatHint) return '';
  return " format(\"" + formatHintMap[format] + "\")";
}

function isDataURI(fontFilePath) {
  return !!fontFilePath.match(dataURIRegex);
}

function generateFileReferences(fontFilePath, fileFormats, formatHint) {
  if (isDataURI(fontFilePath)) {
    return "url(\"" + fontFilePath + "\")" + generateFormatHint(fileFormats[0], formatHint);
  }

  var fileFontReferences = fileFormats.map(function (format) {
    return "url(\"" + fontFilePath + "." + format + "\")" + generateFormatHint(format, formatHint);
  });
  return fileFontReferences.join(', ');
}

function generateLocalReferences(localFonts) {
  var localFontReferences = localFonts.map(function (font) {
    return "local(\"" + font + "\")";
  });
  return localFontReferences.join(', ');
}

function generateSources(fontFilePath, localFonts, fileFormats, formatHint) {
  var fontReferences = [];
  if (localFonts) fontReferences.push(generateLocalReferences(localFonts));

  if (fontFilePath) {
    fontReferences.push(generateFileReferences(fontFilePath, fileFormats, formatHint));
  }

  return fontReferences.join(', ');
}
/**
 * CSS for a @font-face declaration. Defaults to check for local copies of the font on the user's machine. You can disable this by passing `null` to localFonts.
 *
 * @example
 * // Styles as object basic usage
 * const styles = {
 *    ...fontFace({
 *      'fontFamily': 'Sans-Pro',
 *      'fontFilePath': 'path/to/file'
 *    })
 * }
 *
 * // styled-components basic usage
 * const GlobalStyle = createGlobalStyle`${
 *   fontFace({
 *     'fontFamily': 'Sans-Pro',
 *     'fontFilePath': 'path/to/file'
 *   }
 * )}`
 *
 * // CSS as JS Output
 *
 * '@font-face': {
 *   'fontFamily': 'Sans-Pro',
 *   'src': 'url("path/to/file.eot"), url("path/to/file.woff2"), url("path/to/file.woff"), url("path/to/file.ttf"), url("path/to/file.svg")',
 * }
 */


function fontFace(_ref) {
  var fontFamily = _ref.fontFamily,
      fontFilePath = _ref.fontFilePath,
      fontStretch = _ref.fontStretch,
      fontStyle = _ref.fontStyle,
      fontVariant = _ref.fontVariant,
      fontWeight = _ref.fontWeight,
      _ref$fileFormats = _ref.fileFormats,
      fileFormats = _ref$fileFormats === void 0 ? ['eot', 'woff2', 'woff', 'ttf', 'svg'] : _ref$fileFormats,
      _ref$formatHint = _ref.formatHint,
      formatHint = _ref$formatHint === void 0 ? false : _ref$formatHint,
      _ref$localFonts = _ref.localFonts,
      localFonts = _ref$localFonts === void 0 ? [fontFamily] : _ref$localFonts,
      unicodeRange = _ref.unicodeRange,
      fontDisplay = _ref.fontDisplay,
      fontVariationSettings = _ref.fontVariationSettings,
      fontFeatureSettings = _ref.fontFeatureSettings;
  // Error Handling
  if (!fontFamily) throw new PolishedError(55);

  if (!fontFilePath && !localFonts) {
    throw new PolishedError(52);
  }

  if (localFonts && !Array.isArray(localFonts)) {
    throw new PolishedError(53);
  }

  if (!Array.isArray(fileFormats)) {
    throw new PolishedError(54);
  }

  var fontFaceDeclaration = {
    '@font-face': {
      fontFamily: fontFamily,
      src: generateSources(fontFilePath, localFonts, fileFormats, formatHint),
      unicodeRange: unicodeRange,
      fontStretch: fontStretch,
      fontStyle: fontStyle,
      fontVariant: fontVariant,
      fontWeight: fontWeight,
      fontDisplay: fontDisplay,
      fontVariationSettings: fontVariationSettings,
      fontFeatureSettings: fontFeatureSettings
    }
  }; // Removes undefined fields for cleaner css object.

  return JSON.parse(JSON.stringify(fontFaceDeclaration));
}

/**
 * CSS to hide text to show a background image in a SEO-friendly way.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   'backgroundImage': 'url(logo.png)',
 *   ...hideText(),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   backgroundImage: url(logo.png);
 *   ${hideText()};
 * `
 *
 * // CSS as JS Output
 *
 * 'div': {
 *   'backgroundImage': 'url(logo.png)',
 *   'textIndent': '101%',
 *   'overflow': 'hidden',
 *   'whiteSpace': 'nowrap',
 * }
 */
function hideText() {
  return {
    textIndent: '101%',
    overflow: 'hidden',
    whiteSpace: 'nowrap'
  };
}

/**
 * CSS to hide content visually but remain accessible to screen readers.
 * from [HTML5 Boilerplate](https://github.com/h5bp/html5-boilerplate/blob/9a176f57af1cfe8ec70300da4621fb9b07e5fa31/src/css/main.css#L121)
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...hideVisually(),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${hideVisually()};
 * `
 *
 * // CSS as JS Output
 *
 * 'div': {
 *   'border': '0',
 *   'clip': 'rect(0 0 0 0)',
 *   'height': '1px',
 *   'margin': '-1px',
 *   'overflow': 'hidden',
 *   'padding': '0',
 *   'position': 'absolute',
 *   'whiteSpace': 'nowrap',
 *   'width': '1px',
 * }
 */
function hideVisually() {
  return {
    border: '0',
    clip: 'rect(0 0 0 0)',
    height: '1px',
    margin: '-1px',
    overflow: 'hidden',
    padding: '0',
    position: 'absolute',
    whiteSpace: 'nowrap',
    width: '1px'
  };
}

/**
 * Generates a media query to target HiDPI devices.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *  [hiDPI(1.5)]: {
 *    width: 200px;
 *  }
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${hiDPI(1.5)} {
 *     width: 200px;
 *   }
 * `
 *
 * // CSS as JS Output
 *
 * '@media only screen and (-webkit-min-device-pixel-ratio: 1.5),
 *  only screen and (min--moz-device-pixel-ratio: 1.5),
 *  only screen and (-o-min-device-pixel-ratio: 1.5/1),
 *  only screen and (min-resolution: 144dpi),
 *  only screen and (min-resolution: 1.5dppx)': {
 *   'width': '200px',
 * }
 */
function hiDPI(ratio) {
  if (ratio === void 0) {
    ratio = 1.3;
  }

  return "\n    @media only screen and (-webkit-min-device-pixel-ratio: " + ratio + "),\n    only screen and (min--moz-device-pixel-ratio: " + ratio + "),\n    only screen and (-o-min-device-pixel-ratio: " + ratio + "/1),\n    only screen and (min-resolution: " + Math.round(ratio * 96) + "dpi),\n    only screen and (min-resolution: " + ratio + "dppx)\n  ";
}

function constructGradientValue(literals) {
  var template = '';

  for (var _len = arguments.length, substitutions = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    substitutions[_key - 1] = arguments[_key];
  }

  for (var i = 0; i < literals.length; i += 1) {
    template += literals[i];

    if (i === substitutions.length - 1 && substitutions[i]) {
      var definedValues = substitutions.filter(function (substitute) {
        return !!substitute;
      }); // Adds leading coma if properties preceed color-stops

      if (definedValues.length > 1) {
        template = template.slice(0, -1);
        template += ", " + substitutions[i]; // No trailing space if color-stops is the only param provided
      } else if (definedValues.length === 1) {
        template += "" + substitutions[i];
      }
    } else if (substitutions[i]) {
      template += substitutions[i] + " ";
    }
  }

  return template.trim();
}

var _templateObject$1;

/**
 * CSS for declaring a linear gradient, including a fallback background-color. The fallback is either the first color-stop or an explicitly passed fallback color.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...linearGradient({
        colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],
        toDirection: 'to top right',
        fallback: '#FFF',
      })
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${linearGradient({
        colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],
        toDirection: 'to top right',
        fallback: '#FFF',
      })}
 *`
 *
 * // CSS as JS Output
 *
 * div: {
 *   'backgroundColor': '#FFF',
 *   'backgroundImage': 'linear-gradient(to top right, #00FFFF 0%, rgba(0, 0, 255, 0) 50%, #0000FF 95%)',
 * }
 */
function linearGradient(_ref) {
  var colorStops = _ref.colorStops,
      fallback = _ref.fallback,
      _ref$toDirection = _ref.toDirection,
      toDirection = _ref$toDirection === void 0 ? '' : _ref$toDirection;

  if (!colorStops || colorStops.length < 2) {
    throw new PolishedError(56);
  }

  return {
    backgroundColor: fallback || colorStops[0].replace(/,\s+/g, ',').split(' ')[0].replace(/,(?=\S)/g, ', '),
    backgroundImage: constructGradientValue(_templateObject$1 || (_templateObject$1 = Object(_babel_runtime_helpers_esm_taggedTemplateLiteralLoose__WEBPACK_IMPORTED_MODULE_4__["default"])(["linear-gradient(", "", ")"])), toDirection, colorStops.join(', ').replace(/,(?=\S)/g, ', '))
  };
}

/**
 * CSS to normalize abnormalities across browsers (normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css)
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *    ...normalize(),
 * }
 *
 * // styled-components usage
 * const GlobalStyle = createGlobalStyle`${normalize()}`
 *
 * // CSS as JS Output
 *
 * html {
 *   lineHeight: 1.15,
 *   textSizeAdjust: 100%,
 * } ...
 */
function normalize() {
  var _ref;

  return [(_ref = {
    html: {
      lineHeight: '1.15',
      textSizeAdjust: '100%'
    },
    body: {
      margin: '0'
    },
    main: {
      display: 'block'
    },
    h1: {
      fontSize: '2em',
      margin: '0.67em 0'
    },
    hr: {
      boxSizing: 'content-box',
      height: '0',
      overflow: 'visible'
    },
    pre: {
      fontFamily: 'monospace, monospace',
      fontSize: '1em'
    },
    a: {
      backgroundColor: 'transparent'
    },
    'abbr[title]': {
      borderBottom: 'none',
      textDecoration: 'underline'
    }
  }, _ref["b,\n    strong"] = {
    fontWeight: 'bolder'
  }, _ref["code,\n    kbd,\n    samp"] = {
    fontFamily: 'monospace, monospace',
    fontSize: '1em'
  }, _ref.small = {
    fontSize: '80%'
  }, _ref["sub,\n    sup"] = {
    fontSize: '75%',
    lineHeight: '0',
    position: 'relative',
    verticalAlign: 'baseline'
  }, _ref.sub = {
    bottom: '-0.25em'
  }, _ref.sup = {
    top: '-0.5em'
  }, _ref.img = {
    borderStyle: 'none'
  }, _ref["button,\n    input,\n    optgroup,\n    select,\n    textarea"] = {
    fontFamily: 'inherit',
    fontSize: '100%',
    lineHeight: '1.15',
    margin: '0'
  }, _ref["button,\n    input"] = {
    overflow: 'visible'
  }, _ref["button,\n    select"] = {
    textTransform: 'none'
  }, _ref["button,\n    html [type=\"button\"],\n    [type=\"reset\"],\n    [type=\"submit\"]"] = {
    WebkitAppearance: 'button'
  }, _ref["button::-moz-focus-inner,\n    [type=\"button\"]::-moz-focus-inner,\n    [type=\"reset\"]::-moz-focus-inner,\n    [type=\"submit\"]::-moz-focus-inner"] = {
    borderStyle: 'none',
    padding: '0'
  }, _ref["button:-moz-focusring,\n    [type=\"button\"]:-moz-focusring,\n    [type=\"reset\"]:-moz-focusring,\n    [type=\"submit\"]:-moz-focusring"] = {
    outline: '1px dotted ButtonText'
  }, _ref.fieldset = {
    padding: '0.35em 0.625em 0.75em'
  }, _ref.legend = {
    boxSizing: 'border-box',
    color: 'inherit',
    display: 'table',
    maxWidth: '100%',
    padding: '0',
    whiteSpace: 'normal'
  }, _ref.progress = {
    verticalAlign: 'baseline'
  }, _ref.textarea = {
    overflow: 'auto'
  }, _ref["[type=\"checkbox\"],\n    [type=\"radio\"]"] = {
    boxSizing: 'border-box',
    padding: '0'
  }, _ref["[type=\"number\"]::-webkit-inner-spin-button,\n    [type=\"number\"]::-webkit-outer-spin-button"] = {
    height: 'auto'
  }, _ref['[type="search"]'] = {
    WebkitAppearance: 'textfield',
    outlineOffset: '-2px'
  }, _ref['[type="search"]::-webkit-search-decoration'] = {
    WebkitAppearance: 'none'
  }, _ref['::-webkit-file-upload-button'] = {
    WebkitAppearance: 'button',
    font: 'inherit'
  }, _ref.details = {
    display: 'block'
  }, _ref.summary = {
    display: 'list-item'
  }, _ref.template = {
    display: 'none'
  }, _ref['[hidden]'] = {
    display: 'none'
  }, _ref), {
    'abbr[title]': {
      textDecoration: 'underline dotted'
    }
  }];
}

var _templateObject;

/**
 * CSS for declaring a radial gradient, including a fallback background-color. The fallback is either the first color-stop or an explicitly passed fallback color.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...radialGradient({
 *     colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],
 *     extent: 'farthest-corner at 45px 45px',
 *     position: 'center',
 *     shape: 'ellipse',
 *   })
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${radialGradient({
 *     colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],
 *     extent: 'farthest-corner at 45px 45px',
 *     position: 'center',
 *     shape: 'ellipse',
 *   })}
 *`
 *
 * // CSS as JS Output
 *
 * div: {
 *   'backgroundColor': '#00FFFF',
 *   'backgroundImage': 'radial-gradient(center ellipse farthest-corner at 45px 45px, #00FFFF 0%, rgba(0, 0, 255, 0) 50%, #0000FF 95%)',
 * }
 */
function radialGradient(_ref) {
  var colorStops = _ref.colorStops,
      _ref$extent = _ref.extent,
      extent = _ref$extent === void 0 ? '' : _ref$extent,
      fallback = _ref.fallback,
      _ref$position = _ref.position,
      position = _ref$position === void 0 ? '' : _ref$position,
      _ref$shape = _ref.shape,
      shape = _ref$shape === void 0 ? '' : _ref$shape;

  if (!colorStops || colorStops.length < 2) {
    throw new PolishedError(57);
  }

  return {
    backgroundColor: fallback || colorStops[0].split(' ')[0],
    backgroundImage: constructGradientValue(_templateObject || (_templateObject = Object(_babel_runtime_helpers_esm_taggedTemplateLiteralLoose__WEBPACK_IMPORTED_MODULE_4__["default"])(["radial-gradient(", "", "", "", ")"])), position, shape, extent, colorStops.join(', '))
  };
}

/**
 * A helper to generate a retina background image and non-retina
 * background image. The retina background image will output to a HiDPI media query. The mixin uses
 * a _2x.png filename suffix by default.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *  ...retinaImage('my-img')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${retinaImage('my-img')}
 * `
 *
 * // CSS as JS Output
 * div {
 *   backgroundImage: 'url(my-img.png)',
 *   '@media only screen and (-webkit-min-device-pixel-ratio: 1.3),
 *    only screen and (min--moz-device-pixel-ratio: 1.3),
 *    only screen and (-o-min-device-pixel-ratio: 1.3/1),
 *    only screen and (min-resolution: 144dpi),
 *    only screen and (min-resolution: 1.5dppx)': {
 *     backgroundImage: 'url(my-img_2x.png)',
 *   }
 * }
 */
function retinaImage(filename, backgroundSize, extension, retinaFilename, retinaSuffix) {
  var _ref;

  if (extension === void 0) {
    extension = 'png';
  }

  if (retinaSuffix === void 0) {
    retinaSuffix = '_2x';
  }

  if (!filename) {
    throw new PolishedError(58);
  } // Replace the dot at the beginning of the passed extension if one exists


  var ext = extension.replace(/^\./, '');
  var rFilename = retinaFilename ? retinaFilename + "." + ext : "" + filename + retinaSuffix + "." + ext;
  return _ref = {
    backgroundImage: "url(" + filename + "." + ext + ")"
  }, _ref[hiDPI()] = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    backgroundImage: "url(" + rFilename + ")"
  }, backgroundSize ? {
    backgroundSize: backgroundSize
  } : {}), _ref;
}

/* eslint-disable key-spacing */
var functionsMap = {
  easeInBack: 'cubic-bezier(0.600, -0.280, 0.735, 0.045)',
  easeInCirc: 'cubic-bezier(0.600,  0.040, 0.980, 0.335)',
  easeInCubic: 'cubic-bezier(0.550,  0.055, 0.675, 0.190)',
  easeInExpo: 'cubic-bezier(0.950,  0.050, 0.795, 0.035)',
  easeInQuad: 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',
  easeInQuart: 'cubic-bezier(0.895,  0.030, 0.685, 0.220)',
  easeInQuint: 'cubic-bezier(0.755,  0.050, 0.855, 0.060)',
  easeInSine: 'cubic-bezier(0.470,  0.000, 0.745, 0.715)',
  easeOutBack: 'cubic-bezier(0.175,  0.885, 0.320, 1.275)',
  easeOutCubic: 'cubic-bezier(0.215,  0.610, 0.355, 1.000)',
  easeOutCirc: 'cubic-bezier(0.075,  0.820, 0.165, 1.000)',
  easeOutExpo: 'cubic-bezier(0.190,  1.000, 0.220, 1.000)',
  easeOutQuad: 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',
  easeOutQuart: 'cubic-bezier(0.165,  0.840, 0.440, 1.000)',
  easeOutQuint: 'cubic-bezier(0.230,  1.000, 0.320, 1.000)',
  easeOutSine: 'cubic-bezier(0.390,  0.575, 0.565, 1.000)',
  easeInOutBack: 'cubic-bezier(0.680, -0.550, 0.265, 1.550)',
  easeInOutCirc: 'cubic-bezier(0.785,  0.135, 0.150, 0.860)',
  easeInOutCubic: 'cubic-bezier(0.645,  0.045, 0.355, 1.000)',
  easeInOutExpo: 'cubic-bezier(1.000,  0.000, 0.000, 1.000)',
  easeInOutQuad: 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',
  easeInOutQuart: 'cubic-bezier(0.770,  0.000, 0.175, 1.000)',
  easeInOutQuint: 'cubic-bezier(0.860,  0.000, 0.070, 1.000)',
  easeInOutSine: 'cubic-bezier(0.445,  0.050, 0.550, 0.950)'
};
/* eslint-enable key-spacing */

function getTimingFunction(functionName) {
  return functionsMap[functionName];
}
/**
 * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).
 *
 * @deprecated - This will be deprecated in v5 in favor of `easeIn`, `easeOut`, `easeInOut`.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   'transitionTimingFunction': timingFunctions('easeInQuad')
 * }
 *
 * // styled-components usage
 *  const div = styled.div`
 *   transitionTimingFunction: ${timingFunctions('easeInQuad')};
 * `
 *
 * // CSS as JS Output
 *
 * 'div': {
 *   'transitionTimingFunction': 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',
 * }
 */


function timingFunctions(timingFunction) {
  return getTimingFunction(timingFunction);
}

var getBorderWidth = function getBorderWidth(pointingDirection, height, width) {
  var fullWidth = "" + width[0] + (width[1] || '');
  var halfWidth = "" + width[0] / 2 + (width[1] || '');
  var fullHeight = "" + height[0] + (height[1] || '');
  var halfHeight = "" + height[0] / 2 + (height[1] || '');

  switch (pointingDirection) {
    case 'top':
      return "0 " + halfWidth + " " + fullHeight + " " + halfWidth;

    case 'topLeft':
      return fullWidth + " " + fullHeight + " 0 0";

    case 'left':
      return halfHeight + " " + fullWidth + " " + halfHeight + " 0";

    case 'bottomLeft':
      return fullWidth + " 0 0 " + fullHeight;

    case 'bottom':
      return fullHeight + " " + halfWidth + " 0 " + halfWidth;

    case 'bottomRight':
      return "0 0 " + fullWidth + " " + fullHeight;

    case 'right':
      return halfHeight + " 0 " + halfHeight + " " + fullWidth;

    case 'topRight':
    default:
      return "0 " + fullWidth + " " + fullHeight + " 0";
  }
};

var getBorderColor = function getBorderColor(pointingDirection, foregroundColor) {
  switch (pointingDirection) {
    case 'top':
    case 'bottomRight':
      return {
        borderBottomColor: foregroundColor
      };

    case 'right':
    case 'bottomLeft':
      return {
        borderLeftColor: foregroundColor
      };

    case 'bottom':
    case 'topLeft':
      return {
        borderTopColor: foregroundColor
      };

    case 'left':
    case 'topRight':
      return {
        borderRightColor: foregroundColor
      };

    default:
      throw new PolishedError(59);
  }
};
/**
 * CSS to represent triangle with any pointing direction with an optional background color.
 *
 * @example
 * // Styles as object usage
 *
 * const styles = {
 *   ...triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })
 * }
 *
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })}
 *
 *
 * // CSS as JS Output
 *
 * div: {
 *  'borderColor': 'transparent transparent transparent red',
 *  'borderStyle': 'solid',
 *  'borderWidth': '50px 0 50px 100px',
 *  'height': '0',
 *  'width': '0',
 * }
 */


function triangle(_ref) {
  var pointingDirection = _ref.pointingDirection,
      height = _ref.height,
      width = _ref.width,
      foregroundColor = _ref.foregroundColor,
      _ref$backgroundColor = _ref.backgroundColor,
      backgroundColor = _ref$backgroundColor === void 0 ? 'transparent' : _ref$backgroundColor;
  var widthAndUnit = getValueAndUnit(width);
  var heightAndUnit = getValueAndUnit(height);

  if (isNaN(heightAndUnit[0]) || isNaN(widthAndUnit[0])) {
    throw new PolishedError(60);
  }

  return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    width: '0',
    height: '0',
    borderColor: backgroundColor
  }, getBorderColor(pointingDirection, foregroundColor), {
    borderStyle: 'solid',
    borderWidth: getBorderWidth(pointingDirection, heightAndUnit, widthAndUnit)
  });
}

/**
 * Provides an easy way to change the `wordWrap` property.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...wordWrap('break-word')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${wordWrap('break-word')}
 * `
 *
 * // CSS as JS Output
 *
 * const styles = {
 *   overflowWrap: 'break-word',
 *   wordWrap: 'break-word',
 *   wordBreak: 'break-all',
 * }
 */
function wordWrap(wrap) {
  if (wrap === void 0) {
    wrap = 'break-word';
  }

  var wordBreak = wrap === 'break-word' ? 'break-all' : wrap;
  return {
    overflowWrap: wrap,
    wordWrap: wrap,
    wordBreak: wordBreak
  };
}

function colorToInt(color) {
  return Math.round(color * 255);
}

function convertToInt(red, green, blue) {
  return colorToInt(red) + "," + colorToInt(green) + "," + colorToInt(blue);
}

function hslToRgb(hue, saturation, lightness, convert) {
  if (convert === void 0) {
    convert = convertToInt;
  }

  if (saturation === 0) {
    // achromatic
    return convert(lightness, lightness, lightness);
  } // formulae from https://en.wikipedia.org/wiki/HSL_and_HSV


  var huePrime = (hue % 360 + 360) % 360 / 60;
  var chroma = (1 - Math.abs(2 * lightness - 1)) * saturation;
  var secondComponent = chroma * (1 - Math.abs(huePrime % 2 - 1));
  var red = 0;
  var green = 0;
  var blue = 0;

  if (huePrime >= 0 && huePrime < 1) {
    red = chroma;
    green = secondComponent;
  } else if (huePrime >= 1 && huePrime < 2) {
    red = secondComponent;
    green = chroma;
  } else if (huePrime >= 2 && huePrime < 3) {
    green = chroma;
    blue = secondComponent;
  } else if (huePrime >= 3 && huePrime < 4) {
    green = secondComponent;
    blue = chroma;
  } else if (huePrime >= 4 && huePrime < 5) {
    red = secondComponent;
    blue = chroma;
  } else if (huePrime >= 5 && huePrime < 6) {
    red = chroma;
    blue = secondComponent;
  }

  var lightnessModification = lightness - chroma / 2;
  var finalRed = red + lightnessModification;
  var finalGreen = green + lightnessModification;
  var finalBlue = blue + lightnessModification;
  return convert(finalRed, finalGreen, finalBlue);
}

var namedColorMap = {
  aliceblue: 'f0f8ff',
  antiquewhite: 'faebd7',
  aqua: '00ffff',
  aquamarine: '7fffd4',
  azure: 'f0ffff',
  beige: 'f5f5dc',
  bisque: 'ffe4c4',
  black: '000',
  blanchedalmond: 'ffebcd',
  blue: '0000ff',
  blueviolet: '8a2be2',
  brown: 'a52a2a',
  burlywood: 'deb887',
  cadetblue: '5f9ea0',
  chartreuse: '7fff00',
  chocolate: 'd2691e',
  coral: 'ff7f50',
  cornflowerblue: '6495ed',
  cornsilk: 'fff8dc',
  crimson: 'dc143c',
  cyan: '00ffff',
  darkblue: '00008b',
  darkcyan: '008b8b',
  darkgoldenrod: 'b8860b',
  darkgray: 'a9a9a9',
  darkgreen: '006400',
  darkgrey: 'a9a9a9',
  darkkhaki: 'bdb76b',
  darkmagenta: '8b008b',
  darkolivegreen: '556b2f',
  darkorange: 'ff8c00',
  darkorchid: '9932cc',
  darkred: '8b0000',
  darksalmon: 'e9967a',
  darkseagreen: '8fbc8f',
  darkslateblue: '483d8b',
  darkslategray: '2f4f4f',
  darkslategrey: '2f4f4f',
  darkturquoise: '00ced1',
  darkviolet: '9400d3',
  deeppink: 'ff1493',
  deepskyblue: '00bfff',
  dimgray: '696969',
  dimgrey: '696969',
  dodgerblue: '1e90ff',
  firebrick: 'b22222',
  floralwhite: 'fffaf0',
  forestgreen: '228b22',
  fuchsia: 'ff00ff',
  gainsboro: 'dcdcdc',
  ghostwhite: 'f8f8ff',
  gold: 'ffd700',
  goldenrod: 'daa520',
  gray: '808080',
  green: '008000',
  greenyellow: 'adff2f',
  grey: '808080',
  honeydew: 'f0fff0',
  hotpink: 'ff69b4',
  indianred: 'cd5c5c',
  indigo: '4b0082',
  ivory: 'fffff0',
  khaki: 'f0e68c',
  lavender: 'e6e6fa',
  lavenderblush: 'fff0f5',
  lawngreen: '7cfc00',
  lemonchiffon: 'fffacd',
  lightblue: 'add8e6',
  lightcoral: 'f08080',
  lightcyan: 'e0ffff',
  lightgoldenrodyellow: 'fafad2',
  lightgray: 'd3d3d3',
  lightgreen: '90ee90',
  lightgrey: 'd3d3d3',
  lightpink: 'ffb6c1',
  lightsalmon: 'ffa07a',
  lightseagreen: '20b2aa',
  lightskyblue: '87cefa',
  lightslategray: '789',
  lightslategrey: '789',
  lightsteelblue: 'b0c4de',
  lightyellow: 'ffffe0',
  lime: '0f0',
  limegreen: '32cd32',
  linen: 'faf0e6',
  magenta: 'f0f',
  maroon: '800000',
  mediumaquamarine: '66cdaa',
  mediumblue: '0000cd',
  mediumorchid: 'ba55d3',
  mediumpurple: '9370db',
  mediumseagreen: '3cb371',
  mediumslateblue: '7b68ee',
  mediumspringgreen: '00fa9a',
  mediumturquoise: '48d1cc',
  mediumvioletred: 'c71585',
  midnightblue: '191970',
  mintcream: 'f5fffa',
  mistyrose: 'ffe4e1',
  moccasin: 'ffe4b5',
  navajowhite: 'ffdead',
  navy: '000080',
  oldlace: 'fdf5e6',
  olive: '808000',
  olivedrab: '6b8e23',
  orange: 'ffa500',
  orangered: 'ff4500',
  orchid: 'da70d6',
  palegoldenrod: 'eee8aa',
  palegreen: '98fb98',
  paleturquoise: 'afeeee',
  palevioletred: 'db7093',
  papayawhip: 'ffefd5',
  peachpuff: 'ffdab9',
  peru: 'cd853f',
  pink: 'ffc0cb',
  plum: 'dda0dd',
  powderblue: 'b0e0e6',
  purple: '800080',
  rebeccapurple: '639',
  red: 'f00',
  rosybrown: 'bc8f8f',
  royalblue: '4169e1',
  saddlebrown: '8b4513',
  salmon: 'fa8072',
  sandybrown: 'f4a460',
  seagreen: '2e8b57',
  seashell: 'fff5ee',
  sienna: 'a0522d',
  silver: 'c0c0c0',
  skyblue: '87ceeb',
  slateblue: '6a5acd',
  slategray: '708090',
  slategrey: '708090',
  snow: 'fffafa',
  springgreen: '00ff7f',
  steelblue: '4682b4',
  tan: 'd2b48c',
  teal: '008080',
  thistle: 'd8bfd8',
  tomato: 'ff6347',
  turquoise: '40e0d0',
  violet: 'ee82ee',
  wheat: 'f5deb3',
  white: 'fff',
  whitesmoke: 'f5f5f5',
  yellow: 'ff0',
  yellowgreen: '9acd32'
};
/**
 * Checks if a string is a CSS named color and returns its equivalent hex value, otherwise returns the original color.
 * @private
 */

function nameToHex(color) {
  if (typeof color !== 'string') return color;
  var normalizedColorName = color.toLowerCase();
  return namedColorMap[normalizedColorName] ? "#" + namedColorMap[normalizedColorName] : color;
}

var hexRegex = /^#[a-fA-F0-9]{6}$/;
var hexRgbaRegex = /^#[a-fA-F0-9]{8}$/;
var reducedHexRegex = /^#[a-fA-F0-9]{3}$/;
var reducedRgbaHexRegex = /^#[a-fA-F0-9]{4}$/;
var rgbRegex = /^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i;
var rgbaRegex = /^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;
var hslRegex = /^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i;
var hslaRegex = /^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;
/**
 * Returns an RgbColor or RgbaColor object. This utility function is only useful
 * if want to extract a color component. With the color util `toColorString` you
 * can convert a RgbColor or RgbaColor object back to a string.
 *
 * @example
 * // Assigns `{ red: 255, green: 0, blue: 0 }` to color1
 * const color1 = parseToRgb('rgb(255, 0, 0)');
 * // Assigns `{ red: 92, green: 102, blue: 112, alpha: 0.75 }` to color2
 * const color2 = parseToRgb('hsla(210, 10%, 40%, 0.75)');
 */

function parseToRgb(color) {
  if (typeof color !== 'string') {
    throw new PolishedError(3);
  }

  var normalizedColor = nameToHex(color);

  if (normalizedColor.match(hexRegex)) {
    return {
      red: parseInt("" + normalizedColor[1] + normalizedColor[2], 16),
      green: parseInt("" + normalizedColor[3] + normalizedColor[4], 16),
      blue: parseInt("" + normalizedColor[5] + normalizedColor[6], 16)
    };
  }

  if (normalizedColor.match(hexRgbaRegex)) {
    var alpha = parseFloat((parseInt("" + normalizedColor[7] + normalizedColor[8], 16) / 255).toFixed(2));
    return {
      red: parseInt("" + normalizedColor[1] + normalizedColor[2], 16),
      green: parseInt("" + normalizedColor[3] + normalizedColor[4], 16),
      blue: parseInt("" + normalizedColor[5] + normalizedColor[6], 16),
      alpha: alpha
    };
  }

  if (normalizedColor.match(reducedHexRegex)) {
    return {
      red: parseInt("" + normalizedColor[1] + normalizedColor[1], 16),
      green: parseInt("" + normalizedColor[2] + normalizedColor[2], 16),
      blue: parseInt("" + normalizedColor[3] + normalizedColor[3], 16)
    };
  }

  if (normalizedColor.match(reducedRgbaHexRegex)) {
    var _alpha = parseFloat((parseInt("" + normalizedColor[4] + normalizedColor[4], 16) / 255).toFixed(2));

    return {
      red: parseInt("" + normalizedColor[1] + normalizedColor[1], 16),
      green: parseInt("" + normalizedColor[2] + normalizedColor[2], 16),
      blue: parseInt("" + normalizedColor[3] + normalizedColor[3], 16),
      alpha: _alpha
    };
  }

  var rgbMatched = rgbRegex.exec(normalizedColor);

  if (rgbMatched) {
    return {
      red: parseInt("" + rgbMatched[1], 10),
      green: parseInt("" + rgbMatched[2], 10),
      blue: parseInt("" + rgbMatched[3], 10)
    };
  }

  var rgbaMatched = rgbaRegex.exec(normalizedColor);

  if (rgbaMatched) {
    return {
      red: parseInt("" + rgbaMatched[1], 10),
      green: parseInt("" + rgbaMatched[2], 10),
      blue: parseInt("" + rgbaMatched[3], 10),
      alpha: parseFloat("" + rgbaMatched[4])
    };
  }

  var hslMatched = hslRegex.exec(normalizedColor);

  if (hslMatched) {
    var hue = parseInt("" + hslMatched[1], 10);
    var saturation = parseInt("" + hslMatched[2], 10) / 100;
    var lightness = parseInt("" + hslMatched[3], 10) / 100;
    var rgbColorString = "rgb(" + hslToRgb(hue, saturation, lightness) + ")";
    var hslRgbMatched = rgbRegex.exec(rgbColorString);

    if (!hslRgbMatched) {
      throw new PolishedError(4, normalizedColor, rgbColorString);
    }

    return {
      red: parseInt("" + hslRgbMatched[1], 10),
      green: parseInt("" + hslRgbMatched[2], 10),
      blue: parseInt("" + hslRgbMatched[3], 10)
    };
  }

  var hslaMatched = hslaRegex.exec(normalizedColor);

  if (hslaMatched) {
    var _hue = parseInt("" + hslaMatched[1], 10);

    var _saturation = parseInt("" + hslaMatched[2], 10) / 100;

    var _lightness = parseInt("" + hslaMatched[3], 10) / 100;

    var _rgbColorString = "rgb(" + hslToRgb(_hue, _saturation, _lightness) + ")";

    var _hslRgbMatched = rgbRegex.exec(_rgbColorString);

    if (!_hslRgbMatched) {
      throw new PolishedError(4, normalizedColor, _rgbColorString);
    }

    return {
      red: parseInt("" + _hslRgbMatched[1], 10),
      green: parseInt("" + _hslRgbMatched[2], 10),
      blue: parseInt("" + _hslRgbMatched[3], 10),
      alpha: parseFloat("" + hslaMatched[4])
    };
  }

  throw new PolishedError(5);
}

function rgbToHsl(color) {
  // make sure rgb are contained in a set of [0, 255]
  var red = color.red / 255;
  var green = color.green / 255;
  var blue = color.blue / 255;
  var max = Math.max(red, green, blue);
  var min = Math.min(red, green, blue);
  var lightness = (max + min) / 2;

  if (max === min) {
    // achromatic
    if (color.alpha !== undefined) {
      return {
        hue: 0,
        saturation: 0,
        lightness: lightness,
        alpha: color.alpha
      };
    } else {
      return {
        hue: 0,
        saturation: 0,
        lightness: lightness
      };
    }
  }

  var hue;
  var delta = max - min;
  var saturation = lightness > 0.5 ? delta / (2 - max - min) : delta / (max + min);

  switch (max) {
    case red:
      hue = (green - blue) / delta + (green < blue ? 6 : 0);
      break;

    case green:
      hue = (blue - red) / delta + 2;
      break;

    default:
      // blue case
      hue = (red - green) / delta + 4;
      break;
  }

  hue *= 60;

  if (color.alpha !== undefined) {
    return {
      hue: hue,
      saturation: saturation,
      lightness: lightness,
      alpha: color.alpha
    };
  }

  return {
    hue: hue,
    saturation: saturation,
    lightness: lightness
  };
}

/**
 * Returns an HslColor or HslaColor object. This utility function is only useful
 * if want to extract a color component. With the color util `toColorString` you
 * can convert a HslColor or HslaColor object back to a string.
 *
 * @example
 * // Assigns `{ hue: 0, saturation: 1, lightness: 0.5 }` to color1
 * const color1 = parseToHsl('rgb(255, 0, 0)');
 * // Assigns `{ hue: 128, saturation: 1, lightness: 0.5, alpha: 0.75 }` to color2
 * const color2 = parseToHsl('hsla(128, 100%, 50%, 0.75)');
 */
function parseToHsl(color) {
  // Note: At a later stage we can optimize this function as right now a hsl
  // color would be parsed converted to rgb values and converted back to hsl.
  return rgbToHsl(parseToRgb(color));
}

/**
 * Reduces hex values if possible e.g. #ff8866 to #f86
 * @private
 */
var reduceHexValue = function reduceHexValue(value) {
  if (value.length === 7 && value[1] === value[2] && value[3] === value[4] && value[5] === value[6]) {
    return "#" + value[1] + value[3] + value[5];
  }

  return value;
};

function numberToHex(value) {
  var hex = value.toString(16);
  return hex.length === 1 ? "0" + hex : hex;
}

function colorToHex(color) {
  return numberToHex(Math.round(color * 255));
}

function convertToHex(red, green, blue) {
  return reduceHexValue("#" + colorToHex(red) + colorToHex(green) + colorToHex(blue));
}

function hslToHex(hue, saturation, lightness) {
  return hslToRgb(hue, saturation, lightness, convertToHex);
}

/**
 * Returns a string value for the color. The returned result is the smallest possible hex notation.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: hsl(359, 0.75, 0.4),
 *   background: hsl({ hue: 360, saturation: 0.75, lightness: 0.4 }),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${hsl(359, 0.75, 0.4)};
 *   background: ${hsl({ hue: 360, saturation: 0.75, lightness: 0.4 })};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#b3191c";
 *   background: "#b3191c";
 * }
 */
function hsl(value, saturation, lightness) {
  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number') {
    return hslToHex(value, saturation, lightness);
  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined) {
    return hslToHex(value.hue, value.saturation, value.lightness);
  }

  throw new PolishedError(1);
}

/**
 * Returns a string value for the color. The returned result is the smallest possible rgba or hex notation.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: hsla(359, 0.75, 0.4, 0.7),
 *   background: hsla({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0,7 }),
 *   background: hsla(359, 0.75, 0.4, 1),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${hsla(359, 0.75, 0.4, 0.7)};
 *   background: ${hsla({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0,7 })};
 *   background: ${hsla(359, 0.75, 0.4, 1)};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "rgba(179,25,28,0.7)";
 *   background: "rgba(179,25,28,0.7)";
 *   background: "#b3191c";
 * }
 */
function hsla(value, saturation, lightness, alpha) {
  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number' && typeof alpha === 'number') {
    return alpha >= 1 ? hslToHex(value, saturation, lightness) : "rgba(" + hslToRgb(value, saturation, lightness) + "," + alpha + ")";
  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined && alpha === undefined) {
    return value.alpha >= 1 ? hslToHex(value.hue, value.saturation, value.lightness) : "rgba(" + hslToRgb(value.hue, value.saturation, value.lightness) + "," + value.alpha + ")";
  }

  throw new PolishedError(2);
}

/**
 * Returns a string value for the color. The returned result is the smallest possible hex notation.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: rgb(255, 205, 100),
 *   background: rgb({ red: 255, green: 205, blue: 100 }),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${rgb(255, 205, 100)};
 *   background: ${rgb({ red: 255, green: 205, blue: 100 })};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#ffcd64";
 *   background: "#ffcd64";
 * }
 */
function rgb(value, green, blue) {
  if (typeof value === 'number' && typeof green === 'number' && typeof blue === 'number') {
    return reduceHexValue("#" + numberToHex(value) + numberToHex(green) + numberToHex(blue));
  } else if (typeof value === 'object' && green === undefined && blue === undefined) {
    return reduceHexValue("#" + numberToHex(value.red) + numberToHex(value.green) + numberToHex(value.blue));
  }

  throw new PolishedError(6);
}

/**
 * Returns a string value for the color. The returned result is the smallest possible rgba or hex notation.
 *
 * Can also be used to fade a color by passing a hex value or named CSS color along with an alpha value.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: rgba(255, 205, 100, 0.7),
 *   background: rgba({ red: 255, green: 205, blue: 100, alpha: 0.7 }),
 *   background: rgba(255, 205, 100, 1),
 *   background: rgba('#ffffff', 0.4),
 *   background: rgba('black', 0.7),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${rgba(255, 205, 100, 0.7)};
 *   background: ${rgba({ red: 255, green: 205, blue: 100, alpha: 0.7 })};
 *   background: ${rgba(255, 205, 100, 1)};
 *   background: ${rgba('#ffffff', 0.4)};
 *   background: ${rgba('black', 0.7)};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "rgba(255,205,100,0.7)";
 *   background: "rgba(255,205,100,0.7)";
 *   background: "#ffcd64";
 *   background: "rgba(255,255,255,0.4)";
 *   background: "rgba(0,0,0,0.7)";
 * }
 */
function rgba(firstValue, secondValue, thirdValue, fourthValue) {
  if (typeof firstValue === 'string' && typeof secondValue === 'number') {
    var rgbValue = parseToRgb(firstValue);
    return "rgba(" + rgbValue.red + "," + rgbValue.green + "," + rgbValue.blue + "," + secondValue + ")";
  } else if (typeof firstValue === 'number' && typeof secondValue === 'number' && typeof thirdValue === 'number' && typeof fourthValue === 'number') {
    return fourthValue >= 1 ? rgb(firstValue, secondValue, thirdValue) : "rgba(" + firstValue + "," + secondValue + "," + thirdValue + "," + fourthValue + ")";
  } else if (typeof firstValue === 'object' && secondValue === undefined && thirdValue === undefined && fourthValue === undefined) {
    return firstValue.alpha >= 1 ? rgb(firstValue.red, firstValue.green, firstValue.blue) : "rgba(" + firstValue.red + "," + firstValue.green + "," + firstValue.blue + "," + firstValue.alpha + ")";
  }

  throw new PolishedError(7);
}

var isRgb = function isRgb(color) {
  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');
};

var isRgba = function isRgba(color) {
  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && typeof color.alpha === 'number';
};

var isHsl = function isHsl(color) {
  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');
};

var isHsla = function isHsla(color) {
  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && typeof color.alpha === 'number';
};
/**
 * Converts a RgbColor, RgbaColor, HslColor or HslaColor object to a color string.
 * This util is useful in case you only know on runtime which color object is
 * used. Otherwise we recommend to rely on `rgb`, `rgba`, `hsl` or `hsla`.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: toColorString({ red: 255, green: 205, blue: 100 }),
 *   background: toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 }),
 *   background: toColorString({ hue: 240, saturation: 1, lightness: 0.5 }),
 *   background: toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 }),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${toColorString({ red: 255, green: 205, blue: 100 })};
 *   background: ${toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 })};
 *   background: ${toColorString({ hue: 240, saturation: 1, lightness: 0.5 })};
 *   background: ${toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 })};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#ffcd64";
 *   background: "rgba(255,205,100,0.72)";
 *   background: "#00f";
 *   background: "rgba(179,25,25,0.72)";
 * }
 */


function toColorString(color) {
  if (typeof color !== 'object') throw new PolishedError(8);
  if (isRgba(color)) return rgba(color);
  if (isRgb(color)) return rgb(color);
  if (isHsla(color)) return hsla(color);
  if (isHsl(color)) return hsl(color);
  throw new PolishedError(8);
}

// Type definitions taken from https://github.com/gcanti/flow-static-land/blob/master/src/Fun.js
// eslint-disable-next-line no-unused-vars
// eslint-disable-next-line no-unused-vars
// eslint-disable-next-line no-redeclare
function curried(f, length, acc) {
  return function fn() {
    // eslint-disable-next-line prefer-rest-params
    var combined = acc.concat(Array.prototype.slice.call(arguments));
    return combined.length >= length ? f.apply(this, combined) : curried(f, length, combined);
  };
} // eslint-disable-next-line no-redeclare


function curry(f) {
  // eslint-disable-line no-redeclare
  return curried(f, f.length, []);
}

/**
 * Changes the hue of the color. Hue is a number between 0 to 360. The first
 * argument for adjustHue is the amount of degrees the color is rotated around
 * the color wheel, always producing a positive hue value.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: adjustHue(180, '#448'),
 *   background: adjustHue('180', 'rgba(101,100,205,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${adjustHue(180, '#448')};
 *   background: ${adjustHue('180', 'rgba(101,100,205,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#888844";
 *   background: "rgba(136,136,68,0.7)";
 * }
 */

function adjustHue(degree, color) {
  if (color === 'transparent') return color;
  var hslColor = parseToHsl(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, hslColor, {
    hue: hslColor.hue + parseFloat(degree)
  }));
} // prettier-ignore


var curriedAdjustHue = /*#__PURE__*/curry
/* ::<number | string, string, string> */
(adjustHue);

/**
 * Returns the complement of the provided color. This is identical to adjustHue(180, <color>).
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: complement('#448'),
 *   background: complement('rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${complement('#448')};
 *   background: ${complement('rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#884";
 *   background: "rgba(153,153,153,0.7)";
 * }
 */

function complement(color) {
  if (color === 'transparent') return color;
  var hslColor = parseToHsl(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, hslColor, {
    hue: (hslColor.hue + 180) % 360
  }));
}

function guard(lowerBoundary, upperBoundary, value) {
  return Math.max(lowerBoundary, Math.min(upperBoundary, value));
}

/**
 * Returns a string value for the darkened color.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: darken(0.2, '#FFCD64'),
 *   background: darken('0.2', 'rgba(255,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${darken(0.2, '#FFCD64')};
 *   background: ${darken('0.2', 'rgba(255,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#ffbd31";
 *   background: "rgba(255,189,49,0.7)";
 * }
 */

function darken(amount, color) {
  if (color === 'transparent') return color;
  var hslColor = parseToHsl(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, hslColor, {
    lightness: guard(0, 1, hslColor.lightness - parseFloat(amount))
  }));
} // prettier-ignore


var curriedDarken = /*#__PURE__*/curry
/* ::<number | string, string, string> */
(darken);

/**
 * Decreases the intensity of a color. Its range is between 0 to 1. The first
 * argument of the desaturate function is the amount by how much the color
 * intensity should be decreased.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: desaturate(0.2, '#CCCD64'),
 *   background: desaturate('0.2', 'rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${desaturate(0.2, '#CCCD64')};
 *   background: ${desaturate('0.2', 'rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#b8b979";
 *   background: "rgba(184,185,121,0.7)";
 * }
 */

function desaturate(amount, color) {
  if (color === 'transparent') return color;
  var hslColor = parseToHsl(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, hslColor, {
    saturation: guard(0, 1, hslColor.saturation - parseFloat(amount))
  }));
} // prettier-ignore


var curriedDesaturate = /*#__PURE__*/curry
/* ::<number | string, string, string> */
(desaturate);

/**
 * Returns a number (float) representing the luminance of a color.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff',
 *   background: getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?
 *                             'rgba(58, 133, 255, 1)' :
 *                             'rgba(255, 57, 149, 1)',
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff'};
 *   background: ${getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?
 *                             'rgba(58, 133, 255, 1)' :
 *                             'rgba(255, 57, 149, 1)'};
 *
 * // CSS in JS Output
 *
 * div {
 *   background: "#CCCD64";
 *   background: "rgba(58, 133, 255, 1)";
 * }
 */

function getLuminance(color) {
  if (color === 'transparent') return 0;
  var rgbColor = parseToRgb(color);

  var _Object$keys$map = Object.keys(rgbColor).map(function (key) {
    var channel = rgbColor[key] / 255;
    return channel <= 0.03928 ? channel / 12.92 : Math.pow((channel + 0.055) / 1.055, 2.4);
  }),
      r = _Object$keys$map[0],
      g = _Object$keys$map[1],
      b = _Object$keys$map[2];

  return parseFloat((0.2126 * r + 0.7152 * g + 0.0722 * b).toFixed(3));
}

/**
 * Returns the contrast ratio between two colors based on
 * [W3's recommended equation for calculating contrast](http://www.w3.org/TR/WCAG20/#contrast-ratiodef).
 *
 * @example
 * const contrastRatio = getContrast('#444', '#fff');
 */

function getContrast(color1, color2) {
  var luminance1 = getLuminance(color1);
  var luminance2 = getLuminance(color2);
  return parseFloat((luminance1 > luminance2 ? (luminance1 + 0.05) / (luminance2 + 0.05) : (luminance2 + 0.05) / (luminance1 + 0.05)).toFixed(2));
}

/**
 * Converts the color to a grayscale, by reducing its saturation to 0.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: grayscale('#CCCD64'),
 *   background: grayscale('rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${grayscale('#CCCD64')};
 *   background: ${grayscale('rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#999";
 *   background: "rgba(153,153,153,0.7)";
 * }
 */

function grayscale(color) {
  if (color === 'transparent') return color;
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parseToHsl(color), {
    saturation: 0
  }));
}

/**
 * Converts a HslColor or HslaColor object to a color string.
 * This util is useful in case you only know on runtime which color object is
 * used. Otherwise we recommend to rely on `hsl` or `hsla`.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: hslToColorString({ hue: 240, saturation: 1, lightness: 0.5 }),
 *   background: hslToColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 }),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${hslToColorString({ hue: 240, saturation: 1, lightness: 0.5 })};
 *   background: ${hslToColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 })};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#00f";
 *   background: "rgba(179,25,25,0.72)";
 * }
 */
function hslToColorString(color) {
  if (typeof color === 'object' && typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number') {
    if (color.alpha && typeof color.alpha === 'number') {
      return hsla({
        hue: color.hue,
        saturation: color.saturation,
        lightness: color.lightness,
        alpha: color.alpha
      });
    }

    return hsl({
      hue: color.hue,
      saturation: color.saturation,
      lightness: color.lightness
    });
  }

  throw new PolishedError(45);
}

/**
 * Inverts the red, green and blue values of a color.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: invert('#CCCD64'),
 *   background: invert('rgba(101,100,205,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${invert('#CCCD64')};
 *   background: ${invert('rgba(101,100,205,0.7)')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#33329b";
 *   background: "rgba(154,155,50,0.7)";
 * }
 */

function invert(color) {
  if (color === 'transparent') return color; // parse color string to rgb

  var value = parseToRgb(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, value, {
    red: 255 - value.red,
    green: 255 - value.green,
    blue: 255 - value.blue
  }));
}

/**
 * Returns a string value for the lightened color.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: lighten(0.2, '#CCCD64'),
 *   background: lighten('0.2', 'rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${lighten(0.2, '#FFCD64')};
 *   background: ${lighten('0.2', 'rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#e5e6b1";
 *   background: "rgba(229,230,177,0.7)";
 * }
 */

function lighten(amount, color) {
  if (color === 'transparent') return color;
  var hslColor = parseToHsl(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, hslColor, {
    lightness: guard(0, 1, hslColor.lightness + parseFloat(amount))
  }));
} // prettier-ignore


var curriedLighten = /*#__PURE__*/curry
/* ::<number | string, string, string> */
(lighten);

/**
 * Determines which contrast guidelines have been met for two colors.
 * Based on the [contrast calculations recommended by W3](https://www.w3.org/WAI/WCAG21/Understanding/contrast-enhanced.html).
 *
 * @example
 * const scores = meetsContrastGuidelines('#444', '#fff');
 */
function meetsContrastGuidelines(color1, color2) {
  var contrastRatio = getContrast(color1, color2);
  return {
    AA: contrastRatio >= 4.5,
    AALarge: contrastRatio >= 3,
    AAA: contrastRatio >= 7,
    AAALarge: contrastRatio >= 4.5
  };
}

/**
 * Mixes the two provided colors together by calculating the average of each of the RGB components weighted to the first color by the provided weight.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: mix(0.5, '#f00', '#00f')
 *   background: mix(0.25, '#f00', '#00f')
 *   background: mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${mix(0.5, '#f00', '#00f')};
 *   background: ${mix(0.25, '#f00', '#00f')};
 *   background: ${mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#7f007f";
 *   background: "#3f00bf";
 *   background: "rgba(63, 0, 191, 0.75)";
 * }
 */

function mix(weight, color, otherColor) {
  if (color === 'transparent') return otherColor;
  if (otherColor === 'transparent') return color;
  if (weight === 0) return otherColor;
  var parsedColor1 = parseToRgb(color);

  var color1 = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parsedColor1, {
    alpha: typeof parsedColor1.alpha === 'number' ? parsedColor1.alpha : 1
  });

  var parsedColor2 = parseToRgb(otherColor);

  var color2 = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parsedColor2, {
    alpha: typeof parsedColor2.alpha === 'number' ? parsedColor2.alpha : 1
  }); // The formula is copied from the original Sass implementation:
  // http://sass-lang.com/documentation/Sass/Script/Functions.html#mix-instance_method


  var alphaDelta = color1.alpha - color2.alpha;
  var x = parseFloat(weight) * 2 - 1;
  var y = x * alphaDelta === -1 ? x : x + alphaDelta;
  var z = 1 + x * alphaDelta;
  var weight1 = (y / z + 1) / 2.0;
  var weight2 = 1 - weight1;
  var mixedColor = {
    red: Math.floor(color1.red * weight1 + color2.red * weight2),
    green: Math.floor(color1.green * weight1 + color2.green * weight2),
    blue: Math.floor(color1.blue * weight1 + color2.blue * weight2),
    alpha: color1.alpha * (parseFloat(weight) / 1.0) + color2.alpha * (1 - parseFloat(weight) / 1.0)
  };
  return rgba(mixedColor);
} // prettier-ignore


var curriedMix = /*#__PURE__*/curry
/* ::<number | string, string, string, string> */
(mix);

/**
 * Increases the opacity of a color. Its range for the amount is between 0 to 1.
 *
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: opacify(0.1, 'rgba(255, 255, 255, 0.9)');
 *   background: opacify(0.2, 'hsla(0, 0%, 100%, 0.5)'),
 *   background: opacify('0.5', 'rgba(255, 0, 0, 0.2)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${opacify(0.1, 'rgba(255, 255, 255, 0.9)')};
 *   background: ${opacify(0.2, 'hsla(0, 0%, 100%, 0.5)')},
 *   background: ${opacify('0.5', 'rgba(255, 0, 0, 0.2)')},
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#fff";
 *   background: "rgba(255,255,255,0.7)";
 *   background: "rgba(255,0,0,0.7)";
 * }
 */

function opacify(amount, color) {
  if (color === 'transparent') return color;
  var parsedColor = parseToRgb(color);
  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;

  var colorWithAlpha = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parsedColor, {
    alpha: guard(0, 1, (alpha * 100 + parseFloat(amount) * 100) / 100)
  });

  return rgba(colorWithAlpha);
} // prettier-ignore


var curriedOpacify = /*#__PURE__*/curry
/* ::<number | string, string, string> */
(opacify);

var defaultReturnIfLightColor = '#000';
var defaultReturnIfDarkColor = '#fff';
/**
 * Returns black or white (or optional passed colors) for best
 * contrast depending on the luminosity of the given color.
 * When passing custom return colors, strict mode ensures that the
 * return color always meets or exceeds WCAG level AA or greater. If this test
 * fails, the default return color (black or white) is returned in place of the
 * custom return color. You can optionally turn off strict mode.
 *
 * Follows [W3C specs for readability](https://www.w3.org/TR/WCAG20-TECHS/G18.html).
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   color: readableColor('#000'),
 *   color: readableColor('black', '#001', '#ff8'),
 *   color: readableColor('white', '#001', '#ff8'),
 *   color: readableColor('red', '#333', '#ddd', true)
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   color: ${readableColor('#000')};
 *   color: ${readableColor('black', '#001', '#ff8')};
 *   color: ${readableColor('white', '#001', '#ff8')};
 *   color: ${readableColor('red', '#333', '#ddd', true)};
 * `
 *
 * // CSS in JS Output
 * element {
 *   color: "#fff";
 *   color: "#ff8";
 *   color: "#001";
 *   color: "#000";
 * }
 */

function readableColor(color, returnIfLightColor, returnIfDarkColor, strict) {
  if (returnIfLightColor === void 0) {
    returnIfLightColor = defaultReturnIfLightColor;
  }

  if (returnIfDarkColor === void 0) {
    returnIfDarkColor = defaultReturnIfDarkColor;
  }

  if (strict === void 0) {
    strict = true;
  }

  var isColorLight = getLuminance(color) > 0.179;
  var preferredReturnColor = isColorLight ? returnIfLightColor : returnIfDarkColor;

  if (!strict || getContrast(color, preferredReturnColor) >= 4.5) {
    return preferredReturnColor;
  }

  return isColorLight ? defaultReturnIfLightColor : defaultReturnIfDarkColor;
}

/**
 * Converts a RgbColor or RgbaColor object to a color string.
 * This util is useful in case you only know on runtime which color object is
 * used. Otherwise we recommend to rely on `rgb` or `rgba`.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: rgbToColorString({ red: 255, green: 205, blue: 100 }),
 *   background: rgbToColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 }),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${rgbToColorString({ red: 255, green: 205, blue: 100 })};
 *   background: ${rgbToColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 })};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#ffcd64";
 *   background: "rgba(255,205,100,0.72)";
 * }
 */
function rgbToColorString(color) {
  if (typeof color === 'object' && typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number') {
    if (typeof color.alpha === 'number') {
      return rgba({
        red: color.red,
        green: color.green,
        blue: color.blue,
        alpha: color.alpha
      });
    }

    return rgb({
      red: color.red,
      green: color.green,
      blue: color.blue
    });
  }

  throw new PolishedError(46);
}

/**
 * Increases the intensity of a color. Its range is between 0 to 1. The first
 * argument of the saturate function is the amount by how much the color
 * intensity should be increased.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: saturate(0.2, '#CCCD64'),
 *   background: saturate('0.2', 'rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${saturate(0.2, '#FFCD64')};
 *   background: ${saturate('0.2', 'rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#e0e250";
 *   background: "rgba(224,226,80,0.7)";
 * }
 */

function saturate(amount, color) {
  if (color === 'transparent') return color;
  var hslColor = parseToHsl(color);
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, hslColor, {
    saturation: guard(0, 1, hslColor.saturation + parseFloat(amount))
  }));
} // prettier-ignore


var curriedSaturate = /*#__PURE__*/curry
/* ::<number | string, string, string> */
(saturate);

/**
 * Sets the hue of a color to the provided value. The hue range can be
 * from 0 and 359.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: setHue(42, '#CCCD64'),
 *   background: setHue('244', 'rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${setHue(42, '#CCCD64')};
 *   background: ${setHue('244', 'rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#cdae64";
 *   background: "rgba(107,100,205,0.7)";
 * }
 */

function setHue(hue, color) {
  if (color === 'transparent') return color;
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parseToHsl(color), {
    hue: parseFloat(hue)
  }));
} // prettier-ignore


var curriedSetHue = /*#__PURE__*/curry
/* ::<number | string, string, string> */
(setHue);

/**
 * Sets the lightness of a color to the provided value. The lightness range can be
 * from 0 and 1.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: setLightness(0.2, '#CCCD64'),
 *   background: setLightness('0.75', 'rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${setLightness(0.2, '#CCCD64')};
 *   background: ${setLightness('0.75', 'rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#4d4d19";
 *   background: "rgba(223,224,159,0.7)";
 * }
 */

function setLightness(lightness, color) {
  if (color === 'transparent') return color;
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parseToHsl(color), {
    lightness: parseFloat(lightness)
  }));
} // prettier-ignore


var curriedSetLightness = /*#__PURE__*/curry
/* ::<number | string, string, string> */
(setLightness);

/**
 * Sets the saturation of a color to the provided value. The saturation range can be
 * from 0 and 1.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: setSaturation(0.2, '#CCCD64'),
 *   background: setSaturation('0.75', 'rgba(204,205,100,0.7)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${setSaturation(0.2, '#CCCD64')};
 *   background: ${setSaturation('0.75', 'rgba(204,205,100,0.7)')};
 * `
 *
 * // CSS in JS Output
 * element {
 *   background: "#adad84";
 *   background: "rgba(228,229,76,0.7)";
 * }
 */

function setSaturation(saturation, color) {
  if (color === 'transparent') return color;
  return toColorString(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parseToHsl(color), {
    saturation: parseFloat(saturation)
  }));
} // prettier-ignore


var curriedSetSaturation = /*#__PURE__*/curry
/* ::<number | string, string, string> */
(setSaturation);

/**
 * Shades a color by mixing it with black. `shade` can produce
 * hue shifts, where as `darken` manipulates the luminance channel and therefore
 * doesn't produce hue shifts.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: shade(0.25, '#00f')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${shade(0.25, '#00f')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#00003f";
 * }
 */

function shade(percentage, color) {
  if (color === 'transparent') return color;
  return curriedMix(parseFloat(percentage), 'rgb(0, 0, 0)', color);
} // prettier-ignore


var curriedShade = /*#__PURE__*/curry
/* ::<number | string, string, string> */
(shade);

/**
 * Tints a color by mixing it with white. `tint` can produce
 * hue shifts, where as `lighten` manipulates the luminance channel and therefore
 * doesn't produce hue shifts.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: tint(0.25, '#00f')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${tint(0.25, '#00f')};
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "#bfbfff";
 * }
 */

function tint(percentage, color) {
  if (color === 'transparent') return color;
  return curriedMix(parseFloat(percentage), 'rgb(255, 255, 255)', color);
} // prettier-ignore


var curriedTint = /*#__PURE__*/curry
/* ::<number | string, string, string> */
(tint);

/**
 * Decreases the opacity of a color. Its range for the amount is between 0 to 1.
 *
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   background: transparentize(0.1, '#fff');
 *   background: transparentize(0.2, 'hsl(0, 0%, 100%)'),
 *   background: transparentize('0.5', 'rgba(255, 0, 0, 0.8)'),
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   background: ${transparentize(0.1, '#fff')};
 *   background: ${transparentize(0.2, 'hsl(0, 0%, 100%)')},
 *   background: ${transparentize('0.5', 'rgba(255, 0, 0, 0.8)')},
 * `
 *
 * // CSS in JS Output
 *
 * element {
 *   background: "rgba(255,255,255,0.9)";
 *   background: "rgba(255,255,255,0.8)";
 *   background: "rgba(255,0,0,0.3)";
 * }
 */

function transparentize(amount, color) {
  if (color === 'transparent') return color;
  var parsedColor = parseToRgb(color);
  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;

  var colorWithAlpha = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, parsedColor, {
    alpha: guard(0, 1, +(alpha * 100 - parseFloat(amount) * 100).toFixed(2) / 100)
  });

  return rgba(colorWithAlpha);
} // prettier-ignore


var curriedTransparentize = /*#__PURE__*/curry
/* ::<number | string, string, string> */
(transparentize);

/**
 * Shorthand for easily setting the animation property. Allows either multiple arrays with animations
 * or a single animation spread over the arguments.
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...animation(['rotate', '1s', 'ease-in-out'], ['colorchange', '2s'])
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${animation(['rotate', '1s', 'ease-in-out'], ['colorchange', '2s'])}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'animation': 'rotate 1s ease-in-out, colorchange 2s'
 * }
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...animation('rotate', '1s', 'ease-in-out')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${animation('rotate', '1s', 'ease-in-out')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'animation': 'rotate 1s ease-in-out'
 * }
 */
function animation() {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  // Allow single or multiple animations passed
  var multiMode = Array.isArray(args[0]);

  if (!multiMode && args.length > 8) {
    throw new PolishedError(64);
  }

  var code = args.map(function (arg) {
    if (multiMode && !Array.isArray(arg) || !multiMode && Array.isArray(arg)) {
      throw new PolishedError(65);
    }

    if (Array.isArray(arg) && arg.length > 8) {
      throw new PolishedError(66);
    }

    return Array.isArray(arg) ? arg.join(' ') : arg;
  }).join(', ');
  return {
    animation: code
  };
}

/**
 * Shorthand that accepts any number of backgroundImage values as parameters for creating a single background statement.
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...backgroundImages('url("/image/background.jpg")', 'linear-gradient(red, green)')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${backgroundImages('url("/image/background.jpg")', 'linear-gradient(red, green)')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'backgroundImage': 'url("/image/background.jpg"), linear-gradient(red, green)'
 * }
 */
function backgroundImages() {
  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {
    properties[_key] = arguments[_key];
  }

  return {
    backgroundImage: properties.join(', ')
  };
}

/**
 * Shorthand that accepts any number of background values as parameters for creating a single background statement.
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...backgrounds('url("/image/background.jpg")', 'linear-gradient(red, green)', 'center no-repeat')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${backgrounds('url("/image/background.jpg")', 'linear-gradient(red, green)', 'center no-repeat')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'background': 'url("/image/background.jpg"), linear-gradient(red, green), center no-repeat'
 * }
 */
function backgrounds() {
  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {
    properties[_key] = arguments[_key];
  }

  return {
    background: properties.join(', ')
  };
}

var sideMap = ['top', 'right', 'bottom', 'left'];
/**
 * Shorthand for the border property that splits out individual properties for use with tools like Fela and Styletron. A side keyword can optionally be passed to target only one side's border properties.
 *
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...border('1px', 'solid', 'red')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${border('1px', 'solid', 'red')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'borderColor': 'red',
 *   'borderStyle': 'solid',
 *   'borderWidth': `1px`,
 * }
 *
 * // Styles as object usage
 * const styles = {
 *   ...border('top', '1px', 'solid', 'red')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${border('top', '1px', 'solid', 'red')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'borderTopColor': 'red',
 *   'borderTopStyle': 'solid',
 *   'borderTopWidth': `1px`,
 * }
 */

function border(sideKeyword) {
  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    values[_key - 1] = arguments[_key];
  }

  if (typeof sideKeyword === 'string' && sideMap.indexOf(sideKeyword) >= 0) {
    var _ref;

    return _ref = {}, _ref["border" + capitalizeString(sideKeyword) + "Width"] = values[0], _ref["border" + capitalizeString(sideKeyword) + "Style"] = values[1], _ref["border" + capitalizeString(sideKeyword) + "Color"] = values[2], _ref;
  } else {
    values.unshift(sideKeyword);
    return {
      borderWidth: values[0],
      borderStyle: values[1],
      borderColor: values[2]
    };
  }
}

/**
 * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...borderColor('red', 'green', 'blue', 'yellow')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${borderColor('red', 'green', 'blue', 'yellow')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'borderTopColor': 'red',
 *   'borderRightColor': 'green',
 *   'borderBottomColor': 'blue',
 *   'borderLeftColor': 'yellow'
 * }
 */
function borderColor() {
  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {
    values[_key] = arguments[_key];
  }

  return directionalProperty.apply(void 0, ['borderColor'].concat(values));
}

/**
 * Shorthand that accepts a value for side and a value for radius and applies the radius value to both corners of the side.
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...borderRadius('top', '5px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${borderRadius('top', '5px')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'borderTopRightRadius': '5px',
 *   'borderTopLeftRadius': '5px',
 * }
 */
function borderRadius(side, radius) {
  var uppercaseSide = capitalizeString(side);

  if (!radius && radius !== 0) {
    throw new PolishedError(62);
  }

  if (uppercaseSide === 'Top' || uppercaseSide === 'Bottom') {
    var _ref;

    return _ref = {}, _ref["border" + uppercaseSide + "RightRadius"] = radius, _ref["border" + uppercaseSide + "LeftRadius"] = radius, _ref;
  }

  if (uppercaseSide === 'Left' || uppercaseSide === 'Right') {
    var _ref2;

    return _ref2 = {}, _ref2["borderTop" + uppercaseSide + "Radius"] = radius, _ref2["borderBottom" + uppercaseSide + "Radius"] = radius, _ref2;
  }

  throw new PolishedError(63);
}

/**
 * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...borderStyle('solid', 'dashed', 'dotted', 'double')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${borderStyle('solid', 'dashed', 'dotted', 'double')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'borderTopStyle': 'solid',
 *   'borderRightStyle': 'dashed',
 *   'borderBottomStyle': 'dotted',
 *   'borderLeftStyle': 'double'
 * }
 */
function borderStyle() {
  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {
    values[_key] = arguments[_key];
  }

  return directionalProperty.apply(void 0, ['borderStyle'].concat(values));
}

/**
 * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...borderWidth('12px', '24px', '36px', '48px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${borderWidth('12px', '24px', '36px', '48px')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'borderTopWidth': '12px',
 *   'borderRightWidth': '24px',
 *   'borderBottomWidth': '36px',
 *   'borderLeftWidth': '48px'
 * }
 */
function borderWidth() {
  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {
    values[_key] = arguments[_key];
  }

  return directionalProperty.apply(void 0, ['borderWidth'].concat(values));
}

function generateSelectors(template, state) {
  var stateSuffix = state ? ":" + state : '';
  return template(stateSuffix);
}
/**
 * Function helper that adds an array of states to a template of selectors. Used in textInputs and buttons.
 * @private
 */


function statefulSelectors(states, template, stateMap) {
  if (!template) throw new PolishedError(67);
  if (states.length === 0) return generateSelectors(template, null);
  var selectors = [];

  for (var i = 0; i < states.length; i += 1) {
    if (stateMap && stateMap.indexOf(states[i]) < 0) {
      throw new PolishedError(68);
    }

    selectors.push(generateSelectors(template, states[i]));
  }

  selectors = selectors.join(',');
  return selectors;
}

var stateMap$1 = [undefined, null, 'active', 'focus', 'hover'];

function template$1(state) {
  return "button" + state + ",\n  input[type=\"button\"]" + state + ",\n  input[type=\"reset\"]" + state + ",\n  input[type=\"submit\"]" + state;
}
/**
 * Populates selectors that target all buttons. You can pass optional states to append to the selectors.
 * @example
 * // Styles as object usage
 * const styles = {
 *   [buttons('active')]: {
 *     'border': 'none'
 *   }
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   > ${buttons('active')} {
 *     border: none;
 *   }
 * `
 *
 * // CSS in JS Output
 *
 *  'button:active,
 *  'input[type="button"]:active,
 *  'input[type=\"reset\"]:active,
 *  'input[type=\"submit\"]:active: {
 *   'border': 'none'
 * }
 */


function buttons() {
  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {
    states[_key] = arguments[_key];
  }

  return statefulSelectors(states, template$1, stateMap$1);
}

/**
 * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...margin('12px', '24px', '36px', '48px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${margin('12px', '24px', '36px', '48px')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'marginTop': '12px',
 *   'marginRight': '24px',
 *   'marginBottom': '36px',
 *   'marginLeft': '48px'
 * }
 */
function margin() {
  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {
    values[_key] = arguments[_key];
  }

  return directionalProperty.apply(void 0, ['margin'].concat(values));
}

/**
 * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...padding('12px', '24px', '36px', '48px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${padding('12px', '24px', '36px', '48px')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'paddingTop': '12px',
 *   'paddingRight': '24px',
 *   'paddingBottom': '36px',
 *   'paddingLeft': '48px'
 * }
 */
function padding() {
  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {
    values[_key] = arguments[_key];
  }

  return directionalProperty.apply(void 0, ['padding'].concat(values));
}

var positionMap = ['absolute', 'fixed', 'relative', 'static', 'sticky'];
/**
 * Shorthand accepts up to five values, including null to skip a value, and maps them to their respective directions. The first value can optionally be a position keyword.
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...position('12px', '24px', '36px', '48px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${position('12px', '24px', '36px', '48px')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'top': '12px',
 *   'right': '24px',
 *   'bottom': '36px',
 *   'left': '48px'
 * }
 *
 * // Styles as object usage
 * const styles = {
 *   ...position('absolute', '12px', '24px', '36px', '48px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${position('absolute', '12px', '24px', '36px', '48px')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'position': 'absolute',
 *   'top': '12px',
 *   'right': '24px',
 *   'bottom': '36px',
 *   'left': '48px'
 * }
 */

function position(firstValue) {
  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    values[_key - 1] = arguments[_key];
  }

  if (positionMap.indexOf(firstValue) >= 0 && firstValue) {
    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, directionalProperty.apply(void 0, [''].concat(values)), {
      position: firstValue
    });
  } else {
    return directionalProperty.apply(void 0, ['', firstValue].concat(values));
  }
}

/**
 * Shorthand to set the height and width properties in a single statement.
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...size('300px', '250px')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${size('300px', '250px')}
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'height': '300px',
 *   'width': '250px',
 * }
 */
function size(height, width) {
  if (width === void 0) {
    width = height;
  }

  return {
    height: height,
    width: width
  };
}

var stateMap = [undefined, null, 'active', 'focus', 'hover'];

function template(state) {
  return "input[type=\"color\"]" + state + ",\n    input[type=\"date\"]" + state + ",\n    input[type=\"datetime\"]" + state + ",\n    input[type=\"datetime-local\"]" + state + ",\n    input[type=\"email\"]" + state + ",\n    input[type=\"month\"]" + state + ",\n    input[type=\"number\"]" + state + ",\n    input[type=\"password\"]" + state + ",\n    input[type=\"search\"]" + state + ",\n    input[type=\"tel\"]" + state + ",\n    input[type=\"text\"]" + state + ",\n    input[type=\"time\"]" + state + ",\n    input[type=\"url\"]" + state + ",\n    input[type=\"week\"]" + state + ",\n    input:not([type])" + state + ",\n    textarea" + state;
}
/**
 * Populates selectors that target all text inputs. You can pass optional states to append to the selectors.
 * @example
 * // Styles as object usage
 * const styles = {
 *   [textInputs('active')]: {
 *     'border': 'none'
 *   }
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   > ${textInputs('active')} {
 *     border: none;
 *   }
 * `
 *
 * // CSS in JS Output
 *
 *  'input[type="color"]:active,
 *  input[type="date"]:active,
 *  input[type="datetime"]:active,
 *  input[type="datetime-local"]:active,
 *  input[type="email"]:active,
 *  input[type="month"]:active,
 *  input[type="number"]:active,
 *  input[type="password"]:active,
 *  input[type="search"]:active,
 *  input[type="tel"]:active,
 *  input[type="text"]:active,
 *  input[type="time"]:active,
 *  input[type="url"]:active,
 *  input[type="week"]:active,
 *  input:not([type]):active,
 *  textarea:active': {
 *   'border': 'none'
 * }
 */


function textInputs() {
  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {
    states[_key] = arguments[_key];
  }

  return statefulSelectors(states, template, stateMap);
}

/**
 * Accepts any number of transition values as parameters for creating a single transition statement. You may also pass an array of properties as the first parameter that you would like to apply the same transition values to (second parameter).
 * @example
 * // Styles as object usage
 * const styles = {
 *   ...transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s'),
 *   ...transitions(['color', 'background-color'], '2.0s ease-in 2s')
 * }
 *
 * // styled-components usage
 * const div = styled.div`
 *   ${transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s')};
 *   ${transitions(['color', 'background-color'], '2.0s ease-in 2s'),};
 * `
 *
 * // CSS as JS Output
 *
 * div {
 *   'transition': 'opacity 1.0s ease-in 0s, width 2.0s ease-in 2s'
 *   'transition': 'color 2.0s ease-in 2s, background-color 2.0s ease-in 2s',
 * }
 */

function transitions() {
  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {
    properties[_key] = arguments[_key];
  }

  if (Array.isArray(properties[0]) && properties.length === 2) {
    var value = properties[1];

    if (typeof value !== 'string') {
      throw new PolishedError(61);
    }

    var transitionsString = properties[0].map(function (property) {
      return property + " " + value;
    }).join(', ');
    return {
      transition: transitionsString
    };
  } else {
    return {
      transition: properties.join(', ')
    };
  }
}




/***/ }),

/***/ "./node_modules/raf-schd/dist/raf-schd.esm.js":
/*!****************************************************!*\
  !*** ./node_modules/raf-schd/dist/raf-schd.esm.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var rafSchd = function rafSchd(fn) {
  var lastArgs = [];
  var frameId = null;

  var wrapperFn = function wrapperFn() {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    lastArgs = args;

    if (frameId) {
      return;
    }

    frameId = requestAnimationFrame(function () {
      frameId = null;
      fn.apply(void 0, lastArgs);
    });
  };

  wrapperFn.cancel = function () {
    if (!frameId) {
      return;
    }

    cancelAnimationFrame(frameId);
    frameId = null;
  };

  return wrapperFn;
};

/* harmony default export */ __webpack_exports__["default"] = (rafSchd);


/***/ }),

/***/ "./node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js":
/*!**************************************************************************!*\
  !*** ./node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js ***!
  \**************************************************************************/
/*! exports provided: DragDropContext, Draggable, Droppable, resetServerContext, useKeyboardSensor, useMouseSensor, useTouchSensor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DragDropContext", function() { return DragDropContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Draggable", function() { return PublicDraggable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Droppable", function() { return ConnectedDroppable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resetServerContext", function() { return resetServerContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useKeyboardSensor", function() { return useKeyboardSensor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useMouseSensor", function() { return useMouseSensor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useTouchSensor", function() { return useTouchSensor; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/inheritsLoose */ "./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js");
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! redux */ "./node_modules/redux/es/redux.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var use_memo_one__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! use-memo-one */ "./node_modules/use-memo-one/dist/use-memo-one.esm.js");
/* harmony import */ var css_box_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! css-box-model */ "./node_modules/css-box-model/dist/css-box-model.esm.js");
/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! memoize-one */ "./node_modules/memoize-one/dist/memoize-one.esm.js");
/* harmony import */ var raf_schd__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! raf-schd */ "./node_modules/raf-schd/dist/raf-schd.esm.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_9__);











var isProduction = "false" === 'production';
var spacesAndTabs = /[ \t]{2,}/g;
var lineStartWithSpaces = /^[ \t]*/gm;

var clean = function clean(value) {
  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();
};

var getDevMessage = function getDevMessage(message) {
  return clean("\n  %creact-beautiful-dnd\n\n  %c" + clean(message) + "\n\n  %c\uD83D\uDC77\u200D This is a development only message. It will be removed in production builds.\n");
};

var getFormattedMessage = function getFormattedMessage(message) {
  return [getDevMessage(message), 'color: #00C584; font-size: 1.2em; font-weight: bold;', 'line-height: 1.5', 'color: #723874;'];
};
var isDisabledFlag = '__react-beautiful-dnd-disable-dev-warnings';
function log(type, message) {
  var _console;

  if (isProduction) {
    return;
  }

  if (typeof window !== 'undefined' && window[isDisabledFlag]) {
    return;
  }

  (_console = console)[type].apply(_console, getFormattedMessage(message));
}
var warning = log.bind(null, 'warn');
var error = log.bind(null, 'error');

function noop() {}

function getOptions(shared, fromBinding) {
  return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, shared, {}, fromBinding);
}

function bindEvents(el, bindings, sharedOptions) {
  var unbindings = bindings.map(function (binding) {
    var options = getOptions(sharedOptions, binding.options);
    el.addEventListener(binding.eventName, binding.fn, options);
    return function unbind() {
      el.removeEventListener(binding.eventName, binding.fn, options);
    };
  });
  return function unbindAll() {
    unbindings.forEach(function (unbind) {
      unbind();
    });
  };
}

var isProduction$1 = "false" === 'production';
var prefix = 'Invariant failed';
function RbdInvariant(message) {
  this.message = message;
}

RbdInvariant.prototype.toString = function toString() {
  return this.message;
};

function invariant(condition, message) {
  if (condition) {
    return;
  }

  if (isProduction$1) {
    throw new RbdInvariant(prefix);
  } else {
    throw new RbdInvariant(prefix + ": " + (message || ''));
  }
}

var ErrorBoundary = function (_React$Component) {
  Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__["default"])(ErrorBoundary, _React$Component);

  function ErrorBoundary() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;
    _this.callbacks = null;
    _this.unbind = noop;

    _this.onWindowError = function (event) {
      var callbacks = _this.getCallbacks();

      if (callbacks.isDragging()) {
        callbacks.tryAbort();
         true ? warning("\n        An error was caught by our window 'error' event listener while a drag was occurring.\n        The active drag has been aborted.\n      ") : undefined;
      }

      var err = event.error;

      if (err instanceof RbdInvariant) {
        event.preventDefault();

        if (true) {
          error(err.message);
        }
      }
    };

    _this.getCallbacks = function () {
      if (!_this.callbacks) {
        throw new Error('Unable to find AppCallbacks in <ErrorBoundary/>');
      }

      return _this.callbacks;
    };

    _this.setCallbacks = function (callbacks) {
      _this.callbacks = callbacks;
    };

    return _this;
  }

  var _proto = ErrorBoundary.prototype;

  _proto.componentDidMount = function componentDidMount() {
    this.unbind = bindEvents(window, [{
      eventName: 'error',
      fn: this.onWindowError
    }]);
  };

  _proto.componentDidCatch = function componentDidCatch(err) {
    if (err instanceof RbdInvariant) {
      if (true) {
        error(err.message);
      }

      this.setState({});
      return;
    }

    throw err;
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    this.unbind();
  };

  _proto.render = function render() {
    return this.props.children(this.setCallbacks);
  };

  return ErrorBoundary;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var dragHandleUsageInstructions = "\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n";

var position = function position(index) {
  return index + 1;
};

var onDragStart = function onDragStart(start) {
  return "\n  You have lifted an item in position " + position(start.source.index) + "\n";
};

var withLocation = function withLocation(source, destination) {
  var isInHomeList = source.droppableId === destination.droppableId;
  var startPosition = position(source.index);
  var endPosition = position(destination.index);

  if (isInHomeList) {
    return "\n      You have moved the item from position " + startPosition + "\n      to position " + endPosition + "\n    ";
  }

  return "\n    You have moved the item from position " + startPosition + "\n    in list " + source.droppableId + "\n    to list " + destination.droppableId + "\n    in position " + endPosition + "\n  ";
};

var withCombine = function withCombine(id, source, combine) {
  var inHomeList = source.droppableId === combine.droppableId;

  if (inHomeList) {
    return "\n      The item " + id + "\n      has been combined with " + combine.draggableId;
  }

  return "\n      The item " + id + "\n      in list " + source.droppableId + "\n      has been combined with " + combine.draggableId + "\n      in list " + combine.droppableId + "\n    ";
};

var onDragUpdate = function onDragUpdate(update) {
  var location = update.destination;

  if (location) {
    return withLocation(update.source, location);
  }

  var combine = update.combine;

  if (combine) {
    return withCombine(update.draggableId, update.source, combine);
  }

  return 'You are over an area that cannot be dropped on';
};

var returnedToStart = function returnedToStart(source) {
  return "\n  The item has returned to its starting position\n  of " + position(source.index) + "\n";
};

var onDragEnd = function onDragEnd(result) {
  if (result.reason === 'CANCEL') {
    return "\n      Movement cancelled.\n      " + returnedToStart(result.source) + "\n    ";
  }

  var location = result.destination;
  var combine = result.combine;

  if (location) {
    return "\n      You have dropped the item.\n      " + withLocation(result.source, location) + "\n    ";
  }

  if (combine) {
    return "\n      You have dropped the item.\n      " + withCombine(result.draggableId, result.source, combine) + "\n    ";
  }

  return "\n    The item has been dropped while not over a drop area.\n    " + returnedToStart(result.source) + "\n  ";
};

var preset = {
  dragHandleUsageInstructions: dragHandleUsageInstructions,
  onDragStart: onDragStart,
  onDragUpdate: onDragUpdate,
  onDragEnd: onDragEnd
};

var origin = {
  x: 0,
  y: 0
};
var add = function add(point1, point2) {
  return {
    x: point1.x + point2.x,
    y: point1.y + point2.y
  };
};
var subtract = function subtract(point1, point2) {
  return {
    x: point1.x - point2.x,
    y: point1.y - point2.y
  };
};
var isEqual = function isEqual(point1, point2) {
  return point1.x === point2.x && point1.y === point2.y;
};
var negate = function negate(point) {
  return {
    x: point.x !== 0 ? -point.x : 0,
    y: point.y !== 0 ? -point.y : 0
  };
};
var patch = function patch(line, value, otherValue) {
  var _ref;

  if (otherValue === void 0) {
    otherValue = 0;
  }

  return _ref = {}, _ref[line] = value, _ref[line === 'x' ? 'y' : 'x'] = otherValue, _ref;
};
var distance = function distance(point1, point2) {
  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));
};
var closest = function closest(target, points) {
  return Math.min.apply(Math, points.map(function (point) {
    return distance(target, point);
  }));
};
var apply = function apply(fn) {
  return function (point) {
    return {
      x: fn(point.x),
      y: fn(point.y)
    };
  };
};

var executeClip = (function (frame, subject) {
  var result = Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["getRect"])({
    top: Math.max(subject.top, frame.top),
    right: Math.min(subject.right, frame.right),
    bottom: Math.min(subject.bottom, frame.bottom),
    left: Math.max(subject.left, frame.left)
  });

  if (result.width <= 0 || result.height <= 0) {
    return null;
  }

  return result;
});

var offsetByPosition = function offsetByPosition(spacing, point) {
  return {
    top: spacing.top + point.y,
    left: spacing.left + point.x,
    bottom: spacing.bottom + point.y,
    right: spacing.right + point.x
  };
};
var getCorners = function getCorners(spacing) {
  return [{
    x: spacing.left,
    y: spacing.top
  }, {
    x: spacing.right,
    y: spacing.top
  }, {
    x: spacing.left,
    y: spacing.bottom
  }, {
    x: spacing.right,
    y: spacing.bottom
  }];
};
var noSpacing = {
  top: 0,
  right: 0,
  bottom: 0,
  left: 0
};

var scroll = function scroll(target, frame) {
  if (!frame) {
    return target;
  }

  return offsetByPosition(target, frame.scroll.diff.displacement);
};

var increase = function increase(target, axis, withPlaceholder) {
  if (withPlaceholder && withPlaceholder.increasedBy) {
    var _extends2;

    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, target, (_extends2 = {}, _extends2[axis.end] = target[axis.end] + withPlaceholder.increasedBy[axis.line], _extends2));
  }

  return target;
};

var clip = function clip(target, frame) {
  if (frame && frame.shouldClipSubject) {
    return executeClip(frame.pageMarginBox, target);
  }

  return Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["getRect"])(target);
};

var getSubject = (function (_ref) {
  var page = _ref.page,
      withPlaceholder = _ref.withPlaceholder,
      axis = _ref.axis,
      frame = _ref.frame;
  var scrolled = scroll(page.marginBox, frame);
  var increased = increase(scrolled, axis, withPlaceholder);
  var clipped = clip(increased, frame);
  return {
    page: page,
    withPlaceholder: withPlaceholder,
    active: clipped
  };
});

var scrollDroppable = (function (droppable, newScroll) {
  !droppable.frame ?  true ? invariant(false) : undefined : void 0;
  var scrollable = droppable.frame;
  var scrollDiff = subtract(newScroll, scrollable.scroll.initial);
  var scrollDisplacement = negate(scrollDiff);

  var frame = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, scrollable, {
    scroll: {
      initial: scrollable.scroll.initial,
      current: newScroll,
      diff: {
        value: scrollDiff,
        displacement: scrollDisplacement
      },
      max: scrollable.scroll.max
    }
  });

  var subject = getSubject({
    page: droppable.subject.page,
    withPlaceholder: droppable.subject.withPlaceholder,
    axis: droppable.axis,
    frame: frame
  });

  var result = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, droppable, {
    frame: frame,
    subject: subject
  });

  return result;
});

function isInteger(value) {
  if (Number.isInteger) {
    return Number.isInteger(value);
  }

  return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;
}
function values(map) {
  if (Object.values) {
    return Object.values(map);
  }

  return Object.keys(map).map(function (key) {
    return map[key];
  });
}
function findIndex(list, predicate) {
  if (list.findIndex) {
    return list.findIndex(predicate);
  }

  for (var i = 0; i < list.length; i++) {
    if (predicate(list[i])) {
      return i;
    }
  }

  return -1;
}
function find(list, predicate) {
  if (list.find) {
    return list.find(predicate);
  }

  var index = findIndex(list, predicate);

  if (index !== -1) {
    return list[index];
  }

  return undefined;
}
function toArray(list) {
  return Array.prototype.slice.call(list);
}

var toDroppableMap = Object(memoize_one__WEBPACK_IMPORTED_MODULE_7__["default"])(function (droppables) {
  return droppables.reduce(function (previous, current) {
    previous[current.descriptor.id] = current;
    return previous;
  }, {});
});
var toDraggableMap = Object(memoize_one__WEBPACK_IMPORTED_MODULE_7__["default"])(function (draggables) {
  return draggables.reduce(function (previous, current) {
    previous[current.descriptor.id] = current;
    return previous;
  }, {});
});
var toDroppableList = Object(memoize_one__WEBPACK_IMPORTED_MODULE_7__["default"])(function (droppables) {
  return values(droppables);
});
var toDraggableList = Object(memoize_one__WEBPACK_IMPORTED_MODULE_7__["default"])(function (draggables) {
  return values(draggables);
});

var getDraggablesInsideDroppable = Object(memoize_one__WEBPACK_IMPORTED_MODULE_7__["default"])(function (droppableId, draggables) {
  var result = toDraggableList(draggables).filter(function (draggable) {
    return droppableId === draggable.descriptor.droppableId;
  }).sort(function (a, b) {
    return a.descriptor.index - b.descriptor.index;
  });
  return result;
});

function tryGetDestination(impact) {
  if (impact.at && impact.at.type === 'REORDER') {
    return impact.at.destination;
  }

  return null;
}
function tryGetCombine(impact) {
  if (impact.at && impact.at.type === 'COMBINE') {
    return impact.at.combine;
  }

  return null;
}

var removeDraggableFromList = Object(memoize_one__WEBPACK_IMPORTED_MODULE_7__["default"])(function (remove, list) {
  return list.filter(function (item) {
    return item.descriptor.id !== remove.descriptor.id;
  });
});

var moveToNextCombine = (function (_ref) {
  var isMovingForward = _ref.isMovingForward,
      draggable = _ref.draggable,
      destination = _ref.destination,
      insideDestination = _ref.insideDestination,
      previousImpact = _ref.previousImpact;

  if (!destination.isCombineEnabled) {
    return null;
  }

  var location = tryGetDestination(previousImpact);

  if (!location) {
    return null;
  }

  function getImpact(target) {
    var at = {
      type: 'COMBINE',
      combine: {
        draggableId: target,
        droppableId: destination.descriptor.id
      }
    };
    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, previousImpact, {
      at: at
    });
  }

  var all = previousImpact.displaced.all;
  var closestId = all.length ? all[0] : null;

  if (isMovingForward) {
    return closestId ? getImpact(closestId) : null;
  }

  var withoutDraggable = removeDraggableFromList(draggable, insideDestination);

  if (!closestId) {
    if (!withoutDraggable.length) {
      return null;
    }

    var last = withoutDraggable[withoutDraggable.length - 1];
    return getImpact(last.descriptor.id);
  }

  var indexOfClosest = findIndex(withoutDraggable, function (d) {
    return d.descriptor.id === closestId;
  });
  !(indexOfClosest !== -1) ?  true ? invariant(false, 'Could not find displaced item in set') : undefined : void 0;
  var proposedIndex = indexOfClosest - 1;

  if (proposedIndex < 0) {
    return null;
  }

  var before = withoutDraggable[proposedIndex];
  return getImpact(before.descriptor.id);
});

var isHomeOf = (function (draggable, destination) {
  return draggable.descriptor.droppableId === destination.descriptor.id;
});

var noDisplacedBy = {
  point: origin,
  value: 0
};
var emptyGroups = {
  invisible: {},
  visible: {},
  all: []
};
var noImpact = {
  displaced: emptyGroups,
  displacedBy: noDisplacedBy,
  at: null
};

var isWithin = (function (lowerBound, upperBound) {
  return function (value) {
    return lowerBound <= value && value <= upperBound;
  };
});

var isPartiallyVisibleThroughFrame = (function (frame) {
  var isWithinVertical = isWithin(frame.top, frame.bottom);
  var isWithinHorizontal = isWithin(frame.left, frame.right);
  return function (subject) {
    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);

    if (isContained) {
      return true;
    }

    var isPartiallyVisibleVertically = isWithinVertical(subject.top) || isWithinVertical(subject.bottom);
    var isPartiallyVisibleHorizontally = isWithinHorizontal(subject.left) || isWithinHorizontal(subject.right);
    var isPartiallyContained = isPartiallyVisibleVertically && isPartiallyVisibleHorizontally;

    if (isPartiallyContained) {
      return true;
    }

    var isBiggerVertically = subject.top < frame.top && subject.bottom > frame.bottom;
    var isBiggerHorizontally = subject.left < frame.left && subject.right > frame.right;
    var isTargetBiggerThanFrame = isBiggerVertically && isBiggerHorizontally;

    if (isTargetBiggerThanFrame) {
      return true;
    }

    var isTargetBiggerOnOneAxis = isBiggerVertically && isPartiallyVisibleHorizontally || isBiggerHorizontally && isPartiallyVisibleVertically;
    return isTargetBiggerOnOneAxis;
  };
});

var isTotallyVisibleThroughFrame = (function (frame) {
  var isWithinVertical = isWithin(frame.top, frame.bottom);
  var isWithinHorizontal = isWithin(frame.left, frame.right);
  return function (subject) {
    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);
    return isContained;
  };
});

var vertical = {
  direction: 'vertical',
  line: 'y',
  crossAxisLine: 'x',
  start: 'top',
  end: 'bottom',
  size: 'height',
  crossAxisStart: 'left',
  crossAxisEnd: 'right',
  crossAxisSize: 'width'
};
var horizontal = {
  direction: 'horizontal',
  line: 'x',
  crossAxisLine: 'y',
  start: 'left',
  end: 'right',
  size: 'width',
  crossAxisStart: 'top',
  crossAxisEnd: 'bottom',
  crossAxisSize: 'height'
};

var isTotallyVisibleThroughFrameOnAxis = (function (axis) {
  return function (frame) {
    var isWithinVertical = isWithin(frame.top, frame.bottom);
    var isWithinHorizontal = isWithin(frame.left, frame.right);
    return function (subject) {
      if (axis === vertical) {
        return isWithinVertical(subject.top) && isWithinVertical(subject.bottom);
      }

      return isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);
    };
  };
});

var getDroppableDisplaced = function getDroppableDisplaced(target, destination) {
  var displacement = destination.frame ? destination.frame.scroll.diff.displacement : origin;
  return offsetByPosition(target, displacement);
};

var isVisibleInDroppable = function isVisibleInDroppable(target, destination, isVisibleThroughFrameFn) {
  if (!destination.subject.active) {
    return false;
  }

  return isVisibleThroughFrameFn(destination.subject.active)(target);
};

var isVisibleInViewport = function isVisibleInViewport(target, viewport, isVisibleThroughFrameFn) {
  return isVisibleThroughFrameFn(viewport)(target);
};

var isVisible = function isVisible(_ref) {
  var toBeDisplaced = _ref.target,
      destination = _ref.destination,
      viewport = _ref.viewport,
      withDroppableDisplacement = _ref.withDroppableDisplacement,
      isVisibleThroughFrameFn = _ref.isVisibleThroughFrameFn;
  var displacedTarget = withDroppableDisplacement ? getDroppableDisplaced(toBeDisplaced, destination) : toBeDisplaced;
  return isVisibleInDroppable(displacedTarget, destination, isVisibleThroughFrameFn) && isVisibleInViewport(displacedTarget, viewport, isVisibleThroughFrameFn);
};

var isPartiallyVisible = function isPartiallyVisible(args) {
  return isVisible(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, args, {
    isVisibleThroughFrameFn: isPartiallyVisibleThroughFrame
  }));
};
var isTotallyVisible = function isTotallyVisible(args) {
  return isVisible(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, args, {
    isVisibleThroughFrameFn: isTotallyVisibleThroughFrame
  }));
};
var isTotallyVisibleOnAxis = function isTotallyVisibleOnAxis(args) {
  return isVisible(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, args, {
    isVisibleThroughFrameFn: isTotallyVisibleThroughFrameOnAxis(args.destination.axis)
  }));
};

var getShouldAnimate = function getShouldAnimate(id, last, forceShouldAnimate) {
  if (typeof forceShouldAnimate === 'boolean') {
    return forceShouldAnimate;
  }

  if (!last) {
    return true;
  }

  var invisible = last.invisible,
      visible = last.visible;

  if (invisible[id]) {
    return false;
  }

  var previous = visible[id];
  return previous ? previous.shouldAnimate : true;
};

function getTarget(draggable, displacedBy) {
  var marginBox = draggable.page.marginBox;
  var expandBy = {
    top: displacedBy.point.y,
    right: 0,
    bottom: 0,
    left: displacedBy.point.x
  };
  return Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["getRect"])(Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["expand"])(marginBox, expandBy));
}

function getDisplacementGroups(_ref) {
  var afterDragging = _ref.afterDragging,
      destination = _ref.destination,
      displacedBy = _ref.displacedBy,
      viewport = _ref.viewport,
      forceShouldAnimate = _ref.forceShouldAnimate,
      last = _ref.last;
  return afterDragging.reduce(function process(groups, draggable) {
    var target = getTarget(draggable, displacedBy);
    var id = draggable.descriptor.id;
    groups.all.push(id);
    var isVisible = isPartiallyVisible({
      target: target,
      destination: destination,
      viewport: viewport,
      withDroppableDisplacement: true
    });

    if (!isVisible) {
      groups.invisible[draggable.descriptor.id] = true;
      return groups;
    }

    var shouldAnimate = getShouldAnimate(id, last, forceShouldAnimate);
    var displacement = {
      draggableId: id,
      shouldAnimate: shouldAnimate
    };
    groups.visible[id] = displacement;
    return groups;
  }, {
    all: [],
    visible: {},
    invisible: {}
  });
}

function getIndexOfLastItem(draggables, options) {
  if (!draggables.length) {
    return 0;
  }

  var indexOfLastItem = draggables[draggables.length - 1].descriptor.index;
  return options.inHomeList ? indexOfLastItem : indexOfLastItem + 1;
}

function goAtEnd(_ref) {
  var insideDestination = _ref.insideDestination,
      inHomeList = _ref.inHomeList,
      displacedBy = _ref.displacedBy,
      destination = _ref.destination;
  var newIndex = getIndexOfLastItem(insideDestination, {
    inHomeList: inHomeList
  });
  return {
    displaced: emptyGroups,
    displacedBy: displacedBy,
    at: {
      type: 'REORDER',
      destination: {
        droppableId: destination.descriptor.id,
        index: newIndex
      }
    }
  };
}

function calculateReorderImpact(_ref2) {
  var draggable = _ref2.draggable,
      insideDestination = _ref2.insideDestination,
      destination = _ref2.destination,
      viewport = _ref2.viewport,
      displacedBy = _ref2.displacedBy,
      last = _ref2.last,
      index = _ref2.index,
      forceShouldAnimate = _ref2.forceShouldAnimate;
  var inHomeList = isHomeOf(draggable, destination);

  if (index == null) {
    return goAtEnd({
      insideDestination: insideDestination,
      inHomeList: inHomeList,
      displacedBy: displacedBy,
      destination: destination
    });
  }

  var match = find(insideDestination, function (item) {
    return item.descriptor.index === index;
  });

  if (!match) {
    return goAtEnd({
      insideDestination: insideDestination,
      inHomeList: inHomeList,
      displacedBy: displacedBy,
      destination: destination
    });
  }

  var withoutDragging = removeDraggableFromList(draggable, insideDestination);
  var sliceFrom = insideDestination.indexOf(match);
  var impacted = withoutDragging.slice(sliceFrom);
  var displaced = getDisplacementGroups({
    afterDragging: impacted,
    destination: destination,
    displacedBy: displacedBy,
    last: last,
    viewport: viewport.frame,
    forceShouldAnimate: forceShouldAnimate
  });
  return {
    displaced: displaced,
    displacedBy: displacedBy,
    at: {
      type: 'REORDER',
      destination: {
        droppableId: destination.descriptor.id,
        index: index
      }
    }
  };
}

function didStartAfterCritical(draggableId, afterCritical) {
  return Boolean(afterCritical.effected[draggableId]);
}

var fromCombine = (function (_ref) {
  var isMovingForward = _ref.isMovingForward,
      destination = _ref.destination,
      draggables = _ref.draggables,
      combine = _ref.combine,
      afterCritical = _ref.afterCritical;

  if (!destination.isCombineEnabled) {
    return null;
  }

  var combineId = combine.draggableId;
  var combineWith = draggables[combineId];
  var combineWithIndex = combineWith.descriptor.index;
  var didCombineWithStartAfterCritical = didStartAfterCritical(combineId, afterCritical);

  if (didCombineWithStartAfterCritical) {
    if (isMovingForward) {
      return combineWithIndex;
    }

    return combineWithIndex - 1;
  }

  if (isMovingForward) {
    return combineWithIndex + 1;
  }

  return combineWithIndex;
});

var fromReorder = (function (_ref) {
  var isMovingForward = _ref.isMovingForward,
      isInHomeList = _ref.isInHomeList,
      insideDestination = _ref.insideDestination,
      location = _ref.location;

  if (!insideDestination.length) {
    return null;
  }

  var currentIndex = location.index;
  var proposedIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;
  var firstIndex = insideDestination[0].descriptor.index;
  var lastIndex = insideDestination[insideDestination.length - 1].descriptor.index;
  var upperBound = isInHomeList ? lastIndex : lastIndex + 1;

  if (proposedIndex < firstIndex) {
    return null;
  }

  if (proposedIndex > upperBound) {
    return null;
  }

  return proposedIndex;
});

var moveToNextIndex = (function (_ref) {
  var isMovingForward = _ref.isMovingForward,
      isInHomeList = _ref.isInHomeList,
      draggable = _ref.draggable,
      draggables = _ref.draggables,
      destination = _ref.destination,
      insideDestination = _ref.insideDestination,
      previousImpact = _ref.previousImpact,
      viewport = _ref.viewport,
      afterCritical = _ref.afterCritical;
  var wasAt = previousImpact.at;
  !wasAt ?  true ? invariant(false, 'Cannot move in direction without previous impact location') : undefined : void 0;

  if (wasAt.type === 'REORDER') {
    var _newIndex = fromReorder({
      isMovingForward: isMovingForward,
      isInHomeList: isInHomeList,
      location: wasAt.destination,
      insideDestination: insideDestination
    });

    if (_newIndex == null) {
      return null;
    }

    return calculateReorderImpact({
      draggable: draggable,
      insideDestination: insideDestination,
      destination: destination,
      viewport: viewport,
      last: previousImpact.displaced,
      displacedBy: previousImpact.displacedBy,
      index: _newIndex
    });
  }

  var newIndex = fromCombine({
    isMovingForward: isMovingForward,
    destination: destination,
    displaced: previousImpact.displaced,
    draggables: draggables,
    combine: wasAt.combine,
    afterCritical: afterCritical
  });

  if (newIndex == null) {
    return null;
  }

  return calculateReorderImpact({
    draggable: draggable,
    insideDestination: insideDestination,
    destination: destination,
    viewport: viewport,
    last: previousImpact.displaced,
    displacedBy: previousImpact.displacedBy,
    index: newIndex
  });
});

var getCombinedItemDisplacement = (function (_ref) {
  var displaced = _ref.displaced,
      afterCritical = _ref.afterCritical,
      combineWith = _ref.combineWith,
      displacedBy = _ref.displacedBy;
  var isDisplaced = Boolean(displaced.visible[combineWith] || displaced.invisible[combineWith]);

  if (didStartAfterCritical(combineWith, afterCritical)) {
    return isDisplaced ? origin : negate(displacedBy.point);
  }

  return isDisplaced ? displacedBy.point : origin;
});

var whenCombining = (function (_ref) {
  var afterCritical = _ref.afterCritical,
      impact = _ref.impact,
      draggables = _ref.draggables;
  var combine = tryGetCombine(impact);
  !combine ?  true ? invariant(false) : undefined : void 0;
  var combineWith = combine.draggableId;
  var center = draggables[combineWith].page.borderBox.center;
  var displaceBy = getCombinedItemDisplacement({
    displaced: impact.displaced,
    afterCritical: afterCritical,
    combineWith: combineWith,
    displacedBy: impact.displacedBy
  });
  return add(center, displaceBy);
});

var distanceFromStartToBorderBoxCenter = function distanceFromStartToBorderBoxCenter(axis, box) {
  return box.margin[axis.start] + box.borderBox[axis.size] / 2;
};

var distanceFromEndToBorderBoxCenter = function distanceFromEndToBorderBoxCenter(axis, box) {
  return box.margin[axis.end] + box.borderBox[axis.size] / 2;
};

var getCrossAxisBorderBoxCenter = function getCrossAxisBorderBoxCenter(axis, target, isMoving) {
  return target[axis.crossAxisStart] + isMoving.margin[axis.crossAxisStart] + isMoving.borderBox[axis.crossAxisSize] / 2;
};

var goAfter = function goAfter(_ref) {
  var axis = _ref.axis,
      moveRelativeTo = _ref.moveRelativeTo,
      isMoving = _ref.isMoving;
  return patch(axis.line, moveRelativeTo.marginBox[axis.end] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));
};
var goBefore = function goBefore(_ref2) {
  var axis = _ref2.axis,
      moveRelativeTo = _ref2.moveRelativeTo,
      isMoving = _ref2.isMoving;
  return patch(axis.line, moveRelativeTo.marginBox[axis.start] - distanceFromEndToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));
};
var goIntoStart = function goIntoStart(_ref3) {
  var axis = _ref3.axis,
      moveInto = _ref3.moveInto,
      isMoving = _ref3.isMoving;
  return patch(axis.line, moveInto.contentBox[axis.start] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveInto.contentBox, isMoving));
};

var whenReordering = (function (_ref) {
  var impact = _ref.impact,
      draggable = _ref.draggable,
      draggables = _ref.draggables,
      droppable = _ref.droppable,
      afterCritical = _ref.afterCritical;
  var insideDestination = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);
  var draggablePage = draggable.page;
  var axis = droppable.axis;

  if (!insideDestination.length) {
    return goIntoStart({
      axis: axis,
      moveInto: droppable.page,
      isMoving: draggablePage
    });
  }

  var displaced = impact.displaced,
      displacedBy = impact.displacedBy;
  var closestAfter = displaced.all[0];

  if (closestAfter) {
    var closest = draggables[closestAfter];

    if (didStartAfterCritical(closestAfter, afterCritical)) {
      return goBefore({
        axis: axis,
        moveRelativeTo: closest.page,
        isMoving: draggablePage
      });
    }

    var withDisplacement = Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["offset"])(closest.page, displacedBy.point);
    return goBefore({
      axis: axis,
      moveRelativeTo: withDisplacement,
      isMoving: draggablePage
    });
  }

  var last = insideDestination[insideDestination.length - 1];

  if (last.descriptor.id === draggable.descriptor.id) {
    return draggablePage.borderBox.center;
  }

  if (didStartAfterCritical(last.descriptor.id, afterCritical)) {
    var page = Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["offset"])(last.page, negate(afterCritical.displacedBy.point));
    return goAfter({
      axis: axis,
      moveRelativeTo: page,
      isMoving: draggablePage
    });
  }

  return goAfter({
    axis: axis,
    moveRelativeTo: last.page,
    isMoving: draggablePage
  });
});

var withDroppableDisplacement = (function (droppable, point) {
  var frame = droppable.frame;

  if (!frame) {
    return point;
  }

  return add(point, frame.scroll.diff.displacement);
});

var getResultWithoutDroppableDisplacement = function getResultWithoutDroppableDisplacement(_ref) {
  var impact = _ref.impact,
      draggable = _ref.draggable,
      droppable = _ref.droppable,
      draggables = _ref.draggables,
      afterCritical = _ref.afterCritical;
  var original = draggable.page.borderBox.center;
  var at = impact.at;

  if (!droppable) {
    return original;
  }

  if (!at) {
    return original;
  }

  if (at.type === 'REORDER') {
    return whenReordering({
      impact: impact,
      draggable: draggable,
      draggables: draggables,
      droppable: droppable,
      afterCritical: afterCritical
    });
  }

  return whenCombining({
    impact: impact,
    draggables: draggables,
    afterCritical: afterCritical
  });
};

var getPageBorderBoxCenterFromImpact = (function (args) {
  var withoutDisplacement = getResultWithoutDroppableDisplacement(args);
  var droppable = args.droppable;
  var withDisplacement = droppable ? withDroppableDisplacement(droppable, withoutDisplacement) : withoutDisplacement;
  return withDisplacement;
});

var scrollViewport = (function (viewport, newScroll) {
  var diff = subtract(newScroll, viewport.scroll.initial);
  var displacement = negate(diff);
  var frame = Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["getRect"])({
    top: newScroll.y,
    bottom: newScroll.y + viewport.frame.height,
    left: newScroll.x,
    right: newScroll.x + viewport.frame.width
  });
  var updated = {
    frame: frame,
    scroll: {
      initial: viewport.scroll.initial,
      max: viewport.scroll.max,
      current: newScroll,
      diff: {
        value: diff,
        displacement: displacement
      }
    }
  };
  return updated;
});

function getDraggables(ids, draggables) {
  return ids.map(function (id) {
    return draggables[id];
  });
}

function tryGetVisible(id, groups) {
  for (var i = 0; i < groups.length; i++) {
    var displacement = groups[i].visible[id];

    if (displacement) {
      return displacement;
    }
  }

  return null;
}

var speculativelyIncrease = (function (_ref) {
  var impact = _ref.impact,
      viewport = _ref.viewport,
      destination = _ref.destination,
      draggables = _ref.draggables,
      maxScrollChange = _ref.maxScrollChange;
  var scrolledViewport = scrollViewport(viewport, add(viewport.scroll.current, maxScrollChange));
  var scrolledDroppable = destination.frame ? scrollDroppable(destination, add(destination.frame.scroll.current, maxScrollChange)) : destination;
  var last = impact.displaced;
  var withViewportScroll = getDisplacementGroups({
    afterDragging: getDraggables(last.all, draggables),
    destination: destination,
    displacedBy: impact.displacedBy,
    viewport: scrolledViewport.frame,
    last: last,
    forceShouldAnimate: false
  });
  var withDroppableScroll = getDisplacementGroups({
    afterDragging: getDraggables(last.all, draggables),
    destination: scrolledDroppable,
    displacedBy: impact.displacedBy,
    viewport: viewport.frame,
    last: last,
    forceShouldAnimate: false
  });
  var invisible = {};
  var visible = {};
  var groups = [last, withViewportScroll, withDroppableScroll];
  last.all.forEach(function (id) {
    var displacement = tryGetVisible(id, groups);

    if (displacement) {
      visible[id] = displacement;
      return;
    }

    invisible[id] = true;
  });

  var newImpact = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, impact, {
    displaced: {
      all: last.all,
      invisible: invisible,
      visible: visible
    }
  });

  return newImpact;
});

var withViewportDisplacement = (function (viewport, point) {
  return add(viewport.scroll.diff.displacement, point);
});

var getClientFromPageBorderBoxCenter = (function (_ref) {
  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,
      draggable = _ref.draggable,
      viewport = _ref.viewport;
  var withoutPageScrollChange = withViewportDisplacement(viewport, pageBorderBoxCenter);
  var offset = subtract(withoutPageScrollChange, draggable.page.borderBox.center);
  return add(draggable.client.borderBox.center, offset);
});

var isTotallyVisibleInNewLocation = (function (_ref) {
  var draggable = _ref.draggable,
      destination = _ref.destination,
      newPageBorderBoxCenter = _ref.newPageBorderBoxCenter,
      viewport = _ref.viewport,
      withDroppableDisplacement = _ref.withDroppableDisplacement,
      _ref$onlyOnMainAxis = _ref.onlyOnMainAxis,
      onlyOnMainAxis = _ref$onlyOnMainAxis === void 0 ? false : _ref$onlyOnMainAxis;
  var changeNeeded = subtract(newPageBorderBoxCenter, draggable.page.borderBox.center);
  var shifted = offsetByPosition(draggable.page.borderBox, changeNeeded);
  var args = {
    target: shifted,
    destination: destination,
    withDroppableDisplacement: withDroppableDisplacement,
    viewport: viewport
  };
  return onlyOnMainAxis ? isTotallyVisibleOnAxis(args) : isTotallyVisible(args);
});

var moveToNextPlace = (function (_ref) {
  var isMovingForward = _ref.isMovingForward,
      draggable = _ref.draggable,
      destination = _ref.destination,
      draggables = _ref.draggables,
      previousImpact = _ref.previousImpact,
      viewport = _ref.viewport,
      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,
      previousClientSelection = _ref.previousClientSelection,
      afterCritical = _ref.afterCritical;

  if (!destination.isEnabled) {
    return null;
  }

  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);
  var isInHomeList = isHomeOf(draggable, destination);
  var impact = moveToNextCombine({
    isMovingForward: isMovingForward,
    draggable: draggable,
    destination: destination,
    insideDestination: insideDestination,
    previousImpact: previousImpact
  }) || moveToNextIndex({
    isMovingForward: isMovingForward,
    isInHomeList: isInHomeList,
    draggable: draggable,
    draggables: draggables,
    destination: destination,
    insideDestination: insideDestination,
    previousImpact: previousImpact,
    viewport: viewport,
    afterCritical: afterCritical
  });

  if (!impact) {
    return null;
  }

  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({
    impact: impact,
    draggable: draggable,
    droppable: destination,
    draggables: draggables,
    afterCritical: afterCritical
  });
  var isVisibleInNewLocation = isTotallyVisibleInNewLocation({
    draggable: draggable,
    destination: destination,
    newPageBorderBoxCenter: pageBorderBoxCenter,
    viewport: viewport.frame,
    withDroppableDisplacement: false,
    onlyOnMainAxis: true
  });

  if (isVisibleInNewLocation) {
    var clientSelection = getClientFromPageBorderBoxCenter({
      pageBorderBoxCenter: pageBorderBoxCenter,
      draggable: draggable,
      viewport: viewport
    });
    return {
      clientSelection: clientSelection,
      impact: impact,
      scrollJumpRequest: null
    };
  }

  var distance = subtract(pageBorderBoxCenter, previousPageBorderBoxCenter);
  var cautious = speculativelyIncrease({
    impact: impact,
    viewport: viewport,
    destination: destination,
    draggables: draggables,
    maxScrollChange: distance
  });
  return {
    clientSelection: previousClientSelection,
    impact: cautious,
    scrollJumpRequest: distance
  };
});

var getKnownActive = function getKnownActive(droppable) {
  var rect = droppable.subject.active;
  !rect ?  true ? invariant(false, 'Cannot get clipped area from droppable') : undefined : void 0;
  return rect;
};

var getBestCrossAxisDroppable = (function (_ref) {
  var isMovingForward = _ref.isMovingForward,
      pageBorderBoxCenter = _ref.pageBorderBoxCenter,
      source = _ref.source,
      droppables = _ref.droppables,
      viewport = _ref.viewport;
  var active = source.subject.active;

  if (!active) {
    return null;
  }

  var axis = source.axis;
  var isBetweenSourceClipped = isWithin(active[axis.start], active[axis.end]);
  var candidates = toDroppableList(droppables).filter(function (droppable) {
    return droppable !== source;
  }).filter(function (droppable) {
    return droppable.isEnabled;
  }).filter(function (droppable) {
    return Boolean(droppable.subject.active);
  }).filter(function (droppable) {
    return isPartiallyVisibleThroughFrame(viewport.frame)(getKnownActive(droppable));
  }).filter(function (droppable) {
    var activeOfTarget = getKnownActive(droppable);

    if (isMovingForward) {
      return active[axis.crossAxisEnd] < activeOfTarget[axis.crossAxisEnd];
    }

    return activeOfTarget[axis.crossAxisStart] < active[axis.crossAxisStart];
  }).filter(function (droppable) {
    var activeOfTarget = getKnownActive(droppable);
    var isBetweenDestinationClipped = isWithin(activeOfTarget[axis.start], activeOfTarget[axis.end]);
    return isBetweenSourceClipped(activeOfTarget[axis.start]) || isBetweenSourceClipped(activeOfTarget[axis.end]) || isBetweenDestinationClipped(active[axis.start]) || isBetweenDestinationClipped(active[axis.end]);
  }).sort(function (a, b) {
    var first = getKnownActive(a)[axis.crossAxisStart];
    var second = getKnownActive(b)[axis.crossAxisStart];

    if (isMovingForward) {
      return first - second;
    }

    return second - first;
  }).filter(function (droppable, index, array) {
    return getKnownActive(droppable)[axis.crossAxisStart] === getKnownActive(array[0])[axis.crossAxisStart];
  });

  if (!candidates.length) {
    return null;
  }

  if (candidates.length === 1) {
    return candidates[0];
  }

  var contains = candidates.filter(function (droppable) {
    var isWithinDroppable = isWithin(getKnownActive(droppable)[axis.start], getKnownActive(droppable)[axis.end]);
    return isWithinDroppable(pageBorderBoxCenter[axis.line]);
  });

  if (contains.length === 1) {
    return contains[0];
  }

  if (contains.length > 1) {
    return contains.sort(function (a, b) {
      return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];
    })[0];
  }

  return candidates.sort(function (a, b) {
    var first = closest(pageBorderBoxCenter, getCorners(getKnownActive(a)));
    var second = closest(pageBorderBoxCenter, getCorners(getKnownActive(b)));

    if (first !== second) {
      return first - second;
    }

    return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];
  })[0];
});

var getCurrentPageBorderBoxCenter = function getCurrentPageBorderBoxCenter(draggable, afterCritical) {
  var original = draggable.page.borderBox.center;
  return didStartAfterCritical(draggable.descriptor.id, afterCritical) ? subtract(original, afterCritical.displacedBy.point) : original;
};
var getCurrentPageBorderBox = function getCurrentPageBorderBox(draggable, afterCritical) {
  var original = draggable.page.borderBox;
  return didStartAfterCritical(draggable.descriptor.id, afterCritical) ? offsetByPosition(original, negate(afterCritical.displacedBy.point)) : original;
};

var getClosestDraggable = (function (_ref) {
  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,
      viewport = _ref.viewport,
      destination = _ref.destination,
      insideDestination = _ref.insideDestination,
      afterCritical = _ref.afterCritical;
  var sorted = insideDestination.filter(function (draggable) {
    return isTotallyVisible({
      target: getCurrentPageBorderBox(draggable, afterCritical),
      destination: destination,
      viewport: viewport.frame,
      withDroppableDisplacement: true
    });
  }).sort(function (a, b) {
    var distanceToA = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(a, afterCritical)));
    var distanceToB = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(b, afterCritical)));

    if (distanceToA < distanceToB) {
      return -1;
    }

    if (distanceToB < distanceToA) {
      return 1;
    }

    return a.descriptor.index - b.descriptor.index;
  });
  return sorted[0] || null;
});

var getDisplacedBy = Object(memoize_one__WEBPACK_IMPORTED_MODULE_7__["default"])(function getDisplacedBy(axis, displaceBy) {
  var displacement = displaceBy[axis.line];
  return {
    value: displacement,
    point: patch(axis.line, displacement)
  };
});

var getRequiredGrowthForPlaceholder = function getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables) {
  var axis = droppable.axis;

  if (droppable.descriptor.mode === 'virtual') {
    return patch(axis.line, placeholderSize[axis.line]);
  }

  var availableSpace = droppable.subject.page.contentBox[axis.size];
  var insideDroppable = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);
  var spaceUsed = insideDroppable.reduce(function (sum, dimension) {
    return sum + dimension.client.marginBox[axis.size];
  }, 0);
  var requiredSpace = spaceUsed + placeholderSize[axis.line];
  var needsToGrowBy = requiredSpace - availableSpace;

  if (needsToGrowBy <= 0) {
    return null;
  }

  return patch(axis.line, needsToGrowBy);
};

var withMaxScroll = function withMaxScroll(frame, max) {
  return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, frame, {
    scroll: Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, frame.scroll, {
      max: max
    })
  });
};

var addPlaceholder = function addPlaceholder(droppable, draggable, draggables) {
  var frame = droppable.frame;
  !!isHomeOf(draggable, droppable) ?  true ? invariant(false, 'Should not add placeholder space to home list') : undefined : void 0;
  !!droppable.subject.withPlaceholder ?  true ? invariant(false, 'Cannot add placeholder size to a subject when it already has one') : undefined : void 0;
  var placeholderSize = getDisplacedBy(droppable.axis, draggable.displaceBy).point;
  var requiredGrowth = getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables);
  var added = {
    placeholderSize: placeholderSize,
    increasedBy: requiredGrowth,
    oldFrameMaxScroll: droppable.frame ? droppable.frame.scroll.max : null
  };

  if (!frame) {
    var _subject = getSubject({
      page: droppable.subject.page,
      withPlaceholder: added,
      axis: droppable.axis,
      frame: droppable.frame
    });

    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, droppable, {
      subject: _subject
    });
  }

  var maxScroll = requiredGrowth ? add(frame.scroll.max, requiredGrowth) : frame.scroll.max;
  var newFrame = withMaxScroll(frame, maxScroll);
  var subject = getSubject({
    page: droppable.subject.page,
    withPlaceholder: added,
    axis: droppable.axis,
    frame: newFrame
  });
  return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, droppable, {
    subject: subject,
    frame: newFrame
  });
};
var removePlaceholder = function removePlaceholder(droppable) {
  var added = droppable.subject.withPlaceholder;
  !added ?  true ? invariant(false, 'Cannot remove placeholder form subject when there was none') : undefined : void 0;
  var frame = droppable.frame;

  if (!frame) {
    var _subject2 = getSubject({
      page: droppable.subject.page,
      axis: droppable.axis,
      frame: null,
      withPlaceholder: null
    });

    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, droppable, {
      subject: _subject2
    });
  }

  var oldMaxScroll = added.oldFrameMaxScroll;
  !oldMaxScroll ?  true ? invariant(false, 'Expected droppable with frame to have old max frame scroll when removing placeholder') : undefined : void 0;
  var newFrame = withMaxScroll(frame, oldMaxScroll);
  var subject = getSubject({
    page: droppable.subject.page,
    axis: droppable.axis,
    frame: newFrame,
    withPlaceholder: null
  });
  return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, droppable, {
    subject: subject,
    frame: newFrame
  });
};

var moveToNewDroppable = (function (_ref) {
  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,
      moveRelativeTo = _ref.moveRelativeTo,
      insideDestination = _ref.insideDestination,
      draggable = _ref.draggable,
      draggables = _ref.draggables,
      destination = _ref.destination,
      viewport = _ref.viewport,
      afterCritical = _ref.afterCritical;

  if (!moveRelativeTo) {
    if (insideDestination.length) {
      return null;
    }

    var proposed = {
      displaced: emptyGroups,
      displacedBy: noDisplacedBy,
      at: {
        type: 'REORDER',
        destination: {
          droppableId: destination.descriptor.id,
          index: 0
        }
      }
    };
    var proposedPageBorderBoxCenter = getPageBorderBoxCenterFromImpact({
      impact: proposed,
      draggable: draggable,
      droppable: destination,
      draggables: draggables,
      afterCritical: afterCritical
    });
    var withPlaceholder = isHomeOf(draggable, destination) ? destination : addPlaceholder(destination, draggable, draggables);
    var isVisibleInNewLocation = isTotallyVisibleInNewLocation({
      draggable: draggable,
      destination: withPlaceholder,
      newPageBorderBoxCenter: proposedPageBorderBoxCenter,
      viewport: viewport.frame,
      withDroppableDisplacement: false,
      onlyOnMainAxis: true
    });
    return isVisibleInNewLocation ? proposed : null;
  }

  var isGoingBeforeTarget = Boolean(previousPageBorderBoxCenter[destination.axis.line] <= moveRelativeTo.page.borderBox.center[destination.axis.line]);

  var proposedIndex = function () {
    var relativeTo = moveRelativeTo.descriptor.index;

    if (moveRelativeTo.descriptor.id === draggable.descriptor.id) {
      return relativeTo;
    }

    if (isGoingBeforeTarget) {
      return relativeTo;
    }

    return relativeTo + 1;
  }();

  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);
  return calculateReorderImpact({
    draggable: draggable,
    insideDestination: insideDestination,
    destination: destination,
    viewport: viewport,
    displacedBy: displacedBy,
    last: emptyGroups,
    index: proposedIndex
  });
});

var moveCrossAxis = (function (_ref) {
  var isMovingForward = _ref.isMovingForward,
      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,
      draggable = _ref.draggable,
      isOver = _ref.isOver,
      draggables = _ref.draggables,
      droppables = _ref.droppables,
      viewport = _ref.viewport,
      afterCritical = _ref.afterCritical;
  var destination = getBestCrossAxisDroppable({
    isMovingForward: isMovingForward,
    pageBorderBoxCenter: previousPageBorderBoxCenter,
    source: isOver,
    droppables: droppables,
    viewport: viewport
  });

  if (!destination) {
    return null;
  }

  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);
  var moveRelativeTo = getClosestDraggable({
    pageBorderBoxCenter: previousPageBorderBoxCenter,
    viewport: viewport,
    destination: destination,
    insideDestination: insideDestination,
    afterCritical: afterCritical
  });
  var impact = moveToNewDroppable({
    previousPageBorderBoxCenter: previousPageBorderBoxCenter,
    destination: destination,
    draggable: draggable,
    draggables: draggables,
    moveRelativeTo: moveRelativeTo,
    insideDestination: insideDestination,
    viewport: viewport,
    afterCritical: afterCritical
  });

  if (!impact) {
    return null;
  }

  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({
    impact: impact,
    draggable: draggable,
    droppable: destination,
    draggables: draggables,
    afterCritical: afterCritical
  });
  var clientSelection = getClientFromPageBorderBoxCenter({
    pageBorderBoxCenter: pageBorderBoxCenter,
    draggable: draggable,
    viewport: viewport
  });
  return {
    clientSelection: clientSelection,
    impact: impact,
    scrollJumpRequest: null
  };
});

var whatIsDraggedOver = (function (impact) {
  var at = impact.at;

  if (!at) {
    return null;
  }

  if (at.type === 'REORDER') {
    return at.destination.droppableId;
  }

  return at.combine.droppableId;
});

var getDroppableOver = function getDroppableOver(impact, droppables) {
  var id = whatIsDraggedOver(impact);
  return id ? droppables[id] : null;
};

var moveInDirection = (function (_ref) {
  var state = _ref.state,
      type = _ref.type;
  var isActuallyOver = getDroppableOver(state.impact, state.dimensions.droppables);
  var isMainAxisMovementAllowed = Boolean(isActuallyOver);
  var home = state.dimensions.droppables[state.critical.droppable.id];
  var isOver = isActuallyOver || home;
  var direction = isOver.axis.direction;
  var isMovingOnMainAxis = direction === 'vertical' && (type === 'MOVE_UP' || type === 'MOVE_DOWN') || direction === 'horizontal' && (type === 'MOVE_LEFT' || type === 'MOVE_RIGHT');

  if (isMovingOnMainAxis && !isMainAxisMovementAllowed) {
    return null;
  }

  var isMovingForward = type === 'MOVE_DOWN' || type === 'MOVE_RIGHT';
  var draggable = state.dimensions.draggables[state.critical.draggable.id];
  var previousPageBorderBoxCenter = state.current.page.borderBoxCenter;
  var _state$dimensions = state.dimensions,
      draggables = _state$dimensions.draggables,
      droppables = _state$dimensions.droppables;
  return isMovingOnMainAxis ? moveToNextPlace({
    isMovingForward: isMovingForward,
    previousPageBorderBoxCenter: previousPageBorderBoxCenter,
    draggable: draggable,
    destination: isOver,
    draggables: draggables,
    viewport: state.viewport,
    previousClientSelection: state.current.client.selection,
    previousImpact: state.impact,
    afterCritical: state.afterCritical
  }) : moveCrossAxis({
    isMovingForward: isMovingForward,
    previousPageBorderBoxCenter: previousPageBorderBoxCenter,
    draggable: draggable,
    isOver: isOver,
    draggables: draggables,
    droppables: droppables,
    viewport: state.viewport,
    afterCritical: state.afterCritical
  });
});

function isMovementAllowed(state) {
  return state.phase === 'DRAGGING' || state.phase === 'COLLECTING';
}

function isPositionInFrame(frame) {
  var isWithinVertical = isWithin(frame.top, frame.bottom);
  var isWithinHorizontal = isWithin(frame.left, frame.right);
  return function run(point) {
    return isWithinVertical(point.y) && isWithinHorizontal(point.x);
  };
}

function getHasOverlap(first, second) {
  return first.left < second.right && first.right > second.left && first.top < second.bottom && first.bottom > second.top;
}

function getFurthestAway(_ref) {
  var pageBorderBox = _ref.pageBorderBox,
      draggable = _ref.draggable,
      candidates = _ref.candidates;
  var startCenter = draggable.page.borderBox.center;
  var sorted = candidates.map(function (candidate) {
    var axis = candidate.axis;
    var target = patch(candidate.axis.line, pageBorderBox.center[axis.line], candidate.page.borderBox.center[axis.crossAxisLine]);
    return {
      id: candidate.descriptor.id,
      distance: distance(startCenter, target)
    };
  }).sort(function (a, b) {
    return b.distance - a.distance;
  });
  return sorted[0] ? sorted[0].id : null;
}

function getDroppableOver$1(_ref2) {
  var pageBorderBox = _ref2.pageBorderBox,
      draggable = _ref2.draggable,
      droppables = _ref2.droppables;
  var candidates = toDroppableList(droppables).filter(function (item) {
    if (!item.isEnabled) {
      return false;
    }

    var active = item.subject.active;

    if (!active) {
      return false;
    }

    if (!getHasOverlap(pageBorderBox, active)) {
      return false;
    }

    if (isPositionInFrame(active)(pageBorderBox.center)) {
      return true;
    }

    var axis = item.axis;
    var childCenter = active.center[axis.crossAxisLine];
    var crossAxisStart = pageBorderBox[axis.crossAxisStart];
    var crossAxisEnd = pageBorderBox[axis.crossAxisEnd];
    var isContained = isWithin(active[axis.crossAxisStart], active[axis.crossAxisEnd]);
    var isStartContained = isContained(crossAxisStart);
    var isEndContained = isContained(crossAxisEnd);

    if (!isStartContained && !isEndContained) {
      return true;
    }

    if (isStartContained) {
      return crossAxisStart < childCenter;
    }

    return crossAxisEnd > childCenter;
  });

  if (!candidates.length) {
    return null;
  }

  if (candidates.length === 1) {
    return candidates[0].descriptor.id;
  }

  return getFurthestAway({
    pageBorderBox: pageBorderBox,
    draggable: draggable,
    candidates: candidates
  });
}

var offsetRectByPosition = function offsetRectByPosition(rect, point) {
  return Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["getRect"])(offsetByPosition(rect, point));
};

var withDroppableScroll = (function (droppable, area) {
  var frame = droppable.frame;

  if (!frame) {
    return area;
  }

  return offsetRectByPosition(area, frame.scroll.diff.value);
});

function getIsDisplaced(_ref) {
  var displaced = _ref.displaced,
      id = _ref.id;
  return Boolean(displaced.visible[id] || displaced.invisible[id]);
}

function atIndex(_ref) {
  var draggable = _ref.draggable,
      closest = _ref.closest,
      inHomeList = _ref.inHomeList;

  if (!closest) {
    return null;
  }

  if (!inHomeList) {
    return closest.descriptor.index;
  }

  if (closest.descriptor.index > draggable.descriptor.index) {
    return closest.descriptor.index - 1;
  }

  return closest.descriptor.index;
}

var getReorderImpact = (function (_ref2) {
  var targetRect = _ref2.pageBorderBoxWithDroppableScroll,
      draggable = _ref2.draggable,
      destination = _ref2.destination,
      insideDestination = _ref2.insideDestination,
      last = _ref2.last,
      viewport = _ref2.viewport,
      afterCritical = _ref2.afterCritical;
  var axis = destination.axis;
  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);
  var displacement = displacedBy.value;
  var targetStart = targetRect[axis.start];
  var targetEnd = targetRect[axis.end];
  var withoutDragging = removeDraggableFromList(draggable, insideDestination);
  var closest = find(withoutDragging, function (child) {
    var id = child.descriptor.id;
    var childCenter = child.page.borderBox.center[axis.line];
    var didStartAfterCritical$1 = didStartAfterCritical(id, afterCritical);
    var isDisplaced = getIsDisplaced({
      displaced: last,
      id: id
    });

    if (didStartAfterCritical$1) {
      if (isDisplaced) {
        return targetEnd <= childCenter;
      }

      return targetStart < childCenter - displacement;
    }

    if (isDisplaced) {
      return targetEnd <= childCenter + displacement;
    }

    return targetStart < childCenter;
  });
  var newIndex = atIndex({
    draggable: draggable,
    closest: closest,
    inHomeList: isHomeOf(draggable, destination)
  });
  return calculateReorderImpact({
    draggable: draggable,
    insideDestination: insideDestination,
    destination: destination,
    viewport: viewport,
    last: last,
    displacedBy: displacedBy,
    index: newIndex
  });
});

var combineThresholdDivisor = 4;
var getCombineImpact = (function (_ref) {
  var draggable = _ref.draggable,
      targetRect = _ref.pageBorderBoxWithDroppableScroll,
      previousImpact = _ref.previousImpact,
      destination = _ref.destination,
      insideDestination = _ref.insideDestination,
      afterCritical = _ref.afterCritical;

  if (!destination.isCombineEnabled) {
    return null;
  }

  var axis = destination.axis;
  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);
  var displacement = displacedBy.value;
  var targetStart = targetRect[axis.start];
  var targetEnd = targetRect[axis.end];
  var withoutDragging = removeDraggableFromList(draggable, insideDestination);
  var combineWith = find(withoutDragging, function (child) {
    var id = child.descriptor.id;
    var childRect = child.page.borderBox;
    var childSize = childRect[axis.size];
    var threshold = childSize / combineThresholdDivisor;
    var didStartAfterCritical$1 = didStartAfterCritical(id, afterCritical);
    var isDisplaced = getIsDisplaced({
      displaced: previousImpact.displaced,
      id: id
    });

    if (didStartAfterCritical$1) {
      if (isDisplaced) {
        return targetEnd > childRect[axis.start] + threshold && targetEnd < childRect[axis.end] - threshold;
      }

      return targetStart > childRect[axis.start] - displacement + threshold && targetStart < childRect[axis.end] - displacement - threshold;
    }

    if (isDisplaced) {
      return targetEnd > childRect[axis.start] + displacement + threshold && targetEnd < childRect[axis.end] + displacement - threshold;
    }

    return targetStart > childRect[axis.start] + threshold && targetStart < childRect[axis.end] - threshold;
  });

  if (!combineWith) {
    return null;
  }

  var impact = {
    displacedBy: displacedBy,
    displaced: previousImpact.displaced,
    at: {
      type: 'COMBINE',
      combine: {
        draggableId: combineWith.descriptor.id,
        droppableId: destination.descriptor.id
      }
    }
  };
  return impact;
});

var getDragImpact = (function (_ref) {
  var pageOffset = _ref.pageOffset,
      draggable = _ref.draggable,
      draggables = _ref.draggables,
      droppables = _ref.droppables,
      previousImpact = _ref.previousImpact,
      viewport = _ref.viewport,
      afterCritical = _ref.afterCritical;
  var pageBorderBox = offsetRectByPosition(draggable.page.borderBox, pageOffset);
  var destinationId = getDroppableOver$1({
    pageBorderBox: pageBorderBox,
    draggable: draggable,
    droppables: droppables
  });

  if (!destinationId) {
    return noImpact;
  }

  var destination = droppables[destinationId];
  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);
  var pageBorderBoxWithDroppableScroll = withDroppableScroll(destination, pageBorderBox);
  return getCombineImpact({
    pageBorderBoxWithDroppableScroll: pageBorderBoxWithDroppableScroll,
    draggable: draggable,
    previousImpact: previousImpact,
    destination: destination,
    insideDestination: insideDestination,
    afterCritical: afterCritical
  }) || getReorderImpact({
    pageBorderBoxWithDroppableScroll: pageBorderBoxWithDroppableScroll,
    draggable: draggable,
    destination: destination,
    insideDestination: insideDestination,
    last: previousImpact.displaced,
    viewport: viewport,
    afterCritical: afterCritical
  });
});

var patchDroppableMap = (function (droppables, updated) {
  var _extends2;

  return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, droppables, (_extends2 = {}, _extends2[updated.descriptor.id] = updated, _extends2));
});

var clearUnusedPlaceholder = function clearUnusedPlaceholder(_ref) {
  var previousImpact = _ref.previousImpact,
      impact = _ref.impact,
      droppables = _ref.droppables;
  var last = whatIsDraggedOver(previousImpact);
  var now = whatIsDraggedOver(impact);

  if (!last) {
    return droppables;
  }

  if (last === now) {
    return droppables;
  }

  var lastDroppable = droppables[last];

  if (!lastDroppable.subject.withPlaceholder) {
    return droppables;
  }

  var updated = removePlaceholder(lastDroppable);
  return patchDroppableMap(droppables, updated);
};

var recomputePlaceholders = (function (_ref2) {
  var draggable = _ref2.draggable,
      draggables = _ref2.draggables,
      droppables = _ref2.droppables,
      previousImpact = _ref2.previousImpact,
      impact = _ref2.impact;
  var cleaned = clearUnusedPlaceholder({
    previousImpact: previousImpact,
    impact: impact,
    droppables: droppables
  });
  var isOver = whatIsDraggedOver(impact);

  if (!isOver) {
    return cleaned;
  }

  var droppable = droppables[isOver];

  if (isHomeOf(draggable, droppable)) {
    return cleaned;
  }

  if (droppable.subject.withPlaceholder) {
    return cleaned;
  }

  var patched = addPlaceholder(droppable, draggable, draggables);
  return patchDroppableMap(cleaned, patched);
});

var update = (function (_ref) {
  var state = _ref.state,
      forcedClientSelection = _ref.clientSelection,
      forcedDimensions = _ref.dimensions,
      forcedViewport = _ref.viewport,
      forcedImpact = _ref.impact,
      scrollJumpRequest = _ref.scrollJumpRequest;
  var viewport = forcedViewport || state.viewport;
  var dimensions = forcedDimensions || state.dimensions;
  var clientSelection = forcedClientSelection || state.current.client.selection;
  var offset = subtract(clientSelection, state.initial.client.selection);
  var client = {
    offset: offset,
    selection: clientSelection,
    borderBoxCenter: add(state.initial.client.borderBoxCenter, offset)
  };
  var page = {
    selection: add(client.selection, viewport.scroll.current),
    borderBoxCenter: add(client.borderBoxCenter, viewport.scroll.current),
    offset: add(client.offset, viewport.scroll.diff.value)
  };
  var current = {
    client: client,
    page: page
  };

  if (state.phase === 'COLLECTING') {
    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({
      phase: 'COLLECTING'
    }, state, {
      dimensions: dimensions,
      viewport: viewport,
      current: current
    });
  }

  var draggable = dimensions.draggables[state.critical.draggable.id];
  var newImpact = forcedImpact || getDragImpact({
    pageOffset: page.offset,
    draggable: draggable,
    draggables: dimensions.draggables,
    droppables: dimensions.droppables,
    previousImpact: state.impact,
    viewport: viewport,
    afterCritical: state.afterCritical
  });
  var withUpdatedPlaceholders = recomputePlaceholders({
    draggable: draggable,
    impact: newImpact,
    previousImpact: state.impact,
    draggables: dimensions.draggables,
    droppables: dimensions.droppables
  });

  var result = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, state, {
    current: current,
    dimensions: {
      draggables: dimensions.draggables,
      droppables: withUpdatedPlaceholders
    },
    impact: newImpact,
    viewport: viewport,
    scrollJumpRequest: scrollJumpRequest || null,
    forceShouldAnimate: scrollJumpRequest ? false : null
  });

  return result;
});

function getDraggables$1(ids, draggables) {
  return ids.map(function (id) {
    return draggables[id];
  });
}

var recompute = (function (_ref) {
  var impact = _ref.impact,
      viewport = _ref.viewport,
      draggables = _ref.draggables,
      destination = _ref.destination,
      forceShouldAnimate = _ref.forceShouldAnimate;
  var last = impact.displaced;
  var afterDragging = getDraggables$1(last.all, draggables);
  var displaced = getDisplacementGroups({
    afterDragging: afterDragging,
    destination: destination,
    displacedBy: impact.displacedBy,
    viewport: viewport.frame,
    forceShouldAnimate: forceShouldAnimate,
    last: last
  });
  return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, impact, {
    displaced: displaced
  });
});

var getClientBorderBoxCenter = (function (_ref) {
  var impact = _ref.impact,
      draggable = _ref.draggable,
      droppable = _ref.droppable,
      draggables = _ref.draggables,
      viewport = _ref.viewport,
      afterCritical = _ref.afterCritical;
  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({
    impact: impact,
    draggable: draggable,
    draggables: draggables,
    droppable: droppable,
    afterCritical: afterCritical
  });
  return getClientFromPageBorderBoxCenter({
    pageBorderBoxCenter: pageBorderBoxCenter,
    draggable: draggable,
    viewport: viewport
  });
});

var refreshSnap = (function (_ref) {
  var state = _ref.state,
      forcedDimensions = _ref.dimensions,
      forcedViewport = _ref.viewport;
  !(state.movementMode === 'SNAP') ?  true ? invariant(false) : undefined : void 0;
  var needsVisibilityCheck = state.impact;
  var viewport = forcedViewport || state.viewport;
  var dimensions = forcedDimensions || state.dimensions;
  var draggables = dimensions.draggables,
      droppables = dimensions.droppables;
  var draggable = draggables[state.critical.draggable.id];
  var isOver = whatIsDraggedOver(needsVisibilityCheck);
  !isOver ?  true ? invariant(false, 'Must be over a destination in SNAP movement mode') : undefined : void 0;
  var destination = droppables[isOver];
  var impact = recompute({
    impact: needsVisibilityCheck,
    viewport: viewport,
    destination: destination,
    draggables: draggables
  });
  var clientSelection = getClientBorderBoxCenter({
    impact: impact,
    draggable: draggable,
    droppable: destination,
    draggables: draggables,
    viewport: viewport,
    afterCritical: state.afterCritical
  });
  return update({
    impact: impact,
    clientSelection: clientSelection,
    state: state,
    dimensions: dimensions,
    viewport: viewport
  });
});

var getHomeLocation = (function (descriptor) {
  return {
    index: descriptor.index,
    droppableId: descriptor.droppableId
  };
});

var getLiftEffect = (function (_ref) {
  var draggable = _ref.draggable,
      home = _ref.home,
      draggables = _ref.draggables,
      viewport = _ref.viewport;
  var displacedBy = getDisplacedBy(home.axis, draggable.displaceBy);
  var insideHome = getDraggablesInsideDroppable(home.descriptor.id, draggables);
  var rawIndex = insideHome.indexOf(draggable);
  !(rawIndex !== -1) ?  true ? invariant(false, 'Expected draggable to be inside home list') : undefined : void 0;
  var afterDragging = insideHome.slice(rawIndex + 1);
  var effected = afterDragging.reduce(function (previous, item) {
    previous[item.descriptor.id] = true;
    return previous;
  }, {});
  var afterCritical = {
    inVirtualList: home.descriptor.mode === 'virtual',
    displacedBy: displacedBy,
    effected: effected
  };
  var displaced = getDisplacementGroups({
    afterDragging: afterDragging,
    destination: home,
    displacedBy: displacedBy,
    last: null,
    viewport: viewport.frame,
    forceShouldAnimate: false
  });
  var impact = {
    displaced: displaced,
    displacedBy: displacedBy,
    at: {
      type: 'REORDER',
      destination: getHomeLocation(draggable.descriptor)
    }
  };
  return {
    impact: impact,
    afterCritical: afterCritical
  };
});

var patchDimensionMap = (function (dimensions, updated) {
  return {
    draggables: dimensions.draggables,
    droppables: patchDroppableMap(dimensions.droppables, updated)
  };
});

var start = function start(key) {
  if (true) {
    {
      return;
    }
  }
};
var finish = function finish(key) {
  if (true) {
    {
      return;
    }
  }
};

var offsetDraggable = (function (_ref) {
  var draggable = _ref.draggable,
      offset$1 = _ref.offset,
      initialWindowScroll = _ref.initialWindowScroll;
  var client = Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["offset"])(draggable.client, offset$1);
  var page = Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["withScroll"])(client, initialWindowScroll);

  var moved = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, draggable, {
    placeholder: Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, draggable.placeholder, {
      client: client
    }),
    client: client,
    page: page
  });

  return moved;
});

var getFrame = (function (droppable) {
  var frame = droppable.frame;
  !frame ?  true ? invariant(false, 'Expected Droppable to have a frame') : undefined : void 0;
  return frame;
});

var adjustAdditionsForScrollChanges = (function (_ref) {
  var additions = _ref.additions,
      updatedDroppables = _ref.updatedDroppables,
      viewport = _ref.viewport;
  var windowScrollChange = viewport.scroll.diff.value;
  return additions.map(function (draggable) {
    var droppableId = draggable.descriptor.droppableId;
    var modified = updatedDroppables[droppableId];
    var frame = getFrame(modified);
    var droppableScrollChange = frame.scroll.diff.value;
    var totalChange = add(windowScrollChange, droppableScrollChange);
    var moved = offsetDraggable({
      draggable: draggable,
      offset: totalChange,
      initialWindowScroll: viewport.scroll.initial
    });
    return moved;
  });
});

var publishWhileDraggingInVirtual = (function (_ref) {
  var state = _ref.state,
      published = _ref.published;
  start();
  var withScrollChange = published.modified.map(function (update) {
    var existing = state.dimensions.droppables[update.droppableId];
    var scrolled = scrollDroppable(existing, update.scroll);
    return scrolled;
  });

  var droppables = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, state.dimensions.droppables, {}, toDroppableMap(withScrollChange));

  var updatedAdditions = toDraggableMap(adjustAdditionsForScrollChanges({
    additions: published.additions,
    updatedDroppables: droppables,
    viewport: state.viewport
  }));

  var draggables = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, state.dimensions.draggables, {}, updatedAdditions);

  published.removals.forEach(function (id) {
    delete draggables[id];
  });
  var dimensions = {
    droppables: droppables,
    draggables: draggables
  };
  var wasOverId = whatIsDraggedOver(state.impact);
  var wasOver = wasOverId ? dimensions.droppables[wasOverId] : null;
  var draggable = dimensions.draggables[state.critical.draggable.id];
  var home = dimensions.droppables[state.critical.droppable.id];

  var _getLiftEffect = getLiftEffect({
    draggable: draggable,
    home: home,
    draggables: draggables,
    viewport: state.viewport
  }),
      onLiftImpact = _getLiftEffect.impact,
      afterCritical = _getLiftEffect.afterCritical;

  var previousImpact = wasOver && wasOver.isCombineEnabled ? state.impact : onLiftImpact;
  var impact = getDragImpact({
    pageOffset: state.current.page.offset,
    draggable: dimensions.draggables[state.critical.draggable.id],
    draggables: dimensions.draggables,
    droppables: dimensions.droppables,
    previousImpact: previousImpact,
    viewport: state.viewport,
    afterCritical: afterCritical
  });
  finish();

  var draggingState = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({
    phase: 'DRAGGING'
  }, state, {
    phase: 'DRAGGING',
    impact: impact,
    onLiftImpact: onLiftImpact,
    dimensions: dimensions,
    afterCritical: afterCritical,
    forceShouldAnimate: false
  });

  if (state.phase === 'COLLECTING') {
    return draggingState;
  }

  var dropPending = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({
    phase: 'DROP_PENDING'
  }, draggingState, {
    phase: 'DROP_PENDING',
    reason: state.reason,
    isWaiting: false
  });

  return dropPending;
});

var isSnapping = function isSnapping(state) {
  return state.movementMode === 'SNAP';
};

var postDroppableChange = function postDroppableChange(state, updated, isEnabledChanging) {
  var dimensions = patchDimensionMap(state.dimensions, updated);

  if (!isSnapping(state) || isEnabledChanging) {
    return update({
      state: state,
      dimensions: dimensions
    });
  }

  return refreshSnap({
    state: state,
    dimensions: dimensions
  });
};

function removeScrollJumpRequest(state) {
  if (state.isDragging && state.movementMode === 'SNAP') {
    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({
      phase: 'DRAGGING'
    }, state, {
      scrollJumpRequest: null
    });
  }

  return state;
}

var idle = {
  phase: 'IDLE',
  completed: null,
  shouldFlush: false
};
var reducer = (function (state, action) {
  if (state === void 0) {
    state = idle;
  }

  if (action.type === 'FLUSH') {
    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, idle, {
      shouldFlush: true
    });
  }

  if (action.type === 'INITIAL_PUBLISH') {
    !(state.phase === 'IDLE') ?  true ? invariant(false, 'INITIAL_PUBLISH must come after a IDLE phase') : undefined : void 0;
    var _action$payload = action.payload,
        critical = _action$payload.critical,
        clientSelection = _action$payload.clientSelection,
        viewport = _action$payload.viewport,
        dimensions = _action$payload.dimensions,
        movementMode = _action$payload.movementMode;
    var draggable = dimensions.draggables[critical.draggable.id];
    var home = dimensions.droppables[critical.droppable.id];
    var client = {
      selection: clientSelection,
      borderBoxCenter: draggable.client.borderBox.center,
      offset: origin
    };
    var initial = {
      client: client,
      page: {
        selection: add(client.selection, viewport.scroll.initial),
        borderBoxCenter: add(client.selection, viewport.scroll.initial),
        offset: add(client.selection, viewport.scroll.diff.value)
      }
    };
    var isWindowScrollAllowed = toDroppableList(dimensions.droppables).every(function (item) {
      return !item.isFixedOnPage;
    });

    var _getLiftEffect = getLiftEffect({
      draggable: draggable,
      home: home,
      draggables: dimensions.draggables,
      viewport: viewport
    }),
        impact = _getLiftEffect.impact,
        afterCritical = _getLiftEffect.afterCritical;

    var result = {
      phase: 'DRAGGING',
      isDragging: true,
      critical: critical,
      movementMode: movementMode,
      dimensions: dimensions,
      initial: initial,
      current: initial,
      isWindowScrollAllowed: isWindowScrollAllowed,
      impact: impact,
      afterCritical: afterCritical,
      onLiftImpact: impact,
      viewport: viewport,
      scrollJumpRequest: null,
      forceShouldAnimate: null
    };
    return result;
  }

  if (action.type === 'COLLECTION_STARTING') {
    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {
      return state;
    }

    !(state.phase === 'DRAGGING') ?  true ? invariant(false, "Collection cannot start from phase " + state.phase) : undefined : void 0;

    var _result = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({
      phase: 'COLLECTING'
    }, state, {
      phase: 'COLLECTING'
    });

    return _result;
  }

  if (action.type === 'PUBLISH_WHILE_DRAGGING') {
    !(state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') ?  true ? invariant(false, "Unexpected " + action.type + " received in phase " + state.phase) : undefined : void 0;
    return publishWhileDraggingInVirtual({
      state: state,
      published: action.payload
    });
  }

  if (action.type === 'MOVE') {
    if (state.phase === 'DROP_PENDING') {
      return state;
    }

    !isMovementAllowed(state) ?  true ? invariant(false, action.type + " not permitted in phase " + state.phase) : undefined : void 0;
    var _clientSelection = action.payload.client;

    if (isEqual(_clientSelection, state.current.client.selection)) {
      return state;
    }

    return update({
      state: state,
      clientSelection: _clientSelection,
      impact: isSnapping(state) ? state.impact : null
    });
  }

  if (action.type === 'UPDATE_DROPPABLE_SCROLL') {
    if (state.phase === 'DROP_PENDING') {
      return removeScrollJumpRequest(state);
    }

    if (state.phase === 'COLLECTING') {
      return removeScrollJumpRequest(state);
    }

    !isMovementAllowed(state) ?  true ? invariant(false, action.type + " not permitted in phase " + state.phase) : undefined : void 0;
    var _action$payload2 = action.payload,
        id = _action$payload2.id,
        newScroll = _action$payload2.newScroll;
    var target = state.dimensions.droppables[id];

    if (!target) {
      return state;
    }

    var scrolled = scrollDroppable(target, newScroll);
    return postDroppableChange(state, scrolled, false);
  }

  if (action.type === 'UPDATE_DROPPABLE_IS_ENABLED') {
    if (state.phase === 'DROP_PENDING') {
      return state;
    }

    !isMovementAllowed(state) ?  true ? invariant(false, "Attempting to move in an unsupported phase " + state.phase) : undefined : void 0;
    var _action$payload3 = action.payload,
        _id = _action$payload3.id,
        isEnabled = _action$payload3.isEnabled;
    var _target = state.dimensions.droppables[_id];
    !_target ?  true ? invariant(false, "Cannot find Droppable[id: " + _id + "] to toggle its enabled state") : undefined : void 0;
    !(_target.isEnabled !== isEnabled) ?  true ? invariant(false, "Trying to set droppable isEnabled to " + String(isEnabled) + "\n      but it is already " + String(_target.isEnabled)) : undefined : void 0;

    var updated = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, _target, {
      isEnabled: isEnabled
    });

    return postDroppableChange(state, updated, true);
  }

  if (action.type === 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED') {
    if (state.phase === 'DROP_PENDING') {
      return state;
    }

    !isMovementAllowed(state) ?  true ? invariant(false, "Attempting to move in an unsupported phase " + state.phase) : undefined : void 0;
    var _action$payload4 = action.payload,
        _id2 = _action$payload4.id,
        isCombineEnabled = _action$payload4.isCombineEnabled;
    var _target2 = state.dimensions.droppables[_id2];
    !_target2 ?  true ? invariant(false, "Cannot find Droppable[id: " + _id2 + "] to toggle its isCombineEnabled state") : undefined : void 0;
    !(_target2.isCombineEnabled !== isCombineEnabled) ?  true ? invariant(false, "Trying to set droppable isCombineEnabled to " + String(isCombineEnabled) + "\n      but it is already " + String(_target2.isCombineEnabled)) : undefined : void 0;

    var _updated = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, _target2, {
      isCombineEnabled: isCombineEnabled
    });

    return postDroppableChange(state, _updated, true);
  }

  if (action.type === 'MOVE_BY_WINDOW_SCROLL') {
    if (state.phase === 'DROP_PENDING' || state.phase === 'DROP_ANIMATING') {
      return state;
    }

    !isMovementAllowed(state) ?  true ? invariant(false, "Cannot move by window in phase " + state.phase) : undefined : void 0;
    !state.isWindowScrollAllowed ?  true ? invariant(false, 'Window scrolling is currently not supported for fixed lists') : undefined : void 0;
    var _newScroll = action.payload.newScroll;

    if (isEqual(state.viewport.scroll.current, _newScroll)) {
      return removeScrollJumpRequest(state);
    }

    var _viewport = scrollViewport(state.viewport, _newScroll);

    if (isSnapping(state)) {
      return refreshSnap({
        state: state,
        viewport: _viewport
      });
    }

    return update({
      state: state,
      viewport: _viewport
    });
  }

  if (action.type === 'UPDATE_VIEWPORT_MAX_SCROLL') {
    if (!isMovementAllowed(state)) {
      return state;
    }

    var maxScroll = action.payload.maxScroll;

    if (isEqual(maxScroll, state.viewport.scroll.max)) {
      return state;
    }

    var withMaxScroll = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, state.viewport, {
      scroll: Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, state.viewport.scroll, {
        max: maxScroll
      })
    });

    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({
      phase: 'DRAGGING'
    }, state, {
      viewport: withMaxScroll
    });
  }

  if (action.type === 'MOVE_UP' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_RIGHT') {
    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {
      return state;
    }

    !(state.phase === 'DRAGGING') ?  true ? invariant(false, action.type + " received while not in DRAGGING phase") : undefined : void 0;

    var _result2 = moveInDirection({
      state: state,
      type: action.type
    });

    if (!_result2) {
      return state;
    }

    return update({
      state: state,
      impact: _result2.impact,
      clientSelection: _result2.clientSelection,
      scrollJumpRequest: _result2.scrollJumpRequest
    });
  }

  if (action.type === 'DROP_PENDING') {
    var reason = action.payload.reason;
    !(state.phase === 'COLLECTING') ?  true ? invariant(false, 'Can only move into the DROP_PENDING phase from the COLLECTING phase') : undefined : void 0;

    var newState = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({
      phase: 'DROP_PENDING'
    }, state, {
      phase: 'DROP_PENDING',
      isWaiting: true,
      reason: reason
    });

    return newState;
  }

  if (action.type === 'DROP_ANIMATE') {
    var _action$payload5 = action.payload,
        completed = _action$payload5.completed,
        dropDuration = _action$payload5.dropDuration,
        newHomeClientOffset = _action$payload5.newHomeClientOffset;
    !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ?  true ? invariant(false, "Cannot animate drop from phase " + state.phase) : undefined : void 0;
    var _result3 = {
      phase: 'DROP_ANIMATING',
      completed: completed,
      dropDuration: dropDuration,
      newHomeClientOffset: newHomeClientOffset,
      dimensions: state.dimensions
    };
    return _result3;
  }

  if (action.type === 'DROP_COMPLETE') {
    var _completed = action.payload.completed;
    return {
      phase: 'IDLE',
      completed: _completed,
      shouldFlush: false
    };
  }

  return state;
});

var beforeInitialCapture = function beforeInitialCapture(args) {
  return {
    type: 'BEFORE_INITIAL_CAPTURE',
    payload: args
  };
};
var lift = function lift(args) {
  return {
    type: 'LIFT',
    payload: args
  };
};
var initialPublish = function initialPublish(args) {
  return {
    type: 'INITIAL_PUBLISH',
    payload: args
  };
};
var publishWhileDragging = function publishWhileDragging(args) {
  return {
    type: 'PUBLISH_WHILE_DRAGGING',
    payload: args
  };
};
var collectionStarting = function collectionStarting() {
  return {
    type: 'COLLECTION_STARTING',
    payload: null
  };
};
var updateDroppableScroll = function updateDroppableScroll(args) {
  return {
    type: 'UPDATE_DROPPABLE_SCROLL',
    payload: args
  };
};
var updateDroppableIsEnabled = function updateDroppableIsEnabled(args) {
  return {
    type: 'UPDATE_DROPPABLE_IS_ENABLED',
    payload: args
  };
};
var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(args) {
  return {
    type: 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED',
    payload: args
  };
};
var move = function move(args) {
  return {
    type: 'MOVE',
    payload: args
  };
};
var moveByWindowScroll = function moveByWindowScroll(args) {
  return {
    type: 'MOVE_BY_WINDOW_SCROLL',
    payload: args
  };
};
var updateViewportMaxScroll = function updateViewportMaxScroll(args) {
  return {
    type: 'UPDATE_VIEWPORT_MAX_SCROLL',
    payload: args
  };
};
var moveUp = function moveUp() {
  return {
    type: 'MOVE_UP',
    payload: null
  };
};
var moveDown = function moveDown() {
  return {
    type: 'MOVE_DOWN',
    payload: null
  };
};
var moveRight = function moveRight() {
  return {
    type: 'MOVE_RIGHT',
    payload: null
  };
};
var moveLeft = function moveLeft() {
  return {
    type: 'MOVE_LEFT',
    payload: null
  };
};
var flush = function flush() {
  return {
    type: 'FLUSH',
    payload: null
  };
};
var animateDrop = function animateDrop(args) {
  return {
    type: 'DROP_ANIMATE',
    payload: args
  };
};
var completeDrop = function completeDrop(args) {
  return {
    type: 'DROP_COMPLETE',
    payload: args
  };
};
var drop = function drop(args) {
  return {
    type: 'DROP',
    payload: args
  };
};
var dropPending = function dropPending(args) {
  return {
    type: 'DROP_PENDING',
    payload: args
  };
};
var dropAnimationFinished = function dropAnimationFinished() {
  return {
    type: 'DROP_ANIMATION_FINISHED',
    payload: null
  };
};

function checkIndexes(insideDestination) {
  if (insideDestination.length <= 1) {
    return;
  }

  var indexes = insideDestination.map(function (d) {
    return d.descriptor.index;
  });
  var errors = {};

  for (var i = 1; i < indexes.length; i++) {
    var current = indexes[i];
    var previous = indexes[i - 1];

    if (current !== previous + 1) {
      errors[current] = true;
    }
  }

  if (!Object.keys(errors).length) {
    return;
  }

  var formatted = indexes.map(function (index) {
    var hasError = Boolean(errors[index]);
    return hasError ? "[\uD83D\uDD25" + index + "]" : "" + index;
  }).join(', ');
   true ? warning("\n    Detected non-consecutive <Draggable /> indexes.\n\n    (This can cause unexpected bugs)\n\n    " + formatted + "\n  ") : undefined;
}

function validateDimensions(critical, dimensions) {
  if (true) {
    var insideDestination = getDraggablesInsideDroppable(critical.droppable.id, dimensions.draggables);
    checkIndexes(insideDestination);
  }
}

var lift$1 = (function (marshal) {
  return function (_ref) {
    var getState = _ref.getState,
        dispatch = _ref.dispatch;
    return function (next) {
      return function (action) {
        if (action.type !== 'LIFT') {
          next(action);
          return;
        }

        var _action$payload = action.payload,
            id = _action$payload.id,
            clientSelection = _action$payload.clientSelection,
            movementMode = _action$payload.movementMode;
        var initial = getState();

        if (initial.phase === 'DROP_ANIMATING') {
          dispatch(completeDrop({
            completed: initial.completed
          }));
        }

        !(getState().phase === 'IDLE') ?  true ? invariant(false, 'Unexpected phase to start a drag') : undefined : void 0;
        dispatch(flush());
        dispatch(beforeInitialCapture({
          draggableId: id,
          movementMode: movementMode
        }));
        var scrollOptions = {
          shouldPublishImmediately: movementMode === 'SNAP'
        };
        var request = {
          draggableId: id,
          scrollOptions: scrollOptions
        };

        var _marshal$startPublish = marshal.startPublishing(request),
            critical = _marshal$startPublish.critical,
            dimensions = _marshal$startPublish.dimensions,
            viewport = _marshal$startPublish.viewport;

        validateDimensions(critical, dimensions);
        dispatch(initialPublish({
          critical: critical,
          dimensions: dimensions,
          clientSelection: clientSelection,
          movementMode: movementMode,
          viewport: viewport
        }));
      };
    };
  };
});

var style = (function (marshal) {
  return function () {
    return function (next) {
      return function (action) {
        if (action.type === 'INITIAL_PUBLISH') {
          marshal.dragging();
        }

        if (action.type === 'DROP_ANIMATE') {
          marshal.dropping(action.payload.completed.result.reason);
        }

        if (action.type === 'FLUSH' || action.type === 'DROP_COMPLETE') {
          marshal.resting();
        }

        next(action);
      };
    };
  };
});

var curves = {
  outOfTheWay: 'cubic-bezier(0.2, 0, 0, 1)',
  drop: 'cubic-bezier(.2,1,.1,1)'
};
var combine = {
  opacity: {
    drop: 0,
    combining: 0.7
  },
  scale: {
    drop: 0.75
  }
};
var timings = {
  outOfTheWay: 0.2,
  minDropTime: 0.33,
  maxDropTime: 0.55
};
var outOfTheWayTiming = timings.outOfTheWay + "s " + curves.outOfTheWay;
var transitions = {
  fluid: "opacity " + outOfTheWayTiming,
  snap: "transform " + outOfTheWayTiming + ", opacity " + outOfTheWayTiming,
  drop: function drop(duration) {
    var timing = duration + "s " + curves.drop;
    return "transform " + timing + ", opacity " + timing;
  },
  outOfTheWay: "transform " + outOfTheWayTiming,
  placeholder: "height " + outOfTheWayTiming + ", width " + outOfTheWayTiming + ", margin " + outOfTheWayTiming
};

var moveTo = function moveTo(offset) {
  return isEqual(offset, origin) ? null : "translate(" + offset.x + "px, " + offset.y + "px)";
};

var transforms = {
  moveTo: moveTo,
  drop: function drop(offset, isCombining) {
    var translate = moveTo(offset);

    if (!translate) {
      return null;
    }

    if (!isCombining) {
      return translate;
    }

    return translate + " scale(" + combine.scale.drop + ")";
  }
};

var minDropTime = timings.minDropTime,
    maxDropTime = timings.maxDropTime;
var dropTimeRange = maxDropTime - minDropTime;
var maxDropTimeAtDistance = 1500;
var cancelDropModifier = 0.6;
var getDropDuration = (function (_ref) {
  var current = _ref.current,
      destination = _ref.destination,
      reason = _ref.reason;
  var distance$1 = distance(current, destination);

  if (distance$1 <= 0) {
    return minDropTime;
  }

  if (distance$1 >= maxDropTimeAtDistance) {
    return maxDropTime;
  }

  var percentage = distance$1 / maxDropTimeAtDistance;
  var duration = minDropTime + dropTimeRange * percentage;
  var withDuration = reason === 'CANCEL' ? duration * cancelDropModifier : duration;
  return Number(withDuration.toFixed(2));
});

var getNewHomeClientOffset = (function (_ref) {
  var impact = _ref.impact,
      draggable = _ref.draggable,
      dimensions = _ref.dimensions,
      viewport = _ref.viewport,
      afterCritical = _ref.afterCritical;
  var draggables = dimensions.draggables,
      droppables = dimensions.droppables;
  var droppableId = whatIsDraggedOver(impact);
  var destination = droppableId ? droppables[droppableId] : null;
  var home = droppables[draggable.descriptor.droppableId];
  var newClientCenter = getClientBorderBoxCenter({
    impact: impact,
    draggable: draggable,
    draggables: draggables,
    afterCritical: afterCritical,
    droppable: destination || home,
    viewport: viewport
  });
  var offset = subtract(newClientCenter, draggable.client.borderBox.center);
  return offset;
});

var getDropImpact = (function (_ref) {
  var draggables = _ref.draggables,
      reason = _ref.reason,
      lastImpact = _ref.lastImpact,
      home = _ref.home,
      viewport = _ref.viewport,
      onLiftImpact = _ref.onLiftImpact;

  if (!lastImpact.at || reason !== 'DROP') {
    var recomputedHomeImpact = recompute({
      draggables: draggables,
      impact: onLiftImpact,
      destination: home,
      viewport: viewport,
      forceShouldAnimate: true
    });
    return {
      impact: recomputedHomeImpact,
      didDropInsideDroppable: false
    };
  }

  if (lastImpact.at.type === 'REORDER') {
    return {
      impact: lastImpact,
      didDropInsideDroppable: true
    };
  }

  var withoutMovement = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, lastImpact, {
    displaced: emptyGroups
  });

  return {
    impact: withoutMovement,
    didDropInsideDroppable: true
  };
});

var drop$1 = (function (_ref) {
  var getState = _ref.getState,
      dispatch = _ref.dispatch;
  return function (next) {
    return function (action) {
      if (action.type !== 'DROP') {
        next(action);
        return;
      }

      var state = getState();
      var reason = action.payload.reason;

      if (state.phase === 'COLLECTING') {
        dispatch(dropPending({
          reason: reason
        }));
        return;
      }

      if (state.phase === 'IDLE') {
        return;
      }

      var isWaitingForDrop = state.phase === 'DROP_PENDING' && state.isWaiting;
      !!isWaitingForDrop ?  true ? invariant(false, 'A DROP action occurred while DROP_PENDING and still waiting') : undefined : void 0;
      !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ?  true ? invariant(false, "Cannot drop in phase: " + state.phase) : undefined : void 0;
      var critical = state.critical;
      var dimensions = state.dimensions;
      var draggable = dimensions.draggables[state.critical.draggable.id];

      var _getDropImpact = getDropImpact({
        reason: reason,
        lastImpact: state.impact,
        afterCritical: state.afterCritical,
        onLiftImpact: state.onLiftImpact,
        home: state.dimensions.droppables[state.critical.droppable.id],
        viewport: state.viewport,
        draggables: state.dimensions.draggables
      }),
          impact = _getDropImpact.impact,
          didDropInsideDroppable = _getDropImpact.didDropInsideDroppable;

      var destination = didDropInsideDroppable ? tryGetDestination(impact) : null;
      var combine = didDropInsideDroppable ? tryGetCombine(impact) : null;
      var source = {
        index: critical.draggable.index,
        droppableId: critical.droppable.id
      };
      var result = {
        draggableId: draggable.descriptor.id,
        type: draggable.descriptor.type,
        source: source,
        reason: reason,
        mode: state.movementMode,
        destination: destination,
        combine: combine
      };
      var newHomeClientOffset = getNewHomeClientOffset({
        impact: impact,
        draggable: draggable,
        dimensions: dimensions,
        viewport: state.viewport,
        afterCritical: state.afterCritical
      });
      var completed = {
        critical: state.critical,
        afterCritical: state.afterCritical,
        result: result,
        impact: impact
      };
      var isAnimationRequired = !isEqual(state.current.client.offset, newHomeClientOffset) || Boolean(result.combine);

      if (!isAnimationRequired) {
        dispatch(completeDrop({
          completed: completed
        }));
        return;
      }

      var dropDuration = getDropDuration({
        current: state.current.client.offset,
        destination: newHomeClientOffset,
        reason: reason
      });
      var args = {
        newHomeClientOffset: newHomeClientOffset,
        dropDuration: dropDuration,
        completed: completed
      };
      dispatch(animateDrop(args));
    };
  };
});

var getWindowScroll = (function () {
  return {
    x: window.pageXOffset,
    y: window.pageYOffset
  };
});

function getWindowScrollBinding(update) {
  return {
    eventName: 'scroll',
    options: {
      passive: true,
      capture: false
    },
    fn: function fn(event) {
      if (event.target !== window && event.target !== window.document) {
        return;
      }

      update();
    }
  };
}

function getScrollListener(_ref) {
  var onWindowScroll = _ref.onWindowScroll;

  function updateScroll() {
    onWindowScroll(getWindowScroll());
  }

  var scheduled = Object(raf_schd__WEBPACK_IMPORTED_MODULE_8__["default"])(updateScroll);
  var binding = getWindowScrollBinding(scheduled);
  var unbind = noop;

  function isActive() {
    return unbind !== noop;
  }

  function start() {
    !!isActive() ?  true ? invariant(false, 'Cannot start scroll listener when already active') : undefined : void 0;
    unbind = bindEvents(window, [binding]);
  }

  function stop() {
    !isActive() ?  true ? invariant(false, 'Cannot stop scroll listener when not active') : undefined : void 0;
    scheduled.cancel();
    unbind();
    unbind = noop;
  }

  return {
    start: start,
    stop: stop,
    isActive: isActive
  };
}

var shouldEnd = function shouldEnd(action) {
  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'FLUSH';
};

var scrollListener = (function (store) {
  var listener = getScrollListener({
    onWindowScroll: function onWindowScroll(newScroll) {
      store.dispatch(moveByWindowScroll({
        newScroll: newScroll
      }));
    }
  });
  return function (next) {
    return function (action) {
      if (!listener.isActive() && action.type === 'INITIAL_PUBLISH') {
        listener.start();
      }

      if (listener.isActive() && shouldEnd(action)) {
        listener.stop();
      }

      next(action);
    };
  };
});

var getExpiringAnnounce = (function (announce) {
  var wasCalled = false;
  var isExpired = false;
  var timeoutId = setTimeout(function () {
    isExpired = true;
  });

  var result = function result(message) {
    if (wasCalled) {
       true ? warning('Announcement already made. Not making a second announcement') : undefined;
      return;
    }

    if (isExpired) {
       true ? warning("\n        Announcements cannot be made asynchronously.\n        Default message has already been announced.\n      ") : undefined;
      return;
    }

    wasCalled = true;
    announce(message);
    clearTimeout(timeoutId);
  };

  result.wasCalled = function () {
    return wasCalled;
  };

  return result;
});

var getAsyncMarshal = (function () {
  var entries = [];

  var execute = function execute(timerId) {
    var index = findIndex(entries, function (item) {
      return item.timerId === timerId;
    });
    !(index !== -1) ?  true ? invariant(false, 'Could not find timer') : undefined : void 0;

    var _entries$splice = entries.splice(index, 1),
        entry = _entries$splice[0];

    entry.callback();
  };

  var add = function add(fn) {
    var timerId = setTimeout(function () {
      return execute(timerId);
    });
    var entry = {
      timerId: timerId,
      callback: fn
    };
    entries.push(entry);
  };

  var flush = function flush() {
    if (!entries.length) {
      return;
    }

    var shallow = [].concat(entries);
    entries.length = 0;
    shallow.forEach(function (entry) {
      clearTimeout(entry.timerId);
      entry.callback();
    });
  };

  return {
    add: add,
    flush: flush
  };
});

var areLocationsEqual = function areLocationsEqual(first, second) {
  if (first == null && second == null) {
    return true;
  }

  if (first == null || second == null) {
    return false;
  }

  return first.droppableId === second.droppableId && first.index === second.index;
};
var isCombineEqual = function isCombineEqual(first, second) {
  if (first == null && second == null) {
    return true;
  }

  if (first == null || second == null) {
    return false;
  }

  return first.draggableId === second.draggableId && first.droppableId === second.droppableId;
};
var isCriticalEqual = function isCriticalEqual(first, second) {
  if (first === second) {
    return true;
  }

  var isDraggableEqual = first.draggable.id === second.draggable.id && first.draggable.droppableId === second.draggable.droppableId && first.draggable.type === second.draggable.type && first.draggable.index === second.draggable.index;
  var isDroppableEqual = first.droppable.id === second.droppable.id && first.droppable.type === second.droppable.type;
  return isDraggableEqual && isDroppableEqual;
};

var withTimings = function withTimings(key, fn) {
  start();
  fn();
  finish();
};

var getDragStart = function getDragStart(critical, mode) {
  return {
    draggableId: critical.draggable.id,
    type: critical.droppable.type,
    source: {
      droppableId: critical.droppable.id,
      index: critical.draggable.index
    },
    mode: mode
  };
};

var execute = function execute(responder, data, announce, getDefaultMessage) {
  if (!responder) {
    announce(getDefaultMessage(data));
    return;
  }

  var willExpire = getExpiringAnnounce(announce);
  var provided = {
    announce: willExpire
  };
  responder(data, provided);

  if (!willExpire.wasCalled()) {
    announce(getDefaultMessage(data));
  }
};

var getPublisher = (function (getResponders, announce) {
  var asyncMarshal = getAsyncMarshal();
  var dragging = null;

  var beforeCapture = function beforeCapture(draggableId, mode) {
    !!dragging ?  true ? invariant(false, 'Cannot fire onBeforeCapture as a drag start has already been published') : undefined : void 0;
    withTimings('onBeforeCapture', function () {
      var fn = getResponders().onBeforeCapture;

      if (fn) {
        var before = {
          draggableId: draggableId,
          mode: mode
        };
        fn(before);
      }
    });
  };

  var beforeStart = function beforeStart(critical, mode) {
    !!dragging ?  true ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : undefined : void 0;
    withTimings('onBeforeDragStart', function () {
      var fn = getResponders().onBeforeDragStart;

      if (fn) {
        fn(getDragStart(critical, mode));
      }
    });
  };

  var start = function start(critical, mode) {
    !!dragging ?  true ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : undefined : void 0;
    var data = getDragStart(critical, mode);
    dragging = {
      mode: mode,
      lastCritical: critical,
      lastLocation: data.source,
      lastCombine: null
    };
    asyncMarshal.add(function () {
      withTimings('onDragStart', function () {
        return execute(getResponders().onDragStart, data, announce, preset.onDragStart);
      });
    });
  };

  var update = function update(critical, impact) {
    var location = tryGetDestination(impact);
    var combine = tryGetCombine(impact);
    !dragging ?  true ? invariant(false, 'Cannot fire onDragMove when onDragStart has not been called') : undefined : void 0;
    var hasCriticalChanged = !isCriticalEqual(critical, dragging.lastCritical);

    if (hasCriticalChanged) {
      dragging.lastCritical = critical;
    }

    var hasLocationChanged = !areLocationsEqual(dragging.lastLocation, location);

    if (hasLocationChanged) {
      dragging.lastLocation = location;
    }

    var hasGroupingChanged = !isCombineEqual(dragging.lastCombine, combine);

    if (hasGroupingChanged) {
      dragging.lastCombine = combine;
    }

    if (!hasCriticalChanged && !hasLocationChanged && !hasGroupingChanged) {
      return;
    }

    var data = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, getDragStart(critical, dragging.mode), {
      combine: combine,
      destination: location
    });

    asyncMarshal.add(function () {
      withTimings('onDragUpdate', function () {
        return execute(getResponders().onDragUpdate, data, announce, preset.onDragUpdate);
      });
    });
  };

  var flush = function flush() {
    !dragging ?  true ? invariant(false, 'Can only flush responders while dragging') : undefined : void 0;
    asyncMarshal.flush();
  };

  var drop = function drop(result) {
    !dragging ?  true ? invariant(false, 'Cannot fire onDragEnd when there is no matching onDragStart') : undefined : void 0;
    dragging = null;
    withTimings('onDragEnd', function () {
      return execute(getResponders().onDragEnd, result, announce, preset.onDragEnd);
    });
  };

  var abort = function abort() {
    if (!dragging) {
      return;
    }

    var result = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, getDragStart(dragging.lastCritical, dragging.mode), {
      combine: null,
      destination: null,
      reason: 'CANCEL'
    });

    drop(result);
  };

  return {
    beforeCapture: beforeCapture,
    beforeStart: beforeStart,
    start: start,
    update: update,
    flush: flush,
    drop: drop,
    abort: abort
  };
});

var responders = (function (getResponders, announce) {
  var publisher = getPublisher(getResponders, announce);
  return function (store) {
    return function (next) {
      return function (action) {
        if (action.type === 'BEFORE_INITIAL_CAPTURE') {
          publisher.beforeCapture(action.payload.draggableId, action.payload.movementMode);
          return;
        }

        if (action.type === 'INITIAL_PUBLISH') {
          var critical = action.payload.critical;
          publisher.beforeStart(critical, action.payload.movementMode);
          next(action);
          publisher.start(critical, action.payload.movementMode);
          return;
        }

        if (action.type === 'DROP_COMPLETE') {
          var result = action.payload.completed.result;
          publisher.flush();
          next(action);
          publisher.drop(result);
          return;
        }

        next(action);

        if (action.type === 'FLUSH') {
          publisher.abort();
          return;
        }

        var state = store.getState();

        if (state.phase === 'DRAGGING') {
          publisher.update(state.critical, state.impact);
        }
      };
    };
  };
});

var dropAnimationFinish = (function (store) {
  return function (next) {
    return function (action) {
      if (action.type !== 'DROP_ANIMATION_FINISHED') {
        next(action);
        return;
      }

      var state = store.getState();
      !(state.phase === 'DROP_ANIMATING') ?  true ? invariant(false, 'Cannot finish a drop animating when no drop is occurring') : undefined : void 0;
      store.dispatch(completeDrop({
        completed: state.completed
      }));
    };
  };
});

var dropAnimationFlushOnScroll = (function (store) {
  var unbind = null;
  var frameId = null;

  function clear() {
    if (frameId) {
      cancelAnimationFrame(frameId);
      frameId = null;
    }

    if (unbind) {
      unbind();
      unbind = null;
    }
  }

  return function (next) {
    return function (action) {
      if (action.type === 'FLUSH' || action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATION_FINISHED') {
        clear();
      }

      next(action);

      if (action.type !== 'DROP_ANIMATE') {
        return;
      }

      var binding = {
        eventName: 'scroll',
        options: {
          capture: true,
          passive: false,
          once: true
        },
        fn: function flushDropAnimation() {
          var state = store.getState();

          if (state.phase === 'DROP_ANIMATING') {
            store.dispatch(dropAnimationFinished());
          }
        }
      };
      frameId = requestAnimationFrame(function () {
        frameId = null;
        unbind = bindEvents(window, [binding]);
      });
    };
  };
});

var dimensionMarshalStopper = (function (marshal) {
  return function () {
    return function (next) {
      return function (action) {
        if (action.type === 'DROP_COMPLETE' || action.type === 'FLUSH' || action.type === 'DROP_ANIMATE') {
          marshal.stopPublishing();
        }

        next(action);
      };
    };
  };
});

var focus = (function (marshal) {
  var isWatching = false;
  return function () {
    return function (next) {
      return function (action) {
        if (action.type === 'INITIAL_PUBLISH') {
          isWatching = true;
          marshal.tryRecordFocus(action.payload.critical.draggable.id);
          next(action);
          marshal.tryRestoreFocusRecorded();
          return;
        }

        next(action);

        if (!isWatching) {
          return;
        }

        if (action.type === 'FLUSH') {
          isWatching = false;
          marshal.tryRestoreFocusRecorded();
          return;
        }

        if (action.type === 'DROP_COMPLETE') {
          isWatching = false;
          var result = action.payload.completed.result;

          if (result.combine) {
            marshal.tryShiftRecord(result.draggableId, result.combine.draggableId);
          }

          marshal.tryRestoreFocusRecorded();
        }
      };
    };
  };
});

var shouldStop = function shouldStop(action) {
  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'FLUSH';
};

var autoScroll = (function (autoScroller) {
  return function (store) {
    return function (next) {
      return function (action) {
        if (shouldStop(action)) {
          autoScroller.stop();
          next(action);
          return;
        }

        if (action.type === 'INITIAL_PUBLISH') {
          next(action);
          var state = store.getState();
          !(state.phase === 'DRAGGING') ?  true ? invariant(false, 'Expected phase to be DRAGGING after INITIAL_PUBLISH') : undefined : void 0;
          autoScroller.start(state);
          return;
        }

        next(action);
        autoScroller.scroll(store.getState());
      };
    };
  };
});

var pendingDrop = (function (store) {
  return function (next) {
    return function (action) {
      next(action);

      if (action.type !== 'PUBLISH_WHILE_DRAGGING') {
        return;
      }

      var postActionState = store.getState();

      if (postActionState.phase !== 'DROP_PENDING') {
        return;
      }

      if (postActionState.isWaiting) {
        return;
      }

      store.dispatch(drop({
        reason: postActionState.reason
      }));
    };
  };
});

var composeEnhancers =  true && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({
  name: 'react-beautiful-dnd'
}) : redux__WEBPACK_IMPORTED_MODULE_3__["compose"];
var createStore = (function (_ref) {
  var dimensionMarshal = _ref.dimensionMarshal,
      focusMarshal = _ref.focusMarshal,
      styleMarshal = _ref.styleMarshal,
      getResponders = _ref.getResponders,
      announce = _ref.announce,
      autoScroller = _ref.autoScroller;
  return Object(redux__WEBPACK_IMPORTED_MODULE_3__["createStore"])(reducer, composeEnhancers(Object(redux__WEBPACK_IMPORTED_MODULE_3__["applyMiddleware"])(style(styleMarshal), dimensionMarshalStopper(dimensionMarshal), lift$1(dimensionMarshal), drop$1, dropAnimationFinish, dropAnimationFlushOnScroll, pendingDrop, autoScroll(autoScroller), scrollListener, focus(focusMarshal), responders(getResponders, announce))));
});

var clean$1 = function clean() {
  return {
    additions: {},
    removals: {},
    modified: {}
  };
};
function createPublisher(_ref) {
  var registry = _ref.registry,
      callbacks = _ref.callbacks;
  var staging = clean$1();
  var frameId = null;

  var collect = function collect() {
    if (frameId) {
      return;
    }

    callbacks.collectionStarting();
    frameId = requestAnimationFrame(function () {
      frameId = null;
      start();
      var _staging = staging,
          additions = _staging.additions,
          removals = _staging.removals,
          modified = _staging.modified;
      var added = Object.keys(additions).map(function (id) {
        return registry.draggable.getById(id).getDimension(origin);
      }).sort(function (a, b) {
        return a.descriptor.index - b.descriptor.index;
      });
      var updated = Object.keys(modified).map(function (id) {
        var entry = registry.droppable.getById(id);
        var scroll = entry.callbacks.getScrollWhileDragging();
        return {
          droppableId: id,
          scroll: scroll
        };
      });
      var result = {
        additions: added,
        removals: Object.keys(removals),
        modified: updated
      };
      staging = clean$1();
      finish();
      callbacks.publish(result);
    });
  };

  var add = function add(entry) {
    var id = entry.descriptor.id;
    staging.additions[id] = entry;
    staging.modified[entry.descriptor.droppableId] = true;

    if (staging.removals[id]) {
      delete staging.removals[id];
    }

    collect();
  };

  var remove = function remove(entry) {
    var descriptor = entry.descriptor;
    staging.removals[descriptor.id] = true;
    staging.modified[descriptor.droppableId] = true;

    if (staging.additions[descriptor.id]) {
      delete staging.additions[descriptor.id];
    }

    collect();
  };

  var stop = function stop() {
    if (!frameId) {
      return;
    }

    cancelAnimationFrame(frameId);
    frameId = null;
    staging = clean$1();
  };

  return {
    add: add,
    remove: remove,
    stop: stop
  };
}

var getMaxScroll = (function (_ref) {
  var scrollHeight = _ref.scrollHeight,
      scrollWidth = _ref.scrollWidth,
      height = _ref.height,
      width = _ref.width;
  var maxScroll = subtract({
    x: scrollWidth,
    y: scrollHeight
  }, {
    x: width,
    y: height
  });
  var adjustedMaxScroll = {
    x: Math.max(0, maxScroll.x),
    y: Math.max(0, maxScroll.y)
  };
  return adjustedMaxScroll;
});

var getDocumentElement = (function () {
  var doc = document.documentElement;
  !doc ?  true ? invariant(false, 'Cannot find document.documentElement') : undefined : void 0;
  return doc;
});

var getMaxWindowScroll = (function () {
  var doc = getDocumentElement();
  var maxScroll = getMaxScroll({
    scrollHeight: doc.scrollHeight,
    scrollWidth: doc.scrollWidth,
    width: doc.clientWidth,
    height: doc.clientHeight
  });
  return maxScroll;
});

var getViewport = (function () {
  var scroll = getWindowScroll();
  var maxScroll = getMaxWindowScroll();
  var top = scroll.y;
  var left = scroll.x;
  var doc = getDocumentElement();
  var width = doc.clientWidth;
  var height = doc.clientHeight;
  var right = left + width;
  var bottom = top + height;
  var frame = Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["getRect"])({
    top: top,
    left: left,
    right: right,
    bottom: bottom
  });
  var viewport = {
    frame: frame,
    scroll: {
      initial: scroll,
      current: scroll,
      max: maxScroll,
      diff: {
        value: origin,
        displacement: origin
      }
    }
  };
  return viewport;
});

var getInitialPublish = (function (_ref) {
  var critical = _ref.critical,
      scrollOptions = _ref.scrollOptions,
      registry = _ref.registry;
  start();
  var viewport = getViewport();
  var windowScroll = viewport.scroll.current;
  var home = critical.droppable;
  var droppables = registry.droppable.getAllByType(home.type).map(function (entry) {
    return entry.callbacks.getDimensionAndWatchScroll(windowScroll, scrollOptions);
  });
  var draggables = registry.draggable.getAllByType(critical.draggable.type).map(function (entry) {
    return entry.getDimension(windowScroll);
  });
  var dimensions = {
    draggables: toDraggableMap(draggables),
    droppables: toDroppableMap(droppables)
  };
  finish();
  var result = {
    dimensions: dimensions,
    critical: critical,
    viewport: viewport
  };
  return result;
});

function shouldPublishUpdate(registry, dragging, entry) {
  if (entry.descriptor.id === dragging.id) {
    return false;
  }

  if (entry.descriptor.type !== dragging.type) {
    return false;
  }

  var home = registry.droppable.getById(entry.descriptor.droppableId);

  if (home.descriptor.mode !== 'virtual') {
     true ? warning("\n      You are attempting to add or remove a Draggable [id: " + entry.descriptor.id + "]\n      while a drag is occurring. This is only supported for virtual lists.\n\n      See https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/patterns/virtual-lists.md\n    ") : undefined;
    return false;
  }

  return true;
}

var createDimensionMarshal = (function (registry, callbacks) {
  var collection = null;
  var publisher = createPublisher({
    callbacks: {
      publish: callbacks.publishWhileDragging,
      collectionStarting: callbacks.collectionStarting
    },
    registry: registry
  });

  var updateDroppableIsEnabled = function updateDroppableIsEnabled(id, isEnabled) {
    !registry.droppable.exists(id) ?  true ? invariant(false, "Cannot update is enabled flag of Droppable " + id + " as it is not registered") : undefined : void 0;

    if (!collection) {
      return;
    }

    callbacks.updateDroppableIsEnabled({
      id: id,
      isEnabled: isEnabled
    });
  };

  var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(id, isCombineEnabled) {
    if (!collection) {
      return;
    }

    !registry.droppable.exists(id) ?  true ? invariant(false, "Cannot update isCombineEnabled flag of Droppable " + id + " as it is not registered") : undefined : void 0;
    callbacks.updateDroppableIsCombineEnabled({
      id: id,
      isCombineEnabled: isCombineEnabled
    });
  };

  var updateDroppableScroll = function updateDroppableScroll(id, newScroll) {
    if (!collection) {
      return;
    }

    !registry.droppable.exists(id) ?  true ? invariant(false, "Cannot update the scroll on Droppable " + id + " as it is not registered") : undefined : void 0;
    callbacks.updateDroppableScroll({
      id: id,
      newScroll: newScroll
    });
  };

  var scrollDroppable = function scrollDroppable(id, change) {
    if (!collection) {
      return;
    }

    registry.droppable.getById(id).callbacks.scroll(change);
  };

  var stopPublishing = function stopPublishing() {
    if (!collection) {
      return;
    }

    publisher.stop();
    var home = collection.critical.droppable;
    registry.droppable.getAllByType(home.type).forEach(function (entry) {
      return entry.callbacks.dragStopped();
    });
    collection.unsubscribe();
    collection = null;
  };

  var subscriber = function subscriber(event) {
    !collection ?  true ? invariant(false, 'Should only be subscribed when a collection is occurring') : undefined : void 0;
    var dragging = collection.critical.draggable;

    if (event.type === 'ADDITION') {
      if (shouldPublishUpdate(registry, dragging, event.value)) {
        publisher.add(event.value);
      }
    }

    if (event.type === 'REMOVAL') {
      if (shouldPublishUpdate(registry, dragging, event.value)) {
        publisher.remove(event.value);
      }
    }
  };

  var startPublishing = function startPublishing(request) {
    !!collection ?  true ? invariant(false, 'Cannot start capturing critical dimensions as there is already a collection') : undefined : void 0;
    var entry = registry.draggable.getById(request.draggableId);
    var home = registry.droppable.getById(entry.descriptor.droppableId);
    var critical = {
      draggable: entry.descriptor,
      droppable: home.descriptor
    };
    var unsubscribe = registry.subscribe(subscriber);
    collection = {
      critical: critical,
      unsubscribe: unsubscribe
    };
    return getInitialPublish({
      critical: critical,
      registry: registry,
      scrollOptions: request.scrollOptions
    });
  };

  var marshal = {
    updateDroppableIsEnabled: updateDroppableIsEnabled,
    updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,
    scrollDroppable: scrollDroppable,
    updateDroppableScroll: updateDroppableScroll,
    startPublishing: startPublishing,
    stopPublishing: stopPublishing
  };
  return marshal;
});

var canStartDrag = (function (state, id) {
  if (state.phase === 'IDLE') {
    return true;
  }

  if (state.phase !== 'DROP_ANIMATING') {
    return false;
  }

  if (state.completed.result.draggableId === id) {
    return false;
  }

  return state.completed.result.reason === 'DROP';
});

var scrollWindow = (function (change) {
  window.scrollBy(change.x, change.y);
});

var getScrollableDroppables = Object(memoize_one__WEBPACK_IMPORTED_MODULE_7__["default"])(function (droppables) {
  return toDroppableList(droppables).filter(function (droppable) {
    if (!droppable.isEnabled) {
      return false;
    }

    if (!droppable.frame) {
      return false;
    }

    return true;
  });
});

var getScrollableDroppableOver = function getScrollableDroppableOver(target, droppables) {
  var maybe = find(getScrollableDroppables(droppables), function (droppable) {
    !droppable.frame ?  true ? invariant(false, 'Invalid result') : undefined : void 0;
    return isPositionInFrame(droppable.frame.pageMarginBox)(target);
  });
  return maybe;
};

var getBestScrollableDroppable = (function (_ref) {
  var center = _ref.center,
      destination = _ref.destination,
      droppables = _ref.droppables;

  if (destination) {
    var _dimension = droppables[destination];

    if (!_dimension.frame) {
      return null;
    }

    return _dimension;
  }

  var dimension = getScrollableDroppableOver(center, droppables);
  return dimension;
});

var config = {
  startFromPercentage: 0.25,
  maxScrollAtPercentage: 0.05,
  maxPixelScroll: 28,
  ease: function ease(percentage) {
    return Math.pow(percentage, 2);
  },
  durationDampening: {
    stopDampeningAt: 1200,
    accelerateAt: 360
  }
};

var getDistanceThresholds = (function (container, axis) {
  var startScrollingFrom = container[axis.size] * config.startFromPercentage;
  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;
  var thresholds = {
    startScrollingFrom: startScrollingFrom,
    maxScrollValueAt: maxScrollValueAt
  };
  return thresholds;
});

var getPercentage = (function (_ref) {
  var startOfRange = _ref.startOfRange,
      endOfRange = _ref.endOfRange,
      current = _ref.current;
  var range = endOfRange - startOfRange;

  if (range === 0) {
     true ? warning("\n      Detected distance range of 0 in the fluid auto scroller\n      This is unexpected and would cause a divide by 0 issue.\n      Not allowing an auto scroll\n    ") : undefined;
    return 0;
  }

  var currentInRange = current - startOfRange;
  var percentage = currentInRange / range;
  return percentage;
});

var minScroll = 1;

var getValueFromDistance = (function (distanceToEdge, thresholds) {
  if (distanceToEdge > thresholds.startScrollingFrom) {
    return 0;
  }

  if (distanceToEdge <= thresholds.maxScrollValueAt) {
    return config.maxPixelScroll;
  }

  if (distanceToEdge === thresholds.startScrollingFrom) {
    return minScroll;
  }

  var percentageFromMaxScrollValueAt = getPercentage({
    startOfRange: thresholds.maxScrollValueAt,
    endOfRange: thresholds.startScrollingFrom,
    current: distanceToEdge
  });
  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;
  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);
  return Math.ceil(scroll);
});

var accelerateAt = config.durationDampening.accelerateAt;
var stopAt = config.durationDampening.stopDampeningAt;
var dampenValueByTime = (function (proposedScroll, dragStartTime) {
  var startOfRange = dragStartTime;
  var endOfRange = stopAt;
  var now = Date.now();
  var runTime = now - startOfRange;

  if (runTime >= stopAt) {
    return proposedScroll;
  }

  if (runTime < accelerateAt) {
    return minScroll;
  }

  var betweenAccelerateAtAndStopAtPercentage = getPercentage({
    startOfRange: accelerateAt,
    endOfRange: endOfRange,
    current: runTime
  });
  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);
  return Math.ceil(scroll);
});

var getValue = (function (_ref) {
  var distanceToEdge = _ref.distanceToEdge,
      thresholds = _ref.thresholds,
      dragStartTime = _ref.dragStartTime,
      shouldUseTimeDampening = _ref.shouldUseTimeDampening;
  var scroll = getValueFromDistance(distanceToEdge, thresholds);

  if (scroll === 0) {
    return 0;
  }

  if (!shouldUseTimeDampening) {
    return scroll;
  }

  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);
});

var getScrollOnAxis = (function (_ref) {
  var container = _ref.container,
      distanceToEdges = _ref.distanceToEdges,
      dragStartTime = _ref.dragStartTime,
      axis = _ref.axis,
      shouldUseTimeDampening = _ref.shouldUseTimeDampening;
  var thresholds = getDistanceThresholds(container, axis);
  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];

  if (isCloserToEnd) {
    return getValue({
      distanceToEdge: distanceToEdges[axis.end],
      thresholds: thresholds,
      dragStartTime: dragStartTime,
      shouldUseTimeDampening: shouldUseTimeDampening
    });
  }

  return -1 * getValue({
    distanceToEdge: distanceToEdges[axis.start],
    thresholds: thresholds,
    dragStartTime: dragStartTime,
    shouldUseTimeDampening: shouldUseTimeDampening
  });
});

var adjustForSizeLimits = (function (_ref) {
  var container = _ref.container,
      subject = _ref.subject,
      proposedScroll = _ref.proposedScroll;
  var isTooBigVertically = subject.height > container.height;
  var isTooBigHorizontally = subject.width > container.width;

  if (!isTooBigHorizontally && !isTooBigVertically) {
    return proposedScroll;
  }

  if (isTooBigHorizontally && isTooBigVertically) {
    return null;
  }

  return {
    x: isTooBigHorizontally ? 0 : proposedScroll.x,
    y: isTooBigVertically ? 0 : proposedScroll.y
  };
});

var clean$2 = apply(function (value) {
  return value === 0 ? 0 : value;
});
var getScroll = (function (_ref) {
  var dragStartTime = _ref.dragStartTime,
      container = _ref.container,
      subject = _ref.subject,
      center = _ref.center,
      shouldUseTimeDampening = _ref.shouldUseTimeDampening;
  var distanceToEdges = {
    top: center.y - container.top,
    right: container.right - center.x,
    bottom: container.bottom - center.y,
    left: center.x - container.left
  };
  var y = getScrollOnAxis({
    container: container,
    distanceToEdges: distanceToEdges,
    dragStartTime: dragStartTime,
    axis: vertical,
    shouldUseTimeDampening: shouldUseTimeDampening
  });
  var x = getScrollOnAxis({
    container: container,
    distanceToEdges: distanceToEdges,
    dragStartTime: dragStartTime,
    axis: horizontal,
    shouldUseTimeDampening: shouldUseTimeDampening
  });
  var required = clean$2({
    x: x,
    y: y
  });

  if (isEqual(required, origin)) {
    return null;
  }

  var limited = adjustForSizeLimits({
    container: container,
    subject: subject,
    proposedScroll: required
  });

  if (!limited) {
    return null;
  }

  return isEqual(limited, origin) ? null : limited;
});

var smallestSigned = apply(function (value) {
  if (value === 0) {
    return 0;
  }

  return value > 0 ? 1 : -1;
});
var getOverlap = function () {
  var getRemainder = function getRemainder(target, max) {
    if (target < 0) {
      return target;
    }

    if (target > max) {
      return target - max;
    }

    return 0;
  };

  return function (_ref) {
    var current = _ref.current,
        max = _ref.max,
        change = _ref.change;
    var targetScroll = add(current, change);
    var overlap = {
      x: getRemainder(targetScroll.x, max.x),
      y: getRemainder(targetScroll.y, max.y)
    };

    if (isEqual(overlap, origin)) {
      return null;
    }

    return overlap;
  };
}();
var canPartiallyScroll = function canPartiallyScroll(_ref2) {
  var rawMax = _ref2.max,
      current = _ref2.current,
      change = _ref2.change;
  var max = {
    x: Math.max(current.x, rawMax.x),
    y: Math.max(current.y, rawMax.y)
  };
  var smallestChange = smallestSigned(change);
  var overlap = getOverlap({
    max: max,
    current: current,
    change: smallestChange
  });

  if (!overlap) {
    return true;
  }

  if (smallestChange.x !== 0 && overlap.x === 0) {
    return true;
  }

  if (smallestChange.y !== 0 && overlap.y === 0) {
    return true;
  }

  return false;
};
var canScrollWindow = function canScrollWindow(viewport, change) {
  return canPartiallyScroll({
    current: viewport.scroll.current,
    max: viewport.scroll.max,
    change: change
  });
};
var getWindowOverlap = function getWindowOverlap(viewport, change) {
  if (!canScrollWindow(viewport, change)) {
    return null;
  }

  var max = viewport.scroll.max;
  var current = viewport.scroll.current;
  return getOverlap({
    current: current,
    max: max,
    change: change
  });
};
var canScrollDroppable = function canScrollDroppable(droppable, change) {
  var frame = droppable.frame;

  if (!frame) {
    return false;
  }

  return canPartiallyScroll({
    current: frame.scroll.current,
    max: frame.scroll.max,
    change: change
  });
};
var getDroppableOverlap = function getDroppableOverlap(droppable, change) {
  var frame = droppable.frame;

  if (!frame) {
    return null;
  }

  if (!canScrollDroppable(droppable, change)) {
    return null;
  }

  return getOverlap({
    current: frame.scroll.current,
    max: frame.scroll.max,
    change: change
  });
};

var getWindowScrollChange = (function (_ref) {
  var viewport = _ref.viewport,
      subject = _ref.subject,
      center = _ref.center,
      dragStartTime = _ref.dragStartTime,
      shouldUseTimeDampening = _ref.shouldUseTimeDampening;
  var scroll = getScroll({
    dragStartTime: dragStartTime,
    container: viewport.frame,
    subject: subject,
    center: center,
    shouldUseTimeDampening: shouldUseTimeDampening
  });
  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;
});

var getDroppableScrollChange = (function (_ref) {
  var droppable = _ref.droppable,
      subject = _ref.subject,
      center = _ref.center,
      dragStartTime = _ref.dragStartTime,
      shouldUseTimeDampening = _ref.shouldUseTimeDampening;
  var frame = droppable.frame;

  if (!frame) {
    return null;
  }

  var scroll = getScroll({
    dragStartTime: dragStartTime,
    container: frame.pageMarginBox,
    subject: subject,
    center: center,
    shouldUseTimeDampening: shouldUseTimeDampening
  });
  return scroll && canScrollDroppable(droppable, scroll) ? scroll : null;
});

var scroll$1 = (function (_ref) {
  var state = _ref.state,
      dragStartTime = _ref.dragStartTime,
      shouldUseTimeDampening = _ref.shouldUseTimeDampening,
      scrollWindow = _ref.scrollWindow,
      scrollDroppable = _ref.scrollDroppable;
  var center = state.current.page.borderBoxCenter;
  var draggable = state.dimensions.draggables[state.critical.draggable.id];
  var subject = draggable.page.marginBox;

  if (state.isWindowScrollAllowed) {
    var viewport = state.viewport;

    var _change = getWindowScrollChange({
      dragStartTime: dragStartTime,
      viewport: viewport,
      subject: subject,
      center: center,
      shouldUseTimeDampening: shouldUseTimeDampening
    });

    if (_change) {
      scrollWindow(_change);
      return;
    }
  }

  var droppable = getBestScrollableDroppable({
    center: center,
    destination: whatIsDraggedOver(state.impact),
    droppables: state.dimensions.droppables
  });

  if (!droppable) {
    return;
  }

  var change = getDroppableScrollChange({
    dragStartTime: dragStartTime,
    droppable: droppable,
    subject: subject,
    center: center,
    shouldUseTimeDampening: shouldUseTimeDampening
  });

  if (change) {
    scrollDroppable(droppable.descriptor.id, change);
  }
});

var createFluidScroller = (function (_ref) {
  var scrollWindow = _ref.scrollWindow,
      scrollDroppable = _ref.scrollDroppable;
  var scheduleWindowScroll = Object(raf_schd__WEBPACK_IMPORTED_MODULE_8__["default"])(scrollWindow);
  var scheduleDroppableScroll = Object(raf_schd__WEBPACK_IMPORTED_MODULE_8__["default"])(scrollDroppable);
  var dragging = null;

  var tryScroll = function tryScroll(state) {
    !dragging ?  true ? invariant(false, 'Cannot fluid scroll if not dragging') : undefined : void 0;
    var _dragging = dragging,
        shouldUseTimeDampening = _dragging.shouldUseTimeDampening,
        dragStartTime = _dragging.dragStartTime;
    scroll$1({
      state: state,
      scrollWindow: scheduleWindowScroll,
      scrollDroppable: scheduleDroppableScroll,
      dragStartTime: dragStartTime,
      shouldUseTimeDampening: shouldUseTimeDampening
    });
  };

  var start$1 = function start$1(state) {
    start();
    !!dragging ?  true ? invariant(false, 'Cannot start auto scrolling when already started') : undefined : void 0;
    var dragStartTime = Date.now();
    var wasScrollNeeded = false;

    var fakeScrollCallback = function fakeScrollCallback() {
      wasScrollNeeded = true;
    };

    scroll$1({
      state: state,
      dragStartTime: 0,
      shouldUseTimeDampening: false,
      scrollWindow: fakeScrollCallback,
      scrollDroppable: fakeScrollCallback
    });
    dragging = {
      dragStartTime: dragStartTime,
      shouldUseTimeDampening: wasScrollNeeded
    };
    finish();

    if (wasScrollNeeded) {
      tryScroll(state);
    }
  };

  var stop = function stop() {
    if (!dragging) {
      return;
    }

    scheduleWindowScroll.cancel();
    scheduleDroppableScroll.cancel();
    dragging = null;
  };

  return {
    start: start$1,
    stop: stop,
    scroll: tryScroll
  };
});

var createJumpScroller = (function (_ref) {
  var move = _ref.move,
      scrollDroppable = _ref.scrollDroppable,
      scrollWindow = _ref.scrollWindow;

  var moveByOffset = function moveByOffset(state, offset) {
    var client = add(state.current.client.selection, offset);
    move({
      client: client
    });
  };

  var scrollDroppableAsMuchAsItCan = function scrollDroppableAsMuchAsItCan(droppable, change) {
    if (!canScrollDroppable(droppable, change)) {
      return change;
    }

    var overlap = getDroppableOverlap(droppable, change);

    if (!overlap) {
      scrollDroppable(droppable.descriptor.id, change);
      return null;
    }

    var whatTheDroppableCanScroll = subtract(change, overlap);
    scrollDroppable(droppable.descriptor.id, whatTheDroppableCanScroll);
    var remainder = subtract(change, whatTheDroppableCanScroll);
    return remainder;
  };

  var scrollWindowAsMuchAsItCan = function scrollWindowAsMuchAsItCan(isWindowScrollAllowed, viewport, change) {
    if (!isWindowScrollAllowed) {
      return change;
    }

    if (!canScrollWindow(viewport, change)) {
      return change;
    }

    var overlap = getWindowOverlap(viewport, change);

    if (!overlap) {
      scrollWindow(change);
      return null;
    }

    var whatTheWindowCanScroll = subtract(change, overlap);
    scrollWindow(whatTheWindowCanScroll);
    var remainder = subtract(change, whatTheWindowCanScroll);
    return remainder;
  };

  var jumpScroller = function jumpScroller(state) {
    var request = state.scrollJumpRequest;

    if (!request) {
      return;
    }

    var destination = whatIsDraggedOver(state.impact);
    !destination ?  true ? invariant(false, 'Cannot perform a jump scroll when there is no destination') : undefined : void 0;
    var droppableRemainder = scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination], request);

    if (!droppableRemainder) {
      return;
    }

    var viewport = state.viewport;
    var windowRemainder = scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed, viewport, droppableRemainder);

    if (!windowRemainder) {
      return;
    }

    moveByOffset(state, windowRemainder);
  };

  return jumpScroller;
});

var createAutoScroller = (function (_ref) {
  var scrollDroppable = _ref.scrollDroppable,
      scrollWindow = _ref.scrollWindow,
      move = _ref.move;
  var fluidScroller = createFluidScroller({
    scrollWindow: scrollWindow,
    scrollDroppable: scrollDroppable
  });
  var jumpScroll = createJumpScroller({
    move: move,
    scrollWindow: scrollWindow,
    scrollDroppable: scrollDroppable
  });

  var scroll = function scroll(state) {
    if (state.phase !== 'DRAGGING') {
      return;
    }

    if (state.movementMode === 'FLUID') {
      fluidScroller.scroll(state);
      return;
    }

    if (!state.scrollJumpRequest) {
      return;
    }

    jumpScroll(state);
  };

  var scroller = {
    scroll: scroll,
    start: fluidScroller.start,
    stop: fluidScroller.stop
  };
  return scroller;
});

var prefix$1 = 'data-rbd';
var dragHandle = function () {
  var base = prefix$1 + "-drag-handle";
  return {
    base: base,
    draggableId: base + "-draggable-id",
    contextId: base + "-context-id"
  };
}();
var draggable = function () {
  var base = prefix$1 + "-draggable";
  return {
    base: base,
    contextId: base + "-context-id",
    id: base + "-id"
  };
}();
var droppable = function () {
  var base = prefix$1 + "-droppable";
  return {
    base: base,
    contextId: base + "-context-id",
    id: base + "-id"
  };
}();
var scrollContainer = {
  contextId: prefix$1 + "-scroll-container-context-id"
};

var makeGetSelector = function makeGetSelector(context) {
  return function (attribute) {
    return "[" + attribute + "=\"" + context + "\"]";
  };
};

var getStyles = function getStyles(rules, property) {
  return rules.map(function (rule) {
    var value = rule.styles[property];

    if (!value) {
      return '';
    }

    return rule.selector + " { " + value + " }";
  }).join(' ');
};

var noPointerEvents = 'pointer-events: none;';
var getStyles$1 = (function (contextId) {
  var getSelector = makeGetSelector(contextId);

  var dragHandle$1 = function () {
    var grabCursor = "\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";
    return {
      selector: getSelector(dragHandle.contextId),
      styles: {
        always: "\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",
        resting: grabCursor,
        dragging: noPointerEvents,
        dropAnimating: grabCursor
      }
    };
  }();

  var draggable$1 = function () {
    var transition = "\n      transition: " + transitions.outOfTheWay + ";\n    ";
    return {
      selector: getSelector(draggable.contextId),
      styles: {
        dragging: transition,
        dropAnimating: transition,
        userCancel: transition
      }
    };
  }();

  var droppable$1 = {
    selector: getSelector(droppable.contextId),
    styles: {
      always: "overflow-anchor: none;"
    }
  };
  var body = {
    selector: 'body',
    styles: {
      dragging: "\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "
    }
  };
  var rules = [draggable$1, dragHandle$1, droppable$1, body];
  return {
    always: getStyles(rules, 'always'),
    resting: getStyles(rules, 'resting'),
    dragging: getStyles(rules, 'dragging'),
    dropAnimating: getStyles(rules, 'dropAnimating'),
    userCancel: getStyles(rules, 'userCancel')
  };
});

var useIsomorphicLayoutEffect = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined' ? react__WEBPACK_IMPORTED_MODULE_0__["useLayoutEffect"] : react__WEBPACK_IMPORTED_MODULE_0__["useEffect"];

var getHead = function getHead() {
  var head = document.querySelector('head');
  !head ?  true ? invariant(false, 'Cannot find the head to append a style to') : undefined : void 0;
  return head;
};

var createStyleEl = function createStyleEl(nonce) {
  var el = document.createElement('style');

  if (nonce) {
    el.setAttribute('nonce', nonce);
  }

  el.type = 'text/css';
  return el;
};

function useStyleMarshal(contextId, nonce) {
  var styles = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return getStyles$1(contextId);
  }, [contextId]);
  var alwaysRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);
  var dynamicRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);
  var setDynamicStyle = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(Object(memoize_one__WEBPACK_IMPORTED_MODULE_7__["default"])(function (proposed) {
    var el = dynamicRef.current;
    !el ?  true ? invariant(false, 'Cannot set dynamic style element if it is not set') : undefined : void 0;
    el.textContent = proposed;
  }), []);
  var setAlwaysStyle = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function (proposed) {
    var el = alwaysRef.current;
    !el ?  true ? invariant(false, 'Cannot set dynamic style element if it is not set') : undefined : void 0;
    el.textContent = proposed;
  }, []);
  useIsomorphicLayoutEffect(function () {
    !(!alwaysRef.current && !dynamicRef.current) ?  true ? invariant(false, 'style elements already mounted') : undefined : void 0;
    var always = createStyleEl(nonce);
    var dynamic = createStyleEl(nonce);
    alwaysRef.current = always;
    dynamicRef.current = dynamic;
    always.setAttribute(prefix$1 + "-always", contextId);
    dynamic.setAttribute(prefix$1 + "-dynamic", contextId);
    getHead().appendChild(always);
    getHead().appendChild(dynamic);
    setAlwaysStyle(styles.always);
    setDynamicStyle(styles.resting);
    return function () {
      var remove = function remove(ref) {
        var current = ref.current;
        !current ?  true ? invariant(false, 'Cannot unmount ref as it is not set') : undefined : void 0;
        getHead().removeChild(current);
        ref.current = null;
      };

      remove(alwaysRef);
      remove(dynamicRef);
    };
  }, [nonce, setAlwaysStyle, setDynamicStyle, styles.always, styles.resting, contextId]);
  var dragging = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    return setDynamicStyle(styles.dragging);
  }, [setDynamicStyle, styles.dragging]);
  var dropping = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function (reason) {
    if (reason === 'DROP') {
      setDynamicStyle(styles.dropAnimating);
      return;
    }

    setDynamicStyle(styles.userCancel);
  }, [setDynamicStyle, styles.dropAnimating, styles.userCancel]);
  var resting = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    if (!dynamicRef.current) {
      return;
    }

    setDynamicStyle(styles.resting);
  }, [setDynamicStyle, styles.resting]);
  var marshal = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return {
      dragging: dragging,
      dropping: dropping,
      resting: resting
    };
  }, [dragging, dropping, resting]);
  return marshal;
}

var getWindowFromEl = (function (el) {
  return el && el.ownerDocument ? el.ownerDocument.defaultView : window;
});

function isHtmlElement(el) {
  return el instanceof getWindowFromEl(el).HTMLElement;
}

function findDragHandle(contextId, draggableId) {
  var selector = "[" + dragHandle.contextId + "=\"" + contextId + "\"]";
  var possible = toArray(document.querySelectorAll(selector));

  if (!possible.length) {
     true ? warning("Unable to find any drag handles in the context \"" + contextId + "\"") : undefined;
    return null;
  }

  var handle = find(possible, function (el) {
    return el.getAttribute(dragHandle.draggableId) === draggableId;
  });

  if (!handle) {
     true ? warning("Unable to find drag handle with id \"" + draggableId + "\" as no handle with a matching id was found") : undefined;
    return null;
  }

  if (!isHtmlElement(handle)) {
     true ? warning('drag handle needs to be a HTMLElement') : undefined;
    return null;
  }

  return handle;
}

function useFocusMarshal(contextId) {
  var entriesRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])({});
  var recordRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);
  var restoreFocusFrameRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);
  var isMountedRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(false);
  var register = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function register(id, focus) {
    var entry = {
      id: id,
      focus: focus
    };
    entriesRef.current[id] = entry;
    return function unregister() {
      var entries = entriesRef.current;
      var current = entries[id];

      if (current !== entry) {
        delete entries[id];
      }
    };
  }, []);
  var tryGiveFocus = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function tryGiveFocus(tryGiveFocusTo) {
    var handle = findDragHandle(contextId, tryGiveFocusTo);

    if (handle && handle !== document.activeElement) {
      handle.focus();
    }
  }, [contextId]);
  var tryShiftRecord = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function tryShiftRecord(previous, redirectTo) {
    if (recordRef.current === previous) {
      recordRef.current = redirectTo;
    }
  }, []);
  var tryRestoreFocusRecorded = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function tryRestoreFocusRecorded() {
    if (restoreFocusFrameRef.current) {
      return;
    }

    if (!isMountedRef.current) {
      return;
    }

    restoreFocusFrameRef.current = requestAnimationFrame(function () {
      restoreFocusFrameRef.current = null;
      var record = recordRef.current;

      if (record) {
        tryGiveFocus(record);
      }
    });
  }, [tryGiveFocus]);
  var tryRecordFocus = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function tryRecordFocus(id) {
    recordRef.current = null;
    var focused = document.activeElement;

    if (!focused) {
      return;
    }

    if (focused.getAttribute(dragHandle.draggableId) !== id) {
      return;
    }

    recordRef.current = id;
  }, []);
  useIsomorphicLayoutEffect(function () {
    isMountedRef.current = true;
    return function clearFrameOnUnmount() {
      isMountedRef.current = false;
      var frameId = restoreFocusFrameRef.current;

      if (frameId) {
        cancelAnimationFrame(frameId);
      }
    };
  }, []);
  var marshal = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return {
      register: register,
      tryRecordFocus: tryRecordFocus,
      tryRestoreFocusRecorded: tryRestoreFocusRecorded,
      tryShiftRecord: tryShiftRecord
    };
  }, [register, tryRecordFocus, tryRestoreFocusRecorded, tryShiftRecord]);
  return marshal;
}

function createRegistry() {
  var entries = {
    draggables: {},
    droppables: {}
  };
  var subscribers = [];

  function subscribe(cb) {
    subscribers.push(cb);
    return function unsubscribe() {
      var index = subscribers.indexOf(cb);

      if (index === -1) {
        return;
      }

      subscribers.splice(index, 1);
    };
  }

  function notify(event) {
    if (subscribers.length) {
      subscribers.forEach(function (cb) {
        return cb(event);
      });
    }
  }

  function findDraggableById(id) {
    return entries.draggables[id] || null;
  }

  function getDraggableById(id) {
    var entry = findDraggableById(id);
    !entry ?  true ? invariant(false, "Cannot find draggable entry with id [" + id + "]") : undefined : void 0;
    return entry;
  }

  var draggableAPI = {
    register: function register(entry) {
      entries.draggables[entry.descriptor.id] = entry;
      notify({
        type: 'ADDITION',
        value: entry
      });
    },
    update: function update(entry, last) {
      var current = entries.draggables[last.descriptor.id];

      if (!current) {
        return;
      }

      if (current.uniqueId !== entry.uniqueId) {
        return;
      }

      delete entries.draggables[last.descriptor.id];
      entries.draggables[entry.descriptor.id] = entry;
    },
    unregister: function unregister(entry) {
      var draggableId = entry.descriptor.id;
      var current = findDraggableById(draggableId);

      if (!current) {
        return;
      }

      if (entry.uniqueId !== current.uniqueId) {
        return;
      }

      delete entries.draggables[draggableId];
      notify({
        type: 'REMOVAL',
        value: entry
      });
    },
    getById: getDraggableById,
    findById: findDraggableById,
    exists: function exists(id) {
      return Boolean(findDraggableById(id));
    },
    getAllByType: function getAllByType(type) {
      return values(entries.draggables).filter(function (entry) {
        return entry.descriptor.type === type;
      });
    }
  };

  function findDroppableById(id) {
    return entries.droppables[id] || null;
  }

  function getDroppableById(id) {
    var entry = findDroppableById(id);
    !entry ?  true ? invariant(false, "Cannot find droppable entry with id [" + id + "]") : undefined : void 0;
    return entry;
  }

  var droppableAPI = {
    register: function register(entry) {
      entries.droppables[entry.descriptor.id] = entry;
    },
    unregister: function unregister(entry) {
      var current = findDroppableById(entry.descriptor.id);

      if (!current) {
        return;
      }

      if (entry.uniqueId !== current.uniqueId) {
        return;
      }

      delete entries.droppables[entry.descriptor.id];
    },
    getById: getDroppableById,
    findById: findDroppableById,
    exists: function exists(id) {
      return Boolean(findDroppableById(id));
    },
    getAllByType: function getAllByType(type) {
      return values(entries.droppables).filter(function (entry) {
        return entry.descriptor.type === type;
      });
    }
  };

  function clean() {
    entries.draggables = {};
    entries.droppables = {};
    subscribers.length = 0;
  }

  return {
    draggable: draggableAPI,
    droppable: droppableAPI,
    subscribe: subscribe,
    clean: clean
  };
}

function useRegistry() {
  var registry = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(createRegistry, []);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    return function unmount() {
      requestAnimationFrame(registry.clean);
    };
  }, [registry]);
  return registry;
}

var StoreContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext(null);

var getBodyElement = (function () {
  var body = document.body;
  !body ?  true ? invariant(false, 'Cannot find document.body') : undefined : void 0;
  return body;
});

var visuallyHidden = {
  position: 'absolute',
  width: '1px',
  height: '1px',
  margin: '-1px',
  border: '0',
  padding: '0',
  overflow: 'hidden',
  clip: 'rect(0 0 0 0)',
  'clip-path': 'inset(100%)'
};

var getId = function getId(contextId) {
  return "rbd-announcement-" + contextId;
};
function useAnnouncer(contextId) {
  var id = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return getId(contextId);
  }, [contextId]);
  var ref = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function setup() {
    var el = document.createElement('div');
    ref.current = el;
    el.id = id;
    el.setAttribute('aria-live', 'assertive');
    el.setAttribute('aria-atomic', 'true');

    Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])(el.style, visuallyHidden);

    getBodyElement().appendChild(el);
    return function cleanup() {
      setTimeout(function remove() {
        var body = getBodyElement();

        if (body.contains(el)) {
          body.removeChild(el);
        }

        if (el === ref.current) {
          ref.current = null;
        }
      });
    };
  }, [id]);
  var announce = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function (message) {
    var el = ref.current;

    if (el) {
      el.textContent = message;
      return;
    }

     true ? warning("\n      A screen reader message was trying to be announced but it was unable to do so.\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\n      Consider calling provided.announce() before the unmount so that the instruction will\n      not be lost for users relying on a screen reader.\n\n      Message not passed to screen reader:\n\n      \"" + message + "\"\n    ") : undefined;
  }, []);
  return announce;
}

var count = 0;
var defaults = {
  separator: '::'
};
function reset() {
  count = 0;
}
function useUniqueId(prefix, options) {
  if (options === void 0) {
    options = defaults;
  }

  return Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return "" + prefix + options.separator + count++;
  }, [options.separator, prefix]);
}

function getElementId(_ref) {
  var contextId = _ref.contextId,
      uniqueId = _ref.uniqueId;
  return "rbd-hidden-text-" + contextId + "-" + uniqueId;
}
function useHiddenTextElement(_ref2) {
  var contextId = _ref2.contextId,
      text = _ref2.text;
  var uniqueId = useUniqueId('hidden-text', {
    separator: '-'
  });
  var id = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return getElementId({
      contextId: contextId,
      uniqueId: uniqueId
    });
  }, [uniqueId, contextId]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function mount() {
    var el = document.createElement('div');
    el.id = id;
    el.textContent = text;
    el.style.display = 'none';
    getBodyElement().appendChild(el);
    return function unmount() {
      var body = getBodyElement();

      if (body.contains(el)) {
        body.removeChild(el);
      }
    };
  }, [id, text]);
  return id;
}

var AppContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext(null);

var peerDependencies = {
	react: "^16.8.5 || ^17.0.0",
	"react-dom": "^16.8.5 || ^17.0.0"
};

var semver = /(\d+)\.(\d+)\.(\d+)/;

var getVersion = function getVersion(value) {
  var result = semver.exec(value);
  !(result != null) ?  true ? invariant(false, "Unable to parse React version " + value) : undefined : void 0;
  var major = Number(result[1]);
  var minor = Number(result[2]);
  var patch = Number(result[3]);
  return {
    major: major,
    minor: minor,
    patch: patch,
    raw: value
  };
};

var isSatisfied = function isSatisfied(expected, actual) {
  if (actual.major > expected.major) {
    return true;
  }

  if (actual.major < expected.major) {
    return false;
  }

  if (actual.minor > expected.minor) {
    return true;
  }

  if (actual.minor < expected.minor) {
    return false;
  }

  return actual.patch >= expected.patch;
};

var checkReactVersion = (function (peerDepValue, actualValue) {
  var peerDep = getVersion(peerDepValue);
  var actual = getVersion(actualValue);

  if (isSatisfied(peerDep, actual)) {
    return;
  }

   true ? warning("\n    React version: [" + actual.raw + "]\n    does not satisfy expected peer dependency version: [" + peerDep.raw + "]\n\n    This can result in run time bugs, and even fatal crashes\n  ") : undefined;
});

var suffix = "\n  We expect a html5 doctype: <!doctype html>\n  This is to ensure consistent browser layout and measurement\n\n  More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/doctype.md\n";
var checkDoctype = (function (doc) {
  var doctype = doc.doctype;

  if (!doctype) {
     true ? warning("\n      No <!doctype html> found.\n\n      " + suffix + "\n    ") : undefined;
    return;
  }

  if (doctype.name.toLowerCase() !== 'html') {
     true ? warning("\n      Unexpected <!doctype> found: (" + doctype.name + ")\n\n      " + suffix + "\n    ") : undefined;
  }

  if (doctype.publicId !== '') {
     true ? warning("\n      Unexpected <!doctype> publicId found: (" + doctype.publicId + ")\n      A html5 doctype does not have a publicId\n\n      " + suffix + "\n    ") : undefined;
  }
});

function useDev(useHook) {
  if (true) {
    useHook();
  }
}

function useDevSetupWarning(fn, inputs) {
  useDev(function () {
    Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
      try {
        fn();
      } catch (e) {
        error("\n          A setup problem was encountered.\n\n          > " + e.message + "\n        ");
      }
    }, inputs);
  });
}

function useStartupValidation() {
  useDevSetupWarning(function () {
    checkReactVersion(peerDependencies.react, react__WEBPACK_IMPORTED_MODULE_0___default.a.version);
    checkDoctype(document);
  }, []);
}

function usePrevious(current) {
  var ref = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(current);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    ref.current = current;
  });
  return ref;
}

function create() {
  var lock = null;

  function isClaimed() {
    return Boolean(lock);
  }

  function isActive(value) {
    return value === lock;
  }

  function claim(abandon) {
    !!lock ?  true ? invariant(false, 'Cannot claim lock as it is already claimed') : undefined : void 0;
    var newLock = {
      abandon: abandon
    };
    lock = newLock;
    return newLock;
  }

  function release() {
    !lock ?  true ? invariant(false, 'Cannot release lock when there is no lock') : undefined : void 0;
    lock = null;
  }

  function tryAbandon() {
    if (lock) {
      lock.abandon();
      release();
    }
  }

  return {
    isClaimed: isClaimed,
    isActive: isActive,
    claim: claim,
    release: release,
    tryAbandon: tryAbandon
  };
}

var tab = 9;
var enter = 13;
var escape = 27;
var space = 32;
var pageUp = 33;
var pageDown = 34;
var end = 35;
var home = 36;
var arrowLeft = 37;
var arrowUp = 38;
var arrowRight = 39;
var arrowDown = 40;

var _preventedKeys;
var preventedKeys = (_preventedKeys = {}, _preventedKeys[enter] = true, _preventedKeys[tab] = true, _preventedKeys);
var preventStandardKeyEvents = (function (event) {
  if (preventedKeys[event.keyCode]) {
    event.preventDefault();
  }
});

var supportedEventName = function () {
  var base = 'visibilitychange';

  if (typeof document === 'undefined') {
    return base;
  }

  var candidates = [base, "ms" + base, "webkit" + base, "moz" + base, "o" + base];
  var supported = find(candidates, function (eventName) {
    return "on" + eventName in document;
  });
  return supported || base;
}();

var primaryButton = 0;
var sloppyClickThreshold = 5;

function isSloppyClickThresholdExceeded(original, current) {
  return Math.abs(current.x - original.x) >= sloppyClickThreshold || Math.abs(current.y - original.y) >= sloppyClickThreshold;
}

var idle$1 = {
  type: 'IDLE'
};

function getCaptureBindings(_ref) {
  var cancel = _ref.cancel,
      completed = _ref.completed,
      getPhase = _ref.getPhase,
      setPhase = _ref.setPhase;
  return [{
    eventName: 'mousemove',
    fn: function fn(event) {
      var button = event.button,
          clientX = event.clientX,
          clientY = event.clientY;

      if (button !== primaryButton) {
        return;
      }

      var point = {
        x: clientX,
        y: clientY
      };
      var phase = getPhase();

      if (phase.type === 'DRAGGING') {
        event.preventDefault();
        phase.actions.move(point);
        return;
      }

      !(phase.type === 'PENDING') ?  true ? invariant(false, 'Cannot be IDLE') : undefined : void 0;
      var pending = phase.point;

      if (!isSloppyClickThresholdExceeded(pending, point)) {
        return;
      }

      event.preventDefault();
      var actions = phase.actions.fluidLift(point);
      setPhase({
        type: 'DRAGGING',
        actions: actions
      });
    }
  }, {
    eventName: 'mouseup',
    fn: function fn(event) {
      var phase = getPhase();

      if (phase.type !== 'DRAGGING') {
        cancel();
        return;
      }

      event.preventDefault();
      phase.actions.drop({
        shouldBlockNextClick: true
      });
      completed();
    }
  }, {
    eventName: 'mousedown',
    fn: function fn(event) {
      if (getPhase().type === 'DRAGGING') {
        event.preventDefault();
      }

      cancel();
    }
  }, {
    eventName: 'keydown',
    fn: function fn(event) {
      var phase = getPhase();

      if (phase.type === 'PENDING') {
        cancel();
        return;
      }

      if (event.keyCode === escape) {
        event.preventDefault();
        cancel();
        return;
      }

      preventStandardKeyEvents(event);
    }
  }, {
    eventName: 'resize',
    fn: cancel
  }, {
    eventName: 'scroll',
    options: {
      passive: true,
      capture: false
    },
    fn: function fn() {
      if (getPhase().type === 'PENDING') {
        cancel();
      }
    }
  }, {
    eventName: 'webkitmouseforcedown',
    fn: function fn(event) {
      var phase = getPhase();
      !(phase.type !== 'IDLE') ?  true ? invariant(false, 'Unexpected phase') : undefined : void 0;

      if (phase.actions.shouldRespectForcePress()) {
        cancel();
        return;
      }

      event.preventDefault();
    }
  }, {
    eventName: supportedEventName,
    fn: cancel
  }];
}

function useMouseSensor(api) {
  var phaseRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(idle$1);
  var unbindEventsRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(noop);
  var startCaptureBinding = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return {
      eventName: 'mousedown',
      fn: function onMouseDown(event) {
        if (event.defaultPrevented) {
          return;
        }

        if (event.button !== primaryButton) {
          return;
        }

        if (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey) {
          return;
        }

        var draggableId = api.findClosestDraggableId(event);

        if (!draggableId) {
          return;
        }

        var actions = api.tryGetLock(draggableId, stop, {
          sourceEvent: event
        });

        if (!actions) {
          return;
        }

        event.preventDefault();
        var point = {
          x: event.clientX,
          y: event.clientY
        };
        unbindEventsRef.current();
        startPendingDrag(actions, point);
      }
    };
  }, [api]);
  var preventForcePressBinding = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return {
      eventName: 'webkitmouseforcewillbegin',
      fn: function fn(event) {
        if (event.defaultPrevented) {
          return;
        }

        var id = api.findClosestDraggableId(event);

        if (!id) {
          return;
        }

        var options = api.findOptionsForDraggable(id);

        if (!options) {
          return;
        }

        if (options.shouldRespectForcePress) {
          return;
        }

        if (!api.canGetLock(id)) {
          return;
        }

        event.preventDefault();
      }
    };
  }, [api]);
  var listenForCapture = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function listenForCapture() {
    var options = {
      passive: false,
      capture: true
    };
    unbindEventsRef.current = bindEvents(window, [preventForcePressBinding, startCaptureBinding], options);
  }, [preventForcePressBinding, startCaptureBinding]);
  var stop = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    var current = phaseRef.current;

    if (current.type === 'IDLE') {
      return;
    }

    phaseRef.current = idle$1;
    unbindEventsRef.current();
    listenForCapture();
  }, [listenForCapture]);
  var cancel = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    var phase = phaseRef.current;
    stop();

    if (phase.type === 'DRAGGING') {
      phase.actions.cancel({
        shouldBlockNextClick: true
      });
    }

    if (phase.type === 'PENDING') {
      phase.actions.abort();
    }
  }, [stop]);
  var bindCapturingEvents = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function bindCapturingEvents() {
    var options = {
      capture: true,
      passive: false
    };
    var bindings = getCaptureBindings({
      cancel: cancel,
      completed: stop,
      getPhase: function getPhase() {
        return phaseRef.current;
      },
      setPhase: function setPhase(phase) {
        phaseRef.current = phase;
      }
    });
    unbindEventsRef.current = bindEvents(window, bindings, options);
  }, [cancel, stop]);
  var startPendingDrag = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function startPendingDrag(actions, point) {
    !(phaseRef.current.type === 'IDLE') ?  true ? invariant(false, 'Expected to move from IDLE to PENDING drag') : undefined : void 0;
    phaseRef.current = {
      type: 'PENDING',
      point: point,
      actions: actions
    };
    bindCapturingEvents();
  }, [bindCapturingEvents]);
  useIsomorphicLayoutEffect(function mount() {
    listenForCapture();
    return function unmount() {
      unbindEventsRef.current();
    };
  }, [listenForCapture]);
}

var _scrollJumpKeys;

function noop$1() {}

var scrollJumpKeys = (_scrollJumpKeys = {}, _scrollJumpKeys[pageDown] = true, _scrollJumpKeys[pageUp] = true, _scrollJumpKeys[home] = true, _scrollJumpKeys[end] = true, _scrollJumpKeys);

function getDraggingBindings(actions, stop) {
  function cancel() {
    stop();
    actions.cancel();
  }

  function drop() {
    stop();
    actions.drop();
  }

  return [{
    eventName: 'keydown',
    fn: function fn(event) {
      if (event.keyCode === escape) {
        event.preventDefault();
        cancel();
        return;
      }

      if (event.keyCode === space) {
        event.preventDefault();
        drop();
        return;
      }

      if (event.keyCode === arrowDown) {
        event.preventDefault();
        actions.moveDown();
        return;
      }

      if (event.keyCode === arrowUp) {
        event.preventDefault();
        actions.moveUp();
        return;
      }

      if (event.keyCode === arrowRight) {
        event.preventDefault();
        actions.moveRight();
        return;
      }

      if (event.keyCode === arrowLeft) {
        event.preventDefault();
        actions.moveLeft();
        return;
      }

      if (scrollJumpKeys[event.keyCode]) {
        event.preventDefault();
        return;
      }

      preventStandardKeyEvents(event);
    }
  }, {
    eventName: 'mousedown',
    fn: cancel
  }, {
    eventName: 'mouseup',
    fn: cancel
  }, {
    eventName: 'click',
    fn: cancel
  }, {
    eventName: 'touchstart',
    fn: cancel
  }, {
    eventName: 'resize',
    fn: cancel
  }, {
    eventName: 'wheel',
    fn: cancel,
    options: {
      passive: true
    }
  }, {
    eventName: supportedEventName,
    fn: cancel
  }];
}

function useKeyboardSensor(api) {
  var unbindEventsRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(noop$1);
  var startCaptureBinding = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return {
      eventName: 'keydown',
      fn: function onKeyDown(event) {
        if (event.defaultPrevented) {
          return;
        }

        if (event.keyCode !== space) {
          return;
        }

        var draggableId = api.findClosestDraggableId(event);

        if (!draggableId) {
          return;
        }

        var preDrag = api.tryGetLock(draggableId, stop, {
          sourceEvent: event
        });

        if (!preDrag) {
          return;
        }

        event.preventDefault();
        var isCapturing = true;
        var actions = preDrag.snapLift();
        unbindEventsRef.current();

        function stop() {
          !isCapturing ?  true ? invariant(false, 'Cannot stop capturing a keyboard drag when not capturing') : undefined : void 0;
          isCapturing = false;
          unbindEventsRef.current();
          listenForCapture();
        }

        unbindEventsRef.current = bindEvents(window, getDraggingBindings(actions, stop), {
          capture: true,
          passive: false
        });
      }
    };
  }, [api]);
  var listenForCapture = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function tryStartCapture() {
    var options = {
      passive: false,
      capture: true
    };
    unbindEventsRef.current = bindEvents(window, [startCaptureBinding], options);
  }, [startCaptureBinding]);
  useIsomorphicLayoutEffect(function mount() {
    listenForCapture();
    return function unmount() {
      unbindEventsRef.current();
    };
  }, [listenForCapture]);
}

var idle$2 = {
  type: 'IDLE'
};
var timeForLongPress = 120;
var forcePressThreshold = 0.15;

function getWindowBindings(_ref) {
  var cancel = _ref.cancel,
      getPhase = _ref.getPhase;
  return [{
    eventName: 'orientationchange',
    fn: cancel
  }, {
    eventName: 'resize',
    fn: cancel
  }, {
    eventName: 'contextmenu',
    fn: function fn(event) {
      event.preventDefault();
    }
  }, {
    eventName: 'keydown',
    fn: function fn(event) {
      if (getPhase().type !== 'DRAGGING') {
        cancel();
        return;
      }

      if (event.keyCode === escape) {
        event.preventDefault();
      }

      cancel();
    }
  }, {
    eventName: supportedEventName,
    fn: cancel
  }];
}

function getHandleBindings(_ref2) {
  var cancel = _ref2.cancel,
      completed = _ref2.completed,
      getPhase = _ref2.getPhase;
  return [{
    eventName: 'touchmove',
    options: {
      capture: false
    },
    fn: function fn(event) {
      var phase = getPhase();

      if (phase.type !== 'DRAGGING') {
        cancel();
        return;
      }

      phase.hasMoved = true;
      var _event$touches$ = event.touches[0],
          clientX = _event$touches$.clientX,
          clientY = _event$touches$.clientY;
      var point = {
        x: clientX,
        y: clientY
      };
      event.preventDefault();
      phase.actions.move(point);
    }
  }, {
    eventName: 'touchend',
    fn: function fn(event) {
      var phase = getPhase();

      if (phase.type !== 'DRAGGING') {
        cancel();
        return;
      }

      event.preventDefault();
      phase.actions.drop({
        shouldBlockNextClick: true
      });
      completed();
    }
  }, {
    eventName: 'touchcancel',
    fn: function fn(event) {
      if (getPhase().type !== 'DRAGGING') {
        cancel();
        return;
      }

      event.preventDefault();
      cancel();
    }
  }, {
    eventName: 'touchforcechange',
    fn: function fn(event) {
      var phase = getPhase();
      !(phase.type !== 'IDLE') ?  true ? invariant(false) : undefined : void 0;
      var touch = event.touches[0];

      if (!touch) {
        return;
      }

      var isForcePress = touch.force >= forcePressThreshold;

      if (!isForcePress) {
        return;
      }

      var shouldRespect = phase.actions.shouldRespectForcePress();

      if (phase.type === 'PENDING') {
        if (shouldRespect) {
          cancel();
        }

        return;
      }

      if (shouldRespect) {
        if (phase.hasMoved) {
          event.preventDefault();
          return;
        }

        cancel();
        return;
      }

      event.preventDefault();
    }
  }, {
    eventName: supportedEventName,
    fn: cancel
  }];
}

function useTouchSensor(api) {
  var phaseRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(idle$2);
  var unbindEventsRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(noop);
  var getPhase = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function getPhase() {
    return phaseRef.current;
  }, []);
  var setPhase = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function setPhase(phase) {
    phaseRef.current = phase;
  }, []);
  var startCaptureBinding = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return {
      eventName: 'touchstart',
      fn: function onTouchStart(event) {
        if (event.defaultPrevented) {
          return;
        }

        var draggableId = api.findClosestDraggableId(event);

        if (!draggableId) {
          return;
        }

        var actions = api.tryGetLock(draggableId, stop, {
          sourceEvent: event
        });

        if (!actions) {
          return;
        }

        var touch = event.touches[0];
        var clientX = touch.clientX,
            clientY = touch.clientY;
        var point = {
          x: clientX,
          y: clientY
        };
        unbindEventsRef.current();
        startPendingDrag(actions, point);
      }
    };
  }, [api]);
  var listenForCapture = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function listenForCapture() {
    var options = {
      capture: true,
      passive: false
    };
    unbindEventsRef.current = bindEvents(window, [startCaptureBinding], options);
  }, [startCaptureBinding]);
  var stop = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    var current = phaseRef.current;

    if (current.type === 'IDLE') {
      return;
    }

    if (current.type === 'PENDING') {
      clearTimeout(current.longPressTimerId);
    }

    setPhase(idle$2);
    unbindEventsRef.current();
    listenForCapture();
  }, [listenForCapture, setPhase]);
  var cancel = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    var phase = phaseRef.current;
    stop();

    if (phase.type === 'DRAGGING') {
      phase.actions.cancel({
        shouldBlockNextClick: true
      });
    }

    if (phase.type === 'PENDING') {
      phase.actions.abort();
    }
  }, [stop]);
  var bindCapturingEvents = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function bindCapturingEvents() {
    var options = {
      capture: true,
      passive: false
    };
    var args = {
      cancel: cancel,
      completed: stop,
      getPhase: getPhase
    };
    var unbindTarget = bindEvents(window, getHandleBindings(args), options);
    var unbindWindow = bindEvents(window, getWindowBindings(args), options);

    unbindEventsRef.current = function unbindAll() {
      unbindTarget();
      unbindWindow();
    };
  }, [cancel, getPhase, stop]);
  var startDragging = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function startDragging() {
    var phase = getPhase();
    !(phase.type === 'PENDING') ?  true ? invariant(false, "Cannot start dragging from phase " + phase.type) : undefined : void 0;
    var actions = phase.actions.fluidLift(phase.point);
    setPhase({
      type: 'DRAGGING',
      actions: actions,
      hasMoved: false
    });
  }, [getPhase, setPhase]);
  var startPendingDrag = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function startPendingDrag(actions, point) {
    !(getPhase().type === 'IDLE') ?  true ? invariant(false, 'Expected to move from IDLE to PENDING drag') : undefined : void 0;
    var longPressTimerId = setTimeout(startDragging, timeForLongPress);
    setPhase({
      type: 'PENDING',
      point: point,
      actions: actions,
      longPressTimerId: longPressTimerId
    });
    bindCapturingEvents();
  }, [bindCapturingEvents, getPhase, setPhase, startDragging]);
  useIsomorphicLayoutEffect(function mount() {
    listenForCapture();
    return function unmount() {
      unbindEventsRef.current();
      var phase = getPhase();

      if (phase.type === 'PENDING') {
        clearTimeout(phase.longPressTimerId);
        setPhase(idle$2);
      }
    };
  }, [getPhase, listenForCapture, setPhase]);
  useIsomorphicLayoutEffect(function webkitHack() {
    var unbind = bindEvents(window, [{
      eventName: 'touchmove',
      fn: function fn() {},
      options: {
        capture: false,
        passive: false
      }
    }]);
    return unbind;
  }, []);
}

function useValidateSensorHooks(sensorHooks) {
  useDev(function () {
    var previousRef = usePrevious(sensorHooks);
    useDevSetupWarning(function () {
      !(previousRef.current.length === sensorHooks.length) ?  true ? invariant(false, 'Cannot change the amount of sensor hooks after mounting') : undefined : void 0;
    });
  });
}

var interactiveTagNames = {
  input: true,
  button: true,
  textarea: true,
  select: true,
  option: true,
  optgroup: true,
  video: true,
  audio: true
};

function isAnInteractiveElement(parent, current) {
  if (current == null) {
    return false;
  }

  var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);

  if (hasAnInteractiveTag) {
    return true;
  }

  var attribute = current.getAttribute('contenteditable');

  if (attribute === 'true' || attribute === '') {
    return true;
  }

  if (current === parent) {
    return false;
  }

  return isAnInteractiveElement(parent, current.parentElement);
}

function isEventInInteractiveElement(draggable, event) {
  var target = event.target;

  if (!isHtmlElement(target)) {
    return false;
  }

  return isAnInteractiveElement(draggable, target);
}

var getBorderBoxCenterPosition = (function (el) {
  return Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["getRect"])(el.getBoundingClientRect()).center;
});

function isElement(el) {
  return el instanceof getWindowFromEl(el).Element;
}

var supportedMatchesName = function () {
  var base = 'matches';

  if (typeof document === 'undefined') {
    return base;
  }

  var candidates = [base, 'msMatchesSelector', 'webkitMatchesSelector'];
  var value = find(candidates, function (name) {
    return name in Element.prototype;
  });
  return value || base;
}();

function closestPonyfill(el, selector) {
  if (el == null) {
    return null;
  }

  if (el[supportedMatchesName](selector)) {
    return el;
  }

  return closestPonyfill(el.parentElement, selector);
}

function closest$1(el, selector) {
  if (el.closest) {
    return el.closest(selector);
  }

  return closestPonyfill(el, selector);
}

function getSelector(contextId) {
  return "[" + dragHandle.contextId + "=\"" + contextId + "\"]";
}

function findClosestDragHandleFromEvent(contextId, event) {
  var target = event.target;

  if (!isElement(target)) {
     true ? warning('event.target must be a Element') : undefined;
    return null;
  }

  var selector = getSelector(contextId);
  var handle = closest$1(target, selector);

  if (!handle) {
    return null;
  }

  if (!isHtmlElement(handle)) {
     true ? warning('drag handle must be a HTMLElement') : undefined;
    return null;
  }

  return handle;
}

function tryGetClosestDraggableIdFromEvent(contextId, event) {
  var handle = findClosestDragHandleFromEvent(contextId, event);

  if (!handle) {
    return null;
  }

  return handle.getAttribute(dragHandle.draggableId);
}

function findDraggable(contextId, draggableId) {
  var selector = "[" + draggable.contextId + "=\"" + contextId + "\"]";
  var possible = toArray(document.querySelectorAll(selector));
  var draggable$1 = find(possible, function (el) {
    return el.getAttribute(draggable.id) === draggableId;
  });

  if (!draggable$1) {
    return null;
  }

  if (!isHtmlElement(draggable$1)) {
     true ? warning('Draggable element is not a HTMLElement') : undefined;
    return null;
  }

  return draggable$1;
}

function preventDefault(event) {
  event.preventDefault();
}

function _isActive(_ref) {
  var expected = _ref.expected,
      phase = _ref.phase,
      isLockActive = _ref.isLockActive,
      shouldWarn = _ref.shouldWarn;

  if (!isLockActive()) {
    if (shouldWarn) {
       true ? warning("\n        Cannot perform action.\n        The sensor no longer has an action lock.\n\n        Tips:\n\n        - Throw away your action handlers when forceStop() is called\n        - Check actions.isActive() if you really need to\n      ") : undefined;
    }

    return false;
  }

  if (expected !== phase) {
    if (shouldWarn) {
       true ? warning("\n        Cannot perform action.\n        The actions you used belong to an outdated phase\n\n        Current phase: " + expected + "\n        You called an action from outdated phase: " + phase + "\n\n        Tips:\n\n        - Do not use preDragActions actions after calling preDragActions.lift()\n      ") : undefined;
    }

    return false;
  }

  return true;
}

function canStart(_ref2) {
  var lockAPI = _ref2.lockAPI,
      store = _ref2.store,
      registry = _ref2.registry,
      draggableId = _ref2.draggableId;

  if (lockAPI.isClaimed()) {
    return false;
  }

  var entry = registry.draggable.findById(draggableId);

  if (!entry) {
     true ? warning("Unable to find draggable with id: " + draggableId) : undefined;
    return false;
  }

  if (!entry.options.isEnabled) {
    return false;
  }

  if (!canStartDrag(store.getState(), draggableId)) {
    return false;
  }

  return true;
}

function tryStart(_ref3) {
  var lockAPI = _ref3.lockAPI,
      contextId = _ref3.contextId,
      store = _ref3.store,
      registry = _ref3.registry,
      draggableId = _ref3.draggableId,
      forceSensorStop = _ref3.forceSensorStop,
      sourceEvent = _ref3.sourceEvent;
  var shouldStart = canStart({
    lockAPI: lockAPI,
    store: store,
    registry: registry,
    draggableId: draggableId
  });

  if (!shouldStart) {
    return null;
  }

  var entry = registry.draggable.getById(draggableId);
  var el = findDraggable(contextId, entry.descriptor.id);

  if (!el) {
     true ? warning("Unable to find draggable element with id: " + draggableId) : undefined;
    return null;
  }

  if (sourceEvent && !entry.options.canDragInteractiveElements && isEventInInteractiveElement(el, sourceEvent)) {
    return null;
  }

  var lock = lockAPI.claim(forceSensorStop || noop);
  var phase = 'PRE_DRAG';

  function getShouldRespectForcePress() {
    return entry.options.shouldRespectForcePress;
  }

  function isLockActive() {
    return lockAPI.isActive(lock);
  }

  function tryDispatch(expected, getAction) {
    if (_isActive({
      expected: expected,
      phase: phase,
      isLockActive: isLockActive,
      shouldWarn: true
    })) {
      store.dispatch(getAction());
    }
  }

  var tryDispatchWhenDragging = tryDispatch.bind(null, 'DRAGGING');

  function lift$1(args) {
    function completed() {
      lockAPI.release();
      phase = 'COMPLETED';
    }

    if (phase !== 'PRE_DRAG') {
      completed();
      !(phase === 'PRE_DRAG') ?  true ? invariant(false, "Cannot lift in phase " + phase) : undefined : void 0;
    }

    store.dispatch(lift(args.liftActionArgs));
    phase = 'DRAGGING';

    function finish(reason, options) {
      if (options === void 0) {
        options = {
          shouldBlockNextClick: false
        };
      }

      args.cleanup();

      if (options.shouldBlockNextClick) {
        var unbind = bindEvents(window, [{
          eventName: 'click',
          fn: preventDefault,
          options: {
            once: true,
            passive: false,
            capture: true
          }
        }]);
        setTimeout(unbind);
      }

      completed();
      store.dispatch(drop({
        reason: reason
      }));
    }

    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({
      isActive: function isActive() {
        return _isActive({
          expected: 'DRAGGING',
          phase: phase,
          isLockActive: isLockActive,
          shouldWarn: false
        });
      },
      shouldRespectForcePress: getShouldRespectForcePress,
      drop: function drop(options) {
        return finish('DROP', options);
      },
      cancel: function cancel(options) {
        return finish('CANCEL', options);
      }
    }, args.actions);
  }

  function fluidLift(clientSelection) {
    var move$1 = Object(raf_schd__WEBPACK_IMPORTED_MODULE_8__["default"])(function (client) {
      tryDispatchWhenDragging(function () {
        return move({
          client: client
        });
      });
    });
    var api = lift$1({
      liftActionArgs: {
        id: draggableId,
        clientSelection: clientSelection,
        movementMode: 'FLUID'
      },
      cleanup: function cleanup() {
        return move$1.cancel();
      },
      actions: {
        move: move$1
      }
    });
    return Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, api, {
      move: move$1
    });
  }

  function snapLift() {
    var actions = {
      moveUp: function moveUp$1() {
        return tryDispatchWhenDragging(moveUp);
      },
      moveRight: function moveRight$1() {
        return tryDispatchWhenDragging(moveRight);
      },
      moveDown: function moveDown$1() {
        return tryDispatchWhenDragging(moveDown);
      },
      moveLeft: function moveLeft$1() {
        return tryDispatchWhenDragging(moveLeft);
      }
    };
    return lift$1({
      liftActionArgs: {
        id: draggableId,
        clientSelection: getBorderBoxCenterPosition(el),
        movementMode: 'SNAP'
      },
      cleanup: noop,
      actions: actions
    });
  }

  function abortPreDrag() {
    var shouldRelease = _isActive({
      expected: 'PRE_DRAG',
      phase: phase,
      isLockActive: isLockActive,
      shouldWarn: true
    });

    if (shouldRelease) {
      lockAPI.release();
    }
  }

  var preDrag = {
    isActive: function isActive() {
      return _isActive({
        expected: 'PRE_DRAG',
        phase: phase,
        isLockActive: isLockActive,
        shouldWarn: false
      });
    },
    shouldRespectForcePress: getShouldRespectForcePress,
    fluidLift: fluidLift,
    snapLift: snapLift,
    abort: abortPreDrag
  };
  return preDrag;
}

var defaultSensors = [useMouseSensor, useKeyboardSensor, useTouchSensor];
function useSensorMarshal(_ref4) {
  var contextId = _ref4.contextId,
      store = _ref4.store,
      registry = _ref4.registry,
      customSensors = _ref4.customSensors,
      enableDefaultSensors = _ref4.enableDefaultSensors;
  var useSensors = [].concat(enableDefaultSensors ? defaultSensors : [], customSensors || []);
  var lockAPI = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(function () {
    return create();
  })[0];
  var tryAbandonLock = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function tryAbandonLock(previous, current) {
    if (previous.isDragging && !current.isDragging) {
      lockAPI.tryAbandon();
    }
  }, [lockAPI]);
  useIsomorphicLayoutEffect(function listenToStore() {
    var previous = store.getState();
    var unsubscribe = store.subscribe(function () {
      var current = store.getState();
      tryAbandonLock(previous, current);
      previous = current;
    });
    return unsubscribe;
  }, [lockAPI, store, tryAbandonLock]);
  useIsomorphicLayoutEffect(function () {
    return lockAPI.tryAbandon;
  }, [lockAPI.tryAbandon]);
  var canGetLock = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function (draggableId) {
    return canStart({
      lockAPI: lockAPI,
      registry: registry,
      store: store,
      draggableId: draggableId
    });
  }, [lockAPI, registry, store]);
  var tryGetLock = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function (draggableId, forceStop, options) {
    return tryStart({
      lockAPI: lockAPI,
      registry: registry,
      contextId: contextId,
      store: store,
      draggableId: draggableId,
      forceSensorStop: forceStop,
      sourceEvent: options && options.sourceEvent ? options.sourceEvent : null
    });
  }, [contextId, lockAPI, registry, store]);
  var findClosestDraggableId = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function (event) {
    return tryGetClosestDraggableIdFromEvent(contextId, event);
  }, [contextId]);
  var findOptionsForDraggable = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function (id) {
    var entry = registry.draggable.findById(id);
    return entry ? entry.options : null;
  }, [registry.draggable]);
  var tryReleaseLock = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function tryReleaseLock() {
    if (!lockAPI.isClaimed()) {
      return;
    }

    lockAPI.tryAbandon();

    if (store.getState().phase !== 'IDLE') {
      store.dispatch(flush());
    }
  }, [lockAPI, store]);
  var isLockClaimed = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(lockAPI.isClaimed, [lockAPI]);
  var api = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return {
      canGetLock: canGetLock,
      tryGetLock: tryGetLock,
      findClosestDraggableId: findClosestDraggableId,
      findOptionsForDraggable: findOptionsForDraggable,
      tryReleaseLock: tryReleaseLock,
      isLockClaimed: isLockClaimed
    };
  }, [canGetLock, tryGetLock, findClosestDraggableId, findOptionsForDraggable, tryReleaseLock, isLockClaimed]);
  useValidateSensorHooks(useSensors);

  for (var i = 0; i < useSensors.length; i++) {
    useSensors[i](api);
  }
}

var createResponders = function createResponders(props) {
  return {
    onBeforeCapture: props.onBeforeCapture,
    onBeforeDragStart: props.onBeforeDragStart,
    onDragStart: props.onDragStart,
    onDragEnd: props.onDragEnd,
    onDragUpdate: props.onDragUpdate
  };
};

function getStore(lazyRef) {
  !lazyRef.current ?  true ? invariant(false, 'Could not find store from lazy ref') : undefined : void 0;
  return lazyRef.current;
}

function App(props) {
  var contextId = props.contextId,
      setCallbacks = props.setCallbacks,
      sensors = props.sensors,
      nonce = props.nonce,
      dragHandleUsageInstructions = props.dragHandleUsageInstructions;
  var lazyStoreRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);
  useStartupValidation();
  var lastPropsRef = usePrevious(props);
  var getResponders = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    return createResponders(lastPropsRef.current);
  }, [lastPropsRef]);
  var announce = useAnnouncer(contextId);
  var dragHandleUsageInstructionsId = useHiddenTextElement({
    contextId: contextId,
    text: dragHandleUsageInstructions
  });
  var styleMarshal = useStyleMarshal(contextId, nonce);
  var lazyDispatch = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function (action) {
    getStore(lazyStoreRef).dispatch(action);
  }, []);
  var marshalCallbacks = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return Object(redux__WEBPACK_IMPORTED_MODULE_3__["bindActionCreators"])({
      publishWhileDragging: publishWhileDragging,
      updateDroppableScroll: updateDroppableScroll,
      updateDroppableIsEnabled: updateDroppableIsEnabled,
      updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,
      collectionStarting: collectionStarting
    }, lazyDispatch);
  }, [lazyDispatch]);
  var registry = useRegistry();
  var dimensionMarshal = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return createDimensionMarshal(registry, marshalCallbacks);
  }, [registry, marshalCallbacks]);
  var autoScroller = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return createAutoScroller(Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({
      scrollWindow: scrollWindow,
      scrollDroppable: dimensionMarshal.scrollDroppable
    }, Object(redux__WEBPACK_IMPORTED_MODULE_3__["bindActionCreators"])({
      move: move
    }, lazyDispatch)));
  }, [dimensionMarshal.scrollDroppable, lazyDispatch]);
  var focusMarshal = useFocusMarshal(contextId);
  var store = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return createStore({
      announce: announce,
      autoScroller: autoScroller,
      dimensionMarshal: dimensionMarshal,
      focusMarshal: focusMarshal,
      getResponders: getResponders,
      styleMarshal: styleMarshal
    });
  }, [announce, autoScroller, dimensionMarshal, focusMarshal, getResponders, styleMarshal]);

  if (true) {
    if (lazyStoreRef.current && lazyStoreRef.current !== store) {
       true ? warning('unexpected store change') : undefined;
    }
  }

  lazyStoreRef.current = store;
  var tryResetStore = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    var current = getStore(lazyStoreRef);
    var state = current.getState();

    if (state.phase !== 'IDLE') {
      current.dispatch(flush());
    }
  }, []);
  var isDragging = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    var state = getStore(lazyStoreRef).getState();
    return state.isDragging || state.phase === 'DROP_ANIMATING';
  }, []);
  var appCallbacks = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return {
      isDragging: isDragging,
      tryAbort: tryResetStore
    };
  }, [isDragging, tryResetStore]);
  setCallbacks(appCallbacks);
  var getCanLift = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function (id) {
    return canStartDrag(getStore(lazyStoreRef).getState(), id);
  }, []);
  var getIsMovementAllowed = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    return isMovementAllowed(getStore(lazyStoreRef).getState());
  }, []);
  var appContext = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return {
      marshal: dimensionMarshal,
      focus: focusMarshal,
      contextId: contextId,
      canLift: getCanLift,
      isMovementAllowed: getIsMovementAllowed,
      dragHandleUsageInstructionsId: dragHandleUsageInstructionsId,
      registry: registry
    };
  }, [contextId, dimensionMarshal, dragHandleUsageInstructionsId, focusMarshal, getCanLift, getIsMovementAllowed, registry]);
  useSensorMarshal({
    contextId: contextId,
    store: store,
    registry: registry,
    customSensors: sensors,
    enableDefaultSensors: props.enableDefaultSensors !== false
  });
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    return tryResetStore;
  }, [tryResetStore]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AppContext.Provider, {
    value: appContext
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_redux__WEBPACK_IMPORTED_MODULE_4__["Provider"], {
    context: StoreContext,
    store: store
  }, props.children));
}

var count$1 = 0;
function reset$1() {
  count$1 = 0;
}
function useInstanceCount() {
  return Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return "" + count$1++;
  }, []);
}

function resetServerContext() {
  reset$1();
  reset();
}
function DragDropContext(props) {
  var contextId = useInstanceCount();
  var dragHandleUsageInstructions = props.dragHandleUsageInstructions || preset.dragHandleUsageInstructions;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ErrorBoundary, null, function (setCallbacks) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App, {
      nonce: props.nonce,
      contextId: contextId,
      setCallbacks: setCallbacks,
      dragHandleUsageInstructions: dragHandleUsageInstructions,
      enableDefaultSensors: props.enableDefaultSensors,
      sensors: props.sensors,
      onBeforeCapture: props.onBeforeCapture,
      onBeforeDragStart: props.onBeforeDragStart,
      onDragStart: props.onDragStart,
      onDragUpdate: props.onDragUpdate,
      onDragEnd: props.onDragEnd
    }, props.children);
  });
}

var isEqual$1 = function isEqual(base) {
  return function (value) {
    return base === value;
  };
};

var isScroll = isEqual$1('scroll');
var isAuto = isEqual$1('auto');
var isVisible$1 = isEqual$1('visible');

var isEither = function isEither(overflow, fn) {
  return fn(overflow.overflowX) || fn(overflow.overflowY);
};

var isBoth = function isBoth(overflow, fn) {
  return fn(overflow.overflowX) && fn(overflow.overflowY);
};

var isElementScrollable = function isElementScrollable(el) {
  var style = window.getComputedStyle(el);
  var overflow = {
    overflowX: style.overflowX,
    overflowY: style.overflowY
  };
  return isEither(overflow, isScroll) || isEither(overflow, isAuto);
};

var isBodyScrollable = function isBodyScrollable() {
  if (false) {}

  var body = getBodyElement();
  var html = document.documentElement;
  !html ?  true ? invariant(false) : undefined : void 0;

  if (!isElementScrollable(body)) {
    return false;
  }

  var htmlStyle = window.getComputedStyle(html);
  var htmlOverflow = {
    overflowX: htmlStyle.overflowX,
    overflowY: htmlStyle.overflowY
  };

  if (isBoth(htmlOverflow, isVisible$1)) {
    return false;
  }

   true ? warning("\n    We have detected that your <body> element might be a scroll container.\n    We have found no reliable way of detecting whether the <body> element is a scroll container.\n    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)\n\n    Because we cannot determine if the <body> is a scroll container, and generally it is not one,\n    we will be treating the <body> as *not* a scroll container\n\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/how-we-detect-scroll-containers.md\n  ") : undefined;
  return false;
};

var getClosestScrollable = function getClosestScrollable(el) {
  if (el == null) {
    return null;
  }

  if (el === document.body) {
    return isBodyScrollable() ? el : null;
  }

  if (el === document.documentElement) {
    return null;
  }

  if (!isElementScrollable(el)) {
    return getClosestScrollable(el.parentElement);
  }

  return el;
};

var checkForNestedScrollContainers = (function (scrollable) {
  if (!scrollable) {
    return;
  }

  var anotherScrollParent = getClosestScrollable(scrollable.parentElement);

  if (!anotherScrollParent) {
    return;
  }

   true ? warning("\n    Droppable: unsupported nested scroll container detected.\n    A Droppable can only have one scroll parent (which can be itself)\n    Nested scroll containers are currently not supported.\n\n    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131\n  ") : undefined;
});

var getScroll$1 = (function (el) {
  return {
    x: el.scrollLeft,
    y: el.scrollTop
  };
});

var getIsFixed = function getIsFixed(el) {
  if (!el) {
    return false;
  }

  var style = window.getComputedStyle(el);

  if (style.position === 'fixed') {
    return true;
  }

  return getIsFixed(el.parentElement);
};

var getEnv = (function (start) {
  var closestScrollable = getClosestScrollable(start);
  var isFixedOnPage = getIsFixed(start);
  return {
    closestScrollable: closestScrollable,
    isFixedOnPage: isFixedOnPage
  };
});

var getDroppableDimension = (function (_ref) {
  var descriptor = _ref.descriptor,
      isEnabled = _ref.isEnabled,
      isCombineEnabled = _ref.isCombineEnabled,
      isFixedOnPage = _ref.isFixedOnPage,
      direction = _ref.direction,
      client = _ref.client,
      page = _ref.page,
      closest = _ref.closest;

  var frame = function () {
    if (!closest) {
      return null;
    }

    var scrollSize = closest.scrollSize,
        frameClient = closest.client;
    var maxScroll = getMaxScroll({
      scrollHeight: scrollSize.scrollHeight,
      scrollWidth: scrollSize.scrollWidth,
      height: frameClient.paddingBox.height,
      width: frameClient.paddingBox.width
    });
    return {
      pageMarginBox: closest.page.marginBox,
      frameClient: frameClient,
      scrollSize: scrollSize,
      shouldClipSubject: closest.shouldClipSubject,
      scroll: {
        initial: closest.scroll,
        current: closest.scroll,
        max: maxScroll,
        diff: {
          value: origin,
          displacement: origin
        }
      }
    };
  }();

  var axis = direction === 'vertical' ? vertical : horizontal;
  var subject = getSubject({
    page: page,
    withPlaceholder: null,
    axis: axis,
    frame: frame
  });
  var dimension = {
    descriptor: descriptor,
    isCombineEnabled: isCombineEnabled,
    isFixedOnPage: isFixedOnPage,
    axis: axis,
    isEnabled: isEnabled,
    client: client,
    page: page,
    frame: frame,
    subject: subject
  };
  return dimension;
});

var getClient = function getClient(targetRef, closestScrollable) {
  var base = Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["getBox"])(targetRef);

  if (!closestScrollable) {
    return base;
  }

  if (targetRef !== closestScrollable) {
    return base;
  }

  var top = base.paddingBox.top - closestScrollable.scrollTop;
  var left = base.paddingBox.left - closestScrollable.scrollLeft;
  var bottom = top + closestScrollable.scrollHeight;
  var right = left + closestScrollable.scrollWidth;
  var paddingBox = {
    top: top,
    right: right,
    bottom: bottom,
    left: left
  };
  var borderBox = Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["expand"])(paddingBox, base.border);
  var client = Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["createBox"])({
    borderBox: borderBox,
    margin: base.margin,
    border: base.border,
    padding: base.padding
  });
  return client;
};

var getDimension = (function (_ref) {
  var ref = _ref.ref,
      descriptor = _ref.descriptor,
      env = _ref.env,
      windowScroll = _ref.windowScroll,
      direction = _ref.direction,
      isDropDisabled = _ref.isDropDisabled,
      isCombineEnabled = _ref.isCombineEnabled,
      shouldClipSubject = _ref.shouldClipSubject;
  var closestScrollable = env.closestScrollable;
  var client = getClient(ref, closestScrollable);
  var page = Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["withScroll"])(client, windowScroll);

  var closest = function () {
    if (!closestScrollable) {
      return null;
    }

    var frameClient = Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["getBox"])(closestScrollable);
    var scrollSize = {
      scrollHeight: closestScrollable.scrollHeight,
      scrollWidth: closestScrollable.scrollWidth
    };
    return {
      client: frameClient,
      page: Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["withScroll"])(frameClient, windowScroll),
      scroll: getScroll$1(closestScrollable),
      scrollSize: scrollSize,
      shouldClipSubject: shouldClipSubject
    };
  }();

  var dimension = getDroppableDimension({
    descriptor: descriptor,
    isEnabled: !isDropDisabled,
    isCombineEnabled: isCombineEnabled,
    isFixedOnPage: env.isFixedOnPage,
    direction: direction,
    client: client,
    page: page,
    closest: closest
  });
  return dimension;
});

var immediate = {
  passive: false
};
var delayed = {
  passive: true
};
var getListenerOptions = (function (options) {
  return options.shouldPublishImmediately ? immediate : delayed;
});

function useRequiredContext(Context) {
  var result = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(Context);
  !result ?  true ? invariant(false, 'Could not find required context') : undefined : void 0;
  return result;
}

var getClosestScrollableFromDrag = function getClosestScrollableFromDrag(dragging) {
  return dragging && dragging.env.closestScrollable || null;
};

function useDroppablePublisher(args) {
  var whileDraggingRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);
  var appContext = useRequiredContext(AppContext);
  var uniqueId = useUniqueId('droppable');
  var registry = appContext.registry,
      marshal = appContext.marshal;
  var previousRef = usePrevious(args);
  var descriptor = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return {
      id: args.droppableId,
      type: args.type,
      mode: args.mode
    };
  }, [args.droppableId, args.mode, args.type]);
  var publishedDescriptorRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(descriptor);
  var memoizedUpdateScroll = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return Object(memoize_one__WEBPACK_IMPORTED_MODULE_7__["default"])(function (x, y) {
      !whileDraggingRef.current ?  true ? invariant(false, 'Can only update scroll when dragging') : undefined : void 0;
      var scroll = {
        x: x,
        y: y
      };
      marshal.updateDroppableScroll(descriptor.id, scroll);
    });
  }, [descriptor.id, marshal]);
  var getClosestScroll = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    var dragging = whileDraggingRef.current;

    if (!dragging || !dragging.env.closestScrollable) {
      return origin;
    }

    return getScroll$1(dragging.env.closestScrollable);
  }, []);
  var updateScroll = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    var scroll = getClosestScroll();
    memoizedUpdateScroll(scroll.x, scroll.y);
  }, [getClosestScroll, memoizedUpdateScroll]);
  var scheduleScrollUpdate = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return Object(raf_schd__WEBPACK_IMPORTED_MODULE_8__["default"])(updateScroll);
  }, [updateScroll]);
  var onClosestScroll = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    var dragging = whileDraggingRef.current;
    var closest = getClosestScrollableFromDrag(dragging);
    !(dragging && closest) ?  true ? invariant(false, 'Could not find scroll options while scrolling') : undefined : void 0;
    var options = dragging.scrollOptions;

    if (options.shouldPublishImmediately) {
      updateScroll();
      return;
    }

    scheduleScrollUpdate();
  }, [scheduleScrollUpdate, updateScroll]);
  var getDimensionAndWatchScroll = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function (windowScroll, options) {
    !!whileDraggingRef.current ?  true ? invariant(false, 'Cannot collect a droppable while a drag is occurring') : undefined : void 0;
    var previous = previousRef.current;
    var ref = previous.getDroppableRef();
    !ref ?  true ? invariant(false, 'Cannot collect without a droppable ref') : undefined : void 0;
    var env = getEnv(ref);
    var dragging = {
      ref: ref,
      descriptor: descriptor,
      env: env,
      scrollOptions: options
    };
    whileDraggingRef.current = dragging;
    var dimension = getDimension({
      ref: ref,
      descriptor: descriptor,
      env: env,
      windowScroll: windowScroll,
      direction: previous.direction,
      isDropDisabled: previous.isDropDisabled,
      isCombineEnabled: previous.isCombineEnabled,
      shouldClipSubject: !previous.ignoreContainerClipping
    });
    var scrollable = env.closestScrollable;

    if (scrollable) {
      scrollable.setAttribute(scrollContainer.contextId, appContext.contextId);
      scrollable.addEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));

      if (true) {
        checkForNestedScrollContainers(scrollable);
      }
    }

    return dimension;
  }, [appContext.contextId, descriptor, onClosestScroll, previousRef]);
  var getScrollWhileDragging = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    var dragging = whileDraggingRef.current;
    var closest = getClosestScrollableFromDrag(dragging);
    !(dragging && closest) ?  true ? invariant(false, 'Can only recollect Droppable client for Droppables that have a scroll container') : undefined : void 0;
    return getScroll$1(closest);
  }, []);
  var dragStopped = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    var dragging = whileDraggingRef.current;
    !dragging ?  true ? invariant(false, 'Cannot stop drag when no active drag') : undefined : void 0;
    var closest = getClosestScrollableFromDrag(dragging);
    whileDraggingRef.current = null;

    if (!closest) {
      return;
    }

    scheduleScrollUpdate.cancel();
    closest.removeAttribute(scrollContainer.contextId);
    closest.removeEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));
  }, [onClosestScroll, scheduleScrollUpdate]);
  var scroll = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function (change) {
    var dragging = whileDraggingRef.current;
    !dragging ?  true ? invariant(false, 'Cannot scroll when there is no drag') : undefined : void 0;
    var closest = getClosestScrollableFromDrag(dragging);
    !closest ?  true ? invariant(false, 'Cannot scroll a droppable with no closest scrollable') : undefined : void 0;
    closest.scrollTop += change.y;
    closest.scrollLeft += change.x;
  }, []);
  var callbacks = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return {
      getDimensionAndWatchScroll: getDimensionAndWatchScroll,
      getScrollWhileDragging: getScrollWhileDragging,
      dragStopped: dragStopped,
      scroll: scroll
    };
  }, [dragStopped, getDimensionAndWatchScroll, getScrollWhileDragging, scroll]);
  var entry = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return {
      uniqueId: uniqueId,
      descriptor: descriptor,
      callbacks: callbacks
    };
  }, [callbacks, descriptor, uniqueId]);
  useIsomorphicLayoutEffect(function () {
    publishedDescriptorRef.current = entry.descriptor;
    registry.droppable.register(entry);
    return function () {
      if (whileDraggingRef.current) {
         true ? warning('Unsupported: changing the droppableId or type of a Droppable during a drag') : undefined;
        dragStopped();
      }

      registry.droppable.unregister(entry);
    };
  }, [callbacks, descriptor, dragStopped, entry, marshal, registry.droppable]);
  useIsomorphicLayoutEffect(function () {
    if (!whileDraggingRef.current) {
      return;
    }

    marshal.updateDroppableIsEnabled(publishedDescriptorRef.current.id, !args.isDropDisabled);
  }, [args.isDropDisabled, marshal]);
  useIsomorphicLayoutEffect(function () {
    if (!whileDraggingRef.current) {
      return;
    }

    marshal.updateDroppableIsCombineEnabled(publishedDescriptorRef.current.id, args.isCombineEnabled);
  }, [args.isCombineEnabled, marshal]);
}

function noop$2() {}

var empty = {
  width: 0,
  height: 0,
  margin: noSpacing
};

var getSize = function getSize(_ref) {
  var isAnimatingOpenOnMount = _ref.isAnimatingOpenOnMount,
      placeholder = _ref.placeholder,
      animate = _ref.animate;

  if (isAnimatingOpenOnMount) {
    return empty;
  }

  if (animate === 'close') {
    return empty;
  }

  return {
    height: placeholder.client.borderBox.height,
    width: placeholder.client.borderBox.width,
    margin: placeholder.client.margin
  };
};

var getStyle = function getStyle(_ref2) {
  var isAnimatingOpenOnMount = _ref2.isAnimatingOpenOnMount,
      placeholder = _ref2.placeholder,
      animate = _ref2.animate;
  var size = getSize({
    isAnimatingOpenOnMount: isAnimatingOpenOnMount,
    placeholder: placeholder,
    animate: animate
  });
  return {
    display: placeholder.display,
    boxSizing: 'border-box',
    width: size.width,
    height: size.height,
    marginTop: size.margin.top,
    marginRight: size.margin.right,
    marginBottom: size.margin.bottom,
    marginLeft: size.margin.left,
    flexShrink: '0',
    flexGrow: '0',
    pointerEvents: 'none',
    transition: animate !== 'none' ? transitions.placeholder : null
  };
};

function Placeholder(props) {
  var animateOpenTimerRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);
  var tryClearAnimateOpenTimer = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    if (!animateOpenTimerRef.current) {
      return;
    }

    clearTimeout(animateOpenTimerRef.current);
    animateOpenTimerRef.current = null;
  }, []);
  var animate = props.animate,
      onTransitionEnd = props.onTransitionEnd,
      onClose = props.onClose,
      contextId = props.contextId;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(props.animate === 'open'),
      isAnimatingOpenOnMount = _useState[0],
      setIsAnimatingOpenOnMount = _useState[1];

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (!isAnimatingOpenOnMount) {
      return noop$2;
    }

    if (animate !== 'open') {
      tryClearAnimateOpenTimer();
      setIsAnimatingOpenOnMount(false);
      return noop$2;
    }

    if (animateOpenTimerRef.current) {
      return noop$2;
    }

    animateOpenTimerRef.current = setTimeout(function () {
      animateOpenTimerRef.current = null;
      setIsAnimatingOpenOnMount(false);
    });
    return tryClearAnimateOpenTimer;
  }, [animate, isAnimatingOpenOnMount, tryClearAnimateOpenTimer]);
  var onSizeChangeEnd = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function (event) {
    if (event.propertyName !== 'height') {
      return;
    }

    onTransitionEnd();

    if (animate === 'close') {
      onClose();
    }
  }, [animate, onClose, onTransitionEnd]);
  var style = getStyle({
    isAnimatingOpenOnMount: isAnimatingOpenOnMount,
    animate: props.animate,
    placeholder: props.placeholder
  });
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(props.placeholder.tagName, {
    style: style,
    'data-rbd-placeholder-context-id': contextId,
    onTransitionEnd: onSizeChangeEnd,
    ref: props.innerRef
  });
}

var Placeholder$1 = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(Placeholder);

var DroppableContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext(null);

function checkIsValidInnerRef(el) {
  !(el && isHtmlElement(el)) ?  true ? invariant(false, "\n    provided.innerRef has not been provided with a HTMLElement.\n\n    You can find a guide on using the innerRef callback functions at:\n    https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/using-inner-ref.md\n  ") : undefined : void 0;
}

function isBoolean(value) {
  return typeof value === 'boolean';
}

function runChecks(args, checks) {
  checks.forEach(function (check) {
    return check(args);
  });
}

var shared = [function required(_ref) {
  var props = _ref.props;
  !props.droppableId ?  true ? invariant(false, 'A Droppable requires a droppableId prop') : undefined : void 0;
  !(typeof props.droppableId === 'string') ?  true ? invariant(false, "A Droppable requires a [string] droppableId. Provided: [" + typeof props.droppableId + "]") : undefined : void 0;
}, function _boolean(_ref2) {
  var props = _ref2.props;
  !isBoolean(props.isDropDisabled) ?  true ? invariant(false, 'isDropDisabled must be a boolean') : undefined : void 0;
  !isBoolean(props.isCombineEnabled) ?  true ? invariant(false, 'isCombineEnabled must be a boolean') : undefined : void 0;
  !isBoolean(props.ignoreContainerClipping) ?  true ? invariant(false, 'ignoreContainerClipping must be a boolean') : undefined : void 0;
}, function ref(_ref3) {
  var getDroppableRef = _ref3.getDroppableRef;
  checkIsValidInnerRef(getDroppableRef());
}];
var standard = [function placeholder(_ref4) {
  var props = _ref4.props,
      getPlaceholderRef = _ref4.getPlaceholderRef;

  if (!props.placeholder) {
    return;
  }

  var ref = getPlaceholderRef();

  if (ref) {
    return;
  }

   true ? warning("\n      Droppable setup issue [droppableId: \"" + props.droppableId + "\"]:\n      DroppableProvided > placeholder could not be found.\n\n      Please be sure to add the {provided.placeholder} React Node as a child of your Droppable.\n      More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/droppable.md\n    ") : undefined;
}];
var virtual = [function hasClone(_ref5) {
  var props = _ref5.props;
  !props.renderClone ?  true ? invariant(false, 'Must provide a clone render function (renderClone) for virtual lists') : undefined : void 0;
}, function hasNoPlaceholder(_ref6) {
  var getPlaceholderRef = _ref6.getPlaceholderRef;
  !!getPlaceholderRef() ?  true ? invariant(false, 'Expected virtual list to not have a placeholder') : undefined : void 0;
}];
function useValidation(args) {
  useDevSetupWarning(function () {
    runChecks(args, shared);

    if (args.props.mode === 'standard') {
      runChecks(args, standard);
    }

    if (args.props.mode === 'virtual') {
      runChecks(args, virtual);
    }
  });
}

var AnimateInOut = function (_React$PureComponent) {
  Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__["default"])(AnimateInOut, _React$PureComponent);

  function AnimateInOut() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;
    _this.state = {
      isVisible: Boolean(_this.props.on),
      data: _this.props.on,
      animate: _this.props.shouldAnimate && _this.props.on ? 'open' : 'none'
    };

    _this.onClose = function () {
      if (_this.state.animate !== 'close') {
        return;
      }

      _this.setState({
        isVisible: false
      });
    };

    return _this;
  }

  AnimateInOut.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {
    if (!props.shouldAnimate) {
      return {
        isVisible: Boolean(props.on),
        data: props.on,
        animate: 'none'
      };
    }

    if (props.on) {
      return {
        isVisible: true,
        data: props.on,
        animate: 'open'
      };
    }

    if (state.isVisible) {
      return {
        isVisible: true,
        data: state.data,
        animate: 'close'
      };
    }

    return {
      isVisible: false,
      animate: 'close',
      data: null
    };
  };

  var _proto = AnimateInOut.prototype;

  _proto.render = function render() {
    if (!this.state.isVisible) {
      return null;
    }

    var provided = {
      onClose: this.onClose,
      data: this.state.data,
      animate: this.state.animate
    };
    return this.props.children(provided);
  };

  return AnimateInOut;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);

var zIndexOptions = {
  dragging: 5000,
  dropAnimating: 4500
};

var getDraggingTransition = function getDraggingTransition(shouldAnimateDragMovement, dropping) {
  if (dropping) {
    return transitions.drop(dropping.duration);
  }

  if (shouldAnimateDragMovement) {
    return transitions.snap;
  }

  return transitions.fluid;
};

var getDraggingOpacity = function getDraggingOpacity(isCombining, isDropAnimating) {
  if (!isCombining) {
    return null;
  }

  return isDropAnimating ? combine.opacity.drop : combine.opacity.combining;
};

var getShouldDraggingAnimate = function getShouldDraggingAnimate(dragging) {
  if (dragging.forceShouldAnimate != null) {
    return dragging.forceShouldAnimate;
  }

  return dragging.mode === 'SNAP';
};

function getDraggingStyle(dragging) {
  var dimension = dragging.dimension;
  var box = dimension.client;
  var offset = dragging.offset,
      combineWith = dragging.combineWith,
      dropping = dragging.dropping;
  var isCombining = Boolean(combineWith);
  var shouldAnimate = getShouldDraggingAnimate(dragging);
  var isDropAnimating = Boolean(dropping);
  var transform = isDropAnimating ? transforms.drop(offset, isCombining) : transforms.moveTo(offset);
  var style = {
    position: 'fixed',
    top: box.marginBox.top,
    left: box.marginBox.left,
    boxSizing: 'border-box',
    width: box.borderBox.width,
    height: box.borderBox.height,
    transition: getDraggingTransition(shouldAnimate, dropping),
    transform: transform,
    opacity: getDraggingOpacity(isCombining, isDropAnimating),
    zIndex: isDropAnimating ? zIndexOptions.dropAnimating : zIndexOptions.dragging,
    pointerEvents: 'none'
  };
  return style;
}

function getSecondaryStyle(secondary) {
  return {
    transform: transforms.moveTo(secondary.offset),
    transition: secondary.shouldAnimateDisplacement ? null : 'none'
  };
}

function getStyle$1(mapped) {
  return mapped.type === 'DRAGGING' ? getDraggingStyle(mapped) : getSecondaryStyle(mapped);
}

function getDimension$1(descriptor, el, windowScroll) {
  if (windowScroll === void 0) {
    windowScroll = origin;
  }

  var computedStyles = window.getComputedStyle(el);
  var borderBox = el.getBoundingClientRect();
  var client = Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["calculateBox"])(borderBox, computedStyles);
  var page = Object(css_box_model__WEBPACK_IMPORTED_MODULE_6__["withScroll"])(client, windowScroll);
  var placeholder = {
    client: client,
    tagName: el.tagName.toLowerCase(),
    display: computedStyles.display
  };
  var displaceBy = {
    x: client.marginBox.width,
    y: client.marginBox.height
  };
  var dimension = {
    descriptor: descriptor,
    placeholder: placeholder,
    displaceBy: displaceBy,
    client: client,
    page: page
  };
  return dimension;
}

function useDraggablePublisher(args) {
  var uniqueId = useUniqueId('draggable');
  var descriptor = args.descriptor,
      registry = args.registry,
      getDraggableRef = args.getDraggableRef,
      canDragInteractiveElements = args.canDragInteractiveElements,
      shouldRespectForcePress = args.shouldRespectForcePress,
      isEnabled = args.isEnabled;
  var options = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return {
      canDragInteractiveElements: canDragInteractiveElements,
      shouldRespectForcePress: shouldRespectForcePress,
      isEnabled: isEnabled
    };
  }, [canDragInteractiveElements, isEnabled, shouldRespectForcePress]);
  var getDimension = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function (windowScroll) {
    var el = getDraggableRef();
    !el ?  true ? invariant(false, 'Cannot get dimension when no ref is set') : undefined : void 0;
    return getDimension$1(descriptor, el, windowScroll);
  }, [descriptor, getDraggableRef]);
  var entry = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return {
      uniqueId: uniqueId,
      descriptor: descriptor,
      options: options,
      getDimension: getDimension
    };
  }, [descriptor, getDimension, options, uniqueId]);
  var publishedRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(entry);
  var isFirstPublishRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(true);
  useIsomorphicLayoutEffect(function () {
    registry.draggable.register(publishedRef.current);
    return function () {
      return registry.draggable.unregister(publishedRef.current);
    };
  }, [registry.draggable]);
  useIsomorphicLayoutEffect(function () {
    if (isFirstPublishRef.current) {
      isFirstPublishRef.current = false;
      return;
    }

    var last = publishedRef.current;
    publishedRef.current = entry;
    registry.draggable.update(entry, last);
  }, [entry, registry.draggable]);
}

function useValidation$1(props, contextId, getRef) {
  useDevSetupWarning(function () {
    function prefix(id) {
      return "Draggable[id: " + id + "]: ";
    }

    var id = props.draggableId;
    !id ?  true ? invariant(false, 'Draggable requires a draggableId') : undefined : void 0;
    !(typeof id === 'string') ?  true ? invariant(false, "Draggable requires a [string] draggableId.\n      Provided: [type: " + typeof id + "] (value: " + id + ")") : undefined : void 0;
    !isInteger(props.index) ?  true ? invariant(false, prefix(id) + " requires an integer index prop") : undefined : void 0;

    if (props.mapped.type === 'DRAGGING') {
      return;
    }

    checkIsValidInnerRef(getRef());

    if (props.isEnabled) {
      !findDragHandle(contextId, id) ?  true ? invariant(false, prefix(id) + " Unable to find drag handle") : undefined : void 0;
    }
  });
}
function useClonePropValidation(isClone) {
  useDev(function () {
    var initialRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(isClone);
    useDevSetupWarning(function () {
      !(isClone === initialRef.current) ?  true ? invariant(false, 'Draggable isClone prop value changed during component life') : undefined : void 0;
    }, [isClone]);
  });
}

function preventHtml5Dnd(event) {
  event.preventDefault();
}

function Draggable(props) {
  var ref = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);
  var setRef = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function (el) {
    ref.current = el;
  }, []);
  var getRef = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    return ref.current;
  }, []);

  var _useRequiredContext = useRequiredContext(AppContext),
      contextId = _useRequiredContext.contextId,
      dragHandleUsageInstructionsId = _useRequiredContext.dragHandleUsageInstructionsId,
      registry = _useRequiredContext.registry;

  var _useRequiredContext2 = useRequiredContext(DroppableContext),
      type = _useRequiredContext2.type,
      droppableId = _useRequiredContext2.droppableId;

  var descriptor = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return {
      id: props.draggableId,
      index: props.index,
      type: type,
      droppableId: droppableId
    };
  }, [props.draggableId, props.index, type, droppableId]);
  var children = props.children,
      draggableId = props.draggableId,
      isEnabled = props.isEnabled,
      shouldRespectForcePress = props.shouldRespectForcePress,
      canDragInteractiveElements = props.canDragInteractiveElements,
      isClone = props.isClone,
      mapped = props.mapped,
      dropAnimationFinishedAction = props.dropAnimationFinished;
  useValidation$1(props, contextId, getRef);
  useClonePropValidation(isClone);

  if (!isClone) {
    var forPublisher = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
      return {
        descriptor: descriptor,
        registry: registry,
        getDraggableRef: getRef,
        canDragInteractiveElements: canDragInteractiveElements,
        shouldRespectForcePress: shouldRespectForcePress,
        isEnabled: isEnabled
      };
    }, [descriptor, registry, getRef, canDragInteractiveElements, shouldRespectForcePress, isEnabled]);
    useDraggablePublisher(forPublisher);
  }

  var dragHandleProps = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return isEnabled ? {
      tabIndex: 0,
      role: 'button',
      'aria-describedby': dragHandleUsageInstructionsId,
      'data-rbd-drag-handle-draggable-id': draggableId,
      'data-rbd-drag-handle-context-id': contextId,
      draggable: false,
      onDragStart: preventHtml5Dnd
    } : null;
  }, [contextId, dragHandleUsageInstructionsId, draggableId, isEnabled]);
  var onMoveEnd = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function (event) {
    if (mapped.type !== 'DRAGGING') {
      return;
    }

    if (!mapped.dropping) {
      return;
    }

    if (event.propertyName !== 'transform') {
      return;
    }

    dropAnimationFinishedAction();
  }, [dropAnimationFinishedAction, mapped]);
  var provided = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    var style = getStyle$1(mapped);
    var onTransitionEnd = mapped.type === 'DRAGGING' && mapped.dropping ? onMoveEnd : null;
    var result = {
      innerRef: setRef,
      draggableProps: {
        'data-rbd-draggable-context-id': contextId,
        'data-rbd-draggable-id': draggableId,
        style: style,
        onTransitionEnd: onTransitionEnd
      },
      dragHandleProps: dragHandleProps
    };
    return result;
  }, [contextId, dragHandleProps, draggableId, mapped, onMoveEnd, setRef]);
  var rubric = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return {
      draggableId: descriptor.id,
      type: descriptor.type,
      source: {
        index: descriptor.index,
        droppableId: descriptor.droppableId
      }
    };
  }, [descriptor.droppableId, descriptor.id, descriptor.index, descriptor.type]);
  return children(provided, mapped.snapshot, rubric);
}

var isStrictEqual = (function (a, b) {
  return a === b;
});

var whatIsDraggedOverFromResult = (function (result) {
  var combine = result.combine,
      destination = result.destination;

  if (destination) {
    return destination.droppableId;
  }

  if (combine) {
    return combine.droppableId;
  }

  return null;
});

var getCombineWithFromResult = function getCombineWithFromResult(result) {
  return result.combine ? result.combine.draggableId : null;
};

var getCombineWithFromImpact = function getCombineWithFromImpact(impact) {
  return impact.at && impact.at.type === 'COMBINE' ? impact.at.combine.draggableId : null;
};

function getDraggableSelector() {
  var memoizedOffset = Object(memoize_one__WEBPACK_IMPORTED_MODULE_7__["default"])(function (x, y) {
    return {
      x: x,
      y: y
    };
  });
  var getMemoizedSnapshot = Object(memoize_one__WEBPACK_IMPORTED_MODULE_7__["default"])(function (mode, isClone, draggingOver, combineWith, dropping) {
    return {
      isDragging: true,
      isClone: isClone,
      isDropAnimating: Boolean(dropping),
      dropAnimation: dropping,
      mode: mode,
      draggingOver: draggingOver,
      combineWith: combineWith,
      combineTargetFor: null
    };
  });
  var getMemoizedProps = Object(memoize_one__WEBPACK_IMPORTED_MODULE_7__["default"])(function (offset, mode, dimension, isClone, draggingOver, combineWith, forceShouldAnimate) {
    return {
      mapped: {
        type: 'DRAGGING',
        dropping: null,
        draggingOver: draggingOver,
        combineWith: combineWith,
        mode: mode,
        offset: offset,
        dimension: dimension,
        forceShouldAnimate: forceShouldAnimate,
        snapshot: getMemoizedSnapshot(mode, isClone, draggingOver, combineWith, null)
      }
    };
  });

  var selector = function selector(state, ownProps) {
    if (state.isDragging) {
      if (state.critical.draggable.id !== ownProps.draggableId) {
        return null;
      }

      var offset = state.current.client.offset;
      var dimension = state.dimensions.draggables[ownProps.draggableId];
      var draggingOver = whatIsDraggedOver(state.impact);
      var combineWith = getCombineWithFromImpact(state.impact);
      var forceShouldAnimate = state.forceShouldAnimate;
      return getMemoizedProps(memoizedOffset(offset.x, offset.y), state.movementMode, dimension, ownProps.isClone, draggingOver, combineWith, forceShouldAnimate);
    }

    if (state.phase === 'DROP_ANIMATING') {
      var completed = state.completed;

      if (completed.result.draggableId !== ownProps.draggableId) {
        return null;
      }

      var isClone = ownProps.isClone;
      var _dimension = state.dimensions.draggables[ownProps.draggableId];
      var result = completed.result;
      var mode = result.mode;

      var _draggingOver = whatIsDraggedOverFromResult(result);

      var _combineWith = getCombineWithFromResult(result);

      var duration = state.dropDuration;
      var dropping = {
        duration: duration,
        curve: curves.drop,
        moveTo: state.newHomeClientOffset,
        opacity: _combineWith ? combine.opacity.drop : null,
        scale: _combineWith ? combine.scale.drop : null
      };
      return {
        mapped: {
          type: 'DRAGGING',
          offset: state.newHomeClientOffset,
          dimension: _dimension,
          dropping: dropping,
          draggingOver: _draggingOver,
          combineWith: _combineWith,
          mode: mode,
          forceShouldAnimate: null,
          snapshot: getMemoizedSnapshot(mode, isClone, _draggingOver, _combineWith, dropping)
        }
      };
    }

    return null;
  };

  return selector;
}

function getSecondarySnapshot(combineTargetFor) {
  return {
    isDragging: false,
    isDropAnimating: false,
    isClone: false,
    dropAnimation: null,
    mode: null,
    draggingOver: null,
    combineTargetFor: combineTargetFor,
    combineWith: null
  };
}

var atRest = {
  mapped: {
    type: 'SECONDARY',
    offset: origin,
    combineTargetFor: null,
    shouldAnimateDisplacement: true,
    snapshot: getSecondarySnapshot(null)
  }
};

function getSecondarySelector() {
  var memoizedOffset = Object(memoize_one__WEBPACK_IMPORTED_MODULE_7__["default"])(function (x, y) {
    return {
      x: x,
      y: y
    };
  });
  var getMemoizedSnapshot = Object(memoize_one__WEBPACK_IMPORTED_MODULE_7__["default"])(getSecondarySnapshot);
  var getMemoizedProps = Object(memoize_one__WEBPACK_IMPORTED_MODULE_7__["default"])(function (offset, combineTargetFor, shouldAnimateDisplacement) {
    if (combineTargetFor === void 0) {
      combineTargetFor = null;
    }

    return {
      mapped: {
        type: 'SECONDARY',
        offset: offset,
        combineTargetFor: combineTargetFor,
        shouldAnimateDisplacement: shouldAnimateDisplacement,
        snapshot: getMemoizedSnapshot(combineTargetFor)
      }
    };
  });

  var getFallback = function getFallback(combineTargetFor) {
    return combineTargetFor ? getMemoizedProps(origin, combineTargetFor, true) : null;
  };

  var getProps = function getProps(ownId, draggingId, impact, afterCritical) {
    var visualDisplacement = impact.displaced.visible[ownId];
    var isAfterCriticalInVirtualList = Boolean(afterCritical.inVirtualList && afterCritical.effected[ownId]);
    var combine = tryGetCombine(impact);
    var combineTargetFor = combine && combine.draggableId === ownId ? draggingId : null;

    if (!visualDisplacement) {
      if (!isAfterCriticalInVirtualList) {
        return getFallback(combineTargetFor);
      }

      if (impact.displaced.invisible[ownId]) {
        return null;
      }

      var change = negate(afterCritical.displacedBy.point);

      var _offset = memoizedOffset(change.x, change.y);

      return getMemoizedProps(_offset, combineTargetFor, true);
    }

    if (isAfterCriticalInVirtualList) {
      return getFallback(combineTargetFor);
    }

    var displaceBy = impact.displacedBy.point;
    var offset = memoizedOffset(displaceBy.x, displaceBy.y);
    return getMemoizedProps(offset, combineTargetFor, visualDisplacement.shouldAnimate);
  };

  var selector = function selector(state, ownProps) {
    if (state.isDragging) {
      if (state.critical.draggable.id === ownProps.draggableId) {
        return null;
      }

      return getProps(ownProps.draggableId, state.critical.draggable.id, state.impact, state.afterCritical);
    }

    if (state.phase === 'DROP_ANIMATING') {
      var completed = state.completed;

      if (completed.result.draggableId === ownProps.draggableId) {
        return null;
      }

      return getProps(ownProps.draggableId, completed.result.draggableId, completed.impact, completed.afterCritical);
    }

    return null;
  };

  return selector;
}

var makeMapStateToProps = function makeMapStateToProps() {
  var draggingSelector = getDraggableSelector();
  var secondarySelector = getSecondarySelector();

  var selector = function selector(state, ownProps) {
    return draggingSelector(state, ownProps) || secondarySelector(state, ownProps) || atRest;
  };

  return selector;
};
var mapDispatchToProps = {
  dropAnimationFinished: dropAnimationFinished
};
var ConnectedDraggable = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["connect"])(makeMapStateToProps, mapDispatchToProps, null, {
  context: StoreContext,
  pure: true,
  areStatePropsEqual: isStrictEqual
})(Draggable);

function PrivateDraggable(props) {
  var droppableContext = useRequiredContext(DroppableContext);
  var isUsingCloneFor = droppableContext.isUsingCloneFor;

  if (isUsingCloneFor === props.draggableId && !props.isClone) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ConnectedDraggable, props);
}
function PublicDraggable(props) {
  var isEnabled = typeof props.isDragDisabled === 'boolean' ? !props.isDragDisabled : true;
  var canDragInteractiveElements = Boolean(props.disableInteractiveElementBlocking);
  var shouldRespectForcePress = Boolean(props.shouldRespectForcePress);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateDraggable, Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, props, {
    isClone: false,
    isEnabled: isEnabled,
    canDragInteractiveElements: canDragInteractiveElements,
    shouldRespectForcePress: shouldRespectForcePress
  }));
}

function Droppable(props) {
  var appContext = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(AppContext);
  !appContext ?  true ? invariant(false, 'Could not find app context') : undefined : void 0;
  var contextId = appContext.contextId,
      isMovementAllowed = appContext.isMovementAllowed;
  var droppableRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);
  var placeholderRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);
  var children = props.children,
      droppableId = props.droppableId,
      type = props.type,
      mode = props.mode,
      direction = props.direction,
      ignoreContainerClipping = props.ignoreContainerClipping,
      isDropDisabled = props.isDropDisabled,
      isCombineEnabled = props.isCombineEnabled,
      snapshot = props.snapshot,
      useClone = props.useClone,
      updateViewportMaxScroll = props.updateViewportMaxScroll,
      getContainerForClone = props.getContainerForClone;
  var getDroppableRef = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    return droppableRef.current;
  }, []);
  var setDroppableRef = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function (value) {
    droppableRef.current = value;
  }, []);
  var getPlaceholderRef = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    return placeholderRef.current;
  }, []);
  var setPlaceholderRef = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function (value) {
    placeholderRef.current = value;
  }, []);
  useValidation({
    props: props,
    getDroppableRef: getDroppableRef,
    getPlaceholderRef: getPlaceholderRef
  });
  var onPlaceholderTransitionEnd = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useCallback"])(function () {
    if (isMovementAllowed()) {
      updateViewportMaxScroll({
        maxScroll: getMaxWindowScroll()
      });
    }
  }, [isMovementAllowed, updateViewportMaxScroll]);
  useDroppablePublisher({
    droppableId: droppableId,
    type: type,
    mode: mode,
    direction: direction,
    isDropDisabled: isDropDisabled,
    isCombineEnabled: isCombineEnabled,
    ignoreContainerClipping: ignoreContainerClipping,
    getDroppableRef: getDroppableRef
  });
  var placeholder = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AnimateInOut, {
    on: props.placeholder,
    shouldAnimate: props.shouldAnimatePlaceholder
  }, function (_ref) {
    var onClose = _ref.onClose,
        data = _ref.data,
        animate = _ref.animate;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Placeholder$1, {
      placeholder: data,
      onClose: onClose,
      innerRef: setPlaceholderRef,
      animate: animate,
      contextId: contextId,
      onTransitionEnd: onPlaceholderTransitionEnd
    });
  });
  var provided = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return {
      innerRef: setDroppableRef,
      placeholder: placeholder,
      droppableProps: {
        'data-rbd-droppable-id': droppableId,
        'data-rbd-droppable-context-id': contextId
      }
    };
  }, [contextId, droppableId, placeholder, setDroppableRef]);
  var isUsingCloneFor = useClone ? useClone.dragging.draggableId : null;
  var droppableContext = Object(use_memo_one__WEBPACK_IMPORTED_MODULE_5__["useMemo"])(function () {
    return {
      droppableId: droppableId,
      type: type,
      isUsingCloneFor: isUsingCloneFor
    };
  }, [droppableId, isUsingCloneFor, type]);

  function getClone() {
    if (!useClone) {
      return null;
    }

    var dragging = useClone.dragging,
        render = useClone.render;
    var node = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateDraggable, {
      draggableId: dragging.draggableId,
      index: dragging.source.index,
      isClone: true,
      isEnabled: true,
      shouldRespectForcePress: false,
      canDragInteractiveElements: true
    }, function (draggableProvided, draggableSnapshot) {
      return render(draggableProvided, draggableSnapshot, dragging);
    });
    return react_dom__WEBPACK_IMPORTED_MODULE_9___default.a.createPortal(node, getContainerForClone());
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DroppableContext.Provider, {
    value: droppableContext
  }, children(provided, snapshot), getClone());
}

var isMatchingType = function isMatchingType(type, critical) {
  return type === critical.droppable.type;
};

var getDraggable = function getDraggable(critical, dimensions) {
  return dimensions.draggables[critical.draggable.id];
};

var makeMapStateToProps$1 = function makeMapStateToProps() {
  var idleWithAnimation = {
    placeholder: null,
    shouldAnimatePlaceholder: true,
    snapshot: {
      isDraggingOver: false,
      draggingOverWith: null,
      draggingFromThisWith: null,
      isUsingPlaceholder: false
    },
    useClone: null
  };

  var idleWithoutAnimation = Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__["default"])({}, idleWithAnimation, {
    shouldAnimatePlaceholder: false
  });

  var getDraggableRubric = Object(memoize_one__WEBPACK_IMPORTED_MODULE_7__["default"])(function (descriptor) {
    return {
      draggableId: descriptor.id,
      type: descriptor.type,
      source: {
        index: descriptor.index,
        droppableId: descriptor.droppableId
      }
    };
  });
  var getMapProps = Object(memoize_one__WEBPACK_IMPORTED_MODULE_7__["default"])(function (id, isEnabled, isDraggingOverForConsumer, isDraggingOverForImpact, dragging, renderClone) {
    var draggableId = dragging.descriptor.id;
    var isHome = dragging.descriptor.droppableId === id;

    if (isHome) {
      var useClone = renderClone ? {
        render: renderClone,
        dragging: getDraggableRubric(dragging.descriptor)
      } : null;
      var _snapshot = {
        isDraggingOver: isDraggingOverForConsumer,
        draggingOverWith: isDraggingOverForConsumer ? draggableId : null,
        draggingFromThisWith: draggableId,
        isUsingPlaceholder: true
      };
      return {
        placeholder: dragging.placeholder,
        shouldAnimatePlaceholder: false,
        snapshot: _snapshot,
        useClone: useClone
      };
    }

    if (!isEnabled) {
      return idleWithoutAnimation;
    }

    if (!isDraggingOverForImpact) {
      return idleWithAnimation;
    }

    var snapshot = {
      isDraggingOver: isDraggingOverForConsumer,
      draggingOverWith: draggableId,
      draggingFromThisWith: null,
      isUsingPlaceholder: true
    };
    return {
      placeholder: dragging.placeholder,
      shouldAnimatePlaceholder: true,
      snapshot: snapshot,
      useClone: null
    };
  });

  var selector = function selector(state, ownProps) {
    var id = ownProps.droppableId;
    var type = ownProps.type;
    var isEnabled = !ownProps.isDropDisabled;
    var renderClone = ownProps.renderClone;

    if (state.isDragging) {
      var critical = state.critical;

      if (!isMatchingType(type, critical)) {
        return idleWithoutAnimation;
      }

      var dragging = getDraggable(critical, state.dimensions);
      var isDraggingOver = whatIsDraggedOver(state.impact) === id;
      return getMapProps(id, isEnabled, isDraggingOver, isDraggingOver, dragging, renderClone);
    }

    if (state.phase === 'DROP_ANIMATING') {
      var completed = state.completed;

      if (!isMatchingType(type, completed.critical)) {
        return idleWithoutAnimation;
      }

      var _dragging = getDraggable(completed.critical, state.dimensions);

      return getMapProps(id, isEnabled, whatIsDraggedOverFromResult(completed.result) === id, whatIsDraggedOver(completed.impact) === id, _dragging, renderClone);
    }

    if (state.phase === 'IDLE' && state.completed && !state.shouldFlush) {
      var _completed = state.completed;

      if (!isMatchingType(type, _completed.critical)) {
        return idleWithoutAnimation;
      }

      var wasOver = whatIsDraggedOver(_completed.impact) === id;
      var wasCombining = Boolean(_completed.impact.at && _completed.impact.at.type === 'COMBINE');
      var isHome = _completed.critical.droppable.id === id;

      if (wasOver) {
        return wasCombining ? idleWithAnimation : idleWithoutAnimation;
      }

      if (isHome) {
        return idleWithAnimation;
      }

      return idleWithoutAnimation;
    }

    return idleWithoutAnimation;
  };

  return selector;
};
var mapDispatchToProps$1 = {
  updateViewportMaxScroll: updateViewportMaxScroll
};

function getBody() {
  !document.body ?  true ? invariant(false, 'document.body is not ready') : undefined : void 0;
  return document.body;
}

var defaultProps = {
  mode: 'standard',
  type: 'DEFAULT',
  direction: 'vertical',
  isDropDisabled: false,
  isCombineEnabled: false,
  ignoreContainerClipping: false,
  renderClone: null,
  getContainerForClone: getBody
};
var ConnectedDroppable = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["connect"])(makeMapStateToProps$1, mapDispatchToProps$1, null, {
  context: StoreContext,
  pure: true,
  areStatePropsEqual: isStrictEqual
})(Droppable);
ConnectedDroppable.defaultProps = defaultProps;




/***/ }),

/***/ "./node_modules/react-draggable/build/cjs/Draggable.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-draggable/build/cjs/Draggable.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "DraggableCore", {
  enumerable: true,
  get: function get() {
    return _DraggableCore.default;
  }
});
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js"));

var _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js"));

var _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ "./node_modules/classnames/index.js"));

var _domFns = __webpack_require__(/*! ./utils/domFns */ "./node_modules/react-draggable/build/cjs/utils/domFns.js");

var _positionFns = __webpack_require__(/*! ./utils/positionFns */ "./node_modules/react-draggable/build/cjs/utils/positionFns.js");

var _shims = __webpack_require__(/*! ./utils/shims */ "./node_modules/react-draggable/build/cjs/utils/shims.js");

var _DraggableCore = _interopRequireDefault(__webpack_require__(/*! ./DraggableCore */ "./node_modules/react-draggable/build/cjs/DraggableCore.js"));

var _log = _interopRequireDefault(__webpack_require__(/*! ./utils/log */ "./node_modules/react-draggable/build/cjs/utils/log.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

//
// Define <Draggable>
//
var Draggable = /*#__PURE__*/function (_React$Component) {
  _inherits(Draggable, _React$Component);

  var _super = _createSuper(Draggable);

  _createClass(Draggable, null, [{
    key: "getDerivedStateFromProps",
    // React 16.3+
    // Arity (props, state)
    value: function getDerivedStateFromProps(_ref, _ref2) {
      var position = _ref.position;
      var prevPropsPosition = _ref2.prevPropsPosition;

      // Set x/y if a new position is provided in props that is different than the previous.
      if (position && (!prevPropsPosition || position.x !== prevPropsPosition.x || position.y !== prevPropsPosition.y)) {
        (0, _log.default)('Draggable: getDerivedStateFromProps %j', {
          position: position,
          prevPropsPosition: prevPropsPosition
        });
        return {
          x: position.x,
          y: position.y,
          prevPropsPosition: _objectSpread({}, position)
        };
      }

      return null;
    }
  }]);

  function Draggable(props
  /*: DraggableProps*/
  ) {
    var _this;

    _classCallCheck(this, Draggable);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onDragStart", function (e, coreData) {
      (0, _log.default)('Draggable: onDragStart: %j', coreData); // Short-circuit if user's callback killed it.

      var shouldStart = _this.props.onStart(e, (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData)); // Kills start event on core as well, so move handlers are never bound.


      if (shouldStart === false) return false;

      _this.setState({
        dragging: true,
        dragged: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onDrag", function (e, coreData) {
      if (!_this.state.dragging) return false;
      (0, _log.default)('Draggable: onDrag: %j', coreData);
      var uiData = (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData);
      var newState
      /*: $Shape<DraggableState>*/
      = {
        x: uiData.x,
        y: uiData.y
      }; // Keep within bounds.

      if (_this.props.bounds) {
        // Save original x and y.
        var x = newState.x,
            y = newState.y; // Add slack to the values used to calculate bound position. This will ensure that if
        // we start removing slack, the element won't react to it right away until it's been
        // completely removed.

        newState.x += _this.state.slackX;
        newState.y += _this.state.slackY; // Get bound position. This will ceil/floor the x and y within the boundaries.

        var _getBoundPosition = (0, _positionFns.getBoundPosition)(_assertThisInitialized(_this), newState.x, newState.y),
            _getBoundPosition2 = _slicedToArray(_getBoundPosition, 2),
            newStateX = _getBoundPosition2[0],
            newStateY = _getBoundPosition2[1];

        newState.x = newStateX;
        newState.y = newStateY; // Recalculate slack by noting how much was shaved by the boundPosition handler.

        newState.slackX = _this.state.slackX + (x - newState.x);
        newState.slackY = _this.state.slackY + (y - newState.y); // Update the event we fire to reflect what really happened after bounds took effect.

        uiData.x = newState.x;
        uiData.y = newState.y;
        uiData.deltaX = newState.x - _this.state.x;
        uiData.deltaY = newState.y - _this.state.y;
      } // Short-circuit if user's callback killed it.


      var shouldUpdate = _this.props.onDrag(e, uiData);

      if (shouldUpdate === false) return false;

      _this.setState(newState);
    });

    _defineProperty(_assertThisInitialized(_this), "onDragStop", function (e, coreData) {
      if (!_this.state.dragging) return false; // Short-circuit if user's callback killed it.

      var shouldContinue = _this.props.onStop(e, (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData));

      if (shouldContinue === false) return false;
      (0, _log.default)('Draggable: onDragStop: %j', coreData);
      var newState
      /*: $Shape<DraggableState>*/
      = {
        dragging: false,
        slackX: 0,
        slackY: 0
      }; // If this is a controlled component, the result of this operation will be to
      // revert back to the old position. We expect a handler on `onDragStop`, at the least.

      var controlled = Boolean(_this.props.position);

      if (controlled) {
        var _this$props$position = _this.props.position,
            x = _this$props$position.x,
            y = _this$props$position.y;
        newState.x = x;
        newState.y = y;
      }

      _this.setState(newState);
    });

    _this.state = {
      // Whether or not we are currently dragging.
      dragging: false,
      // Whether or not we have been dragged before.
      dragged: false,
      // Current transform x and y.
      x: props.position ? props.position.x : props.defaultPosition.x,
      y: props.position ? props.position.y : props.defaultPosition.y,
      prevPropsPosition: _objectSpread({}, props.position),
      // Used for compensating for out-of-bounds drags
      slackX: 0,
      slackY: 0,
      // Can only determine if SVG after mounting
      isElementSVG: false
    };

    if (props.position && !(props.onDrag || props.onStop)) {
      // eslint-disable-next-line no-console
      console.warn('A `position` was applied to this <Draggable>, without drag handlers. This will make this ' + 'component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the ' + '`position` of this element.');
    }

    return _this;
  }

  _createClass(Draggable, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      // Check to see if the element passed is an instanceof SVGElement
      if (typeof window.SVGElement !== 'undefined' && this.findDOMNode() instanceof window.SVGElement) {
        this.setState({
          isElementSVG: true
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.setState({
        dragging: false
      }); // prevents invariant if unmounted while dragging
    } // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find
    // the underlying DOM node ourselves. See the README for more information.

  }, {
    key: "findDOMNode",
    value: function findDOMNode()
    /*: ?HTMLElement*/
    {
      return this.props.nodeRef ? this.props.nodeRef.current : _reactDom.default.findDOMNode(this);
    }
  }, {
    key: "render",
    value: function render()
    /*: ReactElement<any>*/
    {
      var _classNames;

      var _this$props = this.props,
          axis = _this$props.axis,
          bounds = _this$props.bounds,
          children = _this$props.children,
          defaultPosition = _this$props.defaultPosition,
          defaultClassName = _this$props.defaultClassName,
          defaultClassNameDragging = _this$props.defaultClassNameDragging,
          defaultClassNameDragged = _this$props.defaultClassNameDragged,
          position = _this$props.position,
          positionOffset = _this$props.positionOffset,
          scale = _this$props.scale,
          draggableCoreProps = _objectWithoutProperties(_this$props, ["axis", "bounds", "children", "defaultPosition", "defaultClassName", "defaultClassNameDragging", "defaultClassNameDragged", "position", "positionOffset", "scale"]);

      var style = {};
      var svgTransform = null; // If this is controlled, we don't want to move it - unless it's dragging.

      var controlled = Boolean(position);
      var draggable = !controlled || this.state.dragging;
      var validPosition = position || defaultPosition;
      var transformOpts = {
        // Set left if horizontal drag is enabled
        x: (0, _positionFns.canDragX)(this) && draggable ? this.state.x : validPosition.x,
        // Set top if vertical drag is enabled
        y: (0, _positionFns.canDragY)(this) && draggable ? this.state.y : validPosition.y
      }; // If this element was SVG, we use the `transform` attribute.

      if (this.state.isElementSVG) {
        svgTransform = (0, _domFns.createSVGTransform)(transformOpts, positionOffset);
      } else {
        // Add a CSS transform to move the element around. This allows us to move the element around
        // without worrying about whether or not it is relatively or absolutely positioned.
        // If the item you are dragging already has a transform set, wrap it in a <span> so <Draggable>
        // has a clean slate.
        style = (0, _domFns.createCSSTransform)(transformOpts, positionOffset);
      } // Mark with class while dragging


      var className = (0, _classnames.default)(children.props.className || '', defaultClassName, (_classNames = {}, _defineProperty(_classNames, defaultClassNameDragging, this.state.dragging), _defineProperty(_classNames, defaultClassNameDragged, this.state.dragged), _classNames)); // Reuse the child provided
      // This makes it flexible to use whatever element is wanted (div, ul, etc)

      return /*#__PURE__*/React.createElement(_DraggableCore.default, _extends({}, draggableCoreProps, {
        onStart: this.onDragStart,
        onDrag: this.onDrag,
        onStop: this.onDragStop
      }), React.cloneElement(React.Children.only(children), {
        className: className,
        style: _objectSpread(_objectSpread({}, children.props.style), style),
        transform: svgTransform
      }));
    }
  }]);

  return Draggable;
}(React.Component);

exports.default = Draggable;

_defineProperty(Draggable, "displayName", 'Draggable');

_defineProperty(Draggable, "propTypes", _objectSpread(_objectSpread({}, _DraggableCore.default.propTypes), {}, {
  /**
   * `axis` determines which axis the draggable can move.
   *
   *  Note that all callbacks will still return data as normal. This only
   *  controls flushing to the DOM.
   *
   * 'both' allows movement horizontally and vertically.
   * 'x' limits movement to horizontal axis.
   * 'y' limits movement to vertical axis.
   * 'none' limits all movement.
   *
   * Defaults to 'both'.
   */
  axis: _propTypes.default.oneOf(['both', 'x', 'y', 'none']),

  /**
   * `bounds` determines the range of movement available to the element.
   * Available values are:
   *
   * 'parent' restricts movement within the Draggable's parent node.
   *
   * Alternatively, pass an object with the following properties, all of which are optional:
   *
   * {left: LEFT_BOUND, right: RIGHT_BOUND, bottom: BOTTOM_BOUND, top: TOP_BOUND}
   *
   * All values are in px.
   *
   * Example:
   *
   * ```jsx
   *   let App = React.createClass({
   *       render: function () {
   *         return (
   *            <Draggable bounds={{right: 300, bottom: 300}}>
   *              <div>Content</div>
   *           </Draggable>
   *         );
   *       }
   *   });
   * ```
   */
  bounds: _propTypes.default.oneOfType([_propTypes.default.shape({
    left: _propTypes.default.number,
    right: _propTypes.default.number,
    top: _propTypes.default.number,
    bottom: _propTypes.default.number
  }), _propTypes.default.string, _propTypes.default.oneOf([false])]),
  defaultClassName: _propTypes.default.string,
  defaultClassNameDragging: _propTypes.default.string,
  defaultClassNameDragged: _propTypes.default.string,

  /**
   * `defaultPosition` specifies the x and y that the dragged item should start at
   *
   * Example:
   *
   * ```jsx
   *      let App = React.createClass({
   *          render: function () {
   *              return (
   *                  <Draggable defaultPosition={{x: 25, y: 25}}>
   *                      <div>I start with transformX: 25px and transformY: 25px;</div>
   *                  </Draggable>
   *              );
   *          }
   *      });
   * ```
   */
  defaultPosition: _propTypes.default.shape({
    x: _propTypes.default.number,
    y: _propTypes.default.number
  }),
  positionOffset: _propTypes.default.shape({
    x: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),
    y: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])
  }),

  /**
   * `position`, if present, defines the current position of the element.
   *
   *  This is similar to how form elements in React work - if no `position` is supplied, the component
   *  is uncontrolled.
   *
   * Example:
   *
   * ```jsx
   *      let App = React.createClass({
   *          render: function () {
   *              return (
   *                  <Draggable position={{x: 25, y: 25}}>
   *                      <div>I start with transformX: 25px and transformY: 25px;</div>
   *                  </Draggable>
   *              );
   *          }
   *      });
   * ```
   */
  position: _propTypes.default.shape({
    x: _propTypes.default.number,
    y: _propTypes.default.number
  }),

  /**
   * These properties should be defined on the child, not here.
   */
  className: _shims.dontSetMe,
  style: _shims.dontSetMe,
  transform: _shims.dontSetMe
}));

_defineProperty(Draggable, "defaultProps", _objectSpread(_objectSpread({}, _DraggableCore.default.defaultProps), {}, {
  axis: 'both',
  bounds: false,
  defaultClassName: 'react-draggable',
  defaultClassNameDragging: 'react-draggable-dragging',
  defaultClassNameDragged: 'react-draggable-dragged',
  defaultPosition: {
    x: 0,
    y: 0
  },
  position: null,
  scale: 1
}));

/***/ }),

/***/ "./node_modules/react-draggable/build/cjs/DraggableCore.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-draggable/build/cjs/DraggableCore.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js"));

var _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js"));

var _domFns = __webpack_require__(/*! ./utils/domFns */ "./node_modules/react-draggable/build/cjs/utils/domFns.js");

var _positionFns = __webpack_require__(/*! ./utils/positionFns */ "./node_modules/react-draggable/build/cjs/utils/positionFns.js");

var _shims = __webpack_require__(/*! ./utils/shims */ "./node_modules/react-draggable/build/cjs/utils/shims.js");

var _log = _interopRequireDefault(__webpack_require__(/*! ./utils/log */ "./node_modules/react-draggable/build/cjs/utils/log.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// Simple abstraction for dragging events names.
var eventsFor = {
  touch: {
    start: 'touchstart',
    move: 'touchmove',
    stop: 'touchend'
  },
  mouse: {
    start: 'mousedown',
    move: 'mousemove',
    stop: 'mouseup'
  }
}; // Default to mouse events.

var dragEventFor = eventsFor.mouse;
/*:: type DraggableCoreState = {
  dragging: boolean,
  lastX: number,
  lastY: number,
  touchIdentifier: ?number
};*/

/*:: export type DraggableData = {
  node: HTMLElement,
  x: number, y: number,
  deltaX: number, deltaY: number,
  lastX: number, lastY: number,
};*/

/*:: export type DraggableEventHandler = (e: MouseEvent, data: DraggableData) => void;*/

/*:: export type ControlPosition = {x: number, y: number};*/

/*:: export type PositionOffsetControlPosition = {x: number|string, y: number|string};*/

/*:: export type DraggableCoreProps = {
  allowAnyClick: boolean,
  cancel: string,
  children: ReactElement<any>,
  disabled: boolean,
  enableUserSelectHack: boolean,
  offsetParent: HTMLElement,
  grid: [number, number],
  handle: string,
  nodeRef?: ?React.ElementRef<any>,
  onStart: DraggableEventHandler,
  onDrag: DraggableEventHandler,
  onStop: DraggableEventHandler,
  onMouseDown: (e: MouseEvent) => void,
  scale: number,
};*/

//
// Define <DraggableCore>.
//
// <DraggableCore> is for advanced usage of <Draggable>. It maintains minimal internal state so it can
// work well with libraries that require more control over the element.
//
var DraggableCore = /*#__PURE__*/function (_React$Component) {
  _inherits(DraggableCore, _React$Component);

  var _super = _createSuper(DraggableCore);

  function DraggableCore() {
    var _this;

    _classCallCheck(this, DraggableCore);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      dragging: false,
      // Used while dragging to determine deltas.
      lastX: NaN,
      lastY: NaN,
      touchIdentifier: null
    });

    _defineProperty(_assertThisInitialized(_this), "mounted", false);

    _defineProperty(_assertThisInitialized(_this), "handleDragStart", function (e) {
      // Make it possible to attach event handlers on top of this one.
      _this.props.onMouseDown(e); // Only accept left-clicks.


      if (!_this.props.allowAnyClick && typeof e.button === 'number' && e.button !== 0) return false; // Get nodes. Be sure to grab relative document (could be iframed)

      var thisNode = _this.findDOMNode();

      if (!thisNode || !thisNode.ownerDocument || !thisNode.ownerDocument.body) {
        throw new Error('<DraggableCore> not mounted on DragStart!');
      }

      var ownerDocument = thisNode.ownerDocument; // Short circuit if handle or cancel prop was provided and selector doesn't match.

      if (_this.props.disabled || !(e.target instanceof ownerDocument.defaultView.Node) || _this.props.handle && !(0, _domFns.matchesSelectorAndParentsTo)(e.target, _this.props.handle, thisNode) || _this.props.cancel && (0, _domFns.matchesSelectorAndParentsTo)(e.target, _this.props.cancel, thisNode)) {
        return;
      } // Prevent scrolling on mobile devices, like ipad/iphone.
      // Important that this is after handle/cancel.


      if (e.type === 'touchstart') e.preventDefault(); // Set touch identifier in component state if this is a touch event. This allows us to
      // distinguish between individual touches on multitouch screens by identifying which
      // touchpoint was set to this element.

      var touchIdentifier = (0, _domFns.getTouchIdentifier)(e);

      _this.setState({
        touchIdentifier: touchIdentifier
      }); // Get the current drag point from the event. This is used as the offset.


      var position = (0, _positionFns.getControlPosition)(e, touchIdentifier, _assertThisInitialized(_this));
      if (position == null) return; // not possible but satisfies flow

      var x = position.x,
          y = position.y; // Create an event object with all the data parents need to make a decision here.

      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y);
      (0, _log.default)('DraggableCore: handleDragStart: %j', coreEvent); // Call event handler. If it returns explicit false, cancel.

      (0, _log.default)('calling', _this.props.onStart);

      var shouldUpdate = _this.props.onStart(e, coreEvent);

      if (shouldUpdate === false || _this.mounted === false) return; // Add a style to the body to disable user-select. This prevents text from
      // being selected all over the page.

      if (_this.props.enableUserSelectHack) (0, _domFns.addUserSelectStyles)(ownerDocument); // Initiate dragging. Set the current x and y as offsets
      // so we know how much we've moved during the drag. This allows us
      // to drag elements around even if they have been moved, without issue.

      _this.setState({
        dragging: true,
        lastX: x,
        lastY: y
      }); // Add events to the document directly so we catch when the user's mouse/touch moves outside of
      // this element. We use different events depending on whether or not we have detected that this
      // is a touch-capable device.


      (0, _domFns.addEvent)(ownerDocument, dragEventFor.move, _this.handleDrag);
      (0, _domFns.addEvent)(ownerDocument, dragEventFor.stop, _this.handleDragStop);
    });

    _defineProperty(_assertThisInitialized(_this), "handleDrag", function (e) {
      // Get the current drag point from the event. This is used as the offset.
      var position = (0, _positionFns.getControlPosition)(e, _this.state.touchIdentifier, _assertThisInitialized(_this));
      if (position == null) return;
      var x = position.x,
          y = position.y; // Snap to grid if prop has been provided

      if (Array.isArray(_this.props.grid)) {
        var deltaX = x - _this.state.lastX,
            deltaY = y - _this.state.lastY;

        var _snapToGrid = (0, _positionFns.snapToGrid)(_this.props.grid, deltaX, deltaY);

        var _snapToGrid2 = _slicedToArray(_snapToGrid, 2);

        deltaX = _snapToGrid2[0];
        deltaY = _snapToGrid2[1];
        if (!deltaX && !deltaY) return; // skip useless drag

        x = _this.state.lastX + deltaX, y = _this.state.lastY + deltaY;
      }

      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y);
      (0, _log.default)('DraggableCore: handleDrag: %j', coreEvent); // Call event handler. If it returns explicit false, trigger end.

      var shouldUpdate = _this.props.onDrag(e, coreEvent);

      if (shouldUpdate === false || _this.mounted === false) {
        try {
          // $FlowIgnore
          _this.handleDragStop(new MouseEvent('mouseup'));
        } catch (err) {
          // Old browsers
          var event = ((document.createEvent('MouseEvents')
          /*: any*/
          )
          /*: MouseTouchEvent*/
          ); // I see why this insanity was deprecated
          // $FlowIgnore

          event.initMouseEvent('mouseup', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);

          _this.handleDragStop(event);
        }

        return;
      }

      _this.setState({
        lastX: x,
        lastY: y
      });
    });

    _defineProperty(_assertThisInitialized(_this), "handleDragStop", function (e) {
      if (!_this.state.dragging) return;
      var position = (0, _positionFns.getControlPosition)(e, _this.state.touchIdentifier, _assertThisInitialized(_this));
      if (position == null) return;
      var x = position.x,
          y = position.y;
      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y); // Call event handler

      var shouldContinue = _this.props.onStop(e, coreEvent);

      if (shouldContinue === false || _this.mounted === false) return false;

      var thisNode = _this.findDOMNode();

      if (thisNode) {
        // Remove user-select hack
        if (_this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(thisNode.ownerDocument);
      }

      (0, _log.default)('DraggableCore: handleDragStop: %j', coreEvent); // Reset the el.

      _this.setState({
        dragging: false,
        lastX: NaN,
        lastY: NaN
      });

      if (thisNode) {
        // Remove event handlers
        (0, _log.default)('DraggableCore: Removing handlers');
        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.move, _this.handleDrag);
        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.stop, _this.handleDragStop);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onMouseDown", function (e) {
      dragEventFor = eventsFor.mouse; // on touchscreen laptops we could switch back to mouse

      return _this.handleDragStart(e);
    });

    _defineProperty(_assertThisInitialized(_this), "onMouseUp", function (e) {
      dragEventFor = eventsFor.mouse;
      return _this.handleDragStop(e);
    });

    _defineProperty(_assertThisInitialized(_this), "onTouchStart", function (e) {
      // We're on a touch device now, so change the event handlers
      dragEventFor = eventsFor.touch;
      return _this.handleDragStart(e);
    });

    _defineProperty(_assertThisInitialized(_this), "onTouchEnd", function (e) {
      // We're on a touch device now, so change the event handlers
      dragEventFor = eventsFor.touch;
      return _this.handleDragStop(e);
    });

    return _this;
  }

  _createClass(DraggableCore, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.mounted = true; // Touch handlers must be added with {passive: false} to be cancelable.
      // https://developers.google.com/web/updates/2017/01/scrolling-intervention

      var thisNode = this.findDOMNode();

      if (thisNode) {
        (0, _domFns.addEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {
          passive: false
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.mounted = false; // Remove any leftover event handlers. Remove both touch and mouse handlers in case
      // some browser quirk caused a touch event to fire during a mouse move, or vice versa.

      var thisNode = this.findDOMNode();

      if (thisNode) {
        var ownerDocument = thisNode.ownerDocument;
        (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.move, this.handleDrag);
        (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.move, this.handleDrag);
        (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.stop, this.handleDragStop);
        (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.stop, this.handleDragStop);
        (0, _domFns.removeEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {
          passive: false
        });
        if (this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(ownerDocument);
      }
    } // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find
    // the underlying DOM node ourselves. See the README for more information.

  }, {
    key: "findDOMNode",
    value: function findDOMNode()
    /*: ?HTMLElement*/
    {
      return this.props.nodeRef ? this.props.nodeRef.current : _reactDom.default.findDOMNode(this);
    }
  }, {
    key: "render",
    value: function render() {
      // Reuse the child provided
      // This makes it flexible to use whatever element is wanted (div, ul, etc)
      return React.cloneElement(React.Children.only(this.props.children), {
        // Note: mouseMove handler is attached to document so it will still function
        // when the user drags quickly and leaves the bounds of the element.
        onMouseDown: this.onMouseDown,
        onMouseUp: this.onMouseUp,
        // onTouchStart is added on `componentDidMount` so they can be added with
        // {passive: false}, which allows it to cancel. See 
        // https://developers.google.com/web/updates/2017/01/scrolling-intervention
        onTouchEnd: this.onTouchEnd
      });
    }
  }]);

  return DraggableCore;
}(React.Component);

exports.default = DraggableCore;

_defineProperty(DraggableCore, "displayName", 'DraggableCore');

_defineProperty(DraggableCore, "propTypes", {
  /**
   * `allowAnyClick` allows dragging using any mouse button.
   * By default, we only accept the left button.
   *
   * Defaults to `false`.
   */
  allowAnyClick: _propTypes.default.bool,

  /**
   * `disabled`, if true, stops the <Draggable> from dragging. All handlers,
   * with the exception of `onMouseDown`, will not fire.
   */
  disabled: _propTypes.default.bool,

  /**
   * By default, we add 'user-select:none' attributes to the document body
   * to prevent ugly text selection during drag. If this is causing problems
   * for your app, set this to `false`.
   */
  enableUserSelectHack: _propTypes.default.bool,

  /**
   * `offsetParent`, if set, uses the passed DOM node to compute drag offsets
   * instead of using the parent node.
   */
  offsetParent: function offsetParent(props
  /*: DraggableCoreProps*/
  , propName
  /*: $Keys<DraggableCoreProps>*/
  ) {
    if (props[propName] && props[propName].nodeType !== 1) {
      throw new Error('Draggable\'s offsetParent must be a DOM Node.');
    }
  },

  /**
   * `grid` specifies the x and y that dragging should snap to.
   */
  grid: _propTypes.default.arrayOf(_propTypes.default.number),

  /**
   * `handle` specifies a selector to be used as the handle that initiates drag.
   *
   * Example:
   *
   * ```jsx
   *   let App = React.createClass({
   *       render: function () {
   *         return (
   *            <Draggable handle=".handle">
   *              <div>
   *                  <div className="handle">Click me to drag</div>
   *                  <div>This is some other content</div>
   *              </div>
   *           </Draggable>
   *         );
   *       }
   *   });
   * ```
   */
  handle: _propTypes.default.string,

  /**
   * `cancel` specifies a selector to be used to prevent drag initialization.
   *
   * Example:
   *
   * ```jsx
   *   let App = React.createClass({
   *       render: function () {
   *           return(
   *               <Draggable cancel=".cancel">
   *                   <div>
   *                     <div className="cancel">You can't drag from here</div>
   *                     <div>Dragging here works fine</div>
   *                   </div>
   *               </Draggable>
   *           );
   *       }
   *   });
   * ```
   */
  cancel: _propTypes.default.string,

  /* If running in React Strict mode, ReactDOM.findDOMNode() is deprecated.
   * Unfortunately, in order for <Draggable> to work properly, we need raw access
   * to the underlying DOM node. If you want to avoid the warning, pass a `nodeRef`
   * as in this example:
   *
   * function MyComponent() {
   *   const nodeRef = React.useRef(null);
   *   return (
   *     <Draggable nodeRef={nodeRef}>
   *       <div ref={nodeRef}>Example Target</div>
   *     </Draggable>
   *   );
   * }
   *
   * This can be used for arbitrarily nested components, so long as the ref ends up
   * pointing to the actual child DOM node and not a custom component.
   */
  nodeRef: _propTypes.default.object,

  /**
   * Called when dragging starts.
   * If this function returns the boolean false, dragging will be canceled.
   */
  onStart: _propTypes.default.func,

  /**
   * Called while dragging.
   * If this function returns the boolean false, dragging will be canceled.
   */
  onDrag: _propTypes.default.func,

  /**
   * Called when dragging stops.
   * If this function returns the boolean false, the drag will remain active.
   */
  onStop: _propTypes.default.func,

  /**
   * A workaround option which can be passed if onMouseDown needs to be accessed,
   * since it'll always be blocked (as there is internal use of onMouseDown)
   */
  onMouseDown: _propTypes.default.func,

  /**
   * `scale`, if set, applies scaling while dragging an element
   */
  scale: _propTypes.default.number,

  /**
   * These properties should be defined on the child, not here.
   */
  className: _shims.dontSetMe,
  style: _shims.dontSetMe,
  transform: _shims.dontSetMe
});

_defineProperty(DraggableCore, "defaultProps", {
  allowAnyClick: false,
  // by default only accept left click
  cancel: null,
  disabled: false,
  enableUserSelectHack: true,
  offsetParent: null,
  handle: null,
  grid: null,
  transform: null,
  onStart: function onStart() {},
  onDrag: function onDrag() {},
  onStop: function onStop() {},
  onMouseDown: function onMouseDown() {},
  scale: 1
});

/***/ }),

/***/ "./node_modules/react-draggable/build/cjs/cjs.js":
/*!*******************************************************!*\
  !*** ./node_modules/react-draggable/build/cjs/cjs.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _require = __webpack_require__(/*! ./Draggable */ "./node_modules/react-draggable/build/cjs/Draggable.js"),
    Draggable = _require.default,
    DraggableCore = _require.DraggableCore; // Previous versions of this lib exported <Draggable> as the root export. As to no-// them, or TypeScript, we export *both* as the root and as 'default'.
// See https://github.com/mzabriskie/react-draggable/pull/254
// and https://github.com/mzabriskie/react-draggable/issues/266


module.exports = Draggable;
module.exports.default = Draggable;
module.exports.DraggableCore = DraggableCore;

/***/ }),

/***/ "./node_modules/react-draggable/build/cjs/utils/domFns.js":
/*!****************************************************************!*\
  !*** ./node_modules/react-draggable/build/cjs/utils/domFns.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.matchesSelector = matchesSelector;
exports.matchesSelectorAndParentsTo = matchesSelectorAndParentsTo;
exports.addEvent = addEvent;
exports.removeEvent = removeEvent;
exports.outerHeight = outerHeight;
exports.outerWidth = outerWidth;
exports.innerHeight = innerHeight;
exports.innerWidth = innerWidth;
exports.offsetXYFromParent = offsetXYFromParent;
exports.createCSSTransform = createCSSTransform;
exports.createSVGTransform = createSVGTransform;
exports.getTranslation = getTranslation;
exports.getTouch = getTouch;
exports.getTouchIdentifier = getTouchIdentifier;
exports.addUserSelectStyles = addUserSelectStyles;
exports.removeUserSelectStyles = removeUserSelectStyles;
exports.addClassName = addClassName;
exports.removeClassName = removeClassName;

var _shims = __webpack_require__(/*! ./shims */ "./node_modules/react-draggable/build/cjs/utils/shims.js");

var _getPrefix = _interopRequireWildcard(__webpack_require__(/*! ./getPrefix */ "./node_modules/react-draggable/build/cjs/utils/getPrefix.js"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var matchesSelectorFunc = '';

function matchesSelector(el
/*: Node*/
, selector
/*: string*/
)
/*: boolean*/
{
  if (!matchesSelectorFunc) {
    matchesSelectorFunc = (0, _shims.findInArray)(['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'], function (method) {
      // $FlowIgnore: Doesn't think elements are indexable
      return (0, _shims.isFunction)(el[method]);
    });
  } // Might not be found entirely (not an Element?) - in that case, bail
  // $FlowIgnore: Doesn't think elements are indexable


  if (!(0, _shims.isFunction)(el[matchesSelectorFunc])) return false; // $FlowIgnore: Doesn't think elements are indexable

  return el[matchesSelectorFunc](selector);
} // Works up the tree to the draggable itself attempting to match selector.


function matchesSelectorAndParentsTo(el
/*: Node*/
, selector
/*: string*/
, baseNode
/*: Node*/
)
/*: boolean*/
{
  var node = el;

  do {
    if (matchesSelector(node, selector)) return true;
    if (node === baseNode) return false;
    node = node.parentNode;
  } while (node);

  return false;
}

function addEvent(el
/*: ?Node*/
, event
/*: string*/
, handler
/*: Function*/
, inputOptions
/*: Object*/
)
/*: void*/
{
  if (!el) return;

  var options = _objectSpread({
    capture: true
  }, inputOptions);

  if (el.addEventListener) {
    el.addEventListener(event, handler, options);
  } else if (el.attachEvent) {
    el.attachEvent('on' + event, handler);
  } else {
    // $FlowIgnore: Doesn't think elements are indexable
    el['on' + event] = handler;
  }
}

function removeEvent(el
/*: ?Node*/
, event
/*: string*/
, handler
/*: Function*/
, inputOptions
/*: Object*/
)
/*: void*/
{
  if (!el) return;

  var options = _objectSpread({
    capture: true
  }, inputOptions);

  if (el.removeEventListener) {
    el.removeEventListener(event, handler, options);
  } else if (el.detachEvent) {
    el.detachEvent('on' + event, handler);
  } else {
    // $FlowIgnore: Doesn't think elements are indexable
    el['on' + event] = null;
  }
}

function outerHeight(node
/*: HTMLElement*/
)
/*: number*/
{
  // This is deliberately excluding margin for our calculations, since we are using
  // offsetTop which is including margin. See getBoundPosition
  var height = node.clientHeight;
  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);
  height += (0, _shims.int)(computedStyle.borderTopWidth);
  height += (0, _shims.int)(computedStyle.borderBottomWidth);
  return height;
}

function outerWidth(node
/*: HTMLElement*/
)
/*: number*/
{
  // This is deliberately excluding margin for our calculations, since we are using
  // offsetLeft which is including margin. See getBoundPosition
  var width = node.clientWidth;
  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);
  width += (0, _shims.int)(computedStyle.borderLeftWidth);
  width += (0, _shims.int)(computedStyle.borderRightWidth);
  return width;
}

function innerHeight(node
/*: HTMLElement*/
)
/*: number*/
{
  var height = node.clientHeight;
  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);
  height -= (0, _shims.int)(computedStyle.paddingTop);
  height -= (0, _shims.int)(computedStyle.paddingBottom);
  return height;
}

function innerWidth(node
/*: HTMLElement*/
)
/*: number*/
{
  var width = node.clientWidth;
  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);
  width -= (0, _shims.int)(computedStyle.paddingLeft);
  width -= (0, _shims.int)(computedStyle.paddingRight);
  return width;
} // Get from offsetParent


function offsetXYFromParent(evt
/*: {clientX: number, clientY: number}*/
, offsetParent
/*: HTMLElement*/
, scale
/*: number*/
)
/*: ControlPosition*/
{
  var isBody = offsetParent === offsetParent.ownerDocument.body;
  var offsetParentRect = isBody ? {
    left: 0,
    top: 0
  } : offsetParent.getBoundingClientRect();
  var x = (evt.clientX + offsetParent.scrollLeft - offsetParentRect.left) / scale;
  var y = (evt.clientY + offsetParent.scrollTop - offsetParentRect.top) / scale;
  return {
    x: x,
    y: y
  };
}

function createCSSTransform(controlPos
/*: ControlPosition*/
, positionOffset
/*: PositionOffsetControlPosition*/
)
/*: Object*/
{
  var translation = getTranslation(controlPos, positionOffset, 'px');
  return _defineProperty({}, (0, _getPrefix.browserPrefixToKey)('transform', _getPrefix.default), translation);
}

function createSVGTransform(controlPos
/*: ControlPosition*/
, positionOffset
/*: PositionOffsetControlPosition*/
)
/*: string*/
{
  var translation = getTranslation(controlPos, positionOffset, '');
  return translation;
}

function getTranslation(_ref2, positionOffset
/*: PositionOffsetControlPosition*/
, unitSuffix
/*: string*/
)
/*: string*/
{
  var x = _ref2.x,
      y = _ref2.y;
  var translation = "translate(".concat(x).concat(unitSuffix, ",").concat(y).concat(unitSuffix, ")");

  if (positionOffset) {
    var defaultX = "".concat(typeof positionOffset.x === 'string' ? positionOffset.x : positionOffset.x + unitSuffix);
    var defaultY = "".concat(typeof positionOffset.y === 'string' ? positionOffset.y : positionOffset.y + unitSuffix);
    translation = "translate(".concat(defaultX, ", ").concat(defaultY, ")") + translation;
  }

  return translation;
}

function getTouch(e
/*: MouseTouchEvent*/
, identifier
/*: number*/
)
/*: ?{clientX: number, clientY: number}*/
{
  return e.targetTouches && (0, _shims.findInArray)(e.targetTouches, function (t) {
    return identifier === t.identifier;
  }) || e.changedTouches && (0, _shims.findInArray)(e.changedTouches, function (t) {
    return identifier === t.identifier;
  });
}

function getTouchIdentifier(e
/*: MouseTouchEvent*/
)
/*: ?number*/
{
  if (e.targetTouches && e.targetTouches[0]) return e.targetTouches[0].identifier;
  if (e.changedTouches && e.changedTouches[0]) return e.changedTouches[0].identifier;
} // User-select Hacks:
//
// Useful for preventing blue highlights all over everything when dragging.
// Note we're passing `document` b/c we could be iframed


function addUserSelectStyles(doc
/*: ?Document*/
) {
  if (!doc) return;
  var styleEl = doc.getElementById('react-draggable-style-el');

  if (!styleEl) {
    styleEl = doc.createElement('style');
    styleEl.type = 'text/css';
    styleEl.id = 'react-draggable-style-el';
    styleEl.innerHTML = '.react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n';
    styleEl.innerHTML += '.react-draggable-transparent-selection *::selection {all: inherit;}\n';
    doc.getElementsByTagName('head')[0].appendChild(styleEl);
  }

  if (doc.body) addClassName(doc.body, 'react-draggable-transparent-selection');
}

function removeUserSelectStyles(doc
/*: ?Document*/
) {
  if (!doc) return;

  try {
    if (doc.body) removeClassName(doc.body, 'react-draggable-transparent-selection'); // $FlowIgnore: IE

    if (doc.selection) {
      // $FlowIgnore: IE
      doc.selection.empty();
    } else {
      // Remove selection caused by scroll, unless it's a focused input
      // (we use doc.defaultView in case we're in an iframe)
      var selection = (doc.defaultView || window).getSelection();

      if (selection && selection.type !== 'Caret') {
        selection.removeAllRanges();
      }
    }
  } catch (e) {// probably IE
  }
}

function addClassName(el
/*: HTMLElement*/
, className
/*: string*/
) {
  if (el.classList) {
    el.classList.add(className);
  } else {
    if (!el.className.match(new RegExp("(?:^|\\s)".concat(className, "(?!\\S)")))) {
      el.className += " ".concat(className);
    }
  }
}

function removeClassName(el
/*: HTMLElement*/
, className
/*: string*/
) {
  if (el.classList) {
    el.classList.remove(className);
  } else {
    el.className = el.className.replace(new RegExp("(?:^|\\s)".concat(className, "(?!\\S)"), 'g'), '');
  }
}

/***/ }),

/***/ "./node_modules/react-draggable/build/cjs/utils/getPrefix.js":
/*!*******************************************************************!*\
  !*** ./node_modules/react-draggable/build/cjs/utils/getPrefix.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getPrefix = getPrefix;
exports.browserPrefixToKey = browserPrefixToKey;
exports.browserPrefixToStyle = browserPrefixToStyle;
exports.default = void 0;
var prefixes = ['Moz', 'Webkit', 'O', 'ms'];

function getPrefix()
/*: string*/
{
  var prop
  /*: string*/
  = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'transform';
  // Checking specifically for 'window.document' is for pseudo-browser server-side
  // environments that define 'window' as the global context.
  // E.g. React-rails (see https://github.com/reactjs/react-rails/pull/84)
  if (typeof window === 'undefined' || typeof window.document === 'undefined') return '';
  var style = window.document.documentElement.style;
  if (prop in style) return '';

  for (var i = 0; i < prefixes.length; i++) {
    if (browserPrefixToKey(prop, prefixes[i]) in style) return prefixes[i];
  }

  return '';
}

function browserPrefixToKey(prop
/*: string*/
, prefix
/*: string*/
)
/*: string*/
{
  return prefix ? "".concat(prefix).concat(kebabToTitleCase(prop)) : prop;
}

function browserPrefixToStyle(prop
/*: string*/
, prefix
/*: string*/
)
/*: string*/
{
  return prefix ? "-".concat(prefix.toLowerCase(), "-").concat(prop) : prop;
}

function kebabToTitleCase(str
/*: string*/
)
/*: string*/
{
  var out = '';
  var shouldCapitalize = true;

  for (var i = 0; i < str.length; i++) {
    if (shouldCapitalize) {
      out += str[i].toUpperCase();
      shouldCapitalize = false;
    } else if (str[i] === '-') {
      shouldCapitalize = true;
    } else {
      out += str[i];
    }
  }

  return out;
} // Default export is the prefix itself, like 'Moz', 'Webkit', etc
// Note that you may have to re-test for certain things; for instance, Chrome 50
// can handle unprefixed `transform`, but not unprefixed `user-select`


var _default = getPrefix();

exports.default = _default;

/***/ }),

/***/ "./node_modules/react-draggable/build/cjs/utils/log.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-draggable/build/cjs/utils/log.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = log;

/*eslint no-console:0*/
function log() {
  var _console;

  if (undefined) (_console = console).log.apply(_console, arguments);
}

/***/ }),

/***/ "./node_modules/react-draggable/build/cjs/utils/positionFns.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-draggable/build/cjs/utils/positionFns.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getBoundPosition = getBoundPosition;
exports.snapToGrid = snapToGrid;
exports.canDragX = canDragX;
exports.canDragY = canDragY;
exports.getControlPosition = getControlPosition;
exports.createCoreData = createCoreData;
exports.createDraggableData = createDraggableData;

var _shims = __webpack_require__(/*! ./shims */ "./node_modules/react-draggable/build/cjs/utils/shims.js");

var _domFns = __webpack_require__(/*! ./domFns */ "./node_modules/react-draggable/build/cjs/utils/domFns.js");

function getBoundPosition(draggable
/*: Draggable*/
, x
/*: number*/
, y
/*: number*/
)
/*: [number, number]*/
{
  // If no bounds, short-circuit and move on
  if (!draggable.props.bounds) return [x, y]; // Clone new bounds

  var bounds = draggable.props.bounds;
  bounds = typeof bounds === 'string' ? bounds : cloneBounds(bounds);
  var node = findDOMNode(draggable);

  if (typeof bounds === 'string') {
    var ownerDocument = node.ownerDocument;
    var ownerWindow = ownerDocument.defaultView;
    var boundNode;

    if (bounds === 'parent') {
      boundNode = node.parentNode;
    } else {
      boundNode = ownerDocument.querySelector(bounds);
    }

    if (!(boundNode instanceof ownerWindow.HTMLElement)) {
      throw new Error('Bounds selector "' + bounds + '" could not find an element.');
    }

    var nodeStyle = ownerWindow.getComputedStyle(node);
    var boundNodeStyle = ownerWindow.getComputedStyle(boundNode); // Compute bounds. This is a pain with padding and offsets but this gets it exactly right.

    bounds = {
      left: -node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingLeft) + (0, _shims.int)(nodeStyle.marginLeft),
      top: -node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingTop) + (0, _shims.int)(nodeStyle.marginTop),
      right: (0, _domFns.innerWidth)(boundNode) - (0, _domFns.outerWidth)(node) - node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingRight) - (0, _shims.int)(nodeStyle.marginRight),
      bottom: (0, _domFns.innerHeight)(boundNode) - (0, _domFns.outerHeight)(node) - node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingBottom) - (0, _shims.int)(nodeStyle.marginBottom)
    };
  } // Keep x and y below right and bottom limits...


  if ((0, _shims.isNum)(bounds.right)) x = Math.min(x, bounds.right);
  if ((0, _shims.isNum)(bounds.bottom)) y = Math.min(y, bounds.bottom); // But above left and top limits.

  if ((0, _shims.isNum)(bounds.left)) x = Math.max(x, bounds.left);
  if ((0, _shims.isNum)(bounds.top)) y = Math.max(y, bounds.top);
  return [x, y];
}

function snapToGrid(grid
/*: [number, number]*/
, pendingX
/*: number*/
, pendingY
/*: number*/
)
/*: [number, number]*/
{
  var x = Math.round(pendingX / grid[0]) * grid[0];
  var y = Math.round(pendingY / grid[1]) * grid[1];
  return [x, y];
}

function canDragX(draggable
/*: Draggable*/
)
/*: boolean*/
{
  return draggable.props.axis === 'both' || draggable.props.axis === 'x';
}

function canDragY(draggable
/*: Draggable*/
)
/*: boolean*/
{
  return draggable.props.axis === 'both' || draggable.props.axis === 'y';
} // Get {x, y} positions from event.


function getControlPosition(e
/*: MouseTouchEvent*/
, touchIdentifier
/*: ?number*/
, draggableCore
/*: DraggableCore*/
)
/*: ?ControlPosition*/
{
  var touchObj = typeof touchIdentifier === 'number' ? (0, _domFns.getTouch)(e, touchIdentifier) : null;
  if (typeof touchIdentifier === 'number' && !touchObj) return null; // not the right touch

  var node = findDOMNode(draggableCore); // User can provide an offsetParent if desired.

  var offsetParent = draggableCore.props.offsetParent || node.offsetParent || node.ownerDocument.body;
  return (0, _domFns.offsetXYFromParent)(touchObj || e, offsetParent, draggableCore.props.scale);
} // Create an data object exposed by <DraggableCore>'s events


function createCoreData(draggable
/*: DraggableCore*/
, x
/*: number*/
, y
/*: number*/
)
/*: DraggableData*/
{
  var state = draggable.state;
  var isStart = !(0, _shims.isNum)(state.lastX);
  var node = findDOMNode(draggable);

  if (isStart) {
    // If this is our first move, use the x and y as last coords.
    return {
      node: node,
      deltaX: 0,
      deltaY: 0,
      lastX: x,
      lastY: y,
      x: x,
      y: y
    };
  } else {
    // Otherwise calculate proper values.
    return {
      node: node,
      deltaX: x - state.lastX,
      deltaY: y - state.lastY,
      lastX: state.lastX,
      lastY: state.lastY,
      x: x,
      y: y
    };
  }
} // Create an data exposed by <Draggable>'s events


function createDraggableData(draggable
/*: Draggable*/
, coreData
/*: DraggableData*/
)
/*: DraggableData*/
{
  var scale = draggable.props.scale;
  return {
    node: coreData.node,
    x: draggable.state.x + coreData.deltaX / scale,
    y: draggable.state.y + coreData.deltaY / scale,
    deltaX: coreData.deltaX / scale,
    deltaY: coreData.deltaY / scale,
    lastX: draggable.state.x,
    lastY: draggable.state.y
  };
} // A lot faster than stringify/parse


function cloneBounds(bounds
/*: Bounds*/
)
/*: Bounds*/
{
  return {
    left: bounds.left,
    top: bounds.top,
    right: bounds.right,
    bottom: bounds.bottom
  };
}

function findDOMNode(draggable
/*: Draggable | DraggableCore*/
)
/*: HTMLElement*/
{
  var node = draggable.findDOMNode();

  if (!node) {
    throw new Error('<DraggableCore>: Unmounted during event!');
  } // $FlowIgnore we can't assert on HTMLElement due to tests... FIXME


  return node;
}

/***/ }),

/***/ "./node_modules/react-draggable/build/cjs/utils/shims.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-draggable/build/cjs/utils/shims.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.findInArray = findInArray;
exports.isFunction = isFunction;
exports.isNum = isNum;
exports.int = int;
exports.dontSetMe = dontSetMe;

// @credits https://gist.github.com/rogozhnikoff/a43cfed27c41e4e68cdc
function findInArray(array
/*: Array<any> | TouchList*/
, callback
/*: Function*/
)
/*: any*/
{
  for (var i = 0, length = array.length; i < length; i++) {
    if (callback.apply(callback, [array[i], i, array])) return array[i];
  }
}

function isFunction(func
/*: any*/
)
/*: boolean %checks*/
{
  return typeof func === 'function' || Object.prototype.toString.call(func) === '[object Function]';
}

function isNum(num
/*: any*/
)
/*: boolean %checks*/
{
  return typeof num === 'number' && !isNaN(num);
}

function int(a
/*: string*/
)
/*: number*/
{
  return parseInt(a, 10);
}

function dontSetMe(props
/*: Object*/
, propName
/*: string*/
, componentName
/*: string*/
) {
  if (props[propName]) {
    return new Error("Invalid prop ".concat(propName, " passed to ").concat(componentName, " - do not set this, set it on the child."));
  }
}

/***/ }),

/***/ "./node_modules/react-grid-layout/build/GridItem.js":
/*!**********************************************************!*\
  !*** ./node_modules/react-grid-layout/build/GridItem.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js"));

var _reactDraggable = __webpack_require__(/*! react-draggable */ "./node_modules/react-draggable/build/cjs/cjs.js");

var _reactResizable = __webpack_require__(/*! react-resizable */ "./node_modules/react-resizable/index.js");

var _utils = __webpack_require__(/*! ./utils */ "./node_modules/react-grid-layout/build/utils.js");

var _calculateUtils = __webpack_require__(/*! ./calculateUtils */ "./node_modules/react-grid-layout/build/calculateUtils.js");

var _ReactGridLayoutPropTypes = __webpack_require__(/*! ./ReactGridLayoutPropTypes */ "./node_modules/react-grid-layout/build/ReactGridLayoutPropTypes.js");

var _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ "./node_modules/classnames/index.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * An individual item within a ReactGridLayout.
 */
var GridItem = /*#__PURE__*/function (_React$Component) {
  _inherits(GridItem, _React$Component);

  var _super = _createSuper(GridItem);

  function GridItem() {
    var _this;

    _classCallCheck(this, GridItem);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      resizing: null,
      dragging: null,
      className: ""
    });

    _defineProperty(_assertThisInitialized(_this), "elementRef", /*#__PURE__*/_react.default.createRef());

    _defineProperty(_assertThisInitialized(_this), "onDragStart", function (e, _ref) {
      var node = _ref.node;
      var _this$props = _this.props,
          onDragStart = _this$props.onDragStart,
          transformScale = _this$props.transformScale;
      if (!onDragStart) return;
      var newPosition
      /*: PartialPosition*/
      = {
        top: 0,
        left: 0
      }; // TODO: this wont work on nested parents

      var offsetParent = node.offsetParent;
      if (!offsetParent) return;
      var parentRect = offsetParent.getBoundingClientRect();
      var clientRect = node.getBoundingClientRect();
      var cLeft = clientRect.left / transformScale;
      var pLeft = parentRect.left / transformScale;
      var cTop = clientRect.top / transformScale;
      var pTop = parentRect.top / transformScale;
      newPosition.left = cLeft - pLeft + offsetParent.scrollLeft;
      newPosition.top = cTop - pTop + offsetParent.scrollTop;

      _this.setState({
        dragging: newPosition
      }); // Call callback with this data


      var _calcXY = (0, _calculateUtils.calcXY)(_this.getPositionParams(), newPosition.top, newPosition.left, _this.props.w, _this.props.h),
          x = _calcXY.x,
          y = _calcXY.y;

      return onDragStart.call(_assertThisInitialized(_this), _this.props.i, x, y, {
        e: e,
        node: node,
        newPosition: newPosition
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onDrag", function (e, _ref2) {
      var node = _ref2.node,
          deltaX = _ref2.deltaX,
          deltaY = _ref2.deltaY;
      var onDrag = _this.props.onDrag;
      if (!onDrag) return;

      if (!_this.state.dragging) {
        throw new Error("onDrag called before onDragStart.");
      }

      var top = _this.state.dragging.top + deltaY;
      var left = _this.state.dragging.left + deltaX;
      var _this$props2 = _this.props,
          isBounded = _this$props2.isBounded,
          i = _this$props2.i,
          w = _this$props2.w,
          h = _this$props2.h,
          containerWidth = _this$props2.containerWidth;

      var positionParams = _this.getPositionParams(); // Boundary calculations; keeps items within the grid


      if (isBounded) {
        var offsetParent = node.offsetParent;

        if (offsetParent) {
          var _this$props3 = _this.props,
              margin = _this$props3.margin,
              rowHeight = _this$props3.rowHeight;
          var bottomBoundary = offsetParent.clientHeight - (0, _calculateUtils.calcGridItemWHPx)(h, rowHeight, margin[1]);
          top = (0, _calculateUtils.clamp)(top, 0, bottomBoundary);
          var colWidth = (0, _calculateUtils.calcGridColWidth)(positionParams);
          var rightBoundary = containerWidth - (0, _calculateUtils.calcGridItemWHPx)(w, colWidth, margin[0]);
          left = (0, _calculateUtils.clamp)(left, 0, rightBoundary);
        }
      }

      var newPosition
      /*: PartialPosition*/
      = {
        top: top,
        left: left
      };

      _this.setState({
        dragging: newPosition
      }); // Call callback with this data


      var _calcXY2 = (0, _calculateUtils.calcXY)(positionParams, top, left, w, h),
          x = _calcXY2.x,
          y = _calcXY2.y;

      return onDrag.call(_assertThisInitialized(_this), i, x, y, {
        e: e,
        node: node,
        newPosition: newPosition
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onDragStop", function (e, _ref3) {
      var node = _ref3.node;
      var onDragStop = _this.props.onDragStop;
      if (!onDragStop) return;

      if (!_this.state.dragging) {
        throw new Error("onDragEnd called before onDragStart.");
      }

      var _this$props4 = _this.props,
          w = _this$props4.w,
          h = _this$props4.h,
          i = _this$props4.i;
      var _this$state$dragging = _this.state.dragging,
          left = _this$state$dragging.left,
          top = _this$state$dragging.top;
      var newPosition
      /*: PartialPosition*/
      = {
        top: top,
        left: left
      };

      _this.setState({
        dragging: null
      });

      var _calcXY3 = (0, _calculateUtils.calcXY)(_this.getPositionParams(), top, left, w, h),
          x = _calcXY3.x,
          y = _calcXY3.y;

      return onDragStop.call(_assertThisInitialized(_this), i, x, y, {
        e: e,
        node: node,
        newPosition: newPosition
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onResizeStop", function (e, callbackData) {
      _this.onResizeHandler(e, callbackData, "onResizeStop");
    });

    _defineProperty(_assertThisInitialized(_this), "onResizeStart", function (e, callbackData) {
      _this.onResizeHandler(e, callbackData, "onResizeStart");
    });

    _defineProperty(_assertThisInitialized(_this), "onResize", function (e, callbackData) {
      _this.onResizeHandler(e, callbackData, "onResize");
    });

    return _this;
  }

  _createClass(GridItem, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate(nextProps
    /*: Props*/
    , nextState
    /*: State*/
    )
    /*: boolean*/
    {
      // We can't deeply compare children. If the developer memoizes them, we can
      // use this optimization.
      if (this.props.children !== nextProps.children) return true;
      if (this.props.droppingPosition !== nextProps.droppingPosition) return true; // TODO memoize these calculations so they don't take so long?

      var oldPosition = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(this.props), this.props.x, this.props.y, this.props.w, this.props.h, this.state);
      var newPosition = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(nextProps), nextProps.x, nextProps.y, nextProps.w, nextProps.h, nextState);
      return !(0, _utils.fastPositionEqual)(oldPosition, newPosition) || this.props.useCSSTransforms !== nextProps.useCSSTransforms;
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.moveDroppingItem({});
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps
    /*: Props*/
    ) {
      this.moveDroppingItem(prevProps);
    } // When a droppingPosition is present, this means we should fire a move event, as if we had moved
    // this element by `x, y` pixels.

  }, {
    key: "moveDroppingItem",
    value: function moveDroppingItem(prevProps
    /*: Props*/
    ) {
      var droppingPosition = this.props.droppingPosition;
      if (!droppingPosition) return;
      var node = this.elementRef.current; // Can't find DOM node (are we unmounted?)

      if (!node) return;
      var prevDroppingPosition = prevProps.droppingPosition || {
        left: 0,
        top: 0
      };
      var dragging = this.state.dragging;
      var shouldDrag = dragging && droppingPosition.left !== prevDroppingPosition.left || droppingPosition.top !== prevDroppingPosition.top;

      if (!dragging) {
        this.onDragStart(droppingPosition.e, {
          node: node,
          deltaX: droppingPosition.left,
          deltaY: droppingPosition.top
        });
      } else if (shouldDrag) {
        var deltaX = droppingPosition.left - dragging.left;
        var deltaY = droppingPosition.top - dragging.top;
        this.onDrag(droppingPosition.e, {
          node: node,
          deltaX: deltaX,
          deltaY: deltaY
        });
      }
    }
  }, {
    key: "getPositionParams",
    value: function getPositionParams()
    /*: PositionParams*/
    {
      var props
      /*: Props*/
      = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
      return {
        cols: props.cols,
        containerPadding: props.containerPadding,
        containerWidth: props.containerWidth,
        margin: props.margin,
        maxRows: props.maxRows,
        rowHeight: props.rowHeight
      };
    }
    /**
     * This is where we set the grid item's absolute placement. It gets a little tricky because we want to do it
     * well when server rendering, and the only way to do that properly is to use percentage width/left because
     * we don't know exactly what the browser viewport is.
     * Unfortunately, CSS Transforms, which are great for performance, break in this instance because a percentage
     * left is relative to the item itself, not its container! So we cannot use them on the server rendering pass.
     *
     * @param  {Object} pos Position object with width, height, left, top.
     * @return {Object}     Style object.
     */

  }, {
    key: "createStyle",
    value: function createStyle(pos
    /*: Position*/
    )
    /*: { [key: string]: ?string }*/
    {
      var _this$props5 = this.props,
          usePercentages = _this$props5.usePercentages,
          containerWidth = _this$props5.containerWidth,
          useCSSTransforms = _this$props5.useCSSTransforms;
      var style; // CSS Transforms support (default)

      if (useCSSTransforms) {
        style = (0, _utils.setTransform)(pos);
      } else {
        // top,left (slow)
        style = (0, _utils.setTopLeft)(pos); // This is used for server rendering.

        if (usePercentages) {
          style.left = (0, _utils.perc)(pos.left / containerWidth);
          style.width = (0, _utils.perc)(pos.width / containerWidth);
        }
      }

      return style;
    }
    /**
     * Mix a Draggable instance into a child.
     * @param  {Element} child    Child element.
     * @return {Element}          Child wrapped in Draggable.
     */

  }, {
    key: "mixinDraggable",
    value: function mixinDraggable(child
    /*: ReactElement<any>*/
    , isDraggable
    /*: boolean*/
    )
    /*: ReactElement<any>*/
    {
      return /*#__PURE__*/_react.default.createElement(_reactDraggable.DraggableCore, {
        disabled: !isDraggable,
        onStart: this.onDragStart,
        onDrag: this.onDrag,
        onStop: this.onDragStop,
        handle: this.props.handle,
        cancel: ".react-resizable-handle" + (this.props.cancel ? "," + this.props.cancel : ""),
        scale: this.props.transformScale,
        nodeRef: this.elementRef
      }, child);
    }
    /**
     * Mix a Resizable instance into a child.
     * @param  {Element} child    Child element.
     * @param  {Object} position  Position object (pixel values)
     * @return {Element}          Child wrapped in Resizable.
     */

  }, {
    key: "mixinResizable",
    value: function mixinResizable(child
    /*: ReactElement<any>*/
    , position
    /*: Position*/
    , isResizable
    /*: boolean*/
    )
    /*: ReactElement<any>*/
    {
      var _this$props6 = this.props,
          cols = _this$props6.cols,
          x = _this$props6.x,
          minW = _this$props6.minW,
          minH = _this$props6.minH,
          maxW = _this$props6.maxW,
          maxH = _this$props6.maxH,
          transformScale = _this$props6.transformScale,
          resizeHandles = _this$props6.resizeHandles,
          resizeHandle = _this$props6.resizeHandle;
      var positionParams = this.getPositionParams(); // This is the max possible width - doesn't go to infinity because of the width of the window

      var maxWidth = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, cols - x, 0).width; // Calculate min/max constraints using our min & maxes

      var mins = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, minW, minH);
      var maxes = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, maxW, maxH);
      var minConstraints = [mins.width, mins.height];
      var maxConstraints = [Math.min(maxes.width, maxWidth), Math.min(maxes.height, Infinity)];
      return /*#__PURE__*/_react.default.createElement(_reactResizable.Resizable, {
        draggableOpts: {
          disabled: !isResizable,
          nodeRef: this.elementRef
        },
        className: isResizable ? undefined : "react-resizable-hide",
        width: position.width,
        height: position.height,
        minConstraints: minConstraints,
        maxConstraints: maxConstraints,
        onResizeStop: this.onResizeStop,
        onResizeStart: this.onResizeStart,
        onResize: this.onResize,
        transformScale: transformScale,
        resizeHandles: resizeHandles,
        handle: resizeHandle
      }, child);
    }
    /**
     * onDragStart event handler
     * @param  {Event}  e             event data
     * @param  {Object} callbackData  an object with node, delta and position information
     */

  }, {
    key: "onResizeHandler",
    value:
    /**
     * Wrapper around drag events to provide more useful data.
     * All drag events call the function with the given handler name,
     * with the signature (index, x, y).
     *
     * @param  {String} handlerName Handler name to wrap.
     * @return {Function}           Handler function.
     */
    function onResizeHandler(e
    /*: Event*/
    , _ref4, handlerName
    /*: string*/
    )
    /*: void*/
    {
      var node = _ref4.node,
          size = _ref4.size;
      var handler = this.props[handlerName];
      if (!handler) return;
      var _this$props7 = this.props,
          cols = _this$props7.cols,
          x = _this$props7.x,
          y = _this$props7.y,
          i = _this$props7.i,
          maxH = _this$props7.maxH,
          minH = _this$props7.minH;
      var _this$props8 = this.props,
          minW = _this$props8.minW,
          maxW = _this$props8.maxW; // Get new XY

      var _calcWH = (0, _calculateUtils.calcWH)(this.getPositionParams(), size.width, size.height, x, y),
          w = _calcWH.w,
          h = _calcWH.h; // minW should be at least 1 (TODO propTypes validation?)


      minW = Math.max(minW, 1); // maxW should be at most (cols - x)

      maxW = Math.min(maxW, cols - x); // Min/max capping

      w = (0, _calculateUtils.clamp)(w, minW, maxW);
      h = (0, _calculateUtils.clamp)(h, minH, maxH);
      this.setState({
        resizing: handlerName === "onResizeStop" ? null : size
      });
      handler.call(this, i, w, h, {
        e: e,
        node: node,
        size: size
      });
    }
  }, {
    key: "render",
    value: function render()
    /*: ReactNode*/
    {
      var _this$props9 = this.props,
          x = _this$props9.x,
          y = _this$props9.y,
          w = _this$props9.w,
          h = _this$props9.h,
          isDraggable = _this$props9.isDraggable,
          isResizable = _this$props9.isResizable,
          droppingPosition = _this$props9.droppingPosition,
          useCSSTransforms = _this$props9.useCSSTransforms;
      var pos = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(), x, y, w, h, this.state);

      var child = _react.default.Children.only(this.props.children); // Create the child element. We clone the existing element but modify its className and style.


      var newChild = /*#__PURE__*/_react.default.cloneElement(child, {
        ref: this.elementRef,
        className: (0, _classnames.default)("react-grid-item", child.props.className, this.props.className, {
          static: this.props.static,
          resizing: Boolean(this.state.resizing),
          "react-draggable": isDraggable,
          "react-draggable-dragging": Boolean(this.state.dragging),
          dropping: Boolean(droppingPosition),
          cssTransforms: useCSSTransforms
        }),
        // We can set the width and height on the child, but unfortunately we can't set the position.
        style: _objectSpread(_objectSpread(_objectSpread({}, this.props.style), child.props.style), this.createStyle(pos))
      }); // Resizable support. This is usually on but the user can toggle it off.


      newChild = this.mixinResizable(newChild, pos, isResizable); // Draggable support. This is always on, except for with placeholders.

      newChild = this.mixinDraggable(newChild, isDraggable);
      return newChild;
    }
  }]);

  return GridItem;
}(_react.default.Component);

exports.default = GridItem;

_defineProperty(GridItem, "propTypes", {
  // Children must be only a single element
  children: _propTypes.default.element,
  // General grid attributes
  cols: _propTypes.default.number.isRequired,
  containerWidth: _propTypes.default.number.isRequired,
  rowHeight: _propTypes.default.number.isRequired,
  margin: _propTypes.default.array.isRequired,
  maxRows: _propTypes.default.number.isRequired,
  containerPadding: _propTypes.default.array.isRequired,
  // These are all in grid units
  x: _propTypes.default.number.isRequired,
  y: _propTypes.default.number.isRequired,
  w: _propTypes.default.number.isRequired,
  h: _propTypes.default.number.isRequired,
  // All optional
  minW: function minW(props
  /*: Props*/
  , propName
  /*: string*/
  ) {
    var value = props[propName];
    if (typeof value !== "number") return new Error("minWidth not Number");
    if (value > props.w || value > props.maxW) return new Error("minWidth larger than item width/maxWidth");
  },
  maxW: function maxW(props
  /*: Props*/
  , propName
  /*: string*/
  ) {
    var value = props[propName];
    if (typeof value !== "number") return new Error("maxWidth not Number");
    if (value < props.w || value < props.minW) return new Error("maxWidth smaller than item width/minWidth");
  },
  minH: function minH(props
  /*: Props*/
  , propName
  /*: string*/
  ) {
    var value = props[propName];
    if (typeof value !== "number") return new Error("minHeight not Number");
    if (value > props.h || value > props.maxH) return new Error("minHeight larger than item height/maxHeight");
  },
  maxH: function maxH(props
  /*: Props*/
  , propName
  /*: string*/
  ) {
    var value = props[propName];
    if (typeof value !== "number") return new Error("maxHeight not Number");
    if (value < props.h || value < props.minH) return new Error("maxHeight smaller than item height/minHeight");
  },
  // ID is nice to have for callbacks
  i: _propTypes.default.string.isRequired,
  // Resize handle options
  resizeHandles: _ReactGridLayoutPropTypes.resizeHandlesType,
  resizeHandle: _ReactGridLayoutPropTypes.resizeHandleType,
  // Functions
  onDragStop: _propTypes.default.func,
  onDragStart: _propTypes.default.func,
  onDrag: _propTypes.default.func,
  onResizeStop: _propTypes.default.func,
  onResizeStart: _propTypes.default.func,
  onResize: _propTypes.default.func,
  // Flags
  isDraggable: _propTypes.default.bool.isRequired,
  isResizable: _propTypes.default.bool.isRequired,
  isBounded: _propTypes.default.bool.isRequired,
  static: _propTypes.default.bool,
  // Use CSS transforms instead of top/left
  useCSSTransforms: _propTypes.default.bool.isRequired,
  transformScale: _propTypes.default.number,
  // Others
  className: _propTypes.default.string,
  // Selector for draggable handle
  handle: _propTypes.default.string,
  // Selector for draggable cancel (see react-draggable)
  cancel: _propTypes.default.string,
  // Current position of a dropping element
  droppingPosition: _propTypes.default.shape({
    e: _propTypes.default.object.isRequired,
    left: _propTypes.default.number.isRequired,
    top: _propTypes.default.number.isRequired
  })
});

_defineProperty(GridItem, "defaultProps", {
  className: "",
  cancel: "",
  handle: "",
  minH: 1,
  minW: 1,
  maxH: Infinity,
  maxW: Infinity,
  transformScale: 1
});

/***/ }),

/***/ "./node_modules/react-grid-layout/build/ReactGridLayout.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-grid-layout/build/ReactGridLayout.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _lodash = _interopRequireDefault(__webpack_require__(/*! lodash.isequal */ "./node_modules/lodash.isequal/index.js"));

var _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ "./node_modules/classnames/index.js"));

var _utils = __webpack_require__(/*! ./utils */ "./node_modules/react-grid-layout/build/utils.js");

var _calculateUtils = __webpack_require__(/*! ./calculateUtils */ "./node_modules/react-grid-layout/build/calculateUtils.js");

var _GridItem = _interopRequireDefault(__webpack_require__(/*! ./GridItem */ "./node_modules/react-grid-layout/build/GridItem.js"));

var _ReactGridLayoutPropTypes = _interopRequireDefault(__webpack_require__(/*! ./ReactGridLayoutPropTypes */ "./node_modules/react-grid-layout/build/ReactGridLayoutPropTypes.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// End Types
var layoutClassName = "react-grid-layout";
var isFirefox = false; // Try...catch will protect from navigator not existing (e.g. node) or a bad implementation of navigator

try {
  isFirefox = /firefox/i.test(navigator.userAgent);
} catch (e) {
  /* Ignore */
}
/**
 * A reactive, fluid grid layout with draggable, resizable components.
 */


var ReactGridLayout = /*#__PURE__*/function (_React$Component) {
  _inherits(ReactGridLayout, _React$Component);

  var _super = _createSuper(ReactGridLayout);

  // TODO publish internal ReactClass displayName transform
  // Refactored to another module to make way for preval
  function ReactGridLayout(props
  /*: Props*/
  , context
  /*: any*/
  )
  /*: void*/
  {
    var _this;

    _classCallCheck(this, ReactGridLayout);

    _this = _super.call(this, props, context);

    _defineProperty(_assertThisInitialized(_this), "state", {
      activeDrag: null,
      layout: (0, _utils.synchronizeLayoutWithChildren)(_this.props.layout, _this.props.children, _this.props.cols, // Legacy support for verticalCompact: false
      (0, _utils.compactType)(_this.props)),
      mounted: false,
      oldDragItem: null,
      oldLayout: null,
      oldResizeItem: null,
      droppingDOMNode: null,
      children: []
    });

    _defineProperty(_assertThisInitialized(_this), "dragEnterCounter", 0);

    _defineProperty(_assertThisInitialized(_this), "onDragOver", function (e) {
      var _e$nativeEvent$target;

      // we should ignore events from layout's children in Firefox
      // to avoid unpredictable jumping of a dropping placeholder
      // FIXME remove this hack
      if (isFirefox && // $FlowIgnore can't figure this out
      !((_e$nativeEvent$target = e.nativeEvent.target) !== null && _e$nativeEvent$target !== void 0 && _e$nativeEvent$target.classList.contains(layoutClassName))) {
        // without this Firefox will not allow drop if currently over droppingItem
        e.preventDefault();
        return false;
      }

      var _this$props = _this.props,
          droppingItem = _this$props.droppingItem,
          margin = _this$props.margin,
          cols = _this$props.cols,
          rowHeight = _this$props.rowHeight,
          maxRows = _this$props.maxRows,
          width = _this$props.width,
          containerPadding = _this$props.containerPadding;
      var layout = _this.state.layout; // This is relative to the DOM element that this event fired for.

      var _e$nativeEvent = e.nativeEvent,
          layerX = _e$nativeEvent.layerX,
          layerY = _e$nativeEvent.layerY;
      var droppingPosition = {
        left: layerX,
        top: layerY,
        e: e
      };

      if (!_this.state.droppingDOMNode) {
        var positionParams
        /*: PositionParams*/
        = {
          cols: cols,
          margin: margin,
          maxRows: maxRows,
          rowHeight: rowHeight,
          containerWidth: width,
          containerPadding: containerPadding || margin
        };
        var calculatedPosition = (0, _calculateUtils.calcXY)(positionParams, layerY, layerX, droppingItem.w, droppingItem.h);

        _this.setState({
          droppingDOMNode: /*#__PURE__*/React.createElement("div", {
            key: droppingItem.i
          }),
          droppingPosition: droppingPosition,
          layout: [].concat(_toConsumableArray(layout), [_objectSpread(_objectSpread({}, droppingItem), {}, {
            x: calculatedPosition.x,
            y: calculatedPosition.y,
            static: false,
            isDraggable: true
          })])
        });
      } else if (_this.state.droppingPosition) {
        var _this$state$droppingP = _this.state.droppingPosition,
            left = _this$state$droppingP.left,
            top = _this$state$droppingP.top;
        var shouldUpdatePosition = left != layerX || top != layerY;

        if (shouldUpdatePosition) {
          _this.setState({
            droppingPosition: droppingPosition
          });
        }
      }

      e.stopPropagation();
      e.preventDefault();
    });

    _defineProperty(_assertThisInitialized(_this), "removeDroppingPlaceholder", function () {
      var _this$props2 = _this.props,
          droppingItem = _this$props2.droppingItem,
          cols = _this$props2.cols;
      var layout = _this.state.layout;
      var newLayout = (0, _utils.compact)(layout.filter(function (l) {
        return l.i !== droppingItem.i;
      }), (0, _utils.compactType)(_this.props), cols);

      _this.setState({
        layout: newLayout,
        droppingDOMNode: null,
        activeDrag: null,
        droppingPosition: undefined
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onDragLeave", function () {
      _this.dragEnterCounter--; // onDragLeave can be triggered on each layout's child.
      // But we know that count of dragEnter and dragLeave events
      // will be balanced after leaving the layout's container
      // so we can increase and decrease count of dragEnter and
      // when it'll be equal to 0 we'll remove the placeholder

      if (_this.dragEnterCounter === 0) {
        _this.removeDroppingPlaceholder();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onDragEnter", function () {
      _this.dragEnterCounter++;
    });

    _defineProperty(_assertThisInitialized(_this), "onDrop", function (e
    /*: Event*/
    ) {
      var droppingItem = _this.props.droppingItem;
      var layout = _this.state.layout;
      var item = layout.find(function (l) {
        return l.i === droppingItem.i;
      }); // reset dragEnter counter on drop

      _this.dragEnterCounter = 0;

      _this.removeDroppingPlaceholder();

      _this.props.onDrop(layout, item, e);
    });

    (0, _utils.autoBindHandlers)(_assertThisInitialized(_this), ["onDragStart", "onDrag", "onDragStop", "onResizeStart", "onResize", "onResizeStop"]);
    return _this;
  }

  _createClass(ReactGridLayout, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.setState({
        mounted: true
      }); // Possibly call back with layout on mount. This should be done after correcting the layout width
      // to ensure we don't rerender with the wrong width.

      this.onLayoutMaybeChanged(this.state.layout, this.props.layout);
    }
  }, {
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate(nextProps
    /*: Props*/
    , nextState
    /*: State*/
    )
    /*: boolean*/
    {
      return (// NOTE: this is almost always unequal. Therefore the only way to get better performance
        // from SCU is if the user intentionally memoizes children. If they do, and they can
        // handle changes properly, performance will increase.
        this.props.children !== nextProps.children || !(0, _utils.fastRGLPropsEqual)(this.props, nextProps, _lodash.default) || this.state.activeDrag !== nextState.activeDrag || this.state.mounted !== nextState.mounted || this.state.droppingPosition !== nextState.droppingPosition
      );
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps
    /*: Props*/
    , prevState
    /*: State*/
    ) {
      if (!this.state.activeDrag) {
        var newLayout = this.state.layout;
        var oldLayout = prevState.layout;
        this.onLayoutMaybeChanged(newLayout, oldLayout);
      }
    }
    /**
     * Calculates a pixel value for the container.
     * @return {String} Container height in pixels.
     */

  }, {
    key: "containerHeight",
    value: function containerHeight()
    /*: ?string*/
    {
      if (!this.props.autoSize) return;
      var nbRow = (0, _utils.bottom)(this.state.layout);
      var containerPaddingY = this.props.containerPadding ? this.props.containerPadding[1] : this.props.margin[1];
      return nbRow * this.props.rowHeight + (nbRow - 1) * this.props.margin[1] + containerPaddingY * 2 + "px";
    }
    /**
     * When dragging starts
     * @param {String} i Id of the child
     * @param {Number} x X position of the move
     * @param {Number} y Y position of the move
     * @param {Event} e The mousedown event
     * @param {Element} node The current dragging DOM element
     */

  }, {
    key: "onDragStart",
    value: function onDragStart(i
    /*: string*/
    , x
    /*: number*/
    , y
    /*: number*/
    , _ref)
    /*: void*/
    {
      var e = _ref.e,
          node = _ref.node;
      var layout = this.state.layout;
      var l = (0, _utils.getLayoutItem)(layout, i);
      if (!l) return;
      this.setState({
        oldDragItem: (0, _utils.cloneLayoutItem)(l),
        oldLayout: this.state.layout
      });
      return this.props.onDragStart(layout, l, l, null, e, node);
    }
    /**
     * Each drag movement create a new dragelement and move the element to the dragged location
     * @param {String} i Id of the child
     * @param {Number} x X position of the move
     * @param {Number} y Y position of the move
     * @param {Event} e The mousedown event
     * @param {Element} node The current dragging DOM element
     */

  }, {
    key: "onDrag",
    value: function onDrag(i
    /*: string*/
    , x
    /*: number*/
    , y
    /*: number*/
    , _ref2)
    /*: void*/
    {
      var e = _ref2.e,
          node = _ref2.node;
      var oldDragItem = this.state.oldDragItem;
      var layout = this.state.layout;
      var cols = this.props.cols;
      var l = (0, _utils.getLayoutItem)(layout, i);
      if (!l) return; // Create placeholder (display only)

      var placeholder = {
        w: l.w,
        h: l.h,
        x: l.x,
        y: l.y,
        placeholder: true,
        i: i
      }; // Move the element to the dragged location.

      var isUserAction = true;
      layout = (0, _utils.moveElement)(layout, l, x, y, isUserAction, this.props.preventCollision, (0, _utils.compactType)(this.props), cols);
      this.props.onDrag(layout, oldDragItem, l, placeholder, e, node);
      this.setState({
        layout: (0, _utils.compact)(layout, (0, _utils.compactType)(this.props), cols),
        activeDrag: placeholder
      });
    }
    /**
     * When dragging stops, figure out which position the element is closest to and update its x and y.
     * @param  {String} i Index of the child.
     * @param {Number} x X position of the move
     * @param {Number} y Y position of the move
     * @param {Event} e The mousedown event
     * @param {Element} node The current dragging DOM element
     */

  }, {
    key: "onDragStop",
    value: function onDragStop(i
    /*: string*/
    , x
    /*: number*/
    , y
    /*: number*/
    , _ref3)
    /*: void*/
    {
      var e = _ref3.e,
          node = _ref3.node;
      if (!this.state.activeDrag) return;
      var oldDragItem = this.state.oldDragItem;
      var layout = this.state.layout;
      var _this$props3 = this.props,
          cols = _this$props3.cols,
          preventCollision = _this$props3.preventCollision;
      var l = (0, _utils.getLayoutItem)(layout, i);
      if (!l) return; // Move the element here

      var isUserAction = true;
      layout = (0, _utils.moveElement)(layout, l, x, y, isUserAction, preventCollision, (0, _utils.compactType)(this.props), cols);
      this.props.onDragStop(layout, oldDragItem, l, null, e, node); // Set state

      var newLayout = (0, _utils.compact)(layout, (0, _utils.compactType)(this.props), cols);
      var oldLayout = this.state.oldLayout;
      this.setState({
        activeDrag: null,
        layout: newLayout,
        oldDragItem: null,
        oldLayout: null
      });
      this.onLayoutMaybeChanged(newLayout, oldLayout);
    }
  }, {
    key: "onLayoutMaybeChanged",
    value: function onLayoutMaybeChanged(newLayout
    /*: Layout*/
    , oldLayout
    /*: ?Layout*/
    ) {
      if (!oldLayout) oldLayout = this.state.layout;

      if (!(0, _lodash.default)(oldLayout, newLayout)) {
        this.props.onLayoutChange(newLayout);
      }
    }
  }, {
    key: "onResizeStart",
    value: function onResizeStart(i
    /*: string*/
    , w
    /*: number*/
    , h
    /*: number*/
    , _ref4) {
      var e = _ref4.e,
          node = _ref4.node;
      var layout = this.state.layout;
      var l = (0, _utils.getLayoutItem)(layout, i);
      if (!l) return;
      this.setState({
        oldResizeItem: (0, _utils.cloneLayoutItem)(l),
        oldLayout: this.state.layout
      });
      this.props.onResizeStart(layout, l, l, null, e, node);
    }
  }, {
    key: "onResize",
    value: function onResize(i
    /*: string*/
    , w
    /*: number*/
    , h
    /*: number*/
    , _ref5) {
      var e = _ref5.e,
          node = _ref5.node;
      var _this$state = this.state,
          layout = _this$state.layout,
          oldResizeItem = _this$state.oldResizeItem;
      var _this$props4 = this.props,
          cols = _this$props4.cols,
          preventCollision = _this$props4.preventCollision;

      var _withLayoutItem = (0, _utils.withLayoutItem)(layout, i, function (l) {
        // Something like quad tree should be used
        // to find collisions faster
        var hasCollisions;

        if (preventCollision) {
          var collisions = (0, _utils.getAllCollisions)(layout, _objectSpread(_objectSpread({}, l), {}, {
            w: w,
            h: h
          })).filter(function (layoutItem) {
            return layoutItem.i !== l.i;
          });
          hasCollisions = collisions.length > 0; // If we're colliding, we need adjust the placeholder.

          if (hasCollisions) {
            // adjust w && h to maximum allowed space
            var leastX = Infinity,
                leastY = Infinity;
            collisions.forEach(function (layoutItem) {
              if (layoutItem.x > l.x) leastX = Math.min(leastX, layoutItem.x);
              if (layoutItem.y > l.y) leastY = Math.min(leastY, layoutItem.y);
            });
            if (Number.isFinite(leastX)) l.w = leastX - l.x;
            if (Number.isFinite(leastY)) l.h = leastY - l.y;
          }
        }

        if (!hasCollisions) {
          // Set new width and height.
          l.w = w;
          l.h = h;
        }

        return l;
      }),
          _withLayoutItem2 = _slicedToArray(_withLayoutItem, 2),
          newLayout = _withLayoutItem2[0],
          l = _withLayoutItem2[1]; // Shouldn't ever happen, but typechecking makes it necessary


      if (!l) return; // Create placeholder element (display only)

      var placeholder = {
        w: l.w,
        h: l.h,
        x: l.x,
        y: l.y,
        static: true,
        i: i
      };
      this.props.onResize(newLayout, oldResizeItem, l, placeholder, e, node); // Re-compact the newLayout and set the drag placeholder.

      this.setState({
        layout: (0, _utils.compact)(newLayout, (0, _utils.compactType)(this.props), cols),
        activeDrag: placeholder
      });
    }
  }, {
    key: "onResizeStop",
    value: function onResizeStop(i
    /*: string*/
    , w
    /*: number*/
    , h
    /*: number*/
    , _ref6) {
      var e = _ref6.e,
          node = _ref6.node;
      var _this$state2 = this.state,
          layout = _this$state2.layout,
          oldResizeItem = _this$state2.oldResizeItem;
      var cols = this.props.cols;
      var l = (0, _utils.getLayoutItem)(layout, i);
      this.props.onResizeStop(layout, oldResizeItem, l, null, e, node); // Set state

      var newLayout = (0, _utils.compact)(layout, (0, _utils.compactType)(this.props), cols);
      var oldLayout = this.state.oldLayout;
      this.setState({
        activeDrag: null,
        layout: newLayout,
        oldResizeItem: null,
        oldLayout: null
      });
      this.onLayoutMaybeChanged(newLayout, oldLayout);
    }
    /**
     * Create a placeholder object.
     * @return {Element} Placeholder div.
     */

  }, {
    key: "placeholder",
    value: function placeholder()
    /*: ?ReactElement<any>*/
    {
      var activeDrag = this.state.activeDrag;
      if (!activeDrag) return null;
      var _this$props5 = this.props,
          width = _this$props5.width,
          cols = _this$props5.cols,
          margin = _this$props5.margin,
          containerPadding = _this$props5.containerPadding,
          rowHeight = _this$props5.rowHeight,
          maxRows = _this$props5.maxRows,
          useCSSTransforms = _this$props5.useCSSTransforms,
          transformScale = _this$props5.transformScale; // {...this.state.activeDrag} is pretty slow, actually

      return /*#__PURE__*/React.createElement(_GridItem.default, {
        w: activeDrag.w,
        h: activeDrag.h,
        x: activeDrag.x,
        y: activeDrag.y,
        i: activeDrag.i,
        className: "react-grid-placeholder",
        containerWidth: width,
        cols: cols,
        margin: margin,
        containerPadding: containerPadding || margin,
        maxRows: maxRows,
        rowHeight: rowHeight,
        isDraggable: false,
        isResizable: false,
        isBounded: false,
        useCSSTransforms: useCSSTransforms,
        transformScale: transformScale
      }, /*#__PURE__*/React.createElement("div", null));
    }
    /**
     * Given a grid item, set its style attributes & surround in a <Draggable>.
     * @param  {Element} child React element.
     * @return {Element}       Element wrapped in draggable and properly placed.
     */

  }, {
    key: "processGridItem",
    value: function processGridItem(child
    /*: ReactElement<any>*/
    , isDroppingItem
    /*: boolean*/
    )
    /*: ?ReactElement<any>*/
    {
      if (!child || !child.key) return;
      var l = (0, _utils.getLayoutItem)(this.state.layout, String(child.key));
      if (!l) return null;
      var _this$props6 = this.props,
          width = _this$props6.width,
          cols = _this$props6.cols,
          margin = _this$props6.margin,
          containerPadding = _this$props6.containerPadding,
          rowHeight = _this$props6.rowHeight,
          maxRows = _this$props6.maxRows,
          isDraggable = _this$props6.isDraggable,
          isResizable = _this$props6.isResizable,
          isBounded = _this$props6.isBounded,
          useCSSTransforms = _this$props6.useCSSTransforms,
          transformScale = _this$props6.transformScale,
          draggableCancel = _this$props6.draggableCancel,
          draggableHandle = _this$props6.draggableHandle,
          resizeHandles = _this$props6.resizeHandles,
          resizeHandle = _this$props6.resizeHandle;
      var _this$state3 = this.state,
          mounted = _this$state3.mounted,
          droppingPosition = _this$state3.droppingPosition; // Determine user manipulations possible.
      // If an item is static, it can't be manipulated by default.
      // Any properties defined directly on the grid item will take precedence.

      var draggable = typeof l.isDraggable === "boolean" ? l.isDraggable : !l.static && isDraggable;
      var resizable = typeof l.isResizable === "boolean" ? l.isResizable : !l.static && isResizable;
      var resizeHandlesOptions = l.resizeHandles || resizeHandles; // isBounded set on child if set on parent, and child is not explicitly false

      var bounded = draggable && isBounded && l.isBounded !== false;
      return /*#__PURE__*/React.createElement(_GridItem.default, {
        containerWidth: width,
        cols: cols,
        margin: margin,
        containerPadding: containerPadding || margin,
        maxRows: maxRows,
        rowHeight: rowHeight,
        cancel: draggableCancel,
        handle: draggableHandle,
        onDragStop: this.onDragStop,
        onDragStart: this.onDragStart,
        onDrag: this.onDrag,
        onResizeStart: this.onResizeStart,
        onResize: this.onResize,
        onResizeStop: this.onResizeStop,
        isDraggable: draggable,
        isResizable: resizable,
        isBounded: bounded,
        useCSSTransforms: useCSSTransforms && mounted,
        usePercentages: !mounted,
        transformScale: transformScale,
        w: l.w,
        h: l.h,
        x: l.x,
        y: l.y,
        i: l.i,
        minH: l.minH,
        minW: l.minW,
        maxH: l.maxH,
        maxW: l.maxW,
        static: l.static,
        droppingPosition: isDroppingItem ? droppingPosition : undefined,
        resizeHandles: resizeHandlesOptions,
        resizeHandle: resizeHandle
      }, child);
    } // Called while dragging an element. Part of browser native drag/drop API.
    // Native event target might be the layout itself, or an element within the layout.

  }, {
    key: "render",
    value: function render()
    /*: React.Element<"div">*/
    {
      var _this2 = this;

      var _this$props7 = this.props,
          className = _this$props7.className,
          style = _this$props7.style,
          isDroppable = _this$props7.isDroppable,
          innerRef = _this$props7.innerRef;
      var mergedClassName = (0, _classnames.default)(layoutClassName, className);

      var mergedStyle = _objectSpread({
        height: this.containerHeight()
      }, style);

      return /*#__PURE__*/React.createElement("div", {
        ref: innerRef,
        className: mergedClassName,
        style: mergedStyle,
        onDrop: isDroppable ? this.onDrop : _utils.noop,
        onDragLeave: isDroppable ? this.onDragLeave : _utils.noop,
        onDragEnter: isDroppable ? this.onDragEnter : _utils.noop,
        onDragOver: isDroppable ? this.onDragOver : _utils.noop
      }, React.Children.map(this.props.children, function (child) {
        return _this2.processGridItem(child);
      }), isDroppable && this.state.droppingDOMNode && this.processGridItem(this.state.droppingDOMNode, true), this.placeholder());
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(nextProps
    /*: Props*/
    , prevState
    /*: State*/
    )
    /*: $Shape<State> | null*/
    {
      var newLayoutBase;

      if (prevState.activeDrag) {
        return null;
      } // Legacy support for compactType
      // Allow parent to set layout directly.


      if (!(0, _lodash.default)(nextProps.layout, prevState.propsLayout) || nextProps.compactType !== prevState.compactType) {
        newLayoutBase = nextProps.layout;
      } else if (!(0, _utils.childrenEqual)(nextProps.children, prevState.children)) {
        // If children change, also regenerate the layout. Use our state
        // as the base in case because it may be more up to date than
        // what is in props.
        newLayoutBase = prevState.layout;
      } // We need to regenerate the layout.


      if (newLayoutBase) {
        var newLayout = (0, _utils.synchronizeLayoutWithChildren)(newLayoutBase, nextProps.children, nextProps.cols, (0, _utils.compactType)(nextProps));
        return {
          layout: newLayout,
          // We need to save these props to state for using
          // getDerivedStateFromProps instead of componentDidMount (in which we would get extra rerender)
          compactType: nextProps.compactType,
          children: nextProps.children,
          propsLayout: nextProps.layout
        };
      }

      return null;
    }
  }]);

  return ReactGridLayout;
}(React.Component);

exports.default = ReactGridLayout;

_defineProperty(ReactGridLayout, "displayName", "ReactGridLayout");

_defineProperty(ReactGridLayout, "propTypes", _ReactGridLayoutPropTypes.default);

_defineProperty(ReactGridLayout, "defaultProps", {
  autoSize: true,
  cols: 12,
  className: "",
  style: {},
  draggableHandle: "",
  draggableCancel: "",
  containerPadding: null,
  rowHeight: 150,
  maxRows: Infinity,
  // infinite vertical growth
  layout: [],
  margin: [10, 10],
  isBounded: false,
  isDraggable: true,
  isResizable: true,
  isDroppable: false,
  useCSSTransforms: true,
  transformScale: 1,
  verticalCompact: true,
  compactType: "vertical",
  preventCollision: false,
  droppingItem: {
    i: "__dropping-elem__",
    h: 1,
    w: 1
  },
  resizeHandles: ["se"],
  onLayoutChange: _utils.noop,
  onDragStart: _utils.noop,
  onDrag: _utils.noop,
  onDragStop: _utils.noop,
  onResizeStart: _utils.noop,
  onResize: _utils.noop,
  onResizeStop: _utils.noop,
  onDrop: _utils.noop
});

/***/ }),

/***/ "./node_modules/react-grid-layout/build/ReactGridLayoutPropTypes.js":
/*!**************************************************************************!*\
  !*** ./node_modules/react-grid-layout/build/ReactGridLayoutPropTypes.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.resizeHandleType = exports.resizeHandlesType = void 0;

var _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js"));

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Defines which resize handles should be rendered (default: 'se')
// Allows for any combination of:
// 's' - South handle (bottom-center)
// 'w' - West handle (left-center)
// 'e' - East handle (right-center)
// 'n' - North handle (top-center)
// 'sw' - Southwest handle (bottom-left)
// 'nw' - Northwest handle (top-left)
// 'se' - Southeast handle (bottom-right)
// 'ne' - Northeast handle (top-right)
var resizeHandlesType
/*: ReactPropsChainableTypeChecker*/
= _propTypes.default.arrayOf(_propTypes.default.oneOf(["s", "w", "e", "n", "sw", "nw", "se", "ne"])); // Custom component for resize handles


exports.resizeHandlesType = resizeHandlesType;

var resizeHandleType
/*: ReactPropsChainableTypeChecker*/
= _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]);
/*:: export type Props = {|
  className: string,
  style: Object,
  width: number,
  autoSize: boolean,
  cols: number,
  draggableCancel: string,
  draggableHandle: string,
  verticalCompact: boolean,
  compactType: CompactType,
  layout: Layout,
  margin: [number, number],
  containerPadding: ?[number, number],
  rowHeight: number,
  maxRows: number,
  isBounded: boolean,
  isDraggable: boolean,
  isResizable: boolean,
  isDroppable: boolean,
  preventCollision: boolean,
  useCSSTransforms: boolean,
  transformScale: number,
  droppingItem: $Shape<LayoutItem>,
  resizeHandles: ResizeHandles,
  resizeHandle?: ResizeHandle,

  // Callbacks
  onLayoutChange: Layout => void,
  onDrag: EventCallback,
  onDragStart: EventCallback,
  onDragStop: EventCallback,
  onResize: EventCallback,
  onResizeStart: EventCallback,
  onResizeStop: EventCallback,
  onDrop: (layout: Layout, item: ?LayoutItem, e: Event) => void,
  children: ReactChildrenArray<ReactElement<any>>,
  innerRef?: Ref<"div">
|};*/

/*:: export type DefaultProps = $Diff<
  Props,
  {
    children: ReactChildrenArray<ReactElement<any>>,
    width: number
  }
>;*/


exports.resizeHandleType = resizeHandleType;
var _default = {
  //
  // Basic props
  //
  className: _propTypes.default.string,
  style: _propTypes.default.object,
  // This can be set explicitly. If it is not set, it will automatically
  // be set to the container width. Note that resizes will *not* cause this to adjust.
  // If you need that behavior, use WidthProvider.
  width: _propTypes.default.number,
  // If true, the container height swells and contracts to fit contents
  autoSize: _propTypes.default.bool,
  // # of cols.
  cols: _propTypes.default.number,
  // A selector that will not be draggable.
  draggableCancel: _propTypes.default.string,
  // A selector for the draggable handler
  draggableHandle: _propTypes.default.string,
  // Deprecated
  verticalCompact: function verticalCompact(props
  /*: Props*/
  ) {
    if (props.verticalCompact === false && "false" !== "production") {
      console.warn( // eslint-disable-line no-console
      "`verticalCompact` on <ReactGridLayout> is deprecated and will be removed soon. " + 'Use `compactType`: "horizontal" | "vertical" | null.');
    }
  },
  // Choose vertical or hotizontal compaction
  compactType: (_propTypes.default.oneOf(["vertical", "horizontal"])
  /*: ReactPropsChainableTypeChecker*/
  ),
  // layout is an array of object with the format:
  // {x: Number, y: Number, w: Number, h: Number, i: String}
  layout: function layout(props
  /*: Props*/
  ) {
    var layout = props.layout; // I hope you're setting the data-grid property on the grid items

    if (layout === undefined) return;

    __webpack_require__(/*! ./utils */ "./node_modules/react-grid-layout/build/utils.js").validateLayout(layout, "layout");
  },
  //
  // Grid Dimensions
  //
  // Margin between items [x, y] in px
  margin: (_propTypes.default.arrayOf(_propTypes.default.number)
  /*: ReactPropsChainableTypeChecker*/
  ),
  // Padding inside the container [x, y] in px
  containerPadding: (_propTypes.default.arrayOf(_propTypes.default.number)
  /*: ReactPropsChainableTypeChecker*/
  ),
  // Rows have a static height, but you can change this based on breakpoints if you like
  rowHeight: _propTypes.default.number,
  // Default Infinity, but you can specify a max here if you like.
  // Note that this isn't fully fleshed out and won't error if you specify a layout that
  // extends beyond the row capacity. It will, however, not allow users to drag/resize
  // an item past the barrier. They can push items beyond the barrier, though.
  // Intentionally not documented for this reason.
  maxRows: _propTypes.default.number,
  //
  // Flags
  //
  isBounded: _propTypes.default.bool,
  isDraggable: _propTypes.default.bool,
  isResizable: _propTypes.default.bool,
  // If true, grid items won't change position when being dragged over.
  preventCollision: _propTypes.default.bool,
  // Use CSS transforms instead of top/left
  useCSSTransforms: _propTypes.default.bool,
  // parent layout transform scale
  transformScale: _propTypes.default.number,
  // If true, an external element can trigger onDrop callback with a specific grid position as a parameter
  isDroppable: _propTypes.default.bool,
  // Resize handle options
  resizeHandles: resizeHandlesType,
  resizeHandle: resizeHandleType,
  //
  // Callbacks
  //
  // Callback so you can save the layout. Calls after each drag & resize stops.
  onLayoutChange: _propTypes.default.func,
  // Calls when drag starts. Callback is of the signature (layout, oldItem, newItem, placeholder, e, ?node).
  // All callbacks below have the same signature. 'start' and 'stop' callbacks omit the 'placeholder'.
  onDragStart: _propTypes.default.func,
  // Calls on each drag movement.
  onDrag: _propTypes.default.func,
  // Calls when drag is complete.
  onDragStop: _propTypes.default.func,
  //Calls when resize starts.
  onResizeStart: _propTypes.default.func,
  // Calls when resize movement happens.
  onResize: _propTypes.default.func,
  // Calls when resize is complete.
  onResizeStop: _propTypes.default.func,
  // Calls when some element is dropped.
  onDrop: _propTypes.default.func,
  //
  // Other validations
  //
  droppingItem: (_propTypes.default.shape({
    i: _propTypes.default.string.isRequired,
    w: _propTypes.default.number.isRequired,
    h: _propTypes.default.number.isRequired
  })
  /*: ReactPropsChainableTypeChecker*/
  ),
  // Children must not have duplicate keys.
  children: function children(props
  /*: Props*/
  , propName
  /*: string*/
  ) {
    var children = props[propName]; // Check children keys for duplicates. Throw if found.

    var keys = {};

    _react.default.Children.forEach(children, function (child) {
      if (keys[child.key]) {
        throw new Error('Duplicate child key "' + child.key + '" found! This will cause problems in ReactGridLayout.');
      }

      keys[child.key] = true;
    });
  },
  // Optional ref for getting a reference for the wrapping div.
  innerRef: _propTypes.default.any
};
exports.default = _default;

/***/ }),

/***/ "./node_modules/react-grid-layout/build/ResponsiveReactGridLayout.js":
/*!***************************************************************************!*\
  !*** ./node_modules/react-grid-layout/build/ResponsiveReactGridLayout.js ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js"));

var _lodash = _interopRequireDefault(__webpack_require__(/*! lodash.isequal */ "./node_modules/lodash.isequal/index.js"));

var _utils = __webpack_require__(/*! ./utils */ "./node_modules/react-grid-layout/build/utils.js");

var _responsiveUtils = __webpack_require__(/*! ./responsiveUtils */ "./node_modules/react-grid-layout/build/responsiveUtils.js");

var _ReactGridLayout = _interopRequireDefault(__webpack_require__(/*! ./ReactGridLayout */ "./node_modules/react-grid-layout/build/ReactGridLayout.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var type = function type(obj) {
  return Object.prototype.toString.call(obj);
};
/**
 * Get a value of margin or containerPadding.
 *
 * @param  {Array | Object} param Margin | containerPadding, e.g. [10, 10] | {lg: [10, 10], ...}.
 * @param  {String} breakpoint   Breakpoint: lg, md, sm, xs and etc.
 * @return {Array}
 */


function getIndentationValue
/*:: <T: ?[number, number]>*/
(param
/*: { [key: string]: T } | T*/
, breakpoint
/*: string*/
)
/*: T*/
{
  // $FlowIgnore TODO fix this typedef
  if (param == null) return null; // $FlowIgnore TODO fix this typedef

  return Array.isArray(param) ? param : param[breakpoint];
}
/*:: type State = {
  layout: Layout,
  breakpoint: string,
  cols: number,
  layouts?: ResponsiveLayout<string>
};*/

/*:: type Props<Breakpoint: string = string> = {|
  ...React.ElementConfig<typeof ReactGridLayout>,

  // Responsive config
  breakpoint?: ?Breakpoint,
  breakpoints: Breakpoints<Breakpoint>,
  cols: { [key: Breakpoint]: number },
  layouts: ResponsiveLayout<Breakpoint>,
  width: number,
  margin: { [key: Breakpoint]: [number, number] } | [number, number],
  /* prettier-ignore *-/
  containerPadding: { [key: Breakpoint]: ?[number, number] } | ?[number, number],

  // Callbacks
  onBreakpointChange: (Breakpoint, cols: number) => void,
  onLayoutChange: OnLayoutChangeCallback,
  onWidthChange: (
    containerWidth: number,
    margin: [number, number],
    cols: number,
    containerPadding: ?[number, number]
  ) => void
|};*/

/*:: type DefaultProps = Pick<
  Props<>,
  {|
    breakpoints: 0,
    cols: 0,
    containerPadding: 0,
    layouts: 0,
    margin: 0,
    onBreakpointChange: 0,
    onLayoutChange: 0,
    onWidthChange: 0
  |}
>;*/


var ResponsiveReactGridLayout = /*#__PURE__*/function (_React$Component) {
  _inherits(ResponsiveReactGridLayout, _React$Component);

  var _super = _createSuper(ResponsiveReactGridLayout);

  function ResponsiveReactGridLayout() {
    var _this;

    _classCallCheck(this, ResponsiveReactGridLayout);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", _this.generateInitialState());

    _defineProperty(_assertThisInitialized(_this), "onLayoutChange", function (layout
    /*: Layout*/
    ) {
      _this.props.onLayoutChange(layout, _objectSpread(_objectSpread({}, _this.props.layouts), {}, _defineProperty({}, _this.state.breakpoint, layout)));
    });

    return _this;
  }

  _createClass(ResponsiveReactGridLayout, [{
    key: "generateInitialState",
    value: function generateInitialState()
    /*: State*/
    {
      var _this$props = this.props,
          width = _this$props.width,
          breakpoints = _this$props.breakpoints,
          layouts = _this$props.layouts,
          cols = _this$props.cols;
      var breakpoint = (0, _responsiveUtils.getBreakpointFromWidth)(breakpoints, width);
      var colNo = (0, _responsiveUtils.getColsFromBreakpoint)(breakpoint, cols); // verticalCompact compatibility, now deprecated

      var compactType = this.props.verticalCompact === false ? null : this.props.compactType; // Get the initial layout. This can tricky; we try to generate one however possible if one doesn't exist
      // for this layout.

      var initialLayout = (0, _responsiveUtils.findOrGenerateResponsiveLayout)(layouts, breakpoints, breakpoint, breakpoint, colNo, compactType);
      return {
        layout: initialLayout,
        breakpoint: breakpoint,
        cols: colNo
      };
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps
    /*: Props<*>*/
    ) {
      // Allow parent to set width or breakpoint directly.
      if (this.props.width != prevProps.width || this.props.breakpoint !== prevProps.breakpoint || !(0, _lodash.default)(this.props.breakpoints, prevProps.breakpoints) || !(0, _lodash.default)(this.props.cols, prevProps.cols)) {
        this.onWidthChange(prevProps);
      }
    } // wrap layouts so we do not need to pass layouts to child

  }, {
    key: "onWidthChange",
    value:
    /**
     * When the width changes work through breakpoints and reset state with the new width & breakpoint.
     * Width changes are necessary to figure out the widget widths.
     */
    function onWidthChange(prevProps
    /*: Props<*>*/
    ) {
      var _this$props2 = this.props,
          breakpoints = _this$props2.breakpoints,
          cols = _this$props2.cols,
          layouts = _this$props2.layouts,
          compactType = _this$props2.compactType;
      var newBreakpoint = this.props.breakpoint || (0, _responsiveUtils.getBreakpointFromWidth)(this.props.breakpoints, this.props.width);
      var lastBreakpoint = this.state.breakpoint;
      var newCols
      /*: number*/
      = (0, _responsiveUtils.getColsFromBreakpoint)(newBreakpoint, cols);

      var newLayouts = _objectSpread({}, layouts); // Breakpoint change


      if (lastBreakpoint !== newBreakpoint || prevProps.breakpoints !== breakpoints || prevProps.cols !== cols) {
        // Preserve the current layout if the current breakpoint is not present in the next layouts.
        if (!(lastBreakpoint in newLayouts)) newLayouts[lastBreakpoint] = (0, _utils.cloneLayout)(this.state.layout); // Find or generate a new layout.

        var layout = (0, _responsiveUtils.findOrGenerateResponsiveLayout)(newLayouts, breakpoints, newBreakpoint, lastBreakpoint, newCols, compactType); // This adds missing items.

        layout = (0, _utils.synchronizeLayoutWithChildren)(layout, this.props.children, newCols, compactType); // Store the new layout.

        newLayouts[newBreakpoint] = layout; // callbacks

        this.props.onLayoutChange(layout, newLayouts);
        this.props.onBreakpointChange(newBreakpoint, newCols);
        this.setState({
          breakpoint: newBreakpoint,
          layout: layout,
          cols: newCols
        });
      }

      var margin = getIndentationValue(this.props.margin, newBreakpoint);
      var containerPadding = getIndentationValue(this.props.containerPadding, newBreakpoint); //call onWidthChange on every change of width, not only on breakpoint changes

      this.props.onWidthChange(this.props.width, margin, newCols, containerPadding);
    }
  }, {
    key: "render",
    value: function render()
    /*: React.Element<typeof ReactGridLayout>*/
    {
      /* eslint-disable no-unused-vars */
      var _this$props3 = this.props,
          breakpoint = _this$props3.breakpoint,
          breakpoints = _this$props3.breakpoints,
          cols = _this$props3.cols,
          layouts = _this$props3.layouts,
          margin = _this$props3.margin,
          containerPadding = _this$props3.containerPadding,
          onBreakpointChange = _this$props3.onBreakpointChange,
          onLayoutChange = _this$props3.onLayoutChange,
          onWidthChange = _this$props3.onWidthChange,
          other = _objectWithoutProperties(_this$props3, ["breakpoint", "breakpoints", "cols", "layouts", "margin", "containerPadding", "onBreakpointChange", "onLayoutChange", "onWidthChange"]);
      /* eslint-enable no-unused-vars */


      return /*#__PURE__*/React.createElement(_ReactGridLayout.default, _extends({}, other, {
        // $FlowIgnore should allow nullable here due to DefaultProps
        margin: getIndentationValue(margin, this.state.breakpoint),
        containerPadding: getIndentationValue(containerPadding, this.state.breakpoint),
        onLayoutChange: this.onLayoutChange,
        layout: this.state.layout,
        cols: this.state.cols
      }));
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(nextProps
    /*: Props<*>*/
    , prevState
    /*: State*/
    )
    /*: ?$Shape<State>*/
    {
      if (!(0, _lodash.default)(nextProps.layouts, prevState.layouts)) {
        // Allow parent to set layouts directly.
        var breakpoint = prevState.breakpoint,
            _cols = prevState.cols; // Since we're setting an entirely new layout object, we must generate a new responsive layout
        // if one does not exist.

        var newLayout = (0, _responsiveUtils.findOrGenerateResponsiveLayout)(nextProps.layouts, nextProps.breakpoints, breakpoint, breakpoint, _cols, nextProps.compactType);
        return {
          layout: newLayout,
          layouts: nextProps.layouts
        };
      }

      return null;
    }
  }]);

  return ResponsiveReactGridLayout;
}(React.Component);

exports.default = ResponsiveReactGridLayout;

_defineProperty(ResponsiveReactGridLayout, "propTypes", {
  //
  // Basic props
  //
  // Optional, but if you are managing width yourself you may want to set the breakpoint
  // yourself as well.
  breakpoint: _propTypes.default.string,
  // {name: pxVal}, e.g. {lg: 1200, md: 996, sm: 768, xs: 480}
  breakpoints: _propTypes.default.object,
  // # of cols. This is a breakpoint -> cols map
  cols: _propTypes.default.object,
  // # of margin. This is a breakpoint -> margin map
  // e.g. { lg: [5, 5], md: [10, 10], sm: [15, 15] }
  // Margin between items [x, y] in px
  // e.g. [10, 10]
  margin: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.object]),
  // # of containerPadding. This is a breakpoint -> containerPadding map
  // e.g. { lg: [5, 5], md: [10, 10], sm: [15, 15] }
  // Padding inside the container [x, y] in px
  // e.g. [10, 10]
  containerPadding: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.object]),
  // layouts is an object mapping breakpoints to layouts.
  // e.g. {lg: Layout, md: Layout, ...}
  layouts: function layouts(props
  /*: Props<>*/
  , propName
  /*: string*/
  ) {
    if (type(props[propName]) !== "[object Object]") {
      throw new Error("Layout property must be an object. Received: " + type(props[propName]));
    }

    Object.keys(props[propName]).forEach(function (key) {
      if (!(key in props.breakpoints)) {
        throw new Error("Each key in layouts must align with a key in breakpoints.");
      }

      (0, _utils.validateLayout)(props.layouts[key], "layouts." + key);
    });
  },
  // The width of this component.
  // Required in this propTypes stanza because generateInitialState() will fail without it.
  width: _propTypes.default.number.isRequired,
  //
  // Callbacks
  //
  // Calls back with breakpoint and new # cols
  onBreakpointChange: _propTypes.default.func,
  // Callback so you can save the layout.
  // Calls back with (currentLayout, allLayouts). allLayouts are keyed by breakpoint.
  onLayoutChange: _propTypes.default.func,
  // Calls back with (containerWidth, margin, cols, containerPadding)
  onWidthChange: _propTypes.default.func
});

_defineProperty(ResponsiveReactGridLayout, "defaultProps", {
  breakpoints: {
    lg: 1200,
    md: 996,
    sm: 768,
    xs: 480,
    xxs: 0
  },
  cols: {
    lg: 12,
    md: 10,
    sm: 6,
    xs: 4,
    xxs: 2
  },
  containerPadding: {
    lg: null,
    md: null,
    sm: null,
    xs: null,
    xxs: null
  },
  layouts: {},
  margin: [10, 10],
  onBreakpointChange: _utils.noop,
  onLayoutChange: _utils.noop,
  onWidthChange: _utils.noop
});

/***/ }),

/***/ "./node_modules/react-grid-layout/build/calculateUtils.js":
/*!****************************************************************!*\
  !*** ./node_modules/react-grid-layout/build/calculateUtils.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.calcGridColWidth = calcGridColWidth;
exports.calcGridItemWHPx = calcGridItemWHPx;
exports.calcGridItemPosition = calcGridItemPosition;
exports.calcXY = calcXY;
exports.calcWH = calcWH;
exports.clamp = clamp;

/*:: import type { Position } from "./utils";*/

/*:: export type PositionParams = {
  margin: [number, number],
  containerPadding: [number, number],
  containerWidth: number,
  cols: number,
  rowHeight: number,
  maxRows: number
};*/
// Helper for generating column width
function calcGridColWidth(positionParams
/*: PositionParams*/
)
/*: number*/
{
  var margin = positionParams.margin,
      containerPadding = positionParams.containerPadding,
      containerWidth = positionParams.containerWidth,
      cols = positionParams.cols;
  return (containerWidth - margin[0] * (cols - 1) - containerPadding[0] * 2) / cols;
} // This can either be called:
// calcGridItemWHPx(w, colWidth, margin[0])
// or
// calcGridItemWHPx(h, rowHeight, margin[1])


function calcGridItemWHPx(gridUnits
/*: number*/
, colOrRowSize
/*: number*/
, marginPx
/*: number*/
)
/*: number*/
{
  // 0 * Infinity === NaN, which causes problems with resize contraints
  if (!Number.isFinite(gridUnits)) return gridUnits;
  return Math.round(colOrRowSize * gridUnits + Math.max(0, gridUnits - 1) * marginPx);
}
/**
 * Return position on the page given an x, y, w, h.
 * left, top, width, height are all in pixels.
 * @param  {PositionParams} positionParams  Parameters of grid needed for coordinates calculations.
 * @param  {Number}  x                      X coordinate in grid units.
 * @param  {Number}  y                      Y coordinate in grid units.
 * @param  {Number}  w                      W coordinate in grid units.
 * @param  {Number}  h                      H coordinate in grid units.
 * @return {Position}                       Object containing coords.
 */


function calcGridItemPosition(positionParams
/*: PositionParams*/
, x
/*: number*/
, y
/*: number*/
, w
/*: number*/
, h
/*: number*/
, state
/*: ?Object*/
)
/*: Position*/
{
  var margin = positionParams.margin,
      containerPadding = positionParams.containerPadding,
      rowHeight = positionParams.rowHeight;
  var colWidth = calcGridColWidth(positionParams);
  var out = {}; // If resizing, use the exact width and height as returned from resizing callbacks.

  if (state && state.resizing) {
    out.width = Math.round(state.resizing.width);
    out.height = Math.round(state.resizing.height);
  } // Otherwise, calculate from grid units.
  else {
      out.width = calcGridItemWHPx(w, colWidth, margin[0]);
      out.height = calcGridItemWHPx(h, rowHeight, margin[1]);
    } // If dragging, use the exact width and height as returned from dragging callbacks.


  if (state && state.dragging) {
    out.top = Math.round(state.dragging.top);
    out.left = Math.round(state.dragging.left);
  } // Otherwise, calculate from grid units.
  else {
      out.top = Math.round((rowHeight + margin[1]) * y + containerPadding[1]);
      out.left = Math.round((colWidth + margin[0]) * x + containerPadding[0]);
    }

  return out;
}
/**
 * Translate x and y coordinates from pixels to grid units.
 * @param  {PositionParams} positionParams  Parameters of grid needed for coordinates calculations.
 * @param  {Number} top                     Top position (relative to parent) in pixels.
 * @param  {Number} left                    Left position (relative to parent) in pixels.
 * @param  {Number} w                       W coordinate in grid units.
 * @param  {Number} h                       H coordinate in grid units.
 * @return {Object}                         x and y in grid units.
 */


function calcXY(positionParams
/*: PositionParams*/
, top
/*: number*/
, left
/*: number*/
, w
/*: number*/
, h
/*: number*/
)
/*: { x: number, y: number }*/
{
  var margin = positionParams.margin,
      cols = positionParams.cols,
      rowHeight = positionParams.rowHeight,
      maxRows = positionParams.maxRows;
  var colWidth = calcGridColWidth(positionParams); // left = colWidth * x + margin * (x + 1)
  // l = cx + m(x+1)
  // l = cx + mx + m
  // l - m = cx + mx
  // l - m = x(c + m)
  // (l - m) / (c + m) = x
  // x = (left - margin) / (coldWidth + margin)

  var x = Math.round((left - margin[0]) / (colWidth + margin[0]));
  var y = Math.round((top - margin[1]) / (rowHeight + margin[1])); // Capping

  x = clamp(x, 0, cols - w);
  y = clamp(y, 0, maxRows - h);
  return {
    x: x,
    y: y
  };
}
/**
 * Given a height and width in pixel values, calculate grid units.
 * @param  {PositionParams} positionParams  Parameters of grid needed for coordinates calcluations.
 * @param  {Number} height                  Height in pixels.
 * @param  {Number} width                   Width in pixels.
 * @param  {Number} x                       X coordinate in grid units.
 * @param  {Number} y                       Y coordinate in grid units.
 * @return {Object}                         w, h as grid units.
 */


function calcWH(positionParams
/*: PositionParams*/
, width
/*: number*/
, height
/*: number*/
, x
/*: number*/
, y
/*: number*/
)
/*: { w: number, h: number }*/
{
  var margin = positionParams.margin,
      maxRows = positionParams.maxRows,
      cols = positionParams.cols,
      rowHeight = positionParams.rowHeight;
  var colWidth = calcGridColWidth(positionParams); // width = colWidth * w - (margin * (w - 1))
  // ...
  // w = (width + margin) / (colWidth + margin)

  var w = Math.round((width + margin[0]) / (colWidth + margin[0]));
  var h = Math.round((height + margin[1]) / (rowHeight + margin[1])); // Capping

  w = clamp(w, 0, cols - x);
  h = clamp(h, 0, maxRows - y);
  return {
    w: w,
    h: h
  };
} // Similar to _.clamp


function clamp(num
/*: number*/
, lowerBound
/*: number*/
, upperBound
/*: number*/
)
/*: number*/
{
  return Math.max(Math.min(num, upperBound), lowerBound);
}

/***/ }),

/***/ "./node_modules/react-grid-layout/build/components/WidthProvider.js":
/*!**************************************************************************!*\
  !*** ./node_modules/react-grid-layout/build/components/WidthProvider.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = WidthProvideRGL;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js"));

var _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ "./node_modules/classnames/index.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var layoutClassName = "react-grid-layout";
/*
 * A simple HOC that provides facility for listening to container resizes.
 *
 * The Flow type is pretty janky here. I can't just spread `WPProps` into this returned object - I wish I could - but it triggers
 * a flow bug of some sort that causes it to stop typechecking.
 */

function WidthProvideRGL
/*:: <Config>*/
(ComposedComponent
/*: React.AbstractComponent<Config>*/
)
/*: React.AbstractComponent<ComposedProps<Config>>*/
{
  var _class, _temp;

  return _temp = _class = /*#__PURE__*/function (_React$Component) {
    _inherits(WidthProvider, _React$Component);

    var _super = _createSuper(WidthProvider);

    function WidthProvider() {
      var _this;

      _classCallCheck(this, WidthProvider);

      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      _this = _super.call.apply(_super, [this].concat(args));

      _defineProperty(_assertThisInitialized(_this), "state", {
        width: 1280
      });

      _defineProperty(_assertThisInitialized(_this), "elementRef", /*#__PURE__*/React.createRef());

      _defineProperty(_assertThisInitialized(_this), "mounted", false);

      _defineProperty(_assertThisInitialized(_this), "onWindowResize", function () {
        if (!_this.mounted) return;
        var node = _this.elementRef.current; // Flow casts this to Text | Element
        // fix: grid position error when node or parentNode display is none by window resize
        // #924 #1084

        if (node instanceof HTMLElement && node.offsetWidth) {
          _this.setState({
            width: node.offsetWidth
          });
        }
      });

      return _this;
    }

    _createClass(WidthProvider, [{
      key: "componentDidMount",
      value: function componentDidMount() {
        this.mounted = true;
        window.addEventListener("resize", this.onWindowResize); // Call to properly set the breakpoint and resize the elements.
        // Note that if you're doing a full-width element, this can get a little wonky if a scrollbar
        // appears because of the grid. In that case, fire your own resize event, or set `overflow: scroll` on your body.

        this.onWindowResize();
      }
    }, {
      key: "componentWillUnmount",
      value: function componentWillUnmount() {
        this.mounted = false;
        window.removeEventListener("resize", this.onWindowResize);
      }
    }, {
      key: "render",
      value: function render() {
        var _this$props = this.props,
            measureBeforeMount = _this$props.measureBeforeMount,
            rest = _objectWithoutProperties(_this$props, ["measureBeforeMount"]);

        if (measureBeforeMount && !this.mounted) {
          return /*#__PURE__*/React.createElement("div", {
            className: (0, _classnames.default)(this.props.className, layoutClassName),
            style: this.props.style // $FlowIgnore ref types
            ,
            ref: this.elementRef
          });
        }

        return /*#__PURE__*/React.createElement(ComposedComponent, _extends({
          innerRef: this.elementRef
        }, rest, this.state));
      }
    }]);

    return WidthProvider;
  }(React.Component), _defineProperty(_class, "defaultProps", {
    measureBeforeMount: false
  }), _defineProperty(_class, "propTypes", {
    // If true, will not render children until mounted. Useful for getting the exact width before
    // rendering, to prevent any unsightly resizing.
    measureBeforeMount: _propTypes.default.bool
  }), _temp;
}

/***/ }),

/***/ "./node_modules/react-grid-layout/build/fastRGLPropsEqual.js":
/*!*******************************************************************!*\
  !*** ./node_modules/react-grid-layout/build/fastRGLPropsEqual.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// this file was prevaled
module.exports = function fastRGLPropsEqual(a, b, isEqualImpl) {
  if (a === b) return true;
  return a.className === b.className && isEqualImpl(a.style, b.style) && a.width === b.width && a.autoSize === b.autoSize && a.cols === b.cols && a.draggableCancel === b.draggableCancel && a.draggableHandle === b.draggableHandle && isEqualImpl(a.verticalCompact, b.verticalCompact) && isEqualImpl(a.compactType, b.compactType) && isEqualImpl(a.layout, b.layout) && isEqualImpl(a.margin, b.margin) && isEqualImpl(a.containerPadding, b.containerPadding) && a.rowHeight === b.rowHeight && a.maxRows === b.maxRows && a.isBounded === b.isBounded && a.isDraggable === b.isDraggable && a.isResizable === b.isResizable && a.preventCollision === b.preventCollision && a.useCSSTransforms === b.useCSSTransforms && a.transformScale === b.transformScale && a.isDroppable === b.isDroppable && isEqualImpl(a.resizeHandles, b.resizeHandles) && isEqualImpl(a.resizeHandle, b.resizeHandle) && a.onLayoutChange === b.onLayoutChange && a.onDragStart === b.onDragStart && a.onDrag === b.onDrag && a.onDragStop === b.onDragStop && a.onResizeStart === b.onResizeStart && a.onResize === b.onResize && a.onResizeStop === b.onResizeStop && a.onDrop === b.onDrop && isEqualImpl(a.droppingItem, b.droppingItem) && isEqualImpl(a.innerRef, b.innerRef);
};

/***/ }),

/***/ "./node_modules/react-grid-layout/build/responsiveUtils.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-grid-layout/build/responsiveUtils.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getBreakpointFromWidth = getBreakpointFromWidth;
exports.getColsFromBreakpoint = getColsFromBreakpoint;
exports.findOrGenerateResponsiveLayout = findOrGenerateResponsiveLayout;
exports.sortBreakpoints = sortBreakpoints;

var _utils = __webpack_require__(/*! ./utils */ "./node_modules/react-grid-layout/build/utils.js");

/**
 * Given a width, find the highest breakpoint that matches is valid for it (width > breakpoint).
 *
 * @param  {Object} breakpoints Breakpoints object (e.g. {lg: 1200, md: 960, ...})
 * @param  {Number} width Screen width.
 * @return {String}       Highest breakpoint that is less than width.
 */
function getBreakpointFromWidth(breakpoints
/*: Breakpoints<Breakpoint>*/
, width
/*: number*/
)
/*: Breakpoint*/
{
  var sorted = sortBreakpoints(breakpoints);
  var matching = sorted[0];

  for (var i = 1, len = sorted.length; i < len; i++) {
    var breakpointName = sorted[i];
    if (width > breakpoints[breakpointName]) matching = breakpointName;
  }

  return matching;
}
/**
 * Given a breakpoint, get the # of cols set for it.
 * @param  {String} breakpoint Breakpoint name.
 * @param  {Object} cols       Map of breakpoints to cols.
 * @return {Number}            Number of cols.
 */


function getColsFromBreakpoint(breakpoint
/*: Breakpoint*/
, cols
/*: Breakpoints<Breakpoint>*/
)
/*: number*/
{
  if (!cols[breakpoint]) {
    throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint " + breakpoint + " is missing!");
  }

  return cols[breakpoint];
}
/**
 * Given existing layouts and a new breakpoint, find or generate a new layout.
 *
 * This finds the layout above the new one and generates from it, if it exists.
 *
 * @param  {Object} layouts     Existing layouts.
 * @param  {Array} breakpoints All breakpoints.
 * @param  {String} breakpoint New breakpoint.
 * @param  {String} breakpoint Last breakpoint (for fallback).
 * @param  {Number} cols       Column count at new breakpoint.
 * @param  {Boolean} verticalCompact Whether or not to compact the layout
 *   vertically.
 * @return {Array}             New layout.
 */


function findOrGenerateResponsiveLayout(layouts
/*: ResponsiveLayout<Breakpoint>*/
, breakpoints
/*: Breakpoints<Breakpoint>*/
, breakpoint
/*: Breakpoint*/
, lastBreakpoint
/*: Breakpoint*/
, cols
/*: number*/
, compactType
/*: CompactType*/
)
/*: Layout*/
{
  // If it already exists, just return it.
  if (layouts[breakpoint]) return (0, _utils.cloneLayout)(layouts[breakpoint]); // Find or generate the next layout

  var layout = layouts[lastBreakpoint];
  var breakpointsSorted = sortBreakpoints(breakpoints);
  var breakpointsAbove = breakpointsSorted.slice(breakpointsSorted.indexOf(breakpoint));

  for (var i = 0, len = breakpointsAbove.length; i < len; i++) {
    var b = breakpointsAbove[i];

    if (layouts[b]) {
      layout = layouts[b];
      break;
    }
  }

  layout = (0, _utils.cloneLayout)(layout || []); // clone layout so we don't modify existing items

  return (0, _utils.compact)((0, _utils.correctBounds)(layout, {
    cols: cols
  }), compactType, cols);
}
/**
 * Given breakpoints, return an array of breakpoints sorted by width. This is usually
 * e.g. ['xxs', 'xs', 'sm', ...]
 *
 * @param  {Object} breakpoints Key/value pair of breakpoint names to widths.
 * @return {Array}              Sorted breakpoints.
 */


function sortBreakpoints(breakpoints
/*: Breakpoints<Breakpoint>*/
)
/*: Array<Breakpoint>*/
{
  var keys
  /*: Array<string>*/
  = Object.keys(breakpoints);
  return keys.sort(function (a, b) {
    return breakpoints[a] - breakpoints[b];
  });
}

/***/ }),

/***/ "./node_modules/react-grid-layout/build/utils.js":
/*!*******************************************************!*\
  !*** ./node_modules/react-grid-layout/build/utils.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.bottom = bottom;
exports.cloneLayout = cloneLayout;
exports.modifyLayout = modifyLayout;
exports.withLayoutItem = withLayoutItem;
exports.cloneLayoutItem = cloneLayoutItem;
exports.childrenEqual = childrenEqual;
exports.fastPositionEqual = fastPositionEqual;
exports.collides = collides;
exports.compact = compact;
exports.compactItem = compactItem;
exports.correctBounds = correctBounds;
exports.getLayoutItem = getLayoutItem;
exports.getFirstCollision = getFirstCollision;
exports.getAllCollisions = getAllCollisions;
exports.getStatics = getStatics;
exports.moveElement = moveElement;
exports.moveElementAwayFromCollision = moveElementAwayFromCollision;
exports.perc = perc;
exports.setTransform = setTransform;
exports.setTopLeft = setTopLeft;
exports.sortLayoutItems = sortLayoutItems;
exports.sortLayoutItemsByRowCol = sortLayoutItemsByRowCol;
exports.sortLayoutItemsByColRow = sortLayoutItemsByColRow;
exports.synchronizeLayoutWithChildren = synchronizeLayoutWithChildren;
exports.validateLayout = validateLayout;
exports.compactType = compactType;
exports.autoBindHandlers = autoBindHandlers;
exports.noop = exports.fastRGLPropsEqual = void 0;

var _lodash = _interopRequireDefault(__webpack_require__(/*! lodash.isequal */ "./node_modules/lodash.isequal/index.js"));

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var isProduction = "false" === "production";
var DEBUG = false;
/**
 * Return the bottom coordinate of the layout.
 *
 * @param  {Array} layout Layout array.
 * @return {Number}       Bottom coordinate.
 */

function bottom(layout
/*: Layout*/
)
/*: number*/
{
  var max = 0,
      bottomY;

  for (var i = 0, len = layout.length; i < len; i++) {
    bottomY = layout[i].y + layout[i].h;
    if (bottomY > max) max = bottomY;
  }

  return max;
}

function cloneLayout(layout
/*: Layout*/
)
/*: Layout*/
{
  var newLayout = Array(layout.length);

  for (var i = 0, len = layout.length; i < len; i++) {
    newLayout[i] = cloneLayoutItem(layout[i]);
  }

  return newLayout;
} // Modify a layoutItem inside a layout. Returns a new Layout,
// does not mutate. Carries over all other LayoutItems unmodified.


function modifyLayout(layout
/*: Layout*/
, layoutItem
/*: LayoutItem*/
)
/*: Layout*/
{
  var newLayout = Array(layout.length);

  for (var i = 0, len = layout.length; i < len; i++) {
    if (layoutItem.i === layout[i].i) {
      newLayout[i] = layoutItem;
    } else {
      newLayout[i] = layout[i];
    }
  }

  return newLayout;
} // Function to be called to modify a layout item.
// Does defensive clones to ensure the layout is not modified.


function withLayoutItem(layout
/*: Layout*/
, itemKey
/*: string*/
, cb
/*: LayoutItem => LayoutItem*/
)
/*: [Layout, ?LayoutItem]*/
{
  var item = getLayoutItem(layout, itemKey);
  if (!item) return [layout, null];
  item = cb(cloneLayoutItem(item)); // defensive clone then modify
  // FIXME could do this faster if we already knew the index

  layout = modifyLayout(layout, item);
  return [layout, item];
} // Fast path to cloning, since this is monomorphic


function cloneLayoutItem(layoutItem
/*: LayoutItem*/
)
/*: LayoutItem*/
{
  return {
    w: layoutItem.w,
    h: layoutItem.h,
    x: layoutItem.x,
    y: layoutItem.y,
    i: layoutItem.i,
    minW: layoutItem.minW,
    maxW: layoutItem.maxW,
    minH: layoutItem.minH,
    maxH: layoutItem.maxH,
    moved: Boolean(layoutItem.moved),
    static: Boolean(layoutItem.static),
    // These can be null/undefined
    isDraggable: layoutItem.isDraggable,
    isResizable: layoutItem.isResizable,
    resizeHandles: layoutItem.resizeHandles,
    isBounded: layoutItem.isBounded
  };
}
/**
 * Comparing React `children` is a bit difficult. This is a good way to compare them.
 * This will catch differences in keys, order, and length.
 */


function childrenEqual(a
/*: ReactChildren*/
, b
/*: ReactChildren*/
)
/*: boolean*/
{
  return (0, _lodash.default)(_react.default.Children.map(a, function (c) {
    return c.key;
  }), _react.default.Children.map(b, function (c) {
    return c.key;
  }));
}
/**
 * See `fastRGLPropsEqual.js`.
 * We want this to run as fast as possible - it is called often - and to be
 * resilient to new props that we add. So rather than call lodash.isEqual,
 * which isn't suited to comparing props very well, we use this specialized
 * function in conjunction with preval to generate the fastest possible comparison
 * function, tuned for exactly our props.
 */

/*:: type FastRGLPropsEqual = (Object, Object, Function) => boolean;*/


var fastRGLPropsEqual
/*: FastRGLPropsEqual*/
= __webpack_require__(/*! ./fastRGLPropsEqual */ "./node_modules/react-grid-layout/build/fastRGLPropsEqual.js"); // Like the above, but a lot simpler.


exports.fastRGLPropsEqual = fastRGLPropsEqual;

function fastPositionEqual(a
/*: Position*/
, b
/*: Position*/
)
/*: boolean*/
{
  return a.left === b.left && a.top === b.top && a.width === b.width && a.height === b.height;
}
/**
 * Given two layoutitems, check if they collide.
 */


function collides(l1
/*: LayoutItem*/
, l2
/*: LayoutItem*/
)
/*: boolean*/
{
  if (l1.i === l2.i) return false; // same element

  if (l1.x + l1.w <= l2.x) return false; // l1 is left of l2

  if (l1.x >= l2.x + l2.w) return false; // l1 is right of l2

  if (l1.y + l1.h <= l2.y) return false; // l1 is above l2

  if (l1.y >= l2.y + l2.h) return false; // l1 is below l2

  return true; // boxes overlap
}
/**
 * Given a layout, compact it. This involves going down each y coordinate and removing gaps
 * between items.
 *
 * Does not modify layout items (clones). Creates a new layout array.
 *
 * @param  {Array} layout Layout.
 * @param  {Boolean} verticalCompact Whether or not to compact the layout
 *   vertically.
 * @return {Array}       Compacted Layout.
 */


function compact(layout
/*: Layout*/
, compactType
/*: CompactType*/
, cols
/*: number*/
)
/*: Layout*/
{
  // Statics go in the compareWith array right away so items flow around them.
  var compareWith = getStatics(layout); // We go through the items by row and column.

  var sorted = sortLayoutItems(layout, compactType); // Holding for new items.

  var out = Array(layout.length);

  for (var i = 0, len = sorted.length; i < len; i++) {
    var l = cloneLayoutItem(sorted[i]); // Don't move static elements

    if (!l.static) {
      l = compactItem(compareWith, l, compactType, cols, sorted); // Add to comparison array. We only collide with items before this one.
      // Statics are already in this array.

      compareWith.push(l);
    } // Add to output array to make sure they still come out in the right order.


    out[layout.indexOf(sorted[i])] = l; // Clear moved flag, if it exists.

    l.moved = false;
  }

  return out;
}

var heightWidth = {
  x: "w",
  y: "h"
};
/**
 * Before moving item down, it will check if the movement will cause collisions and move those items down before.
 */

function resolveCompactionCollision(layout
/*: Layout*/
, item
/*: LayoutItem*/
, moveToCoord
/*: number*/
, axis
/*: "x" | "y"*/
) {
  var sizeProp = heightWidth[axis];
  item[axis] += 1;
  var itemIndex = layout.map(function (layoutItem) {
    return layoutItem.i;
  }).indexOf(item.i); // Go through each item we collide with.

  for (var i = itemIndex + 1; i < layout.length; i++) {
    var otherItem = layout[i]; // Ignore static items

    if (otherItem.static) continue; // Optimization: we can break early if we know we're past this el
    // We can do this b/c it's a sorted layout

    if (otherItem.y > item.y + item.h) break;

    if (collides(item, otherItem)) {
      resolveCompactionCollision(layout, otherItem, moveToCoord + item[sizeProp], axis);
    }
  }

  item[axis] = moveToCoord;
}
/**
 * Compact an item in the layout.
 *
 * Modifies item.
 *
 */


function compactItem(compareWith
/*: Layout*/
, l
/*: LayoutItem*/
, compactType
/*: CompactType*/
, cols
/*: number*/
, fullLayout
/*: Layout*/
)
/*: LayoutItem*/
{
  var compactV = compactType === "vertical";
  var compactH = compactType === "horizontal";

  if (compactV) {
    // Bottom 'y' possible is the bottom of the layout.
    // This allows you to do nice stuff like specify {y: Infinity}
    // This is here because the layout must be sorted in order to get the correct bottom `y`.
    l.y = Math.min(bottom(compareWith), l.y); // Move the element up as far as it can go without colliding.

    while (l.y > 0 && !getFirstCollision(compareWith, l)) {
      l.y--;
    }
  } else if (compactH) {
    // Move the element left as far as it can go without colliding.
    while (l.x > 0 && !getFirstCollision(compareWith, l)) {
      l.x--;
    }
  } // Move it down, and keep moving it down if it's colliding.


  var collides;

  while (collides = getFirstCollision(compareWith, l)) {
    if (compactH) {
      resolveCompactionCollision(fullLayout, l, collides.x + collides.w, "x");
    } else {
      resolveCompactionCollision(fullLayout, l, collides.y + collides.h, "y");
    } // Since we can't grow without bounds horizontally, if we've overflown, let's move it down and try again.


    if (compactH && l.x + l.w > cols) {
      l.x = cols - l.w;
      l.y++;
    }
  }

  return l;
}
/**
 * Given a layout, make sure all elements fit within its bounds.
 *
 * Modifies layout items.
 *
 * @param  {Array} layout Layout array.
 * @param  {Number} bounds Number of columns.
 */


function correctBounds(layout
/*: Layout*/
, bounds
/*: { cols: number }*/
)
/*: Layout*/
{
  var collidesWith = getStatics(layout);

  for (var i = 0, len = layout.length; i < len; i++) {
    var l = layout[i]; // Overflows right

    if (l.x + l.w > bounds.cols) l.x = bounds.cols - l.w; // Overflows left

    if (l.x < 0) {
      l.x = 0;
      l.w = bounds.cols;
    }

    if (!l.static) collidesWith.push(l);else {
      // If this is static and collides with other statics, we must move it down.
      // We have to do something nicer than just letting them overlap.
      while (getFirstCollision(collidesWith, l)) {
        l.y++;
      }
    }
  }

  return layout;
}
/**
 * Get a layout item by ID. Used so we can override later on if necessary.
 *
 * @param  {Array}  layout Layout array.
 * @param  {String} id     ID
 * @return {LayoutItem}    Item at ID.
 */


function getLayoutItem(layout
/*: Layout*/
, id
/*: string*/
)
/*: ?LayoutItem*/
{
  for (var i = 0, len = layout.length; i < len; i++) {
    if (layout[i].i === id) return layout[i];
  }
}
/**
 * Returns the first item this layout collides with.
 * It doesn't appear to matter which order we approach this from, although
 * perhaps that is the wrong thing to do.
 *
 * @param  {Object} layoutItem Layout item.
 * @return {Object|undefined}  A colliding layout item, or undefined.
 */


function getFirstCollision(layout
/*: Layout*/
, layoutItem
/*: LayoutItem*/
)
/*: ?LayoutItem*/
{
  for (var i = 0, len = layout.length; i < len; i++) {
    if (collides(layout[i], layoutItem)) return layout[i];
  }
}

function getAllCollisions(layout
/*: Layout*/
, layoutItem
/*: LayoutItem*/
)
/*: Array<LayoutItem>*/
{
  return layout.filter(function (l) {
    return collides(l, layoutItem);
  });
}
/**
 * Get all static elements.
 * @param  {Array} layout Array of layout objects.
 * @return {Array}        Array of static layout items..
 */


function getStatics(layout
/*: Layout*/
)
/*: Array<LayoutItem>*/
{
  return layout.filter(function (l) {
    return l.static;
  });
}
/**
 * Move an element. Responsible for doing cascading movements of other elements.
 *
 * Modifies layout items.
 *
 * @param  {Array}      layout            Full layout to modify.
 * @param  {LayoutItem} l                 element to move.
 * @param  {Number}     [x]               X position in grid units.
 * @param  {Number}     [y]               Y position in grid units.
 */


function moveElement(layout
/*: Layout*/
, l
/*: LayoutItem*/
, x
/*: ?number*/
, y
/*: ?number*/
, isUserAction
/*: ?boolean*/
, preventCollision
/*: ?boolean*/
, compactType
/*: CompactType*/
, cols
/*: number*/
)
/*: Layout*/
{
  // If this is static and not explicitly enabled as draggable,
  // no move is possible, so we can short-circuit this immediately.
  if (l.static && l.isDraggable !== true) return layout; // Short-circuit if nothing to do.

  if (l.y === y && l.x === x) return layout;
  log("Moving element ".concat(l.i, " to [").concat(String(x), ",").concat(String(y), "] from [").concat(l.x, ",").concat(l.y, "]"));
  var oldX = l.x;
  var oldY = l.y; // This is quite a bit faster than extending the object

  if (typeof x === "number") l.x = x;
  if (typeof y === "number") l.y = y;
  l.moved = true; // If this collides with anything, move it.
  // When doing this comparison, we have to sort the items we compare with
  // to ensure, in the case of multiple collisions, that we're getting the
  // nearest collision.

  var sorted = sortLayoutItems(layout, compactType);
  var movingUp = compactType === "vertical" && typeof y === "number" ? oldY >= y : compactType === "horizontal" && typeof x === "number" ? oldX >= x : false; // $FlowIgnore acceptable modification of read-only array as it was recently cloned

  if (movingUp) sorted = sorted.reverse();
  var collisions = getAllCollisions(sorted, l); // There was a collision; abort

  if (preventCollision && collisions.length) {
    log("Collision prevented on ".concat(l.i, ", reverting."));
    l.x = oldX;
    l.y = oldY;
    l.moved = false;
    return layout;
  } // Move each item that collides away from this element.


  for (var i = 0, len = collisions.length; i < len; i++) {
    var collision = collisions[i];
    log("Resolving collision between ".concat(l.i, " at [").concat(l.x, ",").concat(l.y, "] and ").concat(collision.i, " at [").concat(collision.x, ",").concat(collision.y, "]")); // Short circuit so we can't infinite loop

    if (collision.moved) continue; // Don't move static items - we have to move *this* element away

    if (collision.static) {
      layout = moveElementAwayFromCollision(layout, collision, l, isUserAction, compactType, cols);
    } else {
      layout = moveElementAwayFromCollision(layout, l, collision, isUserAction, compactType, cols);
    }
  }

  return layout;
}
/**
 * This is where the magic needs to happen - given a collision, move an element away from the collision.
 * We attempt to move it up if there's room, otherwise it goes below.
 *
 * @param  {Array} layout            Full layout to modify.
 * @param  {LayoutItem} collidesWith Layout item we're colliding with.
 * @param  {LayoutItem} itemToMove   Layout item we're moving.
 */


function moveElementAwayFromCollision(layout
/*: Layout*/
, collidesWith
/*: LayoutItem*/
, itemToMove
/*: LayoutItem*/
, isUserAction
/*: ?boolean*/
, compactType
/*: CompactType*/
, cols
/*: number*/
)
/*: Layout*/
{
  var compactH = compactType === "horizontal"; // Compact vertically if not set to horizontal

  var compactV = compactType !== "horizontal";
  var preventCollision = collidesWith.static; // we're already colliding (not for static items)
  // If there is enough space above the collision to put this element, move it there.
  // We only do this on the main collision as this can get funky in cascades and cause
  // unwanted swapping behavior.

  if (isUserAction) {
    // Reset isUserAction flag because we're not in the main collision anymore.
    isUserAction = false; // Make a mock item so we don't modify the item here, only modify in moveElement.

    var fakeItem
    /*: LayoutItem*/
    = {
      x: compactH ? Math.max(collidesWith.x - itemToMove.w, 0) : itemToMove.x,
      y: compactV ? Math.max(collidesWith.y - itemToMove.h, 0) : itemToMove.y,
      w: itemToMove.w,
      h: itemToMove.h,
      i: "-1"
    }; // No collision? If so, we can go up there; otherwise, we'll end up moving down as normal

    if (!getFirstCollision(layout, fakeItem)) {
      log("Doing reverse collision on ".concat(itemToMove.i, " up to [").concat(fakeItem.x, ",").concat(fakeItem.y, "]."));
      return moveElement(layout, itemToMove, compactH ? fakeItem.x : undefined, compactV ? fakeItem.y : undefined, isUserAction, preventCollision, compactType, cols);
    }
  }

  return moveElement(layout, itemToMove, compactH ? itemToMove.x + 1 : undefined, compactV ? itemToMove.y + 1 : undefined, isUserAction, preventCollision, compactType, cols);
}
/**
 * Helper to convert a number to a percentage string.
 *
 * @param  {Number} num Any number
 * @return {String}     That number as a percentage.
 */


function perc(num
/*: number*/
)
/*: string*/
{
  return num * 100 + "%";
}

function setTransform(_ref)
/*: Object*/
{
  var top = _ref.top,
      left = _ref.left,
      width = _ref.width,
      height = _ref.height;
  // Replace unitless items with px
  var translate = "translate(".concat(left, "px,").concat(top, "px)");
  return {
    transform: translate,
    WebkitTransform: translate,
    MozTransform: translate,
    msTransform: translate,
    OTransform: translate,
    width: "".concat(width, "px"),
    height: "".concat(height, "px"),
    position: "absolute"
  };
}

function setTopLeft(_ref2)
/*: Object*/
{
  var top = _ref2.top,
      left = _ref2.left,
      width = _ref2.width,
      height = _ref2.height;
  return {
    top: "".concat(top, "px"),
    left: "".concat(left, "px"),
    width: "".concat(width, "px"),
    height: "".concat(height, "px"),
    position: "absolute"
  };
}
/**
 * Get layout items sorted from top left to right and down.
 *
 * @return {Array} Array of layout objects.
 * @return {Array}        Layout, sorted static items first.
 */


function sortLayoutItems(layout
/*: Layout*/
, compactType
/*: CompactType*/
)
/*: Layout*/
{
  if (compactType === "horizontal") return sortLayoutItemsByColRow(layout);else return sortLayoutItemsByRowCol(layout);
}
/**
 * Sort layout items by row ascending and column ascending.
 *
 * Does not modify Layout.
 */


function sortLayoutItemsByRowCol(layout
/*: Layout*/
)
/*: Layout*/
{
  // Slice to clone array as sort modifies
  return layout.slice(0).sort(function (a, b) {
    if (a.y > b.y || a.y === b.y && a.x > b.x) {
      return 1;
    } else if (a.y === b.y && a.x === b.x) {
      // Without this, we can get different sort results in IE vs. Chrome/FF
      return 0;
    }

    return -1;
  });
}
/**
 * Sort layout items by column ascending then row ascending.
 *
 * Does not modify Layout.
 */


function sortLayoutItemsByColRow(layout
/*: Layout*/
)
/*: Layout*/
{
  return layout.slice(0).sort(function (a, b) {
    if (a.x > b.x || a.x === b.x && a.y > b.y) {
      return 1;
    }

    return -1;
  });
}
/**
 * Generate a layout using the initialLayout and children as a template.
 * Missing entries will be added, extraneous ones will be truncated.
 *
 * Does not modify initialLayout.
 *
 * @param  {Array}  initialLayout Layout passed in through props.
 * @param  {String} breakpoint    Current responsive breakpoint.
 * @param  {?String} compact      Compaction option.
 * @return {Array}                Working layout.
 */


function synchronizeLayoutWithChildren(initialLayout
/*: Layout*/
, children
/*: ReactChildren*/
, cols
/*: number*/
, compactType
/*: CompactType*/
)
/*: Layout*/
{
  initialLayout = initialLayout || []; // Generate one layout item per child.

  var layout
  /*: LayoutItem[]*/
  = [];

  _react.default.Children.forEach(children, function (child
  /*: ReactElement<any>*/
  , i
  /*: number*/
  ) {
    // Don't overwrite if it already exists.
    var exists = getLayoutItem(initialLayout, String(child.key));

    if (exists) {
      layout[i] = cloneLayoutItem(exists);
    } else {
      if (!isProduction && child.props._grid) {
        console.warn("`_grid` properties on children have been deprecated as of React 15.2. " + // eslint-disable-line
        "Please use `data-grid` or add your properties directly to the `layout`.");
      }

      var g = child.props["data-grid"] || child.props._grid; // Hey, this item has a data-grid property, use it.

      if (g) {
        if (!isProduction) {
          validateLayout([g], "ReactGridLayout.children");
        } // FIXME clone not really necessary here


        layout[i] = cloneLayoutItem(_objectSpread(_objectSpread({}, g), {}, {
          i: child.key
        }));
      } else {
        // Nothing provided: ensure this is added to the bottom
        // FIXME clone not really necessary here
        layout[i] = cloneLayoutItem({
          w: 1,
          h: 1,
          x: 0,
          y: bottom(layout),
          i: String(child.key)
        });
      }
    }
  }); // Correct the layout.


  var correctedLayout = correctBounds(layout, {
    cols: cols
  });
  return compact(correctedLayout, compactType, cols);
}
/**
 * Validate a layout. Throws errors.
 *
 * @param  {Array}  layout        Array of layout items.
 * @param  {String} [contextName] Context name for errors.
 * @throw  {Error}                Validation error.
 */


function validateLayout(layout
/*: Layout*/
)
/*: void*/
{
  var contextName
  /*: string*/
  = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "Layout";
  var subProps = ["x", "y", "w", "h"];
  if (!Array.isArray(layout)) throw new Error(contextName + " must be an array!");

  for (var i = 0, len = layout.length; i < len; i++) {
    var item = layout[i];

    for (var j = 0; j < subProps.length; j++) {
      if (typeof item[subProps[j]] !== "number") {
        throw new Error("ReactGridLayout: " + contextName + "[" + i + "]." + subProps[j] + " must be a number!");
      }
    }

    if (item.i && typeof item.i !== "string") {
      throw new Error("ReactGridLayout: " + contextName + "[" + i + "].i must be a string!");
    }

    if (item.static !== undefined && typeof item.static !== "boolean") {
      throw new Error("ReactGridLayout: " + contextName + "[" + i + "].static must be a boolean!");
    }
  }
} // Legacy support for verticalCompact: false


function compactType(props
/*: ?{ verticalCompact: boolean, compactType: CompactType }*/
)
/*: CompactType*/
{
  var _ref3 = props || {},
      verticalCompact = _ref3.verticalCompact,
      compactType = _ref3.compactType;

  return verticalCompact === false ? null : compactType;
} // Flow can't really figure this out, so we just use Object


function autoBindHandlers(el
/*: Object*/
, fns
/*: Array<string>*/
)
/*: void*/
{
  fns.forEach(function (key) {
    return el[key] = el[key].bind(el);
  });
}

function log() {
  var _console;

  if (!DEBUG) return; // eslint-disable-next-line no-console

  (_console = console).log.apply(_console, arguments);
}

var noop = function noop() {};

exports.noop = noop;

/***/ }),

/***/ "./node_modules/react-grid-layout/index.js":
/*!*************************************************!*\
  !*** ./node_modules/react-grid-layout/index.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! ./build/ReactGridLayout */ "./node_modules/react-grid-layout/build/ReactGridLayout.js").default;
module.exports.utils = __webpack_require__(/*! ./build/utils */ "./node_modules/react-grid-layout/build/utils.js");
module.exports.Responsive = __webpack_require__(/*! ./build/ResponsiveReactGridLayout */ "./node_modules/react-grid-layout/build/ResponsiveReactGridLayout.js").default;
module.exports.Responsive.utils = __webpack_require__(/*! ./build/responsiveUtils */ "./node_modules/react-grid-layout/build/responsiveUtils.js");
module.exports.WidthProvider = __webpack_require__(/*! ./build/components/WidthProvider */ "./node_modules/react-grid-layout/build/components/WidthProvider.js").default;


/***/ }),

/***/ "./node_modules/react-resizable/build/Resizable.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-resizable/build/Resizable.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.default = void 0;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _reactDraggable = __webpack_require__(/*! react-draggable */ "./node_modules/react-draggable/build/cjs/cjs.js");

var _utils = __webpack_require__(/*! ./utils */ "./node_modules/react-resizable/build/utils.js");

var _propTypes = __webpack_require__(/*! ./propTypes */ "./node_modules/react-resizable/build/propTypes.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var Resizable = /*#__PURE__*/function (_React$Component) {
  _inheritsLoose(Resizable, _React$Component);

  function Resizable() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", undefined);

    _defineProperty(_assertThisInitialized(_this), "lastHandleRect", null);

    _defineProperty(_assertThisInitialized(_this), "slack", null);

    return _this;
  }

  var _proto = Resizable.prototype;

  _proto.componentWillUnmount = function componentWillUnmount() {
    this.resetData();
  };

  _proto.lockAspectRatio = function lockAspectRatio(width, height, aspectRatio) {
    height = width / aspectRatio;
    width = height * aspectRatio;
    return [width, height];
  };

  _proto.resetData = function resetData() {
    this.lastHandleRect = this.slack = null;
  } // Clamp width and height within provided constraints
  ;

  _proto.runConstraints = function runConstraints(width, height) {
    var _ref = [this.props.minConstraints, this.props.maxConstraints],
        min = _ref[0],
        max = _ref[1];
    if (!min && !max) return [width, height]; // If constraining to min and max, we need to also fit width and height to aspect ratio.

    if (this.props.lockAspectRatio) {
      var resizingHorizontally = height === this.props.height;

      if (resizingHorizontally) {
        var ratio = this.props.width / this.props.height;
        height = width / ratio;
        width = height * ratio;
      } else {
        // Take into account vertical resize with N/S handles on locked aspect
        // ratio. Calculate the change height-first, instead of width-first
        var _ratio = this.props.height / this.props.width;

        width = height / _ratio;
        height = width * _ratio;
      }
    }

    var oldW = width,
        oldH = height; // Add slack to the values used to calculate bound position. This will ensure that if
    // we start removing slack, the element won't react to it right away until it's been
    // completely removed.

    var _ref2 = this.slack || [0, 0],
        slackW = _ref2[0],
        slackH = _ref2[1];

    width += slackW;
    height += slackH;

    if (min) {
      width = Math.max(min[0], width);
      height = Math.max(min[1], height);
    }

    if (max) {
      width = Math.min(max[0], width);
      height = Math.min(max[1], height);
    } // If the width or height changed, we must have introduced some slack. Record it for the next iteration.


    this.slack = [slackW + (oldW - width), slackH + (oldH - height)];
    return [width, height];
  }
  /**
   * Wrapper around drag events to provide more useful data.
   *
   * @param  {String} handlerName Handler name to wrap.
   * @return {Function}           Handler function.
   */
  ;

  _proto.resizeHandler = function resizeHandler(handlerName, axis) {
    var _this2 = this;

    return function (e, _ref3) {
      var node = _ref3.node,
          deltaX = _ref3.deltaX,
          deltaY = _ref3.deltaY;
      // Reset data in case it was left over somehow (should not be possible)
      if (handlerName === 'onResizeStart') _this2.resetData(); // Axis restrictions

      var canDragX = (_this2.props.axis === 'both' || _this2.props.axis === 'x') && axis !== 'n' && axis !== 's';
      var canDragY = (_this2.props.axis === 'both' || _this2.props.axis === 'y') && axis !== 'e' && axis !== 'w'; // No dragging possible.

      if (!canDragX && !canDragY) return; // Decompose axis for later use

      var axisV = axis[0];
      var axisH = axis[axis.length - 1]; // intentionally not axis[1], so that this catches axis === 'w' for example
      // Track the element being dragged to account for changes in position.
      // If a handle's position is changed between callbacks, we need to factor this in to the next callback.
      // Failure to do so will cause the element to "skip" when resized upwards or leftwards.

      var handleRect = node.getBoundingClientRect();

      if (_this2.lastHandleRect != null) {
        // If the handle has repositioned on either axis since last render,
        // we need to increase our callback values by this much.
        // Only checking 'n', 'w' since resizing by 's', 'w' won't affect the overall position on page,
        if (axisH === 'w') {
          var deltaLeftSinceLast = handleRect.left - _this2.lastHandleRect.left;
          deltaX += deltaLeftSinceLast;
        }

        if (axisV === 'n') {
          var deltaTopSinceLast = handleRect.top - _this2.lastHandleRect.top;
          deltaY += deltaTopSinceLast;
        }
      } // Storage of last rect so we know how much it has really moved.


      _this2.lastHandleRect = handleRect; // Reverse delta if using top or left drag handles.

      if (axisH === 'w') deltaX = -deltaX;
      if (axisV === 'n') deltaY = -deltaY; // Update w/h by the deltas. Also factor in transformScale.

      var width = _this2.props.width + (canDragX ? deltaX / _this2.props.transformScale : 0);
      var height = _this2.props.height + (canDragY ? deltaY / _this2.props.transformScale : 0); // Run user-provided constraints.

      var _this2$runConstraints = _this2.runConstraints(width, height);

      width = _this2$runConstraints[0];
      height = _this2$runConstraints[1];
      var dimensionsChanged = width !== _this2.props.width || height !== _this2.props.height; // Call user-supplied callback if present.

      var cb = typeof _this2.props[handlerName] === 'function' ? _this2.props[handlerName] : null; // Don't call 'onResize' if dimensions haven't changed.

      var shouldSkipCb = handlerName === 'onResize' && !dimensionsChanged;

      if (cb && !shouldSkipCb) {
        if (typeof e.persist === 'function') e.persist();
        cb(e, {
          node: node,
          size: {
            width: width,
            height: height
          },
          handle: axis
        });
      } // Reset internal data


      if (handlerName === 'onResizeStop') _this2.resetData();
    };
  };

  _proto.renderResizeHandle = function renderResizeHandle(resizeHandleAxis) {
    var handle = this.props.handle;

    if (handle) {
      if (typeof handle === 'function') {
        return handle(resizeHandleAxis);
      }

      return handle;
    }

    return /*#__PURE__*/_react.default.createElement("span", {
      className: "react-resizable-handle react-resizable-handle-" + resizeHandleAxis
    });
  };

  _proto.render = function render() {
    var _this3 = this;

    // Pass along only props not meant for the `<Resizable>`.`
    // eslint-disable-next-line no-unused-vars
    var _this$props = this.props,
        children = _this$props.children,
        className = _this$props.className,
        draggableOpts = _this$props.draggableOpts,
        width = _this$props.width,
        height = _this$props.height,
        handle = _this$props.handle,
        handleSize = _this$props.handleSize,
        lockAspectRatio = _this$props.lockAspectRatio,
        axis = _this$props.axis,
        minConstraints = _this$props.minConstraints,
        maxConstraints = _this$props.maxConstraints,
        onResize = _this$props.onResize,
        onResizeStop = _this$props.onResizeStop,
        onResizeStart = _this$props.onResizeStart,
        resizeHandles = _this$props.resizeHandles,
        transformScale = _this$props.transformScale,
        p = _objectWithoutPropertiesLoose(_this$props, ["children", "className", "draggableOpts", "width", "height", "handle", "handleSize", "lockAspectRatio", "axis", "minConstraints", "maxConstraints", "onResize", "onResizeStop", "onResizeStart", "resizeHandles", "transformScale"]); // What we're doing here is getting the child of this element, and cloning it with this element's props.
    // We are then defining its children as:
    // Its original children (resizable's child's children), and
    // One or more draggable handles.


    return (0, _utils.cloneElement)(children, _objectSpread(_objectSpread({}, p), {}, {
      className: (className ? className + " " : '') + "react-resizable",
      children: [].concat(children.props.children, resizeHandles.map(function (handleAxis) {
        return /*#__PURE__*/_react.default.createElement(_reactDraggable.DraggableCore, _extends({}, draggableOpts, {
          key: "resizableHandle-" + handleAxis,
          onStop: _this3.resizeHandler('onResizeStop', handleAxis),
          onStart: _this3.resizeHandler('onResizeStart', handleAxis),
          onDrag: _this3.resizeHandler('onResize', handleAxis)
        }), _this3.renderResizeHandle(handleAxis));
      }))
    }));
  };

  return Resizable;
}(_react.default.Component);

exports.default = Resizable;

_defineProperty(Resizable, "propTypes", _propTypes.resizableProps);

_defineProperty(Resizable, "defaultProps", {
  handleSize: [20, 20],
  lockAspectRatio: false,
  axis: 'both',
  minConstraints: [20, 20],
  maxConstraints: [Infinity, Infinity],
  resizeHandles: ['se'],
  transformScale: 1
});

/***/ }),

/***/ "./node_modules/react-resizable/build/ResizableBox.js":
/*!************************************************************!*\
  !*** ./node_modules/react-resizable/build/ResizableBox.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js"));

var _Resizable = _interopRequireDefault(__webpack_require__(/*! ./Resizable */ "./node_modules/react-resizable/build/Resizable.js"));

var _propTypes2 = __webpack_require__(/*! ./propTypes */ "./node_modules/react-resizable/build/propTypes.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var ResizableBox = /*#__PURE__*/function (_React$Component) {
  _inheritsLoose(ResizableBox, _React$Component);

  function ResizableBox() {
    var _this;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;

    _defineProperty(_assertThisInitialized(_this), "state", {
      width: _this.props.width,
      height: _this.props.height,
      propsWidth: _this.props.width,
      propsHeight: _this.props.height
    });

    _defineProperty(_assertThisInitialized(_this), "onResize", function (e, data) {
      var size = data.size;

      if (_this.props.onResize) {
        e.persist && e.persist();

        _this.setState(size, function () {
          return _this.props.onResize && _this.props.onResize(e, data);
        });
      } else {
        _this.setState(size);
      }
    });

    return _this;
  }

  ResizableBox.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {
    // If parent changes height/width, set that in our state.
    if (state.propsWidth !== props.width || state.propsHeight !== props.height) {
      return {
        width: props.width,
        height: props.height,
        propsWidth: props.width,
        propsHeight: props.height
      };
    }

    return null;
  };

  var _proto = ResizableBox.prototype;

  _proto.render = function render() {
    // Basic wrapper around a Resizable instance.
    // If you use Resizable directly, you are responsible for updating the child component
    // with a new width and height.
    var _this$props = this.props,
        handle = _this$props.handle,
        handleSize = _this$props.handleSize,
        onResize = _this$props.onResize,
        onResizeStart = _this$props.onResizeStart,
        onResizeStop = _this$props.onResizeStop,
        draggableOpts = _this$props.draggableOpts,
        minConstraints = _this$props.minConstraints,
        maxConstraints = _this$props.maxConstraints,
        lockAspectRatio = _this$props.lockAspectRatio,
        axis = _this$props.axis,
        width = _this$props.width,
        height = _this$props.height,
        resizeHandles = _this$props.resizeHandles,
        style = _this$props.style,
        transformScale = _this$props.transformScale,
        props = _objectWithoutPropertiesLoose(_this$props, ["handle", "handleSize", "onResize", "onResizeStart", "onResizeStop", "draggableOpts", "minConstraints", "maxConstraints", "lockAspectRatio", "axis", "width", "height", "resizeHandles", "style", "transformScale"]);

    return /*#__PURE__*/React.createElement(_Resizable.default, {
      axis: axis,
      draggableOpts: draggableOpts,
      handle: handle,
      handleSize: handleSize,
      height: this.state.height,
      lockAspectRatio: lockAspectRatio,
      maxConstraints: maxConstraints,
      minConstraints: minConstraints,
      onResizeStart: onResizeStart,
      onResize: this.onResize,
      onResizeStop: onResizeStop,
      resizeHandles: resizeHandles,
      transformScale: transformScale,
      width: this.state.width
    }, /*#__PURE__*/React.createElement("div", _extends({}, props, {
      style: _objectSpread(_objectSpread({}, style), {}, {
        width: this.state.width + 'px',
        height: this.state.height + 'px'
      })
    })));
  };

  return ResizableBox;
}(React.Component);

exports.default = ResizableBox;

_defineProperty(ResizableBox, "propTypes", _objectSpread(_objectSpread({}, _propTypes2.resizableProps), {}, {
  children: _propTypes.default.element
}));

/***/ }),

/***/ "./node_modules/react-resizable/build/propTypes.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-resizable/build/propTypes.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.resizableProps = void 0;

var _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js"));

var _reactDraggable = __webpack_require__(/*! react-draggable */ "./node_modules/react-draggable/build/cjs/cjs.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var resizableProps = {
  /*
  * Restricts resizing to a particular axis (default: 'both')
  * 'both' - allows resizing by width or height
  * 'x' - only allows the width to be changed
  * 'y' - only allows the height to be changed
  * 'none' - disables resizing altogether
  * */
  axis: _propTypes.default.oneOf(['both', 'x', 'y', 'none']),
  className: _propTypes.default.string,

  /*
  * Require that one and only one child be present.
  * */
  children: _propTypes.default.element.isRequired,

  /*
  * These will be passed wholesale to react-draggable's DraggableCore
  * */
  draggableOpts: _propTypes.default.shape({
    allowAnyClick: _propTypes.default.bool,
    cancel: _propTypes.default.string,
    children: _propTypes.default.node,
    disabled: _propTypes.default.bool,
    enableUserSelectHack: _propTypes.default.bool,
    offsetParent: _propTypes.default.node,
    grid: _propTypes.default.arrayOf(_propTypes.default.number),
    handle: _propTypes.default.string,
    nodeRef: _propTypes.default.object,
    onStart: _propTypes.default.func,
    onDrag: _propTypes.default.func,
    onStop: _propTypes.default.func,
    onMouseDown: _propTypes.default.func,
    scale: _propTypes.default.number
  }),

  /*
  * Initial height
  * */
  height: _propTypes.default.number.isRequired,

  /*
  * Customize cursor resize handle
  * */
  handle: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]),

  /*
  * If you change this, be sure to update your css
  * */
  handleSize: _propTypes.default.arrayOf(_propTypes.default.number),
  lockAspectRatio: _propTypes.default.bool,

  /*
  * Max X & Y measure
  * */
  maxConstraints: _propTypes.default.arrayOf(_propTypes.default.number),

  /*
  * Min X & Y measure
  * */
  minConstraints: _propTypes.default.arrayOf(_propTypes.default.number),

  /*
  * Called on stop resize event
  * */
  onResizeStop: _propTypes.default.func,

  /*
  * Called on start resize event
  * */
  onResizeStart: _propTypes.default.func,

  /*
  * Called on resize event
  * */
  onResize: _propTypes.default.func,

  /*
  * Defines which resize handles should be rendered (default: 'se')
  * 's' - South handle (bottom-center)
  * 'w' - West handle (left-center)
  * 'e' - East handle (right-center)
  * 'n' - North handle (top-center)
  * 'sw' - Southwest handle (bottom-left)
  * 'nw' - Northwest handle (top-left)
  * 'se' - Southeast handle (bottom-right)
  * 'ne' - Northeast handle (top-center)
  * */
  resizeHandles: _propTypes.default.arrayOf(_propTypes.default.oneOf(['s', 'w', 'e', 'n', 'sw', 'nw', 'se', 'ne'])),

  /*
  * If `transform: scale(n)` is set on the parent, this should be set to `n`.
  * */
  transformScale: _propTypes.default.number,

  /*
   * Initial width
   */
  width: _propTypes.default.number.isRequired
};
exports.resizableProps = resizableProps;

/***/ }),

/***/ "./node_modules/react-resizable/build/utils.js":
/*!*****************************************************!*\
  !*** ./node_modules/react-resizable/build/utils.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.cloneElement = cloneElement;

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// React.addons.cloneWithProps look-alike that merges style & className.
function cloneElement(element, props) {
  if (props.style && element.props.style) {
    props.style = _objectSpread(_objectSpread({}, element.props.style), props.style);
  }

  if (props.className && element.props.className) {
    props.className = element.props.className + " " + props.className;
  }

  return /*#__PURE__*/_react.default.cloneElement(element, props);
}

/***/ }),

/***/ "./node_modules/react-resizable/index.js":
/*!***********************************************!*\
  !*** ./node_modules/react-resizable/index.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

module.exports = function() {
  throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable");
};

module.exports.Resizable = __webpack_require__(/*! ./build/Resizable */ "./node_modules/react-resizable/build/Resizable.js").default;
module.exports.ResizableBox = __webpack_require__(/*! ./build/ResizableBox */ "./node_modules/react-resizable/build/ResizableBox.js").default;


/***/ }),

/***/ "./node_modules/react-rte/dist/react-rte.js":
/*!**************************************************!*\
  !*** ./node_modules/react-rte/dist/react-rte.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=146)}([function(t,e,n){!function(e,n){t.exports=function(){"use strict";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return o(t)?t:T(t)}function n(t){return u(t)?t:D(t)}function r(t){return a(t)?t:O(t)}function i(t){return o(t)&&!s(t)?t:N(t)}function o(t){return!(!t||!t[cn])}function u(t){return!(!t||!t[ln])}function a(t){return!(!t||!t[fn])}function s(t){return u(t)||a(t)}function c(t){return!(!t||!t[pn])}function l(t){return t.value=!1,t}function f(t){t&&(t.value=!0)}function p(){}function h(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function d(t){return void 0===t.size&&(t.size=t.__iterate(g)),t.size}function y(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?d(t)+e:e}function g(){return!0}function v(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function _(t,e){return S(t,e,0)}function m(t,e){return S(t,e,e)}function S(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function b(t){this.next=t}function w(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function M(){return{value:void 0,done:!0}}function E(t){return!!k(t)}function x(t){return t&&"function"==typeof t.next}function I(t){var e=k(t);return e&&e.call(t)}function k(t){var e=t&&(wn&&t[wn]||t[Mn]);if("function"==typeof e)return e}function L(t){return t&&"number"==typeof t.length}function T(t){return null===t||void 0===t?R():o(t)?t.toSeq():U(t)}function D(t){return null===t||void 0===t?R().toKeyedSeq():o(t)?u(t)?t.toSeq():t.fromEntrySeq():K(t)}function O(t){return null===t||void 0===t?R():o(t)?u(t)?t.entrySeq():t.toIndexedSeq():P(t)}function N(t){return(null===t||void 0===t?R():o(t)?u(t)?t.entrySeq():t:P(t)).toSetSeq()}function C(t){this._array=t,this.size=t.length}function j(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function A(t){this._iterable=t,this.size=t.length||t.size}function z(t){this._iterator=t,this._iteratorCache=[]}function B(t){return!(!t||!t[xn])}function R(){return In||(In=new C([]))}function K(t){var e=Array.isArray(t)?new C(t).fromEntrySeq():x(t)?new z(t).fromEntrySeq():E(t)?new A(t).fromEntrySeq():"object"==typeof t?new j(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function P(t){var e=F(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function U(t){var e=F(t)||"object"==typeof t&&new j(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function F(t){return L(t)?new C(t):x(t)?new z(t):E(t)?new A(t):void 0}function Y(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,u=0;u<=o;u++){var a=i[n?o-u:u];if(!1===e(a[1],r?a[0]:u,t))return u+1}return u}return t.__iterateUncached(e,n)}function H(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,u=0;return new b(function(){var t=i[n?o-u:u];return u++>o?M():w(e,r?t[0]:u-1,t[1])})}return t.__iteratorUncached(e,n)}function q(t,e){return e?W(e,t,"",{"":t}):G(t)}function W(t,e,n,r){return Array.isArray(e)?t.call(r,n,O(e).map(function(n,r){return W(t,n,r,e)})):V(e)?t.call(r,n,D(e).map(function(n,r){return W(t,n,r,e)})):e}function G(t){return Array.isArray(t)?O(t).map(G).toList():V(t)?D(t).map(G).toMap():t}function V(t){return t&&(t.constructor===Object||void 0===t.constructor)}function Q(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function Z(t,e){if(t===e)return!0;if(!o(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||u(t)!==u(e)||a(t)!==a(e)||c(t)!==c(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!s(t);if(c(t)){var r=t.entries();return e.every(function(t,e){var i=r.next().value;return i&&Q(i[1],t)&&(n||Q(i[0],e))})&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var l=t;t=e,e=l}var f=!0,p=e.__iterate(function(e,r){if(n?!t.has(e):i?!Q(e,t.get(r,gn)):!Q(t.get(r,gn),e))return f=!1,!1});return f&&t.size===p}function J(t,e){if(!(this instanceof J))return new J(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(kn)return kn;kn=this}}function X(t,e){if(!t)throw new Error(e)}function $(t,e,n){if(!(this instanceof $))return new $(t,e,n);if(X(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(Ln)return Ln;Ln=this}}function tt(){throw TypeError("Abstract")}function et(){}function nt(){}function rt(){}function it(t){return t>>>1&1073741824|3221225471&t}function ot(t){if(!1===t||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null===t||void 0===t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)t/=4294967295,n^=t;return it(n)}if("string"===e)return t.length>zn?ut(t):at(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return st(t);if("function"==typeof t.toString)return at(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function ut(t){var e=Kn[t];return void 0===e&&(e=at(t),Rn===Bn&&(Rn=0,Kn={}),Rn++,Kn[t]=e),e}function at(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return it(e)}function st(t){var e;if(Cn&&void 0!==(e=Tn.get(t)))return e;if(void 0!==(e=t[An]))return e;if(!Nn){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[An]))return e;if(void 0!==(e=ct(t)))return e}if(e=++jn,1073741824&jn&&(jn=0),Cn)Tn.set(t,e);else{if(void 0!==On&&!1===On(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Nn)Object.defineProperty(t,An,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[An]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[An]=e}}return e}function ct(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function lt(t){X(t!==1/0,"Cannot perform this action with an infinite size.")}function ft(t){return null===t||void 0===t?wt():pt(t)&&!c(t)?t:wt().withMutations(function(e){var r=n(t);lt(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function pt(t){return!(!t||!t[Pn])}function ht(t,e){this.ownerID=t,this.entries=e}function dt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function yt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function gt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function vt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function _t(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&St(t._root)}function mt(t,e){return w(t,e[0],e[1])}function St(t,e){return{node:t,index:0,__prev:e}}function bt(t,e,n,r){var i=Object.create(Un);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function wt(){return Fn||(Fn=bt(0))}function Mt(t,e,n){var r,i;if(t._root){var o=l(vn),u=l(_n);if(r=Et(t._root,t.__ownerID,0,void 0,e,n,o,u),!u.value)return t;i=t.size+(o.value?n===gn?-1:1:0)}else{if(n===gn)return t;i=1,r=new ht(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?bt(i,r):wt()}function Et(t,e,n,r,i,o,u,a){return t?t.update(e,n,r,i,o,u,a):o===gn?t:(f(a),f(u),new vt(e,r,[i,o]))}function xt(t){return t.constructor===vt||t.constructor===gt}function It(t,e,n,r,i){if(t.keyHash===r)return new gt(e,r,[t.entry,i]);var o,u=(0===n?t.keyHash:t.keyHash>>>n)&yn,a=(0===n?r:r>>>n)&yn;return new dt(e,1<<u|1<<a,u===a?[It(t,e,n+hn,r,i)]:(o=new vt(e,r,i),u<a?[t,o]:[o,t]))}function kt(t,e,n,r){t||(t=new p);for(var i=new vt(t,ot(n),[n,r]),o=0;o<e.length;o++){var u=e[o];i=i.update(t,0,void 0,u[0],u[1])}return i}function Lt(t,e,n,r){for(var i=0,o=0,u=new Array(n),a=0,s=1,c=e.length;a<c;a++,s<<=1){var l=e[a];void 0!==l&&a!==r&&(i|=s,u[o++]=l)}return new dt(t,i,u)}function Tt(t,e,n,r,i){for(var o=0,u=new Array(dn),a=0;0!==n;a++,n>>>=1)u[a]=1&n?e[o++]:void 0;return u[r]=i,new yt(t,o+1,u)}function Dt(t,e,r){for(var i=[],u=0;u<r.length;u++){var a=r[u],s=n(a);o(a)||(s=s.map(function(t){return q(t)})),i.push(s)}return Ct(t,e,i)}function Ot(t,e,n){return t&&t.mergeDeep&&o(e)?t.mergeDeep(e):Q(t,e)?t:e}function Nt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&o(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return Q(e,i)?e:i}}function Ct(t,e,n){return n=n.filter(function(t){return 0!==t.size}),0===n.length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,gn,function(t){return t===gn?n:e(t,n,r)})}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)}):t.constructor(n[0])}function jt(t,e,n,r){var i=t===gn,o=e.next();if(o.done){var u=i?n:t,a=r(u);return a===u?t:a}X(i||t&&t.set,"invalid keyPath");var s=o.value,c=i?gn:t.get(s,gn),l=jt(c,e,n,r);return l===c?t:l===gn?t.remove(s):(i?wt():t).set(s,l)}function At(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function zt(t,e,n,r){var i=r?t:h(t);return i[e]=n,i}function Bt(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),u=0,a=0;a<i;a++)a===e?(o[a]=n,u=-1):o[a]=t[a+u];return o}function Rt(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,u=0;u<r;u++)u===e&&(o=1),i[u]=t[u+o];return i}function Kt(t){var e=Ht();if(null===t||void 0===t)return e;if(Pt(t))return t;var n=r(t),i=n.size;return 0===i?e:(lt(i),i>0&&i<dn?Yt(0,i,hn,null,new Ut(n.toArray())):e.withMutations(function(t){t.setSize(i),n.forEach(function(e,n){return t.set(n,e)})}))}function Pt(t){return!(!t||!t[Wn])}function Ut(t,e){this.array=t,this.ownerID=e}function Ft(t,e){function n(t,e,n){return 0===e?r(t,n):i(t,e,n)}function r(t,n){var r=n===a?s&&s.array:t&&t.array,i=n>o?0:o-n,c=u-n;return c>dn&&(c=dn),function(){if(i===c)return Qn;var t=e?--c:i++;return r&&r[t]}}function i(t,r,i){var a,s=t&&t.array,c=i>o?0:o-i>>r,l=1+(u-i>>r);return l>dn&&(l=dn),function(){for(;;){if(a){var t=a();if(t!==Qn)return t;a=null}if(c===l)return Qn;var o=e?--l:c++;a=n(s&&s[o],r-hn,i+(o<<r))}}}var o=t._origin,u=t._capacity,a=Jt(u),s=t._tail;return n(t._root,t._level,0)}function Yt(t,e,n,r,i,o,u){var a=Object.create(Gn);return a.size=e-t,a._origin=t,a._capacity=e,a._level=n,a._root=r,a._tail=i,a.__ownerID=o,a.__hash=u,a.__altered=!1,a}function Ht(){return Vn||(Vn=Yt(0,0,hn))}function qt(t,e,n){if((e=y(t,e))!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?Qt(t,e).set(0,n):Qt(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,o=l(_n);return e>=Jt(t._capacity)?r=Wt(r,t.__ownerID,0,e,n,o):i=Wt(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):Yt(t._origin,t._capacity,t._level,i,r):t}function Wt(t,e,n,r,i,o){var u=r>>>n&yn,a=t&&u<t.array.length;if(!a&&void 0===i)return t;var s;if(n>0){var c=t&&t.array[u],l=Wt(c,e,n-hn,r,i,o);return l===c?t:(s=Gt(t,e),s.array[u]=l,s)}return a&&t.array[u]===i?t:(f(o),s=Gt(t,e),void 0===i&&u===s.array.length-1?s.array.pop():s.array[u]=i,s)}function Gt(t,e){return e&&t&&e===t.ownerID?t:new Ut(t?t.array.slice():[],e)}function Vt(t,e){if(e>=Jt(t._capacity))return t._tail;if(e<1<<t._level+hn){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&yn],r-=hn;return n}}function Qt(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new p,i=t._origin,o=t._capacity,u=i+e,a=void 0===n?o:n<0?o+n:i+n;if(u===i&&a===o)return t;if(u>=a)return t.clear();for(var s=t._level,c=t._root,l=0;u+l<0;)c=new Ut(c&&c.array.length?[void 0,c]:[],r),s+=hn,l+=1<<s;l&&(u+=l,i+=l,a+=l,o+=l);for(var f=Jt(o),h=Jt(a);h>=1<<s+hn;)c=new Ut(c&&c.array.length?[c]:[],r),s+=hn;var d=t._tail,y=h<f?Vt(t,a-1):h>f?new Ut([],r):d;if(d&&h>f&&u<o&&d.array.length){c=Gt(c,r);for(var g=c,v=s;v>hn;v-=hn){var _=f>>>v&yn;g=g.array[_]=Gt(g.array[_],r)}g.array[f>>>hn&yn]=d}if(a<o&&(y=y&&y.removeAfter(r,0,a)),u>=h)u-=h,a-=h,s=hn,c=null,y=y&&y.removeBefore(r,0,u);else if(u>i||h<f){for(l=0;c;){var m=u>>>s&yn;if(m!==h>>>s&yn)break;m&&(l+=(1<<s)*m),s-=hn,c=c.array[m]}c&&u>i&&(c=c.removeBefore(r,s,u-l)),c&&h<f&&(c=c.removeAfter(r,s,h-l)),l&&(u-=l,a-=l)}return t.__ownerID?(t.size=a-u,t._origin=u,t._capacity=a,t._level=s,t._root=c,t._tail=y,t.__hash=void 0,t.__altered=!0,t):Yt(u,a,s,c,y)}function Zt(t,e,n){for(var i=[],u=0,a=0;a<n.length;a++){var s=n[a],c=r(s);c.size>u&&(u=c.size),o(s)||(c=c.map(function(t){return q(t)})),i.push(c)}return u>t.size&&(t=t.setSize(u)),Ct(t,e,i)}function Jt(t){return t<dn?0:t-1>>>hn<<hn}function Xt(t){return null===t||void 0===t?ee():$t(t)?t:ee().withMutations(function(e){var r=n(t);lt(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function $t(t){return pt(t)&&c(t)}function te(t,e,n,r){var i=Object.create(Xt.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function ee(){return Zn||(Zn=te(wt(),Ht()))}function ne(t,e,n){var r,i,o=t._map,u=t._list,a=o.get(e),s=void 0!==a;if(n===gn){if(!s)return t;u.size>=dn&&u.size>=2*o.size?(i=u.filter(function(t,e){return void 0!==t&&a!==e}),r=i.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=a===u.size-1?u.pop():u.set(a,void 0))}else if(s){if(n===u.get(a)[1])return t;r=o,i=u.set(a,[e,n])}else r=o.set(e,u.size),i=u.set(u.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):te(r,i)}function re(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function ie(t){this._iter=t,this.size=t.size}function oe(t){this._iter=t,this.size=t.size}function ue(t){this._iter=t,this.size=t.size}function ae(t){var e=Le(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Te,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return!1!==e(n,t,r)},n)},e.__iteratorUncached=function(e,n){if(e===bn){var r=t.__iterator(e,n);return new b(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===Sn?mn:Sn,n)},e}function se(t,e,n){var r=Le(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,gn);return o===gn?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate(function(t,i,u){return!1!==r(e.call(n,t,i,u),i,o)},i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(bn,i);return new b(function(){var i=o.next();if(i.done)return i;var u=i.value,a=u[0];return w(r,a,e.call(n,u[1],a,t),i)})},r}function ce(t,e){var n=Le(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=ae(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Te,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function le(t,e,n,r){var i=Le(t);return r&&(i.has=function(r){var i=t.get(r,gn);return i!==gn&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,gn);return o!==gn&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var u=this,a=0;return t.__iterate(function(t,o,s){if(e.call(n,t,o,s))return a++,i(t,r?o:a-1,u)},o),a},i.__iteratorUncached=function(i,o){var u=t.__iterator(bn,o),a=0;return new b(function(){for(;;){var o=u.next();if(o.done)return o;var s=o.value,c=s[0],l=s[1];if(e.call(n,l,c,t))return w(i,r?c:a++,l,o)}})},i}function fe(t,e,n){var r=ft().asMutable();return t.__iterate(function(i,o){r.update(e.call(n,i,o,t),0,function(t){return t+1})}),r.asImmutable()}function pe(t,e,n){var r=u(t),i=(c(t)?Xt():ft()).asMutable();t.__iterate(function(o,u){i.update(e.call(n,o,u,t),function(t){return t=t||[],t.push(r?[u,o]:o),t})});var o=ke(t);return i.map(function(e){return Ee(t,o(e))})}function he(t,e,n,r){var i=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n|=0),v(e,n,i))return t;var o=_(e,i),u=m(n,i);if(o!==o||u!==u)return he(t.toSeq().cacheResult(),e,n,r);var a,s=u-o;s===s&&(a=s<0?0:s);var c=Le(t);return c.size=0===a?a:t.size&&a||void 0,!r&&B(t)&&a>=0&&(c.get=function(e,n){return e=y(this,e),e>=0&&e<a?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(e,n);var u=0,s=!0,c=0;return t.__iterate(function(t,n){if(!s||!(s=u++<o))return c++,!1!==e(t,r?n:c-1,i)&&c!==a}),c},c.__iteratorUncached=function(e,n){if(0!==a&&n)return this.cacheResult().__iterator(e,n);var i=0!==a&&t.__iterator(e,n),u=0,s=0;return new b(function(){for(;u++<o;)i.next();if(++s>a)return M();var t=i.next();return r||e===Sn?t:e===mn?w(e,s-1,void 0,t):w(e,s-1,t.value[1],t)})},c}function de(t,e,n){var r=Le(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var u=0;return t.__iterate(function(t,i,a){return e.call(n,t,i,a)&&++u&&r(t,i,o)}),u},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var u=t.__iterator(bn,i),a=!0;return new b(function(){if(!a)return M();var t=u.next();if(t.done)return t;var i=t.value,s=i[0],c=i[1];return e.call(n,c,s,o)?r===bn?t:w(r,s,c,t):(a=!1,M())})},r}function ye(t,e,n,r){var i=Le(t);return i.__iterateUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterate(i,o);var a=!0,s=0;return t.__iterate(function(t,o,c){if(!a||!(a=e.call(n,t,o,c)))return s++,i(t,r?o:s-1,u)}),s},i.__iteratorUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterator(i,o);var a=t.__iterator(bn,o),s=!0,c=0;return new b(function(){var t,o,l;do{if(t=a.next(),t.done)return r||i===Sn?t:i===mn?w(i,c++,void 0,t):w(i,c++,t.value[1],t);var f=t.value;o=f[0],l=f[1],s&&(s=e.call(n,l,o,u))}while(s);return i===bn?t:w(i,o,l,t)})},i}function ge(t,e){var r=u(t),i=[t].concat(e).map(function(t){return o(t)?r&&(t=n(t)):t=r?K(t):P(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var s=i[0];if(s===t||r&&u(s)||a(t)&&a(s))return s}var c=new C(i);return r?c=c.toKeyedSeq():a(t)||(c=c.toSetSeq()),c=c.flatten(!0),c.size=i.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),c}function ve(t,e,n){var r=Le(t);return r.__iterateUncached=function(r,i){function u(t,c){var l=this;t.__iterate(function(t,i){return(!e||c<e)&&o(t)?u(t,c+1):!1===r(t,n?i:a++,l)&&(s=!0),!s},i)}var a=0,s=!1;return u(t,0),a},r.__iteratorUncached=function(r,i){var u=t.__iterator(r,i),a=[],s=0;return new b(function(){for(;u;){var t=u.next();if(!1===t.done){var c=t.value;if(r===bn&&(c=c[1]),e&&!(a.length<e)||!o(c))return n?t:w(r,s++,c,t);a.push(u),u=c.__iterator(r,i)}else u=a.pop()}return M()})},r}function _e(t,e,n){var r=ke(t);return t.toSeq().map(function(i,o){return r(e.call(n,i,o,t))}).flatten(!0)}function me(t,e){var n=Le(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate(function(t,r){return(!o||!1!==n(e,o++,i))&&!1!==n(t,o++,i)},r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(Sn,r),u=0;return new b(function(){return(!i||u%2)&&(i=o.next(),i.done)?i:u%2?w(n,u++,e):w(n,u++,i.value,i)})},n}function Se(t,e,n){e||(e=De);var r=u(t),i=0,o=t.toSeq().map(function(e,r){return[r,e,i++,n?n(e,r,t):e]}).toArray();return o.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?D(o):a(t)?O(o):N(o)}function be(t,e,n){if(e||(e=De),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return we(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return we(e,t,n)?n:t})}function we(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function Me(t,n,r){var i=Le(t);return i.size=new C(r).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(Sn,e),i=0;!(n=r.next()).done&&!1!==t(n.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=r.map(function(t){return t=e(t),I(i?t.reverse():t)}),u=0,a=!1;return new b(function(){var e;return a||(e=o.map(function(t){return t.next()}),a=e.some(function(t){return t.done})),a?M():w(t,u++,n.apply(null,e.map(function(t){return t.value})))})},i}function Ee(t,e){return B(t)?e:t.constructor(e)}function xe(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ie(t){return lt(t.size),d(t)}function ke(t){return u(t)?n:a(t)?r:i}function Le(t){return Object.create((u(t)?D:a(t)?O:N).prototype)}function Te(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):T.prototype.cacheResult.call(this)}function De(t,e){return t>e?1:t<e?-1:0}function Oe(t){var n=I(t);if(!n){if(!L(t))throw new TypeError("Expected iterable or array-like: "+t);n=I(e(t))}return n}function Ne(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var u=Object.keys(t);Ae(i,u),i.size=u.length,i._name=e,i._keys=u,i._defaultValues=t}this._map=ft(o)},i=r.prototype=Object.create(Jn);return i.constructor=r,r}function Ce(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function je(t){return t._name||t.constructor.name||"Record"}function Ae(t,e){try{e.forEach(ze.bind(void 0,t))}catch(t){}}function ze(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){X(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Be(t){return null===t||void 0===t?Ue():Re(t)&&!c(t)?t:Ue().withMutations(function(e){var n=i(t);lt(n.size),n.forEach(function(t){return e.add(t)})})}function Re(t){return!(!t||!t[Xn])}function Ke(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Pe(t,e){var n=Object.create($n);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Ue(){return tr||(tr=Pe(wt()))}function Fe(t){return null===t||void 0===t?qe():Ye(t)?t:qe().withMutations(function(e){var n=i(t);lt(n.size),n.forEach(function(t){return e.add(t)})})}function Ye(t){return Re(t)&&c(t)}function He(t,e){var n=Object.create(er);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function qe(){return nr||(nr=He(ee()))}function We(t){return null===t||void 0===t?Qe():Ge(t)?t:Qe().unshiftAll(t)}function Ge(t){return!(!t||!t[rr])}function Ve(t,e,n,r){var i=Object.create(ir);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Qe(){return or||(or=Ve(0))}function Ze(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Je(t,e){return e}function Xe(t,e){return[e,t]}function $e(t){return function(){return!t.apply(this,arguments)}}function tn(t){return function(){return-t.apply(this,arguments)}}function en(t){return"string"==typeof t?JSON.stringify(t):t}function nn(){return h(arguments)}function rn(t,e){return t<e?1:t>e?-1:0}function on(t){if(t.size===1/0)return 0;var e=c(t),n=u(t),r=e?1:0;return un(t.__iterate(n?e?function(t,e){r=31*r+an(ot(t),ot(e))|0}:function(t,e){r=r+an(ot(t),ot(e))|0}:e?function(t){r=31*r+ot(t)|0}:function(t){r=r+ot(t)|0}),r)}function un(t,e){return e=Dn(e,3432918353),e=Dn(e<<15|e>>>-15,461845907),e=Dn(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Dn(e^e>>>16,2246822507),e=Dn(e^e>>>13,3266489909),e=it(e^e>>>16)}function an(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var sn=Array.prototype.slice;t(n,e),t(r,e),t(i,e),e.isIterable=o,e.isKeyed=u,e.isIndexed=a,e.isAssociative=s,e.isOrdered=c,e.Keyed=n,e.Indexed=r,e.Set=i;var cn="@@__IMMUTABLE_ITERABLE__@@",ln="@@__IMMUTABLE_KEYED__@@",fn="@@__IMMUTABLE_INDEXED__@@",pn="@@__IMMUTABLE_ORDERED__@@",hn=5,dn=1<<hn,yn=dn-1,gn={},vn={value:!1},_n={value:!1},mn=0,Sn=1,bn=2,wn="function"==typeof Symbol&&Symbol.iterator,Mn="@@iterator",En=wn||Mn;b.prototype.toString=function(){return"[Iterator]"},b.KEYS=mn,b.VALUES=Sn,b.ENTRIES=bn,b.prototype.inspect=b.prototype.toSource=function(){return this.toString()},b.prototype[En]=function(){return this},t(T,e),T.of=function(){return T(arguments)},T.prototype.toSeq=function(){return this},T.prototype.toString=function(){return this.__toString("Seq {","}")},T.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},T.prototype.__iterate=function(t,e){return Y(this,t,e,!0)},T.prototype.__iterator=function(t,e){return H(this,t,e,!0)},t(D,T),D.prototype.toKeyedSeq=function(){return this},t(O,T),O.of=function(){return O(arguments)},O.prototype.toIndexedSeq=function(){return this},O.prototype.toString=function(){return this.__toString("Seq [","]")},O.prototype.__iterate=function(t,e){return Y(this,t,e,!1)},O.prototype.__iterator=function(t,e){return H(this,t,e,!1)},t(N,T),N.of=function(){return N(arguments)},N.prototype.toSetSeq=function(){return this},T.isSeq=B,T.Keyed=D,T.Set=N,T.Indexed=O;var xn="@@__IMMUTABLE_SEQ__@@";T.prototype[xn]=!0,t(C,O),C.prototype.get=function(t,e){return this.has(t)?this._array[y(this,t)]:e},C.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===t(n[e?r-i:i],i,this))return i+1;return i},C.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new b(function(){return i>r?M():w(t,i,n[e?r-i++:i++])})},t(j,D),j.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},j.prototype.has=function(t){return this._object.hasOwnProperty(t)},j.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var u=r[e?i-o:o];if(!1===t(n[u],u,this))return o+1}return o},j.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new b(function(){var u=r[e?i-o:o];return o++>i?M():w(t,u,n[u])})},j.prototype[pn]=!0,t(A,O),A.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,r=I(n),i=0;if(x(r))for(var o;!(o=r.next()).done&&!1!==t(o.value,i++,this););return i},A.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=I(n);if(!x(r))return new b(M);var i=0;return new b(function(){var e=r.next();return e.done?e:w(t,i++,e.value)})},t(z,O),z.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n=this._iterator,r=this._iteratorCache,i=0;i<r.length;)if(!1===t(r[i],i++,this))return i;for(var o;!(o=n.next()).done;){var u=o.value;if(r[i]=u,!1===t(u,i++,this))break}return i},z.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new b(function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return w(t,i,r[i++])})};var In;t(J,O),J.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},J.prototype.get=function(t,e){return this.has(t)?this._value:e},J.prototype.includes=function(t){return Q(this._value,t)},J.prototype.slice=function(t,e){var n=this.size;return v(t,e,n)?this:new J(this._value,m(e,n)-_(t,n))},J.prototype.reverse=function(){return this},J.prototype.indexOf=function(t){return Q(this._value,t)?0:-1},J.prototype.lastIndexOf=function(t){return Q(this._value,t)?this.size:-1},J.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},J.prototype.__iterator=function(t,e){var n=this,r=0;return new b(function(){return r<n.size?w(t,r++,n._value):M()})},J.prototype.equals=function(t){return t instanceof J?Q(this._value,t._value):Z(t)};var kn;t($,O),$.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},$.prototype.get=function(t,e){return this.has(t)?this._start+y(this,t)*this._step:e},$.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},$.prototype.slice=function(t,e){return v(t,e,this.size)?this:(t=_(t,this.size),e=m(e,this.size),e<=t?new $(0,0):new $(this.get(t,this._end),this.get(e,this._end),this._step))},$.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},$.prototype.lastIndexOf=function(t){return this.indexOf(t)},$.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===t(i,o,this))return o+1;i+=e?-r:r}return o},$.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new b(function(){var u=i;return i+=e?-r:r,o>n?M():w(t,o++,u)})},$.prototype.equals=function(t){return t instanceof $?this._start===t._start&&this._end===t._end&&this._step===t._step:Z(this,t)};var Ln;t(tt,e),t(et,tt),t(nt,tt),t(rt,tt),tt.Keyed=et,tt.Indexed=nt,tt.Set=rt;var Tn,Dn="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){t|=0,e|=0;var n=65535&t,r=65535&e;return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0},On=Object.isExtensible,Nn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),Cn="function"==typeof WeakMap;Cn&&(Tn=new WeakMap);var jn=0,An="__immutablehash__";"function"==typeof Symbol&&(An=Symbol(An));var zn=16,Bn=255,Rn=0,Kn={};t(ft,et),ft.prototype.toString=function(){return this.__toString("Map {","}")},ft.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},ft.prototype.set=function(t,e){return Mt(this,t,e)},ft.prototype.setIn=function(t,e){return this.updateIn(t,gn,function(){return e})},ft.prototype.remove=function(t){return Mt(this,t,gn)},ft.prototype.deleteIn=function(t){return this.updateIn(t,function(){return gn})},ft.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},ft.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=jt(this,Oe(t),e,n);return r===gn?void 0:r},ft.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):wt()},ft.prototype.merge=function(){return Dt(this,void 0,arguments)},ft.prototype.mergeWith=function(t){return Dt(this,t,sn.call(arguments,1))},ft.prototype.mergeIn=function(t){var e=sn.call(arguments,1);return this.updateIn(t,wt(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},ft.prototype.mergeDeep=function(){return Dt(this,Ot,arguments)},ft.prototype.mergeDeepWith=function(t){var e=sn.call(arguments,1);return Dt(this,Nt(t),e)},ft.prototype.mergeDeepIn=function(t){var e=sn.call(arguments,1);return this.updateIn(t,wt(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},ft.prototype.sort=function(t){return Xt(Se(this,t))},ft.prototype.sortBy=function(t,e){return Xt(Se(this,e,t))},ft.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},ft.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new p)},ft.prototype.asImmutable=function(){return this.__ensureOwner()},ft.prototype.wasAltered=function(){return this.__altered},ft.prototype.__iterator=function(t,e){return new _t(this,t,e)},ft.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},ft.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?bt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},ft.isMap=pt;var Pn="@@__IMMUTABLE_MAP__@@",Un=ft.prototype;Un[Pn]=!0,Un.delete=Un.remove,Un.removeIn=Un.deleteIn,ht.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,u=i.length;o<u;o++)if(Q(n,i[o][0]))return i[o][1];return r},ht.prototype.update=function(t,e,n,r,i,o,u){for(var a=i===gn,s=this.entries,c=0,l=s.length;c<l&&!Q(r,s[c][0]);c++);var p=c<l;if(p?s[c][1]===i:a)return this;if(f(u),(a||!p)&&f(o),!a||1!==s.length){if(!p&&!a&&s.length>=Yn)return kt(t,s,r,i);var d=t&&t===this.ownerID,y=d?s:h(s);return p?a?c===l-1?y.pop():y[c]=y.pop():y[c]=[r,i]:y.push([r,i]),d?(this.entries=y,this):new ht(t,y)}},dt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=1<<((0===t?e:e>>>t)&yn),o=this.bitmap;return 0==(o&i)?r:this.nodes[At(o&i-1)].get(t+hn,e,n,r)},dt.prototype.update=function(t,e,n,r,i,o,u){void 0===n&&(n=ot(r));var a=(0===e?n:n>>>e)&yn,s=1<<a,c=this.bitmap,l=0!=(c&s);if(!l&&i===gn)return this;var f=At(c&s-1),p=this.nodes,h=l?p[f]:void 0,d=Et(h,t,e+hn,n,r,i,o,u);if(d===h)return this;if(!l&&d&&p.length>=Hn)return Tt(t,p,c,a,d);if(l&&!d&&2===p.length&&xt(p[1^f]))return p[1^f];if(l&&d&&1===p.length&&xt(d))return d;var y=t&&t===this.ownerID,g=l?d?c:c^s:c|s,v=l?d?zt(p,f,d,y):Rt(p,f,y):Bt(p,f,d,y);return y?(this.bitmap=g,this.nodes=v,this):new dt(t,g,v)},yt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=(0===t?e:e>>>t)&yn,o=this.nodes[i];return o?o.get(t+hn,e,n,r):r},yt.prototype.update=function(t,e,n,r,i,o,u){void 0===n&&(n=ot(r));var a=(0===e?n:n>>>e)&yn,s=i===gn,c=this.nodes,l=c[a];if(s&&!l)return this;var f=Et(l,t,e+hn,n,r,i,o,u);if(f===l)return this;var p=this.count;if(l){if(!f&&--p<qn)return Lt(t,c,p,a)}else p++;var h=t&&t===this.ownerID,d=zt(c,a,f,h);return h?(this.count=p,this.nodes=d,this):new yt(t,p,d)},gt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,u=i.length;o<u;o++)if(Q(n,i[o][0]))return i[o][1];return r},gt.prototype.update=function(t,e,n,r,i,o,u){void 0===n&&(n=ot(r));var a=i===gn;if(n!==this.keyHash)return a?this:(f(u),f(o),It(this,t,e,n,[r,i]));for(var s=this.entries,c=0,l=s.length;c<l&&!Q(r,s[c][0]);c++);var p=c<l;if(p?s[c][1]===i:a)return this;if(f(u),(a||!p)&&f(o),a&&2===l)return new vt(t,this.keyHash,s[1^c]);var d=t&&t===this.ownerID,y=d?s:h(s);return p?a?c===l-1?y.pop():y[c]=y.pop():y[c]=[r,i]:y.push([r,i]),d?(this.entries=y,this):new gt(t,this.keyHash,y)},vt.prototype.get=function(t,e,n,r){return Q(n,this.entry[0])?this.entry[1]:r},vt.prototype.update=function(t,e,n,r,i,o,u){var a=i===gn,s=Q(r,this.entry[0]);return(s?i===this.entry[1]:a)?this:(f(u),a?void f(o):s?t&&t===this.ownerID?(this.entry[1]=i,this):new vt(t,this.keyHash,[r,i]):(f(o),It(this,t,e,ot(r),[r,i])))},ht.prototype.iterate=gt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===t(n[e?i-r:r]))return!1},dt.prototype.iterate=yt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&!1===o.iterate(t,e))return!1}},vt.prototype.iterate=function(t,e){return t(this.entry)},t(_t,b),_t.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return mt(t,r.entry)}else if(r.entries){if(n=r.entries.length-1,i<=n)return mt(t,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,i<=n){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return mt(t,o.entry);e=this._stack=St(o,e)}continue}e=this._stack=this._stack.__prev}return M()};var Fn,Yn=dn/4,Hn=dn/2,qn=dn/4;t(Kt,nt),Kt.of=function(){return this(arguments)},Kt.prototype.toString=function(){return this.__toString("List [","]")},Kt.prototype.get=function(t,e){if((t=y(this,t))>=0&&t<this.size){t+=this._origin;var n=Vt(this,t);return n&&n.array[t&yn]}return e},Kt.prototype.set=function(t,e){return qt(this,t,e)},Kt.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Kt.prototype.insert=function(t,e){return this.splice(t,0,e)},Kt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=hn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Ht()},Kt.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){Qt(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},Kt.prototype.pop=function(){return Qt(this,0,-1)},Kt.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Qt(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},Kt.prototype.shift=function(){return Qt(this,1)},Kt.prototype.merge=function(){return Zt(this,void 0,arguments)},Kt.prototype.mergeWith=function(t){return Zt(this,t,sn.call(arguments,1))},Kt.prototype.mergeDeep=function(){return Zt(this,Ot,arguments)},Kt.prototype.mergeDeepWith=function(t){var e=sn.call(arguments,1);return Zt(this,Nt(t),e)},Kt.prototype.setSize=function(t){return Qt(this,0,t)},Kt.prototype.slice=function(t,e){var n=this.size;return v(t,e,n)?this:Qt(this,_(t,n),m(e,n))},Kt.prototype.__iterator=function(t,e){var n=0,r=Ft(this,e);return new b(function(){var e=r();return e===Qn?M():w(t,n++,e)})},Kt.prototype.__iterate=function(t,e){for(var n,r=0,i=Ft(this,e);(n=i())!==Qn&&!1!==t(n,r++,this););return r},Kt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Yt(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Kt.isList=Pt;var Wn="@@__IMMUTABLE_LIST__@@",Gn=Kt.prototype;Gn[Wn]=!0,Gn.delete=Gn.remove,Gn.setIn=Un.setIn,Gn.deleteIn=Gn.removeIn=Un.removeIn,Gn.update=Un.update,Gn.updateIn=Un.updateIn,Gn.mergeIn=Un.mergeIn,Gn.mergeDeepIn=Un.mergeDeepIn,Gn.withMutations=Un.withMutations,Gn.asMutable=Un.asMutable,Gn.asImmutable=Un.asImmutable,Gn.wasAltered=Un.wasAltered,Ut.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&yn;if(r>=this.array.length)return new Ut([],t);var i,o=0===r;if(e>0){var u=this.array[r];if((i=u&&u.removeBefore(t,e-hn,n))===u&&o)return this}if(o&&!i)return this;var a=Gt(this,t);if(!o)for(var s=0;s<r;s++)a.array[s]=void 0;return i&&(a.array[r]=i),a},Ut.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r=n-1>>>e&yn;if(r>=this.array.length)return this;var i;if(e>0){var o=this.array[r];if((i=o&&o.removeAfter(t,e-hn,n))===o&&r===this.array.length-1)return this}var u=Gt(this,t);return u.array.splice(r+1),i&&(u.array[r]=i),u};var Vn,Qn={};t(Xt,ft),Xt.of=function(){return this(arguments)},Xt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Xt.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Xt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},Xt.prototype.set=function(t,e){return ne(this,t,e)},Xt.prototype.remove=function(t){return ne(this,t,gn)},Xt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Xt.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Xt.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Xt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?te(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Xt.isOrderedMap=$t,Xt.prototype[pn]=!0,Xt.prototype.delete=Xt.prototype.remove;var Zn;t(re,D),re.prototype.get=function(t,e){return this._iter.get(t,e)},re.prototype.has=function(t){return this._iter.has(t)},re.prototype.valueSeq=function(){return this._iter.valueSeq()},re.prototype.reverse=function(){var t=this,e=ce(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},re.prototype.map=function(t,e){var n=this,r=se(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},re.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?Ie(this):0,function(i){return t(i,e?--n:n++,r)}),e)},re.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(Sn,e),r=e?Ie(this):0;return new b(function(){var i=n.next();return i.done?i:w(t,e?--r:r++,i.value,i)})},re.prototype[pn]=!0,t(ie,O),ie.prototype.includes=function(t){return this._iter.includes(t)},ie.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(Sn,e),r=0;return new b(function(){var e=n.next();return e.done?e:w(t,r++,e.value,e)})},t(oe,N),oe.prototype.has=function(t){return this._iter.includes(t)},oe.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},oe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(Sn,e);return new b(function(){var e=n.next();return e.done?e:w(t,e.value,e.value,e)})},t(ue,D),ue.prototype.entrySeq=function(){return this._iter.toSeq()},ue.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){xe(e);var r=o(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},ue.prototype.__iterator=function(t,e){var n=this._iter.__iterator(Sn,e);return new b(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){xe(r);var i=o(r);return w(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}})},ie.prototype.cacheResult=re.prototype.cacheResult=oe.prototype.cacheResult=ue.prototype.cacheResult=Te,t(Ne,et),Ne.prototype.toString=function(){return this.__toString(je(this)+" {","}")},Ne.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Ne.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},Ne.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Ce(this,wt()))},Ne.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+je(this));var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:Ce(this,n)},Ne.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Ce(this,e)},Ne.prototype.wasAltered=function(){return this._map.wasAltered()},Ne.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},Ne.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},Ne.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Ce(this,e,t):(this.__ownerID=t,this._map=e,this)};var Jn=Ne.prototype;Jn.delete=Jn.remove,Jn.deleteIn=Jn.removeIn=Un.removeIn,Jn.merge=Un.merge,Jn.mergeWith=Un.mergeWith,Jn.mergeIn=Un.mergeIn,Jn.mergeDeep=Un.mergeDeep,Jn.mergeDeepWith=Un.mergeDeepWith,Jn.mergeDeepIn=Un.mergeDeepIn,Jn.setIn=Un.setIn,Jn.update=Un.update,Jn.updateIn=Un.updateIn,Jn.withMutations=Un.withMutations,Jn.asMutable=Un.asMutable,Jn.asImmutable=Un.asImmutable,t(Be,rt),Be.of=function(){return this(arguments)},Be.fromKeys=function(t){return this(n(t).keySeq())},Be.prototype.toString=function(){return this.__toString("Set {","}")},Be.prototype.has=function(t){return this._map.has(t)},Be.prototype.add=function(t){return Ke(this,this._map.set(t,!0))},Be.prototype.remove=function(t){return Ke(this,this._map.remove(t))},Be.prototype.clear=function(){return Ke(this,this._map.clear())},Be.prototype.union=function(){var t=sn.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Be.prototype.intersect=function(){var t=sn.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.every(function(t){return t.includes(e)})||n.remove(e)})})},Be.prototype.subtract=function(){var t=sn.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&n.remove(e)})})},Be.prototype.merge=function(){return this.union.apply(this,arguments)},Be.prototype.mergeWith=function(t){var e=sn.call(arguments,1);return this.union.apply(this,e)},Be.prototype.sort=function(t){return Fe(Se(this,t))},Be.prototype.sortBy=function(t,e){return Fe(Se(this,e,t))},Be.prototype.wasAltered=function(){return this._map.wasAltered()},Be.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},Be.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},Be.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Be.isSet=Re;var Xn="@@__IMMUTABLE_SET__@@",$n=Be.prototype;$n[Xn]=!0,$n.delete=$n.remove,$n.mergeDeep=$n.merge,$n.mergeDeepWith=$n.mergeWith,$n.withMutations=Un.withMutations,$n.asMutable=Un.asMutable,$n.asImmutable=Un.asImmutable,$n.__empty=Ue,$n.__make=Pe;var tr;t(Fe,Be),Fe.of=function(){return this(arguments)},Fe.fromKeys=function(t){return this(n(t).keySeq())},Fe.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Fe.isOrderedSet=Ye;var er=Fe.prototype;er[pn]=!0,er.__empty=qe,er.__make=He;var nr;t(We,nt),We.of=function(){return this(arguments)},We.prototype.toString=function(){return this.__toString("Stack [","]")},We.prototype.get=function(t,e){var n=this._head;for(t=y(this,t);n&&t--;)n=n.next;return n?n.value:e},We.prototype.peek=function(){return this._head&&this._head.value},We.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Ve(t,e)},We.prototype.pushAll=function(t){if(t=r(t),0===t.size)return this;lt(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Ve(e,n)},We.prototype.pop=function(){return this.slice(1)},We.prototype.unshift=function(){return this.push.apply(this,arguments)},We.prototype.unshiftAll=function(t){return this.pushAll(t)},We.prototype.shift=function(){return this.pop.apply(this,arguments)},We.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Qe()},We.prototype.slice=function(t,e){if(v(t,e,this.size))return this;var n=_(t,this.size);if(m(e,this.size)!==this.size)return nt.prototype.slice.call(this,t,e);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Ve(r,i)},We.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ve(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},We.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},We.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new b(function(){if(r){var e=r.value;return r=r.next,w(t,n++,e)}return M()})},We.isStack=Ge;var rr="@@__IMMUTABLE_STACK__@@",ir=We.prototype;ir[rr]=!0,ir.withMutations=Un.withMutations,ir.asMutable=Un.asMutable,ir.asImmutable=Un.asImmutable,ir.wasAltered=Un.wasAltered;var or;e.Iterator=b,Ze(e,{toArray:function(){lt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new ie(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new re(this,!0)},toMap:function(){return ft(this.toKeyedSeq())},toObject:function(){lt(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Xt(this.toKeyedSeq())},toOrderedSet:function(){return Fe(u(this)?this.valueSeq():this)},toSet:function(){return Be(u(this)?this.valueSeq():this)},toSetSeq:function(){return new oe(this)},toSeq:function(){return a(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return We(u(this)?this.valueSeq():this)},toList:function(){return Kt(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return Ee(this,ge(this,sn.call(arguments,0)))},includes:function(t){return this.some(function(e){return Q(e,t)})},entries:function(){return this.__iterator(bn)},every:function(t,e){lt(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1}),n},filter:function(t,e){return Ee(this,le(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},findEntry:function(t,e){var n;return this.__iterate(function(r,i,o){if(t.call(e,r,i,o))return n=[i,r],!1}),n},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return lt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){lt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""}),e},keys:function(){return this.__iterator(mn)},map:function(t,e){return Ee(this,se(this,t,e))},reduce:function(t,e,n){lt(this.size);var r,i;return arguments.length<2?i=!0:r=e,this.__iterate(function(e,o,u){i?(i=!1,r=e):r=t.call(n,r,e,o,u)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Ee(this,ce(this,!0))},slice:function(t,e){return Ee(this,he(this,t,e,!0))},some:function(t,e){return!this.every($e(t),e)},sort:function(t){return Ee(this,Se(this,t))},values:function(){return this.__iterator(Sn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return d(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return fe(this,t,e)},equals:function(t){return Z(this,t)},entrySeq:function(){var t=this;if(t._cache)return new C(t._cache);var e=t.toSeq().map(Xe).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter($e(t),e)},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},first:function(){return this.find(g)},flatMap:function(t,e){return Ee(this,_e(this,t,e))},flatten:function(t){return Ee(this,ve(this,t,!0))},fromEntrySeq:function(){return new ue(this)},get:function(t,e){return this.find(function(e,n){return Q(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,i=Oe(t);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,gn):gn)===gn)return e}return r},groupBy:function(t,e){return pe(this,t,e)},has:function(t){return this.get(t,gn)!==gn},hasIn:function(t){return this.getIn(t,gn)!==gn},isSubset:function(t){return t="function"==typeof t.includes?t:e(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t="function"==typeof t.isSubset?t:e(t),t.isSubset(this)},keySeq:function(){return this.toSeq().map(Je).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return be(this,t)},maxBy:function(t,e){return be(this,e,t)},min:function(t){return be(this,t?tn(t):rn)},minBy:function(t,e){return be(this,e?tn(e):rn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Ee(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Ee(this,ye(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile($e(t),e)},sortBy:function(t,e){return Ee(this,Se(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Ee(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Ee(this,de(this,t,e))},takeUntil:function(t,e){return this.takeWhile($e(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var ur=e.prototype;ur[cn]=!0,ur[En]=ur.values,ur.__toJS=ur.toArray,ur.__toStringMapper=en,ur.inspect=ur.toSource=function(){return this.toString()},ur.chain=ur.flatMap,ur.contains=ur.includes,function(){try{Object.defineProperty(ur,"length",{get:function(){if(!e.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(t){}}(),Ze(n,{flip:function(){return Ee(this,ae(this))},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey(function(e){return Q(e,t)})},lastKeyOf:function(t){return this.findLastKey(function(e){return Q(e,t)})},mapEntries:function(t,e){var n=this,r=0;return Ee(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Ee(this,this.toSeq().flip().map(function(r,i){return t.call(e,r,i,n)}).flip())}});var ar=n.prototype;return ar[ln]=!0,ar[En]=ur.entries,ar.__toJS=ur.toObject,ar.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+en(t)},Ze(r,{toKeyedSeq:function(){return new re(this,!1)},filter:function(t,e){return Ee(this,le(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().reverse().keyOf(t);return void 0===e?-1:e},reverse:function(){return Ee(this,ce(this,!1))},slice:function(t,e){return Ee(this,he(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=_(t,t<0?this.count():this.size);var r=this.slice(0,t);return Ee(this,1===n?r:r.concat(h(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.toKeyedSeq().findLastKey(t,e);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(t){return Ee(this,ve(this,t,!1))},get:function(t,e){return t=y(this,t),t<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return(t=y(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Ee(this,me(this,t))},interleave:function(){var t=[this].concat(h(arguments)),e=Me(this.toSeq(),O.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Ee(this,n)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Ee(this,ye(this,t,e,!1))},zip:function(){return Ee(this,Me(this,nn,[this].concat(h(arguments))))},zipWith:function(t){var e=h(arguments);return e[0]=this,Ee(this,Me(this,t,e))}}),r.prototype[fn]=!0,r.prototype[pn]=!0,Ze(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=ur.includes,Ze(D,n.prototype),Ze(O,r.prototype),Ze(N,i.prototype),Ze(et,n.prototype),Ze(nt,r.prototype),Ze(rt,i.prototype),{Iterable:e,Seq:T,Collection:tt,Map:ft,OrderedMap:Xt,List:Kt,Stack:We,Set:Be,OrderedSet:Fe,Record:Ne,Range:$,Repeat:J,is:Q,fromJS:q}}()}()},function(t,e,n){"use strict";function r(t,e,n,r,o,u,a,s){if(i(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,u,a,s],f=0;c=new Error(e.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var i=function(t){};t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){return E.set(t,{selection:e,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function o(t,e){return t.getBlockMap().map(function(n){return d.generate(t,n,e)}).toOrderedMap()}function u(t,e,n,r){var i=t.getCurrentContent().set("entityMap",n),o=i.getBlockMap();return t.getImmutable().get("treeMap").merge(e.toSeq().filter(function(t,e){return t!==o.get(e)}).map(function(t){return d.generate(i,t,r)}))}function a(t,e,n,r,i){return n.merge(e.toSeq().filter(function(e){return r.getDecorations(e,t)!==i.getDecorations(e,t)}).map(function(e){return d.generate(t,e,r)}))}function s(t,e){return e!==t.getLastChangeType()||"insert-characters"!==e&&"backspace-character"!==e&&"delete-character"!==e}function c(t,e){var n=e.getStartKey(),r=e.getStartOffset(),i=t.getBlockForKey(n);return r>0?i.getInlineStyleAt(r-1):i.getLength()?i.getInlineStyleAt(0):f(t,n)}function l(t,e){var n=e.getStartKey(),r=e.getStartOffset(),i=t.getBlockForKey(n);return r<i.getLength()?i.getInlineStyleAt(r):r>0?i.getInlineStyleAt(r-1):f(t,n)}function f(t,e){var n=t.getBlockMap().reverse().skipUntil(function(t,n){return n===e}).skip(1).skipUntil(function(t,e){return t.getLength()}).first();return n?n.getInlineStyleAt(n.getLength()-1):m()}var p=n(9),h=p||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d=n(115),y=n(82),g=n(191),v=n(0),_=n(44),m=v.OrderedSet,S=v.Record,b=v.Stack,w={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:b(),selection:null,treeMap:null,undoStack:b()},M=S(w),E=function(){function t(e){r(this,t),this._immutable=e}return t.createEmpty=function(e){return t.createWithContent(y.createFromText(""),e)},t.createWithContent=function(e,n){var r=e.getBlockMap().first().getKey();return t.create({currentContent:e,undoStack:b(),redoStack:b(),decorator:n||null,selection:_.createEmpty(r)})},t.create=function(e){var n=e.currentContent,r=e.decorator,i=h({},e,{treeMap:o(n,r),directionMap:g.getDirectionMap(n)});return new t(new M(i))},t.set=function(e,n){return new t(e.getImmutable().withMutations(function(t){var r=t.get("decorator"),i=r;null===n.decorator?i=null:n.decorator&&(i=n.decorator);var s=n.currentContent||e.getCurrentContent();if(i!==r){var c,l=t.get("treeMap");return c=i&&r?a(s,s.getBlockMap(),l,i,r):o(s,i),void t.merge({decorator:i,treeMap:c,nativelyRenderedContent:null})}s!==e.getCurrentContent()&&t.set("treeMap",u(e,s.getBlockMap(),s.getEntityMap(),i)),t.merge(n)}))},t.prototype.toJS=function(){return this.getImmutable().toJS()},t.prototype.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},t.prototype.getCurrentContent=function(){return this.getImmutable().get("currentContent")},t.prototype.getUndoStack=function(){return this.getImmutable().get("undoStack")},t.prototype.getRedoStack=function(){return this.getImmutable().get("redoStack")},t.prototype.getSelection=function(){return this.getImmutable().get("selection")},t.prototype.getDecorator=function(){return this.getImmutable().get("decorator")},t.prototype.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},t.prototype.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},t.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},t.prototype.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},t.prototype.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},t.setInlineStyleOverride=function(e,n){return t.set(e,{inlineStyleOverride:n})},t.prototype.getCurrentInlineStyle=function(){var t=this.getInlineStyleOverride();if(null!=t)return t;var e=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?c(e,n):l(e,n)},t.prototype.getBlockTree=function(t){return this.getImmutable().getIn(["treeMap",t])},t.prototype.isSelectionAtStartOfContent=function(){var t=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(t,0,0)},t.prototype.isSelectionAtEndOfContent=function(){var t=this.getCurrentContent(),e=t.getBlockMap(),n=e.last(),r=n.getLength();return this.getSelection().hasEdgeWithin(n.getKey(),r,r)},t.prototype.getDirectionMap=function(){return this.getImmutable().get("directionMap")},t.acceptSelection=function(t,e){return i(t,e,!1)},t.forceSelection=function(t,e){return e.getHasFocus()||(e=e.set("hasFocus",!0)),i(t,e,!0)},t.moveSelectionToEnd=function(e){var n=e.getCurrentContent(),r=n.getLastBlock(),i=r.getKey(),o=r.getLength();return t.acceptSelection(e,new _({anchorKey:i,anchorOffset:o,focusKey:i,focusOffset:o,isBackward:!1}))},t.moveFocusToEnd=function(e){var n=t.moveSelectionToEnd(e);return t.forceSelection(n,n.getSelection())},t.push=function(e,n,r){if(e.getCurrentContent()===n)return e;var i="insert-characters"!==r,o=g.getDirectionMap(n,e.getDirectionMap());if(!e.getAllowUndo())return t.set(e,{currentContent:n,directionMap:o,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:i,inlineStyleOverride:null});var u=e.getSelection(),a=e.getCurrentContent(),c=e.getUndoStack(),l=n;u!==a.getSelectionAfter()||s(e,r)?(c=c.push(a),l=l.set("selectionBefore",u)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(l=l.set("selectionBefore",a.getSelectionBefore()));var f=e.getInlineStyleOverride();-1===["adjust-depth","change-block-type","split-block"].indexOf(r)&&(f=null);var p={currentContent:l,directionMap:o,undoStack:c,redoStack:b(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:i,inlineStyleOverride:f};return t.set(e,p)},t.undo=function(e){if(!e.getAllowUndo())return e;var n=e.getUndoStack(),r=n.peek();if(!r)return e;var i=e.getCurrentContent(),o=g.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:o,undoStack:n.shift(),redoStack:e.getRedoStack().push(i),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:i.getSelectionBefore()})},t.redo=function(e){if(!e.getAllowUndo())return e;var n=e.getRedoStack(),r=n.peek();if(!r)return e;var i=e.getCurrentContent(),o=g.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:o,undoStack:e.getUndoStack().push(i),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},t.prototype.getImmutable=function(){return this._immutable},t}();t.exports=E},function(t,e){t.exports=__webpack_require__(/*! react */ "./node_modules/react/index.js")},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";var r=n(7),i=n(180),o=n(31),u=n(0),a=n(181),s=n(183),c=n(61),l=n(186),f=n(187),p=n(1),h=n(188),d=n(112),y=n(189),g=n(190),v=u.OrderedSet,_={replaceText:function(t,e,n,i,o){var u=d(t,e),a=y(u,e),s=r.create({style:i||v(),entity:o||null});return f(a,a.getSelectionAfter(),n,s)},insertText:function(t,e,n,r,i){return e.isCollapsed()||p(!1),_.replaceText(t,e,n,r,i)},moveText:function(t,e,n){var r=c(t,e),i=_.removeRange(t,e,"backward");return _.replaceWithFragment(i,n,r)},replaceWithFragment:function(t,e,n){var r=d(t,e),i=y(r,e);return l(i,i.getSelectionAfter(),n)},removeRange:function(t,e,n){var r=void 0,i=void 0,u=void 0,a=void 0;e.getIsBackward()&&(e=e.merge({anchorKey:e.getFocusKey(),anchorOffset:e.getFocusOffset(),focusKey:e.getAnchorKey(),focusOffset:e.getAnchorOffset(),isBackward:!1})),r=e.getAnchorKey(),i=e.getFocusKey(),u=t.getBlockForKey(r),a=t.getBlockForKey(i);var c=e.getStartOffset(),l=e.getEndOffset(),f=u.getEntityAt(c),p=a.getEntityAt(l-1);if(r===i&&f&&f===p){var h=s(t.getEntityMap(),u,a,e,n);return y(t,h)}var g=e;o.draft_segmented_entities_behavior&&(g=s(t.getEntityMap(),u,a,e,n));var v=d(t,g);return y(v,g)},splitBlock:function(t,e){var n=d(t,e),r=y(n,e);return g(r,r.getSelectionAfter())},applyInlineStyle:function(t,e,n){return i.add(t,e,n)},removeInlineStyle:function(t,e,n){return i.remove(t,e,n)},setBlockType:function(t,e,n){return h(t,e,function(t){return t.merge({type:n,depth:0})})},setBlockData:function(t,e,n){return h(t,e,function(t){return t.merge({data:n})})},mergeBlockData:function(t,e,n){return h(t,e,function(t){return t.merge({data:t.getData().merge(n)})})},applyEntity:function(t,e,n){var r=d(t,e);return a(r,e,n)}};t.exports=_},function(t,e,n){var r=n(73)("wks"),i=n(56),o=n(14).Symbol,u="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(0),a=u.Map,s=u.OrderedSet,c=u.Record,l=s(),f={style:l,entity:null},p=c(f),h=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.getStyle=function(){return this.get("style")},e.prototype.getEntity=function(){return this.get("entity")},e.prototype.hasStyle=function(t){return this.getStyle().includes(t)},e.applyStyle=function(t,n){var r=t.set("style",t.getStyle().add(n));return e.create(r)},e.removeStyle=function(t,n){var r=t.set("style",t.getStyle().remove(n));return e.create(r)},e.applyEntity=function(t,n){var r=t.getEntity()===n?t:t.set("entity",n);return e.create(r)},e.create=function(t){if(!t)return d;var n={style:l,entity:null},r=a(n).merge(t),i=y.get(r);if(i)return i;var o=new e(r);return y=y.set(r,o),o},e}(p),d=new h,y=a([[a(f),d]]);h.EMPTY=d,t.exports=h},function(t,e,n){var r=n(14),i=n(4),o=n(34),u=n(29),a=n(36),s=function(t,e,n){var c,l,f,p=t&s.F,h=t&s.G,d=t&s.S,y=t&s.P,g=t&s.B,v=t&s.W,_=h?i:i[e]||(i[e]={}),m=_.prototype,S=h?r:d?r[e]:(r[e]||{}).prototype;h&&(n=e);for(c in n)(l=!p&&S&&void 0!==S[c])&&a(_,c)||(f=l?S[c]:n[c],_[c]=h&&"function"!=typeof S[c]?n[c]:g&&l?o(f,r):v&&S[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):y&&"function"==typeof f?o(Function.call,f):f,y&&((_.virtual||(_.virtual={}))[c]=f,t&s.R&&m&&!m[c]&&u(m,c,f)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=r(t),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)o.call(n,l)&&(s[l]=n[l]);if(i){a=i(n);for(var f=0;f<a.length;f++)u.call(n,a[f])&&(s[a[f]]=n[a[f]])}}return s}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(7),a=n(0),s=n(51),c=a.List,l=a.Map,f=a.OrderedSet,p=a.Record,h=a.Repeat,d=f(),y={parent:null,characterList:c(),data:l(),depth:0,key:"",text:"",type:"unstyled",children:c(),prevSibling:null,nextSibling:null},g=function(t,e){return t.getStyle()===e.getStyle()},v=function(t,e){return t.getEntity()===e.getEntity()},_=function(t){if(!t)return t;var e=t.characterList,n=t.text;return n&&!e&&(t.characterList=c(h(u.EMPTY,n.length))),t},m=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;return r(this,e),i(this,t.call(this,_(n)))}return o(e,t),e.prototype.getKey=function(){return this.get("key")},e.prototype.getType=function(){return this.get("type")},e.prototype.getText=function(){return this.get("text")},e.prototype.getCharacterList=function(){return this.get("characterList")},e.prototype.getLength=function(){return this.getText().length},e.prototype.getDepth=function(){return this.get("depth")},e.prototype.getData=function(){return this.get("data")},e.prototype.getInlineStyleAt=function(t){var e=this.getCharacterList().get(t);return e?e.getStyle():d},e.prototype.getEntityAt=function(t){var e=this.getCharacterList().get(t);return e?e.getEntity():null},e.prototype.getChildKeys=function(){return this.get("children")},e.prototype.getParentKey=function(){return this.get("parent")},e.prototype.getPrevSiblingKey=function(){return this.get("prevSibling")},e.prototype.getNextSiblingKey=function(){return this.get("nextSibling")},e.prototype.findStyleRanges=function(t,e){s(this.getCharacterList(),g,t,e)},e.prototype.findEntityRanges=function(t,e){s(this.getCharacterList(),v,t,e)},e}(p(y));t.exports=m},function(t,e,n){var r=n(30),i=n(99),o=n(67),u=Object.defineProperty;e.f=n(15)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";var r=n(178),i=n(50),o=n(7),u=n(194),a=n(37),s=n(82),c=n(85),l=n(118),f=n(195),p=n(120),h=n(62),d=n(5),y=n(116),g=n(2),v=n(65),_=n(134),m=n(44),S=n(258),b=n(132),w=n(261),M=n(25),E=n(92),x=n(266),I={Editor:f,EditorBlock:p,EditorState:g,CompositeDecorator:u,Entity:h,EntityInstance:y,BlockMapBuilder:i,CharacterMetadata:o,ContentBlock:a,ContentState:s,SelectionState:m,AtomicBlockUtils:r,KeyBindingUtil:v,Modifier:d,RichUtils:_,DefaultDraftBlockRenderMap:c,DefaultDraftInlineStyle:l,convertFromHTML:b,convertFromRaw:w,convertToRaw:S,genKey:M,getDefaultKeyBinding:E,getVisibleSelectionRect:x};t.exports=I},function(t,e,n){"use strict";var r=function(t){if(null!=t)return t;throw new Error("Got unexpected null or undefined")};t.exports=r},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){t.exports=!n(35)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";e.__esModule=!0;var r=n(97),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(102),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){"use strict";function r(t,e,n,r){if(t===n)return!0;if(!n.startsWith(t))return!1;var i=n.slice(t.length);return!!e&&(i=r?r(i):i,u.contains(i,e))}function i(t){return"Windows"===o.platformName?t.replace(/^\s*NT/,""):t}var o=n(201),u=n(204),a=n(205),s=n(206),c={isBrowser:function(t){return r(o.browserName,o.browserFullVersion,t)},isBrowserArchitecture:function(t){return r(o.browserArchitecture,null,t)},isDevice:function(t){return r(o.deviceName,null,t)},isEngine:function(t){return r(o.engineName,o.engineVersion,t)},isPlatform:function(t){return r(o.platformName,o.platformFullVersion,t,i)},isPlatformArchitecture:function(t){return r(o.platformArchitecture,null,t)}};t.exports=a(c,s)},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=d[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(l(r.parts[o],e))}else{for(var u=[],o=0;o<r.parts.length;o++)u.push(l(r.parts[o],e));d[r.id]={id:r.id,refs:1,parts:u}}}}function i(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],u=e.base?o[0]+e.base:o[0],a=o[1],s=o[2],c=o[3],l={css:a,media:s,sourceMap:c};r[u]?r[u].parts.push(l):n.push(r[u]={id:u,parts:[l]})}return n}function o(t,e){var n=g(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=m[m.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),m.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function u(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=m.indexOf(t);e>=0&&m.splice(e,1)}function a(t){var e=document.createElement("style");return t.attrs.type="text/css",c(e,t.attrs),o(t,e),e}function s(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",c(e,t.attrs),o(t,e),e}function c(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function l(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var c=_++;n=v||(v=a(e)),r=f.bind(null,n,c,!1),i=f.bind(null,n,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(e),r=h.bind(null,n,e),i=function(){u(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),r=p.bind(null,n),i=function(){u(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function f(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var o=document.createTextNode(i),u=t.childNodes;u[e]&&t.removeChild(u[e]),u.length?t.insertBefore(o,u[e]):t.appendChild(o)}}function p(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function h(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=S(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var u=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(u),a&&URL.revokeObjectURL(a)}var d={},y=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),g=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}(function(t){return document.querySelector(t)}),v=null,_=0,m=[],S=n(295);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=y()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=i(t,e);return r(n,e),function(t){for(var o=[],u=0;u<n.length;u++){var a=n[u],s=d[a.id];s.refs--,o.push(s)}t&&r(i(t,e),e);for(var u=0;u<o.length;u++){var s=o[u];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete d[s.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports={default:n(154),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(76),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,i.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(171),o=r(i),u=n(175),a=r(u),s=n(76),c=r(s);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,c.default)(e)));t.prototype=(0,a.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}},function(t,e,n){"use strict";function r(){for(var t=void 0;void 0===t||i.hasOwnProperty(t)||!isNaN(+t);)t=Math.floor(Math.random()*o).toString(32);return i[t]=!0,t}var i={},o=Math.pow(2,24);t.exports=r},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r,i;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var i=typeof r;if("string"===i||"number"===i)t.push(r);else if(Array.isArray(r)&&r.length){var u=n.apply(null,r);u&&t.push(u)}else if("object"===i)for(var a in r)o.call(r,a)&&r[a]&&t.push(a)}}return t.join(" ")}var o={}.hasOwnProperty;void 0!==t&&t.exports?(n.default=n,t.exports=n):(r=[],void 0!==(i=function(){return n}.apply(e,r))&&(t.exports=i))}()},function(t,e){function n(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var u=t[i];"number"==typeof u[0]&&r[u[0]]||(n&&!u[2]?u[2]=n:n&&(u[2]="("+u[2]+") and ("+n+")"),e.push(u))}},e}},function(t,e,n){var r=n(11),i=n(46);t.exports=n(15)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(21);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";var r=n(179);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(268);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}),Object.defineProperty(e,"Constants",{enumerable:!0,get:function(){return r(i).default}});var o=n(269);Object.defineProperty(e,"getEntityRanges",{enumerable:!0,get:function(){return r(o).default}});var u=n(94);Object.defineProperty(e,"getSelectedBlocks",{enumerable:!0,get:function(){return r(u).default}});var a=n(270);Object.defineProperty(e,"selectionContainsEntity",{enumerable:!0,get:function(){return r(a).default}});var s=n(271);Object.defineProperty(e,"callModifierForSelectedBlocks",{enumerable:!0,get:function(){return r(s).default}})},function(t,e,n){"use strict";function r(t){return!0===u[t]}function i(t){return"function"==typeof t}function o(t,e){null==e&&(e=Object.getPrototypeOf(t));for(var n=Object.getOwnPropertyNames(e),o=n,u=Array.isArray(o),a=0,o=u?o:o[Symbol.iterator]();;){var s;if(u){if(a>=o.length)break;s=o[a++]}else{if(a=o.next(),a.done)break;s=a.value}var c=s;i(e[c])&&!r(c)&&(t[c]=e[c].bind(t))}}e.__esModule=!0,e.default=o;var u={getChildContext:!0,render:!0,componentWillMount:!0,componentDidMount:!0,componentWillReceiveProps:!0,shouldComponentUpdate:!0,componentWillUpdate:!0,componentDidUpdate:!0,componentWillUnmount:!0}},function(t,e,n){var r=n(98);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){return t.getStyle()===e.getStyle()}function a(t,e){return t.getEntity()===e.getEntity()}var s=n(7),c=n(0),l=n(51),f=c.List,p=c.Map,h=c.OrderedSet,d=c.Record,y=c.Repeat,g=h(),v={key:"",type:"unstyled",text:"",characterList:f(),depth:0,data:p()},_=d(v),m=function(t){if(!t)return t;var e=t.characterList,n=t.text;return n&&!e&&(t.characterList=f(y(s.EMPTY,n.length))),t},S=function(t){function e(n){return r(this,e),i(this,t.call(this,m(n)))}return o(e,t),e.prototype.getKey=function(){return this.get("key")},e.prototype.getType=function(){return this.get("type")},e.prototype.getText=function(){return this.get("text")},e.prototype.getCharacterList=function(){return this.get("characterList")},e.prototype.getLength=function(){return this.getText().length},e.prototype.getDepth=function(){return this.get("depth")},e.prototype.getData=function(){return this.get("data")},e.prototype.getInlineStyleAt=function(t){var e=this.getCharacterList().get(t);return e?e.getStyle():g},e.prototype.getEntityAt=function(t){var e=this.getCharacterList().get(t);return e?e.getEntity():null},e.prototype.findStyleRanges=function(t,e){l(this.getCharacterList(),u,t,e)},e.prototype.findEntityRanges=function(t,e){l(this.getCharacterList(),a,t,e)},e}(_);t.exports=S},function(t,e){t.exports=__webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js")},function(t,e,n){"use strict";function r(t){return p<=t&&t<=y}function i(t,e){if(0<=e&&e<t.length||f(!1),e+1===t.length)return!1;var n=t.charCodeAt(e),r=t.charCodeAt(e+1);return p<=n&&n<=h&&d<=r&&r<=y}function o(t){return g.test(t)}function u(t,e){return 1+r(t.charCodeAt(e))}function a(t){if(!o(t))return t.length;for(var e=0,n=0;n<t.length;n+=u(t,n))e++;return e}function s(t,e,n){if(e=e||0,n=void 0===n?1/0:n||0,!o(t))return t.substr(e,n);var r=t.length;if(r<=0||e>r||n<=0)return"";var i=0;if(e>0){for(;e>0&&i<r;e--)i+=u(t,i);if(i>=r)return""}else if(e<0){for(i=r;e<0&&0<i;e++)i-=u(t,i-1);i<0&&(i=0)}var a=r;if(n<r)for(a=i;n>0&&a<r;n--)a+=u(t,a);return t.substring(i,a)}function c(t,e,n){e=e||0,n=void 0===n?1/0:n||0,e<0&&(e=0),n<0&&(n=0);var r=Math.abs(n-e);return e=e<n?e:n,s(t,e,r)}function l(t){for(var e=[],n=0;n<t.length;n+=u(t,n))e.push(t.codePointAt(n));return e}var f=n(1),p=55296,h=56319,d=56320,y=57343,g=/[\uD800-\uDFFF]/,v={getCodePoints:l,getUTF16Length:u,hasSurrogateUnit:o,isCodeUnitInSurrogateRange:r,isSurrogatePair:i,strlen:a,substring:c,substr:s};t.exports=v},function(t,e,n){var r=n(68),i=n(70);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(70);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}},function(t,e){t.exports={}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(0),a=u.Record,s={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1},c=a(s),l=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},e.prototype.getAnchorKey=function(){return this.get("anchorKey")},e.prototype.getAnchorOffset=function(){return this.get("anchorOffset")},e.prototype.getFocusKey=function(){return this.get("focusKey")},e.prototype.getFocusOffset=function(){return this.get("focusOffset")},e.prototype.getIsBackward=function(){return this.get("isBackward")},e.prototype.getHasFocus=function(){return this.get("hasFocus")},e.prototype.hasEdgeWithin=function(t,e,n){var r=this.getAnchorKey(),i=this.getFocusKey();if(r===i&&r===t){var o=this.getStartOffset();return e<=this.getEndOffset()&&o<=n}if(t!==r&&t!==i)return!1;var u=t===r?this.getAnchorOffset():this.getFocusOffset();return e<=u&&n>=u},e.prototype.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},e.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},e.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},e.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},e.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},e.createEmpty=function(t){return new e({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0,isBackward:!1,hasFocus:!1})},e}(c);t.exports=l},function(t,e,n){"use strict";function r(t){return"object"==typeof t?Object.keys(t).filter(function(e){return t[e]}).map(i).join(" "):Array.prototype.map.call(arguments,i).join(" ")}function i(t){return t.replace(/\//g,"-")}t.exports=r},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(101),i=n(74);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(102),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t,e,n){return e in t?(0,i.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";var r=n(158)(!0);n(77)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(0),i=r.OrderedMap,o={createFromArray:function(t){return i(t.map(function(t){return[t.getKey(),t]}))}};t.exports=o},function(t,e,n){"use strict";function r(t,e,n,r){if(t.size){var i=0;t.reduce(function(t,o,u){return e(t,o)||(n(t)&&r(i,u),i=u),o}),n(t.last())&&r(i,t.count())}}t.exports=r},function(t,e,n){"use strict";function r(t){return"handled"===t||!0===t}t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r=t.getSelection(),o=t.getCurrentContent(),u=r;if(r.isCollapsed()){if("forward"===n){if(t.isSelectionAtEndOfContent())return o}else if(t.isSelectionAtStartOfContent())return o;if((u=e(t))===r)return o}return i.removeRange(o,u,n)}var i=n(5);t.exports=r},function(t,e,n){var r=n(71),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){t.exports=!0},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(30),i=n(160),o=n(74),u=n(72)("IE_PROTO"),a=function(){},s=function(){var t,e=n(100)("iframe"),r=o.length;for(e.style.display="none",n(161).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),s=t.F;r--;)delete s.prototype[o[r]];return s()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[u]=t):n=s(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(11).f,i=n(36),o=n(6)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){n(162);for(var r=n(14),i=n(29),o=n(43),u=n(6)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<a.length;s++){var c=a[s],l=r[c],f=l&&l.prototype;f&&!f[u]&&i(f,u,c),o[c]=o.Array}},function(t,e,n){"use strict";var r=n(111),i=n(112),o=function(t,e){var n=e.getStartKey(),o=e.getStartOffset(),u=e.getEndKey(),a=e.getEndOffset(),s=i(t,e),c=s.getBlockMap(),l=c.keySeq(),f=l.indexOf(n),p=l.indexOf(u)+1;return r(c.slice(f,p).map(function(t,e){var r=t.getText(),i=t.getCharacterList();return n===u?t.merge({text:r.slice(o,a),characterList:i.slice(o,a)}):e===n?t.merge({text:r.slice(o),characterList:i.slice(o)}):e===u?t.merge({text:r.slice(0,a),characterList:i.slice(0,a)}):t}))};t.exports=o},function(t,e,n){"use strict";function r(t,e){console.warn("WARNING: "+t+' will be deprecated soon!\nPlease use "'+e+'" instead.')}var i=n(9),o=i||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(116),a=n(0),s=n(1),c=a.Map,l=c(),f=0,p={getLastCreatedEntityKey:function(){return r("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),p.__getLastCreatedEntityKey()},create:function(t,e,n){return r("DraftEntity.create","contentState.createEntity"),p.__create(t,e,n)},add:function(t){return r("DraftEntity.add","contentState.addEntity"),p.__add(t)},get:function(t){return r("DraftEntity.get","contentState.getEntity"),p.__get(t)},mergeData:function(t,e){return r("DraftEntity.mergeData","contentState.mergeEntityData"),p.__mergeData(t,e)},replaceData:function(t,e){return r("DraftEntity.replaceData","contentState.replaceEntityData"),p.__replaceData(t,e)},__getLastCreatedEntityKey:function(){return""+f},__create:function(t,e,n){return p.__add(new u({type:t,mutability:e,data:n||{}}))},__add:function(t){var e=""+ ++f;return l=l.set(e,t),e},__get:function(t){var e=l.get(t);return e||s(!1),e},__mergeData:function(t,e){var n=p.__get(t),r=o({},n.getData(),e),i=n.set("data",r);return l=l.set(t,i),i},__replaceData:function(t,e){var n=p.__get(t),r=n.set("data",e);return l=l.set(t,r),r}};t.exports=p},function(t,e,n){"use strict";t.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},function(t,e,n){"use strict";var r={encode:function(t,e,n){return t+"-"+e+"-"+n},decode:function(t){var e=t.split("-"),n=e[0],r=e[1],i=e[2];return{blockKey:n,decoratorKey:parseInt(r,10),leafKey:parseInt(i,10)}}};t.exports=r},function(t,e,n){"use strict";var r=n(19),i=r.isPlatform("Mac OS X"),o={isCtrlKeyCommand:function(t){return!!t.ctrlKey&&!t.altKey},isOptionKeyCommand:function(t){return i&&t.altKey},hasCommandModifier:function(t){return i?!!t.metaKey&&!t.altKey:o.isCtrlKeyCommand(t)}};t.exports=o},function(t,e,n){var r=n(34),i=n(137),o=n(138),u=n(30),a=n(54),s=n(95),c={},l={},e=t.exports=function(t,e,n,f,p){var h,d,y,g,v=p?function(){return t}:s(t),_=r(n,f,e?2:1),m=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(h=a(t.length);h>m;m++)if((g=e?_(u(d=t[m])[0],d[1]):_(t[m]))===c||g===l)return g}else for(y=v.call(t);!(d=y.next()).done;)if((g=i(y,_,d.value,e))===c||g===l)return g};e.BREAK=c,e.RETURN=l},function(t,e,n){var r=n(21);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(69);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(73)("keys"),i=n(56);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(4),i=n(14),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(55)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(156),o=r(i),u=n(164),a=r(u),s="function"==typeof a.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":typeof t};e.default="function"==typeof a.default&&"symbol"===s(o.default)?function(t){return void 0===t?"undefined":s(t)}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":void 0===t?"undefined":s(t)}},function(t,e,n){"use strict";var r=n(55),i=n(8),o=n(105),u=n(29),a=n(43),s=n(159),c=n(59),l=n(103),f=n(6)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,d,y,g,v){s(n,e,d);var _,m,S,b=function(t){if(!p&&t in x)return x[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",M="values"==y,E=!1,x=t.prototype,I=x[f]||x["@@iterator"]||y&&x[y],k=I||b(y),L=y?M?b("entries"):k:void 0,T="Array"==e?x.entries||I:I;if(T&&(S=l(T.call(new t)))!==Object.prototype&&S.next&&(c(S,w,!0),r||"function"==typeof S[f]||u(S,f,h)),M&&I&&"values"!==I.name&&(E=!0,k=function(){return I.call(this)}),r&&!v||!p&&!E&&x[f]||u(x,f,k),a[e]=k,a[w]=h,y)if(_={values:M?k:b("values"),keys:g?k:b("keys"),entries:L},v)for(m in _)m in x||o(x,m,_[m]);else i(i.P+i.F*(p||E),e,_);return _}},function(t,e,n){e.f=n(6)},function(t,e,n){var r=n(56)("meta"),i=n(21),o=n(36),u=n(11).f,a=0,s=Object.isExtensible||function(){return!0},c=!n(35)(function(){return s(Object.preventExtensions({}))}),l=function(t){u(t,r,{value:{i:"O"+ ++a,w:{}}})},f=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!s(t))return"F";if(!e)return"E";l(t)}return t[r].i},p=function(t,e){if(!o(t,r)){if(!s(t))return!0;if(!e)return!1;l(t)}return t[r].w},h=function(t){return c&&d.NEED&&s(t)&&!o(t,r)&&l(t),t},d=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:h}},function(t,e,n){var r=n(14),i=n(4),o=n(55),u=n(78),a=n(11).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:u.f(t)})}},function(t,e,n){"use strict";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(50),a=n(7),s=n(37),c=n(10),l=n(62),f=n(31),p=n(0),h=n(44),d=n(25),y=n(83),g=p.List,v=p.Record,_=p.Repeat,m=f.draft_tree_data_support,S={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null},b=m?c:s,w=v(S),M=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.getEntityMap=function(){return l},e.prototype.getBlockMap=function(){return this.get("blockMap")},e.prototype.getSelectionBefore=function(){return this.get("selectionBefore")},e.prototype.getSelectionAfter=function(){return this.get("selectionAfter")},e.prototype.getBlockForKey=function(t){return this.getBlockMap().get(t)},e.prototype.getKeyBefore=function(t){return this.getBlockMap().reverse().keySeq().skipUntil(function(e){return e===t}).skip(1).first()},e.prototype.getKeyAfter=function(t){return this.getBlockMap().keySeq().skipUntil(function(e){return e===t}).skip(1).first()},e.prototype.getBlockAfter=function(t){return this.getBlockMap().skipUntil(function(e,n){return n===t}).skip(1).first()},e.prototype.getBlockBefore=function(t){return this.getBlockMap().reverse().skipUntil(function(e,n){return n===t}).skip(1).first()},e.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray()},e.prototype.getFirstBlock=function(){return this.getBlockMap().first()},e.prototype.getLastBlock=function(){return this.getBlockMap().last()},e.prototype.getPlainText=function(t){return this.getBlockMap().map(function(t){return t?t.getText():""}).join(t||"\n")},e.prototype.getLastCreatedEntityKey=function(){return l.__getLastCreatedEntityKey()},e.prototype.hasText=function(){var t=this.getBlockMap();return t.size>1||t.first().getLength()>0},e.prototype.createEntity=function(t,e,n){return l.__create(t,e,n),this},e.prototype.mergeEntityData=function(t,e){return l.__mergeData(t,e),this},e.prototype.replaceEntityData=function(t,e){return l.__replaceData(t,e),this},e.prototype.addEntity=function(t){return l.__add(t),this},e.prototype.getEntity=function(t){return l.__get(t)},e.createFromBlockArray=function(t,n){var r=Array.isArray(t)?t:t.contentBlocks,i=u.createFromArray(r),o=i.isEmpty()?new h:h.createEmpty(i.first().getKey());return new e({blockMap:i,entityMap:n||l,selectionBefore:o,selectionAfter:o})},e.createFromText=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,r=t.split(n),i=r.map(function(t){return t=y(t),new b({key:d(),text:t,type:"unstyled",characterList:g(_(a.EMPTY,t.length))})});return e.createFromBlockArray(i)},e}(w);t.exports=M},function(t,e,n){"use strict";function r(t){return t.replace(i,"")}var i=new RegExp("\r","g");t.exports=r},function(t,e,n){"use strict";function r(t){return t===l||t===f}function i(t){return r(t)||c(!1),t===l?"ltr":"rtl"}function o(t,e){return r(t)||c(!1),r(e)||c(!1),t===e?null:i(t)}function u(t){p=t}function a(){u(l)}function s(){return p||this.initGlobalDir(),p||c(!1),p}var c=n(1),l="LTR",f="RTL",p=null,h={NEUTRAL:"NEUTRAL",LTR:l,RTL:f,isStrong:r,getHTMLDir:i,getHTMLDirIfDifferent:o,setGlobalDir:u,initGlobalDir:a,getGlobalDir:s};t.exports=h},function(t,e,n){"use strict";var r=n(0),i=r.Map,o=n(3),u=n(45),a=o.createElement("ul",{className:u("public/DraftStyleDefault/ul")}),s=o.createElement("ol",{className:u("public/DraftStyleDefault/ol")}),c=o.createElement("pre",{className:u("public/DraftStyleDefault/pre")}),l=i({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:a},"ordered-list-item":{element:"li",wrapper:s},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:c},unstyled:{element:"div",aliasedElements:["p"]}});t.exports=l},function(t,e,n){"use strict";function r(t,e){var n;if(e.isCollapsed()){var r=e.getAnchorKey(),o=e.getAnchorOffset();return o>0?(n=t.getBlockForKey(r).getEntityAt(o-1),n!==t.getBlockForKey(r).getEntityAt(o)?null:i(t.getEntityMap(),n)):null}var u=e.getStartKey(),a=e.getStartOffset(),s=t.getBlockForKey(u);return n=a===s.getLength()?null:s.getEntityAt(a),i(t.getEntityMap(),n)}function i(t,e){return e&&"MUTABLE"===t.__get(e).getMutability()?e:null}t.exports=r},function(t,e,n){"use strict";function r(t,e){return!(!t||!e)&&(t===e||!i(t)&&(i(e)?r(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}var i=n(209);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o.get(t,e);return"auto"===n||"scroll"===n}var i=n(211),o={get:i,getScrollParent:function(t){if(!t)return null;for(var e=t.ownerDocument;t&&t!==e.body;){if(r(t,"overflow")||r(t,"overflowY")||r(t,"overflowX"))return t;t=t.parentNode}return e.defaultView||e.parentWindow}};t.exports=o},function(t,e,n){"use strict";function r(t){var e=i(t.ownerDocument||t.document);t.Window&&t instanceof t.Window&&(t=e);var n=o(t),r=t===e?t.ownerDocument.documentElement:t,u=t.scrollWidth-r.clientWidth,a=t.scrollHeight-r.clientHeight;return n.x=Math.max(0,Math.min(n.x,u)),n.y=Math.max(0,Math.min(n.y,a)),n}var i=n(216),o=n(217);t.exports=r},function(t,e,n){"use strict";function r(t){for(var e=t;e&&e!==document.documentElement;){var n=i(e);if(null!=n)return n;e=e.parentNode}return null}var i=n(124);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=t.getSelection(),r=t.getCurrentContent(),i=n.getStartKey(),o=n.getStartOffset(),u=i,a=0;if(e>o){var s=r.getKeyBefore(i);null==s?u=i:(u=s,a=r.getBlockForKey(s).getText().length)}else a=o-e;return n.merge({focusKey:u,focusOffset:a,isBackward:!0})}t.exports=r},function(t,e,n){"use strict";function r(t){return f&&t.altKey||y(t)}function i(t){return d(t)?t.shiftKey?"redo":"undo":null}function o(t){return p&&t.shiftKey?null:r(t)?"delete-word":"delete"}function u(t){return d(t)&&f?"backspace-to-start-of-line":r(t)?"backspace-word":"backspace"}function a(t){switch(t.keyCode){case 66:return d(t)?"bold":null;case 68:return y(t)?"delete":null;case 72:return y(t)?"backspace":null;case 73:return d(t)?"italic":null;case 74:return d(t)?"code":null;case 75:return!p&&y(t)?"secondary-cut":null;case 77:case 79:return y(t)?"split-block":null;case 84:return f&&y(t)?"transpose-characters":null;case 85:return d(t)?"underline":null;case 87:return f&&y(t)?"backspace-word":null;case 89:return y(t)?p?"redo":"secondary-paste":null;case 90:return i(t)||null;case c.RETURN:return"split-block";case c.DELETE:return o(t);case c.BACKSPACE:return u(t);case c.LEFT:return h&&d(t)?"move-selection-to-start-of-block":null;case c.RIGHT:return h&&d(t)?"move-selection-to-end-of-block":null;default:return null}}var s=n(65),c=n(63),l=n(19),f=l.isPlatform("Mac OS X"),p=l.isPlatform("Windows"),h=f&&l.isBrowser("Firefox < 29"),d=s.hasCommandModifier,y=s.isCtrlKeyCommand;t.exports=a},function(t,e,n){!function(e,n){t.exports=function(){"use strict";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return o(t)?t:T(t)}function n(t){return u(t)?t:D(t)}function r(t){return a(t)?t:O(t)}function i(t){return o(t)&&!s(t)?t:N(t)}function o(t){return!(!t||!t[cn])}function u(t){return!(!t||!t[ln])}function a(t){return!(!t||!t[fn])}function s(t){return u(t)||a(t)}function c(t){return!(!t||!t[pn])}function l(t){return t.value=!1,t}function f(t){t&&(t.value=!0)}function p(){}function h(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function d(t){return void 0===t.size&&(t.size=t.__iterate(g)),t.size}function y(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?d(t)+e:e}function g(){return!0}function v(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function _(t,e){return S(t,e,0)}function m(t,e){return S(t,e,e)}function S(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function b(t){this.next=t}function w(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function M(){return{value:void 0,done:!0}}function E(t){return!!k(t)}function x(t){return t&&"function"==typeof t.next}function I(t){var e=k(t);return e&&e.call(t)}function k(t){var e=t&&(wn&&t[wn]||t[Mn]);if("function"==typeof e)return e}function L(t){return t&&"number"==typeof t.length}function T(t){return null===t||void 0===t?R():o(t)?t.toSeq():U(t)}function D(t){return null===t||void 0===t?R().toKeyedSeq():o(t)?u(t)?t.toSeq():t.fromEntrySeq():K(t)}function O(t){return null===t||void 0===t?R():o(t)?u(t)?t.entrySeq():t.toIndexedSeq():P(t)}function N(t){return(null===t||void 0===t?R():o(t)?u(t)?t.entrySeq():t:P(t)).toSetSeq()}function C(t){this._array=t,this.size=t.length}function j(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function A(t){this._iterable=t,this.size=t.length||t.size}function z(t){this._iterator=t,this._iteratorCache=[]}function B(t){return!(!t||!t[xn])}function R(){return In||(In=new C([]))}function K(t){var e=Array.isArray(t)?new C(t).fromEntrySeq():x(t)?new z(t).fromEntrySeq():E(t)?new A(t).fromEntrySeq():"object"==typeof t?new j(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function P(t){var e=F(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function U(t){var e=F(t)||"object"==typeof t&&new j(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function F(t){return L(t)?new C(t):x(t)?new z(t):E(t)?new A(t):void 0}function Y(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,u=0;u<=o;u++){var a=i[n?o-u:u];if(!1===e(a[1],r?a[0]:u,t))return u+1}return u}return t.__iterateUncached(e,n)}function H(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,u=0;return new b(function(){var t=i[n?o-u:u];return u++>o?M():w(e,r?t[0]:u-1,t[1])})}return t.__iteratorUncached(e,n)}function q(t,e){return e?W(e,t,"",{"":t}):G(t)}function W(t,e,n,r){return Array.isArray(e)?t.call(r,n,O(e).map(function(n,r){return W(t,n,r,e)})):V(e)?t.call(r,n,D(e).map(function(n,r){return W(t,n,r,e)})):e}function G(t){return Array.isArray(t)?O(t).map(G).toList():V(t)?D(t).map(G).toMap():t}function V(t){return t&&(t.constructor===Object||void 0===t.constructor)}function Q(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function Z(t,e){if(t===e)return!0;if(!o(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||u(t)!==u(e)||a(t)!==a(e)||c(t)!==c(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!s(t);if(c(t)){var r=t.entries();return e.every(function(t,e){var i=r.next().value;return i&&Q(i[1],t)&&(n||Q(i[0],e))})&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var l=t;t=e,e=l}var f=!0,p=e.__iterate(function(e,r){if(n?!t.has(e):i?!Q(e,t.get(r,gn)):!Q(t.get(r,gn),e))return f=!1,!1});return f&&t.size===p}function J(t,e){if(!(this instanceof J))return new J(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(kn)return kn;kn=this}}function X(t,e){if(!t)throw new Error(e)}function $(t,e,n){if(!(this instanceof $))return new $(t,e,n);if(X(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(Ln)return Ln;Ln=this}}function tt(){throw TypeError("Abstract")}function et(){}function nt(){}function rt(){}function it(t){return t>>>1&1073741824|3221225471&t}function ot(t){if(!1===t||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null===t||void 0===t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){if(t!==t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)t/=4294967295,n^=t;return it(n)}if("string"===e)return t.length>zn?ut(t):at(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return st(t);if("function"==typeof t.toString)return at(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function ut(t){var e=Kn[t];return void 0===e&&(e=at(t),Rn===Bn&&(Rn=0,Kn={}),Rn++,Kn[t]=e),e}function at(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return it(e)}function st(t){var e;if(Cn&&void 0!==(e=Tn.get(t)))return e;if(void 0!==(e=t[An]))return e;if(!Nn){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[An]))return e;if(void 0!==(e=ct(t)))return e}if(e=++jn,1073741824&jn&&(jn=0),Cn)Tn.set(t,e);else{if(void 0!==On&&!1===On(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Nn)Object.defineProperty(t,An,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[An]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[An]=e}}return e}function ct(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function lt(t){X(t!==1/0,"Cannot perform this action with an infinite size.")}function ft(t){return null===t||void 0===t?wt():pt(t)&&!c(t)?t:wt().withMutations(function(e){var r=n(t);lt(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function pt(t){return!(!t||!t[Pn])}function ht(t,e){this.ownerID=t,this.entries=e}function dt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function yt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function gt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function vt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function _t(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&St(t._root)}function mt(t,e){return w(t,e[0],e[1])}function St(t,e){return{node:t,index:0,__prev:e}}function bt(t,e,n,r){var i=Object.create(Un);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function wt(){return Fn||(Fn=bt(0))}function Mt(t,e,n){var r,i;if(t._root){var o=l(vn),u=l(_n);if(r=Et(t._root,t.__ownerID,0,void 0,e,n,o,u),!u.value)return t;i=t.size+(o.value?n===gn?-1:1:0)}else{if(n===gn)return t;i=1,r=new ht(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?bt(i,r):wt()}function Et(t,e,n,r,i,o,u,a){return t?t.update(e,n,r,i,o,u,a):o===gn?t:(f(a),f(u),new vt(e,r,[i,o]))}function xt(t){return t.constructor===vt||t.constructor===gt}function It(t,e,n,r,i){if(t.keyHash===r)return new gt(e,r,[t.entry,i]);var o,u=(0===n?t.keyHash:t.keyHash>>>n)&yn,a=(0===n?r:r>>>n)&yn;return new dt(e,1<<u|1<<a,u===a?[It(t,e,n+hn,r,i)]:(o=new vt(e,r,i),u<a?[t,o]:[o,t]))}function kt(t,e,n,r){t||(t=new p);for(var i=new vt(t,ot(n),[n,r]),o=0;o<e.length;o++){var u=e[o];i=i.update(t,0,void 0,u[0],u[1])}return i}function Lt(t,e,n,r){for(var i=0,o=0,u=new Array(n),a=0,s=1,c=e.length;a<c;a++,s<<=1){var l=e[a];void 0!==l&&a!==r&&(i|=s,u[o++]=l)}return new dt(t,i,u)}function Tt(t,e,n,r,i){for(var o=0,u=new Array(dn),a=0;0!==n;a++,n>>>=1)u[a]=1&n?e[o++]:void 0;return u[r]=i,new yt(t,o+1,u)}function Dt(t,e,r){for(var i=[],u=0;u<r.length;u++){var a=r[u],s=n(a);o(a)||(s=s.map(function(t){return q(t)})),i.push(s)}return Ct(t,e,i)}function Ot(t,e,n){return t&&t.mergeDeep&&o(e)?t.mergeDeep(e):Q(t,e)?t:e}function Nt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&o(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return Q(e,i)?e:i}}function Ct(t,e,n){return n=n.filter(function(t){return 0!==t.size}),0===n.length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,gn,function(t){return t===gn?n:e(t,n,r)})}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)}):t.constructor(n[0])}function jt(t,e,n,r){var i=t===gn,o=e.next();if(o.done){var u=i?n:t,a=r(u);return a===u?t:a}X(i||t&&t.set,"invalid keyPath");var s=o.value,c=i?gn:t.get(s,gn),l=jt(c,e,n,r);return l===c?t:l===gn?t.remove(s):(i?wt():t).set(s,l)}function At(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function zt(t,e,n,r){var i=r?t:h(t);return i[e]=n,i}function Bt(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),u=0,a=0;a<i;a++)a===e?(o[a]=n,u=-1):o[a]=t[a+u];return o}function Rt(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,u=0;u<r;u++)u===e&&(o=1),i[u]=t[u+o];return i}function Kt(t){var e=Ht();if(null===t||void 0===t)return e;if(Pt(t))return t;var n=r(t),i=n.size;return 0===i?e:(lt(i),i>0&&i<dn?Yt(0,i,hn,null,new Ut(n.toArray())):e.withMutations(function(t){t.setSize(i),n.forEach(function(e,n){return t.set(n,e)})}))}function Pt(t){return!(!t||!t[Wn])}function Ut(t,e){this.array=t,this.ownerID=e}function Ft(t,e){function n(t,e,n){return 0===e?r(t,n):i(t,e,n)}function r(t,n){var r=n===a?s&&s.array:t&&t.array,i=n>o?0:o-n,c=u-n;return c>dn&&(c=dn),function(){if(i===c)return Qn;var t=e?--c:i++;return r&&r[t]}}function i(t,r,i){var a,s=t&&t.array,c=i>o?0:o-i>>r,l=1+(u-i>>r);return l>dn&&(l=dn),function(){for(;;){if(a){var t=a();if(t!==Qn)return t;a=null}if(c===l)return Qn;var o=e?--l:c++;a=n(s&&s[o],r-hn,i+(o<<r))}}}var o=t._origin,u=t._capacity,a=Jt(u),s=t._tail;return n(t._root,t._level,0)}function Yt(t,e,n,r,i,o,u){var a=Object.create(Gn);return a.size=e-t,a._origin=t,a._capacity=e,a._level=n,a._root=r,a._tail=i,a.__ownerID=o,a.__hash=u,a.__altered=!1,a}function Ht(){return Vn||(Vn=Yt(0,0,hn))}function qt(t,e,n){if((e=y(t,e))!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?Qt(t,e).set(0,n):Qt(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,o=l(_n);return e>=Jt(t._capacity)?r=Wt(r,t.__ownerID,0,e,n,o):i=Wt(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):Yt(t._origin,t._capacity,t._level,i,r):t}function Wt(t,e,n,r,i,o){var u=r>>>n&yn,a=t&&u<t.array.length;if(!a&&void 0===i)return t;var s;if(n>0){var c=t&&t.array[u],l=Wt(c,e,n-hn,r,i,o);return l===c?t:(s=Gt(t,e),s.array[u]=l,s)}return a&&t.array[u]===i?t:(f(o),s=Gt(t,e),void 0===i&&u===s.array.length-1?s.array.pop():s.array[u]=i,s)}function Gt(t,e){return e&&t&&e===t.ownerID?t:new Ut(t?t.array.slice():[],e)}function Vt(t,e){if(e>=Jt(t._capacity))return t._tail;if(e<1<<t._level+hn){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&yn],r-=hn;return n}}function Qt(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new p,i=t._origin,o=t._capacity,u=i+e,a=void 0===n?o:n<0?o+n:i+n;if(u===i&&a===o)return t;if(u>=a)return t.clear();for(var s=t._level,c=t._root,l=0;u+l<0;)c=new Ut(c&&c.array.length?[void 0,c]:[],r),s+=hn,l+=1<<s;l&&(u+=l,i+=l,a+=l,o+=l);for(var f=Jt(o),h=Jt(a);h>=1<<s+hn;)c=new Ut(c&&c.array.length?[c]:[],r),s+=hn;var d=t._tail,y=h<f?Vt(t,a-1):h>f?new Ut([],r):d;if(d&&h>f&&u<o&&d.array.length){c=Gt(c,r);for(var g=c,v=s;v>hn;v-=hn){var _=f>>>v&yn;g=g.array[_]=Gt(g.array[_],r)}g.array[f>>>hn&yn]=d}if(a<o&&(y=y&&y.removeAfter(r,0,a)),u>=h)u-=h,a-=h,s=hn,c=null,y=y&&y.removeBefore(r,0,u);else if(u>i||h<f){for(l=0;c;){var m=u>>>s&yn;if(m!==h>>>s&yn)break;m&&(l+=(1<<s)*m),s-=hn,c=c.array[m]}c&&u>i&&(c=c.removeBefore(r,s,u-l)),c&&h<f&&(c=c.removeAfter(r,s,h-l)),l&&(u-=l,a-=l)}return t.__ownerID?(t.size=a-u,t._origin=u,t._capacity=a,t._level=s,t._root=c,t._tail=y,t.__hash=void 0,t.__altered=!0,t):Yt(u,a,s,c,y)}function Zt(t,e,n){for(var i=[],u=0,a=0;a<n.length;a++){var s=n[a],c=r(s);c.size>u&&(u=c.size),o(s)||(c=c.map(function(t){return q(t)})),i.push(c)}return u>t.size&&(t=t.setSize(u)),Ct(t,e,i)}function Jt(t){return t<dn?0:t-1>>>hn<<hn}function Xt(t){return null===t||void 0===t?ee():$t(t)?t:ee().withMutations(function(e){var r=n(t);lt(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function $t(t){return pt(t)&&c(t)}function te(t,e,n,r){var i=Object.create(Xt.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function ee(){return Zn||(Zn=te(wt(),Ht()))}function ne(t,e,n){var r,i,o=t._map,u=t._list,a=o.get(e),s=void 0!==a;if(n===gn){if(!s)return t;u.size>=dn&&u.size>=2*o.size?(i=u.filter(function(t,e){return void 0!==t&&a!==e}),r=i.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=a===u.size-1?u.pop():u.set(a,void 0))}else if(s){if(n===u.get(a)[1])return t;r=o,i=u.set(a,[e,n])}else r=o.set(e,u.size),i=u.set(u.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):te(r,i)}function re(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function ie(t){this._iter=t,this.size=t.size}function oe(t){this._iter=t,this.size=t.size}function ue(t){this._iter=t,this.size=t.size}function ae(t){var e=Le(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Te,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return!1!==e(n,t,r)},n)},e.__iteratorUncached=function(e,n){if(e===bn){var r=t.__iterator(e,n);return new b(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===Sn?mn:Sn,n)},e}function se(t,e,n){var r=Le(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,gn);return o===gn?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate(function(t,i,u){return!1!==r(e.call(n,t,i,u),i,o)},i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(bn,i);return new b(function(){var i=o.next();if(i.done)return i;var u=i.value,a=u[0];return w(r,a,e.call(n,u[1],a,t),i)})},r}function ce(t,e){var n=Le(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=ae(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Te,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function le(t,e,n,r){var i=Le(t);return r&&(i.has=function(r){var i=t.get(r,gn);return i!==gn&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,gn);return o!==gn&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var u=this,a=0;return t.__iterate(function(t,o,s){if(e.call(n,t,o,s))return a++,i(t,r?o:a-1,u)},o),a},i.__iteratorUncached=function(i,o){var u=t.__iterator(bn,o),a=0;return new b(function(){for(;;){var o=u.next();if(o.done)return o;var s=o.value,c=s[0],l=s[1];if(e.call(n,l,c,t))return w(i,r?c:a++,l,o)}})},i}function fe(t,e,n){var r=ft().asMutable();return t.__iterate(function(i,o){r.update(e.call(n,i,o,t),0,function(t){return t+1})}),r.asImmutable()}function pe(t,e,n){var r=u(t),i=(c(t)?Xt():ft()).asMutable();t.__iterate(function(o,u){i.update(e.call(n,o,u,t),function(t){return t=t||[],t.push(r?[u,o]:o),t})});var o=ke(t);return i.map(function(e){return Ee(t,o(e))})}function he(t,e,n,r){var i=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n===1/0?n=i:n|=0),v(e,n,i))return t;var o=_(e,i),u=m(n,i);if(o!==o||u!==u)return he(t.toSeq().cacheResult(),e,n,r);var a,s=u-o;s===s&&(a=s<0?0:s);var c=Le(t);return c.size=0===a?a:t.size&&a||void 0,!r&&B(t)&&a>=0&&(c.get=function(e,n){return e=y(this,e),e>=0&&e<a?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(e,n);var u=0,s=!0,c=0;return t.__iterate(function(t,n){if(!s||!(s=u++<o))return c++,!1!==e(t,r?n:c-1,i)&&c!==a}),c},c.__iteratorUncached=function(e,n){if(0!==a&&n)return this.cacheResult().__iterator(e,n);var i=0!==a&&t.__iterator(e,n),u=0,s=0;return new b(function(){for(;u++<o;)i.next();if(++s>a)return M();var t=i.next();return r||e===Sn?t:e===mn?w(e,s-1,void 0,t):w(e,s-1,t.value[1],t)})},c}function de(t,e,n){var r=Le(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var u=0;return t.__iterate(function(t,i,a){return e.call(n,t,i,a)&&++u&&r(t,i,o)}),u},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var u=t.__iterator(bn,i),a=!0;return new b(function(){if(!a)return M();var t=u.next();if(t.done)return t;var i=t.value,s=i[0],c=i[1];return e.call(n,c,s,o)?r===bn?t:w(r,s,c,t):(a=!1,M())})},r}function ye(t,e,n,r){var i=Le(t);return i.__iterateUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterate(i,o);var a=!0,s=0;return t.__iterate(function(t,o,c){if(!a||!(a=e.call(n,t,o,c)))return s++,i(t,r?o:s-1,u)}),s},i.__iteratorUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterator(i,o);var a=t.__iterator(bn,o),s=!0,c=0;return new b(function(){var t,o,l;do{if(t=a.next(),t.done)return r||i===Sn?t:i===mn?w(i,c++,void 0,t):w(i,c++,t.value[1],t);var f=t.value;o=f[0],l=f[1],s&&(s=e.call(n,l,o,u))}while(s);return i===bn?t:w(i,o,l,t)})},i}function ge(t,e){var r=u(t),i=[t].concat(e).map(function(t){return o(t)?r&&(t=n(t)):t=r?K(t):P(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var s=i[0];if(s===t||r&&u(s)||a(t)&&a(s))return s}var c=new C(i);return r?c=c.toKeyedSeq():a(t)||(c=c.toSetSeq()),c=c.flatten(!0),c.size=i.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),c}function ve(t,e,n){var r=Le(t);return r.__iterateUncached=function(r,i){function u(t,c){var l=this;t.__iterate(function(t,i){return(!e||c<e)&&o(t)?u(t,c+1):!1===r(t,n?i:a++,l)&&(s=!0),!s},i)}var a=0,s=!1;return u(t,0),a},r.__iteratorUncached=function(r,i){var u=t.__iterator(r,i),a=[],s=0;return new b(function(){for(;u;){var t=u.next();if(!1===t.done){var c=t.value;if(r===bn&&(c=c[1]),e&&!(a.length<e)||!o(c))return n?t:w(r,s++,c,t);a.push(u),u=c.__iterator(r,i)}else u=a.pop()}return M()})},r}function _e(t,e,n){var r=ke(t);return t.toSeq().map(function(i,o){return r(e.call(n,i,o,t))}).flatten(!0)}function me(t,e){var n=Le(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate(function(t,r){return(!o||!1!==n(e,o++,i))&&!1!==n(t,o++,i)},r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(Sn,r),u=0;return new b(function(){return(!i||u%2)&&(i=o.next(),i.done)?i:u%2?w(n,u++,e):w(n,u++,i.value,i)})},n}function Se(t,e,n){e||(e=De);var r=u(t),i=0,o=t.toSeq().map(function(e,r){return[r,e,i++,n?n(e,r,t):e]}).toArray();return o.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?D(o):a(t)?O(o):N(o)}function be(t,e,n){if(e||(e=De),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return we(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return we(e,t,n)?n:t})}function we(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function Me(t,n,r){var i=Le(t);return i.size=new C(r).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(Sn,e),i=0;!(n=r.next()).done&&!1!==t(n.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=r.map(function(t){return t=e(t),I(i?t.reverse():t)}),u=0,a=!1;return new b(function(){var e;return a||(e=o.map(function(t){return t.next()}),a=e.some(function(t){return t.done})),a?M():w(t,u++,n.apply(null,e.map(function(t){return t.value})))})},i}function Ee(t,e){return B(t)?e:t.constructor(e)}function xe(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ie(t){return lt(t.size),d(t)}function ke(t){return u(t)?n:a(t)?r:i}function Le(t){return Object.create((u(t)?D:a(t)?O:N).prototype)}function Te(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):T.prototype.cacheResult.call(this)}function De(t,e){return t>e?1:t<e?-1:0}function Oe(t){var n=I(t);if(!n){if(!L(t))throw new TypeError("Expected iterable or array-like: "+t);n=I(e(t))}return n}function Ne(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var u=Object.keys(t);Ae(i,u),i.size=u.length,i._name=e,i._keys=u,i._defaultValues=t}this._map=ft(o)},i=r.prototype=Object.create(Jn);return i.constructor=r,r}function Ce(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function je(t){return t._name||t.constructor.name||"Record"}function Ae(t,e){try{e.forEach(ze.bind(void 0,t))}catch(t){}}function ze(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){X(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Be(t){return null===t||void 0===t?Ue():Re(t)&&!c(t)?t:Ue().withMutations(function(e){var n=i(t);lt(n.size),n.forEach(function(t){return e.add(t)})})}function Re(t){return!(!t||!t[Xn])}function Ke(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Pe(t,e){var n=Object.create($n);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Ue(){return tr||(tr=Pe(wt()))}function Fe(t){return null===t||void 0===t?qe():Ye(t)?t:qe().withMutations(function(e){var n=i(t);lt(n.size),n.forEach(function(t){return e.add(t)})})}function Ye(t){return Re(t)&&c(t)}function He(t,e){var n=Object.create(er);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function qe(){return nr||(nr=He(ee()))}function We(t){return null===t||void 0===t?Qe():Ge(t)?t:Qe().unshiftAll(t)}function Ge(t){return!(!t||!t[rr])}function Ve(t,e,n,r){var i=Object.create(ir);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Qe(){return or||(or=Ve(0))}function Ze(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Je(t,e){return e}function Xe(t,e){return[e,t]}function $e(t){return function(){return!t.apply(this,arguments)}}function tn(t){return function(){return-t.apply(this,arguments)}}function en(t){return"string"==typeof t?JSON.stringify(t):String(t)}function nn(){return h(arguments)}function rn(t,e){return t<e?1:t>e?-1:0}function on(t){if(t.size===1/0)return 0;var e=c(t),n=u(t),r=e?1:0;return un(t.__iterate(n?e?function(t,e){r=31*r+an(ot(t),ot(e))|0}:function(t,e){r=r+an(ot(t),ot(e))|0}:e?function(t){r=31*r+ot(t)|0}:function(t){r=r+ot(t)|0}),r)}function un(t,e){return e=Dn(e,3432918353),e=Dn(e<<15|e>>>-15,461845907),e=Dn(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Dn(e^e>>>16,2246822507),e=Dn(e^e>>>13,3266489909),e=it(e^e>>>16)}function an(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var sn=Array.prototype.slice;t(n,e),t(r,e),t(i,e),e.isIterable=o,e.isKeyed=u,e.isIndexed=a,e.isAssociative=s,e.isOrdered=c,e.Keyed=n,e.Indexed=r,e.Set=i;var cn="@@__IMMUTABLE_ITERABLE__@@",ln="@@__IMMUTABLE_KEYED__@@",fn="@@__IMMUTABLE_INDEXED__@@",pn="@@__IMMUTABLE_ORDERED__@@",hn=5,dn=1<<hn,yn=dn-1,gn={},vn={value:!1},_n={value:!1},mn=0,Sn=1,bn=2,wn="function"==typeof Symbol&&Symbol.iterator,Mn="@@iterator",En=wn||Mn;b.prototype.toString=function(){return"[Iterator]"},b.KEYS=mn,b.VALUES=Sn,b.ENTRIES=bn,b.prototype.inspect=b.prototype.toSource=function(){return this.toString()},b.prototype[En]=function(){return this},t(T,e),T.of=function(){return T(arguments)},T.prototype.toSeq=function(){return this},T.prototype.toString=function(){return this.__toString("Seq {","}")},T.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},T.prototype.__iterate=function(t,e){return Y(this,t,e,!0)},T.prototype.__iterator=function(t,e){return H(this,t,e,!0)},t(D,T),D.prototype.toKeyedSeq=function(){return this},t(O,T),O.of=function(){return O(arguments)},O.prototype.toIndexedSeq=function(){return this},O.prototype.toString=function(){return this.__toString("Seq [","]")},O.prototype.__iterate=function(t,e){return Y(this,t,e,!1)},O.prototype.__iterator=function(t,e){return H(this,t,e,!1)},t(N,T),N.of=function(){return N(arguments)},N.prototype.toSetSeq=function(){return this},T.isSeq=B,T.Keyed=D,T.Set=N,T.Indexed=O;var xn="@@__IMMUTABLE_SEQ__@@";T.prototype[xn]=!0,t(C,O),C.prototype.get=function(t,e){return this.has(t)?this._array[y(this,t)]:e},C.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===t(n[e?r-i:i],i,this))return i+1;return i},C.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new b(function(){return i>r?M():w(t,i,n[e?r-i++:i++])})},t(j,D),j.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},j.prototype.has=function(t){return this._object.hasOwnProperty(t)},j.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var u=r[e?i-o:o];if(!1===t(n[u],u,this))return o+1}return o},j.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new b(function(){var u=r[e?i-o:o];return o++>i?M():w(t,u,n[u])})},j.prototype[pn]=!0,t(A,O),A.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,r=I(n),i=0;if(x(r))for(var o;!(o=r.next()).done&&!1!==t(o.value,i++,this););return i},A.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=I(n);if(!x(r))return new b(M);var i=0;return new b(function(){var e=r.next();return e.done?e:w(t,i++,e.value)})},t(z,O),z.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n=this._iterator,r=this._iteratorCache,i=0;i<r.length;)if(!1===t(r[i],i++,this))return i;for(var o;!(o=n.next()).done;){var u=o.value;if(r[i]=u,!1===t(u,i++,this))break}return i},z.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new b(function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return w(t,i,r[i++])})};var In;t(J,O),J.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},J.prototype.get=function(t,e){return this.has(t)?this._value:e},J.prototype.includes=function(t){return Q(this._value,t)},J.prototype.slice=function(t,e){var n=this.size;return v(t,e,n)?this:new J(this._value,m(e,n)-_(t,n))},J.prototype.reverse=function(){return this},J.prototype.indexOf=function(t){return Q(this._value,t)?0:-1},J.prototype.lastIndexOf=function(t){return Q(this._value,t)?this.size:-1},J.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},J.prototype.__iterator=function(t,e){var n=this,r=0;return new b(function(){return r<n.size?w(t,r++,n._value):M()})},J.prototype.equals=function(t){return t instanceof J?Q(this._value,t._value):Z(t)};var kn;t($,O),$.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},$.prototype.get=function(t,e){return this.has(t)?this._start+y(this,t)*this._step:e},$.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},$.prototype.slice=function(t,e){return v(t,e,this.size)?this:(t=_(t,this.size),e=m(e,this.size),e<=t?new $(0,0):new $(this.get(t,this._end),this.get(e,this._end),this._step))},$.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},$.prototype.lastIndexOf=function(t){return this.indexOf(t)},$.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===t(i,o,this))return o+1;i+=e?-r:r}return o},$.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new b(function(){var u=i;return i+=e?-r:r,o>n?M():w(t,o++,u)})},$.prototype.equals=function(t){return t instanceof $?this._start===t._start&&this._end===t._end&&this._step===t._step:Z(this,t)};var Ln;t(tt,e),t(et,tt),t(nt,tt),t(rt,tt),tt.Keyed=et,tt.Indexed=nt,tt.Set=rt;var Tn,Dn="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){t|=0,e|=0;var n=65535&t,r=65535&e;return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0},On=Object.isExtensible,Nn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),Cn="function"==typeof WeakMap;Cn&&(Tn=new WeakMap);var jn=0,An="__immutablehash__";"function"==typeof Symbol&&(An=Symbol(An));var zn=16,Bn=255,Rn=0,Kn={};t(ft,et),ft.of=function(){var t=sn.call(arguments,0);return wt().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},ft.prototype.toString=function(){return this.__toString("Map {","}")},ft.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},ft.prototype.set=function(t,e){return Mt(this,t,e)},ft.prototype.setIn=function(t,e){return this.updateIn(t,gn,function(){return e})},ft.prototype.remove=function(t){return Mt(this,t,gn)},ft.prototype.deleteIn=function(t){return this.updateIn(t,function(){return gn})},ft.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},ft.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=jt(this,Oe(t),e,n);return r===gn?void 0:r},ft.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):wt()},ft.prototype.merge=function(){return Dt(this,void 0,arguments)},ft.prototype.mergeWith=function(t){return Dt(this,t,sn.call(arguments,1))},ft.prototype.mergeIn=function(t){var e=sn.call(arguments,1);return this.updateIn(t,wt(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},ft.prototype.mergeDeep=function(){return Dt(this,Ot,arguments)},ft.prototype.mergeDeepWith=function(t){var e=sn.call(arguments,1);return Dt(this,Nt(t),e)},ft.prototype.mergeDeepIn=function(t){var e=sn.call(arguments,1);return this.updateIn(t,wt(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},ft.prototype.sort=function(t){return Xt(Se(this,t))},ft.prototype.sortBy=function(t,e){return Xt(Se(this,e,t))},ft.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},ft.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new p)},ft.prototype.asImmutable=function(){return this.__ensureOwner()},ft.prototype.wasAltered=function(){return this.__altered},ft.prototype.__iterator=function(t,e){return new _t(this,t,e)},ft.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},ft.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?bt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},ft.isMap=pt;var Pn="@@__IMMUTABLE_MAP__@@",Un=ft.prototype;Un[Pn]=!0,Un.delete=Un.remove,Un.removeIn=Un.deleteIn,ht.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,u=i.length;o<u;o++)if(Q(n,i[o][0]))return i[o][1];return r},ht.prototype.update=function(t,e,n,r,i,o,u){for(var a=i===gn,s=this.entries,c=0,l=s.length;c<l&&!Q(r,s[c][0]);c++);var p=c<l;if(p?s[c][1]===i:a)return this;if(f(u),(a||!p)&&f(o),!a||1!==s.length){if(!p&&!a&&s.length>=Yn)return kt(t,s,r,i);var d=t&&t===this.ownerID,y=d?s:h(s);return p?a?c===l-1?y.pop():y[c]=y.pop():y[c]=[r,i]:y.push([r,i]),d?(this.entries=y,this):new ht(t,y)}},dt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=1<<((0===t?e:e>>>t)&yn),o=this.bitmap;return 0==(o&i)?r:this.nodes[At(o&i-1)].get(t+hn,e,n,r)},dt.prototype.update=function(t,e,n,r,i,o,u){void 0===n&&(n=ot(r));var a=(0===e?n:n>>>e)&yn,s=1<<a,c=this.bitmap,l=0!=(c&s);if(!l&&i===gn)return this;var f=At(c&s-1),p=this.nodes,h=l?p[f]:void 0,d=Et(h,t,e+hn,n,r,i,o,u);if(d===h)return this;if(!l&&d&&p.length>=Hn)return Tt(t,p,c,a,d);if(l&&!d&&2===p.length&&xt(p[1^f]))return p[1^f];if(l&&d&&1===p.length&&xt(d))return d;var y=t&&t===this.ownerID,g=l?d?c:c^s:c|s,v=l?d?zt(p,f,d,y):Rt(p,f,y):Bt(p,f,d,y);return y?(this.bitmap=g,this.nodes=v,this):new dt(t,g,v)},yt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=(0===t?e:e>>>t)&yn,o=this.nodes[i];return o?o.get(t+hn,e,n,r):r},yt.prototype.update=function(t,e,n,r,i,o,u){void 0===n&&(n=ot(r));var a=(0===e?n:n>>>e)&yn,s=i===gn,c=this.nodes,l=c[a];if(s&&!l)return this;var f=Et(l,t,e+hn,n,r,i,o,u);if(f===l)return this;var p=this.count;if(l){if(!f&&--p<qn)return Lt(t,c,p,a)}else p++;var h=t&&t===this.ownerID,d=zt(c,a,f,h);return h?(this.count=p,this.nodes=d,this):new yt(t,p,d)},gt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,u=i.length;o<u;o++)if(Q(n,i[o][0]))return i[o][1];return r},gt.prototype.update=function(t,e,n,r,i,o,u){void 0===n&&(n=ot(r));var a=i===gn;if(n!==this.keyHash)return a?this:(f(u),f(o),It(this,t,e,n,[r,i]));for(var s=this.entries,c=0,l=s.length;c<l&&!Q(r,s[c][0]);c++);var p=c<l;if(p?s[c][1]===i:a)return this;if(f(u),(a||!p)&&f(o),a&&2===l)return new vt(t,this.keyHash,s[1^c]);var d=t&&t===this.ownerID,y=d?s:h(s);return p?a?c===l-1?y.pop():y[c]=y.pop():y[c]=[r,i]:y.push([r,i]),d?(this.entries=y,this):new gt(t,this.keyHash,y)},vt.prototype.get=function(t,e,n,r){return Q(n,this.entry[0])?this.entry[1]:r},vt.prototype.update=function(t,e,n,r,i,o,u){var a=i===gn,s=Q(r,this.entry[0]);return(s?i===this.entry[1]:a)?this:(f(u),a?void f(o):s?t&&t===this.ownerID?(this.entry[1]=i,this):new vt(t,this.keyHash,[r,i]):(f(o),It(this,t,e,ot(r),[r,i])))},ht.prototype.iterate=gt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===t(n[e?i-r:r]))return!1},dt.prototype.iterate=yt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&!1===o.iterate(t,e))return!1}},vt.prototype.iterate=function(t,e){return t(this.entry)},t(_t,b),_t.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return mt(t,r.entry)}else if(r.entries){if(n=r.entries.length-1,i<=n)return mt(t,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,i<=n){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return mt(t,o.entry);e=this._stack=St(o,e)}continue}e=this._stack=this._stack.__prev}return M()};var Fn,Yn=dn/4,Hn=dn/2,qn=dn/4;t(Kt,nt),Kt.of=function(){return this(arguments)},Kt.prototype.toString=function(){return this.__toString("List [","]")},Kt.prototype.get=function(t,e){if((t=y(this,t))>=0&&t<this.size){t+=this._origin;var n=Vt(this,t);return n&&n.array[t&yn]}return e},Kt.prototype.set=function(t,e){return qt(this,t,e)},Kt.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Kt.prototype.insert=function(t,e){return this.splice(t,0,e)},Kt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=hn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Ht()},Kt.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){Qt(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},Kt.prototype.pop=function(){return Qt(this,0,-1)},Kt.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Qt(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},Kt.prototype.shift=function(){return Qt(this,1)},Kt.prototype.merge=function(){return Zt(this,void 0,arguments)},Kt.prototype.mergeWith=function(t){return Zt(this,t,sn.call(arguments,1))},Kt.prototype.mergeDeep=function(){return Zt(this,Ot,arguments)},Kt.prototype.mergeDeepWith=function(t){var e=sn.call(arguments,1);return Zt(this,Nt(t),e)},Kt.prototype.setSize=function(t){return Qt(this,0,t)},Kt.prototype.slice=function(t,e){var n=this.size;return v(t,e,n)?this:Qt(this,_(t,n),m(e,n))},Kt.prototype.__iterator=function(t,e){var n=0,r=Ft(this,e);return new b(function(){var e=r();return e===Qn?M():w(t,n++,e)})},Kt.prototype.__iterate=function(t,e){for(var n,r=0,i=Ft(this,e);(n=i())!==Qn&&!1!==t(n,r++,this););return r},Kt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Yt(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Kt.isList=Pt;var Wn="@@__IMMUTABLE_LIST__@@",Gn=Kt.prototype;Gn[Wn]=!0,Gn.delete=Gn.remove,Gn.setIn=Un.setIn,Gn.deleteIn=Gn.removeIn=Un.removeIn,Gn.update=Un.update,Gn.updateIn=Un.updateIn,Gn.mergeIn=Un.mergeIn,Gn.mergeDeepIn=Un.mergeDeepIn,Gn.withMutations=Un.withMutations,Gn.asMutable=Un.asMutable,Gn.asImmutable=Un.asImmutable,Gn.wasAltered=Un.wasAltered,Ut.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&yn;if(r>=this.array.length)return new Ut([],t);var i,o=0===r;if(e>0){var u=this.array[r];if((i=u&&u.removeBefore(t,e-hn,n))===u&&o)return this}if(o&&!i)return this;var a=Gt(this,t);if(!o)for(var s=0;s<r;s++)a.array[s]=void 0;return i&&(a.array[r]=i),a},Ut.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r=n-1>>>e&yn;if(r>=this.array.length)return this;var i;if(e>0){var o=this.array[r];if((i=o&&o.removeAfter(t,e-hn,n))===o&&r===this.array.length-1)return this}var u=Gt(this,t);return u.array.splice(r+1),i&&(u.array[r]=i),u};var Vn,Qn={};t(Xt,ft),Xt.of=function(){return this(arguments)},Xt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Xt.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Xt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},Xt.prototype.set=function(t,e){return ne(this,t,e)},Xt.prototype.remove=function(t){return ne(this,t,gn)},Xt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Xt.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Xt.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Xt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?te(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Xt.isOrderedMap=$t,Xt.prototype[pn]=!0,Xt.prototype.delete=Xt.prototype.remove;var Zn;t(re,D),re.prototype.get=function(t,e){return this._iter.get(t,e)},re.prototype.has=function(t){return this._iter.has(t)},re.prototype.valueSeq=function(){return this._iter.valueSeq()},re.prototype.reverse=function(){var t=this,e=ce(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},re.prototype.map=function(t,e){var n=this,r=se(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},re.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?Ie(this):0,function(i){return t(i,e?--n:n++,r)}),e)},re.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(Sn,e),r=e?Ie(this):0;return new b(function(){var i=n.next();return i.done?i:w(t,e?--r:r++,i.value,i)})},re.prototype[pn]=!0,t(ie,O),ie.prototype.includes=function(t){return this._iter.includes(t)},ie.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(Sn,e),r=0;return new b(function(){var e=n.next();return e.done?e:w(t,r++,e.value,e)})},t(oe,N),oe.prototype.has=function(t){return this._iter.includes(t)},oe.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},oe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(Sn,e);return new b(function(){var e=n.next();return e.done?e:w(t,e.value,e.value,e)})},t(ue,D),ue.prototype.entrySeq=function(){return this._iter.toSeq()},ue.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){xe(e);var r=o(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},ue.prototype.__iterator=function(t,e){var n=this._iter.__iterator(Sn,e);return new b(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){xe(r);var i=o(r);return w(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}})},ie.prototype.cacheResult=re.prototype.cacheResult=oe.prototype.cacheResult=ue.prototype.cacheResult=Te,t(Ne,et),Ne.prototype.toString=function(){return this.__toString(je(this)+" {","}")},Ne.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Ne.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},Ne.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Ce(this,wt()))},Ne.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+je(this));if(this._map&&!this._map.has(t)&&e===this._defaultValues[t])return this;var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:Ce(this,n)},Ne.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Ce(this,e)},Ne.prototype.wasAltered=function(){return this._map.wasAltered()},Ne.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},Ne.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},Ne.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Ce(this,e,t):(this.__ownerID=t,this._map=e,this)};var Jn=Ne.prototype;Jn.delete=Jn.remove,Jn.deleteIn=Jn.removeIn=Un.removeIn,Jn.merge=Un.merge,Jn.mergeWith=Un.mergeWith,Jn.mergeIn=Un.mergeIn,Jn.mergeDeep=Un.mergeDeep,Jn.mergeDeepWith=Un.mergeDeepWith,Jn.mergeDeepIn=Un.mergeDeepIn,Jn.setIn=Un.setIn,Jn.update=Un.update,Jn.updateIn=Un.updateIn,Jn.withMutations=Un.withMutations,Jn.asMutable=Un.asMutable,Jn.asImmutable=Un.asImmutable,t(Be,rt),Be.of=function(){return this(arguments)},Be.fromKeys=function(t){return this(n(t).keySeq())},Be.prototype.toString=function(){return this.__toString("Set {","}")},Be.prototype.has=function(t){return this._map.has(t)},Be.prototype.add=function(t){return Ke(this,this._map.set(t,!0))},Be.prototype.remove=function(t){return Ke(this,this._map.remove(t))},Be.prototype.clear=function(){return Ke(this,this._map.clear())},Be.prototype.union=function(){var t=sn.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Be.prototype.intersect=function(){var t=sn.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.every(function(t){return t.includes(e)})||n.remove(e)})})},Be.prototype.subtract=function(){var t=sn.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&n.remove(e)})})},Be.prototype.merge=function(){return this.union.apply(this,arguments)},Be.prototype.mergeWith=function(t){var e=sn.call(arguments,1);return this.union.apply(this,e)},Be.prototype.sort=function(t){return Fe(Se(this,t))},Be.prototype.sortBy=function(t,e){return Fe(Se(this,e,t))},Be.prototype.wasAltered=function(){return this._map.wasAltered()},Be.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},Be.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},Be.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Be.isSet=Re;var Xn="@@__IMMUTABLE_SET__@@",$n=Be.prototype;$n[Xn]=!0,$n.delete=$n.remove,$n.mergeDeep=$n.merge,$n.mergeDeepWith=$n.mergeWith,$n.withMutations=Un.withMutations,$n.asMutable=Un.asMutable,$n.asImmutable=Un.asImmutable,$n.__empty=Ue,$n.__make=Pe;var tr;t(Fe,Be),Fe.of=function(){return this(arguments)},Fe.fromKeys=function(t){return this(n(t).keySeq())},Fe.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Fe.isOrderedSet=Ye;var er=Fe.prototype;er[pn]=!0,er.__empty=qe,er.__make=He;var nr;t(We,nt),We.of=function(){return this(arguments)},We.prototype.toString=function(){return this.__toString("Stack [","]")},We.prototype.get=function(t,e){var n=this._head;for(t=y(this,t);n&&t--;)n=n.next;return n?n.value:e},We.prototype.peek=function(){return this._head&&this._head.value},We.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Ve(t,e)},We.prototype.pushAll=function(t){if(t=r(t),0===t.size)return this;lt(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Ve(e,n)},We.prototype.pop=function(){return this.slice(1)},We.prototype.unshift=function(){return this.push.apply(this,arguments)},We.prototype.unshiftAll=function(t){return this.pushAll(t)},We.prototype.shift=function(){return this.pop.apply(this,arguments)},We.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Qe()},We.prototype.slice=function(t,e){if(v(t,e,this.size))return this;var n=_(t,this.size);if(m(e,this.size)!==this.size)return nt.prototype.slice.call(this,t,e);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Ve(r,i)},We.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ve(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},We.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},We.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new b(function(){if(r){var e=r.value;return r=r.next,w(t,n++,e)}return M()})},We.isStack=Ge;var rr="@@__IMMUTABLE_STACK__@@",ir=We.prototype;ir[rr]=!0,ir.withMutations=Un.withMutations,ir.asMutable=Un.asMutable,ir.asImmutable=Un.asImmutable,ir.wasAltered=Un.wasAltered;var or;e.Iterator=b,Ze(e,{toArray:function(){lt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new ie(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new re(this,!0)},toMap:function(){return ft(this.toKeyedSeq())},toObject:function(){lt(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Xt(this.toKeyedSeq())},toOrderedSet:function(){return Fe(u(this)?this.valueSeq():this)},toSet:function(){return Be(u(this)?this.valueSeq():this)},toSetSeq:function(){return new oe(this)},toSeq:function(){return a(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return We(u(this)?this.valueSeq():this)},toList:function(){return Kt(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return Ee(this,ge(this,sn.call(arguments,0)))},includes:function(t){return this.some(function(e){return Q(e,t)})},entries:function(){return this.__iterator(bn)},every:function(t,e){lt(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1}),n},filter:function(t,e){return Ee(this,le(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return lt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){lt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""}),e},keys:function(){return this.__iterator(mn)},map:function(t,e){return Ee(this,se(this,t,e))},reduce:function(t,e,n){lt(this.size);var r,i;return arguments.length<2?i=!0:r=e,this.__iterate(function(e,o,u){i?(i=!1,r=e):r=t.call(n,r,e,o,u)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Ee(this,ce(this,!0))},slice:function(t,e){return Ee(this,he(this,t,e,!0))},some:function(t,e){return!this.every($e(t),e)},sort:function(t){return Ee(this,Se(this,t))},values:function(){return this.__iterator(Sn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return d(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return fe(this,t,e)},equals:function(t){return Z(this,t)},entrySeq:function(){var t=this;if(t._cache)return new C(t._cache);var e=t.toSeq().map(Xe).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter($e(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate(function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1}),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(g)},flatMap:function(t,e){return Ee(this,_e(this,t,e))},flatten:function(t){return Ee(this,ve(this,t,!0))},fromEntrySeq:function(){return new ue(this)},get:function(t,e){return this.find(function(e,n){return Q(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,i=Oe(t);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,gn):gn)===gn)return e}return r},groupBy:function(t,e){return pe(this,t,e)},has:function(t){return this.get(t,gn)!==gn},hasIn:function(t){return this.getIn(t,gn)!==gn},isSubset:function(t){return t="function"==typeof t.includes?t:e(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t="function"==typeof t.isSubset?t:e(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(e){return Q(e,t)})},keySeq:function(){return this.toSeq().map(Je).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return be(this,t)},maxBy:function(t,e){return be(this,e,t)},min:function(t){return be(this,t?tn(t):rn)},minBy:function(t,e){return be(this,e?tn(e):rn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Ee(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Ee(this,ye(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile($e(t),e)},sortBy:function(t,e){return Ee(this,Se(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Ee(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Ee(this,de(this,t,e))},takeUntil:function(t,e){return this.takeWhile($e(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var ur=e.prototype;ur[cn]=!0,ur[En]=ur.values,ur.__toJS=ur.toArray,ur.__toStringMapper=en,ur.inspect=ur.toSource=function(){return this.toString()},ur.chain=ur.flatMap,ur.contains=ur.includes,Ze(n,{flip:function(){return Ee(this,ae(this))},mapEntries:function(t,e){var n=this,r=0;return Ee(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Ee(this,this.toSeq().flip().map(function(r,i){return t.call(e,r,i,n)}).flip())}});var ar=n.prototype;return ar[ln]=!0,ar[En]=ur.entries,ar.__toJS=ur.toObject,ar.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+en(t)},Ze(r,{toKeyedSeq:function(){return new re(this,!1)},filter:function(t,e){return Ee(this,le(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Ee(this,ce(this,!1))},slice:function(t,e){return Ee(this,he(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=_(t,t<0?this.count():this.size);var r=this.slice(0,t);return Ee(this,1===n?r:r.concat(h(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Ee(this,ve(this,t,!1))},get:function(t,e){return t=y(this,t),t<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return(t=y(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Ee(this,me(this,t))},interleave:function(){var t=[this].concat(h(arguments)),e=Me(this.toSeq(),O.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Ee(this,n)},keySeq:function(){return $(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Ee(this,ye(this,t,e,!1))},zip:function(){return Ee(this,Me(this,nn,[this].concat(h(arguments))))},zipWith:function(t){var e=h(arguments);return e[0]=this,Ee(this,Me(this,t,e))}}),r.prototype[fn]=!0,r.prototype[pn]=!0,Ze(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=ur.includes,i.prototype.contains=i.prototype.includes,Ze(D,n.prototype),Ze(O,r.prototype),Ze(N,i.prototype),Ze(et,n.prototype),Ze(nt,r.prototype),Ze(rt,i.prototype),{Iterable:e,Seq:T,Collection:tt,Map:ft,OrderedMap:Xt,List:Kt,Stack:We,Set:Be,OrderedSet:Fe,Record:Ne,Range:$,Repeat:J,is:Q,fromJS:q}}()}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r=e===n,i=t.getBlockForKey(e);if(!i)return[];var o=[i];if(!r)for(var u=e;u!==n;){var a=t.getBlockAfter(u);if(!a){o=[];break}o.push(a),u=a.getKey()}return o}},function(t,e,n){var r=n(96),i=n(6)("iterator"),o=n(43);t.exports=n(4).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(69),i=n(6)("toStringTag"),o="Arguments"==r(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){t.exports={default:n(147),__esModule:!0}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){t.exports=!n(15)&&!n(35)(function(){return 7!=Object.defineProperty(n(100)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(21),i=n(14).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(36),i=n(40),o=n(150)(!1),u=n(72)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),s=0,c=[];for(n in a)n!=u&&r(a,n)&&c.push(n);for(;e.length>s;)r(a,n=e[s++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){t.exports={default:n(152),__esModule:!0}},function(t,e,n){var r=n(36),i=n(41),o=n(72)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){var r=n(8),i=n(4),o=n(35);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],u={};u[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",u)}},function(t,e,n){t.exports=n(29)},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(69);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(101),i=n(74).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(57),i=n(46),o=n(40),u=n(67),a=n(36),s=n(99),c=Object.getOwnPropertyDescriptor;e.f=n(15)?c:function(t,e){if(t=o(t),e=u(e,!0),s)try{return c(t,e)}catch(t){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){"use strict";var r=n(10),i=n(0),o=n(25),u=i.OrderedMap,a=function(t){var e={},n=void 0;return u(t.withMutations(function(t){t.forEach(function(r,i){var u=r.getKey(),a=r.getNextSiblingKey(),s=r.getPrevSiblingKey(),c=r.getChildKeys(),l=r.getParentKey(),f=o();if(e[u]=f,a&&(t.get(a)?t.setIn([a,"prevSibling"],f):t.setIn([u,"nextSibling"],null)),s&&(t.get(s)?t.setIn([s,"nextSibling"],f):t.setIn([u,"prevSibling"],null)),l&&t.get(l)){var p=t.get(l),h=p.getChildKeys();t.setIn([l,"children"],h.set(h.indexOf(r.getKey()),f))}else t.setIn([u,"parent"],null),n&&(t.setIn([n.getKey(),"nextSibling"],f),t.setIn([u,"prevSibling"],e[n.getKey()])),n=t.get(u);c.forEach(function(e){t.get(e)?t.setIn([e,"parent"],f):t.setIn([u,"children"],r.getChildKeys().filter(function(t){return t!==e}))})})}).toArray().map(function(t){return[e[t.getKey()],t.set("key",e[t.getKey()])]}))},s=function(t){return u(t.toArray().map(function(t){var e=o();return[e,t.set("key",e)]}))},c=function(t){return t.first()instanceof r?a(t):s(t)};t.exports=c},function(t,e,n){"use strict";function r(t,e){var n=t.getBlockMap(),r=t.getEntityMap(),i={},u=e.getStartKey(),a=e.getStartOffset(),s=n.get(u),c=o(r,s,a);c!==s&&(i[u]=c);var l=e.getEndKey(),f=e.getEndOffset(),p=n.get(l);u===l&&(p=c);var h=o(r,p,f);return h!==p&&(i[l]=h),Object.keys(i).length?t.merge({blockMap:n.merge(i),selectionAfter:e}):t.set("selectionAfter",e)}function i(t,e,n){var r;return a(t,function(t,e){return t.getEntity()===e.getEntity()},function(t){return t.getEntity()===e},function(t,e){t<=n&&e>=n&&(r={start:t,end:e})}),"object"!=typeof r&&s(!1),r}function o(t,e,n){var r=e.getCharacterList(),o=n>0?r.get(n-1):void 0,a=n<r.count()?r.get(n):void 0,s=o?o.getEntity():void 0,c=a?a.getEntity():void 0;if(c&&c===s&&"MUTABLE"!==t.__get(c).getMutability()){for(var l,f=i(r,c,n),p=f.start,h=f.end;p<h;)l=r.get(p),r=r.set(p,u.applyEntity(l,null)),p++;return e.set("characterList",r)}return e}var u=n(7),a=n(51),s=n(1);t.exports=r},function(t,e,n){"use strict";function r(t,e,n){if(n===t.count())e.forEach(function(e){t=t.push(e)});else if(0===n)e.reverse().forEach(function(e){t=t.unshift(e)});else{var r=t.slice(0,n),i=t.slice(n);t=r.concat(e,i).toList()}return t}t.exports=r},function(t,e,n){"use strict";var r=n(10),i=function(t,e){if(!(t instanceof r))return null;var n=t.getNextSiblingKey();if(n)return n;var i=t.getParentKey();if(!i)return null;for(var o=e.get(i);o&&!o.getNextSiblingKey();){var u=o.getParentKey();o=u?e.get(u):null}return o?o.getNextSiblingKey():null};t.exports=i},function(t,e,n){"use strict";function r(t,e){var n=[],r=t.map(function(t){return t.getStyle()}).toList();return a(r,i,f,function(t,r){n.push(new h({start:t+e,end:r+e}))}),s(n)}function i(t,e){return t===e}var o=n(0),u=n(81),a=n(51),s=o.List,c=o.Repeat,l=o.Record,f=u.thatReturnsTrue,p={start:null,end:null},h=l(p),d={start:null,end:null,decoratorKey:null,leaves:null},y=l(d),g={generate:function(t,e,n){var o=e.getLength();if(!o)return s.of(new y({start:0,end:0,decoratorKey:null,leaves:s.of(new h({start:0,end:0}))}));var u=[],l=n?n.getDecorations(e,t):s(c(null,o)),p=e.getCharacterList();return a(l,i,f,function(t,e){u.push(new y({start:t,end:e,decoratorKey:l.get(t),leaves:r(p.slice(t,e).toList(),t)}))}),s(u)},getFingerprint:function(t){return t.map(function(t){var e=t.get("decoratorKey");return(null!==e?e+"."+(t.get("end")-t.get("start")):"")+"."+t.get("leaves").size}).join("-")}};t.exports=g},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(0),a=u.Record,s=a({type:"TOKEN",mutability:"IMMUTABLE",data:Object}),c=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.getType=function(){return this.get("type")},e.prototype.getMutability=function(){return this.get("mutability")},e.prototype.getData=function(){return this.get("data")},e}(s);t.exports=c},function(t,e,n){"use strict";function r(t){var e=p.exec(t);return null==e?null:e[0]}function i(t){var e=r(t);return null==e?c.NEUTRAL:h.exec(e)?c.RTL:c.LTR}function o(t,e){if(e=e||c.NEUTRAL,!t.length)return e;var n=i(t);return n===c.NEUTRAL?e:n}function u(t,e){return e||(e=c.getGlobalDir()),c.isStrong(e)||l(!1),o(t,e)}function a(t,e){return u(t,e)===c.LTR}function s(t,e){return u(t,e)===c.RTL}var c=n(84),l=n(1),f={L:"A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",R:"֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",AL:"؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾"},p=new RegExp("["+f.L+f.R+f.AL+"]"),h=new RegExp("["+f.R+f.AL+"]"),d={firstStrongChar:r,firstStrongCharDir:i,resolveBlockDir:o,getDirection:u,isDirectionLTR:a,isDirectionRTL:s};t.exports=d},function(t,e,n){"use strict";t.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},function(t,e,n){"use strict";function r(t){var e=t.getSelection(),n=e.getAnchorKey(),r=t.getBlockTree(n),i=e.getStartOffset(),o=!1;return r.some(function(t){return i===t.get("start")?(o=!0,!0):i<t.get("end")&&t.get("leaves").some(function(t){var e=t.get("start");return i===e&&(o=!0,!0)})}),o}t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(9),a=u||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(199),c=n(64),l=n(3),f=n(38),p=n(122),h=n(88),d=n(117),y=n(84),g=n(45),v=n(214),_=n(89),m=n(218),S=n(1),b=n(13),w=function(t,e){return t.getAnchorKey()===e||t.getFocusKey()===e},M=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.shouldComponentUpdate=function(t){return this.props.block!==t.block||this.props.tree!==t.tree||this.props.direction!==t.direction||w(t.selection,t.block.getKey())&&t.forceSelection},e.prototype.componentDidMount=function(){var t=this.props.selection,e=t.getEndKey();if(t.getHasFocus()&&e===this.props.block.getKey()){var n=f.findDOMNode(this),r=h.getScrollParent(n),i=_(r),o=void 0;if(r===window){var u=v(n);(o=u.y+u.height-m().height)>0&&window.scrollTo(i.x,i.y+o+10)}else n instanceof HTMLElement||S(!1),(o=n.offsetHeight+n.offsetTop-(r.offsetHeight+i.y))>0&&p.setTop(r,p.getTop(r)+o+10)}},e.prototype._renderChildren=function(){var t=this,e=this.props.block,n=e.getKey(),r=e.getText(),i=this.props.tree.size-1,o=w(this.props.selection,n);return this.props.tree.map(function(u,f){var p=u.get("leaves"),h=p.size-1,g=p.map(function(u,a){var p=c.encode(n,f,a),d=u.get("start"),y=u.get("end");return l.createElement(s,{key:p,offsetKey:p,block:e,start:d,selection:o?t.props.selection:null,forceSelection:t.props.forceSelection,text:r.slice(d,y),styleSet:e.getInlineStyleAt(d),customStyleMap:t.props.customStyleMap,customStyleFn:t.props.customStyleFn,isLast:f===i&&a===h})}).toArray(),v=u.get("decoratorKey");if(null==v)return g;if(!t.props.decorator)return g;var _=b(t.props.decorator),m=_.getComponentForKey(v);if(!m)return g;var S=_.getPropsForKey(v),w=c.encode(n,f,0),M=r.slice(p.first().get("start"),p.last().get("end")),E=y.getHTMLDirIfDifferent(d.getDirection(M),t.props.direction);return l.createElement(m,a({},S,{contentState:t.props.contentState,decoratedText:M,dir:E,key:w,entityKey:e.getEntityAt(u.get("start")),offsetKey:w}),g)}).toArray()},e.prototype.render=function(){var t=this.props,e=t.direction,n=t.offsetKey,r=g({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===e,"public/DraftStyleDefault/rtl":"RTL"===e});return l.createElement("div",{"data-offset-key":n,className:r},this._renderChildren())},e}(l.Component);t.exports=M},function(t,e,n){"use strict";function r(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}t.exports=r},function(t,e,n){"use strict";function r(t,e){return!!e&&(t===e.documentElement||t===e.body)}var i={getTop:function(t){var e=t.ownerDocument;return r(t,e)?e.body.scrollTop||e.documentElement.scrollTop:t.scrollTop},setTop:function(t,e){var n=t.ownerDocument;r(t,n)?n.body.scrollTop=n.documentElement.scrollTop=e:t.scrollTop=e},getLeft:function(t){var e=t.ownerDocument;return r(t,e)?e.body.scrollLeft||e.documentElement.scrollLeft:t.scrollLeft},setLeft:function(t,e){var n=t.ownerDocument;r(t,n)?n.body.scrollLeft=n.documentElement.scrollLeft=e:t.scrollLeft=e}};t.exports=i},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){if("file"==t.kind)return t.getAsFile()}var o=n(221),u=n(222),a=n(81),s=new RegExp("\r\n","g"),c={"text/rtf":1,"text/html":1},l=function(){function t(e){r(this,t),this.data=e,this.types=e.types?u(e.types):[]}return t.prototype.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some(function(t){return c[t]})},t.prototype.getText=function(){var t;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(t=this.data.getData("text/plain")):t=this.data.getData("Text")),t?t.replace(s,"\n"):null},t.prototype.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},t.prototype.isLink=function(){return this.types.some(function(t){return-1!=t.indexOf("Url")||-1!=t.indexOf("text/uri-list")||t.indexOf("text/x-moz-url")})},t.prototype.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},t.prototype.isImage=function(){if(this.types.some(function(t){return-1!=t.indexOf("application/x-moz-file")}))return!0;for(var t=this.getFiles(),e=0;e<t.length;e++){var n=t[e].type;if(!o.isImage(n))return!1}return!0},t.prototype.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.prototype.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(i).filter(a.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.prototype.hasFiles=function(){return this.getFiles().length>0},t}();t.exports=l},function(t,e,n){"use strict";function r(t){if(t instanceof Element){var e=t.getAttribute("data-offset-key");if(e)return e;for(var n=0;n<t.childNodes.length;n++){var i=r(t.childNodes[n]);if(i)return i}}return null}t.exports=r},function(t,e,n){"use strict";(function(e){function r(t,e){var n=0,r=[];t.forEach(function(o){i(o,function(i){n++,i&&r.push(i.slice(0,s)),n==t.length&&e(r.join("\r"))})})}function i(t,n){if(!e.FileReader||t.type&&!(t.type in a))return void n("");if(""===t.type){var r="";return u.test(t.name)&&(r=t.name.replace(u,"")),void n(r)}var i=new FileReader;i.onload=function(){var t=i.result;"string"!=typeof t&&o(!1),n(t)},i.onerror=function(){n("")},i.readAsText(t)}var o=n(1),u=/\.textClipping$/,a={"text/plain":!0,"text/html":!0,"text/rtf":!0},s=5e3;t.exports=r}).call(e,n(26))},function(t,e,n){"use strict";function r(t,e,n,r,u){var a=o(t.getSelection()),s=i.decode(e),c=s.blockKey,l=t.getBlockTree(c).getIn([s.decoratorKey,"leaves",s.leafKey]),f=i.decode(r),p=f.blockKey,h=t.getBlockTree(p).getIn([f.decoratorKey,"leaves",f.leafKey]),d=l.get("start"),y=h.get("start"),g=l?d+n:null,v=h?y+u:null;if(a.getAnchorKey()===c&&a.getAnchorOffset()===g&&a.getFocusKey()===p&&a.getFocusOffset()===v)return a;var _=!1;if(c===p){var m=l.get("end"),S=h.get("end");_=y===d&&S===m?u<n:y<d}else _=t.getCurrentContent().getBlockMap().keySeq().skipUntil(function(t){return t===c||t===p}).first()===p;return a.merge({anchorKey:c,anchorOffset:g,focusKey:p,focusOffset:v,isBackward:_})}var i=n(64),o=n(13);t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.getSelection();return e.isCollapsed()?null:i(t.getCurrentContent(),e)}var i=n(61);t.exports=r},function(t,e,n){"use strict";function r(t){for(var e=t.cloneRange(),n=[],r=t.endContainer;null!=r;r=r.parentNode){var i=r===t.commonAncestorContainer;i?e.setStart(t.startContainer,t.startOffset):e.setStart(e.endContainer,0);var u=Array.from(e.getClientRects());if(n.push(u),i){var a;return n.reverse(),(a=[]).concat.apply(a,n)}e.setEndBefore(r)}o(!1)}var i=n(19),o=n(1),u=i.isBrowser("Chrome"),a=u?r:function(t){return Array.from(t.getClientRects())};t.exports=a},function(t,e,n){"use strict";function r(t,e,n,r,i,o){var a=n.nodeType===Node.TEXT_NODE,c=i.nodeType===Node.TEXT_NODE;if(a&&c)return{selectionState:l(t,p(s(n)),r,p(s(i)),o),needsRecovery:!1};var f=null,h=null,d=!0;return a?(f={key:p(s(n)),offset:r},h=u(e,i,o)):c?(h={key:p(s(i)),offset:o},f=u(e,n,r)):(f=u(e,n,r),h=u(e,i,o),n===i&&r===o&&(d=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:l(t,f.key,f.offset,h.key,h.offset),needsRecovery:d}}function i(t){for(;t.firstChild&&(t.firstChild instanceof Element&&"true"===t.firstChild.getAttribute("data-blocks")||c(t.firstChild));)t=t.firstChild;return t}function o(t){for(;t.lastChild&&(t.lastChild instanceof Element&&"true"===t.lastChild.getAttribute("data-blocks")||c(t.lastChild));)t=t.lastChild;return t}function u(t,e,n){var r=e,u=s(r);if(null!=u||t&&(t===r||t.firstChild===r)||f(!1),t===r&&(r=r.firstChild,r instanceof Element&&"true"===r.getAttribute("data-contents")||f(!1),n>0&&(n=r.childNodes.length)),0===n){var l=null;if(null!=u)l=u;else{var h=i(r);l=p(c(h))}return{key:l,offset:0}}var d=r.childNodes[n-1],y=null,g=null;if(c(d)){var v=o(d);y=p(c(v)),g=a(v)}else y=p(u),g=a(d);return{key:y,offset:g}}function a(t){var e=t.textContent;return"\n"===e?0:e.length}var s=n(90),c=n(124),l=n(126),f=n(1),p=n(13);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=e?l.exec(t):s.exec(t);return n?n[0]:t}var i=n(241),o=i.getPunctuation(),u="\\s|(?![_])"+o,a="^(?:"+u+")*(?:['‘’]|(?!"+u+").)*(?:(?!"+u+").)",s=new RegExp(a),c="(?:(?!"+u+").)(?:['‘’]|(?!"+u+").)*(?:"+u+")*$",l=new RegExp(c),f={getBackward:function(t){return r(t,!0)},getForward:function(t){return r(t,!1)}};t.exports=f},function(t,e,n){"use strict";function r(t,e){var n,r=t.getSelection(),i=r.getStartKey(),o=r.getStartOffset(),u=t.getCurrentContent(),a=i;return e>u.getBlockForKey(i).getText().length-o?(a=u.getKeyAfter(i),n=0):n=o+e,r.merge({focusKey:a,focusOffset:n})}t.exports=r},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=u||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(9),a=n(7),s=n(37),c=n(10),l=n(85),f=n(62),p=n(31),h=n(0),d=n(0),y=d.Set,g=n(252),v=n(45),_=n(25),m=n(133),S=n(1),b=n(83),w=p.draft_tree_data_support,M=h.List,E=h.OrderedSet,x=new RegExp("\r","g"),I=new RegExp("\n","g"),k=new RegExp("&nbsp;","g"),L=new RegExp("&#13;?","g"),T=new RegExp("&#8203;?","g"),D=["bold","bolder","500","600","700","800","900"],O=["light","lighter","100","200","300","400"],N={b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE"},C=(i={},r(i,v("public/DraftStyleDefault/depth0"),0),r(i,v("public/DraftStyleDefault/depth1"),1),r(i,v("public/DraftStyleDefault/depth2"),2),r(i,v("public/DraftStyleDefault/depth3"),3),r(i,v("public/DraftStyleDefault/depth4"),4),i),j=["className","href","rel","target","title"],A=["alt","className","height","src","width"],z=void 0,B={text:"",inlines:[],entities:[],blocks:[]},R={children:M(),depth:0,key:"",type:""},K=function(t,e){return"li"===t?"ol"===e?"ordered-list-item":"unordered-list-item":null},P=function(t){var e=t.get("unstyled").element,n=y([]);return t.forEach(function(t){t.aliasedElements&&t.aliasedElements.forEach(function(t){n=n.add(t)}),n=n.add(t.element)}),n.filter(function(t){return t&&t!==e}).toArray().sort()},U=function(t,e,n){for(var r=0;r<n.length;r++){var i=n[r](t,e);if(i)return i}return null},F=function(t,e,n){var r=n.filter(function(e){return e.element===t||e.wrapper===t||e.aliasedElements&&e.aliasedElements.some(function(e){return e===t})}).keySeq().toSet().toArray().sort();switch(r.length){case 0:return"unstyled";case 1:return r[0];default:return U(t,e,[K])||"unstyled"}},Y=function(t,e,n){var r=N[t];if(r)n=n.add(r).toOrderedSet();else if(e instanceof HTMLElement){var i=e;n=n.withMutations(function(t){var e=i.style.fontWeight,n=i.style.fontStyle,r=i.style.textDecoration;D.indexOf(e)>=0?t.add("BOLD"):O.indexOf(e)>=0&&t.remove("BOLD"),"italic"===n?t.add("ITALIC"):"normal"===n&&t.remove("ITALIC"),"underline"===r&&t.add("UNDERLINE"),"line-through"===r&&t.add("STRIKETHROUGH"),"none"===r&&(t.remove("UNDERLINE"),t.remove("STRIKETHROUGH"))}).toOrderedSet()}return n},H=function(t,e,n){var r=t.text.slice(-1),i=e.text.slice(0,1);if("\r"!==r||"\r"!==i||n||(t.text=t.text.slice(0,-1),t.inlines.pop(),t.entities.pop(),t.blocks.pop()),"\r"===r){if(" "===e.text||"\n"===e.text)return t;" "!==i&&"\n"!==i||(e.text=e.text.slice(1),e.inlines.shift(),e.entities.shift())}return{text:t.text+e.text,inlines:t.inlines.concat(e.inlines),entities:t.entities.concat(e.entities),blocks:t.blocks.concat(e.blocks)}},q=function(t,e){return e.some(function(e){return-1!==t.indexOf("<"+e)})},W=function(t){t instanceof HTMLAnchorElement||S(!1);var e=t.protocol;return"http:"===e||"https:"===e||"mailto:"===e},G=function(t){var e=new Array(1);return t&&(e[0]=t),o({},B,{text:" ",inlines:[E()],entities:e})},V=function(){return o({},B,{text:"\n",inlines:[E()],entities:new Array(1)})},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o({},R,t)},Z=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{text:"\r",inlines:[E()],entities:new Array(1),blocks:[Q({parent:n,key:_(),type:t,depth:Math.max(0,Math.min(4,e))})]}},J=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(C).some(function(n){t.classList.contains(n)&&(e=C[n])}),e},X=function t(e,n,r,i,u,a,s,c,l,p){var h=z,d=n.nodeName.toLowerCase(),y=e,v="unstyled",_=!1,m=u&&F(u,i,c),S=o({},B),b=null,M=void 0;if("#text"===d){var E=n.textContent,x=E.trim();if(i&&""===x&&n.parentElement){var k=n.parentElement.nodeName.toLowerCase();if("ol"===k||"ul"===k)return{chunk:o({},B),entityMap:e}}return""===x&&"pre"!==u?{chunk:G(l),entityMap:e}:("pre"!==u&&(E=E.replace(I," ")),z=d,{chunk:{text:E,inlines:Array(E.length).fill(r),entities:Array(E.length).fill(l),blocks:[]},entityMap:e})}if(z=d,"br"===d)return"br"!==h||u&&"unstyled"!==m?{chunk:V(),entityMap:e}:{chunk:Z("unstyled",s,p),entityMap:e};if("img"===d&&n instanceof HTMLImageElement&&n.attributes.getNamedItem("src")&&n.attributes.getNamedItem("src").value){var L=n,T={};A.forEach(function(t){var e=L.getAttribute(t);e&&(T[t]=e)}),n.textContent="📷",l=f.__create("IMAGE","MUTABLE",T||{})}r=Y(d,n,r),"ul"!==d&&"ol"!==d||(i&&(s+=1),i=d),!w&&"li"===d&&n instanceof HTMLElement&&(s=J(n,s));var D=F(d,i,c),O=i&&"li"===u&&"li"===d,N=(!u||w)&&-1!==a.indexOf(d);(O||N)&&(S=Z(D,s,p),M=S.blocks[0].key,u=d,_=!w),O&&(v="ul"===i?"unordered-list-item":"ordered-list-item");var C=n.firstChild;null!=C&&(d=C.nodeName.toLowerCase());for(var R=null;C;){C instanceof HTMLAnchorElement&&C.href&&W(C)?function(){var t=C,e={};j.forEach(function(n){var r=t.getAttribute(n);r&&(e[n]=r)}),e.url=new g(t.href).toString(),R=f.__create("LINK","MUTABLE",e||{})}():R=void 0;var K=t(y,C,r,i,u,a,s,c,R||l,w?M:null),P=K.chunk,U=K.entityMap;b=P,y=U,S=H(S,b,w);var q=C.nextSibling;!p&&q&&a.indexOf(d)>=0&&u&&(S=H(S,V())),q&&(d=q.nodeName.toLowerCase()),C=q}return _&&(S=H(S,Z(v,s,p))),{chunk:S,entityMap:y}},$=function(t,e,n,r){t=t.trim().replace(x,"").replace(k," ").replace(L,"").replace(T,"");var i=P(n),u=e(t);if(!u)return null;z=null;var a=q(t,i)?i:["div"],s=X(r,u,E(),"ul",null,a,-1,n),c=s.chunk,l=s.entityMap;return 0===c.text.indexOf("\r")&&(c={text:c.text.slice(1),inlines:c.inlines.slice(1),entities:c.entities.slice(1),blocks:c.blocks}),"\r"===c.text.slice(-1)&&(c.text=c.text.slice(0,-1),c.inlines=c.inlines.slice(0,-1),c.entities=c.entities.slice(0,-1),c.blocks.pop()),0===c.blocks.length&&c.blocks.push(o({},B,{type:"unstyled",depth:0})),c.text.split("\r").length===c.blocks.length+1&&c.blocks.unshift({type:"unstyled",depth:0}),{chunk:c,entityMap:l}},tt=function(t){if(!t||!t.text||!Array.isArray(t.blocks))return null;var e={cacheRef:{},contentBlocks:[]},n=0,r=t.blocks,i=t.inlines,o=t.entities,u=w?c:s;return t.text.split("\r").reduce(function(t,e,s){e=b(e);var l=r[s],f=n+e.length,p=i.slice(n,f),h=o.slice(n,f),d=M(p.map(function(t,e){var n={style:t,entity:null};return h[e]&&(n.entity=h[e]),a.create(n)}));n=f+1;var y=l.depth,g=l.type,v=l.parent,m=l.key||_(),S=null;if(v){var w=t.cacheRef[v],E=t.contentBlocks[w];if(E.getChildKeys().isEmpty()&&E.getText()){var x=E.getCharacterList(),I=E.getText();S=_();var k=new c({key:S,text:I,characterList:x,parent:v,nextSibling:m});t.contentBlocks.push(k),E=E.withMutations(function(t){t.set("characterList",M()).set("text","").set("children",E.children.push(k.getKey()))})}t.contentBlocks[w]=E.set("children",E.children.push(m))}var L=new u({key:m,parent:v,type:g,depth:y,text:e,characterList:d,prevSibling:S||(0===s||r[s-1].parent!==v?null:r[s-1].key),nextSibling:s===r.length-1||r[s+1].parent!==v?null:r[s+1].key});return t.contentBlocks.push(L),t.cacheRef[L.key]=s,t},e).contentBlocks},et=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,r=$(t,e,n,f);if(null==r)return null;var i=r.chunk,o=r.entityMap;return{contentBlocks:tt(i),entityMap:o}};t.exports=et},function(t,e,n){"use strict";function r(t){var e,n=null;return!u&&document.implementation&&document.implementation.createHTMLDocument&&(e=document.implementation.createHTMLDocument("foo"),e.documentElement||o(!1),e.documentElement.innerHTML=t,n=e.getElementsByTagName("body")[0]),n}var i=n(19),o=n(1),u=i.isBrowser("IE <= 9");t.exports=r},function(t,e,n){"use strict";var r=n(5),i=n(2),o=(n(44),n(253)),u=n(13),a={currentBlockContainsLink:function(t){var e=t.getSelection(),n=t.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(e.getAnchorKey()).getCharacterList().slice(e.getStartOffset(),e.getEndOffset()).some(function(t){var e=t.getEntity();return!!e&&"LINK"===r.__get(e).getType()})},getCurrentBlockType:function(t){var e=t.getSelection();return t.getCurrentContent().getBlockForKey(e.getStartKey()).getType()},getDataObjectForLinkURL:function(t){return{url:t.toString()}},handleKeyCommand:function(t,e){switch(e){case"bold":return a.toggleInlineStyle(t,"BOLD");case"italic":return a.toggleInlineStyle(t,"ITALIC");case"underline":return a.toggleInlineStyle(t,"UNDERLINE");case"code":return a.toggleCode(t);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return a.onBackspace(t);case"delete":case"delete-word":case"delete-to-end-of-block":return a.onDelete(t);default:return null}},insertSoftNewline:function(t){var e=r.insertText(t.getCurrentContent(),t.getSelection(),"\n",t.getCurrentInlineStyle(),null),n=i.push(t,e,"insert-characters");return i.forceSelection(n,e.getSelectionAfter())},onBackspace:function(t){var e=t.getSelection();if(!e.isCollapsed()||e.getAnchorOffset()||e.getFocusOffset())return null;var n=t.getCurrentContent(),r=e.getStartKey(),o=n.getBlockBefore(r);if(o&&"atomic"===o.getType()){var u=n.getBlockMap().delete(o.getKey()),s=n.merge({blockMap:u,selectionAfter:e});if(s!==n)return i.push(t,s,"remove-range")}var c=a.tryToRemoveBlockStyle(t);return c?i.push(t,c,"change-block-type"):null},onDelete:function(t){var e=t.getSelection();if(!e.isCollapsed())return null;var n=t.getCurrentContent(),o=e.getStartKey(),u=n.getBlockForKey(o),a=u.getLength();if(e.getStartOffset()<a)return null;var s=n.getBlockAfter(o);if(!s||"atomic"!==s.getType())return null;var c=e.merge({focusKey:s.getKey(),focusOffset:s.getLength()}),l=r.removeRange(n,c,"forward");return l!==n?i.push(t,l,"remove-range"):null},onTab:function(t,e,n){var r=e.getSelection(),u=r.getAnchorKey();if(u!==r.getFocusKey())return e;var a=e.getCurrentContent(),s=a.getBlockForKey(u),c=s.getType();if("unordered-list-item"!==c&&"ordered-list-item"!==c)return e;t.preventDefault();var l=a.getBlockBefore(u);if(!l)return e;var f=l.getType();if("unordered-list-item"!==f&&"ordered-list-item"!==f)return e;var p=s.getDepth();if(!t.shiftKey&&p===n)return e;n=Math.min(l.getDepth()+1,n);var h=o(a,r,t.shiftKey?-1:1,n);return i.push(e,h,"adjust-depth")},toggleBlockType:function(t,e){var n=t.getSelection(),o=n.getStartKey(),a=n.getEndKey(),s=t.getCurrentContent(),c=n;if(o!==a&&0===n.getEndOffset()){var l=u(s.getBlockBefore(a));a=l.getKey(),c=c.merge({anchorKey:o,anchorOffset:n.getStartOffset(),focusKey:a,focusOffset:l.getLength(),isBackward:!1})}if(s.getBlockMap().skipWhile(function(t,e){return e!==o}).reverse().skipWhile(function(t,e){return e!==a}).some(function(t){return"atomic"===t.getType()}))return t;var f=s.getBlockForKey(o).getType()===e?"unstyled":e;return i.push(t,r.setBlockType(s,c,f),"change-block-type")},toggleCode:function(t){var e=t.getSelection(),n=e.getAnchorKey(),r=e.getFocusKey();return e.isCollapsed()||n!==r?a.toggleBlockType(t,"code-block"):a.toggleInlineStyle(t,"CODE")},toggleInlineStyle:function(t,e){var n=t.getSelection(),o=t.getCurrentInlineStyle();if(n.isCollapsed())return i.setInlineStyleOverride(t,o.has(e)?o.remove(e):o.add(e));var u,a=t.getCurrentContent();return u=o.has(e)?r.removeInlineStyle(a,n,e):r.applyInlineStyle(a,n,e),i.push(t,u,"change-inline-style")},toggleLink:function(t,e,n){var o=r.applyEntity(t.getCurrentContent(),e,n);return i.push(t,o,"apply-entity")},tryToRemoveBlockStyle:function(t){var e=t.getSelection(),n=e.getAnchorOffset();if(e.isCollapsed()&&0===n){var i=e.getAnchorKey(),o=t.getCurrentContent(),u=o.getBlockForKey(i),a=o.getFirstBlock();if(u.getLength()>0&&u!==a)return null;var s=u.getType(),c=o.getBlockBefore(i);if("code-block"===s&&c&&"code-block"===c.getType()&&0!==c.getLength())return null;if("unstyled"!==s)return r.setBlockType(o,e,"unstyled")}return null}};t.exports=a},function(t,e,n){"use strict";var r={stringify:function(t){return"_"+String(t)},unstringify:function(t){return t.slice(1)}};t.exports=r},function(t,e,n){t.exports={default:n(273),__esModule:!0}},function(t,e,n){var r=n(30);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(43),i=n(6)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(29);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(21);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){t.exports={default:n(303),__esModule:!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(326);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(328);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t){this.tokens=[],this.tokens.links={},this.options=l({},t||p),this.rules=h.normal,this.options.gfm&&(this.rules=h.gfm)}function i(t,e){if(this.options=l({},e||p),this.links=t,this.rules=d.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=d.breaks:this.rules=d.gfm:this.options.pedantic&&(this.rules=d.pedantic)}function o(t){this.options=t||{}}function u(t){this.tokens=[],this.token=null,this.options=l({},t||p),this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options}function a(t,e){return t=t.source,e=e||"",function n(r,i){return r?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),t=t.replace(r,i),n):new RegExp(t,e)}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(144),c=Object.prototype.hasOwnProperty,l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)c.call(n,r)&&(t[r]=n[r])}return t},f=function(){};f.exec=f;var p={gfm:!0,breaks:!1,pedantic:!1,smartLists:!1,silent:!1,langPrefix:"lang-",renderer:new o,xhtml:!1},h={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:f,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:f,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|def))+)\n*/,text:/^[^\n]+/};h.bullet=/(?:[*+-]|\d+\.)/,h.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,h.item=a(h.item,"gm")(/bull/g,h.bullet)(),h.list=a(h.list)(/bull/g,h.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+h.def.source+")")(),h.blockquote=a(h.blockquote)("def",h.def)(),h.paragraph=a(h.paragraph)("hr",h.hr)("heading",h.heading)("lheading",h.lheading)("blockquote",h.blockquote)("def",h.def)(),h.normal=l({},h),h.gfm=l({},h.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),h.gfm.paragraph=a(h.paragraph)("(?!","(?!"+h.gfm.fences.source.replace("\\1","\\2")+"|"+h.list.source.replace("\\1","\\3")+"|")(),r.rules=h,r.parse=function(t,e){return new r(e).parse(t)},r.prototype.parse=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},r.prototype.token=function(t,e,n){var r,i,o,u,a,s,c,l,f;for(t=t.replace(/^ +$/gm,"");t;)if((o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(t))t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,e,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),u=o[2],this.tokens.push({type:"list_start",ordered:u.length>1}),o=o[0].match(this.rules.item),r=!1,f=o.length,l=0;l<f;l++)s=o[l],c=s.length,s=s.replace(/^ *([*+-]|\d+\.) +/,""),~s.indexOf("\n ")&&(c-=s.length,s=this.options.pedantic?s.replace(/^ {1,4}/gm,""):s.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&l!==f-1&&(a=h.bullet.exec(o[l+1])[0],u===a||u.length>1&&a.length>1||(t=o.slice(l+1).join("\n")+t,l=f-1)),i=r||/\n\n(?!\s*$)/.test(s),l!==f-1&&(r="\n"===s.charAt(s.length-1),i||(i=r)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(s,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(!n&&e&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(e&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var d={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:f,ins:f,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};d._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,d._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,d.link=a(d.link)("inside",d._inside)("href",d._href)(),d.reflink=a(d.reflink)("inside",d._inside)(),d.normal=l({},d),d.pedantic=l({},d.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),d.gfm=l({},d.normal,{escape:a(d.escape)("])","~|])")(),del:/^~~(?=\S)([\s\S]*?\S)~~/,ins:/^\+\+(?=\S)([\s\S]*?\S)\+\+/,text:a(d.text)("]|","~+]|")()}),d.breaks=l({},d.gfm,{br:a(d.br)("{2,}","*")(),text:a(d.gfm.text)("{2,}","*")()}),i.rules=d,i.parse=function(t,e,n){return new i(e,n).parse(t)},i.prototype.parse=function(t){for(var e,n,r=new s.FragmentNode;t;)if(n=this.rules.escape.exec(t))t=t.substring(n[0].length),r.appendChild(new s.TextNode(n[1]));else if(n=this.rules.link.exec(t))t=t.substring(n[0].length),this.inLink=!0,r.appendChild(this.outputLink(n,{href:n[2],title:n[3]})),this.inLink=!1;else if((n=this.rules.reflink.exec(t))||(n=this.rules.nolink.exec(t))){if(t=t.substring(n[0].length),e=(n[2]||n[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){r.appendChild(new s.TextNode(n[0].charAt(0))),t=n[0].substring(1)+t;continue}this.inLink=!0,r.appendChild(this.outputLink(n,e)),this.inLink=!1}else if(n=this.rules.strong.exec(t))t=t.substring(n[0].length),r.appendChild(this.renderer.strong(this.parse(n[2]||n[1])));else if(n=this.rules.em.exec(t))t=t.substring(n[0].length),r.appendChild(this.renderer.em(this.parse(n[2]||n[1])));else if(n=this.rules.code.exec(t))t=t.substring(n[0].length),r.appendChild(this.renderer.codespan(n[2]));else if(n=this.rules.br.exec(t))t=t.substring(n[0].length),r.appendChild(this.renderer.br());else if(n=this.rules.del.exec(t))t=t.substring(n[0].length),r.appendChild(this.renderer.del(this.parse(n[1])));else if(n=this.rules.ins.exec(t))t=t.substring(n[0].length),r.appendChild(this.renderer.ins(this.parse(n[1])));else if(n=this.rules.text.exec(t))t=t.substring(n[0].length),r.appendChild(this.renderer.text(new s.TextNode(n[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return r},i.prototype.outputLink=function(t,e){var n=e.href,r=e.title;return"!"!==t[0].charAt(0)?this.renderer.link(n,r,this.parse(t[1])):this.renderer.image(n,r,t[1])},o.prototype.code=function(t,e){var n=[];e&&n.push({name:"class",value:this.options.langPrefix+e});var r=new s.ElementNode("code",n,[t]);return new s.ElementNode("pre",[],[r])},o.prototype.blockquote=function(t){return new s.ElementNode("blockquote",[],[t])},o.prototype.heading=function(t,e){return new s.ElementNode("h"+e,[],[t])},o.prototype.hr=function(){return new s.ElementNode("hr",[],s.SELF_CLOSING)},o.prototype.list=function(t,e){return new s.ElementNode(e?"ol":"ul",[],[t])},o.prototype.listitem=function(t){return new s.ElementNode("li",[],[t])},o.prototype.paragraph=function(t){return new s.ElementNode("p",[],[t])},o.prototype.strong=function(t){return new s.ElementNode("strong",[],[t])},o.prototype.em=function(t){return new s.ElementNode("em",[],[t])},o.prototype.codespan=function(t){return new s.ElementNode("code",[],[new s.TextNode(t)])},o.prototype.br=function(){return new s.ElementNode("br",[],s.SELF_CLOSING)},o.prototype.del=function(t){return new s.ElementNode("del",[],[t])},o.prototype.ins=function(t){return new s.ElementNode("ins",[],[t])},o.prototype.link=function(t,e,n){var r=[{name:"href",value:t}];return e&&r.push({name:"title",value:e}),new s.ElementNode("a",r,[n])},o.prototype.image=function(t,e,n){var r=[{name:"src",value:t}];return e&&r.push({name:"title",value:e}),n&&r.push({name:"alt",value:n}),new s.ElementNode("img",r,s.SELF_CLOSING)},o.prototype.text=function(t){return t},u.parse=function(t,e,n){return new u(e,n).parse(t)},u.prototype.parse=function(t){this.inline=new i(t.links,this.options,this.renderer),this.tokens=t.slice().reverse();for(var e=new s.FragmentNode;this.next();)e.appendChild(this.tok());return e},u.prototype.next=function(){return this.token=this.tokens.pop()},u.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},u.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.parse(t)},u.prototype.tok=function(){switch(this.token.type){case"space":return new s.TextNode("");case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.parse(this.token.text),this.token.depth);case"code":return this.renderer.code(this.token.text,this.token.lang);case"blockquote_start":for(var t=new s.FragmentNode;"blockquote_end"!==this.next().type;)t.appendChild(this.tok());return this.renderer.blockquote(t);case"list_start":for(var e=new s.FragmentNode,n=this.token.ordered;"list_end"!==this.next().type;)e.appendChild(this.tok());return this.renderer.list(e,n);case"list_item_start":for(var r=new s.FragmentNode;"list_item_end"!==this.next().type;)r.appendChild("text"===this.token.type?this.parseText():this.tok());return this.renderer.listitem(r);case"loose_item_start":for(var i=new s.FragmentNode;"list_item_end"!==this.next().type;)i.appendChild(this.tok());return this.renderer.listitem(i);case"paragraph":return this.renderer.paragraph(this.inline.parse(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var y={parse:function(t,e){e=l({},p,e);try{var n=u.parse(r.parse(t,e),e)}catch(t){if(!e.silent)throw t;n=new s.FragmentNode([new s.ElementNode("p",[],[new s.TextNode("An error occured:")]),new s.ElementNode("pre",[],[new s.TextNode(t.message)])])}return e.getAST?new s.ElementNode("body",[],[n]):n.toString(this.options.xhtml)}};e.default=y},function(t,e,n){"use strict";function r(t,e,n){var r=t.getCurrentContent(),i=r.getBlockForKey(e);if(i.getDepth()===n)return t;var o=i.set("depth",n),u=r.merge({blockMap:r.getBlockMap().set(e,o)});return F.EditorState.push(t,u,"adjust-depth")}function i(t,e,n){var r=t.getCurrentContent(),i=r.getBlockForKey(e);if(i.getType()===n)return t;var o=i.set("type",n),u=r.merge({blockMap:r.getBlockMap().set(e,o)});return F.EditorState.push(t,u,"change-block-type")}function o(t){var e=t.getCurrentContent(),n=e.getBlockMap(),r=t.getSelection();if(r.isCollapsed())return new V.OrderedMap;var i=r.getStartKey(),o=r.getEndKey();return i===o?new V.OrderedMap({startKey:e.getBlockForKey(i)}):n.takeUntil(function(t,e){return e===o}).skipUntil(function(t,e){return e===i})}function u(t,e,n){var r=t.getCurrentContent(),i=r.getBlockMap(),o=i.get(e),u=i.toSeq().takeUntil(function(t){return t===o}),a=i.toSeq().skipUntil(function(t){return t===o}).rest(),s=Object(F.genKey)(),c=new F.ContentBlock({key:s,type:n,text:"",characterList:o.getCharacterList().slice(0,0),depth:0}),l=u.concat([[e,o],[s,c]],a).toOrderedMap(),f=t.getSelection(),p=r.merge({blockMap:l,selectionBefore:f,selectionAfter:f.merge({anchorKey:s,anchorOffset:0,focusKey:s,focusOffset:0,isBackward:!1})});return F.EditorState.push(t,p,"split-block")}function a(t){var e=t.getType();return e===Q.BLOCK_TYPE.UNORDERED_LIST_ITEM||e===Q.BLOCK_TYPE.ORDERED_LIST_ITEM}function s(t){var e=dt()(t.className,wt.a.root);return U.a.createElement("div",k()({},t,{className:e}))}function c(t){var e=dt()(t.className,jt.a.root);return U.a.createElement("div",k()({},t,{className:e}))}function l(t,e){var n=t.getEntityAt(e);if(null==n)return null;for(var r=e;r>0&&t.getEntityAt(r-1)===n;)r-=1;for(var i=r,o=t.getLength();i<o&&t.getEntityAt(i+1)===n;)i+=1;return{entityKey:n,blockKey:t.getKey(),startOffset:r,endOffset:i+1}}function f(t){var e=t.getSelection(),n=e.getStartKey(),r=t.getCurrentContent().getBlockForKey(n),i=e.getStartOffset();if(e.isCollapsed())return l(r,0===i?i:i-1);if(n!==e.getEndKey())return null;for(var o=e.getEndOffset(),u=r.getEntityAt(i),a=i;a<o;a++){var s=r.getEntityAt(a);if(null==s||s!==u)return null}return{entityKey:u,blockKey:r.getKey(),startOffset:i,endOffset:o}}function p(t,e,n,r){var i=t.getCurrentContent(),o=i.getBlockMap(),u=o.get(e),a=u.getCharacterList(),s=a.map(function(t,e){return e>=n&&e<r?F.CharacterMetadata.applyEntity(t,null):t}),c=u.set("characterList",s),l=o.set(e,c),f=i.set("blockMap",l);return F.EditorState.push(t,f,"apply-entity")}function h(t,e,n){var r=t.getCurrentContent();switch(e){case"html":return Object($t.stateToHTML)(r,n);case"markdown":return Object(ee.stateToMarkdown)(r);case"raw":return Xt()(Object(F.convertToRaw)(r));default:throw new Error("Format not supported: "+e)}}function d(t,e,n){switch(e){case"html":return Object(te.stateFromHTML)(t,n);case"markdown":return Object(ne.stateFromMarkdown)(t,n);case"raw":return Object(F.convertFromRaw)(JSON.parse(t));default:throw new Error("Format not supported: "+e)}}function y(t){var e=t.contentState.getEntity(t.entityKey).getData(),n=e.url;return U.a.createElement("a",{href:n},t.children)}function g(t,e,n){t.findEntityRanges(function(t){var e=t.getEntity();if(null!=e){var r=n?n.getEntity(e):null;return null!=r&&r.getType()===Q.ENTITY_TYPE.LINK}return!1},e)}function v(t,e,n){t.findEntityRanges(function(t){var e=t.getEntity();if(null!=e){var r=n?n.getEntity(e):null;return null!=r&&r.getType()===Q.ENTITY_TYPE.IMAGE}return!1},e)}function _(t,e){return function(n){if(e){var r=e(n);if(null!=r)return r}return t(n)}}function m(t){var e=ye.a.block;switch(t.getType()){case"unstyled":return dt()(e,ye.a.paragraph);case"blockquote":return dt()(e,ye.a.blockquote);case"code-block":return dt()(e,ye.a.codeBlock);default:return e}}function S(){return ie.createEmpty(_e)}function b(t,e,n){return ie.createFromString(t,e,_e,n)}Object.defineProperty(e,"__esModule",{value:!0});var w=n(97),M=n.n(w),E=n(48),x=n.n(E),I=n(16),k=n.n(I),L=n(42),T=n.n(L),D=n(22),O=n.n(D),N=n(17),C=n.n(N),j=n(18),A=n.n(j),z=n(23),B=n.n(z),R=n(24),K=n.n(R),P=n(3),U=n.n(P),F=n(12),Y=n(92),H=n.n(Y),q=function(t){switch(t.getData().get("textAlign")){case"ALIGN_LEFT":return"text-align--left";case"ALIGN_CENTER":return"text-align--center";case"ALIGN_RIGHT":return"text-align--right";case"ALIGN_JUSTIFY":return"text-align--justify";default:return""}},W=function(t){switch(t.getData().get("textAlign")){case"ALIGN_LEFT":return{style:{textAlign:"left"}};case"ALIGN_CENTER":return{style:{textAlign:"center"}};case"ALIGN_RIGHT":return{style:{textAlign:"right"}};case"ALIGN_JUSTIFY":return{style:{textAlign:"justify"}};default:return{}}},G=function(t){switch(t.style.textAlign){case"right":return{data:{textAlign:"ALIGN_RIGHT"}};case"center":return{data:{textAlign:"ALIGN_CENTER"}};case"justify":return{data:{textAlign:"ALIGN_JUSTIFY"}};case"left":return{data:{textAlign:"ALIGN_LEFT"}};default:return{}}},V=n(93),Q=n(32),Z=n(272),J=n.n(Z),X=n(136),$=n.n(X),tt=n(277),et=n.n(tt),nt=n(76),rt=n.n(nt),it=n(65),ot=n(38),ut=n.n(ot),at=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Strikethrough",style:"STRIKETHROUGH"},{label:"Monospace",style:"CODE"},{label:"Underline",style:"UNDERLINE"}],st=[{label:"Align Left",style:"ALIGN_LEFT"},{label:"Align Center",style:"ALIGN_CENTER"},{label:"Align Right",style:"ALIGN_RIGHT"},{label:"Align Justify",style:"ALIGN_JUSTIFY"}],ct=[{label:"Normal",style:"unstyled"},{label:"Heading Large",style:"header-one"},{label:"Heading Medium",style:"header-two"},{label:"Heading Small",style:"header-three"},{label:"Code Block",style:"code-block"}],lt=[{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"},{label:"Blockquote",style:"blockquote"}],ft={display:["INLINE_STYLE_BUTTONS","BLOCK_ALIGNMENT_BUTTONS","BLOCK_TYPE_BUTTONS","LINK_BUTTONS","IMAGE_BUTTON","BLOCK_TYPE_DROPDOWN","HISTORY_BUTTONS"],INLINE_STYLE_BUTTONS:at,BLOCK_ALIGNMENT_BUTTONS:st,BLOCK_TYPE_DROPDOWN:ct,BLOCK_TYPE_BUTTONS:lt},pt=ft,ht=n(27),dt=n.n(ht),yt=n(33),gt=n.n(yt),vt=n(293),_t=n.n(vt),mt=function(t){function e(){C()(this,e);var t=B()(this,(e.__proto__||O()(e)).apply(this,arguments));return gt()(t),t}return K()(e,t),A()(e,[{key:"render",value:function(){var t=this.props,e=t.className,n=t.isDisabled,r=t.focusOnClick,i=t.formSubmit,o=T()(t,["className","isDisabled","focusOnClick","formSubmit"]);e=dt()(e,_t.a.root);var u=!1===r?this._onMouseDownPreventDefault:t.onMouseDown,a=i?"submit":"button";return U.a.createElement("button",k()({type:a},o,{onMouseDown:u,className:e,disabled:n}),t.children)}},{key:"_onMouseDownPreventDefault",value:function(t){t.preventDefault();var e=this.props.onMouseDown;null!=e&&e(t)}}]),e}(P.Component),St=mt,bt=n(296),wt=n.n(bt),Mt=n(298),Et=n.n(Mt),xt=function(t){function e(){return C()(this,e),B()(this,(e.__proto__||O()(e)).apply(this,arguments))}return K()(e,t),A()(e,[{key:"render",value:function(){var t,e=this.props,n=e.className,r=e.iconName,i=e.label,o=e.children,u=e.isActive,a=T()(e,["className","iconName","label","children","isActive"]);return n=dt()(n,(t={},x()(t,Et.a.root,!0),x()(t,Et.a.isActive,u),t)),U.a.createElement(s,null,U.a.createElement(St,k()({},a,{title:i,className:n}),U.a.createElement("span",{className:Et.a["icon-"+r]})),o)}}]),e}(P.Component),It=xt,kt=function(t){function e(){C()(this,e);var t=B()(this,(e.__proto__||O()(e)).apply(this,arguments));return gt()(t),t}return K()(e,t),A()(e,[{key:"render",value:function(){var t=this.props,e=t.style,n=(t.onToggle,T()(t,["style","onToggle"])),r=e.toLowerCase();return U.a.createElement(It,k()({},n,{iconName:r,onClick:this._onClick,focusOnClick:!1}))}},{key:"_onClick",value:function(){this.props.onToggle(this.props.style)}}]),e}(P.Component),Lt=kt,Tt=n(300),Dt=n.n(Tt),Ot=n(142),Nt=n.n(Ot),Ct=n(305),jt=n.n(Ct),At=n(307),zt=n.n(At),Bt=function(t){function e(){C()(this,e);var t=B()(this,(e.__proto__||O()(e)).apply(this,arguments));gt()(t);var n=t.props.checkOptions,r={};if(n){var i=!0,o=!1,u=void 0;try{for(var a,s=Nt()(Dt()(n));!(i=(a=s.next()).done);i=!0){var c=a.value,l=n[c].defaultValue;r[c]=l}}catch(t){o=!0,u=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw u}}}return t.state={checkOptionValues:r},t}return K()(e,t),A()(e,[{key:"componentDidMount",value:function(){document.addEventListener("click",this._onDocumentClick),document.addEventListener("keydown",this._onDocumentKeydown),this._inputRef&&this._inputRef.focus()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this._onDocumentClick),document.removeEventListener("keydown",this._onDocumentKeydown)}},{key:"render",value:function(){var t=this.props,e=dt()(t.className,zt.a.root);return U.a.createElement("div",{className:e},U.a.createElement("div",{className:zt.a.inner},U.a.createElement("input",{ref:this._setInputRef,defaultValue:t.defaultValue,type:"text",placeholder:"https://example.com/",className:zt.a.input,onKeyPress:this._onInputKeyPress}),U.a.createElement(c,{className:zt.a.buttonGroup},U.a.createElement(It,{label:"Cancel",iconName:"cancel",onClick:t.onCancel}),U.a.createElement(It,{label:"Submit",iconName:"accept",onClick:this._onSubmit}))),this._renderCheckOptions())}},{key:"_renderCheckOptions",value:function(){var t=this;if(!this.props.checkOptions)return null;var e=this.props.checkOptions;return Dt()(e).map(function(n){var r=e&&e[n]?e[n].label:"";return U.a.createElement("div",{key:n,className:zt.a.checkOption},U.a.createElement("label",null,U.a.createElement("input",{type:"checkbox",checked:t.state.checkOptionValues[n],onChange:function(){return t._onCheckOptionPress(n)}}),U.a.createElement("span",null,r)))})}},{key:"_setInputRef",value:function(t){this._inputRef=t}},{key:"_onCheckOptionPress",value:function(t){var e=this.state.checkOptionValues,n=Boolean(e[t]),r=k()({},e,x()({},t,!n));this.setState({checkOptionValues:r})}},{key:"_onInputKeyPress",value:function(t){13===t.which&&(t.preventDefault(),this._onSubmit())}},{key:"_onSubmit",value:function(){var t=this._inputRef?this._inputRef.value:"";this.props.onSubmit(t,this.state.checkOptionValues)}},{key:"_onDocumentClick",value:function(t){ut.a.findDOMNode(this).contains(t.target)||this.props.onCancel(t)}},{key:"_onDocumentKeydown",value:function(t){27===t.keyCode&&this.props.onCancel()}}]),e}(P.Component),Rt=Bt,Kt=function(t){function e(){C()(this,e);var t=B()(this,(e.__proto__||O()(e)).apply(this,arguments));return gt()(t),t}return K()(e,t),A()(e,[{key:"render",value:function(){var t=this.props,e=t.onTogglePopover,n=(t.showPopover,T()(t,["onTogglePopover","showPopover"]));return U.a.createElement(It,k()({},n,{onClick:e}),this._renderPopover())}},{key:"_renderPopover",value:function(){return this.props.showPopover?U.a.createElement(Rt,{defaultValue:this.props.defaultValue,checkOptions:this.props.checkOptions,onSubmit:this._onSubmit,onCancel:this._hidePopover}):null}},{key:"_onSubmit",value:function(){var t;(t=this.props).onSubmit.apply(t,arguments)}},{key:"_hidePopover",value:function(){if(this.props.showPopover){var t;(t=this.props).onTogglePopover.apply(t,arguments)}}}]),e}(P.Component),Pt=Kt,Ut=n(309),Ft=n.n(Ut),Yt=n(313),Ht=n.n(Yt),qt=function(t){function e(){C()(this,e);var t=B()(this,(e.__proto__||O()(e)).apply(this,arguments));return gt()(t),t}return K()(e,t),A()(e,[{key:"render",value:function(){var t=this.props,e=t.choices,n=t.selectedKey,r=t.className,i=T()(t,["choices","selectedKey","className"]);r=dt()(r,Ht.a.root);var o=null==n?null:e.get(n),u=o&&o.label||"";return U.a.createElement("span",{className:r,title:u},U.a.createElement("select",k()({},i,{value:n,onChange:this._onChange}),this._renderChoices()),U.a.createElement("span",{className:Ht.a.value},u))}},{key:"_onChange",value:function(t){var e=t.target.value;this.props.onChange(e)}},{key:"_renderChoices",value:function(){var t=this.props.choices;return $()(t.entries()).map(function(t){var e=Ft()(t,2),n=e[0],r=e[1],i=r.label,o=r.className;return U.a.createElement("option",{key:n,value:n,className:o},i)})}}]),e}(P.Component),Wt=qt,Gt=n(315),Vt=n.n(Gt),Qt=function(t){function e(){C()(this,e);var t=B()(this,(e.__proto__||O()(e)).apply(this,arguments));return gt()(t),t.state={showLinkInput:!1,showImageInput:!1,customControlState:{}},t}return K()(e,t),A()(e,[{key:"UNSAFE_componentWillMount",value:function(){this.props.keyEmitter.on("keypress",this._onKeypress)}},{key:"componentWillUnmount",value:function(){this.props.keyEmitter.removeListener("keypress",this._onKeypress)}},{key:"render",value:function(){var t=this,e=this.props,n=e.className,r=e.toolbarConfig,i=e.rootStyle,o=e.isOnBottom;null==r&&(r=pt);var u=r.display||pt.display,a=u.map(function(e){switch(e){case"INLINE_STYLE_BUTTONS":return t._renderInlineStyleButtons(e,r);case"BLOCK_ALIGNMENT_BUTTONS":return t._renderBlockAlignmentButtons(e,r);case"BLOCK_TYPE_DROPDOWN":return t._renderBlockTypeDropdown(e,r);case"LINK_BUTTONS":return t._renderLinkButtons(e,r);case"IMAGE_BUTTON":return t._renderImageButton(e,r);case"BLOCK_TYPE_BUTTONS":return t._renderBlockTypeButtons(e,r);case"HISTORY_BUTTONS":return t._renderUndoRedo(e,r)}});return U.a.createElement("div",{className:dt()(Vt.a.root,o&&Vt.a.onBottom,n),style:i},a,this._renderCustomControls())}},{key:"_renderCustomControls",value:function(){var t=this,e=this.props,n=e.customControls,r=e.editorState;if(null!=n)return n.map(function(e){switch(void 0===e?"undefined":rt()(e)){case"function":return e(t._setCustomControlState,t._getCustomControlState,r);default:return e}})}},{key:"_setCustomControlState",value:function(t,e){this.setState(function(n){var r=n.customControlState;return{customControlState:k()({},r,x()({},t,e))}})}},{key:"_getCustomControlState",value:function(t){return this.state.customControlState[t]}},{key:"_renderBlockTypeDropdown",value:function(t,e){var n=this._getCurrentBlockType(),r=new et.a((e.BLOCK_TYPE_DROPDOWN||[]).map(function(t){return[t.style,{label:t.label,className:t.className}]}));return r.has(n)||(n=$()(r.keys())[0]),U.a.createElement(c,{key:t},U.a.createElement(Wt,k()({},e.extraProps,{choices:r,selectedKey:n,onChange:this._selectBlockType})))}},{key:"_renderBlockTypeButtons",value:function(t,e){var n=this,r=this._getCurrentBlockType(),i=(e.BLOCK_TYPE_BUTTONS||[]).map(function(t,i){return U.a.createElement(Lt,k()({},e.extraProps,{key:String(i),isActive:t.style===r,label:t.label,onToggle:n._toggleBlockType,style:t.style,className:t.className}))});return U.a.createElement(c,{key:t},i)}},{key:"_renderInlineStyleButtons",value:function(t,e){var n=this,r=this.props.editorState,i=r.getCurrentInlineStyle(),o=(e.INLINE_STYLE_BUTTONS||[]).map(function(t,r){return U.a.createElement(Lt,k()({},e.extraProps,{key:String(r),isActive:i.has(t.style),label:t.label,onToggle:n._toggleInlineStyle,style:t.style,className:t.className}))});return U.a.createElement(c,{key:t},o)}},{key:"_renderBlockAlignmentButtons",value:function(t,e){var n=this,r=this.props.editorState,i=r.getCurrentContent(),o=r.getSelection(),u=o.getStartKey(),a=i.getBlockForKey(u),s=a.getData().get("textAlign"),l=(e.BLOCK_ALIGNMENT_BUTTONS||[]).map(function(t,r){return U.a.createElement(Lt,k()({},e.extraProps,{key:String(r),isActive:s===t.style,label:t.label,onToggle:n._toggleAlignment,style:t.style,className:t.className}))});return U.a.createElement(c,{key:t},l)}},{key:"_renderLinkButtons",value:function(t,e){var n=this.props.editorState,r=n.getSelection(),i=this._getEntityAtCursor(),o=!r.isCollapsed(),u=null!=i&&i.type===Q.ENTITY_TYPE.LINK,a=o||u,s=i&&u?i.getData().url:"",l=e.LINK_BUTTONS||{},f=l.link||{},p=l.removeLink||{},h=f.label||"Link",d=p.label||"Remove Link",y=!(!i||!u)&&"_blank"===i.getData().target,g=!(!i||!u)&&"nofollow"===i.getData().rel;return U.a.createElement(c,{key:t},U.a.createElement(Pt,{label:h,iconName:"link",isDisabled:!a,showPopover:this.state.showLinkInput,onTogglePopover:this._toggleShowLinkInput,defaultValue:s,onSubmit:this._setLink,checkOptions:{targetBlank:{label:"Open link in new tab",defaultValue:y},noFollow:{label:"No follow",defaultValue:g}}}),U.a.createElement(It,k()({},e.extraProps,{label:d,iconName:"remove-link",isDisabled:!u,onClick:this._removeLink,focusOnClick:!1})))}},{key:"_renderImageButton",value:function(t,e){var n=e.IMAGE_BUTTON||{},r=n.label||"Image";return U.a.createElement(c,{key:t},U.a.createElement(Pt,{label:r,iconName:"image",showPopover:this.state.showImageInput,onTogglePopover:this._toggleShowImageInput,onSubmit:this._setImage}))}},{key:"_renderUndoRedo",value:function(t,e){var n=this.props.editorState,r=0!==n.getUndoStack().size,i=0!==n.getRedoStack().size,o=e.HISTORY_BUTTONS||{},u=o.undo||{},a=o.redo||{},s=u.label||"Undo",l=a.label||"Redo";return U.a.createElement(c,{key:t},U.a.createElement(It,k()({},e.extraProps,{label:s,iconName:"undo",isDisabled:!r,onClick:this._undo,focusOnClick:!1})),U.a.createElement(It,k()({},e.extraProps,{label:l,iconName:"redo",isDisabled:!i,onClick:this._redo,focusOnClick:!1})))}},{key:"_onKeypress",value:function(t,e){Object(it.hasCommandModifier)(t)&&75===t.keyCode&&(this.props.editorState.getSelection().isCollapsed()||(this.setState({showLinkInput:!0}),e.wasHandled=!0))}},{key:"_toggleShowLinkInput",value:function(t){var e=this.state.showLinkInput;if(e){var n=!0;if(t&&"click"===t.type){var r=ut.a.findDOMNode(this).parentNode,i=document,o=i.activeElement;null==o||o===document.body||r.contains(o)||(n=!1)}n&&this.props.focusEditor()}this.setState({showLinkInput:!e})}},{key:"_toggleShowImageInput",value:function(t){var e=this.state.showImageInput;if(e){var n=!0;if(t&&"click"===t.type){var r=ut.a.findDOMNode(this).parentNode,i=document,o=i.activeElement;null==o||o===document.body||r.contains(o)||(n=!1)}n&&this.props.focusEditor()}this.setState({showImageInput:!e})}},{key:"_setImage",value:function(t){var e=this.props.editorState,n=e.getCurrentContent(),r=e.getSelection();n=n.createEntity(Q.ENTITY_TYPE.IMAGE,"IMMUTABLE",{src:t});var i=n.getLastCreatedEntityKey(),o=F.Modifier.insertText(n,r," ",null,i);this.setState({showImageInput:!1}),this.props.onChange(F.EditorState.push(e,o)),this._focusEditor()}},{key:"_setLink",value:function(t,e){var n=this.props.editorState,r=n.getCurrentContent(),i=n.getSelection(),o=i,u=!1;if(i.isCollapsed()){var a=this._getEntityDescriptionAtCursor();a&&(u=!0,i=i.merge({anchorOffset:a.startOffset,focusOffset:a.endOffset,isBackward:!1}))}else u=!0;if(this.setState({showLinkInput:!1}),u){var s=e.targetBlank?"_blank":void 0,c=e.noFollow?"nofollow":void 0;r=r.createEntity(Q.ENTITY_TYPE.LINK,"MUTABLE",{url:t,target:s,rel:c});var l=r.getLastCreatedEntityKey();n=F.EditorState.push(n,r),n=F.RichUtils.toggleLink(n,i,l),n=F.EditorState.acceptSelection(n,o),this.props.onChange(n)}this._focusEditor()}},{key:"_removeLink",value:function(){var t=this.props.editorState,e=f(t);if(null!=e){var n=e.blockKey,r=e.startOffset,i=e.endOffset;this.props.onChange(p(t,n,r,i))}}},{key:"_getEntityDescriptionAtCursor",value:function(){return f(this.props.editorState)}},{key:"_getEntityAtCursor",value:function(){var t=this.props.editorState,e=t.getCurrentContent(),n=f(t);return null==n?null:e.getEntity(n.entityKey)}},{key:"_getCurrentBlockType",value:function(){var t=this.props.editorState,e=t.getSelection();return t.getCurrentContent().getBlockForKey(e.getStartKey()).getType()}},{key:"_selectBlockType",value:function(){this._toggleBlockType.apply(this,arguments),this._focusEditor()}},{key:"_toggleBlockType",value:function(t){this.props.onChange(F.RichUtils.toggleBlockType(this.props.editorState,t))}},{key:"_toggleInlineStyle",value:function(t){this.props.onChange(F.RichUtils.toggleInlineStyle(this.props.editorState,t))}},{key:"_toggleAlignment",value:function(t){var e=this.props.editorState,n=e.getSelection(),r=e.getCurrentContent(),i=n.getStartKey(),o=r.getBlockForKey(i),u=o.getData(),a=void 0;a=u.get("textAlign")===t?u.remove("textAlign"):u.set("textAlign",t);var s=o.set("data",a),c=r.merge({blockMap:r.getBlockMap().set(i,s)}),l=F.EditorState.push(e,c,"change-block-data");this.props.onChange(l)}},{key:"_undo",value:function(){var t=this.props.editorState;this.props.onChange(F.EditorState.undo(t))}},{key:"_redo",value:function(){var t=this.props.editorState;this.props.onChange(F.EditorState.redo(t))}},{key:"_focusEditor",value:function(){var t=this;setTimeout(function(){t.props.focusEditor()},50)}}]),e}(P.Component),Zt=Qt,Jt=n(317),Xt=n.n(Jt),$t=n(319),te=n(324),ee=n(331),ne=n(333),re=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};C()(this,t),this._cache=n,this._editorState=e}return A()(t,[{key:"getEditorState",value:function(){return this._editorState}},{key:"setEditorState",value:function(e){return this._editorState===e?this:new t(e)}},{key:"toString",value:function(t,e){var n=this._cache[t];return null!=n?n:this._cache[t]=h(this.getEditorState(),t,e)}},{key:"setContentFromString",value:function(e,n,r){return new t(F.EditorState.push(this._editorState,d(e,n,r),"secondary-paste"),x()({},n,e))}}],[{key:"createEmpty",value:function(e){return new t(F.EditorState.createEmpty(e))}},{key:"createFromState",value:function(e){return new t(e)}},{key:"createFromString",value:function(e,n,r,i){var o=d(e,n,i);return new t(F.EditorState.createWithContent(o,r),x()({},n,e))}}]),t}(),ie=re,oe={strategy:g,component:y},ue=n(335),ae=n.n(ue),se=function(t){function e(t){C()(this,e);var n=B()(this,(e.__proto__||O()(e)).call(this,t));gt()(n);var r=t.contentState.getEntity(t.entityKey),i=r.getData(),o=i.width,u=i.height;return n.state={width:o,height:u},n}return K()(e,t),A()(e,[{key:"componentDidMount",value:function(){var t=this,e=this.state,n=e.width,r=e.height,i=this.props.contentState.getEntity(this.props.entityKey),o=new Image,u=i.getData(),a=u.src;o.src=a,o.onload=function(){null!=n&&null!=r||(t.setState({width:o.width,height:o.height}),F.Entity.mergeData(t.props.entityKey,{width:o.width,height:o.height,originalWidth:o.width,originalHeight:o.height}))}}},{key:"render",value:function(){var t=this.state,e=t.width,n=t.height,r=this.props.className,i=this.props.contentState.getEntity(this.props.entityKey),o=i.getData(),u=o.src;r=dt()(r,ae.a.root);var a={verticalAlign:"bottom",backgroundImage:'url("'+u+'")',backgroundSize:e+"px "+n+"px",lineHeight:n+"px",fontSize:n+"px",width:e,height:n,letterSpacing:e};return U.a.createElement("span",{className:r,style:a,onClick:this._onClick},this.props.children)}},{key:"_onClick",value:function(){console.log("image clicked")}},{key:"_handleResize",value:function(t,e){var n=e.size,r=n.width,i=n.height;this.setState({width:r,height:i}),F.Entity.mergeData(this.props.entityKey,{width:r,height:i})}}]),e}(P.Component),ce=se,le={strategy:v,component:ce},fe=_,pe=n(337),he=n.n(pe),de=(n(338),n(340)),ye=n.n(de);n.d(e,"decorator",function(){return _e}),n.d(e,"createEmptyValue",function(){return S}),n.d(e,"createValueFromString",function(){return b}),n.d(e,"EditorValue",function(){return ie}),n.d(e,"getTextAlignBlockMetadata",function(){return G}),n.d(e,"getTextAlignClassName",function(){return q}),n.d(e,"getTextAlignStyles",function(){return W}),n.d(e,"ButtonGroup",function(){return c}),n.d(e,"Button",function(){return St}),n.d(e,"Dropdown",function(){return Wt});var ge={CODE:{backgroundColor:"#f3f3f3",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}},ve=function(t){function e(){C()(this,e);var t=B()(this,(e.__proto__||O()(e)).apply(this,arguments));return t._keyEmitter=new he.a,gt()(t),t}return K()(e,t),A()(e,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this._focus()}},{key:"render",value:function(){var t,e=this,n=this.props,r=n.value,i=n.className,o=n.toolbarClassName,u=n.editorClassName,a=n.placeholder,s=n.customStyleMap,c=n.readOnly,l=n.disabled,f=n.toolbarConfig,p=n.toolbarOnBottom,h=n.blockStyleFn,d=n.customControls,y=n.keyBindingFn,g=n.rootStyle,v=n.toolbarStyle,_=n.editorStyle,S=T()(n,["value","className","toolbarClassName","editorClassName","placeholder","customStyleMap","readOnly","disabled","toolbarConfig","toolbarOnBottom","blockStyleFn","customControls","keyBindingFn","rootStyle","toolbarStyle","editorStyle"]),b=r.getEditorState();s=s?k()({},ge,s):ge;var w=dt()((t={},x()(t,ye.a.editor,!0),x()(t,ye.a.hidePlaceholder,this._shouldHidePlaceholder()),t),u);null==c&&(c=l);var M=void 0;return c||(M=U.a.createElement(Zt,{rootStyle:v,isOnBottom:p,className:o,keyEmitter:this._keyEmitter,editorState:b,onChange:this._onChange,focusEditor:this._focus,toolbarConfig:f,customControls:d})),U.a.createElement("div",{className:dt()(ye.a.root,i),style:g},!p&&M,U.a.createElement("div",{className:w,style:_},U.a.createElement(F.Editor,k()({},S,{blockStyleFn:fe(m,h),customStyleMap:s,editorState:b,handleReturn:this._handleReturn,keyBindingFn:y||this._customKeyHandler,handleKeyCommand:this._handleKeyCommand,onTab:this._onTab,onChange:this._onChange,placeholder:a,ref:function(t){e.editor=t},spellCheck:!0,readOnly:c}))),p&&M)}},{key:"_shouldHidePlaceholder",value:function(){var t=this.props.value.getEditorState(),e=t.getCurrentContent();return!e.hasText()&&"unstyled"!==e.getBlockMap().first().getType()}},{key:"_handleReturn",value:function(t){var e=this.props.handleReturn;return!!(null!=e&&e(t)||this._handleReturnSoftNewline(t)||this._handleReturnEmptyListItem()||this._handleReturnSpecialBlock())}},{key:"_handleReturnSoftNewline",value:function(t){var e=this.props.value.getEditorState();if(J()(t)){var n=e.getSelection();if(n.isCollapsed())this._onChange(F.RichUtils.insertSoftNewline(e));else{var r=e.getCurrentContent(),i=F.Modifier.removeRange(r,n,"forward"),o=i.getSelectionAfter(),u=i.getBlockForKey(o.getStartKey());i=F.Modifier.insertText(i,o,"\n",u.getInlineStyleAt(o.getStartOffset()),null),this._onChange(F.EditorState.push(e,i,"insert-fragment"))}return!0}return!1}},{key:"_handleReturnEmptyListItem",value:function(){var t=this.props.value.getEditorState(),e=t.getSelection();if(e.isCollapsed()){var n=t.getCurrentContent(),o=e.getStartKey(),u=n.getBlockForKey(o);if(a(u)&&0===u.getLength()){var s=u.getDepth(),c=0===s?i(t,o,Q.BLOCK_TYPE.UNSTYLED):r(t,o,s-1);return this._onChange(c),!0}}return!1}},{key:"_handleReturnSpecialBlock",value:function(){var t=this.props.value.getEditorState(),e=t.getSelection();if(e.isCollapsed()){var n=t.getCurrentContent(),r=e.getStartKey(),i=n.getBlockForKey(r);if(!a(i)&&i.getType()!==Q.BLOCK_TYPE.UNSTYLED&&i.getLength()===e.getStartOffset()){var o=u(t,r,Q.BLOCK_TYPE.UNSTYLED);return this._onChange(o),!0}}return!1}},{key:"_onTab",value:function(t){var e=this.props.value.getEditorState(),n=F.RichUtils.onTab(t,e,2);n!==e&&this._onChange(n)}},{key:"_customKeyHandler",value:function(t){var e={};return this._keyEmitter.emit("keypress",t,e),e.wasHandled?null:H()(t)}},{key:"_handleKeyCommand",value:function(t){var e=this.props.value.getEditorState(),n=F.RichUtils.handleKeyCommand(e,t);return!!n&&(this._onChange(n),!0)}},{key:"_onChange",value:function(t){var e=this.props,n=e.onChange,r=e.value;if(null!=n){var i=r.setEditorState(t),o=i.getEditorState();this._handleInlineImageSelection(o),n(i)}}},{key:"_handleInlineImageSelection",value:function(t){var e=t.getSelection(),n=o(t),r=function(t,e){var n=t.getEntityAt(e);F.Entity.mergeData(n,{selected:!0})},i=function(t){return t>0&&t<n.size-1},u=function(t,n){return 0===n&&t>e.getStartOffset()},a=function(t,r){return r===n.size-1&&t<e.getEndOffset()};n.toIndexedSeq().forEach(function(t,e){le.strategy(t,function(n){(u(n,e)||i(e)||a(n,e))&&r(t,n)})})}},{key:"_focus",value:function(){this.editor.focus()}}]),e}(P.Component),_e=(e.default=ve,new F.CompositeDecorator([oe,le]));M()(ve,{EditorValue:ie,decorator:_e,createEmptyValue:S,createValueFromString:b,ButtonGroup:c,Button:St,Dropdown:Wt})},function(t,e,n){n(148),t.exports=n(4).Object.assign},function(t,e,n){var r=n(8);r(r.S+r.F,"Object",{assign:n(149)})},function(t,e,n){"use strict";var r=n(47),i=n(75),o=n(57),u=n(41),a=n(68),s=Object.assign;t.exports=!s||n(35)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=s({},t)[n]||Object.keys(s({},e)).join("")!=r})?function(t,e){for(var n=u(t),s=arguments.length,c=1,l=i.f,f=o.f;s>c;)for(var p,h=a(arguments[c++]),d=l?r(h).concat(l(h)):r(h),y=d.length,g=0;y>g;)f.call(h,p=d[g++])&&(n[p]=h[p]);return n}:s},function(t,e,n){var r=n(40),i=n(54),o=n(151);t.exports=function(t){return function(e,n,u){var a,s=r(e),c=i(s.length),l=o(u,c);if(t&&n!=n){for(;c>l;)if((a=s[l++])!=a)return!0}else for(;c>l;l++)if((t||l in s)&&s[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(71),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){n(153);var r=n(4).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(8);r(r.S+r.F*!n(15),"Object",{defineProperty:n(11).f})},function(t,e,n){n(155),t.exports=n(4).Object.getPrototypeOf},function(t,e,n){var r=n(41),i=n(103);n(104)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){t.exports={default:n(157),__esModule:!0}},function(t,e,n){n(49),n(60),t.exports=n(78).f("iterator")},function(t,e,n){var r=n(71),i=n(70);t.exports=function(t){return function(e,n){var o,u,a=String(i(e)),s=r(n),c=a.length;return s<0||s>=c?t?"":void 0:(o=a.charCodeAt(s),o<55296||o>56319||s+1===c||(u=a.charCodeAt(s+1))<56320||u>57343?t?a.charAt(s):o:t?a.slice(s,s+2):u-56320+(o-55296<<10)+65536)}}},function(t,e,n){"use strict";var r=n(58),i=n(46),o=n(59),u={};n(29)(u,n(6)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(u,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(11),i=n(30),o=n(47);t.exports=n(15)?Object.defineProperties:function(t,e){i(t);for(var n,u=o(e),a=u.length,s=0;a>s;)r.f(t,n=u[s++],e[n]);return t}},function(t,e,n){var r=n(14).document;t.exports=r&&r.documentElement},function(t,e,n){"use strict";var r=n(163),i=n(106),o=n(43),u=n(40);t.exports=n(77)(Array,"Array",function(t,e){this._t=u(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e,n){t.exports={default:n(165),__esModule:!0}},function(t,e,n){n(166),n(110),n(169),n(170),t.exports=n(4).Symbol},function(t,e,n){"use strict";var r=n(14),i=n(36),o=n(15),u=n(8),a=n(105),s=n(79).KEY,c=n(35),l=n(73),f=n(59),p=n(56),h=n(6),d=n(78),y=n(80),g=n(167),v=n(107),_=n(30),m=n(21),S=n(40),b=n(67),w=n(46),M=n(58),E=n(168),x=n(109),I=n(11),k=n(47),L=x.f,T=I.f,D=E.f,O=r.Symbol,N=r.JSON,C=N&&N.stringify,j=h("_hidden"),A=h("toPrimitive"),z={}.propertyIsEnumerable,B=l("symbol-registry"),R=l("symbols"),K=l("op-symbols"),P=Object.prototype,U="function"==typeof O,F=r.QObject,Y=!F||!F.prototype||!F.prototype.findChild,H=o&&c(function(){return 7!=M(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=L(P,e);r&&delete P[e],T(t,e,n),r&&t!==P&&T(P,e,r)}:T,q=function(t){var e=R[t]=M(O.prototype);return e._k=t,e},W=U&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},G=function(t,e,n){return t===P&&G(K,e,n),_(t),e=b(e,!0),_(n),i(R,e)?(n.enumerable?(i(t,j)&&t[j][e]&&(t[j][e]=!1),n=M(n,{enumerable:w(0,!1)})):(i(t,j)||T(t,j,w(1,{})),t[j][e]=!0),H(t,e,n)):T(t,e,n)},V=function(t,e){_(t);for(var n,r=g(e=S(e)),i=0,o=r.length;o>i;)G(t,n=r[i++],e[n]);return t},Q=function(t,e){return void 0===e?M(t):V(M(t),e)},Z=function(t){var e=z.call(this,t=b(t,!0));return!(this===P&&i(R,t)&&!i(K,t))&&(!(e||!i(this,t)||!i(R,t)||i(this,j)&&this[j][t])||e)},J=function(t,e){if(t=S(t),e=b(e,!0),t!==P||!i(R,e)||i(K,e)){var n=L(t,e);return!n||!i(R,e)||i(t,j)&&t[j][e]||(n.enumerable=!0),n}},X=function(t){for(var e,n=D(S(t)),r=[],o=0;n.length>o;)i(R,e=n[o++])||e==j||e==s||r.push(e);return r},$=function(t){for(var e,n=t===P,r=D(n?K:S(t)),o=[],u=0;r.length>u;)!i(R,e=r[u++])||n&&!i(P,e)||o.push(R[e]);return o};U||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===P&&e.call(K,n),i(this,j)&&i(this[j],t)&&(this[j][t]=!1),H(this,t,w(1,n))};return o&&Y&&H(P,t,{configurable:!0,set:e}),q(t)},a(O.prototype,"toString",function(){return this._k}),x.f=J,I.f=G,n(108).f=E.f=X,n(57).f=Z,n(75).f=$,o&&!n(55)&&a(P,"propertyIsEnumerable",Z,!0),d.f=function(t){return q(h(t))}),u(u.G+u.W+u.F*!U,{Symbol:O});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)h(tt[et++]);for(var nt=k(h.store),rt=0;nt.length>rt;)y(nt[rt++]);u(u.S+u.F*!U,"Symbol",{for:function(t){return i(B,t+="")?B[t]:B[t]=O(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),u(u.S+u.F*!U,"Object",{create:Q,defineProperty:G,defineProperties:V,getOwnPropertyDescriptor:J,getOwnPropertyNames:X,getOwnPropertySymbols:$}),N&&u(u.S+u.F*(!U||c(function(){var t=O();return"[null]"!=C([t])||"{}"!=C({a:t})||"{}"!=C(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(m(e)||void 0!==t)&&!W(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,C.apply(N,r)}}),O.prototype[A]||n(29)(O.prototype,A,O.prototype.valueOf),f(O,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(47),i=n(75),o=n(57);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var u,a=n(t),s=o.f,c=0;a.length>c;)s.call(t,u=a[c++])&&e.push(u);return e}},function(t,e,n){var r=n(40),i=n(108).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return i(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?a(t):i(r(t))}},function(t,e,n){n(80)("asyncIterator")},function(t,e,n){n(80)("observable")},function(t,e,n){t.exports={default:n(172),__esModule:!0}},function(t,e,n){n(173),t.exports=n(4).Object.setPrototypeOf},function(t,e,n){var r=n(8);r(r.S,"Object",{setPrototypeOf:n(174).set})},function(t,e,n){var r=n(21),i=n(30),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(34)(Function.call,n(109).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){t.exports={default:n(176),__esModule:!0}},function(t,e,n){n(177);var r=n(4).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(8);r(r.S,"Object",{create:n(58)})},function(t,e,n){"use strict";var r=n(9),i=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(50),u=n(7),a=n(37),s=n(10),c=n(31),l=n(5),f=n(2),p=n(0),h=(n(44),n(25)),d=n(193),y=c.draft_tree_data_support,g=y?s:a,v=p.List,_=p.Repeat,m={insertAtomicBlock:function(t,e,n){var r=t.getCurrentContent(),a=t.getSelection(),s=l.removeRange(r,a,"backward"),c=s.getSelectionAfter(),p=l.splitBlock(s,c),d=p.getSelectionAfter(),m=l.setBlockType(p,d,"atomic"),S=u.create({entity:e}),b={key:h(),type:"atomic",text:n,characterList:v(_(S,n.length))},w={key:h(),type:"unstyled"};y&&(b=i({},b,{nextSibling:w.key}),w=i({},w,{prevSibling:b.key}));var M=[new g(b),new g(w)],E=o.createFromArray(M),x=l.replaceWithFragment(m,d,E),I=x.merge({selectionBefore:a,selectionAfter:x.getSelectionAfter().set("hasFocus",!0)});return f.push(t,I,"insert-fragment")},moveAtomicBlock:function(t,e,n,r){var i=t.getCurrentContent(),o=t.getSelection(),u=void 0;if("before"===r||"after"===r){var a=i.getBlockForKey("before"===r?n.getStartKey():n.getEndKey());u=d(i,e,a,r)}else{var s=l.removeRange(i,n,"backward"),c=s.getSelectionAfter(),p=s.getBlockForKey(c.getFocusKey());if(0===c.getStartOffset())u=d(s,e,p,"before");else if(c.getEndOffset()===p.getLength())u=d(s,e,p,"after");else{var h=l.splitBlock(s,c),y=h.getSelectionAfter(),g=h.getBlockForKey(y.getFocusKey());u=d(h,e,g,"before")}}var v=u.merge({selectionBefore:o,selectionAfter:u.getSelectionAfter().set("hasFocus",!0)});return f.push(t,v,"move-block")}};t.exports=m},function(t,e,n){"use strict";var r={draft_killswitch_allow_nontextnodes:!1,draft_segmented_entities_behavior:!1,draft_handlebeforeinput_composed_text:!1,draft_tree_data_support:!1};t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=t.getBlockMap(),a=e.getStartKey(),s=e.getStartOffset(),c=e.getEndKey(),l=e.getEndOffset(),f=o.skipUntil(function(t,e){return e===a}).takeUntil(function(t,e){return e===c}).concat(u([[c,o.get(c)]])).map(function(t,e){var o,u;a===c?(o=s,u=l):(o=e===a?s:0,u=e===c?l:t.getLength());for(var f,p=t.getCharacterList();o<u;)f=p.get(o),p=p.set(o,r?i.applyStyle(f,n):i.removeStyle(f,n)),o++;return t.set("characterList",p)});return t.merge({blockMap:o.merge(f),selectionBefore:e,selectionAfter:e})}var i=n(7),o=n(0),u=o.Map,a={add:function(t,e,n){return r(t,e,n,!0)},remove:function(t,e,n){return r(t,e,n,!1)}};t.exports=a},function(t,e,n){"use strict";function r(t,e,n){var r=t.getBlockMap(),u=e.getStartKey(),a=e.getStartOffset(),s=e.getEndKey(),c=e.getEndOffset(),l=r.skipUntil(function(t,e){return e===u}).takeUntil(function(t,e){return e===s}).toOrderedMap().merge(i.OrderedMap([[s,r.get(s)]])).map(function(t,e){var r=e===u?a:0,i=e===s?c:t.getLength();return o(t,r,i,n)});return t.merge({blockMap:r.merge(l),selectionBefore:e,selectionAfter:e})}var i=n(0),o=n(182);t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){for(var o=t.getCharacterList();e<n;)o=o.set(e,i.applyEntity(o.get(e),r)),e++;return t.set("characterList",o)}var i=n(7);t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r,o){var u=r.getStartOffset(),a=r.getEndOffset(),s=e.getEntityAt(u),c=n.getEntityAt(a-1);if(!s&&!c)return r;var l=r;if(s&&s===c)l=i(t,e,l,o,s,!0,!0);else if(s&&c){var f=i(t,e,l,o,s,!1,!0),p=i(t,n,l,o,c,!1,!1);l=l.merge({anchorOffset:f.getAnchorOffset(),focusOffset:p.getFocusOffset(),isBackward:!1})}else if(s){var h=i(t,e,l,o,s,!1,!0);l=l.merge({anchorOffset:h.getStartOffset(),isBackward:!1})}else if(c){var d=i(t,n,l,o,c,!1,!1);l=l.merge({focusOffset:d.getEndOffset(),isBackward:!1})}return l}function i(t,e,n,r,i,s,c){var l=n.getStartOffset(),f=n.getEndOffset(),p=t.__get(i),h=p.getMutability(),d=c?l:f;if("MUTABLE"===h)return n;var y=u(e,i).filter(function(t){return d<=t.end&&d>=t.start});1!=y.length&&a(!1);var g=y[0];if("IMMUTABLE"===h)return n.merge({anchorOffset:g.start,focusOffset:g.end,isBackward:!1});s||(c?f=g.end:l=g.start);var v=o.getRemovalRange(l,f,e.getText().slice(g.start,g.end),g.start,r);return n.merge({anchorOffset:v.start,focusOffset:v.end,isBackward:!1})}var o=n(184),u=n(185),a=n(1);t.exports=r},function(t,e,n){"use strict";var r={getRemovalRange:function(t,e,n,r,i){var o=n.split(" ");o=o.map(function(t,e){if("forward"===i){if(e>0)return" "+t}else if(e<o.length-1)return t+" ";return t});for(var u,a,s=r,c=null,l=null,f=0;f<o.length;f++){if(a=o[f],u=s+a.length,t<u&&s<e)null!==c?l=u:(c=s,l=u);else if(null!==c)break;s=u}var p=r+n.length,h=c===r,d=l===p;return(!h&&d||h&&!d)&&("forward"===i?l!==p&&l++:c!==r&&c--),{start:c,end:l}}};t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=[];return t.findEntityRanges(function(t){return t.getEntity()===e},function(t,e){n.push({start:t,end:e})}),n.length||i(!1),n}var i=n(1);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(10),o=n(0),u=n(113),a=n(1),s=n(111),c=o.List,l=function(t,e,n,r,i,o){var a=n.get(i),s=a.getText(),c=a.getCharacterList(),l=i,f=o+r.getText().length,p=a.merge({text:s.slice(0,o)+r.getText()+s.slice(o),characterList:u(c,r.getCharacterList(),o),data:r.getData()});return t.merge({blockMap:n.set(i,p),selectionBefore:e,selectionAfter:e.merge({anchorKey:l,anchorOffset:f,focusKey:l,focusOffset:f,isBackward:!1})})},f=function(t,e,n){var r=t.getText(),i=t.getCharacterList(),o=r.slice(0,e),u=i.slice(0,e),a=n.first();return t.merge({text:o+a.getText(),characterList:u.concat(a.getCharacterList()),type:o?t.getType():a.getType(),data:a.getData()})},p=function(t,e,n){var r=t.getText(),i=t.getCharacterList(),o=r.length,u=r.slice(e,o),a=i.slice(e,o),s=n.last();return s.merge({text:s.getText()+u,characterList:s.getCharacterList().concat(a),data:s.getData()})},h=function(t,e){var n=t.getKey(),r=t,i=[];for(e.get(n)&&i.push(n);r&&r.getNextSiblingKey();){var o=r.getNextSiblingKey();if(!o)break;i.push(o),r=e.get(o)}return i},d=function(t,e,n,r){return t.withMutations(function(e){var i=n.getKey(),o=r.getKey(),u=n.getNextSiblingKey(),a=n.getParentKey(),s=h(r,t),l=s[s.length-1];if(e.get(o)?(e.setIn([i,"nextSibling"],o),e.setIn([o,"prevSibling"],i)):(e.setIn([i,"nextSibling"],r.getNextSiblingKey()),e.setIn([r.getNextSiblingKey(),"prevSibling"],i)),e.setIn([l,"nextSibling"],u),u&&e.setIn([u,"prevSibling"],l),s.forEach(function(t){return e.setIn([t,"parent"],a)}),a){var f=t.get(a),p=f.getChildKeys(),d=p.indexOf(i),y=d+1,g=p.toArray();g.splice.apply(g,[y,0].concat(s)),e.setIn([a,"children"],c(g))}})},y=function(t,e,n,o,u,a){var s=n.first()instanceof i,c=[],l=o.size,h=n.get(u),y=o.first(),g=o.last(),v=g.getLength(),_=g.getKey(),m=s&&(!h.getChildKeys().isEmpty()||!y.getChildKeys().isEmpty());n.forEach(function(t,e){if(e!==u)return void c.push(t);m?c.push(t):c.push(f(t,a,o)),o.slice(m?0:1,l-1).forEach(function(t){return c.push(t)}),c.push(p(t,a,o))});var S=r.createFromArray(c);return s&&(S=d(S,0,h,y)),t.merge({blockMap:S,selectionBefore:e,selectionAfter:e.merge({anchorKey:_,anchorOffset:v,focusKey:_,focusOffset:v,isBackward:!1})})},g=function(t,e,n){e.isCollapsed()||a(!1);var r=t.getBlockMap(),o=s(n),u=e.getStartKey(),c=e.getStartOffset(),f=r.get(u);return f instanceof i&&(f.getChildKeys().isEmpty()||a(!1)),1===o.size?l(t,e,r,o.first(),u,c):y(t,e,r,o,u,c)};t.exports=g},function(t,e,n){"use strict";function r(t,e,n,r){e.isCollapsed()||u(!1);var i=n.length;if(!i)return t;var s=t.getBlockMap(),c=e.getStartKey(),l=e.getStartOffset(),f=s.get(c),p=f.getText(),h=f.merge({text:p.slice(0,l)+n+p.slice(l,f.getLength()),characterList:o(f.getCharacterList(),a(r,i).toList(),l)}),d=l+i;return t.merge({blockMap:s.set(c,h),selectionAfter:e.merge({anchorOffset:d,focusOffset:d})})}var i=n(0),o=n(113),u=n(1),a=i.Repeat;t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r=e.getStartKey(),i=e.getEndKey(),u=t.getBlockMap(),a=u.toSeq().skipUntil(function(t,e){return e===r}).takeUntil(function(t,e){return e===i}).concat(o([[i,u.get(i)]])).map(n);return t.merge({blockMap:u.merge(a),selectionBefore:e,selectionAfter:e})}var i=n(0),o=i.Map;t.exports=r},function(t,e,n){"use strict";var r=n(10),i=n(0),o=n(114),u=(i.List,i.Map),a=function(t,e,n){if(t){var r=e.get(t);r&&e.set(t,n(r))}},s=function(t,e){var n=[];if(!t)return n;for(var r=e.get(t);r&&r.getParentKey();){var i=r.getParentKey();i&&n.push(i),r=i?e.get(i):null}return n},c=function(t,e){var n=[];if(!t)return n;for(var r=o(t,e);r&&e.get(r);){var i=e.get(r);n.push(r),r=i.getParentKey()?o(i,e):null}return n},l=function(t,e,n){if(!t)return null;for(var r=n.get(t.getKey()).getNextSiblingKey();r&&!e.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},f=function(t,e,n){if(!t)return null;for(var r=n.get(t.getKey()).getPrevSiblingKey();r&&!e.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},p=function(t,e,n,r){return t.withMutations(function(t){a(e.getKey(),t,function(n){return n.merge({nextSibling:l(e,t,r),prevSibling:f(e,t,r)})}),a(n.getKey(),t,function(e){return e.merge({nextSibling:l(n,t,r),prevSibling:f(n,t,r)})}),s(e.getKey(),r).forEach(function(e){return a(e,t,function(e){return e.merge({children:e.getChildKeys().filter(function(e){return t.get(e)}),nextSibling:l(e,t,r),prevSibling:f(e,t,r)})})}),a(e.getNextSiblingKey(),t,function(t){return t.merge({prevSibling:e.getPrevSiblingKey()})}),a(e.getPrevSiblingKey(),t,function(n){return n.merge({nextSibling:l(e,t,r)})}),a(n.getNextSiblingKey(),t,function(e){return e.merge({prevSibling:f(n,t,r)})}),a(n.getPrevSiblingKey(),t,function(t){return t.merge({nextSibling:n.getNextSiblingKey()})}),s(n.getKey(),r).forEach(function(e){a(e,t,function(e){return e.merge({children:e.getChildKeys().filter(function(e){return t.get(e)}),nextSibling:l(e,t,r),prevSibling:f(e,t,r)})})}),c(n,r).forEach(function(e){return a(e,t,function(e){return e.merge({nextSibling:l(e,t,r),prevSibling:f(e,t,r)})})})})},h=function(t,e){if(e.isCollapsed())return t;var n=t.getBlockMap(),i=e.getStartKey(),a=e.getStartOffset(),c=e.getEndKey(),l=e.getEndOffset(),f=n.get(i),h=n.get(c),y=f instanceof r,g=[];if(y){var v=h.getChildKeys(),_=s(c,n);h.getNextSiblingKey()&&(g=g.concat(_)),v.isEmpty()||(g=g.concat(_.concat([c]))),g=g.concat(s(o(h,n),n))}var m=void 0;m=f===h?d(f.getCharacterList(),a,l):f.getCharacterList().slice(0,a).concat(h.getCharacterList().slice(l));var S=f.merge({text:f.getText().slice(0,a)+h.getText().slice(l),characterList:m}),b=n.toSeq().skipUntil(function(t,e){return e===i}).takeUntil(function(t,e){return e===c}).filter(function(t,e){return-1===g.indexOf(e)}).concat(u([[c,null]])).map(function(t,e){return e===i?S:null}),w=n.merge(b).filter(function(t){return!!t});return y&&(w=p(w,f,h,n)),t.merge({blockMap:w,selectionBefore:e,selectionAfter:e.merge({anchorKey:i,anchorOffset:a,focusKey:i,focusOffset:a,isBackward:!1})})},d=function(t,e,n){if(0===e)for(;e<n;)t=t.shift(),e++;else if(n===t.count())for(;n>e;)t=t.pop(),n--;else{var r=t.slice(0,e),i=t.slice(n);t=r.concat(i).toList()}return t};t.exports=h},function(t,e,n){"use strict";var r=n(10),i=n(0),o=n(25),u=n(1),a=i.List,s=i.Map,c=function(t,e,n){if(t){var r=e.get(t);r&&e.set(t,n(r))}},l=function(t,e,n){return t.withMutations(function(t){var r=e.getKey(),i=n.getKey();c(e.getParentKey(),t,function(t){var e=t.getChildKeys(),n=e.indexOf(r)+1,o=e.toArray();return o.splice(n,0,i),t.merge({children:a(o)})}),c(e.getNextSiblingKey(),t,function(t){return t.merge({prevSibling:i})}),c(r,t,function(t){return t.merge({nextSibling:i})}),c(i,t,function(t){return t.merge({prevSibling:r})})})},f=function(t,e){e.isCollapsed()||u(!1);var n=e.getAnchorKey(),i=e.getAnchorOffset(),a=t.getBlockMap(),c=a.get(n),f=c.getText(),p=c.getCharacterList(),h=o(),d=c instanceof r,y=c.merge({text:f.slice(0,i),characterList:p.slice(0,i)}),g=y.merge({key:h,text:f.slice(i),characterList:p.slice(i),data:s()}),v=a.toSeq().takeUntil(function(t){return t===c}),_=a.toSeq().skipUntil(function(t){return t===c}).rest(),m=v.concat([[n,y],[h,g]],_).toOrderedMap();return d&&(c.getChildKeys().isEmpty()||u(!1),m=l(m,y,g)),t.merge({blockMap:m,selectionBefore:e,selectionAfter:e.merge({anchorKey:h,anchorOffset:0,focusKey:h,focusOffset:0,isBackward:!1})})};t.exports=f},function(t,e,n){"use strict";var r,i=n(0),o=n(192),u=n(13),a=i.OrderedMap,s={getDirectionMap:function(t,e){r?r.reset():r=new o;var n=t.getBlockMap(),s=n.valueSeq().map(function(t){return u(r).getDirection(t.getText())}),c=a(n.keySeq().zip(s));return null!=e&&i.is(e,c)?e:c}};t.exports=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(117),o=n(84),u=n(1),a=function(){function t(e){r(this,t),e?o.isStrong(e)||u(!1):e=o.getGlobalDir(),this._defaultDir=e,this.reset()}return t.prototype.reset=function(){this._lastDir=this._defaultDir},t.prototype.getDirection=function(t){return this._lastDir=i.getDirection(t,this._lastDir),this._lastDir},t}();t.exports=a},function(t,e,n){"use strict";var r=n(10),i=n(0),o=n(114),u=n(1),a=i.OrderedMap,s=i.List,c=function(t,e,n){if(t){var r=e.get(t);r&&e.set(t,n(r))}},l=function(t,e,n,r,i){if(!i)return t;var o="after"===r,u=e.getKey(),a=n.getKey(),l=e.getParentKey(),f=e.getNextSiblingKey(),p=e.getPrevSiblingKey(),h=n.getParentKey(),d=o?n.getNextSiblingKey():a,y=o?a:n.getPrevSiblingKey();return t.withMutations(function(t){c(l,t,function(t){var e=t.getChildKeys();return t.merge({children:e.delete(e.indexOf(u))})}),c(p,t,function(t){return t.merge({nextSibling:f})}),c(f,t,function(t){return t.merge({prevSibling:p})}),c(d,t,function(t){return t.merge({prevSibling:u})}),c(y,t,function(t){return t.merge({nextSibling:u})}),c(h,t,function(t){var e=t.getChildKeys(),n=e.indexOf(a),r=o?n+1:0!==n?n-1:0,i=e.toArray();return i.splice(r,0,u),t.merge({children:s(i)})}),c(u,t,function(t){return t.merge({nextSibling:d,prevSibling:y,parent:h})})})},f=function(t,e,n,i){"replace"===i&&u(!1);var s=n.getKey(),c=e.getKey();c===s&&u(!1);var f=t.getBlockMap(),p=e instanceof r,h=[e],d=f.delete(c);p&&(h=[],d=f.withMutations(function(t){var n=e.getNextSiblingKey(),r=o(e,t);t.toSeq().skipUntil(function(t){return t.getKey()===c}).takeWhile(function(t){var e=t.getKey(),i=e===c,o=n&&e!==n,u=!n&&t.getParentKey()&&(!r||e!==r);return!!(i||o||u)}).forEach(function(e){h.push(e),t.delete(e.getKey())})}));var y=d.toSeq().takeUntil(function(t){return t===n}),g=d.toSeq().skipUntil(function(t){return t===n}).skip(1),v=h.map(function(t){return[t.getKey(),t]}),_=a();if("before"===i){var m=t.getBlockBefore(s);m&&m.getKey()===e.getKey()&&u(!1),_=y.concat([].concat(v,[[s,n]]),g).toOrderedMap()}else if("after"===i){var S=t.getBlockAfter(s);S&&S.getKey()===c&&u(!1),_=y.concat([[s,n]].concat(v),g).toOrderedMap()}return t.merge({blockMap:l(_,e,n,i,p),selectionBefore:t.getSelectionAfter(),selectionAfter:t.getSelectionAfter().merge({anchorKey:c,focusKey:c})})};t.exports=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){for(var r=e;r<n;r++)if(null!=t[r])return!1;return!0}function o(t,e,n,r){for(var i=e;i<n;i++)t[i]=r}var u=n(0),a=u.List,s=function(){function t(e){r(this,t),this._decorators=e.slice()}return t.prototype.getDecorations=function(t,e){var n=Array(t.getText().length).fill(null);return this._decorators.forEach(function(r,u){var a=0;(0,r.strategy)(t,function(t,e){i(n,t,e)&&(o(n,t,e,u+"."+a),a++)},e)}),a(n)},t.prototype.getComponentForKey=function(t){var e=parseInt(t.split(".")[0],10);return this._decorators[e].component},t.prototype.getPropsForKey=function(t){var e=parseInt(t.split(".")[0],10);return this._decorators[e].props},t}();t.exports=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(9),a=u||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(85),c=n(118),l=n(196),f=n(197),p=n(220),h=n(223),d=n(257),y=n(2),g=n(3),v=n(38),_=n(122),m=n(88),S=n(19),b=n(45),w=n(81),M=n(25),E=n(92),x=n(89),I=n(1),k=n(13),L=S.isBrowser("IE"),T=!L,D={edit:h,composite:l,drag:p,cut:null,render:null},O=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o.focus=function(t){var e=o.props.editorState,n=e.getSelection().getHasFocus(),r=v.findDOMNode(o.editor);if(r){var i=m.getScrollParent(r),u=t||x(i),a=u.x,s=u.y;r instanceof HTMLElement||I(!1),r.focus(),i===window?window.scrollTo(a,s):_.setTop(i,s),n||o.update(y.forceSelection(e,e.getSelection()))}},o.blur=function(){var t=v.findDOMNode(o.editor);t instanceof HTMLElement||I(!1),t.blur()},o.setMode=function(t){o._handler=D[t]},o.exitCurrentMode=function(){o.setMode("edit")},o.restoreEditorDOM=function(t){o.setState({contentsKey:o.state.contentsKey+1},function(){o.focus(t)})},o.setClipboard=function(t){o._clipboard=t},o.getClipboard=function(){return o._clipboard},o.update=function(t){o._latestEditorState=t,o.props.onChange(t)},o.onDragEnter=function(){o._dragCount++},o.onDragLeave=function(){0==--o._dragCount&&o.exitCurrentMode()},o._blockSelectEvents=!1,o._clipboard=null,o._handler=null,o._dragCount=0,o._editorKey=n.editorKey||M(),o._placeholderAccessibilityID="placeholder-"+o._editorKey,o._latestEditorState=n.editorState,o._latestCommittedEditorState=n.editorState,o._onBeforeInput=o._buildHandler("onBeforeInput"),o._onBlur=o._buildHandler("onBlur"),o._onCharacterData=o._buildHandler("onCharacterData"),o._onCompositionEnd=o._buildHandler("onCompositionEnd"),o._onCompositionStart=o._buildHandler("onCompositionStart"),o._onCopy=o._buildHandler("onCopy"),o._onCut=o._buildHandler("onCut"),o._onDragEnd=o._buildHandler("onDragEnd"),o._onDragOver=o._buildHandler("onDragOver"),o._onDragStart=o._buildHandler("onDragStart"),o._onDrop=o._buildHandler("onDrop"),o._onInput=o._buildHandler("onInput"),o._onFocus=o._buildHandler("onFocus"),o._onKeyDown=o._buildHandler("onKeyDown"),o._onKeyPress=o._buildHandler("onKeyPress"),o._onKeyUp=o._buildHandler("onKeyUp"),o._onMouseDown=o._buildHandler("onMouseDown"),o._onMouseUp=o._buildHandler("onMouseUp"),o._onPaste=o._buildHandler("onPaste"),o._onSelect=o._buildHandler("onSelect"),o.getEditorKey=function(){return o._editorKey},o.state={contentsKey:0},o}return o(e,t),e.prototype._buildHandler=function(t){var e=this;return function(n){if(!e.props.readOnly){var r=e._handler&&e._handler[t];r&&r(e,n)}}},e.prototype._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},e.prototype._renderPlaceholder=function(){if(this._showPlaceholder()){var t={text:k(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return g.createElement(d,t)}return null},e.prototype.render=function(){var t=this,e=this.props,n=e.blockRenderMap,r=e.blockRendererFn,i=e.blockStyleFn,o=e.customStyleFn,u=e.customStyleMap,s=e.editorState,l=e.readOnly,p=e.textAlignment,h=e.textDirectionality,d=b({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===p,"DraftEditor/alignRight":"right"===p,"DraftEditor/alignCenter":"center"===p}),y={outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},v=this.props.role||"textbox",_="combobox"===v?!!this.props.ariaExpanded:null,m={blockRenderMap:n,blockRendererFn:r,blockStyleFn:i,customStyleMap:a({},c,u),customStyleFn:o,editorKey:this._editorKey,editorState:s,key:"contents"+this.state.contentsKey,textDirectionality:h};return g.createElement("div",{className:d},this._renderPlaceholder(),g.createElement("div",{className:b("DraftEditor/editorContainer"),ref:function(e){return t.editorContainer=e}},g.createElement("div",{"aria-activedescendant":l?null:this.props.ariaActiveDescendantID,"aria-autocomplete":l?null:this.props.ariaAutoComplete,"aria-controls":l?null:this.props.ariaControls,"aria-describedby":this.props.ariaDescribedBy||this._placeholderAccessibilityID,"aria-expanded":l?null:_,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:b({notranslate:!l,"public/DraftEditor/content":!0}),contentEditable:!l,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:function(e){return t.editor=e},role:l?null:v,spellCheck:T&&this.props.spellCheck,style:y,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},g.createElement(f,m))))},e.prototype.componentDidMount=function(){this.setMode("edit"),L&&document.execCommand("AutoUrlDetect",!1,!1)},e.prototype.componentWillUpdate=function(t){this._blockSelectEvents=!0,this._latestEditorState=t.editorState},e.prototype.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestCommittedEditorState=this.props.editorState},e}(g.Component);O.defaultProps={blockRenderMap:s,blockRendererFn:w.thatReturnsNull,blockStyleFn:w.thatReturns(""),keyBindingFn:E,readOnly:!1,spellCheck:!1,stripPastedStyles:!1},t.exports=O},function(t,e,n){"use strict";var r=n(31),i=n(5),o=n(2),u=n(63),a=n(86),s=n(52),c=n(119),l=!1,f=!1,p="",h={onBeforeInput:function(t,e){p=(p||"")+e.data},onCompositionStart:function(t){f=!0},onCompositionEnd:function(t){l=!1,f=!1,setTimeout(function(){l||h.resolveComposition(t)},20)},onKeyDown:function(t,e){if(!f)return h.resolveComposition(t),void t._onKeyDown(e);e.which!==u.RIGHT&&e.which!==u.LEFT||e.preventDefault()},onKeyPress:function(t,e){e.which===u.RETURN&&e.preventDefault()},resolveComposition:function(t){if(!f){l=!0;var e=p;p="";var n=o.set(t._latestEditorState,{inCompositionMode:!1}),u=n.getCurrentInlineStyle(),h=a(n.getCurrentContent(),n.getSelection()),d=!e||c(n)||u.size>0||null!==h;if(d&&t.restoreEditorDOM(),t.exitCurrentMode(),e){if(r.draft_handlebeforeinput_composed_text&&t.props.handleBeforeInput&&s(t.props.handleBeforeInput(e,n)))return;var y=i.replaceText(n.getCurrentContent(),n.getSelection(),e,u,h);return void t.update(o.push(n,y,"insert-characters"))}d&&t.update(o.set(n,{nativelyRenderedContent:null,forceSelection:!0}))}}};t.exports=h},function(t,e,n){"use strict";var r=n(198);t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(9),a=u||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(120),c=n(64),l=(n(2),n(3)),f=n(45),p=n(219),h=n(13),d=function(t,e,n,r){return f({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===t,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===t,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===e,"public/DraftStyleDefault/depth1":1===e,"public/DraftStyleDefault/depth2":2===e,"public/DraftStyleDefault/depth3":3===e,"public/DraftStyleDefault/depth4":4===e,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})},y=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.shouldComponentUpdate=function(t){var e=this.props.editorState,n=t.editorState;if(e.getDirectionMap()!==n.getDirectionMap())return!0;if(e.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),i=e.isInCompositionMode(),o=n.isInCompositionMode();if(e===n||null!==r&&n.getCurrentContent()===r||i&&o)return!1;var u=e.getCurrentContent(),a=n.getCurrentContent(),s=e.getDecorator(),c=n.getDecorator();return i!==o||u!==a||s!==c||n.mustForceSelection()},e.prototype.render=function(){for(var t=this.props,e=t.blockRenderMap,n=t.blockRendererFn,r=t.blockStyleFn,i=t.customStyleMap,o=t.customStyleFn,u=t.editorState,f=t.editorKey,y=t.textDirectionality,g=u.getCurrentContent(),v=u.getSelection(),_=u.mustForceSelection(),m=u.getDecorator(),S=h(u.getDirectionMap()),b=g.getBlocksAsArray(),w=[],M=null,E=null,x=0;x<b.length;x++){var I=b[x],k=I.getKey(),L=I.getType(),T=n(I),D=void 0,O=void 0,N=void 0;T&&(D=T.component,O=T.props,N=T.editable);var C=y||S.get(k),j=c.encode(k,0,0),A={contentState:g,block:I,blockProps:O,blockStyleFn:r,customStyleMap:i,customStyleFn:o,decorator:m,direction:C,forceSelection:_,key:k,offsetKey:j,selection:v,tree:u.getBlockTree(k)},z=e.get(L)||e.get("unstyled"),B=z.wrapper,R=z.element||e.get("unstyled").element,K=I.getDepth(),P="";r&&(P=r(I)),"li"===R&&(P=p(P,d(L,K,E!==B||null===M||K>M,C)));var U=D||s,F={className:P,"data-block":!0,"data-editor":f,"data-offset-key":j,key:k};void 0!==N&&(F=a({},F,{contentEditable:N,suppressContentEditableWarning:!0}));var Y=l.createElement(R,F,l.createElement(U,A));w.push({block:Y,wrapperTemplate:B,key:k,offsetKey:j}),M=B?I.getDepth():null,E=B}for(var H=[],q=0;q<w.length;){var W=w[q];if(W.wrapperTemplate){var G=[];do{G.push(w[q].block),q++}while(q<w.length&&w[q].wrapperTemplate===W.wrapperTemplate);var V=l.cloneElement(W.wrapperTemplate,{key:W.key+"-wrap","data-offset-key":W.offsetKey},G);H.push(V)}else H.push(W.block),q++}return l.createElement("div",{"data-contents":"true"},H)},e}(l.Component);t.exports=y},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(9),a=n(200),s=n(3),c=n(38),l=n(1),f=n(207),p=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype._setSelection=function(){var t=this.props.selection;if(null!=t&&t.getHasFocus()){var e=this.props,n=e.block,r=e.start,i=e.text,o=n.getKey(),u=r+i.length;if(t.hasEdgeWithin(o,r,u)){var a=c.findDOMNode(this);a||l(!1);var s=a.firstChild;s||l(!1);var p=void 0;s.nodeType===Node.TEXT_NODE?p=s:"BR"===s.tagName?p=a:(p=s.firstChild)||l(!1),f(t,p,o,r,u)}}},e.prototype.shouldComponentUpdate=function(t){var e=c.findDOMNode(this.leaf);return e||l(!1),e.textContent!==t.text||t.styleSet!==this.props.styleSet||t.forceSelection},e.prototype.componentDidUpdate=function(){this._setSelection()},e.prototype.componentDidMount=function(){this._setSelection()},e.prototype.render=function(){var t=this,e=this.props.block,n=this.props.text;n.endsWith("\n")&&this.props.isLast&&(n+="\n");var r=this.props,i=r.customStyleMap,o=r.customStyleFn,c=r.offsetKey,l=r.styleSet,f=l.reduce(function(t,e){var n={},r=i[e];return void 0!==r&&t.textDecoration!==r.textDecoration&&(n.textDecoration=[t.textDecoration,r.textDecoration].join(" ").trim()),u(t,r,n)},{});if(o){var p=o(l,e);f=u(f,p)}return s.createElement("span",{"data-offset-key":c,ref:function(e){return t.leaf=e},style:f},s.createElement(a,null,n))},e}(s.Component);t.exports=p},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){return f?"\n"===t.textContent:"BR"===t.tagName}var a=n(3),s=n(38),c=n(19),l=n(1),f=c.isBrowser("IE <= 11"),p=f?a.createElement("span",{key:"A","data-text":"true"},"\n"):a.createElement("br",{key:"A","data-text":"true"}),h=f?a.createElement("span",{key:"B","data-text":"true"},"\n"):a.createElement("br",{key:"B","data-text":"true"}),d=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o._forceFlag=!1,o}return o(e,t),e.prototype.shouldComponentUpdate=function(t){var e=s.findDOMNode(this),n=""===t.children;return e instanceof Element||l(!1),n?!u(e):e.textContent!==t.children},e.prototype.componentDidMount=function(){this._forceFlag=!this._forceFlag},e.prototype.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},e.prototype.render=function(){return""===this.props.children?this._forceFlag?p:h:a.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true"},this.props.children)},e}(a.Component);t.exports=d},function(t,e,n){"use strict";var r=n(202),i="Unknown",o={"Mac OS":"Mac OS X"},u=new r,a=u.getResult(),s=function(t){if(!t)return{major:"",minor:""};var e=t.split(".");return{major:e[0],minor:e[1]}}(a.browser.version),c={browserArchitecture:a.cpu.architecture||i,browserFullVersion:a.browser.version||i,browserMinorVersion:s.minor||i,browserName:a.browser.name||i,browserVersion:a.browser.major||i,deviceName:a.device.model||i,engineName:a.engine.name||i,engineVersion:a.engine.version||i,platformArchitecture:a.cpu.architecture||i,platformName:function(t){return o[t]||t}(a.os.name)||i,platformVersion:a.os.version||i,platformFullVersion:a.os.version||i};t.exports=c},function(t,e,n){var r;/*!
 * UAParser.js v0.7.18
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright © 2012-2016 Faisal Salman <fyzlman@gmail.com>
 * Dual licensed under GPLv2 or MIT
 */
!function(i,o){"use strict";var u="model",a="name",s="type",c="vendor",l="version",f="mobile",p="tablet",h={extend:function(t,e){var n={};for(var r in t)e[r]&&e[r].length%2==0?n[r]=e[r].concat(t[r]):n[r]=t[r];return n},has:function(t,e){return"string"==typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){/*!
 * UAParser.js v0.7.18
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright © 2012-2016 Faisal Salman <fyzlman@gmail.com>
 * Dual licensed under GPLv2 or MIT
 */
return"string"==typeof t?t.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},d={rgx:function(t,e){for(var n,r,i,o,u,a,s=0;s<e.length&&!u;){var c=e[s],l=e[s+1];for(n=r=0;n<c.length&&!u;)if(u=c[n++].exec(t))for(i=0;i<l.length;i++)a=u[++r],o=l[i],"object"==typeof o&&o.length>0?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,a):this[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=a?a.replace(o[1],o[2]):void 0:this[o[0]]=a?o[1].call(this,a,o[2]):void 0:4==o.length&&(this[o[0]]=a?o[3].call(this,a.replace(o[1],o[2])):void 0):this[o]=a||void 0;s+=2}},str:function(t,e){for(var n in e)if("object"==typeof e[n]&&e[n].length>0){for(var r=0;r<e[n].length;r++)if(h.has(e[n][r],t))return"?"===n?void 0:n}else if(h.has(e[n],t))return"?"===n?void 0:n;return t}},y={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},g={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,l],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],l],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],l],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[a,l],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],l],[/(edge|edgios|edgea)\/((\d+)?[\w\.]+)/i],[[a,"Edge"],l],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],l],[/(puffin)\/([\w\.]+)/i],[[a,"Puffin"],l],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],l],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],l],[/(qqbrowserlite)\/([\w\.]+)/i],[a,l],[/(QQ)\/([\d\.]+)/i],[a,l],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[a,l],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[a,l],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[a,l],[/(MetaSr)[\/\s]?([\w\.]+)/i],[a],[/(LBBROWSER)/i],[a],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[l,[a,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[l,[a,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[l,[a,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],l],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[a,/(.+(?:g|us))(.+)/,"$1 $2"],l],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[l,[a,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[a,l],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],l],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],l],[/(coast)\/([\w\.]+)/i],[[a,"Opera Coast"],l],[/fxios\/([\w\.-]+)/i],[l,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[l,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[l,a],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[a,"GSA"],l],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[l,d.str,y.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[a,l],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],l],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",h.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",h.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",h.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[u,c,[s,p]],[/applecoremedia\/[\w\.]+ \((ipad)/],[u,[c,"Apple"],[s,p]],[/(apple\s{0,1}tv)/i],[[u,"Apple TV"],[c,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[c,u,[s,p]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[u,[c,"Amazon"],[s,p]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[u,d.str,y.device.amazon.model],[c,"Amazon"],[s,f]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[u,c,[s,f]],[/\((ip[honed|\s\w*]+);/i],[u,[c,"Apple"],[s,f]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[c,u,[s,f]],[/\(bb10;\s(\w+)/i],[u,[c,"BlackBerry"],[s,f]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[u,[c,"Asus"],[s,p]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[c,"Sony"],[u,"Xperia Tablet"],[s,p]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[u,[c,"Sony"],[s,f]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[c,u,[s,"console"]],[/android.+;\s(shield)\sbuild/i],[u,[c,"Nvidia"],[s,"console"]],[/(playstation\s[34portablevi]+)/i],[u,[c,"Sony"],[s,"console"]],[/(sprint\s(\w+))/i],[[c,d.str,y.device.sprint.vendor],[u,d.str,y.device.sprint.model],[s,f]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[c,u,[s,p]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[c,[u,/_/g," "],[s,f]],[/(nexus\s9)/i],[u,[c,"HTC"],[s,p]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[u,[c,"Huawei"],[s,f]],[/(microsoft);\s(lumia[\s\w]+)/i],[c,u,[s,f]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[u,[c,"Microsoft"],[s,"console"]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[c,"Microsoft"],[s,f]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[u,[c,"Motorola"],[s,f]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[u,[c,"Motorola"],[s,p]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[c,h.trim],[u,h.trim],[s,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[c,"Samsung"],[s,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[u,[c,"Sharp"],[s,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[c,"Samsung"],u,[s,p]],[/smart-tv.+(samsung)/i],[c,[s,"smarttv"],u],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[c,"Samsung"],u,[s,f]],[/sie-(\w*)/i],[u,[c,"Siemens"],[s,f]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[c,"Nokia"],u,[s,f]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[u,[c,"Acer"],[s,p]],[/android.+([vl]k\-?\d{3})\s+build/i],[u,[c,"LG"],[s,p]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[c,"LG"],u,[s,p]],[/(lg) netcast\.tv/i],[c,u,[s,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[u,[c,"LG"],[s,f]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[u,[c,"Lenovo"],[s,p]],[/linux;.+((jolla));/i],[c,u,[s,f]],[/((pebble))app\/[\d\.]+\s/i],[c,u,[s,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[c,u,[s,f]],[/crkey/i],[[u,"Chromecast"],[c,"Google"]],[/android.+;\s(glass)\s\d/i],[u,[c,"Google"],[s,"wearable"]],[/android.+;\s(pixel c)\s/i],[u,[c,"Google"],[s,p]],[/android.+;\s(pixel xl|pixel)\s/i],[u,[c,"Google"],[s,f]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[u,/_/g," "],[c,"Xiaomi"],[s,f]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[u,/_/g," "],[c,"Xiaomi"],[s,p]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[u,[c,"Meizu"],[s,p]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[u,[c,"OnePlus"],[s,f]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[u,[c,"RCA"],[s,p]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[u,[c,"Dell"],[s,p]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[u,[c,"Verizon"],[s,p]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[c,"Barnes & Noble"],u,[s,p]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[u,[c,"NuVision"],[s,p]],[/android.+;\s(k88)\sbuild/i],[u,[c,"ZTE"],[s,p]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[u,[c,"Swiss"],[s,f]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[u,[c,"Swiss"],[s,p]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[u,[c,"Zeki"],[s,p]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[c,"Dragon Touch"],u,[s,p]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[u,[c,"Insignia"],[s,p]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[u,[c,"NextBook"],[s,p]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[c,"Voice"],u,[s,f]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[c,"LvTel"],u,[s,f]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[u,[c,"Envizen"],[s,p]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[c,u,[s,p]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[u,[c,"MachSpeed"],[s,p]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[c,u,[s,p]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[u,[c,"Rotor"],[s,p]],[/android.+(KS(.+))\s+build/i],[u,[c,"Amazon"],[s,p]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[c,u,[s,p]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[s,h.lowerize],c,u],[/(android[\w\.\s\-]{0,9});.+build/i],[u,[c,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[l,[a,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,l],[/rv\:([\w\.]{1,9}).+(gecko)/i],[l,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,l],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[l,d.str,y.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[l,d.str,y.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],l],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[a,l],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[a,"Symbian"],l],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],l],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[a,l],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],l],[/(sunos)\s?([\w\.\d]*)/i],[[a,"Solaris"],l],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[a,l],[/(haiku)\s(\w+)/i],[a,l],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[l,/_/g,"."],[a,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[l,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]*)/i],[a,l]]},v=function(t,e){if("object"==typeof t&&(e=t,t=void 0),!(this instanceof v))return new v(t,e).getResult();var n=t||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=e?h.extend(g,e):g;return this.getBrowser=function(){var t={name:void 0,version:void 0};return d.rgx.call(t,n,r.browser),t.major=h.major(t.version),t},this.getCPU=function(){var t={architecture:void 0};return d.rgx.call(t,n,r.cpu),t},this.getDevice=function(){var t={vendor:void 0,model:void 0,type:void 0};return d.rgx.call(t,n,r.device),t},this.getEngine=function(){var t={name:void 0,version:void 0};return d.rgx.call(t,n,r.engine),t},this.getOS=function(){var t={name:void 0,version:void 0};return d.rgx.call(t,n,r.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(t){return n=t,this},this};v.VERSION="0.7.18",v.BROWSER={NAME:a,MAJOR:"major",VERSION:l},v.CPU={ARCHITECTURE:"architecture"},v.DEVICE={MODEL:u,VENDOR:c,TYPE:s,CONSOLE:"console",MOBILE:f,SMARTTV:"smarttv",TABLET:p,WEARABLE:"wearable",EMBEDDED:"embedded"},v.ENGINE={NAME:a,VERSION:l},v.OS={NAME:a,VERSION:l},void 0!==e?(void 0!==t&&t.exports&&(e=t.exports=v),e.UAParser=v):n(203)?void 0!==(r=function(){return v}.call(e,n,e,t))&&(t.exports=r):i&&(i.UAParser=v);var _=i&&(i.jQuery||i.Zepto);if(void 0!==_){var m=new v;_.ua=m.getResult(),_.ua.get=function(){return m.getUA()},_.ua.set=function(t){m.setUA(t);var e=m.getResult();for(var n in e)_.ua[n]=e[n]}}}("object"==typeof window?window:this)},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){"use strict";function r(t,e){var n=t.split(w);return n.length>1?n.some(function(t){return I.contains(t,e)}):(t=n[0].trim(),i(t,e))}function i(t,e){var n=t.split(M);if(n.length>0&&n.length<=2||S(!1),1===n.length)return o(n[0],e);var r=n[0],i=n[1];return d(r)&&d(i)||S(!1),o(">="+r,e)&&o("<="+i,e)}function o(t,e){if(""===(t=t.trim()))return!0;var n=e.split(b),r=p(t),i=r.modifier,o=r.rangeComponents;switch(i){case"<":return u(n,o);case"<=":return a(n,o);case">=":return c(n,o);case">":return l(n,o);case"~":case"~>":return f(n,o);default:return s(n,o)}}function u(t,e){return-1===m(t,e)}function a(t,e){var n=m(t,e);return-1===n||0===n}function s(t,e){return 0===m(t,e)}function c(t,e){var n=m(t,e);return 1===n||0===n}function l(t,e){return 1===m(t,e)}function f(t,e){var n=e.slice(),r=e.slice();r.length>1&&r.pop();var i=r.length-1,o=parseInt(r[i],10);return h(o)&&(r[i]=o+1+""),c(t,n)&&u(t,r)}function p(t){var e=t.split(b),n=e[0].match(E);return n||S(!1),{modifier:n[1],rangeComponents:[n[2]].concat(e.slice(1))}}function h(t){return!isNaN(t)&&isFinite(t)}function d(t){return!p(t).modifier}function y(t,e){for(var n=t.length;n<e;n++)t[n]="0"}function g(t,e){t=t.slice(),e=e.slice(),y(t,e.length);for(var n=0;n<e.length;n++){var r=e[n].match(/^[x*]$/i);if(r&&(e[n]=t[n]="0","*"===r[0]&&n===e.length-1))for(var i=n;i<t.length;i++)t[i]="0"}return y(e,t.length),[t,e]}function v(t,e){var n=t.match(x)[1],r=e.match(x)[1],i=parseInt(n,10),o=parseInt(r,10);return h(i)&&h(o)&&i!==o?_(i,o):_(t,e)}function _(t,e){return typeof t!=typeof e&&S(!1),t>e?1:t<e?-1:0}function m(t,e){for(var n=g(t,e),r=n[0],i=n[1],o=0;o<i.length;o++){var u=v(r[o],i[o]);if(u)return u}return 0}var S=n(1),b=/\./,w=/\|\|/,M=/\s+\-\s+/,E=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,x=/^(\d*)(.*)/,I={contains:function(t,e){return r(t.trim(),e.trim())}};t.exports=I},function(t,e,n){"use strict";function r(t,e,n){if(!t)return null;var r={};for(var o in t)i.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r}var i=Object.prototype.hasOwnProperty;t.exports=r},function(t,e,n){"use strict";function r(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}t.exports=r},function(t,e,n){"use strict";(function(e){function r(t,e){if(!t)return"[empty]";var n=i(t,e);return n.nodeType===Node.TEXT_NODE?n.textContent:(n instanceof Element||h(!1),n.outerHTML)}function i(t,e){var n=void 0!==e?e(t):[];if(t.nodeType===Node.TEXT_NODE){var r=t.textContent.length;return document.createTextNode("[text "+r+(n.length?" | "+n.join(", "):"")+"]")}var o=t.cloneNode();1===o.nodeType&&n.length&&o.setAttribute("data-labels",n.join(", "));for(var u=t.childNodes,a=0;a<u.length;a++)o.appendChild(i(u[a],e));return o}function o(t,e){for(var n=t;n;){if(n instanceof Element&&n.hasAttribute("contenteditable"))return r(n,e);n=n.parentNode}return"Could not find contentEditable parent of node"}function u(t){return null===t.nodeValue?t.childNodes.length:t.nodeValue.length}function a(t,n,r,i,o){if(f(document.documentElement,n)){var u=e.getSelection(),a=t.getAnchorKey(),l=t.getAnchorOffset(),p=t.getFocusKey(),h=t.getFocusOffset(),d=t.getIsBackward();if(!u.extend&&d){var y=a,g=l;a=p,l=h,p=y,h=g,d=!1}var v=a===r&&i<=l&&o>=l,_=p===r&&i<=h&&o>=h;if(v&&_)return u.removeAllRanges(),c(u,n,l-i,t),void s(u,n,h-i,t);if(d){if(_&&(u.removeAllRanges(),c(u,n,h-i,t)),v){var m=u.focusNode,S=u.focusOffset;u.removeAllRanges(),c(u,n,l-i,t),s(u,m,S,t)}}else v&&(u.removeAllRanges(),c(u,n,l-i,t)),_&&s(u,n,h-i,t)}}function s(t,e,n,r){var i=p();if(t.extend&&f(i,e)){n>u(e)&&l.logSelectionStateFailure({anonymizedDom:o(e),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())});var a=e===t.focusNode;try{t.extend(e,n)}catch(u){throw l.logSelectionStateFailure({anonymizedDom:o(e,function(e){var n=[];return e===i&&n.push("active element"),e===t.anchorNode&&n.push("selection anchor node"),e===t.focusNode&&n.push("selection focus node"),n}),extraParams:JSON.stringify({activeElementName:i?i.nodeName:null,nodeIsFocus:e===t.focusNode,nodeWasFocus:a,selectionRangeCount:t.rangeCount,selectionAnchorNodeName:t.anchorNode?t.anchorNode.nodeName:null,selectionAnchorOffset:t.anchorOffset,selectionFocusNodeName:t.focusNode?t.focusNode.nodeName:null,selectionFocusOffset:t.focusOffset,message:u?""+u:null,offset:n},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),u}}else{var s=t.getRangeAt(0);s.setEnd(e,n),t.addRange(s.cloneRange())}}function c(t,e,n,r){var i=document.createRange();n>u(e)&&l.logSelectionStateFailure({anonymizedDom:o(e),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())}),i.setStart(e,n),t.addRange(i)}var l=n(208),f=n(87),p=n(121),h=n(1);t.exports=a}).call(e,n(26))},function(t,e,n){"use strict";t.exports={logSelectionStateFailure:function(){return null}}},function(t,e,n){"use strict";function r(t){return i(t)&&3==t.nodeType}var i=n(210);t.exports=r},function(t,e,n){"use strict";function r(t){var e=t?t.ownerDocument||t:document,n=e.defaultView||window;return!(!t||!("function"==typeof n.Node?t instanceof n.Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}t.exports=r},function(t,e,n){"use strict";function r(t){return null==t?t:String(t)}function i(t,e){var n=void 0;if(window.getComputedStyle&&(n=window.getComputedStyle(t,null)))return r(n.getPropertyValue(u(e)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(t,null))return r(n.getPropertyValue(u(e)));if("display"===e)return"none"}return r(t.currentStyle?"float"===e?t.currentStyle.cssFloat||t.currentStyle.styleFloat:t.currentStyle[o(e)]:t.style&&t.style[o(e)])}var o=n(212),u=n(213);t.exports=i},function(t,e,n){"use strict";function r(t){return t.replace(i,function(t,e){return e.toUpperCase()})}var i=/-(.)/g;t.exports=r},function(t,e,n){"use strict";function r(t){return t.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;t.exports=r},function(t,e,n){"use strict";function r(t){var e=i(t);return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}var i=n(215);t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.ownerDocument.documentElement;if(!("getBoundingClientRect"in t&&i(e,t)))return{left:0,right:0,top:0,bottom:0};var n=t.getBoundingClientRect();return{left:Math.round(n.left)-e.clientLeft,right:Math.round(n.right)-e.clientLeft,top:Math.round(n.top)-e.clientTop,bottom:Math.round(n.bottom)-e.clientTop}}var i=n(87);t.exports=r},function(t,e,n){"use strict";function r(t){return t=t||document,t.scrollingElement?t.scrollingElement:i||"CSS1Compat"!==t.compatMode?t.body:t.documentElement}var i="undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;t.exports=r},function(t,e,n){"use strict";function r(t){return t.Window&&t instanceof t.Window?{x:t.pageXOffset||t.document.documentElement.scrollLeft,y:t.pageYOffset||t.document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}t.exports=r},function(t,e,n){"use strict";function r(){var t=void 0;return document.documentElement&&(t=document.documentElement.clientWidth),!t&&document.body&&(t=document.body.clientWidth),t||0}function i(){var t=void 0;return document.documentElement&&(t=document.documentElement.clientHeight),!t&&document.body&&(t=document.body.clientHeight),t||0}function o(){return{width:window.innerWidth||r(),height:window.innerHeight||i()}}o.withoutScrollbars=function(){return{width:r(),height:i()}},t.exports=o},function(t,e,n){"use strict";function r(t){t||(t="");var e=void 0,n=arguments.length;if(n>1)for(var r=1;r<n;r++)(e=arguments[r])&&(t=(t?t+" ":"")+e);return t}t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=null,r=null;if("function"==typeof document.caretRangeFromPoint){var i=document.caretRangeFromPoint(t.x,t.y);n=i.startContainer,r=i.startOffset}else{if(!t.rangeParent)return null;n=t.rangeParent,r=t.rangeOffset}n=h(n),r=h(r);var o=h(c(n));return f(e,o,r,o,r)}function i(t,e){var n=a.moveText(t.getCurrentContent(),t.getSelection(),e);return s.push(t,n,"insert-fragment")}function o(t,e,n){var r=a.insertText(t.getCurrentContent(),e,n,t.getCurrentInlineStyle());return s.push(t,r,"insert-fragment")}var u=n(123),a=n(5),s=n(2),c=n(90),l=n(125),f=n(126),p=n(52),h=n(13),d={onDragEnd:function(t){t.exitCurrentMode()},onDrop:function(t,e){var n=new u(e.nativeEvent.dataTransfer),a=t._latestEditorState,s=r(e.nativeEvent,a);if(e.preventDefault(),t.exitCurrentMode(),null!=s){var c=n.getFiles();if(c.length>0){if(t.props.handleDroppedFiles&&p(t.props.handleDroppedFiles(s,c)))return;return void l(c,function(e){e&&t.update(o(a,s,e))})}var f=t._internalDrag?"internal":"external";if(!t.props.handleDrop||!p(t.props.handleDrop(s,n,f)))return t._internalDrag?void t.update(i(a,s)):void t.update(o(a,s,n.getText()))}}};t.exports=d},function(t,e,n){"use strict";function r(t){return t.split("/")}var i={isImage:function(t){return"image"===r(t)[0]},isJpeg:function(t){var e=r(t);return i.isImage(t)&&("jpeg"===e[1]||"pjpeg"===e[1])}};t.exports=i},function(t,e,n){"use strict";function r(t){var e=t.length;if((Array.isArray(t)||"object"!=typeof t&&"function"!=typeof t)&&u(!1),"number"!=typeof e&&u(!1),0===e||e-1 in t||u(!1),"function"==typeof t.callee&&u(!1),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(t){}for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}function i(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function o(t){return i(t)?Array.isArray(t)?t.slice():r(t):[t]}var u=n(1);t.exports=o},function(t,e,n){"use strict";var r=n(224),i=n(228),o=n(229),u=n(230),a=n(231),s=n(232),c=n(233),l=n(234),f=n(235),p=n(236),h=n(250),d=n(255),y={onBeforeInput:r,onBlur:i,onCompositionStart:o,onCopy:u,onCut:a,onDragOver:s,onDragStart:c,onFocus:l,onInput:f,onKeyDown:p,onPaste:h,onSelect:d};t.exports=y},function(t,e,n){"use strict";(function(e){function r(t){return v&&(t==y||t==g)}function i(t,e,n,r){var i=a.replaceText(t.getCurrentContent(),t.getSelection(),e,n,r);return s.push(t,i,"insert-characters")}function o(t,n){void 0!==t._pendingStateFromBeforeInput&&(t.update(t._pendingStateFromBeforeInput),t._pendingStateFromBeforeInput=void 0);var o=t._latestEditorState,a=n.data;if(a){if(t.props.handleBeforeInput&&f(t.props.handleBeforeInput(a,o)))return void n.preventDefault();var c=o.getSelection(),y=c.getStartOffset(),g=c.getEndOffset(),v=c.getAnchorKey();if(!c.isCollapsed())return n.preventDefault(),void(a===o.getCurrentContent().getPlainText().slice(y,g)?t.update(s.forceSelection(o,c.merge({focusOffset:g}))):t.update(i(o,a,o.getCurrentInlineStyle(),l(o.getCurrentContent(),o.getSelection()))));var _=i(o,a,o.getCurrentInlineStyle(),l(o.getCurrentContent(),o.getSelection())),m=!1;if(m||(m=p(t._latestCommittedEditorState)),!m){var S=e.getSelection();if(S.anchorNode&&S.anchorNode.nodeType===Node.TEXT_NODE){var b=S.anchorNode.parentNode;m="SPAN"===b.nodeName&&b.firstChild.nodeType===Node.TEXT_NODE&&-1!==b.firstChild.nodeValue.indexOf("\t")}}if(m||(m=u.getFingerprint(o.getBlockTree(v))!==u.getFingerprint(_.getBlockTree(v))),m||(m=r(a)),m||(m=h(_.getDirectionMap()).get(v)!==h(o.getDirectionMap()).get(v)),m)return n.preventDefault(),void t.update(_);_=s.set(_,{nativelyRenderedContent:_.getCurrentContent()}),t._pendingStateFromBeforeInput=_,d(function(){void 0!==t._pendingStateFromBeforeInput&&(t.update(t._pendingStateFromBeforeInput),t._pendingStateFromBeforeInput=void 0)})}}var u=n(115),a=n(5),s=n(2),c=n(19),l=n(86),f=n(52),p=n(119),h=n(13),d=n(225),y="'",g="/",v=c.isBrowser("Firefox");t.exports=o}).call(e,n(26))},function(t,e,n){"use strict";(function(e){n(226),t.exports=e.setImmediate}).call(e,n(26))},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return c[s]=r,a(s),s++}function i(t){delete c[t]}function o(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function u(t){if(l)setTimeout(u,0,t);else{var e=c[t];if(e){l=!0;try{o(e)}finally{i(t),l=!1}}}}if(!t.setImmediate){var a,s=1,c={},l=!1,f=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?function(){a=function(t){e.nextTick(function(){u(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&u(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),a=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){u(t.data)},a=function(e){t.port2.postMessage(e)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var t=f.documentElement;a=function(e){var n=f.createElement("script");n.onreadystatechange=function(){u(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){a=function(t){setTimeout(u,0,t)}}(),p.setImmediate=r,p.clearImmediate=i}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(26),n(227))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function u(){y&&h&&(y=!1,h.length?d=h.concat(d):g=-1,d.length&&a())}function a(){if(!y){var t=i(u);y=!0;for(var e=d.length;e;){for(h=d,d=[];++g<e;)h&&h[g].run();g=-1,e=d.length}h=null,y=!1,o(t)}}function s(t,e){this.fun=t,this.array=e}function c(){}var l,f,p=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var h,d=[],y=!1,g=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new s(t,e)),1!==d.length||y||i(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,n){"use strict";(function(e){function r(t,n){if(u()===document.body){var r=e.getSelection(),a=t.editor;1===r.rangeCount&&o(a,r.anchorNode)&&o(a,r.focusNode)&&r.removeAllRanges()}var s=t._latestEditorState,c=s.getSelection();if(c.getHasFocus()){var l=c.set("hasFocus",!1);t.props.onBlur&&t.props.onBlur(n),t.update(i.acceptSelection(s,l))}}var i=n(2),o=n(87),u=n(121);t.exports=r}).call(e,n(26))},function(t,e,n){"use strict";function r(t,e){t.setMode("composite"),t.update(i.set(t._latestEditorState,{inCompositionMode:!0})),t._onCompositionStart(e)}var i=n(2);t.exports=r},function(t,e,n){"use strict";function r(t,e){if(t._latestEditorState.getSelection().isCollapsed())return void e.preventDefault();t.setClipboard(i(t._latestEditorState))}var i=n(127);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=t._latestEditorState,r=n.getSelection(),o=e.target,u=void 0;if(r.isCollapsed())return void e.preventDefault();o instanceof Node&&(u=c(a.getScrollParent(o)));var l=s(n);t.setClipboard(l),t.setMode("cut"),setTimeout(function(){t.restoreEditorDOM(u),t.exitCurrentMode(),t.update(i(n))},0)}function i(t){var e=o.removeRange(t.getCurrentContent(),t.getSelection(),"forward");return u.push(t,e,"remove-range")}var o=n(5),u=n(2),a=n(88),s=n(127),c=n(89);t.exports=r},function(t,e,n){"use strict";function r(t,e){t._internalDrag=!1,t.setMode("drag"),e.preventDefault()}t.exports=r},function(t,e,n){"use strict";function r(t){t._internalDrag=!0,t.setMode("drag")}t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=t._latestEditorState,r=n.getSelection();if(!r.getHasFocus()){var u=r.set("hasFocus",!0);t.props.onFocus&&t.props.onFocus(e),o.isBrowser("Chrome < 60.0.3081.0")?t.update(i.forceSelection(n,u)):t.update(i.acceptSelection(n,u))}}var i=n(2),o=n(19);t.exports=r},function(t,e,n){"use strict";(function(e){function r(t){void 0!==t._pendingStateFromBeforeInput&&(t.update(t._pendingStateFromBeforeInput),t._pendingStateFromBeforeInput=void 0);var n=e.getSelection(),r=n.anchorNode,s=n.isCollapsed,h=r.nodeType!==Node.TEXT_NODE,d=r.nodeType!==Node.TEXT_NODE&&r.nodeType!==Node.ELEMENT_NODE;if(i.draft_killswitch_allow_nontextnodes){if(h)return}else if(d)return;if(r.nodeType===Node.TEXT_NODE&&(null!==r.previousSibling||null!==r.nextSibling)){var y=r.parentNode;r.nodeValue=y.textContent;for(var g=y.firstChild;null!==g;g=g.nextSibling)g!==r&&y.removeChild(g)}var v=r.textContent,_=t._latestEditorState,m=l(c(r)),S=u.decode(m),b=S.blockKey,w=S.decoratorKey,M=S.leafKey,E=_.getBlockTree(b).getIn([w,"leaves",M]),x=E.start,I=E.end,k=_.getCurrentContent(),L=k.getBlockForKey(b),T=L.getText().slice(x,I);if(v.endsWith(p)&&(v=v.slice(0,-1)),v!==T){var D,O,N,C,j=_.getSelection(),A=j.merge({anchorOffset:x,focusOffset:I,isBackward:!1}),z=L.getEntityAt(x),B=z&&k.getEntity(z),R=B&&B.getMutability(),K="MUTABLE"===R,P=K?"spellcheck-change":"apply-entity",U=o.replaceText(k,A,v,L.getInlineStyleAt(x),K?L.getEntityAt(x):null);if(f)D=n.anchorOffset,O=n.focusOffset,N=x+Math.min(D,O),C=N+Math.abs(D-O),D=N,O=C;else{var F=v.length-T.length;N=j.getStartOffset(),C=j.getEndOffset(),D=s?C+F:N,O=C+F}var Y=U.merge({selectionBefore:k.getSelectionAfter(),selectionAfter:j.merge({anchorOffset:D,focusOffset:O})});t.update(a.push(_,Y,P))}}var i=n(31),o=n(5),u=n(64),a=n(2),s=n(19),c=n(90),l=n(13),f=s.isEngine("Gecko"),p="\n\n";t.exports=r}).call(e,n(26))},function(t,e,n){"use strict";function r(t,e){switch(t){case"redo":return u.redo(e);case"delete":return m(e);case"delete-word":return d(e);case"backspace":return _(e);case"backspace-word":return h(e);case"backspace-to-start-of-line":return p(e);case"split-block":return y(e);case"transpose-characters":return S(e);case"move-selection-to-start-of-block":return v(e);case"move-selection-to-end-of-block":return g(e);case"secondary-cut":return c.cut(e);case"secondary-paste":return c.paste(e);default:return e}}function i(t,e){var n=e.which,i=t._latestEditorState;switch(n){case s.RETURN:if(e.preventDefault(),t.props.handleReturn&&f(t.props.handleReturn(e,i)))return;break;case s.ESC:return e.preventDefault(),void(t.props.onEscape&&t.props.onEscape(e));case s.TAB:return void(t.props.onTab&&t.props.onTab(e));case s.UP:return void(t.props.onUpArrow&&t.props.onUpArrow(e));case s.RIGHT:return void(t.props.onRightArrow&&t.props.onRightArrow(e));case s.DOWN:return void(t.props.onDownArrow&&t.props.onDownArrow(e));case s.LEFT:return void(t.props.onLeftArrow&&t.props.onLeftArrow(e));case s.SPACE:if(M&&w(e)){e.preventDefault();var a=o.replaceText(i.getCurrentContent(),i.getSelection()," ");return void t.update(u.push(i,a,"insert-characters"))}}var c=t.props.keyBindingFn(e);if(c){if("undo"===c)return void b(e,i,t.update);if(e.preventDefault(),!t.props.handleKeyCommand||!f(t.props.handleKeyCommand(c,i))){var l=r(c,i);l!==i&&t.update(l)}}}var o=n(5),u=n(2),a=n(65),s=n(63),c=n(237),l=n(19),f=n(52),p=n(238),h=n(240),d=n(242),y=n(243),g=n(244),v=n(245),_=n(246),m=n(247),S=n(248),b=n(249),w=a.isOptionKeyCommand,M=l.isBrowser("Chrome");t.exports=i},function(t,e,n){"use strict";var r=n(5),i=n(2),o=n(61),u=n(13),a=null,s={cut:function(t){var e=t.getCurrentContent(),n=t.getSelection(),s=null;if(n.isCollapsed()){var c=n.getAnchorKey(),l=e.getBlockForKey(c).getLength();if(l===n.getAnchorOffset())return t;s=n.set("focusOffset",l)}else s=n;s=u(s),a=o(e,s);var f=r.removeRange(e,s,"forward");return f===e?t:i.push(t,f,"remove-range")},paste:function(t){if(!a)return t;var e=r.replaceWithFragment(t.getCurrentContent(),t.getSelection(),a);return i.push(t,e,"insert-fragment")}};t.exports=s},function(t,e,n){"use strict";(function(e){function r(t){var n=s(t,function(t){var n=t.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return a(t,1);var r=e.getSelection(),i=r.getRangeAt(0);return i=o(i),u(t,null,i.endContainer,i.endOffset,i.startContainer,i.startOffset).selectionState},"backward");return n===t.getCurrentContent()?t:i.push(t,n,"remove-range")}var i=n(2),o=n(239),u=n(129),a=n(91),s=n(53);t.exports=r}).call(e,n(26))},function(t,e,n){"use strict";function r(t){var e=getComputedStyle(t),n=document.createElement("div");n.style.fontFamily=e.fontFamily,n.style.fontSize=e.fontSize,n.style.fontStyle=e.fontStyle,n.style.fontWeight=e.fontWeight,n.style.lineHeight=e.lineHeight,n.style.position="absolute",n.textContent="M";var r=document.body;r||c(!1),r.appendChild(n);var i=n.getBoundingClientRect();return r.removeChild(n),i.height}function i(t,e){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,u=0;u<t.length;u++){var a=t[u];0!==a.width&&1!==a.width&&(n=Math.min(n,a.top),r=Math.min(r,a.bottom),i=Math.max(i,a.top),o=Math.max(o,a.bottom))}return i<=r&&i-n<e&&o-r<e}function o(t){switch(t.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return t.length;default:return t.childNodes.length}}function u(t){t.collapsed||c(!1),t=t.cloneRange();var e=t.startContainer;1!==e.nodeType&&(e=e.parentNode);var n=r(e),u=t.endContainer,l=t.endOffset;for(t.setStart(t.startContainer,0);i(s(t),n)&&(u=t.startContainer,l=t.startOffset,u.parentNode||c(!1),t.setStartBefore(u),1!==u.nodeType||"inline"===getComputedStyle(u).display););for(var f=u,p=l-1;;){for(var h=f.nodeValue,d=p;d>=0;d--)if(!(null!=h&&d>0&&a.isSurrogatePair(h,d-1))){if(t.setStart(f,d),!i(s(t),n))break;u=f,l=d}if(-1===d||0===f.childNodes.length)break;f=f.childNodes[d],p=o(f)}return t.setStart(u,l),t}var a=n(39),s=n(128),c=n(1);t.exports=u},function(t,e,n){"use strict";function r(t){var e=a(t,function(t){var e=t.getSelection(),n=e.getStartOffset();if(0===n)return u(t,1);var r=e.getStartKey(),o=t.getCurrentContent(),a=o.getBlockForKey(r).getText().slice(0,n),s=i.getBackward(a);return u(t,s.length||1)},"backward");return e===t.getCurrentContent()?t:o.push(t,e,"remove-range")}var i=n(130),o=n(2),u=n(91),a=n(53);t.exports=r},function(t,e,n){"use strict";t.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]"}}},function(t,e,n){"use strict";function r(t){var e=a(t,function(t){var e=t.getSelection(),n=e.getStartOffset(),r=e.getStartKey(),o=t.getCurrentContent(),a=o.getBlockForKey(r).getText().slice(n),s=i.getForward(a);return u(t,s.length||1)},"forward");return e===t.getCurrentContent()?t:o.push(t,e,"remove-range")}var i=n(130),o=n(2),u=n(131),a=n(53);t.exports=r},function(t,e,n){"use strict";function r(t){var e=i.splitBlock(t.getCurrentContent(),t.getSelection());return o.push(t,e,"split-block")}var i=n(5),o=n(2);t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.getSelection(),n=e.getEndKey(),r=t.getCurrentContent(),o=r.getBlockForKey(n).getLength();return i.set(t,{selection:e.merge({anchorKey:n,anchorOffset:o,focusKey:n,focusOffset:o,isBackward:!1}),forceSelection:!0})}var i=n(2);t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.getSelection(),n=e.getStartKey();return i.set(t,{selection:e.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}var i=n(2);t.exports=r},function(t,e,n){"use strict";function r(t){var e=a(t,function(t){var e=t.getSelection(),n=t.getCurrentContent(),r=e.getAnchorKey(),i=e.getAnchorOffset(),a=n.getBlockForKey(r).getText()[i-1];return u(t,a?o.getUTF16Length(a,0):1)},"backward");if(e===t.getCurrentContent())return t;var n=t.getSelection();return i.push(t,e.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}var i=n(2),o=n(39),u=n(91),a=n(53);t.exports=r},function(t,e,n){"use strict";function r(t){var e=a(t,function(t){var e=t.getSelection(),n=t.getCurrentContent(),r=e.getAnchorKey(),i=e.getAnchorOffset(),a=n.getBlockForKey(r).getText()[i];return u(t,a?o.getUTF16Length(a,0):1)},"forward");if(e===t.getCurrentContent())return t;var n=t.getSelection();return i.push(t,e.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}var i=n(2),o=n(39),u=n(131),a=n(53);t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.getSelection();if(!e.isCollapsed())return t;var n=e.getAnchorOffset();if(0===n)return t;var r=e.getAnchorKey(),a=t.getCurrentContent(),s=a.getBlockForKey(r),c=s.getLength();if(c<=1)return t;var l,f;n===c?(l=e.set("anchorOffset",n-1),f=e):(l=e.set("focusOffset",n+1),f=l.set("anchorOffset",n+1));var p=u(a,l),h=i.removeRange(a,l,"backward"),d=h.getSelectionAfter(),y=d.getAnchorOffset()-1,g=d.merge({anchorOffset:y,focusOffset:y}),v=i.replaceWithFragment(h,g,p),_=o.push(t,v,"insert-fragment");return o.acceptSelection(_,f)}var i=n(5),o=n(2),u=n(61);t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r=i.undo(e);if("spellcheck-change"===e.getLastChangeType()){var o=r.getCurrentContent();return void n(i.set(r,{nativelyRenderedContent:o}))}if(t.preventDefault(),!e.getNativelyRenderedContent())return void n(r);n(i.set(e,{nativelyRenderedContent:null})),setTimeout(function(){n(r)},0)}var i=n(2);t.exports=r},function(t,e,n){"use strict";function r(t,e){e.preventDefault();var n=new s(e.clipboardData);if(!n.isRichText()){var r=n.getFiles(),v=n.getText();if(r.length>0){if(t.props.handlePastedFiles&&y(t.props.handlePastedFiles(r)))return;return void d(r,function(e){if(e=e||v){var n=t._latestEditorState,r=g(e),i=a.create({style:n.getCurrentInlineStyle(),entity:h(n.getCurrentContent(),n.getSelection())}),o=p.getCurrentBlockType(n),s=l.processText(r,i,o),d=u.createFromArray(s),y=c.replaceWithFragment(n.getCurrentContent(),n.getSelection(),d);t.update(f.push(n,y,"insert-fragment"))}})}}var _=[],m=n.getText(),S=n.getHTML(),b=t._latestEditorState;if(!t.props.handlePastedText||!y(t.props.handlePastedText(m,S,b))){if(m&&(_=g(m)),!t.props.stripPastedStyles){var w=t.getClipboard();if(n.isRichText()&&w){if(-1!==S.indexOf(t.getEditorKey())||1===_.length&&1===w.size&&w.first().getText()===m)return void t.update(i(t._latestEditorState,w))}else if(w&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&o(_,w))return void t.update(i(t._latestEditorState,w));if(S){var M=l.processHTML(S,t.props.blockRenderMap);if(M){var E=M.contentBlocks,x=M.entityMap;if(E){var I=u.createFromArray(E);return void t.update(i(t._latestEditorState,I,x))}}}t.setClipboard(null)}if(_.length){var k=a.create({style:b.getCurrentInlineStyle(),entity:h(b.getCurrentContent(),b.getSelection())}),L=p.getCurrentBlockType(b),T=l.processText(_,k,L),D=u.createFromArray(T);t.update(i(t._latestEditorState,D))}}}function i(t,e,n){var r=c.replaceWithFragment(t.getCurrentContent(),t.getSelection(),e);return f.push(t,r.set("entityMap",n),"insert-fragment")}function o(t,e){return t.length===e.size&&e.valueSeq().every(function(e,n){return e.getText()===t[n]})}var u=n(50),a=n(7),s=n(123),c=n(5),l=n(251),f=n(2),p=n(134),h=n(86),d=n(125),y=n(52),g=n(254);t.exports=r},function(t,e,n){"use strict";var r=n(9),i=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=(n(7),n(37)),u=n(10),a=n(31),s=n(0),c=n(132),l=n(25),f=n(133),p=n(83),h=s.List,d=s.Repeat,y=a.draft_tree_data_support,g=y?u:o,v={processHTML:function(t,e){return c(t,f,e)},processText:function(t,e,n){return t.reduce(function(t,r,o){r=p(r);var u=l(),a={key:u,type:n,text:r,characterList:h(d(e,r.length))};if(y&&0!==o){var s=o-1,c=t[s]=t[s].merge({nextSibling:u});a=i({},a,{prevSibling:c.getKey()})}return t.push(new g(a)),t},[])}};t.exports=v},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(e){r(this,t),this._uri=e}return t.prototype.toString=function(){return this._uri},t}();t.exports=i},function(t,e,n){"use strict";function r(t,e,n,r){var i=e.getStartKey(),o=e.getEndKey(),u=t.getBlockMap(),a=u.toSeq().skipUntil(function(t,e){return e===i}).takeUntil(function(t,e){return e===o}).concat([[o,u.get(o)]]).map(function(t){var e=t.getDepth()+n;return e=Math.max(0,Math.min(e,r)),t.set("depth",e)});return u=u.merge(a),t.merge({blockMap:u,selectionBefore:e,selectionAfter:e})}t.exports=r},function(t,e,n){"use strict";function r(t){return t.split(i)}var i=/\r\n?|\n/g;t.exports=r},function(t,e,n){"use strict";function r(t){if(!t._blockSelectEvents&&t._latestEditorState===t.props.editorState){var e=t.props.editorState,n=o.findDOMNode(t.editorContainer);n||a(!1),n.firstChild instanceof HTMLElement||a(!1);var r=u(e,n.firstChild),s=r.selectionState;s!==e.getSelection()&&(e=r.needsRecovery?i.forceSelection(e,s):i.acceptSelection(e,s),t.update(e))}}var i=n(2),o=n(38),u=n(256),a=n(1);t.exports=r},function(t,e,n){"use strict";(function(e){function r(t,n){var r=e.getSelection();return 0===r.rangeCount?{selectionState:t.getSelection().set("hasFocus",!1),needsRecovery:!1}:i(t,n,r.anchorNode,r.anchorOffset,r.focusNode,r.focusOffset)}var i=n(129);t.exports=r}).call(e,n(26))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=n(45),s=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.shouldComponentUpdate=function(t){return this.props.text!==t.text||this.props.editorState.getSelection().getHasFocus()!==t.editorState.getSelection().getHasFocus()},e.prototype.render=function(){var t=this.props.editorState.getSelection().getHasFocus(),e=a({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":t}),n={whiteSpace:"pre-wrap"};return u.createElement("div",{className:e},u.createElement("div",{className:a("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:n},this.props.text))},e}(u.Component);t.exports=s},function(t,e,n){"use strict";var r=n(9),i=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(37),u=n(10),a=n(135),s=n(259),c=n(260),l=n(1),f=function(t,e){return{key:t.getKey(),text:t.getText(),type:t.getType(),depth:t.getDepth(),inlineStyleRanges:c(t),entityRanges:s(t,e),data:t.getData().toObject()}},p=function(t,e,n,r){if(t instanceof o)return void n.push(f(t,e));t instanceof u||l(!1);var a=t.getParentKey(),s=r[t.getKey()]=i({},f(t,e),{children:[]});if(a)return void r[a].children.push(s);n.push(s)},h=function(t,e){var n=e.entityMap,r=[],i={},o={},u=0;return t.getBlockMap().forEach(function(t){t.findEntityRanges(function(t){return null!==t.getEntity()},function(e){var r=t.getEntityAt(e),i=a.stringify(r);o[i]||(o[i]=r,n[i]=""+u,u++)}),p(t,n,r,i)}),{blocks:r,entityMap:n}},d=function(t,e){var n=e.blocks,r=e.entityMap,i={};return Object.keys(r).forEach(function(e,n){var r=t.getEntity(a.unstringify(e));i[n]={type:r.getType(),mutability:r.getMutability(),data:r.getData()}}),{blocks:n,entityMap:i}},y=function(t){var e={entityMap:{},blocks:[]};return e=h(t,e),e=d(t,e)};t.exports=y},function(t,e,n){"use strict";function r(t,e){var n=[];return t.findEntityRanges(function(t){return!!t.getEntity()},function(r,o){var a=t.getText(),s=t.getEntityAt(r);n.push({offset:u(a.slice(0,r)),length:u(a.slice(r,o)),key:Number(e[i.stringify(s)])})}),n}var i=n(135),o=n(39),u=o.strlen;t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r=[],i=e.map(function(t){return t.has(n)}).toList();return u(i,a,s,function(e,i){var u=t.getText();r.push({offset:o.strlen(u.slice(0,e)),length:o.strlen(u.slice(e,i)),style:n})}),r}function i(t){var e=t.getCharacterList().map(function(t){return t.getStyle()}).toList(),n=e.flatten().toSet().map(function(n){return r(t,e,n)});return Array.prototype.concat.apply(c,n.toJS())}var o=n(39),u=n(51),a=function(t,e){return t===e},s=function(t){return!!t},c=[];t.exports=i},function(t,e,n){"use strict";var r=n(9),i=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(37),u=n(10),a=n(82),s=n(62),c=n(31),l=n(262),f=n(0),p=n(44),h=n(263),d=n(264),y=n(265),g=n(25),v=n(1),_=c.draft_tree_data_support,m=f.List,S=f.Map,b=f.OrderedMap,w=function(t,e){var n=t.key,r=t.type,i=t.data;return{text:t.text,depth:t.depth||0,type:r||"unstyled",key:n||g(),data:S(i),characterList:M(t,e)}},M=function(t,e){var n=t.text,r=t.entityRanges,o=t.inlineStyleRanges,u=r||[];return h(y(n,o||[]),d(n,u.filter(function(t){return e.hasOwnProperty(t.key)}).map(function(t){return i({},t,{key:e[t.key]})})))},E=function(t){return i({},t,{key:t.key||g()})},x=function(t,e,n){var r=e.map(function(t){return i({},t,{parentRef:n})});return t.concat(r.reverse())},I=function(t,e){return t.map(E).reduce(function(n,r,o){Array.isArray(r.children)||v(!1);var a=r.children.map(E),s=new u(i({},w(r,e),{prevSibling:0===o?null:t[o-1].key,nextSibling:o===t.length-1?null:t[o+1].key,children:m(a.map(function(t){return t.key}))}));n=n.set(s.getKey(),s);for(var c=x([],a,s);c.length>0;){var l=c.pop(),f=l.parentRef,p=f.getChildKeys(),h=p.indexOf(l.key),d=Array.isArray(l.children);if(!d){d||v(!1);break}var y=l.children.map(E),g=new u(i({},w(l,e),{parent:f.getKey(),children:m(y.map(function(t){return t.key})),prevSibling:0===h?null:p.get(h-1),nextSibling:h===p.size-1?null:p.get(h+1)}));n=n.set(g.getKey(),g),c=x(c,y,g)}return n},b())},k=function(t,e){return b(t.map(function(t){var n=new o(w(t,e));return[n.getKey(),n]}))},L=function(t,e){var n=Array.isArray(t.blocks[0].children),r=_&&!n?l.fromRawStateToRawTreeState(t).blocks:t.blocks;return _?I(r,e):k(n?l.fromRawTreeStateToRawState(t).blocks:r,e)},T=function(t){var e=t.entityMap,n={};return Object.keys(e).forEach(function(t){var r=e[t],i=r.type,o=r.mutability,u=r.data;n[t]=s.__create(i,o,u||{})}),n},D=function(t){Array.isArray(t.blocks)||v(!1);var e=T(t),n=L(t,e),r=n.isEmpty()?new p:p.createEmpty(n.first().getKey());return new a({blockMap:n,entityMap:e,selectionBefore:r,selectionAfter:r})};t.exports=D},function(t,e,n){"use strict";var r=n(9),i=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(1),u=function(t,e){for(var n=[].concat(t).reverse();n.length;){var r=n.pop();e(r);var i=r.children;Array.isArray(i)||o(!1),n=n.concat([].concat(i.reverse()))}},a=function(t){if(!t||!t.type)return!1;var e=t.type;return"unordered-list-item"===e||"ordered-list-item"===e},s=function(t){Array.isArray(t.children)&&(t.children=t.children.map(function(e){return e.type===t.type?i({},e,{depth:(t.depth||0)+1}):e}))},c={fromRawTreeStateToRawState:function(t){var e=t.blocks,n=[];return Array.isArray(e)||o(!1),Array.isArray(e)&&e.length?(u(e,function(t){var e=i({},t);a(t)&&(e.depth=e.depth||0,s(t)),delete e.children,n.push(e)}),t.blocks=n,i({},t,{blocks:n})):t},fromRawStateToRawTreeState:function(t){var e={},n=[];return t.blocks.forEach(function(t){var r=a(t),u=t.depth||0,s=i({},t,{children:[]});if(!r)return e={},void n.push(s);if(e[u]=s,u>0){var c=e[u-1];return c||o(!1),void c.children.push(s)}n.push(s)}),i({},t,{blocks:n})}};t.exports=c},function(t,e,n){"use strict";function r(t,e){var n=t.map(function(t,n){var r=e[n];return i.create({style:t,entity:r})});return u(n)}var i=n(7),o=n(0),u=o.List;t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=Array(t.length).fill(null);return e&&e.forEach(function(e){for(var r=o(t,0,e.offset).length,i=r+o(t,e.offset,e.length).length,u=r;u<i;u++)n[u]=e.key}),n}var i=n(39),o=i.substr;t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=Array(t.length).fill(s);return e&&e.forEach(function(e){for(var r=a(t,0,e.offset).length,i=r+a(t,e.offset,e.length).length;r<i;)n[r]=n[r].add(e.style),r++}),n}var i=n(0),o=i.OrderedSet,u=n(39),a=u.substr,s=o();t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.getSelection();if(!e.rangeCount)return null;var n=e.getRangeAt(0),r=i(n),o=r.top,u=r.right,a=r.bottom,s=r.left;return 0===o&&0===u&&0===a&&0===s?null:r}var i=n(267);t.exports=r},function(t,e,n){"use strict";function r(t){var e=i(t),n=0,r=0,o=0,u=0;if(e.length){if(e.length>1&&0===e[0].width){var a=e[1];n=a.top,r=a.right,o=a.bottom,u=a.left}else{var s=e[0];n=s.top,r=s.right,o=s.bottom,u=s.left}for(var c=1;c<e.length;c++){var l=e[c];0!==l.height&&0!==l.width&&(n=Math.min(n,l.top),r=Math.max(r,l.right),o=Math.max(o,l.bottom),u=Math.min(u,l.left))}}return{top:n,right:r,bottom:o,left:u,width:r-u,height:o-n}}var i=n(128);t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.BLOCK_TYPE={UNSTYLED:"unstyled",HEADER_ONE:"header-one",HEADER_TWO:"header-two",HEADER_THREE:"header-three",HEADER_FOUR:"header-four",HEADER_FIVE:"header-five",HEADER_SIX:"header-six",UNORDERED_LIST_ITEM:"unordered-list-item",ORDERED_LIST_ITEM:"ordered-list-item",BLOCKQUOTE:"blockquote",PULLQUOTE:"pullquote",CODE:"code-block",ATOMIC:"atomic"},i=e.ENTITY_TYPE={LINK:"LINK",IMAGE:"IMAGE"},o=e.INLINE_STYLE={BOLD:"BOLD",CODE:"CODE",ITALIC:"ITALIC",STRIKETHROUGH:"STRIKETHROUGH",UNDERLINE:"UNDERLINE"};e.default={BLOCK_TYPE:r,ENTITY_TYPE:i,INLINE_STYLE:o}},function(t,e,n){"use strict";function r(t,e){for(var n=null,r=null,o=[],u=0,a=0,s=t.length;a<s;a++){r=n;var c=e.get(a);n=c?c.getEntity():null,a>0&&n!==r&&(o.push([r,i(t.slice(u,a),e.slice(u,a))]),u=a)}return o.push([n,i(t.slice(u),e.slice(u))]),o}function i(t,e){for(var n=u,r=u,i=[],a=0,s=0,c=t.length;s<c;s++){r=n;var l=e.get(s);n=l?l.getStyle():u,s>0&&!(0,o.is)(n,r)&&(i.push([t.slice(a,s),r]),a=s)}return i.push([t.slice(a),n]),i}Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_SET=void 0,e.default=r;var o=n(93),u=e.EMPTY_SET=new o.OrderedSet},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(94),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t){return function(e,n){var r=e.getCurrentContent(),o=n||e.getSelection(),u=o.getStartKey(),a=o.getEndKey(),s=o.getStartOffset(),c=o.getEndOffset(),l=u===a,f=(0,i.default)(r,u,a),p=!1,h=s+1,d=c-1;return f.forEach(function(e){t(e,function(t,n){if(!p){var r=e.getKey();l&&(n<h||t>d)||r===u&&n<h||r===a&&t>d||(p=!0)}},r)}),p}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),i=n(94),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),u=2;u<n;u++)i[u-2]=arguments[u];var a=t.getCurrentContent(),s=t.getSelection(),c=s.getStartKey(),l=s.getEndKey(),f=s.getStartOffset(),p=s.getEndOffset(),h=c===l,d=(0,o.default)(a,c,l),y=t;return d.forEach(function(t){var n=t.getKey(),o=f,u=p;n===c?(o=f,u=h?p:t.getText().length):n===l?(o=h?f:0,u=p):(o=0,u=t.getText().length);var a=new r.SelectionState({anchorKey:n,anchorOffset:o,focusKey:n,focusOffset:u});y=e.apply(void 0,[y,a].concat(i))}),r.EditorState.forceSelection(y,s)}},function(t,e,n){"use strict";function r(t){return t.which===i.RETURN&&(t.getModifierState("Shift")||t.getModifierState("Alt")||t.getModifierState("Control"))}var i=n(63);t.exports=r},function(t,e,n){n(49),n(274),t.exports=n(4).Array.from},function(t,e,n){"use strict";var r=n(34),i=n(8),o=n(41),u=n(137),a=n(138),s=n(54),c=n(275),l=n(95);i(i.S+i.F*!n(276)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,f,p=o(t),h="function"==typeof this?this:Array,d=arguments.length,y=d>1?arguments[1]:void 0,g=void 0!==y,v=0,_=l(p);if(g&&(y=r(y,d>2?arguments[2]:void 0,2)),void 0==_||h==Array&&a(_))for(e=s(p.length),n=new h(e);e>v;v++)c(n,v,g?y(p[v],v):p[v]);else for(f=_.call(p),n=new h;!(i=f.next()).done;v++)c(n,v,g?u(f,y,[i.value,v],!0):i.value);return n.length=v,n}})},function(t,e,n){"use strict";var r=n(11),i=n(46);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(6)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],u=o[r]();u.next=function(){return{done:n=!0}},o[r]=function(){return u},t(o)}catch(t){}return n}},function(t,e,n){t.exports={default:n(278),__esModule:!0}},function(t,e,n){n(110),n(49),n(60),n(279),n(286),n(289),n(291),t.exports=n(4).Map},function(t,e,n){"use strict";var r=n(280),i=n(141);t.exports=n(282)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(11).f,i=n(58),o=n(139),u=n(34),a=n(140),s=n(66),c=n(77),l=n(106),f=n(281),p=n(15),h=n(79).fastKey,d=n(141),y=p?"_s":"size",g=function(t,e){var n,r=h(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t(function(t,r){a(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[y]=0,void 0!=r&&s(r,n,t[c],t)});return o(l.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[y]=0},delete:function(t){var n=d(this,e),r=g(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[y]--}return!!r},forEach:function(t){d(this,e);for(var n,r=u(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(d(this,e),t)}}),p&&r(l.prototype,"size",{get:function(){return d(this,e)[y]}}),l},def:function(t,e,n){var r,i,o=g(t,e);return o?o.v=n:(t._l=o={i:i=h(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[y]++,"F"!==i&&(t._i[i]=o)),t},getEntry:g,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?l(0,n.k):"values"==e?l(0,n.v):l(0,[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var r=n(14),i=n(4),o=n(11),u=n(15),a=n(6)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];u&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(14),i=n(8),o=n(79),u=n(35),a=n(29),s=n(139),c=n(66),l=n(140),f=n(21),p=n(59),h=n(11).f,d=n(283)(0),y=n(15);t.exports=function(t,e,n,g,v,_){var m=r[t],S=m,b=v?"set":"add",w=S&&S.prototype,M={};return y&&"function"==typeof S&&(_||w.forEach&&!u(function(){(new S).entries().next()}))?(S=e(function(e,n){l(e,S,t,"_c"),e._c=new m,void 0!=n&&c(n,v,e[b],e)}),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in w&&(!_||"clear"!=t)&&a(S.prototype,t,function(n,r){if(l(this,S,t),!e&&_&&!f(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,r);return e?this:i})}),_||h(S.prototype,"size",{get:function(){return this._c.size}})):(S=g.getConstructor(e,t,v,b),s(S.prototype,n),o.NEED=!0),p(S,t),M[t]=S,i(i.G+i.W+i.F,M),_||g.setStrong(S,t,v),S}},function(t,e,n){var r=n(34),i=n(68),o=n(41),u=n(54),a=n(284);t.exports=function(t,e){var n=1==t,s=2==t,c=3==t,l=4==t,f=6==t,p=5==t||f,h=e||a;return function(e,a,d){for(var y,g,v=o(e),_=i(v),m=r(a,d,3),S=u(_.length),b=0,w=n?h(e,S):s?h(e,0):void 0;S>b;b++)if((p||b in _)&&(y=_[b],g=m(y,b,v),t))if(n)w[b]=g;else if(g)switch(t){case 3:return!0;case 5:return y;case 6:return b;case 2:w.push(y)}else if(l)return!1;return f?-1:c||l?l:w}}},function(t,e,n){var r=n(285);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(21),i=n(107),o=n(6)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(8);r(r.P+r.R,"Map",{toJSON:n(287)("Map")})},function(t,e,n){var r=n(96),i=n(288);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(66);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){n(290)("Map")},function(t,e,n){"use strict";var r=n(8);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){n(292)("Map")},function(t,e,n){"use strict";var r=n(8),i=n(98),o=n(34),u=n(66);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,a,s=arguments[1];return i(this),e=void 0!==s,e&&i(s),void 0==t?new this:(n=[],e?(r=0,a=o(s,arguments[2],2),u(t,!1,function(t){n.push(a(t,r++))})):u(t,!1,n.push,n),new this(n))}})}},function(t,e,n){var r=n(294);"string"==typeof r&&(r=[[t.i,r,""]]);var i={sourceMap:!0};i.transform=void 0,n(20)(r,i),r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(28)(!1),e.push([t.i,".Button__root___1gz0c{display:inline-block;margin:0 5px 0 0;padding:3px 8px;height:30px;line-height:22px;box-sizing:border-box;background:none #fdfdfd;background:linear-gradient(180deg,#fdfdfd 0,#f6f7f8);border:1px solid #999;border-radius:2px;color:#333;text-decoration:none;font-size:inherit;font-family:inherit;cursor:pointer;white-space:nowrap}.Button__root___1gz0c:disabled{cursor:not-allowed;background:none transparent}.Button__root___1gz0c:disabled>*{opacity:.5}",""]),e.locals={root:"Button__root___1gz0c"}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return t;var o;return o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(t,e,n){var r=n(297);"string"==typeof r&&(r=[[t.i,r,""]]);var i={sourceMap:!0};i.transform=void 0,n(20)(r,i),r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(28)(!1),e.push([t.i,".ButtonWrap__root___1EO_R{display:inline-block;position:relative;z-index:10}",""]),e.locals={root:"ButtonWrap__root___1EO_R"}},function(t,e,n){var r=n(299);"string"==typeof r&&(r=[[t.i,r,""]]);var i={sourceMap:!0};i.transform=void 0,n(20)(r,i),r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(28)(!1),e.push([t.i,'.IconButton__root___3tqZW{padding-left:3px;padding-right:3px}.IconButton__icon___3YgOS{display:inline-block;width:22px;height:22px;background-position:50%;background-repeat:no-repeat;background-size:18px}.IconButton__isActive___2Ey8p{background:none #d8d8d8}.IconButton__icon-undo___EQSRP{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTcuODU2IDI0YzIuNjY1LTQuODMgMy4xMTUtMTIuMTk1LTcuMzU2LTExLjk1VjE4bC05LTkgOS05djUuODJDMjMuMDM4IDUuNDk1IDI0LjQzNSAxNi44OSAxNy44NTYgMjR6Ii8+PC9zdmc+");background-size:14px}.IconButton__icon-redo___30MVz{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTMuNSA1LjgyVjBsOSA5LTkgOXYtNS45NUMzLjAzIDExLjgwNiAzLjQ3OCAxOS4xNyA2LjE0NCAyNC0uNDM2IDE2Ljg5Ljk2MiA1LjQ5NCAxMy41IDUuODJ6Ii8+PC9zdmc+");background-size:14px}.IconButton__icon-unordered-list-item___Pvkrr{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBkPSJNNC42NTYgMy4zNDRIMTR2MS4zMTNINC42NTZWMy4zNDR6bTAgNS4zMTJWNy4zNDNIMTR2MS4zMTNINC42NTZ6bTAgNHYtMS4zMTNIMTR2MS4zMTNINC42NTZ6bS0yLTEuNTNxLjM3NSAwIC42NC4yNXQuMjY3LjYyNC0uMjY2LjYyNS0uNjQuMjUtLjYyNi0uMjVUMS43OCAxMnQuMjUtLjYyNS42MjYtLjI1em0wLTguMTI2cS40MDYgMCAuNzAzLjI4dC4yOTYuNzItLjI5Ny43Mi0uNzA0LjI4LS43MDMtLjI4VDEuNjU2IDR0LjI5Ny0uNzIuNzAzLS4yOHptMCA0cS40MDYgMCAuNzAzLjI4dC4yOTYuNzItLjI5Ny43Mi0uNzA0LjI4LS43MDMtLjI4VDEuNjU2IDh0LjI5Ny0uNzIuNzAzLS4yOHoiLz48L3N2Zz4=")}.IconButton__icon-ordered-list-item___2rzD0{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBkPSJNNC42NTYgOC42NTZWNy4zNDNIMTR2MS4zMTNINC42NTZ6bTAgNHYtMS4zMTNIMTR2MS4zMTNINC42NTZ6bTAtOS4zMTJIMTR2MS4zMTNINC42NTZWMy4zNDR6bS0zLjMxMiA0di0uNjg4aDJ2LjYyNWwtMS4yMiAxLjM3NmgxLjIydi42ODhoLTJWOC43MmwxLjE4OC0xLjM3NkgxLjM0NHptLjY1Ni0ydi0yaC0uNjU2di0uNjg4aDEuMzEzdjIuNjg4SDJ6bS0uNjU2IDZ2LS42ODhoMnYyLjY4OGgtMnYtLjY4OGgxLjMxM3YtLjMxM0gydi0uNjg4aC42NTd2LS4zMTNIMS4zNDR6Ii8+PC9zdmc+")}.IconButton__icon-blockquote___17VSX{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBkPSJNOS4zNDQgMTEuMzQ0bDEuMzEzLTIuNjg4aC0ydi00aDR2NGwtMS4zMTMgMi42ODhoLTJ6bS01LjM0NCAwbDEuMzQ0LTIuNjg4aC0ydi00aDR2NEw2IDExLjM0NEg0eiIvPjwvc3ZnPg==")}.IconButton__icon-bold___2zl9t{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBkPSJNOSAxMC4zNDRxLjQzOCAwIC43Mi0uMjk3dC4yOC0uNzAzLS4yOC0uNzAzVDkgOC4zNDVINi42NTZ2Mkg5em0tMi4zNDQtNnYyaDJxLjQwNiAwIC43MDMtLjI5N3QuMjk2LS43MDMtLjI5Ny0uNzAzLS43MDQtLjI5NmgtMnptMy43NSAyLjg0NHExLjQzOC42NTYgMS40MzggMi4yOCAwIDEuMDY0LS43MDMgMS43OThUOS4zNzYgMTJoLTQuNzJWMi42NTZoNC4xOXExLjEyNCAwIDEuODkuNzh0Ljc2NiAxLjkwNy0xLjA5MyAxLjg0NHoiLz48L3N2Zz4=")}.IconButton__icon-italic___2hHzc{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBkPSJNNi42NTYgMi42NTZIMTJ2MmgtMS44NzVMNy44NzUgMTBoMS40N3YySDR2LTJoMS44NzVsMi4yNS01LjM0NGgtMS40N3YtMnoiLz48L3N2Zz4=")}.IconButton__icon-underline___2EmZJ{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBkPSJNMy4zNDQgMTIuNjU2aDkuMzEzVjE0SDMuMzQ0di0xLjM0NHpNOCAxMS4zNDRxLTEuNjU2IDAtMi44MjgtMS4xNzJUNCA3LjM0NFYyaDEuNjU2djUuMzQ0cTAgLjk3LjY4OCAxLjY0VDggOS42NTh0MS42NTYtLjY3Mi42ODgtMS42NFYySDEydjUuMzQ0UTEyIDkgMTAuODI4IDEwLjE3MlQ4IDExLjM0NHoiLz48L3N2Zz4=")}.IconButton__icon-strikethrough___QtE2X{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNTcgMTJxLjE5IDAgLjMxLjEydC4xMi4zMXYuODU2cTAgLjE4OC0uMTIuMzA4dC0uMzEuMTJILjQzcS0uMTg4IDAtLjMwOC0uMTJUMCAxMy4yODZ2LS44NTdxMC0uMTkuMTItLjMxVC40MjggMTJIMjMuNTd6bS0xNy4xLS44NTdxLS4zNzYtLjQ3LS42ODQtMS4wNy0uNjQzLTEuMy0uNjQzLTIuNTIgMC0yLjQyMyAxLjc5NS00LjEzNyAxLjc4LTEuNyA1LjI2My0xLjcuNjcgMCAyLjIzOC4yNTMuODg0LjE2IDIuMzcuNjQyLjEzNS41MS4yODIgMS41OC4xODggMS42NDcuMTg4IDIuNDUgMCAuMjQyLS4wNjcuNjA0bC0uMTYuMDQtMS4xMjUtLjA4LS4xODgtLjAyN3EtLjY3LTEuOTk3LTEuMzgtMi43NDctMS4xNzgtMS4yMi0yLjgxMi0xLjIyLTEuNTI3IDAtMi40MzguNzktLjg5Ny43NzgtLjg5NyAxLjk1NiAwIC45NzcuODg0IDEuODc0dDMuNzM3IDEuNzI4cS45MjUuMjY4IDIuMzE4Ljg4NC43NzcuMzc1IDEuMjcyLjY5Nkg2LjQ3em02Ljc5IDMuNDI4aDUuNTAzcS4wOTQuNTIzLjA5NCAxLjIzMyAwIDEuNDg3LS41NSAyLjg0LS4zMDcuNzM2LS45NSAxLjM5Mi0uNDk2LjQ3LTEuNDYgMS4wODUtMS4wNy42NDMtMi4wNS44ODQtMS4wNy4yOC0yLjcxOC4yOC0xLjUyOCAwLTIuNjEzLS4zMDdsLTEuODc1LS41MzZxLS43NjMtLjIxMy0uOTY0LS4zNzQtLjEwNy0uMTA3LS4xMDctLjI5NXYtLjE3M3EwLTEuNDQ2LS4wMjYtMi4wOS0uMDEzLS40IDAtLjkxbC4wMjctLjQ5NnYtLjU4OGwxLjM2Ny0uMDI3cS4yLjQ1NS40MDIuOTV0LjMuNzUuMTY3LjM2M3EuNDcuNzYzIDEuMDcgMS4yNi41NzcuNDggMS40MDcuNzYyLjc5LjI5NSAxLjc2OC4yOTUuODU3IDAgMS44NjItLjM2MiAxLjAzLS4zNDggMS42MzQtMS4xNTIuNjMtLjgxNi42My0xLjcyNyAwLTEuMTI1LTEuMDg2LTIuMTAzLS40NTUtLjM4OC0xLjgzNS0uOTV6Ii8+PC9zdmc+");background-size:14px}.IconButton__icon-code___3F1pe{background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTE2IDExNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEuNDE0Ij48ZyBmaWxsLXJ1bGU9Im5vbnplcm8iPjxwYXRoIGQ9Ik0yMi40NjQgMjguNDhjMCAyLjg5NS4zNDQgNS45MDUuODA2IDkuMDIuMzQyIDMuMDEuNjkgNi4wMi42OSA4LjkxNyAwIDMuNTYyLS45MTcgNy43OS04Ljk1NSA3LjkxMnY3LjIzNmM4LjAzNi4xMTUgOC45NTYgNC42NzIgOC45NTYgNy45MTIgMCAyLjg4Ni0uMzQ4IDUuNzgzLS42OSA4Ljc4Ny0uNDYyIDMuMDEzLS44MDYgNi4xMzQtLjgwNiA4LjkyIDAgMTEuMjM4IDcuMTA2IDE1LjI1MiAxNy4wODcgMTUuMjUyaDMuMzJ2LTcuOTEyaC0yLjA2MmMtNS43MjYgMC04LjAyNS0zLjIzMy04LjAyNS04Ljc5NiAwLTIuMjM2LjM0NC00LjU3LjgwNi03LjAyMy4yMjctMi40MzguNjg0LTUuMTIuNjg0LTguMTIuMTE1LTcuNzkyLTMuMzItMTEuMjUzLTkuMTc0LTEyLjU4NnYtLjIyNWM1Ljg1NC0xLjMzMiA5LjI5My00LjY3NiA5LjE3LTEyLjQ3IDAtMi44OTUtLjQ1Ny01LjU2NS0uNjg0LTguMDI0LS40NjItMi40NC0uODA3LTQuNzc3LS44MDctNy4wMTIgMC01LjQ1IDIuMDU4LTguNjg4IDguMDI0LTguNjg4aDIuMDY2di04LjAxNGgtMy4zMmMtMTAuMjA1LS4wMDMtMTcuMDg2IDQuNDQ0LTE3LjA4NiAxNC45MTV6TTkyLjA2IDQ2LjQxN2MwLTIuODkzLjQ1My01LjkwMy44MDMtOC45MTguMzQzLTMuMTE0Ljc5Ny02LjEyLjc5Ny05LjAyIDAtMTAuNDctNi44NzUtMTQuOTE3LTE3LjA4LTE0LjkxN2gtMy4zMjd2OC4wMTdoMi4wNmM1Ljg1Mi4xMTQgNy45MSAzLjIzMyA3LjkxIDguNjg4IDAgMi4yMy0uMzQyIDQuNTY1LS42ODUgNy4wMTItLjM1IDIuNDU1LS42OTIgNS4xMjYtLjY5MiA4LjAyNC0uMTA1IDcuNzk3IDMuMzI3IDExLjEzNiA5LjA1NiAxMi40N3YuMjIyYy01LjcyIDEuMzMzLTkuMTYgNC43OTYtOS4wNTYgMTIuNTg3IDAgMyAuMzQyIDUuNjg2LjY5MiA4LjEyLjM0MyAyLjQ1NS42ODYgNC43OS42ODYgNy4wMjUgMCA1LjU1NC0yLjE4IDguNjgtNy45MTIgOC43ODhoLTIuMDZ2Ny45MTJoMy4zMjVjOS45NzUgMCAxNy4wNzYtNC4wMSAxNy4wNzYtMTUuMjUgMC0yLjc4My0uNDU0LTUuOS0uNzk2LTguOTE0LS4zNDctMy4wMS0uODA1LTUuOS0uODA1LTguNzk1IDAtMy4yMzMgMS4wMzUtNy43OSA4Ljk0My03LjkxM1Y1NC4zMmMtNy45MDQtLjExMi04LjkzNS00LjM0LTguOTM1LTcuOTAzeiIvPjwvZz48L3N2Zz4=")}.IconButton__icon-link___2umEl{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDIyIDI0Ij48cGF0aCBkPSJNMTkuNSAxNi4yODZxMC0uNTM2LS4zNzUtLjkxbC0yLjc4Ni0yLjc4N3EtLjM3Ni0uMzc2LS45MTItLjM3Ni0uNTYzIDAtLjk2NC40M2wuMjU0LjI0N3EuMjE0LjIwOC4yODguMjl0LjIuMjUzLjE3NS4zNDIuMDQ4LjM2OHEwIC41MzYtLjM3NS45MXQtLjkxLjM3NnEtLjIwMiAwLS4zNy0uMDQ4dC0uMzQtLjE3NC0uMjU1LS4yLS4yODgtLjI5LS4yNDgtLjI1M3EtLjQ0Mi40MTUtLjQ0Mi45NzggMCAuNTM2LjM3NS45MWwyLjc2IDIuNzczcS4zNi4zNjIuOTEuMzYyLjUzNiAwIC45MS0uMzQ4bDEuOTctMS45NTVxLjM3NS0uMzc1LjM3NS0uODk3em0tOS40MTUtOS40NDJxMC0uNTM2LS4zNzUtLjkxTDYuOTUgMy4xNnEtLjM3NC0uMzc0LS45MS0uMzc0LS41MjIgMC0uOTEuMzYyTDMuMTYgNS4xMDNxLS4zNzUuMzc1LS4zNzUuODk3IDAgLjUzNi4zNzUuOTFsMi43ODYgMi43ODdxLjM2Mi4zNjIuOTEuMzYyLjU2NCAwIC45NjUtLjQxNmwtLjI1My0uMjQ4cS0uMjEzLS4yMDgtLjI4OC0uMjg4dC0uMjAyLS4yNTQtLjE3NC0uMzQyLS4wNDctLjM2OHEwLS41MzYuMzc1LS45MXQuOTEtLjM3NnEuMjAyIDAgLjM3LjA0N3QuMzQuMTc0LjI1NS4yLjI4OC4yODguMjQ4LjI1NHEuNDQyLS40MTUuNDQyLS45Nzh6bTExLjk4NiA5LjQ0MnEwIDEuNjA3LTEuMTM3IDIuNzJsLTEuOTcgMS45NTRxLTEuMTEgMS4xMTItMi43MTggMS4xMTItMS42MiAwLTIuNzMyLTEuMTM4bC0yLjc2LTIuNzcycS0xLjExLTEuMTEyLTEuMTEtMi43MiAwLTEuNjQ2IDEuMTc4LTIuNzk4bC0xLjE3OC0xLjE4cS0xLjE1MiAxLjE4LTIuNzg2IDEuMTgtMS42MDcgMC0yLjczMi0xLjEyNUwxLjMzOCA4LjczMlEuMjEzIDcuNjA4LjIxMyA2VDEuMzUgMy4yODNsMS45Ny0xLjk1NVE0LjQzMi4yMTUgNi4wNC4yMTVxMS42MiAwIDIuNzMgMS4xMzhsMi43NiAyLjc3MnExLjExMiAxLjExMiAxLjExMiAyLjcyIDAgMS42NDYtMS4xOCAyLjc5OGwxLjE4IDEuMThxMS4xNTItMS4xOCAyLjc4Ni0xLjE4IDEuNjA3IDAgMi43MzIgMS4xMjVsMi43ODYgMi43ODZxMS4xMjUgMS4xMjUgMS4xMjUgMi43MzJ6Ii8+PC9zdmc+");background-size:14px}.IconButton__icon-remove-link___j61pw{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDIyIDI0Ij48cGF0aCBkPSJNNS44OCAxNy4wMjJsLTMuNDMgMy40M3EtLjEzNC4xMi0uMzA4LjEyLS4xNiAwLS4zMDgtLjEyLS4xMi0uMTM1LS4xMi0uMzF0LjEyLS4zMDdsMy40My0zLjQzcS4xMzMtLjEyLjMwNy0uMTJ0LjMxLjEycS4xMi4xMzUuMTIuMzF0LS4xMi4zMDd6bTIuMjYzLjU1djQuMjg1cTAgLjE4OC0uMTIuMzA4dC0uMzEuMTItLjMwNy0uMTItLjEyLS4zMDhWMTcuNTdxMC0uMTg3LjEyLS4zMDd0LjMwOC0uMTIuMzA4LjEyLjEyLjMwOHptLTMtM3EwIC4xODctLjEyLjMwN3QtLjMxLjEySC40M3EtLjE4OCAwLS4zMDgtLjEyVDAgMTQuNTd0LjEyLS4zMDcuMzA4LS4xMmg0LjI4NnEuMTg4IDAgLjMwOC4xMnQuMTIuMzA4em0xNi45MjggMS43MTRxMCAxLjYwNy0xLjEzNyAyLjcybC0xLjk3IDEuOTU0cS0xLjExIDEuMTEyLTIuNzE4IDEuMTEyLTEuNjIgMC0yLjczMi0xLjEzOEw5LjA0IDE2LjQ0N3EtLjI4LS4yOC0uNTYzLS43NWwzLjItLjI0IDMuNjU3IDMuNjdxLjM2Mi4zNi45MS4zNjd0LjkxMi0uMzU1bDEuOTctMS45NTZxLjM3NC0uMzc1LjM3NC0uODk3IDAtLjUzNi0uMzc1LS45MWwtMy42Ny0zLjY4NC4yNC0zLjJxLjQ3LjI4Ljc1LjU2Mmw0LjUgNC41cTEuMTI2IDEuMTUyIDEuMTI2IDIuNzMyek0xMy44MSA2LjU5bC0zLjIuMjRMNi45NSAzLjE2cS0uMzc0LS4zNzUtLjkxLS4zNzUtLjUyMiAwLS45MS4zNjJMMy4xNiA1LjEwMnEtLjM3NS4zNzUtLjM3NS44OTcgMCAuNTM1LjM3NS45MWwzLjY3IDMuNjctLjI0IDMuMjE0cS0uNDctLjI4LS43NS0uNTYzbC00LjUtNC41US4yMTMgNy41OC4yMTMgNnEwLTEuNjA4IDEuMTM4LTIuNzJsMS45Ny0xLjk1NVE0LjQzLjIxMyA2LjA0LjIxM3ExLjYyIDAgMi43MzIgMS4xMzhsNC40NzMgNC40ODhxLjI4LjI4LjU2My43NXptOC40NzggMS4xMjRxMCAuMTg4LS4xMi4zMDh0LS4zMS4xMmgtNC4yODVxLS4xODcgMC0uMzA3LS4xMnQtLjEyLS4zMDguMTItLjMwOC4zMDgtLjEyaDQuMjg3cS4xODggMCAuMzA4LjEydC4xMi4zMDh6TTE1IC40M3Y0LjI4NXEwIC4xODgtLjEyLjMwOHQtLjMxLjEyLS4zMDctLjEyLS4xMi0uMzA4Vi40M3EwLS4xOS4xMi0uMzFUMTQuNTcgMHQuMzEuMTIuMTIuMzF6bTUuNDUgMi4wMmwtMy40MjggMy40M3EtLjE0Ny4xMi0uMzA4LjEydC0uMzA4LS4xMnEtLjEyLS4xMzQtLjEyLS4zMDh0LjEyLS4zMDhsMy40My0zLjQzcS4xMzMtLjEyLjMwNy0uMTJ0LjMwOC4xMnEuMTIyLjEzNS4xMjIuMzF0LS4xMi4zMDd6Ii8+PC9zdmc+");background-size:14px}.IconButton__icon-image___1gW7U{background-image:url("data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4IiB2aWV3Qm94PSIwIDAgNTMzLjMzMyA1MzMuMzM0IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MzMuMzMzIDUzMy4zMzQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8cGF0aCBkPSJNNDY2LjY2NywxMDBoLTQwMHYzMzMuMzMzaDQwMFYxMDB6IE01MzMuMzMzLDMzLjMzM0w1MzMuMzMzLDMzLjMzM1Y1MDBIMFYzMy4zMzNINTMzLjMzM3ogTTQzMy4zMzMsNDAwSDEwMHYtNjYuNjY3ICAgbDEwMC0xNjYuNjY3bDEzNi45NzksMTY2LjY2N2w5Ni4zNTQtNjYuNjY2VjMwMFY0MDB6IE0zMzMuMzMzLDE4My4zMzNjMCwyNy42MTQsMjIuMzg2LDUwLDUwLDUwczUwLTIyLjM4Niw1MC01MHMtMjIuMzg2LTUwLTUwLTUwICAgUzMzMy4zMzMsMTU1LjcxOSwzMzMuMzMzLDE4My4zMzN6IiBmaWxsPSIjMDAwMDAwIi8+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg==");background-size:14px}.IconButton__icon-cancel___fx4TT{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNzggMTkuMjhMMTYuNSAxMmw3LjI4LTcuMjhhLjc0OC43NDggMCAwIDAgMC0xLjA2TDIwLjM0LjIxOGEuNzUuNzUgMCAwIDAtMS4wNi0uMDAyTDEyIDcuNDk4IDQuNzE3LjIyYS43NDguNzQ4IDAgMCAwLTEuMDYgMEwuMjE3IDMuNjZhLjc1Ljc1IDAgMCAwIDAgMS4wNkw3LjQ5NyAxMmwtNy4yOCA3LjI4YS43NDguNzQ4IDAgMCAwIDAgMS4wNmwzLjQ0IDMuNDRhLjc1Ljc1IDAgMCAwIDEuMDYuMDAybDcuMjgtNy4yOCA3LjI4MiA3LjI4Yy4wNzguMDc4LjE3LjEzNS4yNjguMTcuMjY3LjEuNTguMDQ0Ljc5My0uMTdsMy40NC0zLjQ0YS43NS43NSAwIDAgMCAwLTEuMDZ6Ii8+PC9zdmc+");background-size:13px}.IconButton__icon-accept___2D6M9{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjAuMjUgM0w5IDE0LjI1IDMuNzUgOSAwIDEyLjc1bDkgOSAxNS0xNXoiLz48L3N2Zz4=");background-size:13px}.IconButton__icon-align_left___1S9rt{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KPHBhdGggZD0iTTkuOSwxMGgtOFY4LjdoOFYxMHogTTkuOSwzLjNoLTh2MS4zaDhWMy4zeiBNMS44LDEyLjdoMTIuM3YtMS4zSDEuOFYxMi43eiBNMS44LDZ2MS4zaDEyLjNWNkgxLjh6Ii8+Cjwvc3ZnPgo=")}.IconButton__icon-align_center___KBWGR{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KPHBhdGggZD0iTTEyLDQuN0g0VjMuM2g4VjQuN3ogTTEyLDguN0g0VjEwaDhWOC43eiBNMS44LDZ2MS4zaDEyLjNWNkgxLjh6IE0xLjgsMTIuN2gxMi4zdi0xLjNIMS44VjEyLjd6Ii8+Cjwvc3ZnPgo=")}.IconButton__icon-align_right___1bWGZ{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KPHBhdGggZD0iTTEuOCwxMS4zaDEyLjN2MS4zSDEuOFYxMS4zeiBNMTQuMiwzLjNoLTh2MS4zaDhWMy4zeiBNNi4xLDguN1YxMGg4VjguN0g2LjF6IE0xLjgsNnYxLjNoMTIuM1Y2SDEuOHoiLz4KPC9zdmc+Cg==")}.IconButton__icon-align_justify___3eBV5{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KPHBhdGggZD0iTTEuOCw4LjdoMTIuM1YxMEgxLjhWOC43eiBNMS44LDEyLjdoMTIuM3YtMS4zSDEuOFYxMi43eiBNMS44LDcuM2gxMi4zVjZIMS44VjcuM3ogTTEuOCwzLjN2MS4zaDEyLjNWMy4zSDEuOHoiLz4KPC9zdmc+Cg==")}',""]),e.locals={root:"IconButton__root___3tqZW",icon:"IconButton__icon___3YgOS",isActive:"IconButton__isActive___2Ey8p","icon-undo":"IconButton__icon-undo___EQSRP IconButton__icon___3YgOS","icon-redo":"IconButton__icon-redo___30MVz IconButton__icon___3YgOS","icon-unordered-list-item":"IconButton__icon-unordered-list-item___Pvkrr IconButton__icon___3YgOS","icon-ordered-list-item":"IconButton__icon-ordered-list-item___2rzD0 IconButton__icon___3YgOS","icon-blockquote":"IconButton__icon-blockquote___17VSX IconButton__icon___3YgOS","icon-bold":"IconButton__icon-bold___2zl9t IconButton__icon___3YgOS","icon-italic":"IconButton__icon-italic___2hHzc IconButton__icon___3YgOS","icon-underline":"IconButton__icon-underline___2EmZJ IconButton__icon___3YgOS","icon-strikethrough":"IconButton__icon-strikethrough___QtE2X IconButton__icon___3YgOS","icon-code":"IconButton__icon-code___3F1pe IconButton__icon___3YgOS","icon-link":"IconButton__icon-link___2umEl IconButton__icon___3YgOS","icon-remove-link":"IconButton__icon-remove-link___j61pw IconButton__icon___3YgOS","icon-image":"IconButton__icon-image___1gW7U IconButton__icon___3YgOS","icon-cancel":"IconButton__icon-cancel___fx4TT IconButton__icon___3YgOS","icon-accept":"IconButton__icon-accept___2D6M9 IconButton__icon___3YgOS","icon-align_left":"IconButton__icon-align_left___1S9rt IconButton__icon___3YgOS","icon-align_center":"IconButton__icon-align_center___KBWGR IconButton__icon___3YgOS","icon-align_right":"IconButton__icon-align_right___1bWGZ IconButton__icon___3YgOS","icon-align_justify":"IconButton__icon-align_justify___3eBV5 IconButton__icon___3YgOS"}},function(t,e,n){t.exports={default:n(301),__esModule:!0}},function(t,e,n){n(302),t.exports=n(4).Object.keys},function(t,e,n){var r=n(41),i=n(47);n(104)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(60),n(49),t.exports=n(304)},function(t,e,n){var r=n(30),i=n(95);t.exports=n(4).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){var r=n(306);"string"==typeof r&&(r=[[t.i,r,""]]);var i={sourceMap:!0};i.transform=void 0,n(20)(r,i),r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(28)(!1),e.push([t.i,".ButtonGroup__root___3lEAn{display:inline-block;vertical-align:top;margin:0 5px 5px 0;white-space:nowrap}.ButtonGroup__root___3lEAn:last-child{margin-right:0}.ButtonGroup__root___3lEAn>div>button{margin-right:0;border-radius:0}.ButtonGroup__root___3lEAn>div>button:focus{position:relative;z-index:1}.ButtonGroup__root___3lEAn>div:first-child>button{border-top-left-radius:2px;border-bottom-left-radius:2px}.ButtonGroup__root___3lEAn>div+div>button{border-left-width:0}.ButtonGroup__root___3lEAn>div:last-child>button{border-top-right-radius:2px;border-bottom-right-radius:2px}",""]),e.locals={root:"ButtonGroup__root___3lEAn"}},function(t,e,n){var r=n(308);"string"==typeof r&&(r=[[t.i,r,""]]);var i={sourceMap:!0};i.transform=void 0,n(20)(r,i),r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(28)(!1),e.push([t.i,'.InputPopover__root___3Hpj9{position:absolute;top:calc(100% + 5px);left:0;width:260px;background:none #fdfdfd;background:linear-gradient(180deg,#fdfdfd 0,#f6f7f8);border:1px solid #999;border-radius:2px;box-sizing:border-box;padding:4px}.InputPopover__root___3Hpj9:before{top:-10px;border:5px solid transparent;border-bottom-color:#999}.InputPopover__root___3Hpj9:after,.InputPopover__root___3Hpj9:before{content:"";display:block;position:absolute;width:0;height:0;left:10px}.InputPopover__root___3Hpj9:after{top:-9px;border:5px solid transparent;border-bottom-color:#fdfdfd}.InputPopover__inner___32V5P{display:flex}.InputPopover__input___264Za{display:block;flex:1 0 auto;height:30px;background:none #fff;border:1px solid #999;border-radius:2px;box-sizing:border-box;padding:2px 6px;font-family:inherit;font-size:inherit;line-height:24px}.InputPopover__inner___32V5P .InputPopover__buttonGroup___2c3Sl{flex:0 1 auto;margin-left:4px;margin-bottom:0}.InputPopover__checkOption___32S87{margin:8px 2px}.InputPopover__checkOption___32S87 input{margin-right:8px;cursor:pointer}',""]),e.locals={root:"InputPopover__root___3Hpj9",inner:"InputPopover__inner___32V5P",input:"InputPopover__input___264Za",buttonGroup:"InputPopover__buttonGroup___2c3Sl",checkOption:"InputPopover__checkOption___32S87"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(310),o=r(i),u=n(142),a=r(u);e.default=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var u,s=(0,a.default)(t);!(r=(u=s.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,o.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){t.exports={default:n(311),__esModule:!0}},function(t,e,n){n(60),n(49),t.exports=n(312)},function(t,e,n){var r=n(96),i=n(6)("iterator"),o=n(43);t.exports=n(4).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){var r=n(314);"string"==typeof r&&(r=[[t.i,r,""]]);var i={sourceMap:!0};i.transform=void 0,n(20)(r,i),r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(28)(!1),e.push([t.i,'.Dropdown__root___3ALmx{display:inline-block;position:relative;line-height:22px;vertical-align:top;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.Dropdown__root___3ALmx select{position:relative;z-index:2;display:inline-block;box-sizing:border-box;height:30px;line-height:inherit;font-family:inherit;font-size:inherit;color:inherit;margin:0;padding:0;border:4px solid transparent;border-right-width:10px;border-left-width:5px;background:none transparent;opacity:0;cursor:pointer}.Dropdown__root___3ALmx .Dropdown__value___34Py9{display:block;position:absolute;z-index:1;left:0;top:0;right:0;bottom:0;line-height:23px;border:1px solid #999;border-radius:2px;padding:3px;padding-right:33px;padding-left:12px;white-space:nowrap;text-overflow:ellipsis}.Dropdown__root___3ALmx .Dropdown__value___34Py9:after,.Dropdown__root___3ALmx .Dropdown__value___34Py9:before{display:block;content:"";position:absolute;top:50%;right:10px;width:0;height:0;border:4px solid transparent}.Dropdown__root___3ALmx .Dropdown__value___34Py9:before{margin-top:-10px;border-bottom-color:#555}.Dropdown__root___3ALmx .Dropdown__value___34Py9:after{margin-top:1px;border-top-color:#555}.Dropdown__root___3ALmx select:focus+.Dropdown__value___34Py9{border-color:#66afe9}@media screen and (-webkit-min-device-pixel-ratio:0){.Dropdown__root___3ALmx select{opacity:1;color:inherit;-webkit-appearance:none;border-left-width:12px;border-right-width:35px}.Dropdown__root___3ALmx select+.Dropdown__value___34Py9{color:transparent}.Dropdown__root___3ALmx select:focus+.Dropdown__value___34Py9{border-color:#999}}',""]),e.locals={root:"Dropdown__root___3ALmx",value:"Dropdown__value___34Py9"}},function(t,e,n){var r=n(316);"string"==typeof r&&(r=[[t.i,r,""]]);var i={sourceMap:!0};i.transform=void 0,n(20)(r,i),r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(28)(!1),e.push([t.i,".EditorToolbar__root___3_Aqz{font-family:Helvetica,sans-serif;font-size:14px;margin:0 10px;padding:10px 0 5px;border-bottom:1px solid #ddd;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.EditorToolbar__onBottom___1h7l0{border-top:1px solid #ddd;border-bottom:none}",""]),e.locals={root:"EditorToolbar__root___3_Aqz",onBottom:"EditorToolbar__onBottom___1h7l0"}},function(t,e,n){t.exports={default:n(318),__esModule:!0}},function(t,e,n){var r=n(4),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(320);Object.defineProperty(e,"stateToHTML",{enumerable:!0,get:function(){return r(i).default}})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){switch(t){case x.BLOCK_TYPE.HEADER_ONE:return["h1"];case x.BLOCK_TYPE.HEADER_TWO:return["h2"];case x.BLOCK_TYPE.HEADER_THREE:return["h3"];case x.BLOCK_TYPE.HEADER_FOUR:return["h4"];case x.BLOCK_TYPE.HEADER_FIVE:return["h5"];case x.BLOCK_TYPE.HEADER_SIX:return["h6"];case x.BLOCK_TYPE.UNORDERED_LIST_ITEM:case x.BLOCK_TYPE.ORDERED_LIST_ITEM:return["li"];case x.BLOCK_TYPE.BLOCKQUOTE:return["blockquote"];case x.BLOCK_TYPE.CODE:return["pre","code"];case x.BLOCK_TYPE.ATOMIC:return["figure"];default:return[e||"p"]}}function a(t){switch(t){case x.BLOCK_TYPE.UNORDERED_LIST_ITEM:return"ul";case x.BLOCK_TYPE.ORDERED_LIST_ITEM:return"ol";default:return null}}function s(t){if(null==t)return"";var e=[],n=!0,r=!1,i=void 0;try{for(var o,u=Object.keys(t)[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value,s=t[a];null!=s&&e.push(" "+a+'="'+f(s+"")+'"')}}catch(t){r=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}return e.join("")}function c(t){switch(t){case x.BLOCK_TYPE.UNORDERED_LIST_ITEM:case x.BLOCK_TYPE.ORDERED_LIST_ITEM:return!0;default:return!1}}function l(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split(" ").join("&nbsp;").split("\n").join(N+"\n")}function f(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")}function p(t,e){return new R(t,e).generate()}Object.defineProperty(e,"__esModule",{value:!0});var h,d,y,g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.default=p;var m=n(321),S=r(m),b=n(322),w=r(b),M=n(323),E=r(M),x=n(32),I=x.INLINE_STYLE.BOLD,k=x.INLINE_STYLE.CODE,L=x.INLINE_STYLE.ITALIC,T=x.INLINE_STYLE.STRIKETHROUGH,D=x.INLINE_STYLE.UNDERLINE,O="  ",N="<br>",C=/^data-([a-z0-9-]+)$/,j=(h={},o(h,I,{element:"strong"}),o(h,k,{element:"code"}),o(h,L,{element:"em"}),o(h,T,{element:"del"}),o(h,D,{element:"u"}),h),A=[I,L,D,T,k],z=(d={},o(d,x.ENTITY_TYPE.LINK,{url:"href",href:"href",rel:"rel",target:"target",title:"title",className:"class"}),o(d,x.ENTITY_TYPE.IMAGE,{src:"src",height:"height",width:"width",alt:"alt",className:"class"}),d),B=(y={},o(y,x.ENTITY_TYPE.LINK,function(t,e){var n=z.hasOwnProperty(t)?z[t]:{},r=e.getData(),i={},o=!0,u=!1,a=void 0;try{for(var s,c=Object.keys(r)[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value,f=r[l];n.hasOwnProperty(l)?i[n[l]]=f:C.test(l)&&(i[l]=f)}}catch(t){u=!0,a=t}finally{try{!o&&c.return&&c.return()}finally{if(u)throw a}}return i}),o(y,x.ENTITY_TYPE.IMAGE,function(t,e){var n=z.hasOwnProperty(t)?z[t]:{},r=e.getData(),i={},o=!0,u=!1,a=void 0;try{for(var s,c=Object.keys(r)[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value,f=r[l];n.hasOwnProperty(l)?i[n[l]]=f:C.test(l)&&(i[l]=f)}}catch(t){u=!0,a=t}finally{try{!o&&c.return&&c.return()}finally{if(u)throw a}}return i}),y),R=function(){function t(e,n){i(this,t),null==n&&(n={}),this.contentState=e,this.options=n;var r=(0,S.default)(n.inlineStyles,[j,A]),o=v(r,2),u=o[0],a=o[1];this.inlineStyles=u,this.styleOrder=a}return _(t,[{key:"generate",value:function(){for(this.output=[],this.blocks=this.contentState.getBlocksAsArray(),this.totalBlocks=this.blocks.length,this.currentBlock=0,this.indentLevel=0,this.wrapperTag=null;this.currentBlock<this.totalBlocks;)this.processBlock();return this.closeWrapperTag(),this.output.join("").trim()}},{key:"processBlock",value:function(){var t=this.options,e=t.blockRenderers,n=t.defaultBlockTag,r=this.blocks[this.currentBlock],i=r.getType(),o=a(i);this.wrapperTag!==o&&(this.wrapperTag&&this.closeWrapperTag(),o&&this.openWrapperTag(o)),this.indent();var u=null!=e&&e.hasOwnProperty(i)?e[i]:null,s=u?u(r):null;if(null!=s)return this.output.push(s),this.output.push("\n"),void(this.currentBlock+=1);this.writeStartTag(r,n),this.output.push(this.renderBlockContent(r));var l=this.getNextBlock();if(c(i)&&l&&l.getDepth()===r.getDepth()+1){this.output.push("\n");var f=this.wrapperTag;this.wrapperTag=null,this.indentLevel+=1,this.currentBlock+=1,this.processBlocksAtDepth(l.getDepth()),this.wrapperTag=f,this.indentLevel-=1,this.indent()}else this.currentBlock+=1;this.writeEndTag(r,n)}},{key:"processBlocksAtDepth",value:function(t){for(var e=this.blocks[this.currentBlock];e&&e.getDepth()===t;)this.processBlock(),e=this.blocks[this.currentBlock];this.closeWrapperTag()}},{key:"getNextBlock",value:function(){return this.blocks[this.currentBlock+1]}},{key:"writeStartTag",value:function(t,e){var n=u(t.getType(),e),r=void 0;if(this.options.blockStyleFn){var i=this.options.blockStyleFn(t)||{},o=i.attributes,a=i.style;if(o=(0,w.default)(o),null!=a){var c=(0,E.default)(a);o=null==o?{style:c}:g({},o,{style:c})}r=s(o)}else r="";var l=!0,f=!1,p=void 0;try{for(var h,d=n[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var y=h.value;this.output.push("<"+y+r+">")}}catch(t){f=!0,p=t}finally{try{!l&&d.return&&d.return()}finally{if(f)throw p}}}},{key:"writeEndTag",value:function(t,e){var n=u(t.getType(),e);if(1===n.length)this.output.push("</"+n[0]+">\n");else{var r=[],i=!0,o=!1,a=void 0;try{for(var s,c=n[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;r.unshift("</"+l+">")}}catch(t){o=!0,a=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}this.output.push(r.join("")+"\n")}}},{key:"openWrapperTag",value:function(t){this.wrapperTag=t,this.indent(),this.output.push("<"+t+">\n"),this.indentLevel+=1}},{key:"closeWrapperTag",value:function(){var t=this.wrapperTag;t&&(this.indentLevel-=1,this.indent(),this.output.push("</"+t+">\n"),this.wrapperTag=null)}},{key:"indent",value:function(){this.output.push(O.repeat(this.indentLevel))}},{key:"renderBlockContent",value:function(t){var e=this,n=t.getType(),r=t.getText();if(""===r)return N;r=this.preserveWhitespace(r);var i=t.getCharacterList();return(0,x.getEntityRanges)(r,i).map(function(t){var r=v(t,2),i=r[0],o=r[1],u=o.map(function(t){var r=v(t,2),i=r[0],o=r[1],u=l(i),a=!0,c=!1,f=void 0;try{for(var p,h=e.styleOrder[Symbol.iterator]();!(a=(p=h.next()).done);a=!0){var d=p.value;if((d!==k||n!==x.BLOCK_TYPE.CODE)&&o.has(d)){var y=e.inlineStyles[d],_=y.element,m=y.attributes,S=y.style;if(null==_&&(_="span"),m=(0,w.default)(m),null!=S){var b=(0,E.default)(S);m=null==m?{style:b}:g({},m,{style:b})}u="<"+_+s(m)+">"+u+"</"+_+">"}}}catch(t){c=!0,f=t}finally{try{!a&&h.return&&h.return()}finally{if(c)throw f}}return u}).join(""),a=i?e.contentState.getEntity(i):null,c=null==a?null:a.getType().toUpperCase(),f=void 0;if(null!=a&&e.options.entityStyleFn&&(f=e.options.entityStyleFn(a))){var p=f,h=p.element,d=p.attributes,y=p.style;if(null==h&&(h="span"),d=(0,w.default)(d),null!=y){var _=(0,E.default)(y);d=null==d?{style:_}:g({},d,{style:_})}return"<"+h+s(d)+">"+u+"</"+h+">"}return null!=c&&c===x.ENTITY_TYPE.LINK?"<a"+s(B.hasOwnProperty(c)?B[c](c,a):null)+">"+u+"</a>":null!=c&&c===x.ENTITY_TYPE.IMAGE?"<img"+s(B.hasOwnProperty(c)?B[c](c,a):null)+"/>":u}).join("")}},{key:"preserveWhitespace",value:function(t){for(var e=t.length,n=new Array(e),r=0;r<e;r++)" "!==t[r]||0!==r&&r!==e-1&&" "!==t[r-1]?n[r]=t[r]:n[r]=" ";return n.join("")}}]),t}()},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(null==t)return e;var n=u(e,2),i=n[0],a=n[1],s=o({},i),c=[].concat(r(a)),l=!0,f=!1,p=void 0;try{for(var h,d=Object.keys(t)[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var y=h.value;if(i.hasOwnProperty(y)){var g=i[y];s[y]=o({},g,t[y])}else s[y]=t[y],c.push(y)}}catch(t){f=!0,p=t}finally{try{!l&&d.return&&d.return()}finally{if(f)throw p}}return[s,c]}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=i},function(t,e,n){"use strict";function r(t){if(null==t)return t;var e={},n=!1,r=!0,o=!1,u=void 0;try{for(var a,s=Object.keys(t)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,l=c;i.hasOwnProperty(c)&&(l=i[c],n=!0),e[l]=t[c]}}catch(t){o=!0,u=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw u}}return n?e:t}Object.defineProperty(e,"__esModule",{value:!0});var i={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"};e.default=r},function(t,e,n){"use strict";function r(t){return t.replace(s,"-$1").toLowerCase().replace(u,"-$1-")}function i(t,e){var n=void 0;return"string"==typeof e?n=a.test(e):(n=!0,e=String(e)),n&&"0"!==e&&!0!==c[t]?e+"px":e}function o(t){return Object.keys(t).map(function(e){var n=i(e,t[e]);return r(e)+": "+n}).join("; ")}Object.defineProperty(e,"__esModule",{value:!0});var u=/^(moz|ms|o|webkit)-/,a=/^\d+$/,s=/([A-Z])/g,c={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};e.default=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(325);Object.defineProperty(e,"stateFromHTML",{enumerable:!0,get:function(){return r(i).default}})},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){var n=e||{},i=n.parser,u=r(n,["parser"]);null==i&&(i=a.default);var s=i(t);return(0,o.stateFromElement)(s,u)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(143),u=n(330),a=function(t){return t&&t.__esModule?t:{default:t}}(u)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return"\n"===t.charAt(0)&&(t=t.slice(1),e=e.slice(1)),{text:t,characterMeta:e}}function o(t,e){for(;" "===t.charAt(0);)t=t.slice(1),e=e.slice(1);return{text:t,characterMeta:e}}function u(t,e){for(;" "===t.slice(-1);)t=t.slice(0,-1),e=e.slice(0,-1);return{text:t,characterMeta:e}}function a(t,e){t=t.replace(/[ \t\n]/g," ");var n=o(t,e);t=n.text,e=n.characterMeta;var r=u(t,e);t=r.text,e=r.characterMeta;for(var i=t.length;i--;)" "===t.charAt(i)&&" "===t.charAt(i-1)&&(t=t.slice(0,i)+t.slice(i+1),e=e.slice(0,i).concat(e.slice(i+1)));var a=(0,y.default)({text:t,characterMeta:e},E+" ",E);t=a.text,e=a.characterMeta;var s=(0,y.default)({text:t,characterMeta:e}," "+E,E);return t=s.text,e=s.characterMeta,{text:t,characterMeta:e}}function s(t){switch(t){case _.BLOCK_TYPE.UNORDERED_LIST_ITEM:case _.BLOCK_TYPE.ORDERED_LIST_ITEM:return!0;default:return!1}}function c(t){var e="",n=(0,v.Seq)();return t.forEach(function(t){e+=t.text,n=n.concat(t.characterMeta)}),{text:e,characterMeta:n}}function l(t,e,n){switch(e){case"b":case"strong":return t.add(_.INLINE_STYLE.BOLD);case"i":case"em":return t.add(_.INLINE_STYLE.ITALIC);case"u":case"ins":return t.add(_.INLINE_STYLE.UNDERLINE);case"code":return t.add(_.INLINE_STYLE.CODE);case"s":case"del":return t.add(_.INLINE_STYLE.STRIKETHROUGH);default:return n&&n[e]?t.add(n[e]):t}}function f(t){return t!==_.BLOCK_TYPE.UNSTYLED}function p(t,e){return new T(e).process(t)}Object.defineProperty(e,"__esModule",{value:!0});var h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.stateFromElement=p;var d=n(327),y=function(t){return t&&t.__esModule?t:{default:t}}(d),g=n(12),v=n(93),_=n(32),m=n(144),S=n(329),b=(0,v.OrderedSet)(),w=new g.ContentBlock({key:(0,g.genKey)(),text:"",type:_.BLOCK_TYPE.UNSTYLED,characterList:(0,v.List)(),depth:0}),M=/(\r\n|\r|\n)/g,E="\r",x=/^data-([a-z0-9-]+)$/,I={a:{href:"url",rel:"rel",target:"target",title:"title"},img:{src:"src",alt:"alt"}},k=function(t,e){var n={};if(I.hasOwnProperty(t))for(var r=I[t],i=0;i<e.attributes.length;i++){var o=e.attributes[i],u=o.name,a=o.value;if(null!=a)if(r.hasOwnProperty(u)){var s=r[u];n[s]=a}else x.test(u)&&(n[u]=a)}return n},L={a:function(t,e,n){var r=k(e,n);if(null!=r.url)return t.createEntity(_.ENTITY_TYPE.LINK,r)},img:function(t,e,n){var r=k(e,n);if(null!=r.src)return t.createEntity(_.ENTITY_TYPE.IMAGE,r)}},T=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.inlineCreators={Style:function(t){return{type:"STYLE",style:t}},Entity:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"MUTABLE";return{type:"ENTITY",entityKey:e.createEntity(t,n,r)}}},this.options=n,this.contentStateForEntities=g.ContentState.createFromBlockArray([]),this.blockStack=[],this.blockList=[],this.depth=0}return h(t,[{key:"process",value:function(t){this.processBlockElement(t);var e=[];return this.blockList.forEach(function(t){var n=c(t.textFragments),r=n.text,o=n.characterMeta,u=!1;if(r===E&&(u=!0,r=""),"pre"===t.tagName){var s=i(r,o);r=s.text,o=s.characterMeta}else{var l=a(r,o);r=l.text,o=l.characterMeta}r=r.split(E).join("\n"),(r.length||u)&&e.push(new g.ContentBlock({key:(0,g.genKey)(),text:r,type:t.type,characterList:o.toList(),depth:t.depth,data:t.data?(0,v.Map)(t.data):(0,v.Map)()}))}),e.length||(e=[w]),g.ContentState.createFromBlockArray(e,this.contentStateForEntities.getEntityMap())}},{key:"getBlockTypeFromTagName",value:function(t){var e=this.options.blockTypes;if(e&&e[t])return e[t];switch(t){case"li":return"ol"===this.blockStack.slice(-1)[0].tagName?_.BLOCK_TYPE.ORDERED_LIST_ITEM:_.BLOCK_TYPE.UNORDERED_LIST_ITEM;case"blockquote":return _.BLOCK_TYPE.BLOCKQUOTE;case"h1":return _.BLOCK_TYPE.HEADER_ONE;case"h2":return _.BLOCK_TYPE.HEADER_TWO;case"h3":return _.BLOCK_TYPE.HEADER_THREE;case"h4":return _.BLOCK_TYPE.HEADER_FOUR;case"h5":return _.BLOCK_TYPE.HEADER_FIVE;case"h6":return _.BLOCK_TYPE.HEADER_SIX;case"pre":return _.BLOCK_TYPE.CODE;case"figure":return _.BLOCK_TYPE.ATOMIC;default:return _.BLOCK_TYPE.UNSTYLED}}},{key:"processBlockElement",value:function(t){if(t){var e=this.options.customBlockFn,n=t.nodeName.toLowerCase(),r=void 0,i=void 0;if(e){var o=e(t);null!=o&&(r=o.type,i=o.data)}var u=!0;null==r&&(u=!1,r=this.getBlockTypeFromTagName(n));var a=s(r),c=!S.SPECIAL_ELEMENTS.hasOwnProperty(n);if(!u&&!f(r)){var l=this.blockStack.slice(-1)[0];l&&(r=l.type)}var p={tagName:n,textFragments:[],type:r,styleStack:[b],entityStack:[null],depth:a?this.depth:0,data:i};c&&(this.blockList.push(p),a&&(this.depth+=1)),this.blockStack.push(p),null!=t.childNodes&&Array.from(t.childNodes).forEach(this.processNode,this),this.blockStack.pop(),c&&a&&(this.depth-=1)}}},{key:"processInlineElement",value:function(t){var e=t.nodeName.toLowerCase();if("br"===e)return void this.processText(E);var n=this.blockStack.slice(-1)[0],r=n.styleStack.slice(-1)[0],i=n.entityStack.slice(-1)[0],o=this.options.customInlineFn,u=o?o(t,this.inlineCreators):null;if(null!=u)switch(u.type){case"STYLE":r=r.add(u.style);break;case"ENTITY":i=u.entityKey}else r=l(r,e,this.options.elementStyles),L.hasOwnProperty(e)&&(i=L[e](this,e,t)||i);n.styleStack.push(r),n.entityStack.push(i),null!=t.childNodes&&Array.from(t.childNodes).forEach(this.processNode,this),S.SELF_CLOSING_ELEMENTS.hasOwnProperty(e)&&this.processText(" "),n.entityStack.pop(),n.styleStack.pop()}},{key:"processTextNode",value:function(t){var e=t.nodeValue;e=e.replace(M,"\n"),e=e.split("​").join(E),this.processText(e)}},{key:"processText",value:function(t){var e=this.blockStack.slice(-1)[0],n=e.styleStack.slice(-1)[0],r=e.entityStack.slice(-1)[0],i=g.CharacterMetadata.create({style:n,entity:r}),o=(0,v.Repeat)(i,t.length);e.textFragments.push({text:t,characterMeta:o})}},{key:"processNode",value:function(t){if(t.nodeType===m.NODE_TYPE_ELEMENT){var e=t,n=e.nodeName.toLowerCase();S.INLINE_ELEMENTS.hasOwnProperty(n)?this.processInlineElement(e):this.processBlockElement(e)}else t.nodeType===m.NODE_TYPE_TEXT&&this.processTextNode(t)}},{key:"createEntity",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"MUTABLE";return this.contentStateForEntities=this.contentStateForEntities.createEntity(t,n,e),this.contentStateForEntities.getLastCreatedEntityKey()}}]),t}();e.default=p},function(t,e,n){"use strict";function r(t,e,n){for(var r=t.text,o=t.characterMeta,u=e.length,a=n.length,s=[],c=o.slice(0,0),l=0,f=r.indexOf(e);-1!==f;)s.push(r.slice(l,f)+n),c=c.concat(o.slice(l,f),i(o.slice(f,f+1),a)),l=f+u,f=r.indexOf(e,l);return s.push(r.slice(l)),c=c.concat(o.slice(l)),{text:s.join(""),characterMeta:c}}function i(t,e){for(var n=t.slice(0,0);e-- >0;)n=n.concat(t);return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function s(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=[],f=e.NODE_TYPE_ELEMENT=1,p=e.NODE_TYPE_TEXT=3,h=e.NODE_TYPE_FRAGMENT=11,d=e.SELF_CLOSING={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},y=e.Node=function t(){u(this,t)};e.TextNode=function(t){function e(t){u(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return n.nodeType=p,n.nodeName="#text",n.nodeValue=t,n}return o(e,t),c(e,[{key:"toString",value:function(){return a(this.nodeValue)}}]),e}(y),e.ElementNode=function(t){function e(t,n,r){u(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));null==n&&(n=l);var a=!0===d[t];return o.nodeType=f,o._name=t.toLowerCase(),o.attributes=n,o._attrMap=new Map(n.map(function(t){return[t.name,t]})),o.nodeName=t.toUpperCase(),o.childNodes=[],o._isSelfClosing=a,!a&&r&&r.forEach(o.appendChild,o),o}return o(e,t),c(e,[{key:"appendChild",value:function(t){if(t.nodeType===h){if(null!=t.childNodes){var e,n=t.childNodes;(e=this.childNodes).push.apply(e,r(n))}}else this.childNodes.push(t)}},{key:"getAttribute",value:function(t){var e=this._attrMap.get(t);if(e)return e.value}},{key:"toString",value:function(t){var e=[],n=!0,r=!1,i=void 0;try{for(var o,u=this.attributes[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value,c=a.name,l=a.value;e.push(c+(l?'="'+s(l)+'"':""))}}catch(t){r=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}var f=e.length?" "+e.join(" "):"";if(this._isSelfClosing)return"<"+this._name+f+(t?"/>":">");var p=this.childNodes.map(function(e){return e.toString(t)}).join("");return"<"+this._name+f+">"+p+"</"+this._name+">"}},{key:"tagName",get:function(){return this.nodeName}},{key:"className",get:function(){return this.getAttribute("class")||""}}]),e}(y),e.FragmentNode=function(t){function e(t){u(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return n.nodeType=h,n.childNodes=[],t&&t.forEach(n.appendChild,n),n}return o(e,t),c(e,[{key:"appendChild",value:function(t){if(t.nodeType===h){if(null!=t.childNodes){var e,n=t.childNodes;(e=this.childNodes).push.apply(e,r(n))}}else this.childNodes.push(t)}},{key:"toString",value:function(t){return this.childNodes.map(function(e){return e.toString(t)}).join("")}}]),e}(y)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INLINE_ELEMENTS={a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,var:1,video:1,wbr:1,acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1},e.SPECIAL_ELEMENTS={area:1,base:1,br:1,col:1,colgroup:1,command:1,dl:1,embed:1,head:1,hgroup:1,hr:1,iframe:1,img:1,input:1,keygen:1,link:1,meta:1,ol:1,optgroup:1,option:1,param:1,script:1,select:1,source:1,style:1,table:1,tbody:1,textarea:1,tfoot:1,thead:1,title:1,tr:1,track:1,ul:1,wbr:1,basefont:1,dialog:1,dir:1,isindex:1},e.SELF_CLOSING_ELEMENTS={img:1}},function(t,e,n){"use strict";function r(t){var e=void 0;return"undefined"!=typeof DOMParser?e=(new DOMParser).parseFromString(t,"text/html"):(e=document.implementation.createHTMLDocument(""),e.documentElement&&(e.documentElement.innerHTML=t)),e.body||e.createElement("body")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(332);Object.defineProperty(e,"stateToMarkdown",{enumerable:!0,get:function(){return r(i).default}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){switch(t){case f.BLOCK_TYPE.UNORDERED_LIST_ITEM:case f.BLOCK_TYPE.ORDERED_LIST_ITEM:return!0;default:return!1}}function o(t){return t.replace(/[*_`]/g,"\\$&")}function u(t){return t.replace(/\)/g,"%29")}function a(t){return t.replace(/"/g,'\\"')}function s(t){return new v(t).generate()}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.default=s;var f=n(32),p=f.INLINE_STYLE.BOLD,h=f.INLINE_STYLE.CODE,d=f.INLINE_STYLE.ITALIC,y=f.INLINE_STYLE.STRIKETHROUGH,g=f.INLINE_STYLE.UNDERLINE,v=function(){function t(e){r(this,t),this.contentState=e}return l(t,[{key:"generate",value:function(){for(this.output=[],this.blocks=this.contentState.getBlockMap().toArray(),this.totalBlocks=this.blocks.length,this.currentBlock=0,this.listItemCounts={};this.currentBlock<this.totalBlocks;)this.processBlock();return this.output.join("")}},{key:"processBlock",value:function(){var t=this.blocks[this.currentBlock],e=t.getType();switch(e){case f.BLOCK_TYPE.HEADER_ONE:this.insertLineBreaks(1),this.output.push("# "+this.renderBlockContent(t)+"\n");break;case f.BLOCK_TYPE.HEADER_TWO:this.insertLineBreaks(1),this.output.push("## "+this.renderBlockContent(t)+"\n");break;case f.BLOCK_TYPE.HEADER_THREE:this.insertLineBreaks(1),this.output.push("### "+this.renderBlockContent(t)+"\n");break;case f.BLOCK_TYPE.HEADER_FOUR:this.insertLineBreaks(1),this.output.push("#### "+this.renderBlockContent(t)+"\n");break;case f.BLOCK_TYPE.HEADER_FIVE:this.insertLineBreaks(1),this.output.push("##### "+this.renderBlockContent(t)+"\n");break;case f.BLOCK_TYPE.HEADER_SIX:this.insertLineBreaks(1),this.output.push("###### "+this.renderBlockContent(t)+"\n");break;case f.BLOCK_TYPE.UNORDERED_LIST_ITEM:var n=t.getDepth(),r=this.getLastBlock(),o=r?r.getType():null,u=r&&i(o)?r.getDepth():null;o!==e&&u!==n-1&&(this.insertLineBreaks(1),o===f.BLOCK_TYPE.ORDERED_LIST_ITEM&&this.insertLineBreaks(1));var a=" ".repeat(4*t.depth);this.output.push(a+"- "+this.renderBlockContent(t)+"\n");break;case f.BLOCK_TYPE.ORDERED_LIST_ITEM:var s=t.getDepth(),c=this.getLastBlock(),l=c?c.getType():null,p=c&&i(l)?c.getDepth():null;l!==e&&p!==s-1&&(this.insertLineBreaks(1),l===f.BLOCK_TYPE.UNORDERED_LIST_ITEM&&this.insertLineBreaks(1));var h=" ".repeat(4*s),d=this.getListItemCount(t)%10;this.output.push(h+(d+". ")+this.renderBlockContent(t)+"\n");break;case f.BLOCK_TYPE.BLOCKQUOTE:this.insertLineBreaks(1),this.output.push(" > "+this.renderBlockContent(t)+"\n");break;case f.BLOCK_TYPE.CODE:this.insertLineBreaks(1),this.output.push("    "+this.renderBlockContent(t)+"\n");break;default:this.insertLineBreaks(1),this.output.push(this.renderBlockContent(t)+"\n")}this.currentBlock+=1}},{key:"getLastBlock",value:function(){return this.blocks[this.currentBlock-1]}},{key:"getNextBlock",value:function(){return this.blocks[this.currentBlock+1]}},{key:"getListItemCount",value:function(t){for(var e=t.getType(),n=t.getDepth(),r=this.currentBlock-1,o=this.blocks[r];o&&i(o.getType())&&o.getDepth()>n;)r-=1,o=this.blocks[r];return o&&o.getType()===e&&o.getDepth()===n||(this.listItemCounts[n]=0),this.listItemCounts[n]=this.listItemCounts[n]+1}},{key:"insertLineBreaks",value:function(){this.currentBlock>0&&this.output.push("\n")}},{key:"renderBlockContent",value:function(t){var e=this.contentState,n=t.getType(),r=t.getText();if(""===r)return"​";var i=t.getCharacterList();return(0,f.getEntityRanges)(r,i).map(function(t){var r=c(t,2),i=r[0],s=r[1],l=s.map(function(t){var e=c(t,2),r=e[0],i=e[1];if(!r)return"";var u=o(r);return i.has(p)&&(u="**"+u+"**"),i.has(g)&&(u="++"+u+"++"),i.has(d)&&(u="_"+u+"_"),i.has(y)&&(u="~~"+u+"~~"),i.has(h)&&(u=n===f.BLOCK_TYPE.CODE?u:"`"+u+"`"),u}).join(""),v=i?e.getEntity(i):null;if(null!=v&&v.getType()===f.ENTITY_TYPE.LINK){var _=v.getData(),m=_.url||"",S=_.title?' "'+a(_.title)+'"':"";return"["+l+"]("+u(m)+S+")"}if(null!=v&&v.getType()===f.ENTITY_TYPE.IMAGE){var b=v.getData(),w=b.src||"";return"!["+(b.alt?' "'+a(b.alt)+'"':"")+"]("+u(w)+")"}return l}).join("")}}]),t}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(334);Object.defineProperty(e,"stateFromMarkdown",{enumerable:!0,get:function(){return r(i).default}});var o=n(145);Object.defineProperty(e,"MarkdownParser",{enumerable:!0,get:function(){return r(o).default}})},function(t,e,n){"use strict";function r(t,e){var n=o.default.parse(t,{getAST:!0});return(0,u.stateFromElement)(n,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(145),o=function(t){return t&&t.__esModule?t:{default:t}}(i),u=n(143)},function(t,e,n){var r=n(336);"string"==typeof r&&(r=[[t.i,r,""]]);var i={sourceMap:!0};i.transform=void 0,n(20)(r,i),r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(28)(!1),e.push([t.i,".ImageSpan__root___RoAqL{background-repeat:no-repeat;display:inline-block;overflow:hidden;cursor:pointer}.ImageSpan__resize___1Hx5M{border:1px dashed #78a300;position:relative;max-width:100%;display:inline-block;line-height:0;top:-1px;left:-1px}.ImageSpan__resizeHandle___18rou{cursor:nwse-resize;position:absolute;z-index:2;line-height:1;bottom:-4px;right:-5px;border:1px solid #fff;background-color:#78a300;width:8px;height:8px}",""]),e.locals={root:"ImageSpan__root___RoAqL",resize:"ImageSpan__resize___1Hx5M",resizeHandle:"ImageSpan__resizeHandle___18rou"}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function u(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,a,s,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(n=this._events[t],u(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),c=n.slice(),i=c.length,s=0;s<i;s++)c[s].apply(this,a);return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=u(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,u,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],u=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(a=u;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){var r=n(339);"string"==typeof r&&(r=[[t.i,r,""]]);var i={};i.transform=void 0,n(20)(r,i),r.locals&&(t.exports=r.locals)},function(t,e){t.exports='/**\n * We inherit the height of the container by default\n */\n\n.DraftEditor-root,\n.DraftEditor-editorContainer,\n.public-DraftEditor-content {\n  height: inherit;\n  text-align: initial;\n}\n\n.DraftEditor-root {\n  position: relative;\n}\n\n/**\n * Zero-opacity background used to allow focus in IE. Otherwise, clicks\n * fall through to the placeholder.\n */\n\n.DraftEditor-editorContainer {\n  background-color: rgba(255, 255, 255, 0);\n  /* Repair mysterious missing Safari cursor */\n  border: 1px solid transparent;\n  position: relative;\n  z-index: 1;\n}\n\n.public-DraftEditor-content {\n  outline: none;\n  white-space: pre-wrap;\n}\n\n.public-DraftEditor-block {\n  position: relative;\n}\n\n.DraftEditor-alignLeft .public-DraftEditor-block {\n  text-align: left;\n}\n\n.DraftEditor-alignLeft .public-DraftEditorPlaceholder-root {\n  left: 0;\n  text-align: left;\n}\n\n.DraftEditor-alignCenter .public-DraftEditor-block {\n  text-align: center;\n}\n\n.DraftEditor-alignCenter .public-DraftEditorPlaceholder-root {\n  margin: 0 auto;\n  text-align: center;\n  width: 100%;\n}\n\n.DraftEditor-alignRight .public-DraftEditor-block {\n  text-align: right;\n}\n\n.DraftEditor-alignRight .public-DraftEditorPlaceholder-root {\n  right: 0;\n  text-align: right;\n}\n/**\n * @providesModule DraftEditorPlaceholder\n */\n\n.public-DraftEditorPlaceholder-root {\n  color: #9197a3;\n  position: absolute;\n  z-index: 0;\n}\n\n.public-DraftEditorPlaceholder-hasFocus {\n  color: #bdc1c9;\n}\n\n.DraftEditorPlaceholder-hidden {\n  display: none;\n}\n/**\n * @providesModule DraftStyleDefault\n */\n\n.public-DraftStyleDefault-block {\n  position: relative;\n  white-space: pre-wrap;\n}\n\n/* @noflip */\n\n.public-DraftStyleDefault-ltr {\n  direction: ltr;\n  text-align: left;\n}\n\n/* @noflip */\n\n.public-DraftStyleDefault-rtl {\n  direction: rtl;\n  text-align: right;\n}\n\n/**\n * These rules provide appropriate text direction for counter pseudo-elements.\n */\n\n/* @noflip */\n\n.public-DraftStyleDefault-listLTR {\n  direction: ltr;\n}\n\n/* @noflip */\n\n.public-DraftStyleDefault-listRTL {\n  direction: rtl;\n}\n\n/**\n * Default spacing for list container elements. Override with CSS as needed.\n */\n\n.public-DraftStyleDefault-ul,\n.public-DraftStyleDefault-ol {\n  margin: 16px 0;\n  padding: 0;\n}\n\n/**\n * Default counters and styles are provided for five levels of nesting.\n * If you require nesting beyond that level, you should use your own CSS\n * classes to do so. If you care about handling RTL languages, the rules you\n * create should look a lot like these.\n */\n\n/* @noflip */\n\n.public-DraftStyleDefault-depth0.public-DraftStyleDefault-listLTR {\n  margin-left: 1.5em;\n}\n\n/* @noflip */\n\n.public-DraftStyleDefault-depth0.public-DraftStyleDefault-listRTL {\n  margin-right: 1.5em;\n}\n\n/* @noflip */\n\n.public-DraftStyleDefault-depth1.public-DraftStyleDefault-listLTR {\n  margin-left: 3em;\n}\n\n/* @noflip */\n\n.public-DraftStyleDefault-depth1.public-DraftStyleDefault-listRTL {\n  margin-right: 3em;\n}\n\n/* @noflip */\n\n.public-DraftStyleDefault-depth2.public-DraftStyleDefault-listLTR {\n  margin-left: 4.5em;\n}\n\n/* @noflip */\n\n.public-DraftStyleDefault-depth2.public-DraftStyleDefault-listRTL {\n  margin-right: 4.5em;\n}\n\n/* @noflip */\n\n.public-DraftStyleDefault-depth3.public-DraftStyleDefault-listLTR {\n  margin-left: 6em;\n}\n\n/* @noflip */\n\n.public-DraftStyleDefault-depth3.public-DraftStyleDefault-listRTL {\n  margin-right: 6em;\n}\n\n/* @noflip */\n\n.public-DraftStyleDefault-depth4.public-DraftStyleDefault-listLTR {\n  margin-left: 7.5em;\n}\n\n/* @noflip */\n\n.public-DraftStyleDefault-depth4.public-DraftStyleDefault-listRTL {\n  margin-right: 7.5em;\n}\n\n/**\n * Only use `square` list-style after the first two levels.\n */\n\n.public-DraftStyleDefault-unorderedListItem {\n  list-style-type: square;\n  position: relative;\n}\n\n.public-DraftStyleDefault-unorderedListItem.public-DraftStyleDefault-depth0 {\n  list-style-type: disc;\n}\n\n.public-DraftStyleDefault-unorderedListItem.public-DraftStyleDefault-depth1 {\n  list-style-type: circle;\n}\n\n/**\n * Ordered list item counters are managed with CSS, since all list nesting is\n * purely visual.\n */\n\n.public-DraftStyleDefault-orderedListItem {\n  list-style-type: none;\n  position: relative;\n}\n\n/* @noflip */\n\n.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-listLTR:before {\n  left: -36px;\n  position: absolute;\n  text-align: right;\n  width: 30px;\n}\n\n/* @noflip */\n\n.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-listRTL:before {\n  position: absolute;\n  right: -36px;\n  text-align: left;\n  width: 30px;\n}\n\n/**\n * Counters are reset in JavaScript. If you need different counter styles,\n * override these rules. If you need more nesting, create your own rules to\n * do so.\n */\n\n.public-DraftStyleDefault-orderedListItem:before {\n  content: counter(ol0) ". ";\n  counter-increment: ol0;\n}\n\n.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth1:before {\n  content: counter(ol1) ". ";\n  counter-increment: ol1;\n}\n\n.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth2:before {\n  content: counter(ol2) ". ";\n  counter-increment: ol2;\n}\n\n.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth3:before {\n  content: counter(ol3) ". ";\n  counter-increment: ol3;\n}\n\n.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth4:before {\n  content: counter(ol4) ". ";\n  counter-increment: ol4;\n}\n\n.public-DraftStyleDefault-depth0.public-DraftStyleDefault-reset {\n  counter-reset: ol0;\n}\n\n.public-DraftStyleDefault-depth1.public-DraftStyleDefault-reset {\n  counter-reset: ol1;\n}\n\n.public-DraftStyleDefault-depth2.public-DraftStyleDefault-reset {\n  counter-reset: ol2;\n}\n\n.public-DraftStyleDefault-depth3.public-DraftStyleDefault-reset {\n  counter-reset: ol3;\n}\n\n.public-DraftStyleDefault-depth4.public-DraftStyleDefault-reset {\n  counter-reset: ol4;\n}\n'},function(t,e,n){var r=n(341);"string"==typeof r&&(r=[[t.i,r,""]]);var i={sourceMap:!0};i.transform=void 0,n(20)(r,i),r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(28)(!1),e.push([t.i,".RichTextEditor__root___2QXK-{background:#fff;border:1px solid #ddd;border-radius:3px;font-family:Georgia,serif;font-size:14px}.RichTextEditor__editor___1QqIU{cursor:text;font-size:16px}.text-align--center .public-DraftStyleDefault-ltr{text-align:center}.text-align--right .public-DraftStyleDefault-ltr{text-align:right}.text-align--justify .public-DraftStyleDefault-ltr{text-align:justify}.RichTextEditor__editor___1QqIU .public-DraftEditor-content,.RichTextEditor__editor___1QqIU .public-DraftEditorPlaceholder-root{margin:0;padding:9px}.RichTextEditor__editor___1QqIU .public-DraftEditor-content{overflow:auto}.RichTextEditor__hidePlaceholder___3WLid .public-DraftEditorPlaceholder-root{display:none}.RichTextEditor__editor___1QqIU .RichTextEditor__paragraph___3NTf9,.RichTextEditor__editor___1QqIU pre{margin:14px 0}.RichTextEditor__editor___1QqIU .RichTextEditor__codeBlock____KD4Q{background-color:#f3f3f3;font-family:Inconsolata,Menlo,Consolas,monospace;font-size:16px;margin:14px 0;padding:20px}.RichTextEditor__editor___1QqIU .RichTextEditor__codeBlock____KD4Q span[style]{padding:0!important}.RichTextEditor__editor___1QqIU .RichTextEditor__blockquote___1vCYl{border-left:5px solid #eee;color:#666;font-family:Hoefler Text,Georgia,serif;font-style:italic;margin:16px 0;padding:10px 20px}.RichTextEditor__editor___1QqIU .RichTextEditor__block___2Vs_D:first-child,.RichTextEditor__editor___1QqIU ol:first-child,.RichTextEditor__editor___1QqIU pre:first-child,.RichTextEditor__editor___1QqIU ul:first-child{margin-top:0}.RichTextEditor__editor___1QqIU .RichTextEditor__block___2Vs_D:last-child,.RichTextEditor__editor___1QqIU ol:last-child,.RichTextEditor__editor___1QqIU pre:last-child,.RichTextEditor__editor___1QqIU ul:last-child{margin-bottom:0}",""]),e.locals={root:"RichTextEditor__root___2QXK-",editor:"RichTextEditor__editor___1QqIU",hidePlaceholder:"RichTextEditor__hidePlaceholder___3WLid",paragraph:"RichTextEditor__paragraph___3NTf9",codeBlock:"RichTextEditor__codeBlock____KD4Q",blockquote:"RichTextEditor__blockquote___1vCYl",block:"RichTextEditor__block___2Vs_D"}}]);

/***/ }),

/***/ "./node_modules/remove-accents/index.js":
/*!**********************************************!*\
  !*** ./node_modules/remove-accents/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var characterMap = {
	"À": "A",
	"Á": "A",
	"Â": "A",
	"Ã": "A",
	"Ä": "A",
	"Å": "A",
	"Ấ": "A",
	"Ắ": "A",
	"Ẳ": "A",
	"Ẵ": "A",
	"Ặ": "A",
	"Æ": "AE",
	"Ầ": "A",
	"Ằ": "A",
	"Ȃ": "A",
	"Ç": "C",
	"Ḉ": "C",
	"È": "E",
	"É": "E",
	"Ê": "E",
	"Ë": "E",
	"Ế": "E",
	"Ḗ": "E",
	"Ề": "E",
	"Ḕ": "E",
	"Ḝ": "E",
	"Ȇ": "E",
	"Ì": "I",
	"Í": "I",
	"Î": "I",
	"Ï": "I",
	"Ḯ": "I",
	"Ȋ": "I",
	"Ð": "D",
	"Ñ": "N",
	"Ò": "O",
	"Ó": "O",
	"Ô": "O",
	"Õ": "O",
	"Ö": "O",
	"Ø": "O",
	"Ố": "O",
	"Ṍ": "O",
	"Ṓ": "O",
	"Ȏ": "O",
	"Ù": "U",
	"Ú": "U",
	"Û": "U",
	"Ü": "U",
	"Ý": "Y",
	"à": "a",
	"á": "a",
	"â": "a",
	"ã": "a",
	"ä": "a",
	"å": "a",
	"ấ": "a",
	"ắ": "a",
	"ẳ": "a",
	"ẵ": "a",
	"ặ": "a",
	"æ": "ae",
	"ầ": "a",
	"ằ": "a",
	"ȃ": "a",
	"ç": "c",
	"ḉ": "c",
	"è": "e",
	"é": "e",
	"ê": "e",
	"ë": "e",
	"ế": "e",
	"ḗ": "e",
	"ề": "e",
	"ḕ": "e",
	"ḝ": "e",
	"ȇ": "e",
	"ì": "i",
	"í": "i",
	"î": "i",
	"ï": "i",
	"ḯ": "i",
	"ȋ": "i",
	"ð": "d",
	"ñ": "n",
	"ò": "o",
	"ó": "o",
	"ô": "o",
	"õ": "o",
	"ö": "o",
	"ø": "o",
	"ố": "o",
	"ṍ": "o",
	"ṓ": "o",
	"ȏ": "o",
	"ù": "u",
	"ú": "u",
	"û": "u",
	"ü": "u",
	"ý": "y",
	"ÿ": "y",
	"Ā": "A",
	"ā": "a",
	"Ă": "A",
	"ă": "a",
	"Ą": "A",
	"ą": "a",
	"Ć": "C",
	"ć": "c",
	"Ĉ": "C",
	"ĉ": "c",
	"Ċ": "C",
	"ċ": "c",
	"Č": "C",
	"č": "c",
	"C̆": "C",
	"c̆": "c",
	"Ď": "D",
	"ď": "d",
	"Đ": "D",
	"đ": "d",
	"Ē": "E",
	"ē": "e",
	"Ĕ": "E",
	"ĕ": "e",
	"Ė": "E",
	"ė": "e",
	"Ę": "E",
	"ę": "e",
	"Ě": "E",
	"ě": "e",
	"Ĝ": "G",
	"Ǵ": "G",
	"ĝ": "g",
	"ǵ": "g",
	"Ğ": "G",
	"ğ": "g",
	"Ġ": "G",
	"ġ": "g",
	"Ģ": "G",
	"ģ": "g",
	"Ĥ": "H",
	"ĥ": "h",
	"Ħ": "H",
	"ħ": "h",
	"Ḫ": "H",
	"ḫ": "h",
	"Ĩ": "I",
	"ĩ": "i",
	"Ī": "I",
	"ī": "i",
	"Ĭ": "I",
	"ĭ": "i",
	"Į": "I",
	"į": "i",
	"İ": "I",
	"ı": "i",
	"Ĳ": "IJ",
	"ĳ": "ij",
	"Ĵ": "J",
	"ĵ": "j",
	"Ķ": "K",
	"ķ": "k",
	"Ḱ": "K",
	"ḱ": "k",
	"K̆": "K",
	"k̆": "k",
	"Ĺ": "L",
	"ĺ": "l",
	"Ļ": "L",
	"ļ": "l",
	"Ľ": "L",
	"ľ": "l",
	"Ŀ": "L",
	"ŀ": "l",
	"Ł": "l",
	"ł": "l",
	"Ḿ": "M",
	"ḿ": "m",
	"M̆": "M",
	"m̆": "m",
	"Ń": "N",
	"ń": "n",
	"Ņ": "N",
	"ņ": "n",
	"Ň": "N",
	"ň": "n",
	"ŉ": "n",
	"N̆": "N",
	"n̆": "n",
	"Ō": "O",
	"ō": "o",
	"Ŏ": "O",
	"ŏ": "o",
	"Ő": "O",
	"ő": "o",
	"Œ": "OE",
	"œ": "oe",
	"P̆": "P",
	"p̆": "p",
	"Ŕ": "R",
	"ŕ": "r",
	"Ŗ": "R",
	"ŗ": "r",
	"Ř": "R",
	"ř": "r",
	"R̆": "R",
	"r̆": "r",
	"Ȓ": "R",
	"ȓ": "r",
	"Ś": "S",
	"ś": "s",
	"Ŝ": "S",
	"ŝ": "s",
	"Ş": "S",
	"Ș": "S",
	"ș": "s",
	"ş": "s",
	"Š": "S",
	"š": "s",
	"Ţ": "T",
	"ţ": "t",
	"ț": "t",
	"Ț": "T",
	"Ť": "T",
	"ť": "t",
	"Ŧ": "T",
	"ŧ": "t",
	"T̆": "T",
	"t̆": "t",
	"Ũ": "U",
	"ũ": "u",
	"Ū": "U",
	"ū": "u",
	"Ŭ": "U",
	"ŭ": "u",
	"Ů": "U",
	"ů": "u",
	"Ű": "U",
	"ű": "u",
	"Ų": "U",
	"ų": "u",
	"Ȗ": "U",
	"ȗ": "u",
	"V̆": "V",
	"v̆": "v",
	"Ŵ": "W",
	"ŵ": "w",
	"Ẃ": "W",
	"ẃ": "w",
	"X̆": "X",
	"x̆": "x",
	"Ŷ": "Y",
	"ŷ": "y",
	"Ÿ": "Y",
	"Y̆": "Y",
	"y̆": "y",
	"Ź": "Z",
	"ź": "z",
	"Ż": "Z",
	"ż": "z",
	"Ž": "Z",
	"ž": "z",
	"ſ": "s",
	"ƒ": "f",
	"Ơ": "O",
	"ơ": "o",
	"Ư": "U",
	"ư": "u",
	"Ǎ": "A",
	"ǎ": "a",
	"Ǐ": "I",
	"ǐ": "i",
	"Ǒ": "O",
	"ǒ": "o",
	"Ǔ": "U",
	"ǔ": "u",
	"Ǖ": "U",
	"ǖ": "u",
	"Ǘ": "U",
	"ǘ": "u",
	"Ǚ": "U",
	"ǚ": "u",
	"Ǜ": "U",
	"ǜ": "u",
	"Ứ": "U",
	"ứ": "u",
	"Ṹ": "U",
	"ṹ": "u",
	"Ǻ": "A",
	"ǻ": "a",
	"Ǽ": "AE",
	"ǽ": "ae",
	"Ǿ": "O",
	"ǿ": "o",
	"Þ": "TH",
	"þ": "th",
	"Ṕ": "P",
	"ṕ": "p",
	"Ṥ": "S",
	"ṥ": "s",
	"X́": "X",
	"x́": "x",
	"Ѓ": "Г",
	"ѓ": "г",
	"Ќ": "К",
	"ќ": "к",
	"A̋": "A",
	"a̋": "a",
	"E̋": "E",
	"e̋": "e",
	"I̋": "I",
	"i̋": "i",
	"Ǹ": "N",
	"ǹ": "n",
	"Ồ": "O",
	"ồ": "o",
	"Ṑ": "O",
	"ṑ": "o",
	"Ừ": "U",
	"ừ": "u",
	"Ẁ": "W",
	"ẁ": "w",
	"Ỳ": "Y",
	"ỳ": "y",
	"Ȁ": "A",
	"ȁ": "a",
	"Ȅ": "E",
	"ȅ": "e",
	"Ȉ": "I",
	"ȉ": "i",
	"Ȍ": "O",
	"ȍ": "o",
	"Ȑ": "R",
	"ȑ": "r",
	"Ȕ": "U",
	"ȕ": "u",
	"B̌": "B",
	"b̌": "b",
	"Č̣": "C",
	"č̣": "c",
	"Ê̌": "E",
	"ê̌": "e",
	"F̌": "F",
	"f̌": "f",
	"Ǧ": "G",
	"ǧ": "g",
	"Ȟ": "H",
	"ȟ": "h",
	"J̌": "J",
	"ǰ": "j",
	"Ǩ": "K",
	"ǩ": "k",
	"M̌": "M",
	"m̌": "m",
	"P̌": "P",
	"p̌": "p",
	"Q̌": "Q",
	"q̌": "q",
	"Ř̩": "R",
	"ř̩": "r",
	"Ṧ": "S",
	"ṧ": "s",
	"V̌": "V",
	"v̌": "v",
	"W̌": "W",
	"w̌": "w",
	"X̌": "X",
	"x̌": "x",
	"Y̌": "Y",
	"y̌": "y",
	"A̧": "A",
	"a̧": "a",
	"B̧": "B",
	"b̧": "b",
	"Ḑ": "D",
	"ḑ": "d",
	"Ȩ": "E",
	"ȩ": "e",
	"Ɛ̧": "E",
	"ɛ̧": "e",
	"Ḩ": "H",
	"ḩ": "h",
	"I̧": "I",
	"i̧": "i",
	"Ɨ̧": "I",
	"ɨ̧": "i",
	"M̧": "M",
	"m̧": "m",
	"O̧": "O",
	"o̧": "o",
	"Q̧": "Q",
	"q̧": "q",
	"U̧": "U",
	"u̧": "u",
	"X̧": "X",
	"x̧": "x",
	"Z̧": "Z",
	"z̧": "z",
};

var chars = Object.keys(characterMap).join('|');
var allAccents = new RegExp(chars, 'g');
var firstAccent = new RegExp(chars, '');

var removeAccents = function(string) {	
	return string.replace(allAccents, function(match) {
		return characterMap[match];
	});
};

var hasAccents = function(string) {
	return !!string.match(firstAccent);
};

module.exports = removeAccents;
module.exports.has = hasAccents;
module.exports.remove = removeAccents;


/***/ }),

/***/ "./node_modules/use-memo-one/dist/use-memo-one.esm.js":
/*!************************************************************!*\
  !*** ./node_modules/use-memo-one/dist/use-memo-one.esm.js ***!
  \************************************************************/
/*! exports provided: useCallback, useCallbackOne, useMemo, useMemoOne */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useCallback", function() { return useCallback; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useCallbackOne", function() { return useCallbackOne; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useMemo", function() { return useMemo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useMemoOne", function() { return useMemoOne; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);


function areInputsEqual(newInputs, lastInputs) {
  if (newInputs.length !== lastInputs.length) {
    return false;
  }

  for (var i = 0; i < newInputs.length; i++) {
    if (newInputs[i] !== lastInputs[i]) {
      return false;
    }
  }

  return true;
}

function useMemoOne(getResult, inputs) {
  var initial = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(function () {
    return {
      inputs: inputs,
      result: getResult()
    };
  })[0];
  var isFirstRun = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(true);
  var committed = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(initial);
  var useCache = isFirstRun.current || Boolean(inputs && committed.current.inputs && areInputsEqual(inputs, committed.current.inputs));
  var cache = useCache ? committed.current : {
    inputs: inputs,
    result: getResult()
  };
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    isFirstRun.current = false;
    committed.current = cache;
  }, [cache]);
  return cache.result;
}
function useCallbackOne(callback, inputs) {
  return useMemoOne(function () {
    return callback;
  }, inputs);
}
var useMemo = useMemoOne;
var useCallback = useCallbackOne;




/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXNzZXJ0VGhpc0luaXRpYWxpemVkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jb25zdHJ1Y3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2dldFByb3RvdHlwZU9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pc05hdGl2ZUZ1bmN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3dyYXBOYXRpdmVTdXBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWJveC1tb2RlbC9kaXN0L2Nzcy1ib3gtbW9kZWwuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wbHlyL2Rpc3QvcGx5ci5jc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC5pc2VxdWFsL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2guc29ydGJ5L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tYXRjaC1zb3J0ZXIvZGlzdC9tYXRjaC1zb3J0ZXIuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tZW1vaXplLW9uZS9kaXN0L21lbW9pemUtb25lLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGx5ci9kaXN0L3BseXIuY3NzPzQyM2QiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BseXIvZGlzdC9wbHlyLm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcG9saXNoZWQvZGlzdC9wb2xpc2hlZC5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhZi1zY2hkL2Rpc3QvcmFmLXNjaGQuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1iZWF1dGlmdWwtZG5kL2Rpc3QvcmVhY3QtYmVhdXRpZnVsLWRuZC5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRyYWdnYWJsZS9idWlsZC9janMvRHJhZ2dhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kcmFnZ2FibGUvYnVpbGQvY2pzL0RyYWdnYWJsZUNvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRyYWdnYWJsZS9idWlsZC9janMvY2pzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kcmFnZ2FibGUvYnVpbGQvY2pzL3V0aWxzL2RvbUZucy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZHJhZ2dhYmxlL2J1aWxkL2Nqcy91dGlscy9nZXRQcmVmaXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRyYWdnYWJsZS9idWlsZC9janMvdXRpbHMvbG9nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kcmFnZ2FibGUvYnVpbGQvY2pzL3V0aWxzL3Bvc2l0aW9uRm5zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kcmFnZ2FibGUvYnVpbGQvY2pzL3V0aWxzL3NoaW1zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1ncmlkLWxheW91dC9idWlsZC9HcmlkSXRlbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZ3JpZC1sYXlvdXQvYnVpbGQvUmVhY3RHcmlkTGF5b3V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1ncmlkLWxheW91dC9idWlsZC9SZWFjdEdyaWRMYXlvdXRQcm9wVHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWdyaWQtbGF5b3V0L2J1aWxkL1Jlc3BvbnNpdmVSZWFjdEdyaWRMYXlvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWdyaWQtbGF5b3V0L2J1aWxkL2NhbGN1bGF0ZVV0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1ncmlkLWxheW91dC9idWlsZC9jb21wb25lbnRzL1dpZHRoUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWdyaWQtbGF5b3V0L2J1aWxkL2Zhc3RSR0xQcm9wc0VxdWFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1ncmlkLWxheW91dC9idWlsZC9yZXNwb25zaXZlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWdyaWQtbGF5b3V0L2J1aWxkL3V0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1ncmlkLWxheW91dC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVzaXphYmxlL2J1aWxkL1Jlc2l6YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVzaXphYmxlL2J1aWxkL1Jlc2l6YWJsZUJveC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVzaXphYmxlL2J1aWxkL3Byb3BUeXBlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVzaXphYmxlL2J1aWxkL3V0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1yZXNpemFibGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXJ0ZS9kaXN0L3JlYWN0LXJ0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVtb3ZlLWFjY2VudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VzZS1tZW1vLW9uZS9kaXN0L3VzZS1tZW1vLW9uZS5lc20uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEM7Ozs7Ozs7Ozs7OztBQ05BO0FBQUE7QUFBQTtBQUFBO0FBQWlEO0FBQ29CO0FBQ3REO0FBQ2YsTUFBTSw0RUFBd0I7QUFDOUI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrRUFBYztBQUMvQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDOzs7Ozs7Ozs7Ozs7QUNqQkE7QUFBQTtBQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDOzs7Ozs7Ozs7Ozs7QUNMQTtBQUFBO0FBQWU7QUFDZjtBQUNBLEM7Ozs7Ozs7Ozs7OztBQ0ZBO0FBQUE7QUFBZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdGQUFnRjtBQUNoRjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsQzs7Ozs7Ozs7Ozs7O0FDWEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWlEO0FBQ0E7QUFDSTtBQUNkO0FBQ3hCO0FBQ2Y7O0FBRUE7QUFDQSwyQkFBMkIsb0VBQWdCOztBQUUzQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSw2REFBUyxtQkFBbUIsa0VBQWM7QUFDdkQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsV0FBVyxrRUFBYztBQUN6Qjs7QUFFQTtBQUNBLEM7Ozs7Ozs7Ozs7OztBQ3BDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUF1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OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixXQUFXLE9BQU87QUFDbEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLEVBQUU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYSxFQUFFO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtB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OztBQUVBO0FBQ0Esa0JBQWtCLEtBQTBCOztBQUU1QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLEVBQUU7QUFDYixXQUFXLE1BQU07QUFDakIsYUFBYSxFQUFFO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLFNBQVM7QUFDcEIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLE1BQU07QUFDakIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsU0FBUztBQUNwQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLFNBQVM7QUFDcEIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYSxFQUFFO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxFQUFFO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxFQUFFO0FBQ2IsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxFQUFFO0FBQ2IsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxFQUFFO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxFQUFFO0FBQ2IsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFD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VyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLEVBQUU7QUFD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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixrQkFBa0IsRUFBRTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxhQUFhO0FBQ3hCLFdBQVcsRUFBRTtBQUNiLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUSxPQUFPLFNBQVMsRUFBRTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsYUFBYTtBQUN4QixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBLDBCQUEwQixnQkFBZ0IsU0FBUyxHQUFHO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLE1BQU0sT0FBTyxTQUFTLEVBQUU7QUFDeEIsTUFBTSxPQUFPLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7QUNya0ZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTBEO0FBQ2Y7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFlBQVksTUFBTTtBQUNsQjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLGtGQUFRLEdBQUc7QUFDOUI7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYSxzREFBc0Q7QUFDbkU7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLE9BQU87QUFDcEI7OztBQUdBO0FBQ0E7QUFDQSxrRUFBa0U7O0FBRWxFO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQSw0Q0FBNEM7O0FBRTVDO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsT0FBTztBQUNwQjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLE9BQU87QUFDcEI7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMENBQTBDLE9BQU87QUFDakQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsMENBQTBDLE9BQU87QUFDakQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFlBQVksT0FBTztBQUNuQjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPLFlBQVk7QUFDOUIsWUFBWSxPQUFPO0FBQ25COzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjs7QUFFckI7QUFDQSxZQUFZLHFEQUFhO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsZ0JBQWdCO0FBQzNCLFlBQVksTUFBTTtBQUNsQjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsTUFBTSxNQUFNO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUEsa0NBQWtDLE9BQU87QUFDekM7QUFDQTs7QUFFQSxzQ0FBc0MsT0FBTztBQUM3QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7OztBQUdBO0FBQ0E7O0FBRUEsa0NBQWtDLE9BQU87QUFDekM7QUFDQTtBQUNBOztBQUVBLDBDQUEwQyxPQUFPO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsa0ZBQVEsR0FBRztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVvRDs7Ozs7Ozs7Ozs7OztBQy9icEQ7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2QkFBNkIsMEJBQTBCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1QkFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWUseUVBQVUsRUFBQzs7Ozs7Ozs7Ozs7O0FDaEQxQixVQUFVLG1CQUFPLENBQUMseUlBQThEO0FBQ2hGLDBCQUEwQixtQkFBTyxDQUFDLHlIQUEyQzs7QUFFN0U7O0FBRUE7QUFDQSwwQkFBMEIsUUFBUztBQUNuQzs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOzs7O0FBSUEsc0M7Ozs7Ozs7Ozs7O0FDbEJBLHdGQUEwQyxLQUFvRCxvQkFBb0IsU0FBcUgsQ0FBQyxrQkFBa0IsYUFBYSxrQkFBa0IseUNBQXlDLGtEQUFrRCxXQUFXLGdCQUFnQixZQUFZLFdBQVcsS0FBSyxXQUFXLCtHQUErRyxrQkFBa0IseUNBQXlDLGtEQUFrRCxXQUFXLGdCQUFnQixxQkFBcUIsaUNBQWlDLHNDQUFzQyw0QkFBNEIsdURBQXVELHNCQUFzQixTQUFTLGNBQWMsWUFBWSxtQkFBbUIsS0FBSyx5Q0FBeUMseUNBQXlDLFlBQVkscUlBQXFJLGdFQUFnRSxHQUFHLFNBQVMsT0FBTyxrQ0FBa0MsZ0JBQWdCLGtCQUFrQiwrREFBK0QsV0FBVyxrQkFBa0Isa0NBQWtDLGlCQUFpQiwrQkFBK0IsZUFBZSxlQUFlLGVBQWUscUJBQXFCLGVBQWUscUJBQXFCLGVBQWUsd0JBQXdCLGVBQWUscUJBQXFCLDJCQUEyQixvQkFBb0IsZUFBZSxrQkFBa0IsZUFBZSwwRUFBMEUsZ0JBQWdCLFFBQVEsa0JBQWtCLDZEQUE2RCwyREFBMkQsSUFBSSxnQ0FBZ0MseUJBQXlCLGlCQUFpQixnQkFBZ0IsZUFBZSw4RUFBOEUsMklBQTJJLEtBQUssaUJBQWlCLHVCQUF1Qiw4QkFBOEIsS0FBSyw0QkFBNEIsa05BQWtOLEVBQUUsK0JBQStCLDhMQUE4TCxFQUFFLGtDQUFrQyx3REFBd0QsMkRBQTJELDRCQUE0QixnQkFBZ0IsTUFBTSxJQUFJLEVBQUUsNEJBQTRCLGlDQUFpQyx3T0FBd08sNkhBQTZILEVBQUUsNEJBQTRCLGtHQUFrRyxTQUFTLG1CQUFtQixXQUFXLEVBQUUsb0JBQW9CLGtEQUFrRCxJQUFJLDhCQUE4QiwrREFBK0QsUUFBUSwySkFBMkosVUFBVSxLQUFLLElBQUksa0JBQWtCLHdDQUF3QyxtQ0FBbUMsOENBQThDLHlCQUF5QixHQUFHLEdBQUcsR0FBRyx5QkFBeUIsd0JBQXdCLEVBQUUsMEJBQTBCLGtCQUFrQixJQUFJLEVBQUUsNkJBQTZCLGlEQUFpRCxLQUFLLEdBQUcscVFBQXFRLG9UQUFvVCw0QkFBNEIsa0JBQWtCLFFBQVEsZ0VBQWdFLEVBQUUsR0FBRyxJQUFJLDhCQUE4QixTQUFTLFVBQVUsS0FBSyxjQUFjLDBDQUEwQyw0SUFBNEksaURBQWlELG1CQUFtQixJQUFJLGdCQUFnQixpQkFBaUIsSUFBSSx1Q0FBdUMsV0FBVyxLQUFLLFNBQVMseVNBQXlTLGdCQUFnQiwrQ0FBK0MsZUFBZSxPQUFPLHNCQUFzQixrQkFBa0IseUNBQXlDLHNEQUFzRCxPQUFPLGlDQUFpQyxTQUFTLEVBQUUsZ0JBQWdCLGdCQUFnQix1QkFBdUIseUNBQXlDLDZEQUE2RCx3REFBd0QsR0FBRyxnQkFBZ0IsK0ZBQStGLGtCQUFrQixrQ0FBa0MsNENBQTRDLHFCQUFxQiw4QkFBOEIsZUFBZSx3RkFBd0YsZUFBZSxnQkFBZ0IsSUFBSSxTQUFTLGNBQWMsS0FBSyxJQUFJLGlDQUFpQyxpQkFBaUIsMkVBQTJFLGlCQUFpQix3QkFBd0IsVUFBVSxPQUFPLElBQUksaUNBQWlDLHdIQUF3SCxvQkFBb0IsOEJBQThCLFFBQVEsR0FBRyxFQUFFLFlBQVksTUFBTSwrQkFBK0IsTUFBTSxnQkFBZ0IsVUFBVSxpQkFBaUIsZ0JBQWdCLFFBQVEsK0JBQStCLG1CQUFtQixpREFBaUQsU0FBUyxlQUFlLGtGQUFrRixTQUFTLGlCQUFpQixxQ0FBcUMsaUJBQWlCLE1BQU0sWUFBWSxTQUFTLGlHQUFpRywrREFBK0QsWUFBWSxlQUFlLG1EQUFtRCxlQUFlLGdEQUFnRCx5QkFBeUIsZ0JBQWdCLGlCQUFpQiw0Q0FBNEMsVUFBVSwwSEFBMEgsS0FBSyx5SEFBeUgsMkRBQTJELE9BQU8sMERBQTBELGtRQUFrUSxpQkFBaUIsc0JBQXNCLFFBQVEseUNBQXlDLG1DQUFtQyxXQUFXLE1BQU0sSUFBSSxJQUFJLDhEQUE4RCxTQUFTLFVBQVUsNEVBQTRFLHdDQUF3Qyx1Q0FBdUMsa0tBQWtLLFVBQVUsU0FBUyxJQUFJLGdDQUFnQyxZQUFZLG9CQUFvQixFQUFFLGlGQUFpRixVQUFVLFNBQVMsSUFBSSxrQ0FBa0MscURBQXFELHFCQUFxQixRQUFRLFFBQVEsb0JBQW9CLGlCQUFpQix3REFBd0Qsc0NBQXNDLHVEQUF1RCxHQUFHLGdDQUFnQywyQkFBMkIsZ0NBQWdDLDJCQUEyQixnQ0FBZ0MsaUJBQWlCLCtCQUErQiwyQkFBMkIsNEJBQTRCLEVBQUUsc0JBQXNCLDJCQUEyQixrQkFBa0IsZ0JBQWdCLEVBQUUsbUJBQW1CLGNBQWMsNkRBQTZELE1BQU0sc0NBQXNDLEdBQUcsNkJBQTZCLDJCQUEyQixjQUFjLGdIQUFnSCxHQUFHLGVBQWUseUJBQXlCLEdBQUcsZUFBZSxrREFBa0QsaUJBQWlCLDhFQUE4RSxvSUFBb0ksaUJBQWlCLEtBQUssRUFBRSxlQUFlLDJDQUEyQyxpREFBaUQsZUFBZSxrQ0FBa0MsZ0RBQWdELGdCQUFnQixlQUFlLCtDQUErQyxXQUFXLHVGQUF1RixRQUFRLHFDQUFxQyxNQUFNLDJCQUEyQixZQUFZLFlBQVksU0FBUyxlQUFlLDBCQUEwQixNQUFNLFVBQVUsaUNBQWlDLGtCQUFrQix1QkFBdUIsc0RBQXNELEVBQUUsR0FBRyxFQUFFLDBCQUEwQixFQUFFLEdBQUcsRUFBRSwyQkFBMkIsRUFBRSxnRUFBZ0UsaUhBQWlILDRGQUE0RixFQUFFLElBQUksdUZBQXVGLE9BQU8sbUJBQW1CLHVCQUF1QixvQ0FBb0Msb0NBQW9DLFVBQVUsYUFBYSwwQkFBMEIscUVBQXFFLCtCQUErQixtQ0FBbUMsR0FBRyxxQkFBcUIsZ0pBQWdKLFNBQVMsd0JBQXdCLGFBQWEsaUhBQWlILE1BQU0sMEVBQTBFLHlDQUF5QyxRQUFRLGtCQUFrQixzRkFBc0YsS0FBSyw0RUFBNEUsYUFBYSxNQUFNLDZEQUE2RCxTQUFTLGtGQUFrRiwwQ0FBMEMsbUJBQW1CLHNDQUFzQyxVQUFVLElBQUksRUFBRSxrQkFBa0Isb0tBQW9LLG9CQUFvQixxQ0FBcUMsTUFBTSw2QkFBNkIsbUZBQW1GLDRJQUE0SSxrQkFBa0IsbUJBQW1CLHdCQUF3QixtQkFBbUIsNERBQTRELHlDQUF5QyxlQUFlLHNDQUFzQyxvQ0FBb0MsVUFBVSwwRUFBMEUsS0FBSyxhQUFhLEVBQUUsdUJBQXVCLGtCQUFrQixvREFBb0QsU0FBUyxFQUFFLFNBQVMsZUFBZSxNQUFNLFdBQVcsNENBQTRDLFlBQVksT0FBTyxTQUFTLGVBQWUsa0JBQWtCLDRDQUE0Qyw4Q0FBOEMsb0JBQW9CLHNCQUFzQiw2QkFBNkIscUJBQXFCLHVDQUF1QyxnQkFBZ0IsaUJBQWlCLFdBQVcsaUVBQWlFLHVFQUF1RSx1QkFBdUIsSUFBSSx1Q0FBdUMsa0JBQWtCLDZFQUE2RSxTQUFTLFdBQVcsd0JBQXdCLDRCQUE0QixJQUFJLDJCQUEyQixtQ0FBbUMsZ0NBQWdDLGtCQUFrQiw4QkFBOEIsU0FBUyxrQkFBa0IsbUJBQW1CLG9DQUFvQywwQkFBMEIsZ0RBQWdELFNBQVMsTUFBTSxHQUFHLGlCQUFpQixnQkFBZ0IsYUFBYSxTQUFTLHdEQUF3RCwyRUFBMkUsYUFBYSxxREFBcUQsNERBQTRELDZDQUE2QyxFQUFFLEdBQUcsaUJBQWlCLHNCQUFzQixnQkFBZ0IsZ0JBQWdCLCtDQUErQyxFQUFFLGtCQUFrQixVQUFVLFdBQVcsZ0JBQWdCLElBQUksc0NBQXNDLDJCQUEyQiwrQkFBK0IsZUFBZSxFQUFFLFlBQVksWUFBWSxxQ0FBcUMsTUFBTSxvQ0FBb0MsbUJBQW1CLEVBQUUsU0FBUyxjQUFjLEVBQUUsRUFBRSxFQUFFLEtBQUssR0FBRyxLQUFLLEVBQUUsVUFBVSxhQUFhLGdIQUFnSCxPQUFPLGdDQUFnQyxnQkFBZ0IsSUFBSSwwR0FBMEcsNG9CQUE0b0IsMkZBQTJGLDhHQUE4Ryx3QkFBd0IsNExBQTRMLHdHQUF3RywrQkFBK0IsT0FBTyxTQUFTLDhIQUE4SCxpQkFBaUIscUVBQXFFLGdCQUFnQixHQUFHLHVCQUF1QixzQ0FBc0MsU0FBUyx1Q0FBdUMsR0FBRywrQ0FBK0MsRUFBRSxHQUFHLEVBQUUsRUFBRSwrSkFBK0osbUJBQW1CLEVBQUUsOEJBQThCLGlCQUFpQiw2RUFBNkUsSUFBSSxnQkFBZ0Isb0JBQW9CLGtCQUFrQix3Q0FBd0MsRUFBRSwrQkFBK0Isd0NBQXdDLE9BQU8sbUJBQW1CLFlBQVksSUFBSSxZQUFZLFNBQVMsb0ZBQW9GLCtDQUErQyxvREFBb0Qsb0xBQW9MLFNBQVMsUUFBUSxHQUFHLCtCQUErQixFQUFFLDRDQUE0QyxpR0FBaUcsTUFBTSxvR0FBb0csTUFBTSx1SUFBdUksTUFBTSxpSkFBaUosTUFBTSw4QkFBOEIsK0JBQStCLGtEQUFrRCxNQUFNLHNEQUFzRCxxQkFBcUIsc0VBQXNFLHNCQUFzQixpREFBaUQsMEJBQTBCLDBEQUEwRCx1QkFBdUIsbURBQW1ELDJCQUEyQiwrUkFBK1Isa0JBQWtCLHlEQUF5RCx3S0FBd0ssS0FBSyw4RUFBOEUscUJBQXFCLDZEQUE2RCwwREFBMEQsS0FBSyxpQkFBaUIsa0NBQWtDLFNBQVMsa0NBQWtDLGlDQUFpQyxpQkFBaUIsZ0JBQWdCLEVBQUUsb0NBQW9DLGlCQUFpQiw4REFBOEQsU0FBUyxtQkFBbUIsR0FBRyxvQ0FBb0MsNkNBQTZDLFdBQVcsb0NBQW9DLDRCQUE0QixvQ0FBb0MsMkNBQTJDLG9FQUFvRSx1Q0FBdUMsa0VBQWtFLEtBQUssTUFBTSx5TUFBeU0sa0NBQWtDLHVEQUF1RCxHQUFHLGlCQUFpQix3REFBd0QsRUFBRSw4REFBOEQsNENBQTRDLCtCQUErQixHQUFHLG1CQUFtQixrQ0FBa0MsZUFBZSx5RkFBeUYscUVBQXFFLHVMQUF1TCwyQ0FBMkMsd0JBQXdCLDhEQUE4RCwyQ0FBMkMsTUFBTSw2QkFBNkIsTUFBTSxxQ0FBcUMseUNBQXlDLGlFQUFpRSxzQkFBc0Isa0JBQWtCLG1DQUFtQyxvQ0FBb0MsNkNBQTZDLGdCQUFnQixpT0FBaU8saUJBQWlCLGtEQUFrRCxtQkFBbUIsb0NBQW9DLFFBQVEsZ0JBQWdCLHVEQUF1RCxTQUFTLFVBQVUsMENBQTBDLHNDQUFzQyxvQkFBb0IsaU9BQWlPLE1BQU0sK0VBQStFLFFBQVEsb0JBQW9CLHdCQUF3QiwyQ0FBMkMsNENBQTRDLGlEQUFpRCx5R0FBeUcsNENBQTRDLFlBQVksZUFBZSxTQUFTLE1BQU0sbURBQW1ELG9CQUFvQixxRUFBcUUsYUFBYSxJQUFJLDZDQUE2QyxrRUFBa0Usc0JBQXNCLDhIQUE4SCxXQUFXLCtCQUErQiwwREFBMEQsZ0NBQWdDLFFBQVEsdURBQXVELHVDQUF1QyxLQUFLLG1EQUFtRCw4REFBOEQsNkpBQTZKLEVBQUUsZ0ZBQWdGLGVBQWUsbUVBQW1FLG1NQUFtTSxrQkFBa0Isd0VBQXdFLDJHQUEyRyxvR0FBb0csMENBQTBDLDhPQUE4Tyx1QkFBdUIseUNBQXlDLHNCQUFzQix5Q0FBeUMsZUFBZSxzQ0FBc0MsS0FBSyw0SkFBNEosRUFBRSxRQUFRLEVBQUUsR0FBRyx5RkFBeUYsRUFBRSxRQUFRLEVBQUUsR0FBRyw4REFBOEQsb0RBQW9ELGtDQUFrQyx3Q0FBd0Msc0NBQXNDLEVBQUUsS0FBSyxxQkFBcUIsZUFBZSxVQUFVLHlEQUF5RCxFQUFFLE9BQU8sRUFBRSx1QkFBdUIsK0JBQStCLEVBQUUsZUFBZSxxQkFBcUIsRUFBRSxHQUFHLGFBQWEsNkNBQTZDLHFCQUFxQixtQkFBbUIsb0RBQW9ELHlGQUF5Rix3RkFBd0YsZ0VBQWdFLDhFQUE4RSxZQUFZLCtCQUErQixFQUFFLGVBQWUsa0RBQWtELG1DQUFtQyxvQ0FBb0Msc0NBQXNDLGdCQUFnQiw2QkFBNkIsMEVBQTBFLEVBQUUsbUNBQW1DLG1CQUFtQixxREFBcUQseUlBQXlJLDhFQUE4RSx3QkFBd0Isd0xBQXdMLElBQUksV0FBVyxvR0FBb0csMEVBQTBFLGdCQUFnQixrREFBa0QscUZBQXFGLDhGQUE4Riw0REFBNEQscUdBQXFHLDZCQUE2Qiw2REFBNkQsRUFBRSxvQ0FBb0MsYUFBYSxNQUFNLFVBQVUsdUVBQXVFLG1DQUFtQyw0QkFBNEIsOENBQThDLFFBQVEsNEVBQTRFLDhDQUE4QyxrQkFBa0IsZUFBZSxNQUFNLFFBQVEseURBQXlELHVCQUF1QixNQUFNLFNBQVMsR0FBRyxRQUFRLFlBQVksZ0NBQWdDLGNBQWMsdUVBQXVFLGlDQUFpQyxzTEFBc0wsZ0JBQWdCLHdCQUF3QixzR0FBc0csdUNBQXVDLGNBQWMsa0JBQWtCLDBCQUEwQixnRUFBZ0UsUUFBUSxHQUFHLEVBQUUsR0FBRyxnQkFBZ0IsbUVBQW1FLHNDQUFzQyxpQkFBaUIsY0FBYyxzQkFBc0IsZUFBZSxJQUFJLDBDQUEwQyxxSEFBcUgscUNBQXFDLFFBQVEsc0JBQXNCLFNBQVMsSUFBSSx1REFBdUQsa0JBQWtCLHVDQUF1QywyQ0FBMkMsV0FBVyxNQUFNLG1JQUFtSSxJQUFJLGlLQUFpSyw0REFBNEQseUJBQXlCLFNBQVMsOEJBQThCLHdFQUF3RSxpUEFBaVAsaUJBQWlCLFNBQVMsUUFBUSw0QkFBNEIsZ0RBQWdELHFDQUFxQyxnQkFBZ0IsS0FBSyxFQUFFLG1FQUFtRSxrQkFBa0IscUNBQXFDLFVBQVUscURBQXFELGdGQUFnRixzSkFBc0osSUFBSSxTQUFTLGVBQWUsdUNBQXVDLElBQUksU0FBUyxRQUFRLHNCQUFzQixtSEFBbUgsU0FBUyx5Q0FBeUMsd0NBQXdDLGtCQUFrQixLQUFLLEVBQUUsS0FBSyxzR0FBc0csb0JBQW9CLElBQUksU0FBUyxRQUFRLDhCQUE4QixHQUFHLHNDQUFzQyxvREFBb0QsS0FBSyxxQkFBcUIsR0FBRyxpQkFBaUIsa0RBQWtELEtBQUssWUFBWSx3QkFBd0Isb0JBQW9CLEtBQUssT0FBTyxhQUFhLFlBQVksRUFBRSx5R0FBeUcsaUVBQWlFLHVCQUF1QiwrQkFBK0IsR0FBRywrQkFBK0Isd0RBQXdELEdBQUcsOENBQThDLGtCQUFrQixHQUFHLHlEQUF5RCx3Q0FBd0MsRUFBRSxvRUFBb0UsaUJBQWlCLG9CQUFvQixLQUFLLEdBQUcsRUFBRSxZQUFZLGdCQUFnQix1QkFBdUIsK0JBQStCLEdBQUcsK0JBQStCLFFBQVEsRUFBRSx3QkFBd0IsaUJBQWlCLGlEQUFpRCxvQ0FBb0MsZ0VBQWdFLDhFQUE4RSxtQ0FBbUMsdUJBQXVCLDJDQUEyQyxZQUFZLDJGQUEyRixtSEFBbUgsNklBQTZJLFlBQVksSUFBSSwrQ0FBK0MsRUFBRSw4QkFBOEIsTUFBTSxXQUFXLGtCQUFrQiwwQkFBMEIsYUFBYSxjQUFjLHNCQUFzQiwyQ0FBMkMsNkRBQTZELDZFQUE2RSxVQUFVLDJCQUEyQixpQ0FBaUMsZ0NBQWdDLHNDQUFzQyxXQUFXLDRCQUE0QixTQUFTLGtFQUFrRSxTQUFTLGtPQUFrTywrR0FBK0csUUFBUSxNQUFNLG9DQUFvQyxRQUFRLDRDQUE0QyxTQUFTLEVBQUUsR0FBRyxLQUFLLEtBQUssMEpBQTBKLHlKQUF5SixZQUFZLDhDQUE4QyxtQ0FBbUMsd0NBQXdDLFdBQVcsR0FBRyxrRUFBa0UseURBQXlELEdBQUcsaURBQWlELE1BQU0seUJBQXlCLGtCQUFrQixtQkFBbUIsR0FBRyxTQUFTLElBQUksU0FBUyxvQkFBb0IsMkJBQTJCLCtFQUErRSxNQUFNLG9CQUFvQixRQUFRLE1BQU0sb0NBQW9DLGtCQUFrQixJQUFJLGtCQUFrQixTQUFTLGFBQWEsZUFBZSw0QkFBNEIsa0RBQWtELFdBQVcsS0FBSyxVQUFVLFFBQVEsNkJBQTZCLHlOQUF5TixRQUFRLCtOQUErTiw2Q0FBNkMsMkJBQTJCLHNDQUFzQyxzSEFBc0gsb0RBQW9ELGVBQWUsTUFBTSxHQUFHLEdBQUcsZ0hBQWdILDBGQUEwRixvQkFBb0IsbUNBQW1DLFdBQVcsU0FBUyxvREFBb0QsMkNBQTJDLGdCQUFnQix5RUFBeUUsMkRBQTJELG1DQUFtQyxVQUFVLG9DQUFvQyw4Q0FBOEMsc0RBQXNELGtFQUFrRSx5Q0FBeUMsMkJBQTJCLG1HQUFtRywwVEFBMFQsZ0JBQWdCLDZCQUE2QixNQUFNLFVBQVUsb0VBQW9FLFVBQVUsZ0RBQWdELFdBQVcsMEJBQTBCLGlIQUFpSCw2RUFBNkUsME9BQTBPLGlCQUFpQix5RUFBeUUsR0FBRyxhQUFhLGdDQUFnQyw2QkFBNkIsbUNBQW1DLDZCQUE2QixjQUFjLFdBQVcsT0FBTyx1SEFBdUgsV0FBVyx5RkFBeUYsK0VBQStFLDBDQUEwQyxtREFBbUQsK0JBQStCLHFCQUFxQixvRUFBb0Usd0JBQXdCLHlCQUF5Qiw4REFBOEQsaUNBQWlDLGlCQUFpQixpQ0FBaUMsa0lBQWtJLG1CQUFtQiwwRUFBMEUsb0RBQW9ELE1BQU0sMkVBQTJFLG1CQUFtQixrREFBa0QsYUFBYSxRQUFRLGlOQUFpTixlQUFlLDZCQUE2Qiw4RkFBOEYsdUZBQXVGLFFBQVEsT0FBTyxzQ0FBc0MsbUJBQW1CLHFEQUFxRCx3Q0FBd0MseUNBQXlDLDJCQUEyQixvREFBb0QsMkZBQTJGLEtBQUssd1hBQXdYLDJGQUEyRixPQUFPLFVBQVUsUUFBUSxnREFBZ0QsV0FBVyxxQkFBcUIsV0FBVyxvQkFBb0IsV0FBVyxvQ0FBb0MsYUFBYSxvQ0FBb0MsVUFBVSxzQkFBc0IsMktBQTJLLGtDQUFrQyxTQUFTLG1EQUFtRCxTQUFTLDJCQUEyQixZQUFZLEtBQUssU0FBUyxxVEFBcVQsTUFBTSwyUUFBMlEsMERBQTBELE9BQU8scUJBQXFCLHFGQUFxRixFQUFFLEVBQUUsRUFBRSw4Q0FBOEMsRUFBRSxFQUFFLFVBQVUsNkdBQTZHLEVBQUUsRUFBRSxZQUFZLDBEQUEwRCxZQUFZLGlOQUFpTixvaUJBQW9pQixrRkFBa0YseUNBQXlDLCtCQUErQixxWkFBcVosU0FBUyxzSkFBc0osVUFBVSxrS0FBa0ssZ0ZBQWdGLGFBQWEsYUFBYSxFQUFFLG1CQUFtQixFQUFFLGduQkFBZ25CLGtCQUFrQixPQUFPLHFFQUFxRSxXQUFXLGdFQUFnRSxhQUFhLHdFQUF3RSxNQUFNLDBEQUEwRCxVQUFVLGtFQUFrRSwrQ0FBK0MsNlNBQTZTLGFBQWEsT0FBTyx1REFBdUQsTUFBTSxvQ0FBb0Msb0JBQW9CLGtCQUFrQixRQUFRLHdHQUF3RyxVQUFVLGtGQUFrRix5Q0FBeUMsOENBQThDLHVCQUF1QixnQkFBZ0IsU0FBUyxrQkFBa0IsMkVBQTJFLFVBQVUseUVBQXlFLFdBQVcsMEVBQTBFLFlBQVksNEVBQTRFLFNBQVMsZUFBZSx3QkFBd0Isd0JBQXdCLGdEQUFnRCw4QkFBOEIsbUZBQW1GLHlFQUF5RSxxQ0FBcUMsMEJBQTBCLHdDQUF3QyxzTEFBc0wsMkRBQTJELDZCQUE2Qix3RUFBd0UsNENBQTRDLDhDQUE4QyxFQUFFLCtGQUErRixnQkFBZ0IsMkJBQTJCLDhEQUE4RCwrSUFBK0ksbUdBQW1HLHlCQUF5QixpQkFBaUIsTUFBTSxnR0FBZ0csRUFBRSxzQkFBc0IsNkVBQTZFLGlHQUFpRyx3QkFBd0IsZ1FBQWdRLFlBQVksU0FBUyxjQUFjLG9DQUFvQyxvQkFBb0IsR0FBRyx1QkFBdUIsOEhBQThILCtEQUErRCxxQkFBcUIsb0JBQW9CLDRDQUE0QyxZQUFZLFlBQVksRUFBRSxFQUFFLEVBQUUsY0FBYyxNQUFNLHdFQUF3RSx5QkFBeUIscUNBQXFDLHNGQUFzRixRQUFRLHdJQUF3SSxNQUFNLFlBQVksU0FBUyw2QkFBNkIsV0FBVyxHQUFHLDRCQUE0QixnQ0FBZ0MsZ0NBQWdDLFlBQVksWUFBWSx1SUFBdUksWUFBWSx3QkFBd0IsZ0JBQWdCLHNFQUFzRSw0SUFBNEksK0ZBQStGLG9CQUFvQixvSUFBb0ksa0JBQWtCLHNDQUFzQyxvQkFBb0IsdUNBQXVDLFNBQVMsc0RBQXNELEVBQUUsa0NBQWtDLEVBQUUsbUNBQW1DLHNCQUFzQixvREFBb0QsY0FBYyxnSkFBZ0osYUFBYSwwQkFBMEIsMkdBQTJHLGdDQUFnQyxZQUFZLEVBQUUsY0FBYyxxQ0FBcUMsMEVBQTBFLGFBQWEsMklBQTJJLG1CQUFtQiw0QkFBNEIseUJBQXlCLDZEQUE2RCxpQkFBaUIseUJBQXlCLEVBQUUsR0FBRyxVQUFVLGVBQWUsZ0tBQWdLLDRCQUE0Qiw4RkFBOEYsU0FBUyw4RkFBOEYsY0FBYyxHQUFHLFVBQVUsOENBQThDLDBwQkFBMHBCLGlDQUFpQyw2RkFBNkYsc0RBQXNELFlBQVksaUNBQWlDLHlEQUF5RCxrQkFBa0IsMkRBQTJELCtCQUErQixpQkFBaUIsK0JBQStCLGdCQUFnQiwwRkFBMEYsbUNBQW1DLE1BQU0sT0FBTyxpQkFBaUIsbUVBQW1FLG1CQUFtQiwwTUFBME0sdURBQXVELGNBQWMscUZBQXFGLHdEQUF3RCx3QkFBd0IsRUFBRSxzQkFBc0Isc0NBQXNDLGlCQUFpQiw4UUFBOFEsaUJBQWlCLHFCQUFxQiwrRUFBK0UsNkRBQTZELGlCQUFpQiwySEFBMkgscUdBQXFHLHNCQUFzQixtQkFBbUIsTUFBTSxXQUFXLGVBQWUsZ0NBQWdDLHFEQUFxRCxtRkFBbUYsaUJBQWlCLGVBQWUsb0JBQW9CLGdFQUFnRSxxSEFBcUgsOERBQThELFNBQVMsZUFBZSwwQkFBMEIsTUFBTSxTQUFTLE9BQU8sV0FBVyxHQUFHLDBEQUEwRCw2QkFBNkIsTUFBTSxTQUFTLE9BQU8sV0FBVyxHQUFHLHdFQUF3RSxtREFBbUQseUNBQXlDLDhCQUE4QixxQ0FBcUMsaUJBQWlCLEVBQUUsU0FBUywyREFBMkQsK0JBQStCLG9GQUFvRixRQUFRLDZCQUE2QixNQUFNLFNBQVMsTUFBTSx5UUFBeVEsNEJBQTRCLE1BQU0sU0FBUyxPQUFPLDZCQUE2QixHQUFHLHVNQUF1TSxNQUFNLFdBQVcsR0FBRyx5REFBeUQsUUFBUSwrTEFBK0wsR0FBRyxZQUFZLHdCQUF3Qiw2Q0FBNkMsaUJBQWlCLEdBQUcsb0JBQW9CLEVBQUUsR0FBRyxFQUFFLEdBQUcsUUFBUSxvREFBb0QsNERBQTRELE1BQU0sdUJBQXVCLGNBQWMsMEJBQTBCLHdDQUF3QyxvQ0FBb0Msa0JBQWtCLE1BQU0sV0FBVyw2Q0FBNkMsOERBQThELGtFQUFrRSxrSEFBa0gsR0FBRyx3QkFBd0IsTUFBTSxTQUFTLE9BQU8sV0FBVyxHQUFHLDhNQUE4TSxtRUFBbUUsK1hBQStYLHNCQUFzQiwwQkFBMEIsR0FBRyxnQkFBZ0IsbUNBQW1DLDRKQUE0SixhQUFhLDhCQUE4QixtQkFBbUIsWUFBWSxHQUFHLG9GQUFvRixtQkFBbUIsNkNBQTZDLGVBQWUsOEJBQThCLEVBQUUsd0NBQXdDLGdEQUFnRCxjQUFjLEVBQUUsMENBQTBDLHlEQUF5RCxpREFBaUQsMEJBQTBCLEdBQUcsOERBQThELHlCQUF5QixJQUFJLFlBQVksR0FBRyx1RUFBdUUsR0FBRyw2QkFBNkIsTUFBTSxTQUFTLDhCQUE4QixTQUFTLGdEQUFnRCxtQ0FBbUMsTUFBTSxTQUFTLHFDQUFxQyw0Q0FBNEMsMkJBQTJCLE1BQU0sU0FBUyxPQUFPLFdBQVcsNkJBQTZCLDJEQUEyRCwwQkFBMEIsbUJBQW1CLFVBQVUscUdBQXFHLHFDQUFxQywwREFBMEQsc0NBQXNDLHdEQUF3RCxpQkFBaUIsb0hBQW9ILDhCQUE4QiwyREFBMkQsc0JBQXNCLHNEQUFzRCxlQUFlLDRHQUE0RywrREFBK0QscURBQXFELGdCQUFnQixxSUFBcUksb0RBQW9ELHNDQUFzQyxzREFBc0QsMEVBQTBFLDZDQUE2QyxzRkFBc0YseUVBQXlFLCtCQUErQiwwQkFBMEIsNEVBQTRFLHlGQUF5RixZQUFZLHlDQUF5Qyw0REFBNEQsK0JBQStCLHdCQUF3QixtQ0FBbUMsbUZBQW1GLHNKQUFzSixNQUFNLG9CQUFvQixHQUFHLDRCQUE0QiwwREFBMEQsTUFBTSxvQkFBb0IsR0FBRyw4QkFBOEIsb0RBQW9ELE1BQU0sb0JBQW9CLEdBQUcsaUNBQWlDLGdEQUFnRCxNQUFNLG9CQUFvQixHQUFHLCtCQUErQix5RUFBeUUsOERBQThELGdHQUFnRyxvRkFBb0Ysb0NBQW9DLHdCQUF3Qiw4REFBOEQsaURBQWlELHNHQUFzRyx5Q0FBeUMsaURBQWlELEdBQUcsaUZBQWlGLCtEQUErRCx3Q0FBd0MsTUFBTSxrQkFBa0IsR0FBRywwRkFBMEYsNENBQTRDLEtBQUssMkJBQTJCLHFGQUFxRiwwQ0FBMEMsaUlBQWlJLHVCQUF1QixNQUFNLFNBQVMsU0FBUyw4Q0FBOEMsZUFBZSwwUEFBMFAsYUFBYSxNQUFNLFNBQVMsT0FBTyxXQUFXLDRFQUE0RSxxREFBcUQsZ0JBQWdCLE1BQU0sK0JBQStCLFNBQVMsTUFBTSxXQUFXLHFCQUFxQixPQUFPLFVBQVUseUJBQXlCLDJEQUEyRCxpSUFBaUksd0hBQXdILE1BQU0sc0NBQXNDLE1BQU0sNkJBQTZCLE1BQU0sNkJBQTZCLE1BQU0sOEJBQThCLE1BQU0sb0JBQW9CLE1BQU0sbUJBQW1CLE1BQU0sOEJBQThCLE1BQU0sOEJBQThCLE1BQU0sdUJBQXVCLDZGQUE2Rix1QkFBdUIsY0FBYyxtQ0FBbUMsNklBQTZJLHFCQUFxQixZQUFZLFdBQVcsc0JBQXNCLGdCQUFnQixxQkFBcUIsa0JBQWtCLEtBQUssS0FBSyxNQUFNLGdCQUFnQixlQUFlLDhCQUE4QixvQkFBb0IsK0JBQStCLElBQUksZ0RBQWdELGdCQUFnQixNQUFNLFdBQVcsaUJBQWlCLFNBQVMsMEJBQTBCLGdCQUFnQixZQUFZLFVBQVUsNkNBQTZDLG9CQUFvQiwySEFBMkgsa1ZBQWtWLGdCQUFnQixTQUFTLGdDQUFnQyxTQUFTLG9CQUFvQixXQUFXLDhCQUE4QixrRUFBa0UsMEJBQTBCLG9DQUFvQyxrQkFBa0IsMkNBQTJDLHNCQUFzQiw2QkFBNkIsYUFBYSxVQUFVLFVBQVUsS0FBSyxJQUFJLGdCQUFnQixrQkFBa0IsUUFBUSxpQ0FBaUMsSUFBSSx3QkFBd0IsUUFBUSxnQkFBZ0IsaUJBQWlCLGFBQWEsa0JBQWtCLFdBQVcsS0FBSyx5Q0FBeUMsSUFBSSw2QkFBNkIsd0JBQXdCLE9BQU8sS0FBSyxvQkFBb0IsUUFBUSxvQkFBb0IsSUFBSSxLQUFLLE1BQU0seUJBQXlCLGNBQWMsR0FBRyxHQUFHLEdBQUcsZUFBZSw0QkFBNEIsTUFBTSxrQkFBa0IsRUFBRSxHQUFHLGVBQWUsNElBQTRJLFVBQVUsUUFBUSxhQUFhLDhLQUE4SyxpQkFBaUIsY0FBYyx1REFBdUQsR0FBRyxTQUFTLCtCQUErQixnQ0FBZ0MsR0FBRyxvQkFBb0Isd0JBQXdCLEVBQUUsWUFBWSwrSEFBK0gsRUFBRSxrQ0FBa0MsNkRBQTZELDBGQUEwRixNQUFNLHlEQUF5RCwyTEFBMkwsZ0lBQWdJLEtBQUssaUJBQWlCLGdFQUFnRSxFQUFFLHVDQUF1Qyw4REFBOEQsMEVBQTBFLEdBQUcsc0NBQXNDLDJDQUEyQyx5TUFBeU0sMkJBQTJCLElBQUksY0FBYyxTQUFTLDZDQUE2QyxpQkFBaUIsTUFBTSxrQ0FBa0MscUJBQXFCLDJLQUEySyxJQUFJLEVBQUUsOEJBQThCLDhDQUE4QyxpQkFBaUIsc0NBQXNDLG9DQUFvQyxlQUFlLG9CQUFvQixJQUFJLEVBQUUsSUFBSSxTQUFTLFVBQVUsd0NBQXdDLGlCQUFpQixnQ0FBZ0Msc0NBQXNDLElBQUksRUFBRSxJQUFJLFFBQVEsVUFBVSx1Q0FBdUMsaUJBQWlCLGtCQUFrQixrREFBa0Qsc0NBQXNDLElBQUksRUFBRSxPQUFPLE9BQU8sVUFBVSxzQ0FBc0MsaUJBQWlCLG9DQUFvQyw4QkFBOEIsSUFBSSxJQUFJLGtDQUFrQyw4QkFBOEIsY0FBYyxtQkFBbUIsK0NBQStDLFVBQVUseUNBQXlDLG1DQUFtQyw0RUFBNEUsYUFBYSxvQ0FBb0Msc0RBQXNELHFCQUFxQixxQ0FBcUMsd0NBQXdDLHNDQUFzQyxvQ0FBb0MsbUNBQW1DLHVEQUF1RCxxQ0FBcUMsc0NBQXNDLDZCQUE2QixVQUFVLElBQUksOEJBQThCLDBFQUEwRSw2REFBNkQsV0FBVyx3QkFBd0IsNkJBQTZCLGlDQUFpQyw4Q0FBOEMsdUNBQXVDLDZDQUE2QyxrQ0FBa0MsNkJBQTZCLGdDQUFnQyw2QkFBNkIsMkJBQTJCLDJDQUEyQyw0QkFBNEIsY0FBYyxnQ0FBZ0MsK0RBQStELDhCQUE4Qix5SkFBeUosK0VBQStFLEdBQUcsNkJBQTZCLCtDQUErQyw0QkFBNEIsNkNBQTZDLDJCQUEyQiwyQ0FBMkMsNERBQTRELGVBQWUsNElBQTRJLGVBQWUsd0hBQXdILFVBQVUsUUFBUSxtSEFBbUgsS0FBSyx1Q0FBdUMsb0NBQW9DLDhCQUE4Qiw2Q0FBNkMsZ0RBQWdELElBQUksYUFBYSxpREFBaUQsU0FBUyxNQUFNLHlCQUF5QixHQUFHLG9FQUFvRSxjQUFjLGVBQWUsY0FBYyxHQUFHLFNBQVMsc0VBQXNFLDBDQUEwQyxrQ0FBa0MsZ0VBQWdFLHdHQUF3RyxNQUFNLGlCQUFpQixNQUFNLFdBQVcsR0FBRyw4QkFBOEIsaURBQWlELEVBQUUsMkNBQTJDLHFDQUFxQyxFQUFFLEdBQUcsRUFBRSxhQUFhLDBIQUEwSCx1RUFBdUUsZ0JBQWdCLEdBQUcsc0NBQXNDLG9DQUFvQyxFQUFFLG9SQUFvUixZQUFZLFdBQVcsbUJBQW1CLGtCQUFrQixpcUJBQWlxQixnQ0FBZ0MsZUFBZSxpQkFBaUIsNkJBQTZCLHlCQUF5QixpQkFBaUIseUVBQXlFLFlBQVksMEJBQTBCLGlCQUFpQix3Q0FBd0MsNEJBQTRCLG9CQUFvQiw2QkFBNkIsbUJBQW1CLGNBQWMsdUhBQXVILDBDQUEwQywwR0FBMEcsZ0RBQWdELG1DQUFtQyxzQkFBc0IsRUFBRSxJQUFJLFNBQVMsVUFBVSx3Q0FBd0MsaUJBQWlCLDBEQUEwRCxFQUFFLElBQUksUUFBUSxVQUFVLHVDQUF1QyxpQkFBaUIsaUJBQWlCLGlGQUFpRiw4Q0FBOEMsd0JBQXdCLHlDQUF5QyxtQ0FBbUMsRUFBRSxzQ0FBc0MsbVJBQW1SLG9SQUFvUiwrREFBK0Qsa0JBQWtCLGlCQUFpQixnQ0FBZ0MseUdBQXlHLGlIQUFpSCxNQUFNLDJGQUEyRixNQUFNLCtLQUErSyxnQ0FBZ0Msa0hBQWtILE1BQU0sK0NBQStDLE1BQU0sb0NBQW9DLGlEQUFpRCxZQUFZLElBQUksR0FBRyxLQUFLLFFBQVEsNkVBQTZFLEVBQUUsc0ZBQXNGLEVBQUUsb0dBQW9HLEVBQUUsNkRBQTZELG1DQUFtQyxvRUFBb0Usb0NBQW9DLCtNQUErTSxTQUFTLGVBQWUsb0JBQW9CLHdIQUF3SCxhQUFhLGVBQWUsaUVBQWlFLElBQUksd0JBQXdCLE1BQU0sNE5BQTROLDhDQUE4QyxvQ0FBb0MsMkJBQTJCLGlDQUFpQyx3Q0FBd0MsdXNCQUF1c0IsNkJBQTZCLE1BQU0sWUFBWSxzQkFBc0IsSUFBSSxrQ0FBa0Msd1FBQXdRLFNBQVMsbUJBQW1CLG9DQUFvQyxnSEFBZ0gsc0NBQXNDLDZEQUE2RCwyQ0FBMkMsS0FBSyxFQUFFLEVBQUUsMERBQTBELE9BQU8sb0NBQW9DLHdCQUF3Qiw0Q0FBNEMsNFNBQTRTLGlGQUFpRiwwQkFBMEIsK0JBQStCLCtDQUErQywwQ0FBMEMsc0NBQXNDLFNBQVMsK0NBQStDLHlDQUF5QyxFQUFFLGdCQUFnQixhQUFhLHNCQUFzQixHQUFHLDJCQUEyQixNQUFNLFlBQVksa0RBQWtELFlBQVksNENBQTRDLGlDQUFpQyxHQUFHLGtCQUFrQixnSkFBZ0osTUFBTSxnRkFBZ0YsTUFBTSw4R0FBOEcsTUFBTSx5RUFBeUUsTUFBTSxnR0FBZ0csTUFBTSwwRkFBMEYsdUJBQXVCLElBQUksMkJBQTJCLG9EQUFvRCw0QkFBNEIsTUFBTSxZQUFZLHNCQUFzQixNQUFNLCtCQUErQixvQkFBb0IsZ0NBQWdDLDhCQUE4QixxQ0FBcUMsMEJBQTBCLGlDQUFpQyxnQ0FBZ0MsbURBQW1ELHFFQUFxRSxHQUFHLDBDQUEwQywyRkFBMkYsR0FBRyx1QkFBdUIsTUFBTSxZQUFZLHNCQUFzQix5RUFBeUUsdUZBQXVGLElBQUksd0lBQXdJLFNBQVMsbUJBQW1CLGdCQUFnQixHQUFHLGdDQUFnQyxxRkFBcUYsK0JBQStCLGlGQUFpRix5QkFBeUIsNEVBQTRFLDBCQUEwQiwrQkFBK0IsMEVBQTBFLHdEQUF3RCx5Q0FBeUMsZ0JBQWdCLEdBQUcsZ0NBQWdDLHVCQUF1QixxQkFBcUIsc0JBQXNCLEdBQUcsaUlBQWlJLG9EQUFvRCxFQUFFLHFDQUFxQywwREFBMEQsS0FBSyxrQ0FBa0MsMEVBQTBFLEVBQUUseURBQXlELDZGQUE2RixxQ0FBcUMsc0VBQXNFLHlGQUF5Rix1Q0FBdUMsZUFBZSxjQUFjLE1BQU0sU0FBUyxNQUFNLDZGQUE2RixhQUFhLE1BQU0sU0FBUyxNQUFNLCtCQUErQixvREFBb0QsSUFBSSxrTEFBa0wsRUFBRSxHQUFHLGFBQWEsV0FBVyxrREFBa0QsV0FBVyxtQ0FBbUMsbUJBQW1CLDRCQUE0QixpQ0FBaUMsc0RBQXNELEtBQUssd0JBQXdCLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxTQUFTLElBQUksaUJBQWlCLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxTQUFTLElBQUksSUFBSSwrRUFBK0UsS0FBSyw0RUFBNEUsS0FBSyxLQUFLLHFCQUFxQixLQUFLLFlBQVksV0FBVywyR0FBMkcsU0FBUyxlQUFlLG9CQUFvQix1SkFBdUosaUZBQWlGLEdBQUcsZ0RBQWdELE1BQU0sTUFBTSxzQ0FBc0MsMEVBQTBFLGFBQWEsa0hBQWtILGVBQWUsc0JBQXNCLEdBQUcsS0FBSyxvREFBb0Qsd0JBQXdCLGdEQUFnRCxnQkFBZ0IsU0FBUyx1Q0FBdUMscUtBQXFLLGtCQUFrQixjQUFjLDRFQUE0RSxvQ0FBb0MsR0FBRyw2QkFBNkIsOEZBQThGLDhHQUE4RyxLQUFLLDZGQUE2Rix5UEFBeVAsK0JBQStCLDBCQUEwQixpQ0FBaUMsZ0NBQWdDLCtMQUErTCwrQkFBK0IsaUxBQWlMLGtEQUFrRCxHQUFHLDRCQUE0Qiw0QkFBNEIsaUNBQWlDLGlDQUFpQyw4QkFBOEIscUNBQXFDLDRDQUE0QyxHQUFHLHlCQUF5Qix1Q0FBdUMscUVBQXFFLDhDQUE4QyxxRUFBcUUsZ0ZBQWdGLGlCQUFpQixvRUFBb0UsRUFBRSxvQ0FBb0MscVBBQXFQLHlFQUF5RSw4RUFBOEUsMEJBQTBCLG9KQUFvSix5Q0FBeUMsbUZBQW1GLDhHQUE4RyxRQUFRLGtGQUFrRixvREFBb0QsbUVBQW1FLCtCQUErQixnREFBZ0QsWUFBWSwwQ0FBMEMsdU5BQXVOLEtBQUssc0VBQXNFLGtCQUFrQixtSEFBbUgsRUFBRSwwRkFBMEYsMENBQTBDLHdDQUF3QyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLG1RQUFtUSxpQ0FBaUMsNkRBQTZELDBDQUEwQyxrQ0FBa0MsMkRBQTJELHNCQUFzQixNQUFNLHdCQUF3QixNQUFNLGlCQUFpQiwwREFBMEQsbUJBQW1CLEdBQUcsTUFBTSxHQUFHLHNEQUFzRCxpQkFBaUIsMENBQTBDLGtDQUFrQyxNQUFNLHNGQUFzRixTQUFTLGVBQWUsZUFBZSwwQ0FBMEMseURBQXlELEVBQUUsR0FBRyxNQUFNLFlBQVksc0NBQXNDLHNCQUFzQixtREFBbUQsRUFBRSxrRUFBa0UsV0FBVyxPQUFPLDRDQUE0QywrQkFBK0Isc0JBQXNCLHlFQUF5RSwyRkFBMkYsRUFBRSx3QkFBd0IsUUFBUSxnREFBZ0QsNEVBQTRFLG1IQUFtSCwrQ0FBK0MsZ0ZBQWdGLG1IQUFtSCwrQ0FBK0Msc0lBQXNJLDhDQUE4Qyw0QkFBNEIsMEdBQTBHLDBGQUEwRixrREFBa0QsRUFBRSxJQUFJLCtHQUErRyx5RkFBeUYsbURBQW1ELEVBQUUsS0FBSyxLQUFLLG9FQUFvRSxtREFBbUQsMEJBQTBCLHNEQUFzRCxFQUFFLElBQUksNEJBQTRCLHVDQUF1Qyx3SEFBd0gsWUFBWSwwRUFBMEUsNENBQTRDLHNDQUFzQyxFQUFFLElBQUksNENBQTRDLE1BQU0saUJBQWlCLDJCQUEyQiwwRUFBMEUsRUFBRSxpREFBaUQsRUFBRSxzREFBc0QsRUFBRSxJQUFJLDJDQUEyQyw2QkFBNkIsc0NBQXNDLDJGQUEyRixNQUFNLG9CQUFvQixNQUFNLElBQUksMklBQTJJLFFBQVEsY0FBYyxhQUFhLGNBQWMsOEZBQThGLDRCQUE0QiwyRkFBMkYsbUJBQW1CLCtEQUErRCx1QkFBdUIsMElBQTBJLDJCQUEyQixtQkFBbUIsTUFBTSxTQUFTLDJCQUEyQiwwRUFBMEUsRUFBRSxTQUFTLGlKQUFpSiwwQkFBMEIsMEZBQTBGLDJCQUEyQix3RkFBd0YsVUFBVSxvQkFBb0Isc0JBQXNCLE1BQU0sdUJBQXVCLG1CQUFtQixHQUFHLFdBQVcsaUZBQWlGLG9JQUFvSSxNQUFNLGlCQUFpQixLQUFLLDBCQUEwQiwwQ0FBMEMsRUFBRSxPQUFPLG9CQUFvQiwrRUFBK0Usd2tDQUF3a0Msa0RBQWtELFNBQVMsaUJBQWlCLHFXQUFxVyxpRkFBaUYsMEJBQTBCLG1CQUFtQix3QkFBd0IsOENBQThDLHlCQUF5Qiw4Q0FBOEMsZ0NBQWdDLHVDQUF1Qyx5QkFBeUIsZ0NBQWdDLHdCQUF3QiwwQkFBMEIsd0RBQXdELGdDQUFnQyxxQ0FBcUMsbUtBQW1LLHVJQUF1SSwyQ0FBMkMsMkJBQTJCLFNBQVMsU0FBUyx3QkFBd0IsMENBQTBDLDBCQUEwQiwwQ0FBMEMseUJBQXlCLGdDQUFnQyxnQ0FBZ0Msc0JBQXNCLGFBQWEsNGhCQUE0aEIsbUNBQW1DLFNBQVMseVpBQXlaLDhEQUE4RCx5UUFBeVEscUJBQXFCLE9BQU8sSUFBSSwrREFBK0QsU0FBUyxVQUFVLG9CQUFvQix1REFBdUQsV0FBVyxZQUFZLFVBQVUsV0FBVyw4QkFBOEIsYUFBYSxnQkFBZ0IsNkNBQTZDLGtCQUFrQixVQUFVLGVBQWUsb0JBQW9CLCtNQUErTSx1RUFBdUUseUZBQXlGLDRFQUE0RSxpQ0FBaUMsdUNBQXVDLHlDQUF5QyxrQkFBa0IsVUFBVSx3REFBd0QseURBQXlELGdKQUFnSixJQUFJLGlDQUFpQyxxSEFBcUgscUJBQXFCLDhTQUE4UyxvSkFBb0osK0hBQStILGFBQWEsTUFBTSw0YUFBNGEsTUFBTSx1RUFBdUUsNlBBQTZQLFdBQVcsOE1BQThNLHlCQUF5QixPQUFPLEdBQUcsd2FBQXdhLGNBQWMsZ0NBQWdDLGNBQWMsb0NBQW9DLGdCQUFnQixrQ0FBa0MsY0FBYyxnQ0FBZ0MsY0FBYyxzQkFBc0IsY0FBYyxzQkFBc0IsY0FBYyxzREFBc0QsYUFBYSxrQ0FBa0MsY0FBYyxrREFBa0QsWUFBWSxpQ0FBaUMsbUJBQW1CLHlCQUF5QixrQkFBa0Isa0ZBQWtGLGlCQUFpQixXQUFXLGtCQUFrQixzQ0FBc0MsZUFBZSxNQUFNLFdBQVcsWUFBWSxvRUFBb0UsY0FBYyxtQ0FBbUMsZUFBZSwwREFBMEQsK0JBQStCLFlBQVksY0FBYyxRQUFRLGlFQUFpRSxTQUFTLHFIQUFxSCxhQUFhLGlDQUFpQyxhQUFhLFFBQVEsdUdBQXVHLFlBQVksaUNBQWlDLGVBQWUsMExBQTBMLGFBQWEsV0FBVyxxRkFBcUYsTUFBTSw4QkFBOEIsTUFBTSwwQkFBMEIsaUNBQWlDLHNEQUFzRCwwQkFBMEIsS0FBSyxZQUFZLHVDQUF1QyxtQkFBbUIsNEVBQTRFLG1CQUFtQix3RUFBd0UsZUFBZSxtREFBbUQsb0JBQW9CLHVGQUF1RixtQkFBbUIsZ0JBQWdCLCtDQUErQyxFQUFFLFVBQVUsRUFBRSxvQkFBb0IsdURBQXVELFVBQVUsRUFBRSxjQUFjLDBCQUEwQixZQUFZLHVDQUF1Qyw0Q0FBNEMsV0FBVyxnQ0FBZ0MsY0FBYyx1QkFBdUIsYUFBYSw2QkFBNkIsZUFBZSxNQUFNLFdBQVcsa0JBQWtCLDBCQUEwQixnQkFBZ0IsaUVBQWlFLGNBQWMsdURBQXVELHVEQUF1RCxhQUFhLG1HQUFtRyxZQUFZLDZCQUE2QiwwQkFBMEIsMEJBQTBCLGFBQWEscUhBQXFILEVBQUUsOERBQThELGdCQUFnQixvQ0FBb0MsdUJBQXVCLGVBQWUscUNBQXFDLGtCQUFrQiwwQkFBMEIsb0JBQW9CLHVCQUF1QixtQkFBbUIsTUFBTSx5QkFBeUIsZUFBZSxjQUFjLGdCQUFnQiwrQkFBK0IsZUFBZSx3Q0FBd0MsV0FBVyxXQUFXLGtCQUFrQix5QkFBeUIsZ09BQWdPLFVBQVUsNklBQTZJLHdCQUF3Qix1QkFBdUIsdUJBQXVCLGVBQWUsbUJBQW1CLEVBQUUsV0FBVyxxSUFBcUksT0FBTyw2REFBNkQ7QUFDcnd6Rzs7Ozs7Ozs7Ozs7Ozs7QUNEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUEwRDtBQUM0QjtBQUNoQjtBQUNJO0FBQ3NCOztBQUVoRztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNIQUFzSCw2Q0FBNkM7QUFDbkssNkhBQTZILHlEQUF5RDtBQUN0TDtBQUNBO0FBQ0E7QUFDQSxxSEFBcUgsa0NBQWtDO0FBQ3ZKLDRIQUE0SCwrQ0FBK0M7QUFDM0s7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxRUFBcUUsYUFBYTtBQUNsRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxhQUFhLGlCQUFpQjtBQUM5QjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0EsRUFBRSx3RkFBYzs7QUFFaEI7QUFDQTs7QUFFQSxRQUFRLEtBQXFDLEVBQUUsRUFFMUM7QUFDTCxnR0FBZ0csZUFBZTtBQUMvRztBQUNBOztBQUVBO0FBQ0E7O0FBRUEsV0FBVyxnR0FBc0I7QUFDakM7O0FBRUE7QUFDQSxDQUFDLGVBQWUsMEZBQWdCOztBQUVoQyxrSUFBa0k7O0FBRWxJO0FBQ0E7QUFDQSwwQ0FBMEMsa0ZBQVEsR0FBRyx1REFBdUQsa0ZBQVEsR0FBRztBQUN2SDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNILHdCQUF3Qjs7QUFFeEI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZFQUE2RTs7QUFFN0U7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0VBQStFO0FBQy9FLE9BQU8saUNBQWlDOzs7QUFHeEM7O0FBRUE7QUFDQSw2QkFBNkI7O0FBRTdCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGlCQUFpQjtBQUNqQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSx1REFBdUQ7O0FBRXZEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQiwrQkFBK0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0EsMEZBQTBGLGFBQWE7QUFDdkc7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixXQUFXLGNBQWM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLFdBQVc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpR0FBaUcsYUFBYTtBQUM5RztBQUNBOztBQUVBLGlCQUFpQixxQkFBcUI7QUFDdEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTyxFQUFFOztBQUVUO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUMsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzRkFBc0YscUdBQTJCO0FBQ2pIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsWUFBWTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrRkFBa0YscUdBQTJCO0FBQzdHO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGtCQUFrQixrRkFBUTtBQUM3QjtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUcsS0FBSztBQUNSOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0ZBQXNGO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLFVBQVUsc0ZBQXNGO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLGtGQUFRO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGVBQWU7QUFDZjtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEtBQXFDLG1GQUFtRixTQUFnQjs7QUFFbko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxLQUFxQyxzQkFBc0IsU0FBZ0I7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBLDJCQUEyQiw0REFBTTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLDREQUFNO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZEQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxpQkFBaUIsbUJBQW1CO0FBQ3BDOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUgsa0JBQWtCLGtGQUFRLEdBQUc7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxVQUFVLEtBQXFDLGdFQUFnRSxTQUFnQjtBQUMvSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNILENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQscUJBQXFCLDJEQUFVO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTLGtGQUFRLEdBQUc7QUFDcEIsWUFBWSxrRkFBUSxHQUFHO0FBQ3ZCO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EscUNBQXFDLEtBQXFDLHVFQUF1RSxTQUFnQjtBQUNqSyx3Q0FBd0MsS0FBcUMsMEZBQTBGLFNBQWdCO0FBQ3ZMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsV0FBVyxrRkFBUSxHQUFHO0FBQ3RCO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFNBQVMsa0ZBQVEsR0FBRztBQUNwQjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFdBQVcsS0FBcUMsb0ZBQW9GLFNBQWdCO0FBQ3BKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsV0FBVyxrRkFBUSxHQUFHO0FBQ3RCO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0Esa0JBQWtCLEtBQXFDLDhHQUE4RyxTQUFnQjtBQUNyTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsU0FBUyxrRkFBUSxHQUFHO0FBQ3BCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxTQUFTLDZEQUFPO0FBQ2hCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7O0FBRUEsU0FBUyxrRkFBUSxHQUFHLDZCQUE2QjtBQUNqRCxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7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QUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0JBQXdCLGtGQUFRLEdBQUc7QUFDbkM7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFT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QUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxLQUFxQyw2RUFBNkUsU0FBZ0I7QUFDNUs7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLENBQUM7O0FBRUQsdUJBQXVCLEtBQXFDO0FBQzVEO0FBQ0EsQ0FBQyxJQUFJLDZDQUFPO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHlEQUFhLDJCQUEyQiw2REFBZTtBQUNoRSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxp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QTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxDQUFDOztBQUVELDhCQUE4QiwyREFBVTtBQUN4QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsdUJBQXVCLEtBQXFDLHdDQUF3QyxTQUFnQjtBQUNwSDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUksS0FBcUMsd0xBQXdMLFNBQU07QUFDdk87QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1QkFBdUIsMkRBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsNEJBQTRCLDJEQUFVO0FBQ3RDLHlCQUF5QiwyREFBVTtBQUNuQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwyREFBTztBQUNoQztBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyw0Q0FBSztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDRDQUFLLGlDQUFpQyxrRkFBUSxHQUFHO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsbUJBQW1CLHdEQUFVO0FBQzdCLGdCQUFnQixLQUFxQyxvREFBb0QsU0FBZ0I7QUFDekg7QUFDQTtBQUNBLHFCQUFxQixvREFBTTtBQUMzQix1QkFBdUIsb0RBQU07QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdFQUFXO0FBQ25DO0FBQ0EsR0FBRztBQUNILHdCQUF3QixnRUFBVztBQUNuQztBQUNBLEdBQUc7QUFDSCwwQkFBMEIsZ0VBQVc7QUFDckM7QUFDQSxHQUFHO0FBQ0gsMEJBQTBCLGdFQUFXO0FBQ3JDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILG1DQUFtQyxnRUFBVztBQUM5QztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILG9CQUFvQiw0Q0FBSztBQUN6QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNENBQUs7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxpQkFBaUIsNERBQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHlCQUF5Qiw0REFBTztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSw0Q0FBSztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0wsV0FBVyxnREFBUTtBQUNuQjs7QUFFQSxTQUFTLDRDQUFLO0FBQ2Q7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQSw2QkFBNkIsa0ZBQVEsR0FBRztBQUN4QztBQUNBLEdBQUc7O0FBRUgsMkJBQTJCLDJEQUFVO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsb0JBQW9CLDJEQUFVO0FBQzlCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQixLQUFxQyxvREFBb0QsU0FBZ0I7QUFDNUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwyREFBTztBQUNoQztBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRWlLOzs7Ozs7Ozs7Ozs7O0FDajBRcEo7O0FBRWI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBLG9DQUFvQyxtQkFBTyxDQUFDLDRDQUFPOztBQUVuRCx3Q0FBd0MsbUJBQU8sQ0FBQyxzREFBWTs7QUFFNUQsdUNBQXVDLG1CQUFPLENBQUMsb0RBQVc7O0FBRTFELHlDQUF5QyxtQkFBTyxDQUFDLHNEQUFZOztBQUU3RCxjQUFjLG1CQUFPLENBQUMsZ0ZBQWdCOztBQUV0QyxtQkFBbUIsbUJBQU8sQ0FBQywwRkFBcUI7O0FBRWhELGFBQWEsbUJBQU8sQ0FBQyw4RUFBZTs7QUFFcEMsNENBQTRDLG1CQUFPLENBQUMsa0ZBQWlCOztBQUVyRSxrQ0FBa0MsbUJBQU8sQ0FBQywwRUFBYTs7QUFFdkQsc0NBQXNDLHVDQUF1QyxnQkFBZ0I7O0FBRTdGLHFDQUFxQyxnREFBZ0QsMkJBQTJCLGlFQUFpRSxjQUFjLEdBQUcsY0FBYzs7QUFFaE4sdUNBQXVDLDZCQUE2QixZQUFZLEVBQUUsOEVBQThFLFNBQVMsZ0JBQWdCLEVBQUUsd0NBQXdDLCtCQUErQix1QkFBdUIsRUFBRSxpQkFBaUIsc0ZBQXNGLHVCQUF1QixzREFBc0QscUZBQXFGLHNDQUFzQywwQ0FBMEMsRUFBRSxPQUFPLHdCQUF3QixFQUFFLEVBQUUsRUFBRSxzQkFBc0IsYUFBYSx3QkFBd0IsRUFBRSxlQUFlOztBQUV2dUIsdUJBQXVCLDJCQUEyQiwyRUFBMkUsa0NBQWtDLG1CQUFtQixHQUFHLEVBQUUsT0FBTyxrQ0FBa0MsOEhBQThILEdBQUcsRUFBRSxxQkFBcUI7O0FBRXhYLHFCQUFxQixnREFBZ0QsZ0JBQWdCLHNCQUFzQixPQUFPLDJCQUEyQiwwQkFBMEIseURBQXlELDJCQUEyQixFQUFFLEVBQUUsRUFBRSxlQUFlLEdBQUcsd0NBQXdDOztBQUUzVCxxREFBcUQsK0JBQStCLDhEQUE4RCxZQUFZLG9DQUFvQyw2REFBNkQsWUFBWSw2QkFBNkIsT0FBTywyQkFBMkIsMENBQTBDLHdFQUF3RSwyQkFBMkIsRUFBRSxFQUFFLGVBQWU7O0FBRTFlLDBEQUEwRCwrQkFBK0IsaUJBQWlCLHNDQUFzQyxZQUFZLFlBQVksdUJBQXVCLE9BQU8scUJBQXFCLDBDQUEwQywyQkFBMkIsRUFBRSxlQUFlOztBQUVqVCxpQ0FBaUMsMkhBQTJIOztBQUU1Siw2QkFBNkIsa0tBQWtLOztBQUUvTCxpREFBaUQsZ0JBQWdCLGdFQUFnRSx3REFBd0QsNkRBQTZELHNEQUFzRCxrSEFBa0g7O0FBRTlaLHNDQUFzQyx1REFBdUQsdUNBQXVDLFNBQVMsT0FBTyxrQkFBa0IsRUFBRSxhQUFhOztBQUVyTCx3Q0FBd0MsZ0ZBQWdGLGVBQWUsZUFBZSxnQkFBZ0Isb0JBQW9CLE1BQU0sMENBQTBDLCtCQUErQixhQUFhLHFCQUFxQixtQ0FBbUMsRUFBRSxFQUFFLGNBQWMsV0FBVyxVQUFVLEVBQUUsVUFBVSxNQUFNLGlEQUFpRCxFQUFFLFVBQVUsa0JBQWtCLEVBQUUsRUFBRSxhQUFhOztBQUV2ZSwrQkFBK0Isb0NBQW9DOztBQUVuRSwwQ0FBMEMsZ0NBQWdDLG9DQUFvQyxvREFBb0QsOERBQThELGdFQUFnRSxFQUFFLEVBQUUsZ0NBQWdDLEVBQUUsYUFBYTs7QUFFblYsZ0NBQWdDLGdCQUFnQixzQkFBc0IsT0FBTyx1REFBdUQsYUFBYSx1REFBdUQsMkNBQTJDLEVBQUUsRUFBRSxFQUFFLDZDQUE2QywyRUFBMkUsRUFBRSxPQUFPLGlEQUFpRCxrRkFBa0YsRUFBRSxFQUFFLEVBQUUsRUFBRSxlQUFlOztBQUVwaEIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUU7O0FBRTNULDZEQUE2RCxzRUFBc0UsOERBQThELG9CQUFvQjs7QUFFck4sMENBQTBDLCtEQUErRCwyRUFBMkUsRUFBRSx5RUFBeUUsZUFBZSxzREFBc0QsRUFBRSxFQUFFLHVEQUF1RDs7QUFFL1gsZ0NBQWdDLDRFQUE0RSxpQkFBaUIsVUFBVSxHQUFHLDhCQUE4Qjs7QUFFeEssZ0NBQWdDLDZEQUE2RCxxQkFBcUIsOENBQThDLGlDQUFpQyxtREFBbUQseURBQXlELEVBQUUsT0FBTyx1Q0FBdUMsRUFBRSxpREFBaUQsR0FBRzs7QUFFblosaURBQWlELDBFQUEwRSxhQUFhLEVBQUUscUNBQXFDOztBQUUvSyx1Q0FBdUMsdUJBQXVCLHVGQUF1RixFQUFFLGFBQWE7O0FBRXBLLHNDQUFzQyx3RUFBd0UsMENBQTBDLDhDQUE4QyxNQUFNLHdFQUF3RSxHQUFHLGFBQWEsRUFBRSxZQUFZLGNBQWMsRUFBRTs7QUFFbFUsNkJBQTZCLGdHQUFnRyxnREFBZ0QsR0FBRywyQkFBMkI7O0FBRTNNLDJDQUEyQyxrQkFBa0Isa0NBQWtDLHFFQUFxRSxFQUFFLEVBQUUsT0FBTyxrQkFBa0IsRUFBRSxZQUFZOztBQUUvTTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxnRUFBZ0U7O0FBRWhFLCtIQUErSDs7O0FBRy9IOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7O0FBRUE7QUFDQSx5Q0FBeUM7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0JBQStCOztBQUUvQjtBQUNBLGdFQUFnRTs7QUFFaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOzs7QUFHUDs7QUFFQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSw4Q0FBOEM7O0FBRTlDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sRUFBRTtBQUNULEtBQUs7QUFDTDs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOEJBQThCOztBQUU5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOzs7QUFHUCxrSEFBa0gsd0tBQXdLO0FBQzFSOztBQUVBLGlGQUFpRjtBQUNqRjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQSxzRUFBc0UsdUNBQXVDO0FBQzdHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MseUJBQXlCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsY0FBYztBQUNqRSxrRkFBa0Y7QUFDbEY7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsY0FBYztBQUMxRCxrRkFBa0Y7QUFDbEY7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQseUVBQXlFLDBDQUEwQztBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxDQUFDLEc7Ozs7Ozs7Ozs7OztBQ3JjWTs7QUFFYjtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBLG9DQUFvQyxtQkFBTyxDQUFDLDRDQUFPOztBQUVuRCx3Q0FBd0MsbUJBQU8sQ0FBQyxzREFBWTs7QUFFNUQsdUNBQXVDLG1CQUFPLENBQUMsb0RBQVc7O0FBRTFELGNBQWMsbUJBQU8sQ0FBQyxnRkFBZ0I7O0FBRXRDLG1CQUFtQixtQkFBTyxDQUFDLDBGQUFxQjs7QUFFaEQsYUFBYSxtQkFBTyxDQUFDLDhFQUFlOztBQUVwQyxrQ0FBa0MsbUJBQU8sQ0FBQywwRUFBYTs7QUFFdkQsc0NBQXNDLHVDQUF1QyxnQkFBZ0I7O0FBRTdGLHFDQUFxQyxnREFBZ0QsMkJBQTJCLGlFQUFpRSxjQUFjLEdBQUcsY0FBYzs7QUFFaE4sdUNBQXVDLDZCQUE2QixZQUFZLEVBQUUsOEVBQThFLFNBQVMsZ0JBQWdCLEVBQUUsd0NBQXdDLCtCQUErQix1QkFBdUIsRUFBRSxpQkFBaUIsc0ZBQXNGLHVCQUF1QixzREFBc0QscUZBQXFGLHNDQUFzQywwQ0FBMEMsRUFBRSxPQUFPLHdCQUF3QixFQUFFLEVBQUUsRUFBRSxzQkFBc0IsYUFBYSx3QkFBd0IsRUFBRSxlQUFlOztBQUV2dUIsdUJBQXVCLDJCQUEyQiwyRUFBMkUsa0NBQWtDLG1CQUFtQixHQUFHLEVBQUUsT0FBTyxrQ0FBa0MsOEhBQThILEdBQUcsRUFBRSxxQkFBcUI7O0FBRXhYLGlDQUFpQywySEFBMkg7O0FBRTVKLDZCQUE2QixrS0FBa0s7O0FBRS9MLGlEQUFpRCxnQkFBZ0IsZ0VBQWdFLHdEQUF3RCw2REFBNkQsc0RBQXNELGtIQUFrSDs7QUFFOVosc0NBQXNDLHVEQUF1RCx1Q0FBdUMsU0FBUyxPQUFPLGtCQUFrQixFQUFFLGFBQWE7O0FBRXJMLHdDQUF3QyxnRkFBZ0YsZUFBZSxlQUFlLGdCQUFnQixvQkFBb0IsTUFBTSwwQ0FBMEMsK0JBQStCLGFBQWEscUJBQXFCLG1DQUFtQyxFQUFFLEVBQUUsY0FBYyxXQUFXLFVBQVUsRUFBRSxVQUFVLE1BQU0saURBQWlELEVBQUUsVUFBVSxrQkFBa0IsRUFBRSxFQUFFLGFBQWE7O0FBRXZlLCtCQUErQixvQ0FBb0M7O0FBRW5FLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFOztBQUUzVCw2REFBNkQsc0VBQXNFLDhEQUE4RCxvQkFBb0I7O0FBRXJOLDBDQUEwQywrREFBK0QsMkVBQTJFLEVBQUUseUVBQXlFLGVBQWUsc0RBQXNELEVBQUUsRUFBRSx1REFBdUQ7O0FBRS9YLGdDQUFnQyw0RUFBNEUsaUJBQWlCLFVBQVUsR0FBRyw4QkFBOEI7O0FBRXhLLGdDQUFnQyw2REFBNkQscUJBQXFCLDhDQUE4QyxpQ0FBaUMsbURBQW1ELHlEQUF5RCxFQUFFLE9BQU8sdUNBQXVDLEVBQUUsaURBQWlELEdBQUc7O0FBRW5aLGlEQUFpRCwwRUFBMEUsYUFBYSxFQUFFLHFDQUFxQzs7QUFFL0ssdUNBQXVDLHVCQUF1Qix1RkFBdUYsRUFBRSxhQUFhOztBQUVwSyxzQ0FBc0Msd0VBQXdFLDBDQUEwQyw4Q0FBOEMsTUFBTSx3RUFBd0UsR0FBRyxhQUFhLEVBQUUsWUFBWSxjQUFjLEVBQUU7O0FBRWxVLDZCQUE2QixnR0FBZ0csZ0RBQWdELEdBQUcsMkJBQTJCOztBQUUzTSwyQ0FBMkMsa0JBQWtCLGtDQUFrQyxxRUFBcUUsRUFBRSxFQUFFLE9BQU8sa0JBQWtCLEVBQUUsWUFBWTs7QUFFL007QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUYsc0ZBQXNGOztBQUV0RixvQ0FBb0Msc0JBQXNCOztBQUUxRCxrREFBa0Qsb0NBQW9DOztBQUV0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSx1RUFBdUUsYUFBYTtBQUNwRjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBLGlDQUFpQzs7O0FBR2pDLHFHQUFxRzs7QUFFckc7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGlEQUFpRDs7QUFFakQ7QUFDQTtBQUNBLE9BQU87QUFDUDs7O0FBR0Esc0RBQXNEO0FBQ3REO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE9BQU8sRUFBRTs7O0FBR1Q7QUFDQSxtQ0FBbUM7O0FBRW5DO0FBQ0EseUJBQXlCOztBQUV6QjtBQUNBLHlFQUF5RTs7QUFFekU7O0FBRUE7O0FBRUEsb0VBQW9FO0FBQ3BFOztBQUVBLDRGQUE0RjtBQUM1RjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxFQUFFO0FBQ1Q7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qjs7QUFFekI7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSx1Q0FBdUM7O0FBRXZDO0FBQ0E7O0FBRUE7QUFDQSxvRUFBb0U7O0FBRXBFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0VBQXdFOztBQUV4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLHFDQUFxQzs7QUFFckM7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix1Q0FBdUMsZUFBZTtBQUNoRjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxlQUFlO0FBQzNCO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixRQUFRO0FBQ3JDLHFCQUFxQixRQUFRO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFD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QTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLFNBQVMsS0FBSzs7O0FBR2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0U7O0FBRXBFLHdDQUF3Qzs7QUFFeEM7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQSxDOzs7Ozs7Ozs7Ozs7QUMzTWE7O0FBRWI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsWUFBWTtBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FB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QkFBa0IseU5BQXlOLGFBQWEscU5BQXFOLGdCQUFnQixpQkFBaUIseVRBQXlULEc7Ozs7Ozs7Ozs7O0FDMUJuazJIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHNDO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDbGFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQW9EOztBQUVwRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsc0JBQXNCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0Isc0RBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsbUJBQW1CLG9EQUFNO0FBQ3pCLGtCQUFrQixvREFBTTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSx1REFBUztBQUNYO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRTREIiwiZmlsZSI6InZlbmRvcnN+UXVldWV+VGFza1Jvb3RfYmEwMjUyZjk2ZmMxYmM1NGE1NTguanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBzZWxmO1xufSIsImltcG9ydCBzZXRQcm90b3R5cGVPZiBmcm9tIFwiLi9zZXRQcm90b3R5cGVPZi5qc1wiO1xuaW1wb3J0IGlzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCBmcm9tIFwiLi9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICBpZiAoaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHtcbiAgICBfY29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3Q7XG4gIH0gZWxzZSB7XG4gICAgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICAgICAgdmFyIGEgPSBbbnVsbF07XG4gICAgICBhLnB1c2guYXBwbHkoYSwgYXJncyk7XG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSBGdW5jdGlvbi5iaW5kLmFwcGx5KFBhcmVudCwgYSk7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTtcbiAgICAgIGlmIChDbGFzcykgc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICB9O1xuICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uKGZuKSB7XG4gIHJldHVybiBGdW5jdGlvbi50b1N0cmluZy5jYWxsKGZuKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSAhPT0gLTE7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlO1xuICBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlO1xuXG4gIHRyeSB7XG4gICAgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59IiwiaW1wb3J0IGdldFByb3RvdHlwZU9mIGZyb20gXCIuL2dldFByb3RvdHlwZU9mLmpzXCI7XG5pbXBvcnQgc2V0UHJvdG90eXBlT2YgZnJvbSBcIi4vc2V0UHJvdG90eXBlT2YuanNcIjtcbmltcG9ydCBpc05hdGl2ZUZ1bmN0aW9uIGZyb20gXCIuL2lzTmF0aXZlRnVuY3Rpb24uanNcIjtcbmltcG9ydCBjb25zdHJ1Y3QgZnJvbSBcIi4vY29uc3RydWN0LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gIHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiB1bmRlZmluZWQ7XG5cbiAgX3dyYXBOYXRpdmVTdXBlciA9IGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgICBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIWlzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7XG5cbiAgICBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIF9jYWNoZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7XG5cbiAgICAgIF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFdyYXBwZXIoKSB7XG4gICAgICByZXR1cm4gY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIGdldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTtcbiAgICB9XG5cbiAgICBXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogV3JhcHBlcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpO1xuICB9O1xuXG4gIHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTtcbn0iLCJpbXBvcnQgaW52YXJpYW50IGZyb20gJ3RpbnktaW52YXJpYW50JztcblxudmFyIGdldFJlY3QgPSBmdW5jdGlvbiBnZXRSZWN0KF9yZWYpIHtcbiAgdmFyIHRvcCA9IF9yZWYudG9wLFxuICAgICAgcmlnaHQgPSBfcmVmLnJpZ2h0LFxuICAgICAgYm90dG9tID0gX3JlZi5ib3R0b20sXG4gICAgICBsZWZ0ID0gX3JlZi5sZWZ0O1xuICB2YXIgd2lkdGggPSByaWdodCAtIGxlZnQ7XG4gIHZhciBoZWlnaHQgPSBib3R0b20gLSB0b3A7XG4gIHZhciByZWN0ID0ge1xuICAgIHRvcDogdG9wLFxuICAgIHJpZ2h0OiByaWdodCxcbiAgICBib3R0b206IGJvdHRvbSxcbiAgICBsZWZ0OiBsZWZ0LFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB4OiBsZWZ0LFxuICAgIHk6IHRvcCxcbiAgICBjZW50ZXI6IHtcbiAgICAgIHg6IChyaWdodCArIGxlZnQpIC8gMixcbiAgICAgIHk6IChib3R0b20gKyB0b3ApIC8gMlxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHJlY3Q7XG59O1xudmFyIGV4cGFuZCA9IGZ1bmN0aW9uIGV4cGFuZCh0YXJnZXQsIGV4cGFuZEJ5KSB7XG4gIHJldHVybiB7XG4gICAgdG9wOiB0YXJnZXQudG9wIC0gZXhwYW5kQnkudG9wLFxuICAgIGxlZnQ6IHRhcmdldC5sZWZ0IC0gZXhwYW5kQnkubGVmdCxcbiAgICBib3R0b206IHRhcmdldC5ib3R0b20gKyBleHBhbmRCeS5ib3R0b20sXG4gICAgcmlnaHQ6IHRhcmdldC5yaWdodCArIGV4cGFuZEJ5LnJpZ2h0XG4gIH07XG59O1xudmFyIHNocmluayA9IGZ1bmN0aW9uIHNocmluayh0YXJnZXQsIHNocmlua0J5KSB7XG4gIHJldHVybiB7XG4gICAgdG9wOiB0YXJnZXQudG9wICsgc2hyaW5rQnkudG9wLFxuICAgIGxlZnQ6IHRhcmdldC5sZWZ0ICsgc2hyaW5rQnkubGVmdCxcbiAgICBib3R0b206IHRhcmdldC5ib3R0b20gLSBzaHJpbmtCeS5ib3R0b20sXG4gICAgcmlnaHQ6IHRhcmdldC5yaWdodCAtIHNocmlua0J5LnJpZ2h0XG4gIH07XG59O1xuXG52YXIgc2hpZnQgPSBmdW5jdGlvbiBzaGlmdCh0YXJnZXQsIHNoaWZ0QnkpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IHRhcmdldC50b3AgKyBzaGlmdEJ5LnksXG4gICAgbGVmdDogdGFyZ2V0LmxlZnQgKyBzaGlmdEJ5LngsXG4gICAgYm90dG9tOiB0YXJnZXQuYm90dG9tICsgc2hpZnRCeS55LFxuICAgIHJpZ2h0OiB0YXJnZXQucmlnaHQgKyBzaGlmdEJ5LnhcbiAgfTtcbn07XG5cbnZhciBub1NwYWNpbmcgPSB7XG4gIHRvcDogMCxcbiAgcmlnaHQ6IDAsXG4gIGJvdHRvbTogMCxcbiAgbGVmdDogMFxufTtcbnZhciBjcmVhdGVCb3ggPSBmdW5jdGlvbiBjcmVhdGVCb3goX3JlZjIpIHtcbiAgdmFyIGJvcmRlckJveCA9IF9yZWYyLmJvcmRlckJveCxcbiAgICAgIF9yZWYyJG1hcmdpbiA9IF9yZWYyLm1hcmdpbixcbiAgICAgIG1hcmdpbiA9IF9yZWYyJG1hcmdpbiA9PT0gdm9pZCAwID8gbm9TcGFjaW5nIDogX3JlZjIkbWFyZ2luLFxuICAgICAgX3JlZjIkYm9yZGVyID0gX3JlZjIuYm9yZGVyLFxuICAgICAgYm9yZGVyID0gX3JlZjIkYm9yZGVyID09PSB2b2lkIDAgPyBub1NwYWNpbmcgOiBfcmVmMiRib3JkZXIsXG4gICAgICBfcmVmMiRwYWRkaW5nID0gX3JlZjIucGFkZGluZyxcbiAgICAgIHBhZGRpbmcgPSBfcmVmMiRwYWRkaW5nID09PSB2b2lkIDAgPyBub1NwYWNpbmcgOiBfcmVmMiRwYWRkaW5nO1xuICB2YXIgbWFyZ2luQm94ID0gZ2V0UmVjdChleHBhbmQoYm9yZGVyQm94LCBtYXJnaW4pKTtcbiAgdmFyIHBhZGRpbmdCb3ggPSBnZXRSZWN0KHNocmluayhib3JkZXJCb3gsIGJvcmRlcikpO1xuICB2YXIgY29udGVudEJveCA9IGdldFJlY3Qoc2hyaW5rKHBhZGRpbmdCb3gsIHBhZGRpbmcpKTtcbiAgcmV0dXJuIHtcbiAgICBtYXJnaW5Cb3g6IG1hcmdpbkJveCxcbiAgICBib3JkZXJCb3g6IGdldFJlY3QoYm9yZGVyQm94KSxcbiAgICBwYWRkaW5nQm94OiBwYWRkaW5nQm94LFxuICAgIGNvbnRlbnRCb3g6IGNvbnRlbnRCb3gsXG4gICAgbWFyZ2luOiBtYXJnaW4sXG4gICAgYm9yZGVyOiBib3JkZXIsXG4gICAgcGFkZGluZzogcGFkZGluZ1xuICB9O1xufTtcblxudmFyIHBhcnNlID0gZnVuY3Rpb24gcGFyc2UocmF3KSB7XG4gIHZhciB2YWx1ZSA9IHJhdy5zbGljZSgwLCAtMik7XG4gIHZhciBzdWZmaXggPSByYXcuc2xpY2UoLTIpO1xuXG4gIGlmIChzdWZmaXggIT09ICdweCcpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBOdW1iZXIodmFsdWUpO1xuICAhIWlzTmFOKHJlc3VsdCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiQ291bGQgbm90IHBhcnNlIHZhbHVlIFtyYXc6IFwiICsgcmF3ICsgXCIsIHdpdGhvdXQgc3VmZml4OiBcIiArIHZhbHVlICsgXCJdXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciBnZXRXaW5kb3dTY3JvbGwgPSBmdW5jdGlvbiBnZXRXaW5kb3dTY3JvbGwoKSB7XG4gIHJldHVybiB7XG4gICAgeDogd2luZG93LnBhZ2VYT2Zmc2V0LFxuICAgIHk6IHdpbmRvdy5wYWdlWU9mZnNldFxuICB9O1xufTtcblxudmFyIG9mZnNldCA9IGZ1bmN0aW9uIG9mZnNldChvcmlnaW5hbCwgY2hhbmdlKSB7XG4gIHZhciBib3JkZXJCb3ggPSBvcmlnaW5hbC5ib3JkZXJCb3gsXG4gICAgICBib3JkZXIgPSBvcmlnaW5hbC5ib3JkZXIsXG4gICAgICBtYXJnaW4gPSBvcmlnaW5hbC5tYXJnaW4sXG4gICAgICBwYWRkaW5nID0gb3JpZ2luYWwucGFkZGluZztcbiAgdmFyIHNoaWZ0ZWQgPSBzaGlmdChib3JkZXJCb3gsIGNoYW5nZSk7XG4gIHJldHVybiBjcmVhdGVCb3goe1xuICAgIGJvcmRlckJveDogc2hpZnRlZCxcbiAgICBib3JkZXI6IGJvcmRlcixcbiAgICBtYXJnaW46IG1hcmdpbixcbiAgICBwYWRkaW5nOiBwYWRkaW5nXG4gIH0pO1xufTtcbnZhciB3aXRoU2Nyb2xsID0gZnVuY3Rpb24gd2l0aFNjcm9sbChvcmlnaW5hbCwgc2Nyb2xsKSB7XG4gIGlmIChzY3JvbGwgPT09IHZvaWQgMCkge1xuICAgIHNjcm9sbCA9IGdldFdpbmRvd1Njcm9sbCgpO1xuICB9XG5cbiAgcmV0dXJuIG9mZnNldChvcmlnaW5hbCwgc2Nyb2xsKTtcbn07XG52YXIgY2FsY3VsYXRlQm94ID0gZnVuY3Rpb24gY2FsY3VsYXRlQm94KGJvcmRlckJveCwgc3R5bGVzKSB7XG4gIHZhciBtYXJnaW4gPSB7XG4gICAgdG9wOiBwYXJzZShzdHlsZXMubWFyZ2luVG9wKSxcbiAgICByaWdodDogcGFyc2Uoc3R5bGVzLm1hcmdpblJpZ2h0KSxcbiAgICBib3R0b206IHBhcnNlKHN0eWxlcy5tYXJnaW5Cb3R0b20pLFxuICAgIGxlZnQ6IHBhcnNlKHN0eWxlcy5tYXJnaW5MZWZ0KVxuICB9O1xuICB2YXIgcGFkZGluZyA9IHtcbiAgICB0b3A6IHBhcnNlKHN0eWxlcy5wYWRkaW5nVG9wKSxcbiAgICByaWdodDogcGFyc2Uoc3R5bGVzLnBhZGRpbmdSaWdodCksXG4gICAgYm90dG9tOiBwYXJzZShzdHlsZXMucGFkZGluZ0JvdHRvbSksXG4gICAgbGVmdDogcGFyc2Uoc3R5bGVzLnBhZGRpbmdMZWZ0KVxuICB9O1xuICB2YXIgYm9yZGVyID0ge1xuICAgIHRvcDogcGFyc2Uoc3R5bGVzLmJvcmRlclRvcFdpZHRoKSxcbiAgICByaWdodDogcGFyc2Uoc3R5bGVzLmJvcmRlclJpZ2h0V2lkdGgpLFxuICAgIGJvdHRvbTogcGFyc2Uoc3R5bGVzLmJvcmRlckJvdHRvbVdpZHRoKSxcbiAgICBsZWZ0OiBwYXJzZShzdHlsZXMuYm9yZGVyTGVmdFdpZHRoKVxuICB9O1xuICByZXR1cm4gY3JlYXRlQm94KHtcbiAgICBib3JkZXJCb3g6IGJvcmRlckJveCxcbiAgICBtYXJnaW46IG1hcmdpbixcbiAgICBwYWRkaW5nOiBwYWRkaW5nLFxuICAgIGJvcmRlcjogYm9yZGVyXG4gIH0pO1xufTtcbnZhciBnZXRCb3ggPSBmdW5jdGlvbiBnZXRCb3goZWwpIHtcbiAgdmFyIGJvcmRlckJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuICByZXR1cm4gY2FsY3VsYXRlQm94KGJvcmRlckJveCwgc3R5bGVzKTtcbn07XG5cbmV4cG9ydCB7IGNhbGN1bGF0ZUJveCwgY3JlYXRlQm94LCBleHBhbmQsIGdldEJveCwgZ2V0UmVjdCwgb2Zmc2V0LCBzaHJpbmssIHdpdGhTY3JvbGwgfTtcbiIsIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIkBrZXlmcmFtZXMgcGx5ci1wcm9ncmVzc3t0b3tiYWNrZ3JvdW5kLXBvc2l0aW9uOjI1cHggMDtiYWNrZ3JvdW5kLXBvc2l0aW9uOnZhcigtLXBseXItcHJvZ3Jlc3MtbG9hZGluZy1zaXplLDI1cHgpIDB9fUBrZXlmcmFtZXMgcGx5ci1wb3B1cHswJXtvcGFjaXR5Oi41O3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwcHgpfXRve29wYWNpdHk6MTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX19QGtleWZyYW1lcyBwbHlyLWZhZGUtaW57MCV7b3BhY2l0eTowfXRve29wYWNpdHk6MX19LnBseXJ7LW1vei1vc3gtZm9udC1zbW9vdGhpbmc6Z3JheXNjYWxlOy13ZWJraXQtZm9udC1zbW9vdGhpbmc6YW50aWFsaWFzZWQ7YWxpZ24taXRlbXM6Y2VudGVyO2RpcmVjdGlvbjpsdHI7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtZmFtaWx5OnZhcigtLXBseXItZm9udC1mYW1pbHksaW5oZXJpdCk7Zm9udC12YXJpYW50LW51bWVyaWM6dGFidWxhci1udW1zO2ZvbnQtd2VpZ2h0OjQwMDtmb250LXdlaWdodDp2YXIoLS1wbHlyLWZvbnQtd2VpZ2h0LXJlZ3VsYXIsNDAwKTtsaW5lLWhlaWdodDoxLjc7bGluZS1oZWlnaHQ6dmFyKC0tcGx5ci1saW5lLWhlaWdodCwxLjcpO21heC13aWR0aDoxMDAlO21pbi13aWR0aDoyMDBweDtwb3NpdGlvbjpyZWxhdGl2ZTt0ZXh0LXNoYWRvdzpub25lO3RyYW5zaXRpb246Ym94LXNoYWRvdyAuM3MgZWFzZTt6LWluZGV4OjB9LnBseXIgYXVkaW8sLnBseXIgaWZyYW1lLC5wbHlyIHZpZGVve2Rpc3BsYXk6YmxvY2s7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJX0ucGx5ciBidXR0b257Zm9udDppbmhlcml0O2xpbmUtaGVpZ2h0OmluaGVyaXQ7d2lkdGg6YXV0b30ucGx5cjpmb2N1c3tvdXRsaW5lOjB9LnBseXItLWZ1bGwtdWl7Ym94LXNpemluZzpib3JkZXItYm94fS5wbHlyLS1mdWxsLXVpICosLnBseXItLWZ1bGwtdWkgOmFmdGVyLC5wbHlyLS1mdWxsLXVpIDpiZWZvcmV7Ym94LXNpemluZzppbmhlcml0fS5wbHlyLS1mdWxsLXVpIGEsLnBseXItLWZ1bGwtdWkgYnV0dG9uLC5wbHlyLS1mdWxsLXVpIGlucHV0LC5wbHlyLS1mdWxsLXVpIGxhYmVse3RvdWNoLWFjdGlvbjptYW5pcHVsYXRpb259LnBseXJfX2JhZGdle2JhY2tncm91bmQ6IzRhNTQ2NDtiYWNrZ3JvdW5kOnZhcigtLXBseXItYmFkZ2UtYmFja2dyb3VuZCwjNGE1NDY0KTtib3JkZXItcmFkaXVzOjJweDtib3JkZXItcmFkaXVzOnZhcigtLXBseXItYmFkZ2UtYm9yZGVyLXJhZGl1cywycHgpO2NvbG9yOiNmZmY7Y29sb3I6dmFyKC0tcGx5ci1iYWRnZS10ZXh0LWNvbG9yLCNmZmYpO2ZvbnQtc2l6ZTo5cHg7Zm9udC1zaXplOnZhcigtLXBseXItZm9udC1zaXplLWJhZGdlLDlweCk7bGluZS1oZWlnaHQ6MTtwYWRkaW5nOjNweCA0cHh9LnBseXItLWZ1bGwtdWkgOjotd2Via2l0LW1lZGlhLXRleHQtdHJhY2stY29udGFpbmVye2Rpc3BsYXk6bm9uZX0ucGx5cl9fY2FwdGlvbnN7YW5pbWF0aW9uOnBseXItZmFkZS1pbiAuM3MgZWFzZTtib3R0b206MDtkaXNwbGF5Om5vbmU7Zm9udC1zaXplOjEzcHg7Zm9udC1zaXplOnZhcigtLXBseXItZm9udC1zaXplLXNtYWxsLDEzcHgpO2xlZnQ6MDtwYWRkaW5nOjEwcHg7cGFkZGluZzp2YXIoLS1wbHlyLWNvbnRyb2wtc3BhY2luZywxMHB4KTtwb3NpdGlvbjphYnNvbHV0ZTt0ZXh0LWFsaWduOmNlbnRlcjt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuNHMgZWFzZS1pbi1vdXQ7d2lkdGg6MTAwJX0ucGx5cl9fY2FwdGlvbnMgc3BhbjplbXB0eXtkaXNwbGF5Om5vbmV9QG1lZGlhIChtaW4td2lkdGg6NDgwcHgpey5wbHlyX19jYXB0aW9uc3tmb250LXNpemU6MTVweDtmb250LXNpemU6dmFyKC0tcGx5ci1mb250LXNpemUtYmFzZSwxNXB4KTtwYWRkaW5nOjIwcHg7cGFkZGluZzpjYWxjKHZhcigtLXBseXItY29udHJvbC1zcGFjaW5nLCAxMHB4KSoyKX19QG1lZGlhIChtaW4td2lkdGg6NzY4cHgpey5wbHlyX19jYXB0aW9uc3tmb250LXNpemU6MThweDtmb250LXNpemU6dmFyKC0tcGx5ci1mb250LXNpemUtbGFyZ2UsMThweCl9fS5wbHlyLS1jYXB0aW9ucy1hY3RpdmUgLnBseXJfX2NhcHRpb25ze2Rpc3BsYXk6YmxvY2t9LnBseXI6bm90KC5wbHlyLS1oaWRlLWNvbnRyb2xzKSAucGx5cl9fY29udHJvbHM6bm90KDplbXB0eSl+LnBseXJfX2NhcHRpb25ze3RyYW5zZm9ybTp0cmFuc2xhdGVZKC00MHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWShjYWxjKHZhcigtLXBseXItY29udHJvbC1zcGFjaW5nLCAxMHB4KSotNCkpfS5wbHlyX19jYXB0aW9ue2JhY2tncm91bmQ6cmdiYSgwLDAsMCwuOCk7YmFja2dyb3VuZDp2YXIoLS1wbHlyLWNhcHRpb25zLWJhY2tncm91bmQscmdiYSgwLDAsMCwuOCkpO2JvcmRlci1yYWRpdXM6MnB4Oy13ZWJraXQtYm94LWRlY29yYXRpb24tYnJlYWs6Y2xvbmU7Ym94LWRlY29yYXRpb24tYnJlYWs6Y2xvbmU7Y29sb3I6I2ZmZjtjb2xvcjp2YXIoLS1wbHlyLWNhcHRpb25zLXRleHQtY29sb3IsI2ZmZik7bGluZS1oZWlnaHQ6MTg1JTtwYWRkaW5nOi4yZW0gLjVlbTt3aGl0ZS1zcGFjZTpwcmUtd3JhcH0ucGx5cl9fY2FwdGlvbiBkaXZ7ZGlzcGxheTppbmxpbmV9LnBseXJfX2NvbnRyb2x7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtib3JkZXI6MDtib3JkZXItcmFkaXVzOjNweDtib3JkZXItcmFkaXVzOnZhcigtLXBseXItY29udHJvbC1yYWRpdXMsM3B4KTtjb2xvcjppbmhlcml0O2N1cnNvcjpwb2ludGVyO2ZsZXgtc2hyaW5rOjA7b3ZlcmZsb3c6dmlzaWJsZTtwYWRkaW5nOjdweDtwYWRkaW5nOmNhbGModmFyKC0tcGx5ci1jb250cm9sLXNwYWNpbmcsIDEwcHgpKi43KTtwb3NpdGlvbjpyZWxhdGl2ZTt0cmFuc2l0aW9uOmFsbCAuM3MgZWFzZX0ucGx5cl9fY29udHJvbCBzdmd7ZmlsbDpjdXJyZW50Q29sb3I7ZGlzcGxheTpibG9jaztoZWlnaHQ6MThweDtoZWlnaHQ6dmFyKC0tcGx5ci1jb250cm9sLWljb24tc2l6ZSwxOHB4KTtwb2ludGVyLWV2ZW50czpub25lO3dpZHRoOjE4cHg7d2lkdGg6dmFyKC0tcGx5ci1jb250cm9sLWljb24tc2l6ZSwxOHB4KX0ucGx5cl9fY29udHJvbDpmb2N1c3tvdXRsaW5lOjB9LnBseXJfX2NvbnRyb2wucGx5cl9fdGFiLWZvY3Vze291dGxpbmUtY29sb3I6IzAwYjNmZjtvdXRsaW5lLWNvbG9yOnZhcigtLXBseXItdGFiLWZvY3VzLWNvbG9yLHZhcigtLXBseXItY29sb3ItbWFpbix2YXIoLS1wbHlyLWNvbG9yLW1haW4sIzAwYjNmZikpKTtvdXRsaW5lLW9mZnNldDoycHg7b3V0bGluZS1zdHlsZTpkb3R0ZWQ7b3V0bGluZS13aWR0aDozcHh9YS5wbHlyX19jb250cm9se3RleHQtZGVjb3JhdGlvbjpub25lfS5wbHlyX19jb250cm9sLnBseXJfX2NvbnRyb2wtLXByZXNzZWQgLmljb24tLW5vdC1wcmVzc2VkLC5wbHlyX19jb250cm9sLnBseXJfX2NvbnRyb2wtLXByZXNzZWQgLmxhYmVsLS1ub3QtcHJlc3NlZCwucGx5cl9fY29udHJvbDpub3QoLnBseXJfX2NvbnRyb2wtLXByZXNzZWQpIC5pY29uLS1wcmVzc2VkLC5wbHlyX19jb250cm9sOm5vdCgucGx5cl9fY29udHJvbC0tcHJlc3NlZCkgLmxhYmVsLS1wcmVzc2VkLGEucGx5cl9fY29udHJvbDphZnRlcixhLnBseXJfX2NvbnRyb2w6YmVmb3Jle2Rpc3BsYXk6bm9uZX0ucGx5ci0tZnVsbC11aSA6Oi13ZWJraXQtbWVkaWEtY29udHJvbHN7ZGlzcGxheTpub25lfS5wbHlyX19jb250cm9sc3thbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpmbGV4LWVuZDt0ZXh0LWFsaWduOmNlbnRlcn0ucGx5cl9fY29udHJvbHMgLnBseXJfX3Byb2dyZXNzX19jb250YWluZXJ7ZmxleDoxO21pbi13aWR0aDowfS5wbHlyX19jb250cm9scyAucGx5cl9fY29udHJvbHNfX2l0ZW17bWFyZ2luLWxlZnQ6Mi41cHg7bWFyZ2luLWxlZnQ6Y2FsYyh2YXIoLS1wbHlyLWNvbnRyb2wtc3BhY2luZywgMTBweCkvNCl9LnBseXJfX2NvbnRyb2xzIC5wbHlyX19jb250cm9sc19faXRlbTpmaXJzdC1jaGlsZHttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDphdXRvfS5wbHlyX19jb250cm9scyAucGx5cl9fY29udHJvbHNfX2l0ZW0ucGx5cl9fcHJvZ3Jlc3NfX2NvbnRhaW5lcntwYWRkaW5nLWxlZnQ6Mi41cHg7cGFkZGluZy1sZWZ0OmNhbGModmFyKC0tcGx5ci1jb250cm9sLXNwYWNpbmcsIDEwcHgpLzQpfS5wbHlyX19jb250cm9scyAucGx5cl9fY29udHJvbHNfX2l0ZW0ucGx5cl9fdGltZXtwYWRkaW5nOjAgNXB4O3BhZGRpbmc6MCBjYWxjKHZhcigtLXBseXItY29udHJvbC1zcGFjaW5nLCAxMHB4KS8yKX0ucGx5cl9fY29udHJvbHMgLnBseXJfX2NvbnRyb2xzX19pdGVtLnBseXJfX3Byb2dyZXNzX19jb250YWluZXI6Zmlyc3QtY2hpbGQsLnBseXJfX2NvbnRyb2xzIC5wbHlyX19jb250cm9sc19faXRlbS5wbHlyX190aW1lKy5wbHlyX190aW1lLC5wbHlyX19jb250cm9scyAucGx5cl9fY29udHJvbHNfX2l0ZW0ucGx5cl9fdGltZTpmaXJzdC1jaGlsZHtwYWRkaW5nLWxlZnQ6MH0ucGx5ciBbZGF0YS1wbHlyPWFpcnBsYXldLC5wbHlyIFtkYXRhLXBseXI9Y2FwdGlvbnNdLC5wbHlyIFtkYXRhLXBseXI9ZnVsbHNjcmVlbl0sLnBseXIgW2RhdGEtcGx5cj1waXBdLC5wbHlyX19jb250cm9sczplbXB0eXtkaXNwbGF5Om5vbmV9LnBseXItLWFpcnBsYXktc3VwcG9ydGVkIFtkYXRhLXBseXI9YWlycGxheV0sLnBseXItLWNhcHRpb25zLWVuYWJsZWQgW2RhdGEtcGx5cj1jYXB0aW9uc10sLnBseXItLWZ1bGxzY3JlZW4tZW5hYmxlZCBbZGF0YS1wbHlyPWZ1bGxzY3JlZW5dLC5wbHlyLS1waXAtc3VwcG9ydGVkIFtkYXRhLXBseXI9cGlwXXtkaXNwbGF5OmlubGluZS1ibG9ja30ucGx5cl9fbWVudXtkaXNwbGF5OmZsZXg7cG9zaXRpb246cmVsYXRpdmV9LnBseXJfX21lbnUgLnBseXJfX2NvbnRyb2wgc3Zne3RyYW5zaXRpb246dHJhbnNmb3JtIC4zcyBlYXNlfS5wbHlyX19tZW51IC5wbHlyX19jb250cm9sW2FyaWEtZXhwYW5kZWQ9dHJ1ZV0gc3Zne3RyYW5zZm9ybTpyb3RhdGUoOTBkZWcpfS5wbHlyX19tZW51IC5wbHlyX19jb250cm9sW2FyaWEtZXhwYW5kZWQ9dHJ1ZV0gLnBseXJfX3Rvb2x0aXB7ZGlzcGxheTpub25lfS5wbHlyX19tZW51X19jb250YWluZXJ7YW5pbWF0aW9uOnBseXItcG9wdXAgLjJzIGVhc2U7YmFja2dyb3VuZDpoc2xhKDAsMCUsMTAwJSwuOSk7YmFja2dyb3VuZDp2YXIoLS1wbHlyLW1lbnUtYmFja2dyb3VuZCxoc2xhKDAsMCUsMTAwJSwuOSkpO2JvcmRlci1yYWRpdXM6NHB4O2JvdHRvbToxMDAlO2JveC1zaGFkb3c6MCAxcHggMnB4IHJnYmEoMCwwLDAsLjE1KTtib3gtc2hhZG93OnZhcigtLXBseXItbWVudS1zaGFkb3csMCAxcHggMnB4IHJnYmEoMCwwLDAsLjE1KSk7Y29sb3I6IzRhNTQ2NDtjb2xvcjp2YXIoLS1wbHlyLW1lbnUtY29sb3IsIzRhNTQ2NCk7Zm9udC1zaXplOjE1cHg7Zm9udC1zaXplOnZhcigtLXBseXItZm9udC1zaXplLWJhc2UsMTVweCk7bWFyZ2luLWJvdHRvbToxMHB4O3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0Oi0zcHg7dGV4dC1hbGlnbjpsZWZ0O3doaXRlLXNwYWNlOm5vd3JhcDt6LWluZGV4OjN9LnBseXJfX21lbnVfX2NvbnRhaW5lcj5kaXZ7b3ZlcmZsb3c6aGlkZGVuO3RyYW5zaXRpb246aGVpZ2h0IC4zNXMgY3ViaWMtYmV6aWVyKC40LDAsLjIsMSksd2lkdGggLjM1cyBjdWJpYy1iZXppZXIoLjQsMCwuMiwxKX0ucGx5cl9fbWVudV9fY29udGFpbmVyOmFmdGVye2JvcmRlcjo0cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXRvcDp2YXIoLS1wbHlyLW1lbnUtYXJyb3ctc2l6ZSw0cHgpIHNvbGlkIGhzbGEoMCwwJSwxMDAlLC45KTtib3JkZXItd2lkdGg6dmFyKC0tcGx5ci1tZW51LWFycm93LXNpemUsNHB4KTtjb250ZW50OlxcXCJcXFwiO2hlaWdodDowO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjE0cHg7cmlnaHQ6Y2FsYyh2YXIoLS1wbHlyLWNvbnRyb2wtaWNvbi1zaXplLCAxOHB4KS8yICsgdmFyKC0tcGx5ci1jb250cm9sLXNwYWNpbmcsIDEwcHgpKi43IC0gdmFyKC0tcGx5ci1tZW51LWFycm93LXNpemUsIDRweCkvMik7dG9wOjEwMCU7d2lkdGg6MH0ucGx5cl9fbWVudV9fY29udGFpbmVyIFtyb2xlPW1lbnVde3BhZGRpbmc6N3B4O3BhZGRpbmc6Y2FsYyh2YXIoLS1wbHlyLWNvbnRyb2wtc3BhY2luZywgMTBweCkqLjcpfS5wbHlyX19tZW51X19jb250YWluZXIgW3JvbGU9bWVudWl0ZW1dLC5wbHlyX19tZW51X19jb250YWluZXIgW3JvbGU9bWVudWl0ZW1yYWRpb117bWFyZ2luLXRvcDoycHh9LnBseXJfX21lbnVfX2NvbnRhaW5lciBbcm9sZT1tZW51aXRlbV06Zmlyc3QtY2hpbGQsLnBseXJfX21lbnVfX2NvbnRhaW5lciBbcm9sZT1tZW51aXRlbXJhZGlvXTpmaXJzdC1jaGlsZHttYXJnaW4tdG9wOjB9LnBseXJfX21lbnVfX2NvbnRhaW5lciAucGx5cl9fY29udHJvbHthbGlnbi1pdGVtczpjZW50ZXI7Y29sb3I6IzRhNTQ2NDtjb2xvcjp2YXIoLS1wbHlyLW1lbnUtY29sb3IsIzRhNTQ2NCk7ZGlzcGxheTpmbGV4O2ZvbnQtc2l6ZToxM3B4O2ZvbnQtc2l6ZTp2YXIoLS1wbHlyLWZvbnQtc2l6ZS1tZW51LHZhcigtLXBseXItZm9udC1zaXplLXNtYWxsLDEzcHgpKTtwYWRkaW5nOjQuNjY2NjdweCAxMC41cHg7cGFkZGluZzpjYWxjKHZhcigtLXBseXItY29udHJvbC1zcGFjaW5nLCAxMHB4KSouNy8xLjUpIGNhbGModmFyKC0tcGx5ci1jb250cm9sLXNwYWNpbmcsIDEwcHgpKi43KjEuNSk7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7d2lkdGg6MTAwJX0ucGx5cl9fbWVudV9fY29udGFpbmVyIC5wbHlyX19jb250cm9sPnNwYW57YWxpZ24taXRlbXM6aW5oZXJpdDtkaXNwbGF5OmZsZXg7d2lkdGg6MTAwJX0ucGx5cl9fbWVudV9fY29udGFpbmVyIC5wbHlyX19jb250cm9sOmFmdGVye2JvcmRlcjo0cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyOnZhcigtLXBseXItbWVudS1pdGVtLWFycm93LXNpemUsNHB4KSBzb2xpZCB0cmFuc3BhcmVudDtjb250ZW50OlxcXCJcXFwiO3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSl9LnBseXJfX21lbnVfX2NvbnRhaW5lciAucGx5cl9fY29udHJvbC0tZm9yd2FyZHtwYWRkaW5nLXJpZ2h0OjI4cHg7cGFkZGluZy1yaWdodDpjYWxjKHZhcigtLXBseXItY29udHJvbC1zcGFjaW5nLCAxMHB4KSouNyo0KX0ucGx5cl9fbWVudV9fY29udGFpbmVyIC5wbHlyX19jb250cm9sLS1mb3J3YXJkOmFmdGVye2JvcmRlci1sZWZ0LWNvbG9yOiM3MjgxOTc7Ym9yZGVyLWxlZnQtY29sb3I6dmFyKC0tcGx5ci1tZW51LWFycm93LWNvbG9yLCM3MjgxOTcpO3JpZ2h0OjYuNXB4O3JpZ2h0OmNhbGModmFyKC0tcGx5ci1jb250cm9sLXNwYWNpbmcsIDEwcHgpKi43KjEuNSAtIHZhcigtLXBseXItbWVudS1pdGVtLWFycm93LXNpemUsIDRweCkpfS5wbHlyX19tZW51X19jb250YWluZXIgLnBseXJfX2NvbnRyb2wtLWZvcndhcmQucGx5cl9fdGFiLWZvY3VzOmFmdGVyLC5wbHlyX19tZW51X19jb250YWluZXIgLnBseXJfX2NvbnRyb2wtLWZvcndhcmQ6aG92ZXI6YWZ0ZXJ7Ym9yZGVyLWxlZnQtY29sb3I6aW5pdGlhbH0ucGx5cl9fbWVudV9fY29udGFpbmVyIC5wbHlyX19jb250cm9sLS1iYWNre2ZvbnQtd2VpZ2h0OjQwMDtmb250LXdlaWdodDp2YXIoLS1wbHlyLWZvbnQtd2VpZ2h0LXJlZ3VsYXIsNDAwKTttYXJnaW46N3B4O21hcmdpbjpjYWxjKHZhcigtLXBseXItY29udHJvbC1zcGFjaW5nLCAxMHB4KSouNyk7bWFyZ2luLWJvdHRvbTozLjVweDttYXJnaW4tYm90dG9tOmNhbGModmFyKC0tcGx5ci1jb250cm9sLXNwYWNpbmcsIDEwcHgpKi43LzIpO3BhZGRpbmctbGVmdDoyOHB4O3BhZGRpbmctbGVmdDpjYWxjKHZhcigtLXBseXItY29udHJvbC1zcGFjaW5nLCAxMHB4KSouNyo0KTtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDpjYWxjKDEwMCUgLSAxNHB4KTt3aWR0aDpjYWxjKDEwMCUgLSB2YXIoLS1wbHlyLWNvbnRyb2wtc3BhY2luZywgMTBweCkqLjcqMil9LnBseXJfX21lbnVfX2NvbnRhaW5lciAucGx5cl9fY29udHJvbC0tYmFjazphZnRlcntib3JkZXItcmlnaHQtY29sb3I6IzcyODE5Nztib3JkZXItcmlnaHQtY29sb3I6dmFyKC0tcGx5ci1tZW51LWFycm93LWNvbG9yLCM3MjgxOTcpO2xlZnQ6Ni41cHg7bGVmdDpjYWxjKHZhcigtLXBseXItY29udHJvbC1zcGFjaW5nLCAxMHB4KSouNyoxLjUgLSB2YXIoLS1wbHlyLW1lbnUtaXRlbS1hcnJvdy1zaXplLCA0cHgpKX0ucGx5cl9fbWVudV9fY29udGFpbmVyIC5wbHlyX19jb250cm9sLS1iYWNrOmJlZm9yZXtiYWNrZ3JvdW5kOiNkY2RmZTU7YmFja2dyb3VuZDp2YXIoLS1wbHlyLW1lbnUtYmFjay1ib3JkZXItY29sb3IsI2RjZGZlNSk7Ym94LXNoYWRvdzowIDFweCAwICNmZmY7Ym94LXNoYWRvdzowIDFweCAwIHZhcigtLXBseXItbWVudS1iYWNrLWJvcmRlci1zaGFkb3ctY29sb3IsI2ZmZik7Y29udGVudDpcXFwiXFxcIjtoZWlnaHQ6MXB4O2xlZnQ6MDttYXJnaW4tdG9wOjMuNXB4O21hcmdpbi10b3A6Y2FsYyh2YXIoLS1wbHlyLWNvbnRyb2wtc3BhY2luZywgMTBweCkqLjcvMik7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7dG9wOjEwMCV9LnBseXJfX21lbnVfX2NvbnRhaW5lciAucGx5cl9fY29udHJvbC0tYmFjay5wbHlyX190YWItZm9jdXM6YWZ0ZXIsLnBseXJfX21lbnVfX2NvbnRhaW5lciAucGx5cl9fY29udHJvbC0tYmFjazpob3ZlcjphZnRlcntib3JkZXItcmlnaHQtY29sb3I6aW5pdGlhbH0ucGx5cl9fbWVudV9fY29udGFpbmVyIC5wbHlyX19jb250cm9sW3JvbGU9bWVudWl0ZW1yYWRpb117cGFkZGluZy1sZWZ0OjdweDtwYWRkaW5nLWxlZnQ6Y2FsYyh2YXIoLS1wbHlyLWNvbnRyb2wtc3BhY2luZywgMTBweCkqLjcpfS5wbHlyX19tZW51X19jb250YWluZXIgLnBseXJfX2NvbnRyb2xbcm9sZT1tZW51aXRlbXJhZGlvXTphZnRlciwucGx5cl9fbWVudV9fY29udGFpbmVyIC5wbHlyX19jb250cm9sW3JvbGU9bWVudWl0ZW1yYWRpb106YmVmb3Jle2JvcmRlci1yYWRpdXM6MTAwJX0ucGx5cl9fbWVudV9fY29udGFpbmVyIC5wbHlyX19jb250cm9sW3JvbGU9bWVudWl0ZW1yYWRpb106YmVmb3Jle2JhY2tncm91bmQ6cmdiYSgwLDAsMCwuMSk7Y29udGVudDpcXFwiXFxcIjtkaXNwbGF5OmJsb2NrO2ZsZXgtc2hyaW5rOjA7aGVpZ2h0OjE2cHg7bWFyZ2luLXJpZ2h0OjEwcHg7bWFyZ2luLXJpZ2h0OnZhcigtLXBseXItY29udHJvbC1zcGFjaW5nLDEwcHgpO3RyYW5zaXRpb246YWxsIC4zcyBlYXNlO3dpZHRoOjE2cHh9LnBseXJfX21lbnVfX2NvbnRhaW5lciAucGx5cl9fY29udHJvbFtyb2xlPW1lbnVpdGVtcmFkaW9dOmFmdGVye2JhY2tncm91bmQ6I2ZmZjtib3JkZXI6MDtoZWlnaHQ6NnB4O2xlZnQ6MTJweDtvcGFjaXR5OjA7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKSBzY2FsZSgwKTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuM3MgZWFzZSxvcGFjaXR5IC4zcyBlYXNlO3dpZHRoOjZweH0ucGx5cl9fbWVudV9fY29udGFpbmVyIC5wbHlyX19jb250cm9sW3JvbGU9bWVudWl0ZW1yYWRpb11bYXJpYS1jaGVja2VkPXRydWVdOmJlZm9yZXtiYWNrZ3JvdW5kOiMwMGIzZmY7YmFja2dyb3VuZDp2YXIoLS1wbHlyLWNvbnRyb2wtdG9nZ2xlLWNoZWNrZWQtYmFja2dyb3VuZCx2YXIoLS1wbHlyLWNvbG9yLW1haW4sdmFyKC0tcGx5ci1jb2xvci1tYWluLCMwMGIzZmYpKSl9LnBseXJfX21lbnVfX2NvbnRhaW5lciAucGx5cl9fY29udHJvbFtyb2xlPW1lbnVpdGVtcmFkaW9dW2FyaWEtY2hlY2tlZD10cnVlXTphZnRlcntvcGFjaXR5OjE7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSkgc2NhbGUoMSl9LnBseXJfX21lbnVfX2NvbnRhaW5lciAucGx5cl9fY29udHJvbFtyb2xlPW1lbnVpdGVtcmFkaW9dLnBseXJfX3RhYi1mb2N1czpiZWZvcmUsLnBseXJfX21lbnVfX2NvbnRhaW5lciAucGx5cl9fY29udHJvbFtyb2xlPW1lbnVpdGVtcmFkaW9dOmhvdmVyOmJlZm9yZXtiYWNrZ3JvdW5kOnJnYmEoMzUsNDAsNDcsLjEpfS5wbHlyX19tZW51X19jb250YWluZXIgLnBseXJfX21lbnVfX3ZhbHVle2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7bWFyZ2luLWxlZnQ6YXV0bzttYXJnaW4tcmlnaHQ6Y2FsYygtN3B4IC0gLTIpO21hcmdpbi1yaWdodDpjYWxjKHZhcigtLXBseXItY29udHJvbC1zcGFjaW5nLCAxMHB4KSouNyotMSAtIC0yKTtvdmVyZmxvdzpoaWRkZW47cGFkZGluZy1sZWZ0OjI0LjVweDtwYWRkaW5nLWxlZnQ6Y2FsYyh2YXIoLS1wbHlyLWNvbnRyb2wtc3BhY2luZywgMTBweCkqLjcqMy41KTtwb2ludGVyLWV2ZW50czpub25lfS5wbHlyLS1mdWxsLXVpIGlucHV0W3R5cGU9cmFuZ2Vdey13ZWJraXQtYXBwZWFyYW5jZTpub25lO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czoyNnB4O2JvcmRlci1yYWRpdXM6Y2FsYyh2YXIoLS1wbHlyLXJhbmdlLXRodW1iLWhlaWdodCwgMTNweCkqMik7Y29sb3I6IzAwYjNmZjtjb2xvcjp2YXIoLS1wbHlyLXJhbmdlLWZpbGwtYmFja2dyb3VuZCx2YXIoLS1wbHlyLWNvbG9yLW1haW4sdmFyKC0tcGx5ci1jb2xvci1tYWluLCMwMGIzZmYpKSk7ZGlzcGxheTpibG9jaztoZWlnaHQ6MTlweDtoZWlnaHQ6Y2FsYyh2YXIoLS1wbHlyLXJhbmdlLXRodW1iLWFjdGl2ZS1zaGFkb3ctd2lkdGgsIDNweCkqMiArIHZhcigtLXBseXItcmFuZ2UtdGh1bWItaGVpZ2h0LCAxM3B4KSk7bWFyZ2luOjA7bWluLXdpZHRoOjA7cGFkZGluZzowO3RyYW5zaXRpb246Ym94LXNoYWRvdyAuM3MgZWFzZTt3aWR0aDoxMDAlfS5wbHlyLS1mdWxsLXVpIGlucHV0W3R5cGU9cmFuZ2VdOjotd2Via2l0LXNsaWRlci1ydW5uYWJsZS10cmFja3tiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KDkwZGVnLGN1cnJlbnRDb2xvciAwLHRyYW5zcGFyZW50IDApO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LGN1cnJlbnRDb2xvciB2YXIoLS12YWx1ZSwwKSx0cmFuc3BhcmVudCB2YXIoLS12YWx1ZSwwKSk7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czoyLjVweDtib3JkZXItcmFkaXVzOmNhbGModmFyKC0tcGx5ci1yYW5nZS10cmFjay1oZWlnaHQsIDVweCkvMik7aGVpZ2h0OjVweDtoZWlnaHQ6dmFyKC0tcGx5ci1yYW5nZS10cmFjay1oZWlnaHQsNXB4KTstd2Via2l0LXRyYW5zaXRpb246Ym94LXNoYWRvdyAuM3MgZWFzZTt0cmFuc2l0aW9uOmJveC1zaGFkb3cgLjNzIGVhc2U7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9LnBseXItLWZ1bGwtdWkgaW5wdXRbdHlwZT1yYW5nZV06Oi13ZWJraXQtc2xpZGVyLXRodW1iey13ZWJraXQtYXBwZWFyYW5jZTpub25lO2JhY2tncm91bmQ6I2ZmZjtiYWNrZ3JvdW5kOnZhcigtLXBseXItcmFuZ2UtdGh1bWItYmFja2dyb3VuZCwjZmZmKTtib3JkZXI6MDtib3JkZXItcmFkaXVzOjEwMCU7Ym94LXNoYWRvdzowIDFweCAxcHggcmdiYSgzNSw0MCw0NywuMTUpLDAgMCAwIDFweCByZ2JhKDM1LDQwLDQ3LC4yKTtib3gtc2hhZG93OnZhcigtLXBseXItcmFuZ2UtdGh1bWItc2hhZG93LDAgMXB4IDFweCByZ2JhKDM1LDQwLDQ3LC4xNSksMCAwIDAgMXB4IHJnYmEoMzUsNDAsNDcsLjIpKTtoZWlnaHQ6MTNweDtoZWlnaHQ6dmFyKC0tcGx5ci1yYW5nZS10aHVtYi1oZWlnaHQsMTNweCk7bWFyZ2luLXRvcDotNHB4O21hcmdpbi10b3A6Y2FsYyh2YXIoLS1wbHlyLXJhbmdlLXRodW1iLWhlaWdodCwgMTNweCkvMiotMSAtIHZhcigtLXBseXItcmFuZ2UtdHJhY2staGVpZ2h0LCA1cHgpLzIqLTEpO3Bvc2l0aW9uOnJlbGF0aXZlOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgLjJzIGVhc2U7dHJhbnNpdGlvbjphbGwgLjJzIGVhc2U7d2lkdGg6MTNweDt3aWR0aDp2YXIoLS1wbHlyLXJhbmdlLXRodW1iLWhlaWdodCwxM3B4KX0ucGx5ci0tZnVsbC11aSBpbnB1dFt0eXBlPXJhbmdlXTo6LW1vei1yYW5nZS10cmFja3tiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlcjowO2JvcmRlci1yYWRpdXM6Mi41cHg7Ym9yZGVyLXJhZGl1czpjYWxjKHZhcigtLXBseXItcmFuZ2UtdHJhY2staGVpZ2h0LCA1cHgpLzIpO2hlaWdodDo1cHg7aGVpZ2h0OnZhcigtLXBseXItcmFuZ2UtdHJhY2staGVpZ2h0LDVweCk7LW1vei10cmFuc2l0aW9uOmJveC1zaGFkb3cgLjNzIGVhc2U7dHJhbnNpdGlvbjpib3gtc2hhZG93IC4zcyBlYXNlO3VzZXItc2VsZWN0Om5vbmV9LnBseXItLWZ1bGwtdWkgaW5wdXRbdHlwZT1yYW5nZV06Oi1tb3otcmFuZ2UtdGh1bWJ7YmFja2dyb3VuZDojZmZmO2JhY2tncm91bmQ6dmFyKC0tcGx5ci1yYW5nZS10aHVtYi1iYWNrZ3JvdW5kLCNmZmYpO2JvcmRlcjowO2JvcmRlci1yYWRpdXM6MTAwJTtib3gtc2hhZG93OjAgMXB4IDFweCByZ2JhKDM1LDQwLDQ3LC4xNSksMCAwIDAgMXB4IHJnYmEoMzUsNDAsNDcsLjIpO2JveC1zaGFkb3c6dmFyKC0tcGx5ci1yYW5nZS10aHVtYi1zaGFkb3csMCAxcHggMXB4IHJnYmEoMzUsNDAsNDcsLjE1KSwwIDAgMCAxcHggcmdiYSgzNSw0MCw0NywuMikpO2hlaWdodDoxM3B4O2hlaWdodDp2YXIoLS1wbHlyLXJhbmdlLXRodW1iLWhlaWdodCwxM3B4KTtwb3NpdGlvbjpyZWxhdGl2ZTstbW96LXRyYW5zaXRpb246YWxsIC4ycyBlYXNlO3RyYW5zaXRpb246YWxsIC4ycyBlYXNlO3dpZHRoOjEzcHg7d2lkdGg6dmFyKC0tcGx5ci1yYW5nZS10aHVtYi1oZWlnaHQsMTNweCl9LnBseXItLWZ1bGwtdWkgaW5wdXRbdHlwZT1yYW5nZV06Oi1tb3otcmFuZ2UtcHJvZ3Jlc3N7YmFja2dyb3VuZDpjdXJyZW50Q29sb3I7Ym9yZGVyLXJhZGl1czoyLjVweDtib3JkZXItcmFkaXVzOmNhbGModmFyKC0tcGx5ci1yYW5nZS10cmFjay1oZWlnaHQsIDVweCkvMik7aGVpZ2h0OjVweDtoZWlnaHQ6dmFyKC0tcGx5ci1yYW5nZS10cmFjay1oZWlnaHQsNXB4KX0ucGx5ci0tZnVsbC11aSBpbnB1dFt0eXBlPXJhbmdlXTo6LW1zLXRyYWNre2NvbG9yOnRyYW5zcGFyZW50fS5wbHlyLS1mdWxsLXVpIGlucHV0W3R5cGU9cmFuZ2VdOjotbXMtZmlsbC11cHBlciwucGx5ci0tZnVsbC11aSBpbnB1dFt0eXBlPXJhbmdlXTo6LW1zLXRyYWNre2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czoyLjVweDtib3JkZXItcmFkaXVzOmNhbGModmFyKC0tcGx5ci1yYW5nZS10cmFjay1oZWlnaHQsIDVweCkvMik7aGVpZ2h0OjVweDtoZWlnaHQ6dmFyKC0tcGx5ci1yYW5nZS10cmFjay1oZWlnaHQsNXB4KTstbXMtdHJhbnNpdGlvbjpib3gtc2hhZG93IC4zcyBlYXNlO3RyYW5zaXRpb246Ym94LXNoYWRvdyAuM3MgZWFzZTt1c2VyLXNlbGVjdDpub25lfS5wbHlyLS1mdWxsLXVpIGlucHV0W3R5cGU9cmFuZ2VdOjotbXMtZmlsbC1sb3dlcntiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JhY2tncm91bmQ6Y3VycmVudENvbG9yO2JvcmRlcjowO2JvcmRlci1yYWRpdXM6Mi41cHg7Ym9yZGVyLXJhZGl1czpjYWxjKHZhcigtLXBseXItcmFuZ2UtdHJhY2staGVpZ2h0LCA1cHgpLzIpO2hlaWdodDo1cHg7aGVpZ2h0OnZhcigtLXBseXItcmFuZ2UtdHJhY2staGVpZ2h0LDVweCk7LW1zLXRyYW5zaXRpb246Ym94LXNoYWRvdyAuM3MgZWFzZTt0cmFuc2l0aW9uOmJveC1zaGFkb3cgLjNzIGVhc2U7dXNlci1zZWxlY3Q6bm9uZX0ucGx5ci0tZnVsbC11aSBpbnB1dFt0eXBlPXJhbmdlXTo6LW1zLXRodW1ie2JhY2tncm91bmQ6I2ZmZjtiYWNrZ3JvdW5kOnZhcigtLXBseXItcmFuZ2UtdGh1bWItYmFja2dyb3VuZCwjZmZmKTtib3JkZXI6MDtib3JkZXItcmFkaXVzOjEwMCU7Ym94LXNoYWRvdzowIDFweCAxcHggcmdiYSgzNSw0MCw0NywuMTUpLDAgMCAwIDFweCByZ2JhKDM1LDQwLDQ3LC4yKTtib3gtc2hhZG93OnZhcigtLXBseXItcmFuZ2UtdGh1bWItc2hhZG93LDAgMXB4IDFweCByZ2JhKDM1LDQwLDQ3LC4xNSksMCAwIDAgMXB4IHJnYmEoMzUsNDAsNDcsLjIpKTtoZWlnaHQ6MTNweDtoZWlnaHQ6dmFyKC0tcGx5ci1yYW5nZS10aHVtYi1oZWlnaHQsMTNweCk7bWFyZ2luLXRvcDowO3Bvc2l0aW9uOnJlbGF0aXZlOy1tcy10cmFuc2l0aW9uOmFsbCAuMnMgZWFzZTt0cmFuc2l0aW9uOmFsbCAuMnMgZWFzZTt3aWR0aDoxM3B4O3dpZHRoOnZhcigtLXBseXItcmFuZ2UtdGh1bWItaGVpZ2h0LDEzcHgpfS5wbHlyLS1mdWxsLXVpIGlucHV0W3R5cGU9cmFuZ2VdOjotbXMtdG9vbHRpcHtkaXNwbGF5Om5vbmV9LnBseXItLWZ1bGwtdWkgaW5wdXRbdHlwZT1yYW5nZV06Zm9jdXN7b3V0bGluZTowfS5wbHlyLS1mdWxsLXVpIGlucHV0W3R5cGU9cmFuZ2VdOjotbW96LWZvY3VzLW91dGVye2JvcmRlcjowfS5wbHlyLS1mdWxsLXVpIGlucHV0W3R5cGU9cmFuZ2VdLnBseXJfX3RhYi1mb2N1czo6LXdlYmtpdC1zbGlkZXItcnVubmFibGUtdHJhY2t7b3V0bGluZS1jb2xvcjojMDBiM2ZmO291dGxpbmUtY29sb3I6dmFyKC0tcGx5ci10YWItZm9jdXMtY29sb3IsdmFyKC0tcGx5ci1jb2xvci1tYWluLHZhcigtLXBseXItY29sb3ItbWFpbiwjMDBiM2ZmKSkpO291dGxpbmUtb2Zmc2V0OjJweDtvdXRsaW5lLXN0eWxlOmRvdHRlZDtvdXRsaW5lLXdpZHRoOjNweH0ucGx5ci0tZnVsbC11aSBpbnB1dFt0eXBlPXJhbmdlXS5wbHlyX190YWItZm9jdXM6Oi1tb3otcmFuZ2UtdHJhY2t7b3V0bGluZS1jb2xvcjojMDBiM2ZmO291dGxpbmUtY29sb3I6dmFyKC0tcGx5ci10YWItZm9jdXMtY29sb3IsdmFyKC0tcGx5ci1jb2xvci1tYWluLHZhcigtLXBseXItY29sb3ItbWFpbiwjMDBiM2ZmKSkpO291dGxpbmUtb2Zmc2V0OjJweDtvdXRsaW5lLXN0eWxlOmRvdHRlZDtvdXRsaW5lLXdpZHRoOjNweH0ucGx5ci0tZnVsbC11aSBpbnB1dFt0eXBlPXJhbmdlXS5wbHlyX190YWItZm9jdXM6Oi1tcy10cmFja3tvdXRsaW5lLWNvbG9yOiMwMGIzZmY7b3V0bGluZS1jb2xvcjp2YXIoLS1wbHlyLXRhYi1mb2N1cy1jb2xvcix2YXIoLS1wbHlyLWNvbG9yLW1haW4sdmFyKC0tcGx5ci1jb2xvci1tYWluLCMwMGIzZmYpKSk7b3V0bGluZS1vZmZzZXQ6MnB4O291dGxpbmUtc3R5bGU6ZG90dGVkO291dGxpbmUtd2lkdGg6M3B4fS5wbHlyX19wb3N0ZXJ7YmFja2dyb3VuZC1jb2xvcjojMDAwO2JhY2tncm91bmQtY29sb3I6dmFyKC0tcGx5ci12aWRlby1iYWNrZ3JvdW5kLHZhcigtLXBseXItdmlkZW8tYmFja2dyb3VuZCwjMDAwKSk7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCUgNTAlO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXNpemU6Y29udGFpbjtoZWlnaHQ6MTAwJTtsZWZ0OjA7b3BhY2l0eTowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3RyYW5zaXRpb246b3BhY2l0eSAuMnMgZWFzZTt3aWR0aDoxMDAlO3otaW5kZXg6MX0ucGx5ci0tc3RvcHBlZC5wbHlyX19wb3N0ZXItZW5hYmxlZCAucGx5cl9fcG9zdGVye29wYWNpdHk6MX0ucGx5ci0teW91dHViZS5wbHlyLS1wYXVzZWQucGx5cl9fcG9zdGVyLWVuYWJsZWQ6bm90KC5wbHlyLS1zdG9wcGVkKSAucGx5cl9fcG9zdGVye2Rpc3BsYXk6bm9uZX0ucGx5cl9fdGltZXtmb250LXNpemU6MTNweDtmb250LXNpemU6dmFyKC0tcGx5ci1mb250LXNpemUtdGltZSx2YXIoLS1wbHlyLWZvbnQtc2l6ZS1zbWFsbCwxM3B4KSl9LnBseXJfX3RpbWUrLnBseXJfX3RpbWU6YmVmb3Jle2NvbnRlbnQ6XFxcIlxcXFwyMDQ0XFxcIjttYXJnaW4tcmlnaHQ6MTBweDttYXJnaW4tcmlnaHQ6dmFyKC0tcGx5ci1jb250cm9sLXNwYWNpbmcsMTBweCl9QG1lZGlhIChtYXgtd2lkdGg6NzY3cHgpey5wbHlyX190aW1lKy5wbHlyX190aW1le2Rpc3BsYXk6bm9uZX19LnBseXJfX3Rvb2x0aXB7YmFja2dyb3VuZDpoc2xhKDAsMCUsMTAwJSwuOSk7YmFja2dyb3VuZDp2YXIoLS1wbHlyLXRvb2x0aXAtYmFja2dyb3VuZCxoc2xhKDAsMCUsMTAwJSwuOSkpO2JvcmRlci1yYWRpdXM6M3B4O2JvcmRlci1yYWRpdXM6dmFyKC0tcGx5ci10b29sdGlwLXJhZGl1cywzcHgpO2JvdHRvbToxMDAlO2JveC1zaGFkb3c6MCAxcHggMnB4IHJnYmEoMCwwLDAsLjE1KTtib3gtc2hhZG93OnZhcigtLXBseXItdG9vbHRpcC1zaGFkb3csMCAxcHggMnB4IHJnYmEoMCwwLDAsLjE1KSk7Y29sb3I6IzRhNTQ2NDtjb2xvcjp2YXIoLS1wbHlyLXRvb2x0aXAtY29sb3IsIzRhNTQ2NCk7Zm9udC1zaXplOjEzcHg7Zm9udC1zaXplOnZhcigtLXBseXItZm9udC1zaXplLXNtYWxsLDEzcHgpO2ZvbnQtd2VpZ2h0OjQwMDtmb250LXdlaWdodDp2YXIoLS1wbHlyLWZvbnQtd2VpZ2h0LXJlZ3VsYXIsNDAwKTtsZWZ0OjUwJTtsaW5lLWhlaWdodDoxLjM7bWFyZ2luLWJvdHRvbToxMHB4O21hcmdpbi1ib3R0b206Y2FsYyh2YXIoLS1wbHlyLWNvbnRyb2wtc3BhY2luZywgMTBweCkvMioyKTtvcGFjaXR5OjA7cGFkZGluZzo1cHggNy41cHg7cGFkZGluZzpjYWxjKHZhcigtLXBseXItY29udHJvbC1zcGFjaW5nLCAxMHB4KS8yKSBjYWxjKHZhcigtLXBseXItY29udHJvbC1zcGFjaW5nLCAxMHB4KS8yKjEuNSk7cG9pbnRlci1ldmVudHM6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsMTBweCkgc2NhbGUoLjgpO3RyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCU7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjJzIGVhc2UgLjFzLG9wYWNpdHkgLjJzIGVhc2UgLjFzO3doaXRlLXNwYWNlOm5vd3JhcDt6LWluZGV4OjJ9LnBseXJfX3Rvb2x0aXA6YmVmb3Jle2JvcmRlci1sZWZ0OjRweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItbGVmdDp2YXIoLS1wbHlyLXRvb2x0aXAtYXJyb3ctc2l6ZSw0cHgpIHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1yaWdodDo0cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXJpZ2h0OnZhcigtLXBseXItdG9vbHRpcC1hcnJvdy1zaXplLDRweCkgc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXRvcDo0cHggc29saWQgaHNsYSgwLDAlLDEwMCUsLjkpO2JvcmRlci10b3A6dmFyKC0tcGx5ci10b29sdGlwLWFycm93LXNpemUsNHB4KSBzb2xpZCB2YXIoLS1wbHlyLXRvb2x0aXAtYmFja2dyb3VuZCxoc2xhKDAsMCUsMTAwJSwuOSkpO2JvdHRvbTotNHB4O2JvdHRvbTpjYWxjKHZhcigtLXBseXItdG9vbHRpcC1hcnJvdy1zaXplLCA0cHgpKi0xKTtjb250ZW50OlxcXCJcXFwiO2hlaWdodDowO2xlZnQ6NTAlO3Bvc2l0aW9uOmFic29sdXRlO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpO3dpZHRoOjA7ei1pbmRleDoyfS5wbHlyIC5wbHlyX19jb250cm9sLnBseXJfX3RhYi1mb2N1cyAucGx5cl9fdG9vbHRpcCwucGx5ciAucGx5cl9fY29udHJvbDpob3ZlciAucGx5cl9fdG9vbHRpcCwucGx5cl9fdG9vbHRpcC0tdmlzaWJsZXtvcGFjaXR5OjE7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlKSBzY2FsZSgxKX0ucGx5ciAucGx5cl9fY29udHJvbDpob3ZlciAucGx5cl9fdG9vbHRpcHt6LWluZGV4OjN9LnBseXJfX2NvbnRyb2xzPi5wbHlyX19jb250cm9sOmZpcnN0LWNoaWxkKy5wbHlyX19jb250cm9sIC5wbHlyX190b29sdGlwLC5wbHlyX19jb250cm9scz4ucGx5cl9fY29udHJvbDpmaXJzdC1jaGlsZCAucGx5cl9fdG9vbHRpcHtsZWZ0OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTBweCkgc2NhbGUoLjgpO3RyYW5zZm9ybS1vcmlnaW46MCAxMDAlfS5wbHlyX19jb250cm9scz4ucGx5cl9fY29udHJvbDpmaXJzdC1jaGlsZCsucGx5cl9fY29udHJvbCAucGx5cl9fdG9vbHRpcDpiZWZvcmUsLnBseXJfX2NvbnRyb2xzPi5wbHlyX19jb250cm9sOmZpcnN0LWNoaWxkIC5wbHlyX190b29sdGlwOmJlZm9yZXtsZWZ0OjE2cHg7bGVmdDpjYWxjKHZhcigtLXBseXItY29udHJvbC1pY29uLXNpemUsIDE4cHgpLzIgKyB2YXIoLS1wbHlyLWNvbnRyb2wtc3BhY2luZywgMTBweCkqLjcpfS5wbHlyX19jb250cm9scz4ucGx5cl9fY29udHJvbDpsYXN0LWNoaWxkIC5wbHlyX190b29sdGlwe2xlZnQ6YXV0bztyaWdodDowO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwcHgpIHNjYWxlKC44KTt0cmFuc2Zvcm0tb3JpZ2luOjEwMCUgMTAwJX0ucGx5cl9fY29udHJvbHM+LnBseXJfX2NvbnRyb2w6bGFzdC1jaGlsZCAucGx5cl9fdG9vbHRpcDpiZWZvcmV7bGVmdDphdXRvO3JpZ2h0OjE2cHg7cmlnaHQ6Y2FsYyh2YXIoLS1wbHlyLWNvbnRyb2wtaWNvbi1zaXplLCAxOHB4KS8yICsgdmFyKC0tcGx5ci1jb250cm9sLXNwYWNpbmcsIDEwcHgpKi43KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCg1MCUpfS5wbHlyX19jb250cm9scz4ucGx5cl9fY29udHJvbDpmaXJzdC1jaGlsZCsucGx5cl9fY29udHJvbC5wbHlyX190YWItZm9jdXMgLnBseXJfX3Rvb2x0aXAsLnBseXJfX2NvbnRyb2xzPi5wbHlyX19jb250cm9sOmZpcnN0LWNoaWxkKy5wbHlyX19jb250cm9sIC5wbHlyX190b29sdGlwLS12aXNpYmxlLC5wbHlyX19jb250cm9scz4ucGx5cl9fY29udHJvbDpmaXJzdC1jaGlsZCsucGx5cl9fY29udHJvbDpob3ZlciAucGx5cl9fdG9vbHRpcCwucGx5cl9fY29udHJvbHM+LnBseXJfX2NvbnRyb2w6Zmlyc3QtY2hpbGQucGx5cl9fdGFiLWZvY3VzIC5wbHlyX190b29sdGlwLC5wbHlyX19jb250cm9scz4ucGx5cl9fY29udHJvbDpmaXJzdC1jaGlsZCAucGx5cl9fdG9vbHRpcC0tdmlzaWJsZSwucGx5cl9fY29udHJvbHM+LnBseXJfX2NvbnRyb2w6Zmlyc3QtY2hpbGQ6aG92ZXIgLnBseXJfX3Rvb2x0aXAsLnBseXJfX2NvbnRyb2xzPi5wbHlyX19jb250cm9sOmxhc3QtY2hpbGQucGx5cl9fdGFiLWZvY3VzIC5wbHlyX190b29sdGlwLC5wbHlyX19jb250cm9scz4ucGx5cl9fY29udHJvbDpsYXN0LWNoaWxkIC5wbHlyX190b29sdGlwLS12aXNpYmxlLC5wbHlyX19jb250cm9scz4ucGx5cl9fY29udHJvbDpsYXN0LWNoaWxkOmhvdmVyIC5wbHlyX190b29sdGlwe3RyYW5zZm9ybTp0cmFuc2xhdGUoMCkgc2NhbGUoMSl9LnBseXJfX3Byb2dyZXNze2xlZnQ6Ni41cHg7bGVmdDpjYWxjKHZhcigtLXBseXItcmFuZ2UtdGh1bWItaGVpZ2h0LCAxM3B4KSouNSk7bWFyZ2luLXJpZ2h0OjEzcHg7bWFyZ2luLXJpZ2h0OnZhcigtLXBseXItcmFuZ2UtdGh1bWItaGVpZ2h0LDEzcHgpO3Bvc2l0aW9uOnJlbGF0aXZlfS5wbHlyX19wcm9ncmVzc19fYnVmZmVyLC5wbHlyX19wcm9ncmVzcyBpbnB1dFt0eXBlPXJhbmdlXXttYXJnaW4tbGVmdDotNi41cHg7bWFyZ2luLWxlZnQ6Y2FsYyh2YXIoLS1wbHlyLXJhbmdlLXRodW1iLWhlaWdodCwgMTNweCkqLS41KTttYXJnaW4tcmlnaHQ6LTYuNXB4O21hcmdpbi1yaWdodDpjYWxjKHZhcigtLXBseXItcmFuZ2UtdGh1bWItaGVpZ2h0LCAxM3B4KSotLjUpO3dpZHRoOmNhbGMoMTAwJSArIDEzcHgpO3dpZHRoOmNhbGMoMTAwJSArIHZhcigtLXBseXItcmFuZ2UtdGh1bWItaGVpZ2h0LCAxM3B4KSl9LnBseXJfX3Byb2dyZXNzIGlucHV0W3R5cGU9cmFuZ2Vde3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6Mn0ucGx5cl9fcHJvZ3Jlc3MgLnBseXJfX3Rvb2x0aXB7Zm9udC1zaXplOjEzcHg7Zm9udC1zaXplOnZhcigtLXBseXItZm9udC1zaXplLXRpbWUsdmFyKC0tcGx5ci1mb250LXNpemUtc21hbGwsMTNweCkpO2xlZnQ6MH0ucGx5cl9fcHJvZ3Jlc3NfX2J1ZmZlcnstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlcjowO2JvcmRlci1yYWRpdXM6MTAwcHg7aGVpZ2h0OjVweDtoZWlnaHQ6dmFyKC0tcGx5ci1yYW5nZS10cmFjay1oZWlnaHQsNXB4KTtsZWZ0OjA7bWFyZ2luLXRvcDotMi41cHg7bWFyZ2luLXRvcDpjYWxjKHZhcigtLXBseXItcmFuZ2UtdHJhY2staGVpZ2h0LCA1cHgpLzIqLTEpO3BhZGRpbmc6MDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlfS5wbHlyX19wcm9ncmVzc19fYnVmZmVyOjotd2Via2l0LXByb2dyZXNzLWJhcntiYWNrZ3JvdW5kOnRyYW5zcGFyZW50fS5wbHlyX19wcm9ncmVzc19fYnVmZmVyOjotd2Via2l0LXByb2dyZXNzLXZhbHVle2JhY2tncm91bmQ6Y3VycmVudENvbG9yO2JvcmRlci1yYWRpdXM6MTAwcHg7bWluLXdpZHRoOjVweDttaW4td2lkdGg6dmFyKC0tcGx5ci1yYW5nZS10cmFjay1oZWlnaHQsNXB4KTstd2Via2l0LXRyYW5zaXRpb246d2lkdGggLjJzIGVhc2U7dHJhbnNpdGlvbjp3aWR0aCAuMnMgZWFzZX0ucGx5cl9fcHJvZ3Jlc3NfX2J1ZmZlcjo6LW1vei1wcm9ncmVzcy1iYXJ7YmFja2dyb3VuZDpjdXJyZW50Q29sb3I7Ym9yZGVyLXJhZGl1czoxMDBweDttaW4td2lkdGg6NXB4O21pbi13aWR0aDp2YXIoLS1wbHlyLXJhbmdlLXRyYWNrLWhlaWdodCw1cHgpOy1tb3otdHJhbnNpdGlvbjp3aWR0aCAuMnMgZWFzZTt0cmFuc2l0aW9uOndpZHRoIC4ycyBlYXNlfS5wbHlyX19wcm9ncmVzc19fYnVmZmVyOjotbXMtZmlsbHtib3JkZXItcmFkaXVzOjEwMHB4Oy1tcy10cmFuc2l0aW9uOndpZHRoIC4ycyBlYXNlO3RyYW5zaXRpb246d2lkdGggLjJzIGVhc2V9LnBseXItLWxvYWRpbmcgLnBseXJfX3Byb2dyZXNzX19idWZmZXJ7YW5pbWF0aW9uOnBseXItcHJvZ3Jlc3MgMXMgbGluZWFyIGluZmluaXRlO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KC00NWRlZyxyZ2JhKDM1LDQwLDQ3LC42KSAyNSUsdHJhbnNwYXJlbnQgMCx0cmFuc3BhcmVudCA1MCUscmdiYSgzNSw0MCw0NywuNikgMCxyZ2JhKDM1LDQwLDQ3LC42KSA3NSUsdHJhbnNwYXJlbnQgMCx0cmFuc3BhcmVudCk7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQoLTQ1ZGVnLHZhcigtLXBseXItcHJvZ3Jlc3MtbG9hZGluZy1iYWNrZ3JvdW5kLHJnYmEoMzUsNDAsNDcsLjYpKSAyNSUsdHJhbnNwYXJlbnQgMjUlLHRyYW5zcGFyZW50IDUwJSx2YXIoLS1wbHlyLXByb2dyZXNzLWxvYWRpbmctYmFja2dyb3VuZCxyZ2JhKDM1LDQwLDQ3LC42KSkgNTAlLHZhcigtLXBseXItcHJvZ3Jlc3MtbG9hZGluZy1iYWNrZ3JvdW5kLHJnYmEoMzUsNDAsNDcsLjYpKSA3NSUsdHJhbnNwYXJlbnQgNzUlLHRyYW5zcGFyZW50KTtiYWNrZ3JvdW5kLXJlcGVhdDpyZXBlYXQteDtiYWNrZ3JvdW5kLXNpemU6MjVweCAyNXB4O2JhY2tncm91bmQtc2l6ZTp2YXIoLS1wbHlyLXByb2dyZXNzLWxvYWRpbmctc2l6ZSwyNXB4KSB2YXIoLS1wbHlyLXByb2dyZXNzLWxvYWRpbmctc2l6ZSwyNXB4KTtjb2xvcjp0cmFuc3BhcmVudH0ucGx5ci0tdmlkZW8ucGx5ci0tbG9hZGluZyAucGx5cl9fcHJvZ3Jlc3NfX2J1ZmZlcntiYWNrZ3JvdW5kLWNvbG9yOmhzbGEoMCwwJSwxMDAlLC4yNSk7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1wbHlyLXZpZGVvLXByb2dyZXNzLWJ1ZmZlcmVkLWJhY2tncm91bmQsaHNsYSgwLDAlLDEwMCUsLjI1KSl9LnBseXItLWF1ZGlvLnBseXItLWxvYWRpbmcgLnBseXJfX3Byb2dyZXNzX19idWZmZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDE5MywyMDAsMjA5LC42KTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXBseXItYXVkaW8tcHJvZ3Jlc3MtYnVmZmVyZWQtYmFja2dyb3VuZCxyZ2JhKDE5MywyMDAsMjA5LC42KSl9LnBseXJfX3ZvbHVtZXthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O21heC13aWR0aDoxMTBweDttaW4td2lkdGg6ODBweDtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoyMCV9LnBseXJfX3ZvbHVtZSBpbnB1dFt0eXBlPXJhbmdlXXttYXJnaW4tbGVmdDo1cHg7bWFyZ2luLWxlZnQ6Y2FsYyh2YXIoLS1wbHlyLWNvbnRyb2wtc3BhY2luZywgMTBweCkvMik7bWFyZ2luLXJpZ2h0OjVweDttYXJnaW4tcmlnaHQ6Y2FsYyh2YXIoLS1wbHlyLWNvbnRyb2wtc3BhY2luZywgMTBweCkvMik7cG9zaXRpb246cmVsYXRpdmU7ei1pbmRleDoyfS5wbHlyLS1pcy1pb3MgLnBseXJfX3ZvbHVtZXttaW4td2lkdGg6MDt3aWR0aDphdXRvfS5wbHlyLS1hdWRpb3tkaXNwbGF5OmJsb2NrfS5wbHlyLS1hdWRpbyAucGx5cl9fY29udHJvbHN7YmFja2dyb3VuZDojZmZmO2JhY2tncm91bmQ6dmFyKC0tcGx5ci1hdWRpby1jb250cm9scy1iYWNrZ3JvdW5kLCNmZmYpO2JvcmRlci1yYWRpdXM6aW5oZXJpdDtjb2xvcjojNGE1NDY0O2NvbG9yOnZhcigtLXBseXItYXVkaW8tY29udHJvbC1jb2xvciwjNGE1NDY0KTtwYWRkaW5nOjEwcHg7cGFkZGluZzp2YXIoLS1wbHlyLWNvbnRyb2wtc3BhY2luZywxMHB4KX0ucGx5ci0tYXVkaW8gLnBseXJfX2NvbnRyb2wucGx5cl9fdGFiLWZvY3VzLC5wbHlyLS1hdWRpbyAucGx5cl9fY29udHJvbDpob3ZlciwucGx5ci0tYXVkaW8gLnBseXJfX2NvbnRyb2xbYXJpYS1leHBhbmRlZD10cnVlXXtiYWNrZ3JvdW5kOiMwMGIzZmY7YmFja2dyb3VuZDp2YXIoLS1wbHlyLWF1ZGlvLWNvbnRyb2wtYmFja2dyb3VuZC1ob3Zlcix2YXIoLS1wbHlyLWNvbG9yLW1haW4sdmFyKC0tcGx5ci1jb2xvci1tYWluLCMwMGIzZmYpKSk7Y29sb3I6I2ZmZjtjb2xvcjp2YXIoLS1wbHlyLWF1ZGlvLWNvbnRyb2wtY29sb3ItaG92ZXIsI2ZmZil9LnBseXItLWZ1bGwtdWkucGx5ci0tYXVkaW8gaW5wdXRbdHlwZT1yYW5nZV06Oi13ZWJraXQtc2xpZGVyLXJ1bm5hYmxlLXRyYWNre2JhY2tncm91bmQtY29sb3I6cmdiYSgxOTMsMjAwLDIwOSwuNik7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1wbHlyLWF1ZGlvLXJhbmdlLXRyYWNrLWJhY2tncm91bmQsdmFyKC0tcGx5ci1hdWRpby1wcm9ncmVzcy1idWZmZXJlZC1iYWNrZ3JvdW5kLHJnYmEoMTkzLDIwMCwyMDksLjYpKSl9LnBseXItLWZ1bGwtdWkucGx5ci0tYXVkaW8gaW5wdXRbdHlwZT1yYW5nZV06Oi1tb3otcmFuZ2UtdHJhY2t7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDE5MywyMDAsMjA5LC42KTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXBseXItYXVkaW8tcmFuZ2UtdHJhY2stYmFja2dyb3VuZCx2YXIoLS1wbHlyLWF1ZGlvLXByb2dyZXNzLWJ1ZmZlcmVkLWJhY2tncm91bmQscmdiYSgxOTMsMjAwLDIwOSwuNikpKX0ucGx5ci0tZnVsbC11aS5wbHlyLS1hdWRpbyBpbnB1dFt0eXBlPXJhbmdlXTo6LW1zLXRyYWNre2JhY2tncm91bmQtY29sb3I6cmdiYSgxOTMsMjAwLDIwOSwuNik7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1wbHlyLWF1ZGlvLXJhbmdlLXRyYWNrLWJhY2tncm91bmQsdmFyKC0tcGx5ci1hdWRpby1wcm9ncmVzcy1idWZmZXJlZC1iYWNrZ3JvdW5kLHJnYmEoMTkzLDIwMCwyMDksLjYpKSl9LnBseXItLWZ1bGwtdWkucGx5ci0tYXVkaW8gaW5wdXRbdHlwZT1yYW5nZV06YWN0aXZlOjotd2Via2l0LXNsaWRlci10aHVtYntib3gtc2hhZG93OjAgMXB4IDFweCByZ2JhKDM1LDQwLDQ3LC4xNSksMCAwIDAgMXB4IHJnYmEoMzUsNDAsNDcsLjIpLDAgMCAwIDNweCByZ2JhKDM1LDQwLDQ3LC4xKTtib3gtc2hhZG93OnZhcigtLXBseXItcmFuZ2UtdGh1bWItc2hhZG93LDAgMXB4IDFweCByZ2JhKDM1LDQwLDQ3LC4xNSksMCAwIDAgMXB4IHJnYmEoMzUsNDAsNDcsLjIpKSwwIDAgMCB2YXIoLS1wbHlyLXJhbmdlLXRodW1iLWFjdGl2ZS1zaGFkb3ctd2lkdGgsM3B4KSB2YXIoLS1wbHlyLWF1ZGlvLXJhbmdlLXRodW1iLWFjdGl2ZS1zaGFkb3ctY29sb3IscmdiYSgzNSw0MCw0NywuMSkpfS5wbHlyLS1mdWxsLXVpLnBseXItLWF1ZGlvIGlucHV0W3R5cGU9cmFuZ2VdOmFjdGl2ZTo6LW1vei1yYW5nZS10aHVtYntib3gtc2hhZG93OjAgMXB4IDFweCByZ2JhKDM1LDQwLDQ3LC4xNSksMCAwIDAgMXB4IHJnYmEoMzUsNDAsNDcsLjIpLDAgMCAwIDNweCByZ2JhKDM1LDQwLDQ3LC4xKTtib3gtc2hhZG93OnZhcigtLXBseXItcmFuZ2UtdGh1bWItc2hhZG93LDAgMXB4IDFweCByZ2JhKDM1LDQwLDQ3LC4xNSksMCAwIDAgMXB4IHJnYmEoMzUsNDAsNDcsLjIpKSwwIDAgMCB2YXIoLS1wbHlyLXJhbmdlLXRodW1iLWFjdGl2ZS1zaGFkb3ctd2lkdGgsM3B4KSB2YXIoLS1wbHlyLWF1ZGlvLXJhbmdlLXRodW1iLWFjdGl2ZS1zaGFkb3ctY29sb3IscmdiYSgzNSw0MCw0NywuMSkpfS5wbHlyLS1mdWxsLXVpLnBseXItLWF1ZGlvIGlucHV0W3R5cGU9cmFuZ2VdOmFjdGl2ZTo6LW1zLXRodW1ie2JveC1zaGFkb3c6MCAxcHggMXB4IHJnYmEoMzUsNDAsNDcsLjE1KSwwIDAgMCAxcHggcmdiYSgzNSw0MCw0NywuMiksMCAwIDAgM3B4IHJnYmEoMzUsNDAsNDcsLjEpO2JveC1zaGFkb3c6dmFyKC0tcGx5ci1yYW5nZS10aHVtYi1zaGFkb3csMCAxcHggMXB4IHJnYmEoMzUsNDAsNDcsLjE1KSwwIDAgMCAxcHggcmdiYSgzNSw0MCw0NywuMikpLDAgMCAwIHZhcigtLXBseXItcmFuZ2UtdGh1bWItYWN0aXZlLXNoYWRvdy13aWR0aCwzcHgpIHZhcigtLXBseXItYXVkaW8tcmFuZ2UtdGh1bWItYWN0aXZlLXNoYWRvdy1jb2xvcixyZ2JhKDM1LDQwLDQ3LC4xKSl9LnBseXItLWF1ZGlvIC5wbHlyX19wcm9ncmVzc19fYnVmZmVye2NvbG9yOnJnYmEoMTkzLDIwMCwyMDksLjYpO2NvbG9yOnZhcigtLXBseXItYXVkaW8tcHJvZ3Jlc3MtYnVmZmVyZWQtYmFja2dyb3VuZCxyZ2JhKDE5MywyMDAsMjA5LC42KSl9LnBseXItLXZpZGVve2JhY2tncm91bmQ6IzAwMDtiYWNrZ3JvdW5kOnZhcigtLXBseXItdmlkZW8tYmFja2dyb3VuZCx2YXIoLS1wbHlyLXZpZGVvLWJhY2tncm91bmQsIzAwMCkpO292ZXJmbG93OmhpZGRlbn0ucGx5ci0tdmlkZW8ucGx5ci0tbWVudS1vcGVue292ZXJmbG93OnZpc2libGV9LnBseXJfX3ZpZGVvLXdyYXBwZXJ7YmFja2dyb3VuZDojMDAwO2JhY2tncm91bmQ6dmFyKC0tcGx5ci12aWRlby1iYWNrZ3JvdW5kLHZhcigtLXBseXItdmlkZW8tYmFja2dyb3VuZCwjMDAwKSk7aGVpZ2h0OjEwMCU7bWFyZ2luOmF1dG87b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCV9LnBseXJfX3ZpZGVvLWVtYmVkLC5wbHlyX192aWRlby13cmFwcGVyLS1maXhlZC1yYXRpb3thc3BlY3QtcmF0aW86MTYvOX1Ac3VwcG9ydHMgbm90IChhc3BlY3QtcmF0aW86MTYvOSl7LnBseXJfX3ZpZGVvLWVtYmVkLC5wbHlyX192aWRlby13cmFwcGVyLS1maXhlZC1yYXRpb3toZWlnaHQ6MDtwYWRkaW5nLWJvdHRvbTo1Ni4yNSU7cG9zaXRpb246cmVsYXRpdmV9fS5wbHlyX192aWRlby1lbWJlZCBpZnJhbWUsLnBseXJfX3ZpZGVvLXdyYXBwZXItLWZpeGVkLXJhdGlvIHZpZGVve2JvcmRlcjowO2hlaWdodDoxMDAlO2xlZnQ6MDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDt3aWR0aDoxMDAlfS5wbHlyLS1mdWxsLXVpIC5wbHlyX192aWRlby1lbWJlZD4ucGx5cl9fdmlkZW8tZW1iZWRfX2NvbnRhaW5lcntwYWRkaW5nLWJvdHRvbToyNDAlO3Bvc2l0aW9uOnJlbGF0aXZlO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC0zOC4yODEyNSUpfS5wbHlyLS12aWRlbyAucGx5cl9fY29udHJvbHN7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQodHJhbnNwYXJlbnQscmdiYSgwLDAsMCwuNzUpKTtiYWNrZ3JvdW5kOnZhcigtLXBseXItdmlkZW8tY29udHJvbHMtYmFja2dyb3VuZCxsaW5lYXItZ3JhZGllbnQodHJhbnNwYXJlbnQscmdiYSgwLDAsMCwuNzUpKSk7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czppbmhlcml0O2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOmluaGVyaXQ7Ym90dG9tOjA7Y29sb3I6I2ZmZjtjb2xvcjp2YXIoLS1wbHlyLXZpZGVvLWNvbnRyb2wtY29sb3IsI2ZmZik7bGVmdDowO3BhZGRpbmc6NXB4O3BhZGRpbmc6Y2FsYyh2YXIoLS1wbHlyLWNvbnRyb2wtc3BhY2luZywgMTBweCkvMik7cGFkZGluZy10b3A6MjBweDtwYWRkaW5nLXRvcDpjYWxjKHZhcigtLXBseXItY29udHJvbC1zcGFjaW5nLCAxMHB4KSoyKTtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDowO3RyYW5zaXRpb246b3BhY2l0eSAuNHMgZWFzZS1pbi1vdXQsdHJhbnNmb3JtIC40cyBlYXNlLWluLW91dDt6LWluZGV4OjN9QG1lZGlhIChtaW4td2lkdGg6NDgwcHgpey5wbHlyLS12aWRlbyAucGx5cl9fY29udHJvbHN7cGFkZGluZzoxMHB4O3BhZGRpbmc6dmFyKC0tcGx5ci1jb250cm9sLXNwYWNpbmcsMTBweCk7cGFkZGluZy10b3A6MzVweDtwYWRkaW5nLXRvcDpjYWxjKHZhcigtLXBseXItY29udHJvbC1zcGFjaW5nLCAxMHB4KSozLjUpfX0ucGx5ci0tdmlkZW8ucGx5ci0taGlkZS1jb250cm9scyAucGx5cl9fY29udHJvbHN7b3BhY2l0eTowO3BvaW50ZXItZXZlbnRzOm5vbmU7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwJSl9LnBseXItLXZpZGVvIC5wbHlyX19jb250cm9sLnBseXJfX3RhYi1mb2N1cywucGx5ci0tdmlkZW8gLnBseXJfX2NvbnRyb2w6aG92ZXIsLnBseXItLXZpZGVvIC5wbHlyX19jb250cm9sW2FyaWEtZXhwYW5kZWQ9dHJ1ZV17YmFja2dyb3VuZDojMDBiM2ZmO2JhY2tncm91bmQ6dmFyKC0tcGx5ci12aWRlby1jb250cm9sLWJhY2tncm91bmQtaG92ZXIsdmFyKC0tcGx5ci1jb2xvci1tYWluLHZhcigtLXBseXItY29sb3ItbWFpbiwjMDBiM2ZmKSkpO2NvbG9yOiNmZmY7Y29sb3I6dmFyKC0tcGx5ci12aWRlby1jb250cm9sLWNvbG9yLWhvdmVyLCNmZmYpfS5wbHlyX19jb250cm9sLS1vdmVybGFpZHtiYWNrZ3JvdW5kOiMwMGIzZmY7YmFja2dyb3VuZDp2YXIoLS1wbHlyLXZpZGVvLWNvbnRyb2wtYmFja2dyb3VuZC1ob3Zlcix2YXIoLS1wbHlyLWNvbG9yLW1haW4sdmFyKC0tcGx5ci1jb2xvci1tYWluLCMwMGIzZmYpKSk7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czoxMDAlO2NvbG9yOiNmZmY7Y29sb3I6dmFyKC0tcGx5ci12aWRlby1jb250cm9sLWNvbG9yLCNmZmYpO2Rpc3BsYXk6bm9uZTtsZWZ0OjUwJTtvcGFjaXR5Oi45O3BhZGRpbmc6MTVweDtwYWRkaW5nOmNhbGModmFyKC0tcGx5ci1jb250cm9sLXNwYWNpbmcsIDEwcHgpKjEuNSk7cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7dHJhbnNpdGlvbjouM3M7ei1pbmRleDoyfS5wbHlyX19jb250cm9sLS1vdmVybGFpZCBzdmd7bGVmdDoycHg7cG9zaXRpb246cmVsYXRpdmV9LnBseXJfX2NvbnRyb2wtLW92ZXJsYWlkOmZvY3VzLC5wbHlyX19jb250cm9sLS1vdmVybGFpZDpob3ZlcntvcGFjaXR5OjF9LnBseXItLXBsYXlpbmcgLnBseXJfX2NvbnRyb2wtLW92ZXJsYWlke29wYWNpdHk6MDt2aXNpYmlsaXR5OmhpZGRlbn0ucGx5ci0tZnVsbC11aS5wbHlyLS12aWRlbyAucGx5cl9fY29udHJvbC0tb3ZlcmxhaWR7ZGlzcGxheTpibG9ja30ucGx5ci0tZnVsbC11aS5wbHlyLS12aWRlbyBpbnB1dFt0eXBlPXJhbmdlXTo6LXdlYmtpdC1zbGlkZXItcnVubmFibGUtdHJhY2t7YmFja2dyb3VuZC1jb2xvcjpoc2xhKDAsMCUsMTAwJSwuMjUpO2JhY2tncm91bmQtY29sb3I6dmFyKC0tcGx5ci12aWRlby1yYW5nZS10cmFjay1iYWNrZ3JvdW5kLHZhcigtLXBseXItdmlkZW8tcHJvZ3Jlc3MtYnVmZmVyZWQtYmFja2dyb3VuZCxoc2xhKDAsMCUsMTAwJSwuMjUpKSl9LnBseXItLWZ1bGwtdWkucGx5ci0tdmlkZW8gaW5wdXRbdHlwZT1yYW5nZV06Oi1tb3otcmFuZ2UtdHJhY2t7YmFja2dyb3VuZC1jb2xvcjpoc2xhKDAsMCUsMTAwJSwuMjUpO2JhY2tncm91bmQtY29sb3I6dmFyKC0tcGx5ci12aWRlby1yYW5nZS10cmFjay1iYWNrZ3JvdW5kLHZhcigtLXBseXItdmlkZW8tcHJvZ3Jlc3MtYnVmZmVyZWQtYmFja2dyb3VuZCxoc2xhKDAsMCUsMTAwJSwuMjUpKSl9LnBseXItLWZ1bGwtdWkucGx5ci0tdmlkZW8gaW5wdXRbdHlwZT1yYW5nZV06Oi1tcy10cmFja3tiYWNrZ3JvdW5kLWNvbG9yOmhzbGEoMCwwJSwxMDAlLC4yNSk7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1wbHlyLXZpZGVvLXJhbmdlLXRyYWNrLWJhY2tncm91bmQsdmFyKC0tcGx5ci12aWRlby1wcm9ncmVzcy1idWZmZXJlZC1iYWNrZ3JvdW5kLGhzbGEoMCwwJSwxMDAlLC4yNSkpKX0ucGx5ci0tZnVsbC11aS5wbHlyLS12aWRlbyBpbnB1dFt0eXBlPXJhbmdlXTphY3RpdmU6Oi13ZWJraXQtc2xpZGVyLXRodW1ie2JveC1zaGFkb3c6MCAxcHggMXB4IHJnYmEoMzUsNDAsNDcsLjE1KSwwIDAgMCAxcHggcmdiYSgzNSw0MCw0NywuMiksMCAwIDAgM3B4IGhzbGEoMCwwJSwxMDAlLC41KTtib3gtc2hhZG93OnZhcigtLXBseXItcmFuZ2UtdGh1bWItc2hhZG93LDAgMXB4IDFweCByZ2JhKDM1LDQwLDQ3LC4xNSksMCAwIDAgMXB4IHJnYmEoMzUsNDAsNDcsLjIpKSwwIDAgMCB2YXIoLS1wbHlyLXJhbmdlLXRodW1iLWFjdGl2ZS1zaGFkb3ctd2lkdGgsM3B4KSB2YXIoLS1wbHlyLWF1ZGlvLXJhbmdlLXRodW1iLWFjdGl2ZS1zaGFkb3ctY29sb3IsaHNsYSgwLDAlLDEwMCUsLjUpKX0ucGx5ci0tZnVsbC11aS5wbHlyLS12aWRlbyBpbnB1dFt0eXBlPXJhbmdlXTphY3RpdmU6Oi1tb3otcmFuZ2UtdGh1bWJ7Ym94LXNoYWRvdzowIDFweCAxcHggcmdiYSgzNSw0MCw0NywuMTUpLDAgMCAwIDFweCByZ2JhKDM1LDQwLDQ3LC4yKSwwIDAgMCAzcHggaHNsYSgwLDAlLDEwMCUsLjUpO2JveC1zaGFkb3c6dmFyKC0tcGx5ci1yYW5nZS10aHVtYi1zaGFkb3csMCAxcHggMXB4IHJnYmEoMzUsNDAsNDcsLjE1KSwwIDAgMCAxcHggcmdiYSgzNSw0MCw0NywuMikpLDAgMCAwIHZhcigtLXBseXItcmFuZ2UtdGh1bWItYWN0aXZlLXNoYWRvdy13aWR0aCwzcHgpIHZhcigtLXBseXItYXVkaW8tcmFuZ2UtdGh1bWItYWN0aXZlLXNoYWRvdy1jb2xvcixoc2xhKDAsMCUsMTAwJSwuNSkpfS5wbHlyLS1mdWxsLXVpLnBseXItLXZpZGVvIGlucHV0W3R5cGU9cmFuZ2VdOmFjdGl2ZTo6LW1zLXRodW1ie2JveC1zaGFkb3c6MCAxcHggMXB4IHJnYmEoMzUsNDAsNDcsLjE1KSwwIDAgMCAxcHggcmdiYSgzNSw0MCw0NywuMiksMCAwIDAgM3B4IGhzbGEoMCwwJSwxMDAlLC41KTtib3gtc2hhZG93OnZhcigtLXBseXItcmFuZ2UtdGh1bWItc2hhZG93LDAgMXB4IDFweCByZ2JhKDM1LDQwLDQ3LC4xNSksMCAwIDAgMXB4IHJnYmEoMzUsNDAsNDcsLjIpKSwwIDAgMCB2YXIoLS1wbHlyLXJhbmdlLXRodW1iLWFjdGl2ZS1zaGFkb3ctd2lkdGgsM3B4KSB2YXIoLS1wbHlyLWF1ZGlvLXJhbmdlLXRodW1iLWFjdGl2ZS1zaGFkb3ctY29sb3IsaHNsYSgwLDAlLDEwMCUsLjUpKX0ucGx5ci0tdmlkZW8gLnBseXJfX3Byb2dyZXNzX19idWZmZXJ7Y29sb3I6aHNsYSgwLDAlLDEwMCUsLjI1KTtjb2xvcjp2YXIoLS1wbHlyLXZpZGVvLXByb2dyZXNzLWJ1ZmZlcmVkLWJhY2tncm91bmQsaHNsYSgwLDAlLDEwMCUsLjI1KSl9LnBseXI6ZnVsbHNjcmVlbntiYWNrZ3JvdW5kOiMwMDA7Ym9yZGVyLXJhZGl1czowIWltcG9ydGFudDtoZWlnaHQ6MTAwJTttYXJnaW46MDt3aWR0aDoxMDAlfS5wbHlyOmZ1bGxzY3JlZW4gdmlkZW97aGVpZ2h0OjEwMCV9LnBseXI6ZnVsbHNjcmVlbiAucGx5cl9fdmlkZW8td3JhcHBlcntoZWlnaHQ6MTAwJTtwb3NpdGlvbjpzdGF0aWN9LnBseXI6ZnVsbHNjcmVlbi5wbHlyLS12aW1lbyAucGx5cl9fdmlkZW8td3JhcHBlcntoZWlnaHQ6MDtwb3NpdGlvbjpyZWxhdGl2ZX0ucGx5cjpmdWxsc2NyZWVuIC5wbHlyX19jb250cm9sIC5pY29uLS1leGl0LWZ1bGxzY3JlZW57ZGlzcGxheTpibG9ja30ucGx5cjpmdWxsc2NyZWVuIC5wbHlyX19jb250cm9sIC5pY29uLS1leGl0LWZ1bGxzY3JlZW4rc3Zne2Rpc3BsYXk6bm9uZX0ucGx5cjpmdWxsc2NyZWVuLnBseXItLWhpZGUtY29udHJvbHN7Y3Vyc29yOm5vbmV9QG1lZGlhIChtaW4td2lkdGg6MTAyNHB4KXsucGx5cjotd2Via2l0LWZ1bGwtc2NyZWVuIC5wbHlyX19jYXB0aW9uc3tmb250LXNpemU6MjFweDtmb250LXNpemU6dmFyKC0tcGx5ci1mb250LXNpemUteGxhcmdlLDIxcHgpfS5wbHlyOmZ1bGxzY3JlZW4gLnBseXJfX2NhcHRpb25ze2ZvbnQtc2l6ZToyMXB4O2ZvbnQtc2l6ZTp2YXIoLS1wbHlyLWZvbnQtc2l6ZS14bGFyZ2UsMjFweCl9fS5wbHlyOi13ZWJraXQtZnVsbC1zY3JlZW57YmFja2dyb3VuZDojMDAwO2JvcmRlci1yYWRpdXM6MCFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCU7bWFyZ2luOjA7d2lkdGg6MTAwJX0ucGx5cjotd2Via2l0LWZ1bGwtc2NyZWVuIHZpZGVve2hlaWdodDoxMDAlfS5wbHlyOi13ZWJraXQtZnVsbC1zY3JlZW4gLnBseXJfX3ZpZGVvLXdyYXBwZXJ7aGVpZ2h0OjEwMCU7cG9zaXRpb246c3RhdGljfS5wbHlyOi13ZWJraXQtZnVsbC1zY3JlZW4ucGx5ci0tdmltZW8gLnBseXJfX3ZpZGVvLXdyYXBwZXJ7aGVpZ2h0OjA7cG9zaXRpb246cmVsYXRpdmV9LnBseXI6LXdlYmtpdC1mdWxsLXNjcmVlbiAucGx5cl9fY29udHJvbCAuaWNvbi0tZXhpdC1mdWxsc2NyZWVue2Rpc3BsYXk6YmxvY2t9LnBseXI6LXdlYmtpdC1mdWxsLXNjcmVlbiAucGx5cl9fY29udHJvbCAuaWNvbi0tZXhpdC1mdWxsc2NyZWVuK3N2Z3tkaXNwbGF5Om5vbmV9LnBseXI6LXdlYmtpdC1mdWxsLXNjcmVlbi5wbHlyLS1oaWRlLWNvbnRyb2xze2N1cnNvcjpub25lfUBtZWRpYSAobWluLXdpZHRoOjEwMjRweCl7LnBseXI6LXdlYmtpdC1mdWxsLXNjcmVlbiAucGx5cl9fY2FwdGlvbnN7Zm9udC1zaXplOjIxcHg7Zm9udC1zaXplOnZhcigtLXBseXItZm9udC1zaXplLXhsYXJnZSwyMXB4KX19LnBseXI6LW1vei1mdWxsLXNjcmVlbntiYWNrZ3JvdW5kOiMwMDA7Ym9yZGVyLXJhZGl1czowIWltcG9ydGFudDtoZWlnaHQ6MTAwJTttYXJnaW46MDt3aWR0aDoxMDAlfS5wbHlyOi1tb3otZnVsbC1zY3JlZW4gdmlkZW97aGVpZ2h0OjEwMCV9LnBseXI6LW1vei1mdWxsLXNjcmVlbiAucGx5cl9fdmlkZW8td3JhcHBlcntoZWlnaHQ6MTAwJTtwb3NpdGlvbjpzdGF0aWN9LnBseXI6LW1vei1mdWxsLXNjcmVlbi5wbHlyLS12aW1lbyAucGx5cl9fdmlkZW8td3JhcHBlcntoZWlnaHQ6MDtwb3NpdGlvbjpyZWxhdGl2ZX0ucGx5cjotbW96LWZ1bGwtc2NyZWVuIC5wbHlyX19jb250cm9sIC5pY29uLS1leGl0LWZ1bGxzY3JlZW57ZGlzcGxheTpibG9ja30ucGx5cjotbW96LWZ1bGwtc2NyZWVuIC5wbHlyX19jb250cm9sIC5pY29uLS1leGl0LWZ1bGxzY3JlZW4rc3Zne2Rpc3BsYXk6bm9uZX0ucGx5cjotbW96LWZ1bGwtc2NyZWVuLnBseXItLWhpZGUtY29udHJvbHN7Y3Vyc29yOm5vbmV9QG1lZGlhIChtaW4td2lkdGg6MTAyNHB4KXsucGx5cjotbW96LWZ1bGwtc2NyZWVuIC5wbHlyX19jYXB0aW9uc3tmb250LXNpemU6MjFweDtmb250LXNpemU6dmFyKC0tcGx5ci1mb250LXNpemUteGxhcmdlLDIxcHgpfX0ucGx5cjotbXMtZnVsbHNjcmVlbntiYWNrZ3JvdW5kOiMwMDA7Ym9yZGVyLXJhZGl1czowIWltcG9ydGFudDtoZWlnaHQ6MTAwJTttYXJnaW46MDt3aWR0aDoxMDAlfS5wbHlyOi1tcy1mdWxsc2NyZWVuIHZpZGVve2hlaWdodDoxMDAlfS5wbHlyOi1tcy1mdWxsc2NyZWVuIC5wbHlyX192aWRlby13cmFwcGVye2hlaWdodDoxMDAlO3Bvc2l0aW9uOnN0YXRpY30ucGx5cjotbXMtZnVsbHNjcmVlbi5wbHlyLS12aW1lbyAucGx5cl9fdmlkZW8td3JhcHBlcntoZWlnaHQ6MDtwb3NpdGlvbjpyZWxhdGl2ZX0ucGx5cjotbXMtZnVsbHNjcmVlbiAucGx5cl9fY29udHJvbCAuaWNvbi0tZXhpdC1mdWxsc2NyZWVue2Rpc3BsYXk6YmxvY2t9LnBseXI6LW1zLWZ1bGxzY3JlZW4gLnBseXJfX2NvbnRyb2wgLmljb24tLWV4aXQtZnVsbHNjcmVlbitzdmd7ZGlzcGxheTpub25lfS5wbHlyOi1tcy1mdWxsc2NyZWVuLnBseXItLWhpZGUtY29udHJvbHN7Y3Vyc29yOm5vbmV9QG1lZGlhIChtaW4td2lkdGg6MTAyNHB4KXsucGx5cjotbXMtZnVsbHNjcmVlbiAucGx5cl9fY2FwdGlvbnN7Zm9udC1zaXplOjIxcHg7Zm9udC1zaXplOnZhcigtLXBseXItZm9udC1zaXplLXhsYXJnZSwyMXB4KX19LnBseXItLWZ1bGxzY3JlZW4tZmFsbGJhY2t7YmFja2dyb3VuZDojMDAwO2JvcmRlci1yYWRpdXM6MCFpbXBvcnRhbnQ7Ym90dG9tOjA7ZGlzcGxheTpibG9jaztoZWlnaHQ6MTAwJTtsZWZ0OjA7bWFyZ2luOjA7cG9zaXRpb246Zml4ZWQ7cmlnaHQ6MDt0b3A6MDt3aWR0aDoxMDAlO3otaW5kZXg6MTAwMDAwMDB9LnBseXItLWZ1bGxzY3JlZW4tZmFsbGJhY2sgdmlkZW97aGVpZ2h0OjEwMCV9LnBseXItLWZ1bGxzY3JlZW4tZmFsbGJhY2sgLnBseXJfX3ZpZGVvLXdyYXBwZXJ7aGVpZ2h0OjEwMCU7cG9zaXRpb246c3RhdGljfS5wbHlyLS1mdWxsc2NyZWVuLWZhbGxiYWNrLnBseXItLXZpbWVvIC5wbHlyX192aWRlby13cmFwcGVye2hlaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlfS5wbHlyLS1mdWxsc2NyZWVuLWZhbGxiYWNrIC5wbHlyX19jb250cm9sIC5pY29uLS1leGl0LWZ1bGxzY3JlZW57ZGlzcGxheTpibG9ja30ucGx5ci0tZnVsbHNjcmVlbi1mYWxsYmFjayAucGx5cl9fY29udHJvbCAuaWNvbi0tZXhpdC1mdWxsc2NyZWVuK3N2Z3tkaXNwbGF5Om5vbmV9LnBseXItLWZ1bGxzY3JlZW4tZmFsbGJhY2sucGx5ci0taGlkZS1jb250cm9sc3tjdXJzb3I6bm9uZX1AbWVkaWEgKG1pbi13aWR0aDoxMDI0cHgpey5wbHlyLS1mdWxsc2NyZWVuLWZhbGxiYWNrIC5wbHlyX19jYXB0aW9uc3tmb250LXNpemU6MjFweDtmb250LXNpemU6dmFyKC0tcGx5ci1mb250LXNpemUteGxhcmdlLDIxcHgpfX0ucGx5cl9fYWRze2JvcmRlci1yYWRpdXM6aW5oZXJpdDtib3R0b206MDtjdXJzb3I6cG9pbnRlcjtsZWZ0OjA7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7dG9wOjA7ei1pbmRleDotMX0ucGx5cl9fYWRzPmRpdiwucGx5cl9fYWRzPmRpdiBpZnJhbWV7aGVpZ2h0OjEwMCU7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJX0ucGx5cl9fYWRzOmFmdGVye2JhY2tncm91bmQ6IzIzMjgyZjtib3JkZXItcmFkaXVzOjJweDtib3R0b206MTBweDtib3R0b206dmFyKC0tcGx5ci1jb250cm9sLXNwYWNpbmcsMTBweCk7Y29sb3I6I2ZmZjtjb250ZW50OmF0dHIoZGF0YS1iYWRnZS10ZXh0KTtmb250LXNpemU6MTFweDtwYWRkaW5nOjJweCA2cHg7cG9pbnRlci1ldmVudHM6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoxMHB4O3JpZ2h0OnZhcigtLXBseXItY29udHJvbC1zcGFjaW5nLDEwcHgpO3otaW5kZXg6M30ucGx5cl9fYWRzOmFmdGVyOmVtcHR5e2Rpc3BsYXk6bm9uZX0ucGx5cl9fY3Vlc3tiYWNrZ3JvdW5kOmN1cnJlbnRDb2xvcjtkaXNwbGF5OmJsb2NrO2hlaWdodDo1cHg7aGVpZ2h0OnZhcigtLXBseXItcmFuZ2UtdHJhY2staGVpZ2h0LDVweCk7bGVmdDowO21hcmdpbjotdmFyKC0tcGx5ci1yYW5nZS10cmFjay1oZWlnaHQsNXB4KS8yIDAgMDtvcGFjaXR5Oi44O3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7d2lkdGg6M3B4O3otaW5kZXg6M30ucGx5cl9fcHJldmlldy10aHVtYntiYWNrZ3JvdW5kLWNvbG9yOmhzbGEoMCwwJSwxMDAlLC45KTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXBseXItdG9vbHRpcC1iYWNrZ3JvdW5kLGhzbGEoMCwwJSwxMDAlLC45KSk7Ym9yZGVyLXJhZGl1czozcHg7Ym90dG9tOjEwMCU7Ym94LXNoYWRvdzowIDFweCAycHggcmdiYSgwLDAsMCwuMTUpO2JveC1zaGFkb3c6dmFyKC0tcGx5ci10b29sdGlwLXNoYWRvdywwIDFweCAycHggcmdiYSgwLDAsMCwuMTUpKTttYXJnaW4tYm90dG9tOjEwcHg7bWFyZ2luLWJvdHRvbTpjYWxjKHZhcigtLXBseXItY29udHJvbC1zcGFjaW5nLCAxMHB4KS8yKjIpO29wYWNpdHk6MDtwYWRkaW5nOjNweDtwYWRkaW5nOnZhcigtLXBseXItdG9vbHRpcC1yYWRpdXMsM3B4KTtwb2ludGVyLWV2ZW50czpub25lO3Bvc2l0aW9uOmFic29sdXRlO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwcHgpIHNjYWxlKC44KTt0cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlO3RyYW5zaXRpb246dHJhbnNmb3JtIC4ycyBlYXNlIC4xcyxvcGFjaXR5IC4ycyBlYXNlIC4xczt6LWluZGV4OjJ9LnBseXJfX3ByZXZpZXctdGh1bWItLWlzLXNob3due29wYWNpdHk6MTt0cmFuc2Zvcm06dHJhbnNsYXRlKDApIHNjYWxlKDEpfS5wbHlyX19wcmV2aWV3LXRodW1iOmJlZm9yZXtib3JkZXItbGVmdDo0cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6dmFyKC0tcGx5ci10b29sdGlwLWFycm93LXNpemUsNHB4KSBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItcmlnaHQ6NHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1yaWdodDp2YXIoLS1wbHlyLXRvb2x0aXAtYXJyb3ctc2l6ZSw0cHgpIHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci10b3A6NHB4IHNvbGlkIGhzbGEoMCwwJSwxMDAlLC45KTtib3JkZXItdG9wOnZhcigtLXBseXItdG9vbHRpcC1hcnJvdy1zaXplLDRweCkgc29saWQgdmFyKC0tcGx5ci10b29sdGlwLWJhY2tncm91bmQsaHNsYSgwLDAlLDEwMCUsLjkpKTtib3R0b206LTRweDtib3R0b206Y2FsYyh2YXIoLS1wbHlyLXRvb2x0aXAtYXJyb3ctc2l6ZSwgNHB4KSotMSk7Y29udGVudDpcXFwiXFxcIjtoZWlnaHQ6MDtsZWZ0OjUwJTtwb3NpdGlvbjphYnNvbHV0ZTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKTt3aWR0aDowO3otaW5kZXg6Mn0ucGx5cl9fcHJldmlldy10aHVtYl9faW1hZ2UtY29udGFpbmVye2JhY2tncm91bmQ6I2MxYzhkMTtib3JkZXItcmFkaXVzOjJweDtib3JkZXItcmFkaXVzOmNhbGModmFyKC0tcGx5ci10b29sdGlwLXJhZGl1cywgM3B4KSAtIDFweCk7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6MH0ucGx5cl9fcHJldmlldy10aHVtYl9faW1hZ2UtY29udGFpbmVyIGltZ3toZWlnaHQ6MTAwJTtsZWZ0OjA7bWF4LWhlaWdodDpub25lO21heC13aWR0aDpub25lO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3dpZHRoOjEwMCV9LnBseXJfX3ByZXZpZXctdGh1bWJfX3RpbWUtY29udGFpbmVye2JvdHRvbTo2cHg7bGVmdDowO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7d2hpdGUtc3BhY2U6bm93cmFwO3otaW5kZXg6M30ucGx5cl9fcHJldmlldy10aHVtYl9fdGltZS1jb250YWluZXIgc3BhbntiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjU1KTtib3JkZXItcmFkaXVzOjJweDtib3JkZXItcmFkaXVzOmNhbGModmFyKC0tcGx5ci10b29sdGlwLXJhZGl1cywgM3B4KSAtIDFweCk7Y29sb3I6I2ZmZjtmb250LXNpemU6MTNweDtmb250LXNpemU6dmFyKC0tcGx5ci1mb250LXNpemUtdGltZSx2YXIoLS1wbHlyLWZvbnQtc2l6ZS1zbWFsbCwxM3B4KSk7cGFkZGluZzozcHggNnB4fS5wbHlyX19wcmV2aWV3LXNjcnViYmluZ3tib3R0b206MDtmaWx0ZXI6Ymx1cigxcHgpO2hlaWdodDoxMDAlO2xlZnQ6MDttYXJnaW46YXV0bztvcGFjaXR5OjA7b3ZlcmZsb3c6aGlkZGVuO3BvaW50ZXItZXZlbnRzOm5vbmU7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDt0b3A6MDt0cmFuc2l0aW9uOm9wYWNpdHkgLjNzIGVhc2U7d2lkdGg6MTAwJTt6LWluZGV4OjF9LnBseXJfX3ByZXZpZXctc2NydWJiaW5nLS1pcy1zaG93bntvcGFjaXR5OjF9LnBseXJfX3ByZXZpZXctc2NydWJiaW5nIGltZ3toZWlnaHQ6MTAwJTtsZWZ0OjA7bWF4LWhlaWdodDpub25lO21heC13aWR0aDpub25lOy1vLW9iamVjdC1maXQ6Y29udGFpbjtvYmplY3QtZml0OmNvbnRhaW47cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7d2lkdGg6MTAwJX0ucGx5ci0tbm8tdHJhbnNpdGlvbnt0cmFuc2l0aW9uOm5vbmUhaW1wb3J0YW50fS5wbHlyX19zci1vbmx5e2NsaXA6cmVjdCgxcHgsMXB4LDFweCwxcHgpO2JvcmRlcjowIWltcG9ydGFudDtoZWlnaHQ6MXB4IWltcG9ydGFudDtvdmVyZmxvdzpoaWRkZW47cGFkZGluZzowIWltcG9ydGFudDtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7d2lkdGg6MXB4IWltcG9ydGFudH0ucGx5ciBbaGlkZGVuXXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fVwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCIvKipcbiAqIExvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcy5mb3VuZGF0aW9uLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbnZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xudmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG4gICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nLFxuICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbnZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xudmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG50eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbnR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbnR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbnR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbnR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbnR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbnR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbnR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbnR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4vKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbnZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG4vKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xudmFyIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZpbHRlcmAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheUZpbHRlcihhcnJheSwgcHJlZGljYXRlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICByZXNJbmRleCA9IDAsXG4gICAgICByZXN1bHQgPSBbXTtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zb21lYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAqIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlTb21lKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgYGNhY2hlYCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gY2FjaGUgVGhlIGNhY2hlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGNhY2hlSGFzKGNhY2hlLCBrZXkpIHtcbiAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICovXG5mdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG1hcC5zaXplKTtcblxuICBtYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbi8qKlxuICogQ29udmVydHMgYHNldGAgdG8gYW4gYXJyYXkgb2YgaXRzIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyByb290LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBTeW1ib2wgPSByb290LlN5bWJvbCxcbiAgICBVaW50OEFycmF5ID0gcm9vdC5VaW50OEFycmF5LFxuICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2UsXG4gICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKHJvb3QsICdEYXRhVmlldycpLFxuICAgIE1hcCA9IGdldE5hdGl2ZShyb290LCAnTWFwJyksXG4gICAgUHJvbWlzZSA9IGdldE5hdGl2ZShyb290LCAnUHJvbWlzZScpLFxuICAgIFNldCA9IGdldE5hdGl2ZShyb290LCAnU2V0JyksXG4gICAgV2Vha01hcCA9IGdldE5hdGl2ZShyb290LCAnV2Vha01hcCcpLFxuICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbnZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgbWFwQ3RvclN0cmluZyA9IHRvU291cmNlKE1hcCksXG4gICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICB3ZWFrTWFwQ3RvclN0cmluZyA9IHRvU291cmNlKFdlYWtNYXApO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVmFsdWVPZiA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udmFsdWVPZiA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICB0aGlzLnNpemUgKz0gdGhpcy5oYXMoa2V5KSA/IDAgOiAxO1xuICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbkhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbkhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG5IYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gW107XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICAtLXRoaXMuc2l6ZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgICsrdGhpcy5zaXplO1xuICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9IGVsc2Uge1xuICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbkxpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuc2l6ZSA9IDA7XG4gIHRoaXMuX19kYXRhX18gPSB7XG4gICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLFxuICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplICs9IGRhdGEuc2l6ZSA9PSBzaXplID8gMCA6IDE7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuLyoqXG4gKlxuICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMgPT0gbnVsbCA/IDAgOiB2YWx1ZXMubGVuZ3RoO1xuXG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGU7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdGhpcy5hZGQodmFsdWVzW2luZGV4XSk7XG4gIH1cbn1cblxuLyoqXG4gKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBhZGRcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQGFsaWFzIHB1c2hcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gIHRoaXMuX19kYXRhX18uc2V0KHZhbHVlLCBIQVNIX1VOREVGSU5FRCk7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIHRoZSBhcnJheSBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHNldENhY2hlSGFzKHZhbHVlKSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh2YWx1ZSk7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTZXRDYWNoZWAuXG5TZXRDYWNoZS5wcm90b3R5cGUuYWRkID0gU2V0Q2FjaGUucHJvdG90eXBlLnB1c2ggPSBzZXRDYWNoZUFkZDtcblNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqL1xuZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tHZXQoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgfVxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cblN0YWNrLnByb3RvdHlwZS5jbGVhciA9IHN0YWNrQ2xlYXI7XG5TdGFjay5wcm90b3R5cGVbJ2RlbGV0ZSddID0gc3RhY2tEZWxldGU7XG5TdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG5TdGFjay5wcm90b3R5cGUuaGFzID0gc3RhY2tIYXM7XG5TdGFjay5wcm90b3R5cGUuc2V0ID0gc3RhY2tTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiAhaXNBcmcgJiYgaXNCdWZmZXIodmFsdWUpLFxuICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICByZXN1bHQgPSBza2lwSW5kZXhlcyA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXSxcbiAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAga2V5ID09ICdsZW5ndGgnIHx8XG4gICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICBpc0luZGV4KGtleSwgbGVuZ3RoKVxuICAgICAgICApKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAqIGBrZXlzRnVuY2AgYW5kIGBzeW1ib2xzRnVuY2AgdG8gZ2V0IHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN5bWJvbHNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNGdW5jLCBzeW1ib2xzRnVuYykge1xuICB2YXIgcmVzdWx0ID0ga2V5c0Z1bmMob2JqZWN0KTtcbiAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqL1xuZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNFcXVhbGAgd2hpY2ggc3VwcG9ydHMgcGFydGlhbCBjb21wYXJpc29uc1xuICogYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gKiAgMSAtIFVub3JkZXJlZCBjb21wYXJpc29uXG4gKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyO1xuICB9XG4gIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAqIGRlZXAgY29tcGFyaXNvbnMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAqIHJlZmVyZW5jZXMgdG8gYmUgY29tcGFyZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0VxdWFsRGVlcChvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBvYmpJc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgIG90aElzQXJyID0gaXNBcnJheShvdGhlciksXG4gICAgICBvYmpUYWcgPSBvYmpJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG9iamVjdCksXG4gICAgICBvdGhUYWcgPSBvdGhJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG90aGVyKTtcblxuICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcbiAgb3RoVGFnID0gb3RoVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvdGhUYWc7XG5cbiAgdmFyIG9iaklzT2JqID0gb2JqVGFnID09IG9iamVjdFRhZyxcbiAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyxcbiAgICAgIGlzU2FtZVRhZyA9IG9ialRhZyA9PSBvdGhUYWc7XG5cbiAgaWYgKGlzU2FtZVRhZyAmJiBpc0J1ZmZlcihvYmplY3QpKSB7XG4gICAgaWYgKCFpc0J1ZmZlcihvdGhlcikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgb2JqSXNBcnIgPSB0cnVlO1xuICAgIG9iaklzT2JqID0gZmFsc2U7XG4gIH1cbiAgaWYgKGlzU2FtZVRhZyAmJiAhb2JqSXNPYmopIHtcbiAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgIHJldHVybiAob2JqSXNBcnIgfHwgaXNUeXBlZEFycmF5KG9iamVjdCkpXG4gICAgICA/IGVxdWFsQXJyYXlzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spXG4gICAgICA6IGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgb2JqVGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgfVxuICBpZiAoIShiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcpKSB7XG4gICAgdmFyIG9iaklzV3JhcHBlZCA9IG9iaklzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCAnX193cmFwcGVkX18nKSxcbiAgICAgICAgb3RoSXNXcmFwcGVkID0gb3RoSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgdmFyIG9ialVud3JhcHBlZCA9IG9iaklzV3JhcHBlZCA/IG9iamVjdC52YWx1ZSgpIDogb2JqZWN0LFxuICAgICAgICAgIG90aFVud3JhcHBlZCA9IG90aElzV3JhcHBlZCA/IG90aGVyLnZhbHVlKCkgOiBvdGhlcjtcblxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHJldHVybiBlcXVhbEZ1bmMob2JqVW53cmFwcGVkLCBvdGhVbndyYXBwZWQsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFpc1NhbWVUYWcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgcmV0dXJuIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gIGlmICghaXNQcm90b3R5cGUob2JqZWN0KSkge1xuICAgIHJldHVybiBuYXRpdmVLZXlzKG9iamVjdCk7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFycmF5cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICBpZiAoYXJyTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhKGlzUGFydGlhbCAmJiBvdGhMZW5ndGggPiBhcnJMZW5ndGgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQoYXJyYXkpO1xuICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gIH1cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgYXJyYXkpO1xuXG4gIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICB2YXIgYXJyVmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoc2Vlbikge1xuICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAoYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpIHtcbiAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgIGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICApKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBzdGFja1snZGVsZXRlJ10oYXJyYXkpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgY29tcGFyaW5nIG9iamVjdHMgb2ZcbiAqIHRoZSBzYW1lIGB0b1N0cmluZ1RhZ2AuXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjb21wYXJpbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgb3IgYFN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdHMgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIHRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICBvdGhlciA9IG90aGVyLmJ1ZmZlcjtcblxuICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgY2FzZSBib29sVGFnOlxuICAgIGNhc2UgZGF0ZVRhZzpcbiAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgIC8vIENvZXJjZSBib29sZWFucyB0byBgMWAgb3IgYDBgIGFuZCBkYXRlcyB0byBtaWxsaXNlY29uZHMuXG4gICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgcmV0dXJuIGVxKCtvYmplY3QsICtvdGhlcik7XG5cbiAgICBjYXNlIGVycm9yVGFnOlxuICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbiAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgIGNhc2UgbWFwVGFnOlxuICAgICAgdmFyIGNvbnZlcnQgPSBtYXBUb0FycmF5O1xuXG4gICAgY2FzZSBzZXRUYWc6XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHO1xuICAgICAgY29udmVydCB8fCAoY29udmVydCA9IHNldFRvQXJyYXkpO1xuXG4gICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIGJpdG1hc2sgfD0gQ09NUEFSRV9VTk9SREVSRURfRkxBRztcblxuICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICB2YXIgcmVzdWx0ID0gZXF1YWxBcnJheXMoY29udmVydChvYmplY3QpLCBjb252ZXJ0KG90aGVyKSwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mLmNhbGwob2JqZWN0KSA9PSBzeW1ib2xWYWx1ZU9mLmNhbGwob3RoZXIpO1xuICAgICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgb3RoUHJvcHMgPSBnZXRBbGxLZXlzKG90aGVyKSxcbiAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICB9XG4gIHZhciByZXN1bHQgPSB0cnVlO1xuICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgfVxuICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICB0cnkge1xuICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgaWYgKHVubWFza2VkKSB7XG4gICAgaWYgKGlzT3duKSB7XG4gICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICovXG52YXIgZ2V0U3ltYm9scyA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgcmV0dXJuIGFycmF5RmlsdGVyKG5hdGl2ZUdldFN5bWJvbHMob2JqZWN0KSwgZnVuY3Rpb24oc3ltYm9sKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCBzeW1ib2wpO1xuICB9KTtcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbnZhciBnZXRUYWcgPSBiYXNlR2V0VGFnO1xuXG4vLyBGYWxsYmFjayBmb3IgZGF0YSB2aWV3cywgbWFwcywgc2V0cywgYW5kIHdlYWsgbWFwcyBpbiBJRSAxMSBhbmQgcHJvbWlzZXMgaW4gTm9kZS5qcyA8IDYuXG5pZiAoKERhdGFWaWV3ICYmIGdldFRhZyhuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDEpKSkgIT0gZGF0YVZpZXdUYWcpIHx8XG4gICAgKE1hcCAmJiBnZXRUYWcobmV3IE1hcCkgIT0gbWFwVGFnKSB8fFxuICAgIChQcm9taXNlICYmIGdldFRhZyhQcm9taXNlLnJlc29sdmUoKSkgIT0gcHJvbWlzZVRhZykgfHxcbiAgICAoU2V0ICYmIGdldFRhZyhuZXcgU2V0KSAhPSBzZXRUYWcpIHx8XG4gICAgKFdlYWtNYXAgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwKSAhPSB3ZWFrTWFwVGFnKSkge1xuICBnZXRUYWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZXN1bHQgPSBiYXNlR2V0VGFnKHZhbHVlKSxcbiAgICAgICAgQ3RvciA9IHJlc3VsdCA9PSBvYmplY3RUYWcgPyB2YWx1ZS5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6ICcnO1xuXG4gICAgaWYgKGN0b3JTdHJpbmcpIHtcbiAgICAgIHN3aXRjaCAoY3RvclN0cmluZykge1xuICAgICAgICBjYXNlIGRhdGFWaWV3Q3RvclN0cmluZzogcmV0dXJuIGRhdGFWaWV3VGFnO1xuICAgICAgICBjYXNlIG1hcEN0b3JTdHJpbmc6IHJldHVybiBtYXBUYWc7XG4gICAgICAgIGNhc2UgcHJvbWlzZUN0b3JTdHJpbmc6IHJldHVybiBwcm9taXNlVGFnO1xuICAgICAgICBjYXNlIHNldEN0b3JTdHJpbmc6IHJldHVybiBzZXRUYWc7XG4gICAgICAgIGNhc2Ugd2Vha01hcEN0b3JTdHJpbmc6IHJldHVybiB3ZWFrTWFwVGFnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHwgcmVJc1VpbnQudGVzdCh2YWx1ZSkpICYmXG4gICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjMuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuLyoqXG4gKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gKiBlcXVpdmFsZW50LlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBjb21wYXJpbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucyxcbiAqIGRhdGUgb2JqZWN0cywgZXJyb3Igb2JqZWN0cywgbWFwcywgbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcyxcbiAqIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZCBhcnJheXMuIGBPYmplY3RgIG9iamVjdHMgYXJlIGNvbXBhcmVkXG4gKiBieSB0aGVpciBvd24sIG5vdCBpbmhlcml0ZWQsIGVudW1lcmFibGUgcHJvcGVydGllcy4gRnVuY3Rpb25zIGFuZCBET01cbiAqIG5vZGVzIGFyZSBjb21wYXJlZCBieSBzdHJpY3QgZXF1YWxpdHksIGkuZS4gYD09PWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uaXNFcXVhbChvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBvYmplY3QgPT09IG90aGVyO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNFcXVhbCh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICpcbiAqIF8ua2V5cygnaGknKTtcbiAqIC8vID0+IFsnMCcsICcxJ11cbiAqL1xuZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCkgOiBiYXNlS2V5cyhvYmplY3QpO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgZW1wdHkgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBhcnJheS5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGFycmF5cyA9IF8udGltZXMoMiwgXy5zdHViQXJyYXkpO1xuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gKiAvLyA9PiBbW10sIFtdXVxuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgcmV0dXJuIFtdO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYGZhbHNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udGltZXMoMiwgXy5zdHViRmFsc2UpO1xuICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAqL1xuZnVuY3Rpb24gc3R1YkZhbHNlKCkge1xuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNFcXVhbDtcbiIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbnZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4vKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBjb21wYXJpc29uIHN0eWxlcy4gKi9cbnZhciBVTk9SREVSRURfQ09NUEFSRV9GTEFHID0gMSxcbiAgICBQQVJUSUFMX0NPTVBBUkVfRkxBRyA9IDI7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIElORklOSVRZID0gMSAvIDAsXG4gICAgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbnZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG52YXIgcmVJc0RlZXBQcm9wID0gL1xcLnxcXFsoPzpbXltcXF1dKnwoW1wiJ10pKD86KD8hXFwxKVteXFxcXF18XFxcXC4pKj9cXDEpXFxdLyxcbiAgICByZUlzUGxhaW5Qcm9wID0gL15cXHcqJC8sXG4gICAgcmVMZWFkaW5nRG90ID0gL15cXC4vLFxuICAgIHJlUHJvcE5hbWUgPSAvW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JCkpL2c7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xudmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG50eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbnR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbnR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbnR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbnR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbnR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbnR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbnR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbnR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4vKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbnZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxuLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbnZhciBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICovXG5mdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheU1hcChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNvbWVgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VQcm9wZXJ0eShrZXkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICB9O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRCeWAgd2hpY2ggdXNlcyBgY29tcGFyZXJgIHRvIGRlZmluZSB0aGVcbiAqIHNvcnQgb3JkZXIgb2YgYGFycmF5YCBhbmQgcmVwbGFjZXMgY3JpdGVyaWEgb2JqZWN0cyB3aXRoIHRoZWlyIGNvcnJlc3BvbmRpbmdcbiAqIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNvcnQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJlciBUaGUgZnVuY3Rpb24gdG8gZGVmaW5lIHNvcnQgb3JkZXIuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYmFzZVNvcnRCeShhcnJheSwgY29tcGFyZXIpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICBhcnJheS5zb3J0KGNvbXBhcmVyKTtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgYXJyYXlbbGVuZ3RoXSA9IGFycmF5W2xlbmd0aF0udmFsdWU7XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gIH07XG59XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QgaW4gSUUgPCA5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG4gIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzXG4gIC8vIGRlc3BpdGUgaGF2aW5nIGltcHJvcGVybHkgZGVmaW5lZCBgdG9TdHJpbmdgIG1ldGhvZHMuXG4gIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gISEodmFsdWUgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBtYXBgIHRvIGl0cyBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gKi9cbmZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gcm9vdC5TeW1ib2wsXG4gICAgVWludDhBcnJheSA9IHJvb3QuVWludDhBcnJheSxcbiAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgIHNwcmVhZGFibGVTeW1ib2wgPSBTeW1ib2wgPyBTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlIDogdW5kZWZpbmVkO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCksXG4gICAgbmF0aXZlTWF4ID0gTWF0aC5tYXg7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBEYXRhVmlldyA9IGdldE5hdGl2ZShyb290LCAnRGF0YVZpZXcnKSxcbiAgICBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpLFxuICAgIFByb21pc2UgPSBnZXROYXRpdmUocm9vdCwgJ1Byb21pc2UnKSxcbiAgICBTZXQgPSBnZXROYXRpdmUocm9vdCwgJ1NldCcpLFxuICAgIFdlYWtNYXAgPSBnZXROYXRpdmUocm9vdCwgJ1dlYWtNYXAnKSxcbiAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtYXBzLCBzZXRzLCBhbmQgd2Vha21hcHMuICovXG52YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgIHByb21pc2VDdG9yU3RyaW5nID0gdG9Tb3VyY2UoUHJvbWlzZSksXG4gICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHJldHVybiB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gZGF0YVtrZXldICE9PSB1bmRlZmluZWQgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gW107XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSB7XG4gICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICBnZXRNYXBEYXRhKHRoaXMsIGtleSkuc2V0KGtleSwgdmFsdWUpO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbi8qKlxuICpcbiAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzID8gdmFsdWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgfVxufVxuXG4vKipcbiAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGFkZFxuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAYWxpYXMgcHVzaFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgdGhpcy5fX2RhdGFfXy5zZXQodmFsdWUsIEhBU0hfVU5ERUZJTkVEKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVIYXModmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFNldENhY2hlYC5cblNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIFN0YWNrXG4gKi9cbmZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX19bJ2RlbGV0ZSddKGtleSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgY2FjaGUgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAoY2FjaGUgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICB2YXIgcGFpcnMgPSBjYWNoZS5fX2RhdGFfXztcbiAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY2FjaGUgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgfVxuICBjYWNoZS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcblN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcblN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcblN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcblN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gIC8vIFNhZmFyaSA4LjEgbWFrZXMgYGFyZ3VtZW50cy5jYWxsZWVgIGVudW1lcmFibGUgaW4gc3RyaWN0IG1vZGUuXG4gIC8vIFNhZmFyaSA5IG1ha2VzIGBhcmd1bWVudHMubGVuZ3RoYCBlbnVtZXJhYmxlIGluIHN0cmljdCBtb2RlLlxuICB2YXIgcmVzdWx0ID0gKGlzQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSlcbiAgICA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZylcbiAgICA6IFtdO1xuXG4gIHZhciBsZW5ndGggPSByZXN1bHQubGVuZ3RoLFxuICAgICAgc2tpcEluZGV4ZXMgPSAhIWxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAhKHNraXBJbmRleGVzICYmIChrZXkgPT0gJ2xlbmd0aCcgfHwgaXNJbmRleChrZXksIGxlbmd0aCkpKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAqL1xudmFyIGJhc2VFYWNoID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93bik7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmxhdHRlbmAgd2l0aCBzdXBwb3J0IGZvciByZXN0cmljdGluZyBmbGF0dGVuaW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkZXB0aCBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVkaWNhdGU9aXNGbGF0dGVuYWJsZV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3RyaWN0XSBSZXN0cmljdCB0byB2YWx1ZXMgdGhhdCBwYXNzIGBwcmVkaWNhdGVgIGNoZWNrcy5cbiAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHQ9W11dIFRoZSBpbml0aWFsIHJlc3VsdCB2YWx1ZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgcHJlZGljYXRlIHx8IChwcmVkaWNhdGUgPSBpc0ZsYXR0ZW5hYmxlKTtcbiAgcmVzdWx0IHx8IChyZXN1bHQgPSBbXSk7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgaWYgKGRlcHRoID4gMCAmJiBwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICBpZiAoZGVwdGggPiAxKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGJhc2VGbGF0dGVuKHZhbHVlLCBkZXB0aCAtIDEsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcnJheVB1c2gocmVzdWx0LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghaXNTdHJpY3QpIHtcbiAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBiYXNlRm9yT3duYCB3aGljaCBpdGVyYXRlcyBvdmVyIGBvYmplY3RgXG4gKiBwcm9wZXJ0aWVzIHJldHVybmVkIGJ5IGBrZXlzRnVuY2AgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xudmFyIGJhc2VGb3IgPSBjcmVhdGVCYXNlRm9yKCk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gYmFzZUZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gIHJldHVybiBvYmplY3QgJiYgYmFzZUZvcihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5nZXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVmYXVsdCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXQob2JqZWN0LCBwYXRoKSB7XG4gIHBhdGggPSBpc0tleShwYXRoLCBvYmplY3QpID8gW3BhdGhdIDogY2FzdFBhdGgocGF0aCk7XG5cbiAgdmFyIGluZGV4ID0gMCxcbiAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gIHdoaWxlIChvYmplY3QgIT0gbnVsbCAmJiBpbmRleCA8IGxlbmd0aCkge1xuICAgIG9iamVjdCA9IG9iamVjdFt0b0tleShwYXRoW2luZGV4KytdKV07XG4gIH1cbiAgcmV0dXJuIChpbmRleCAmJiBpbmRleCA9PSBsZW5ndGgpID8gb2JqZWN0IDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgcmV0dXJuIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc0luYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSGFzSW4ob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGtleSBpbiBPYmplY3Qob2JqZWN0KTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG4gKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtib29sZWFufSBbYml0bWFza10gVGhlIGJpdG1hc2sgb2YgY29tcGFyaXNvbiBmbGFncy5cbiAqICBUaGUgYml0bWFzayBtYXkgYmUgY29tcG9zZWQgb2YgdGhlIGZvbGxvd2luZyBmbGFnczpcbiAqICAgICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAqICAgICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgY3VzdG9taXplciwgYml0bWFzaywgc3RhY2spIHtcbiAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdCh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gIH1cbiAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJhc2VJc0VxdWFsLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjayk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge251bWJlcn0gW2JpdG1hc2tdIFRoZSBiaXRtYXNrIG9mIGNvbXBhcmlzb24gZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgXG4gKiAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgZXF1YWxGdW5jLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjaykge1xuICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuICAgICAgb2JqVGFnID0gYXJyYXlUYWcsXG4gICAgICBvdGhUYWcgPSBhcnJheVRhZztcblxuICBpZiAoIW9iaklzQXJyKSB7XG4gICAgb2JqVGFnID0gZ2V0VGFnKG9iamVjdCk7XG4gICAgb2JqVGFnID0gb2JqVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvYmpUYWc7XG4gIH1cbiAgaWYgKCFvdGhJc0Fycikge1xuICAgIG90aFRhZyA9IGdldFRhZyhvdGhlcik7XG4gICAgb3RoVGFnID0gb3RoVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvdGhUYWc7XG4gIH1cbiAgdmFyIG9iaklzT2JqID0gb2JqVGFnID09IG9iamVjdFRhZyAmJiAhaXNIb3N0T2JqZWN0KG9iamVjdCksXG4gICAgICBvdGhJc09iaiA9IG90aFRhZyA9PSBvYmplY3RUYWcgJiYgIWlzSG9zdE9iamVjdChvdGhlciksXG4gICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG4gICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBlcXVhbEZ1bmMsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKVxuICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgZXF1YWxGdW5jLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjayk7XG4gIH1cbiAgaWYgKCEoYml0bWFzayAmIFBBUlRJQUxfQ09NUEFSRV9GTEFHKSkge1xuICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgaWYgKG9iaklzV3JhcHBlZCB8fCBvdGhJc1dyYXBwZWQpIHtcbiAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICBvdGhVbndyYXBwZWQgPSBvdGhJc1dyYXBwZWQgPyBvdGhlci52YWx1ZSgpIDogb3RoZXI7XG5cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjayk7XG4gICAgfVxuICB9XG4gIGlmICghaXNTYW1lVGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gIHJldHVybiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgZXF1YWxGdW5jLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjayk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXRjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gKiBAcGFyYW0ge0FycmF5fSBtYXRjaERhdGEgVGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIHRvIG1hdGNoLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhLCBjdXN0b21pemVyKSB7XG4gIHZhciBpbmRleCA9IG1hdGNoRGF0YS5sZW5ndGgsXG4gICAgICBsZW5ndGggPSBpbmRleCxcbiAgICAgIG5vQ3VzdG9taXplciA9ICFjdXN0b21pemVyO1xuXG4gIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgIHJldHVybiAhbGVuZ3RoO1xuICB9XG4gIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICB3aGlsZSAoaW5kZXgtLSkge1xuICAgIHZhciBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICBpZiAoKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKVxuICAgICAgICAgID8gZGF0YVsxXSAhPT0gb2JqZWN0W2RhdGFbMF1dXG4gICAgICAgICAgOiAhKGRhdGFbMF0gaW4gb2JqZWN0KVxuICAgICAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICB2YXIga2V5ID0gZGF0YVswXSxcbiAgICAgICAgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgc3JjVmFsdWUgPSBkYXRhWzFdO1xuXG4gICAgaWYgKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKSB7XG4gICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHN0YWNrID0gbmV3IFN0YWNrO1xuICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjayk7XG4gICAgICB9XG4gICAgICBpZiAoIShyZXN1bHQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIGN1c3RvbWl6ZXIsIFVOT1JERVJFRF9DT01QQVJFX0ZMQUcgfCBQQVJUSUFMX0NPTVBBUkVfRkxBRywgc3RhY2spXG4gICAgICAgICAgICA6IHJlc3VsdFxuICAgICAgICAgICkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gKGlzRnVuY3Rpb24odmFsdWUpIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW29iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpXTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pdGVyYXRlZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gW3ZhbHVlPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBpdGVyYXRlZS5cbiAqL1xuZnVuY3Rpb24gYmFzZUl0ZXJhdGVlKHZhbHVlKSB7XG4gIC8vIERvbid0IHN0b3JlIHRoZSBgdHlwZW9mYCByZXN1bHQgaW4gYSB2YXJpYWJsZSB0byBhdm9pZCBhIEpJVCBidWcgaW4gU2FmYXJpIDkuXG4gIC8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTU2MDM0IGZvciBtb3JlIGRldGFpbHMuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBpZGVudGl0eTtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpXG4gICAgICA/IGJhc2VNYXRjaGVzUHJvcGVydHkodmFsdWVbMF0sIHZhbHVlWzFdKVxuICAgICAgOiBiYXNlTWF0Y2hlcyh2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHByb3BlcnR5KHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hcGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBiYXNlTWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBBcnJheShjb2xsZWN0aW9uLmxlbmd0aCkgOiBbXTtcblxuICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gaXRlcmF0ZWUodmFsdWUsIGtleSwgY29sbGVjdGlvbik7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlTWF0Y2hlcyhzb3VyY2UpIHtcbiAgdmFyIG1hdGNoRGF0YSA9IGdldE1hdGNoRGF0YShzb3VyY2UpO1xuICBpZiAobWF0Y2hEYXRhLmxlbmd0aCA9PSAxICYmIG1hdGNoRGF0YVswXVsyXSkge1xuICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShtYXRjaERhdGFbMF1bMF0sIG1hdGNoRGF0YVswXVsxXSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzUHJvcGVydHlgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNyY1ZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICBpZiAoaXNLZXkocGF0aCkgJiYgaXNTdHJpY3RDb21wYXJhYmxlKHNyY1ZhbHVlKSkge1xuICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSh0b0tleShwYXRoKSwgc3JjVmFsdWUpO1xuICB9XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICB2YXIgb2JqVmFsdWUgPSBnZXQob2JqZWN0LCBwYXRoKTtcbiAgICByZXR1cm4gKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgb2JqVmFsdWUgPT09IHNyY1ZhbHVlKVxuICAgICAgPyBoYXNJbihvYmplY3QsIHBhdGgpXG4gICAgICA6IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgdW5kZWZpbmVkLCBVTk9SREVSRURfQ09NUEFSRV9GTEFHIHwgUEFSVElBTF9DT01QQVJFX0ZMQUcpO1xuICB9O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm9yZGVyQnlgIHdpdGhvdXQgcGFyYW0gZ3VhcmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IGl0ZXJhdGVlcyBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBvcmRlcnMgVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycykge1xuICB2YXIgaW5kZXggPSAtMTtcbiAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLmxlbmd0aCA/IGl0ZXJhdGVlcyA6IFtpZGVudGl0eV0sIGJhc2VVbmFyeShiYXNlSXRlcmF0ZWUpKTtcblxuICB2YXIgcmVzdWx0ID0gYmFzZU1hcChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgdmFyIGNyaXRlcmlhID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGl0ZXJhdGVlKHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4geyAnY3JpdGVyaWEnOiBjcml0ZXJpYSwgJ2luZGV4JzogKytpbmRleCwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgfSk7XG5cbiAgcmV0dXJuIGJhc2VTb3J0QnkocmVzdWx0LCBmdW5jdGlvbihvYmplY3QsIG90aGVyKSB7XG4gICAgcmV0dXJuIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VQcm9wZXJ0eWAgd2hpY2ggc3VwcG9ydHMgZGVlcCBwYXRocy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gIH07XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gIHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0ID09PSB1bmRlZmluZWQgPyAoZnVuYy5sZW5ndGggLSAxKSA6IHN0YXJ0LCAwKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgIGFycmF5ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgIH1cbiAgICBpbmRleCA9IC0xO1xuICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgIG90aGVyQXJnc1tpbmRleF0gPSBhcmdzW2luZGV4XTtcbiAgICB9XG4gICAgb3RoZXJBcmdzW3N0YXJ0XSA9IGFycmF5O1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDYXN0cyBgdmFsdWVgIHRvIGEgcGF0aCBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gY2FzdFBhdGgodmFsdWUpIHtcbiAgcmV0dXJuIGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBzdHJpbmdUb1BhdGgodmFsdWUpO1xufVxuXG4vKipcbiAqIENvbXBhcmVzIHZhbHVlcyB0byBzb3J0IHRoZW0gaW4gYXNjZW5kaW5nIG9yZGVyLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgdmFsdWVgLlxuICovXG5mdW5jdGlvbiBjb21wYXJlQXNjZW5kaW5nKHZhbHVlLCBvdGhlcikge1xuICBpZiAodmFsdWUgIT09IG90aGVyKSB7XG4gICAgdmFyIHZhbElzRGVmaW5lZCA9IHZhbHVlICE9PSB1bmRlZmluZWQsXG4gICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICB2YWxJc1JlZmxleGl2ZSA9IHZhbHVlID09PSB2YWx1ZSxcbiAgICAgICAgdmFsSXNTeW1ib2wgPSBpc1N5bWJvbCh2YWx1ZSk7XG5cbiAgICB2YXIgb3RoSXNEZWZpbmVkID0gb3RoZXIgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgb3RoSXNOdWxsID0gb3RoZXIgPT09IG51bGwsXG4gICAgICAgIG90aElzUmVmbGV4aXZlID0gb3RoZXIgPT09IG90aGVyLFxuICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKG90aGVyKTtcblxuICAgIGlmICgoIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wgJiYgIXZhbElzU3ltYm9sICYmIHZhbHVlID4gb3RoZXIpIHx8XG4gICAgICAgICh2YWxJc1N5bWJvbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUgJiYgIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wpIHx8XG4gICAgICAgICh2YWxJc051bGwgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAoIXZhbElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgIXZhbElzUmVmbGV4aXZlKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKCghdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCAmJiAhb3RoSXNTeW1ib2wgJiYgdmFsdWUgPCBvdGhlcikgfHxcbiAgICAgICAgKG90aElzU3ltYm9sICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSAmJiAhdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCkgfHxcbiAgICAgICAgKG90aElzTnVsbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICghb3RoSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAhb3RoSXNSZWZsZXhpdmUpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5cbi8qKlxuICogVXNlZCBieSBgXy5vcmRlckJ5YCB0byBjb21wYXJlIG11bHRpcGxlIHByb3BlcnRpZXMgb2YgYSB2YWx1ZSB0byBhbm90aGVyXG4gKiBhbmQgc3RhYmxlIHNvcnQgdGhlbS5cbiAqXG4gKiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlcyBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLFxuICogc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3IgZGVzY2VuZGluZyBvciBcImFzY1wiIGZvciBhc2NlbmRpbmcgc29ydCBvcmRlclxuICogb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbltdfHN0cmluZ1tdfSBvcmRlcnMgVGhlIG9yZGVyIHRvIHNvcnQgYnkgZm9yIGVhY2ggcHJvcGVydHkuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYG9iamVjdGAuXG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBvYmpDcml0ZXJpYSA9IG9iamVjdC5jcml0ZXJpYSxcbiAgICAgIG90aENyaXRlcmlhID0gb3RoZXIuY3JpdGVyaWEsXG4gICAgICBsZW5ndGggPSBvYmpDcml0ZXJpYS5sZW5ndGgsXG4gICAgICBvcmRlcnNMZW5ndGggPSBvcmRlcnMubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIHJlc3VsdCA9IGNvbXBhcmVBc2NlbmRpbmcob2JqQ3JpdGVyaWFbaW5kZXhdLCBvdGhDcml0ZXJpYVtpbmRleF0pO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIGlmIChpbmRleCA+PSBvcmRlcnNMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBvcmRlciA9IG9yZGVyc1tpbmRleF07XG4gICAgICByZXR1cm4gcmVzdWx0ICogKG9yZGVyID09ICdkZXNjJyA/IC0xIDogMSk7XG4gICAgfVxuICB9XG4gIC8vIEZpeGVzIGFuIGBBcnJheSNzb3J0YCBidWcgaW4gdGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBhcHBsaWNhdGlvbnNcbiAgLy8gdGhhdCBjYXVzZXMgaXQsIHVuZGVyIGNlcnRhaW4gY2lyY3Vtc3RhbmNlcywgdG8gcHJvdmlkZSB0aGUgc2FtZSB2YWx1ZSBmb3JcbiAgLy8gYG9iamVjdGAgYW5kIGBvdGhlcmAuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmUvcHVsbC8xMjQ3XG4gIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gIC8vXG4gIC8vIFRoaXMgYWxzbyBlbnN1cmVzIGEgc3RhYmxlIHNvcnQgaW4gVjggYW5kIG90aGVyIGVuZ2luZXMuXG4gIC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD05MCBmb3IgbW9yZSBkZXRhaWxzLlxuICByZXR1cm4gb2JqZWN0LmluZGV4IC0gb3RoZXIuaW5kZXg7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGBiYXNlRWFjaGAgb3IgYGJhc2VFYWNoUmlnaHRgIGZ1bmN0aW9uLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGEgY29sbGVjdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQmFzZUVhY2goZWFjaEZ1bmMsIGZyb21SaWdodCkge1xuICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICB9XG4gICAgaWYgKCFpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgcmV0dXJuIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKTtcbiAgICB9XG4gICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xLFxuICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcblxuICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gIH07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGJhc2UgZnVuY3Rpb24gZm9yIG1ldGhvZHMgbGlrZSBgXy5mb3JJbmAgYW5kIGBfLmZvck93bmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQmFzZUZvcihmcm9tUmlnaHQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUsIGtleXNGdW5jKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KG9iamVjdCksXG4gICAgICAgIHByb3BzID0ga2V5c0Z1bmMob2JqZWN0KSxcbiAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICB2YXIga2V5ID0gcHJvcHNbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF07XG4gICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIG9mIGNvbXBhcmlzb24gZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgXG4gKiAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBhcnJheWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQXJyYXlzKGFycmF5LCBvdGhlciwgZXF1YWxGdW5jLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjaykge1xuICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIFBBUlRJQUxfQ09NUEFSRV9GTEFHLFxuICAgICAgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgb3RoTGVuZ3RoID0gb3RoZXIubGVuZ3RoO1xuXG4gIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgfVxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICBzZWVuID0gKGJpdG1hc2sgJiBVTk9SREVSRURfQ09NUEFSRV9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblxuICBzdGFjay5zZXQoYXJyYXksIG90aGVyKTtcbiAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICB3aGlsZSAoKytpbmRleCA8IGFyckxlbmd0aCkge1xuICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuICAgICAgICA6IGN1c3RvbWl6ZXIoYXJyVmFsdWUsIG90aFZhbHVlLCBpbmRleCwgYXJyYXksIG90aGVyLCBzdGFjayk7XG4gICAgfVxuICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoY29tcGFyZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIGlmIChzZWVuKSB7XG4gICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG4gICAgICAgICAgICBpZiAoIXNlZW4uaGFzKG90aEluZGV4KSAmJlxuICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgY3VzdG9taXplciwgYml0bWFzaywgc3RhY2spKSkge1xuICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5hZGQob3RoSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKSB7XG4gICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCEoXG4gICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjaylcbiAgICAgICAgKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgc3RhY2tbJ2RlbGV0ZSddKGFycmF5KTtcbiAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBvZiBjb21wYXJpc29uIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYFxuICogIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBlcXVhbEZ1bmMsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKSB7XG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgIG90aGVyID0gb3RoZXIuYnVmZmVyO1xuXG4gICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAhZXF1YWxGdW5jKG5ldyBVaW50OEFycmF5KG9iamVjdCksIG5ldyBVaW50OEFycmF5KG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlIGJvb2xUYWc6XG4gICAgY2FzZSBkYXRlVGFnOlxuICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICByZXR1cm4gZXEoK29iamVjdCwgK290aGVyKTtcblxuICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgY2FzZSByZWdleHBUYWc6XG4gICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgLy8gYXMgZXF1YWwuIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcmVnZXhwLnByb3RvdHlwZS50b3N0cmluZ1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgY2FzZSBtYXBUYWc6XG4gICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICBjYXNlIHNldFRhZzpcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgUEFSVElBTF9DT01QQVJFX0ZMQUc7XG4gICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgfVxuICAgICAgYml0bWFzayB8PSBVTk9SREVSRURfQ09NUEFSRV9GTEFHO1xuXG4gICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBlcXVhbEZ1bmMsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YuY2FsbChvYmplY3QpID09IHN5bWJvbFZhbHVlT2YuY2FsbChvdGhlcik7XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3Igb2JqZWN0cyB3aXRoIHN1cHBvcnQgZm9yXG4gKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIG9mIGNvbXBhcmlzb24gZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgXG4gKiAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGVxdWFsRnVuYywgY3VzdG9taXplciwgYml0bWFzaywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBQQVJUSUFMX0NPTVBBUkVfRkxBRyxcbiAgICAgIG9ialByb3BzID0ga2V5cyhvYmplY3QpLFxuICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgb3RoUHJvcHMgPSBrZXlzKG90aGVyKSxcbiAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICB9XG4gIHZhciByZXN1bHQgPSB0cnVlO1xuICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKSlcbiAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgfVxuICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3Mgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbWF0Y2ggZGF0YSBvZiBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gZ2V0TWF0Y2hEYXRhKG9iamVjdCkge1xuICB2YXIgcmVzdWx0ID0ga2V5cyhvYmplY3QpLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICB2YXIga2V5ID0gcmVzdWx0W2xlbmd0aF0sXG4gICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICByZXN1bHRbbGVuZ3RoXSA9IFtrZXksIHZhbHVlLCBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG52YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEsXG4vLyBmb3IgZGF0YSB2aWV3cyBpbiBFZGdlIDwgMTQsIGFuZCBwcm9taXNlcyBpbiBOb2RlLmpzLlxuaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSksXG4gICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG4gICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcbiAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBwYXRoYCBleGlzdHMgb24gYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFzRnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2sgcHJvcGVydGllcy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBoYXNGdW5jKSB7XG4gIHBhdGggPSBpc0tleShwYXRoLCBvYmplY3QpID8gW3BhdGhdIDogY2FzdFBhdGgocGF0aCk7XG5cbiAgdmFyIHJlc3VsdCxcbiAgICAgIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBrZXkgPSB0b0tleShwYXRoW2luZGV4XSk7XG4gICAgaWYgKCEocmVzdWx0ID0gb2JqZWN0ICE9IG51bGwgJiYgaGFzRnVuYyhvYmplY3QsIGtleSkpKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XG4gIH1cbiAgaWYgKHJlc3VsdCkge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgdmFyIGxlbmd0aCA9IG9iamVjdCA/IG9iamVjdC5sZW5ndGggOiAwO1xuICByZXR1cm4gISFsZW5ndGggJiYgaXNMZW5ndGgobGVuZ3RoKSAmJiBpc0luZGV4KGtleSwgbGVuZ3RoKSAmJlxuICAgIChpc0FycmF5KG9iamVjdCkgfHwgaXNBcmd1bWVudHMob2JqZWN0KSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmbGF0dGVuYWJsZSBgYXJndW1lbnRzYCBvYmplY3Qgb3IgYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZmxhdHRlbmFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNGbGF0dGVuYWJsZSh2YWx1ZSkge1xuICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpIHx8XG4gICAgISEoc3ByZWFkYWJsZVN5bWJvbCAmJiB2YWx1ZSAmJiB2YWx1ZVtzcHJlYWRhYmxlU3ltYm9sXSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludC50ZXN0KHZhbHVlKSkgJiZcbiAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdHlwZSA9IHR5cGVvZiBpbmRleDtcbiAgaWYgKHR5cGUgPT0gJ251bWJlcidcbiAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgICAgOiAodHlwZSA9PSAnc3RyaW5nJyAmJiBpbmRleCBpbiBvYmplY3QpXG4gICAgICApIHtcbiAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUgYW5kIG5vdCBhIHByb3BlcnR5IHBhdGguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleSh2YWx1ZSwgb2JqZWN0KSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgaWYgKHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJyB8fFxuICAgICAgdmFsdWUgPT0gbnVsbCB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gcmVJc1BsYWluUHJvcC50ZXN0KHZhbHVlKSB8fCAhcmVJc0RlZXBQcm9wLnRlc3QodmFsdWUpIHx8XG4gICAgKG9iamVjdCAhPSBudWxsICYmIHZhbHVlIGluIE9iamVjdChvYmplY3QpKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaWYgc3VpdGFibGUgZm9yIHN0cmljdFxuICogIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT09IHZhbHVlICYmICFpc09iamVjdCh2YWx1ZSk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBtYXRjaGVzUHJvcGVydHlgIGZvciBzb3VyY2UgdmFsdWVzIHN1aXRhYmxlXG4gKiBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUoa2V5LCBzcmNWYWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Rba2V5XSA9PT0gc3JjVmFsdWUgJiZcbiAgICAgIChzcmNWYWx1ZSAhPT0gdW5kZWZpbmVkIHx8IChrZXkgaW4gT2JqZWN0KG9iamVjdCkpKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG52YXIgc3RyaW5nVG9QYXRoID0gbWVtb2l6ZShmdW5jdGlvbihzdHJpbmcpIHtcbiAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICB2YXIgcmVzdWx0ID0gW107XG4gIGlmIChyZUxlYWRpbmdEb3QudGVzdChzdHJpbmcpKSB7XG4gICAgcmVzdWx0LnB1c2goJycpO1xuICB9XG4gIHN0cmluZy5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdHJpbmcpIHtcbiAgICByZXN1bHQucHVzaChxdW90ZSA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufSk7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBrZXkgaWYgaXQncyBub3QgYSBzdHJpbmcgb3Igc3ltYm9sLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICogQHJldHVybnMge3N0cmluZ3xzeW1ib2x9IFJldHVybnMgdGhlIGtleS5cbiAqL1xuZnVuY3Rpb24gdG9LZXkodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cywgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgcmVzdWx0cyBvZlxuICogcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uIHRocnUgZWFjaCBpdGVyYXRlZS4gVGhpcyBtZXRob2RcbiAqIHBlcmZvcm1zIGEgc3RhYmxlIHNvcnQsIHRoYXQgaXMsIGl0IHByZXNlcnZlcyB0aGUgb3JpZ2luYWwgc29ydCBvcmRlciBvZlxuICogZXF1YWwgZWxlbWVudHMuIFRoZSBpdGVyYXRlZXMgYXJlIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciB1c2VycyA9IFtcbiAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDggfSxcbiAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfSxcbiAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfVxuICogXTtcbiAqXG4gKiBfLnNvcnRCeSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyOyB9KTtcbiAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM2XSwgWydiYXJuZXknLCAzNF0sIFsnZnJlZCcsIDQ4XSwgWydmcmVkJywgNDBdXVxuICpcbiAqIF8uc29ydEJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10pO1xuICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzRdLCBbJ2Jhcm5leScsIDM2XSwgWydmcmVkJywgNDBdLCBbJ2ZyZWQnLCA0OF1dXG4gKlxuICogXy5zb3J0QnkodXNlcnMsICd1c2VyJywgZnVuY3Rpb24obykge1xuICogICByZXR1cm4gTWF0aC5mbG9vcihvLmFnZSAvIDEwKTtcbiAqIH0pO1xuICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzZdLCBbJ2Jhcm5leScsIDM0XSwgWydmcmVkJywgNDhdLCBbJ2ZyZWQnLCA0MF1dXG4gKi9cbnZhciBzb3J0QnkgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZXMpIHtcbiAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICB2YXIgbGVuZ3RoID0gaXRlcmF0ZWVzLmxlbmd0aDtcbiAgaWYgKGxlbmd0aCA+IDEgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0pKSB7XG4gICAgaXRlcmF0ZWVzID0gW107XG4gIH0gZWxzZSBpZiAobGVuZ3RoID4gMiAmJiBpc0l0ZXJhdGVlQ2FsbChpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSwgaXRlcmF0ZWVzWzJdKSkge1xuICAgIGl0ZXJhdGVlcyA9IFtpdGVyYXRlZXNbMF1dO1xuICB9XG4gIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBiYXNlRmxhdHRlbihpdGVyYXRlZXMsIDEpLCBbXSk7XG59KTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBtZW1vaXplcyB0aGUgcmVzdWx0IG9mIGBmdW5jYC4gSWYgYHJlc29sdmVyYCBpc1xuICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuICogYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbi4gQnkgZGVmYXVsdCwgdGhlIGZpcnN0IGFyZ3VtZW50XG4gKiBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgbWFwIGNhY2hlIGtleS4gVGhlIGBmdW5jYFxuICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gKlxuICogKipOb3RlOioqIFRoZSBjYWNoZSBpcyBleHBvc2VkIGFzIHRoZSBgY2FjaGVgIHByb3BlcnR5IG9uIHRoZSBtZW1vaXplZFxuICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG4gKiBjb25zdHJ1Y3RvciB3aXRoIG9uZSB3aG9zZSBpbnN0YW5jZXMgaW1wbGVtZW50IHRoZVxuICogW2BNYXBgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wcm9wZXJ0aWVzLW9mLXRoZS1tYXAtcHJvdG90eXBlLW9iamVjdClcbiAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jlc29sdmVyXSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgY2FjaGUga2V5LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG4gKlxuICogdmFyIHZhbHVlcyA9IF8ubWVtb2l6ZShfLnZhbHVlcyk7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsxLCAyXVxuICpcbiAqIHZhbHVlcyhvdGhlcik7XG4gKiAvLyA9PiBbMywgNF1cbiAqXG4gKiBvYmplY3QuYSA9IDI7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsxLCAyXVxuICpcbiAqIC8vIE1vZGlmeSB0aGUgcmVzdWx0IGNhY2hlLlxuICogdmFsdWVzLmNhY2hlLnNldChvYmplY3QsIFsnYScsICdiJ10pO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbJ2EnLCAnYiddXG4gKlxuICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cbiAqIF8ubWVtb2l6ZS5DYWNoZSA9IFdlYWtNYXA7XG4gKi9cbmZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicgfHwgKHJlc29sdmVyICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG4vLyBBc3NpZ24gY2FjaGUgdG8gYF8ubWVtb2l6ZWAuXG5tZW1vaXplLkNhY2hlID0gTWFwQ2FjaGU7XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAvLyBTYWZhcmkgOC4xIG1ha2VzIGBhcmd1bWVudHMuY2FsbGVlYCBlbnVtZXJhYmxlIGluIHN0cmljdCBtb2RlLlxuICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICghcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpIHx8IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IGFyZ3NUYWcpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICogaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA4LTkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXkgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGlzT2JqZWN0KHZhbHVlKSA/IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvU3RyaW5nKG51bGwpO1xuICogLy8gPT4gJydcbiAqXG4gKiBfLnRvU3RyaW5nKC0wKTtcbiAqIC8vID0+ICctMCdcbiAqXG4gKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiAnMSwyLDMnXG4gKi9cbmZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzXG4gKiBgdW5kZWZpbmVkYCwgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGluIGl0cyBwbGFjZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuNy4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAqXG4gKiBfLmdldChvYmplY3QsICdhWzBdLmIuYycpO1xuICogLy8gPT4gM1xuICpcbiAqIF8uZ2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICogLy8gPT4gM1xuICpcbiAqIF8uZ2V0KG9iamVjdCwgJ2EuYi5jJywgJ2RlZmF1bHQnKTtcbiAqIC8vID0+ICdkZWZhdWx0J1xuICovXG5mdW5jdGlvbiBnZXQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgdmFyIHJlc3VsdCA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBwYXRoYCBpcyBhIGRpcmVjdCBvciBpbmhlcml0ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0gXy5jcmVhdGUoeyAnYSc6IF8uY3JlYXRlKHsgJ2InOiAyIH0pIH0pO1xuICpcbiAqIF8uaGFzSW4ob2JqZWN0LCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaGFzSW4ob2JqZWN0LCAnYS5iJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5oYXNJbihvYmplY3QsIFsnYScsICdiJ10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaGFzSW4ob2JqZWN0LCAnYicpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaGFzSW4ob2JqZWN0LCBwYXRoKSB7XG4gIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgYmFzZUhhc0luKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXMobmV3IEZvbyk7XG4gKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKlxuICogXy5rZXlzKCdoaScpO1xuICogLy8gPT4gWycwJywgJzEnXVxuICovXG5mdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgaXQgcmVjZWl2ZXMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKlxuICogY29uc29sZS5sb2coXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3RzID0gW1xuICogICB7ICdhJzogeyAnYic6IDIgfSB9LFxuICogICB7ICdhJzogeyAnYic6IDEgfSB9XG4gKiBdO1xuICpcbiAqIF8ubWFwKG9iamVjdHMsIF8ucHJvcGVydHkoJ2EuYicpKTtcbiAqIC8vID0+IFsyLCAxXVxuICpcbiAqIF8ubWFwKF8uc29ydEJ5KG9iamVjdHMsIF8ucHJvcGVydHkoWydhJywgJ2InXSkpLCAnYS5iJyk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqL1xuZnVuY3Rpb24gcHJvcGVydHkocGF0aCkge1xuICByZXR1cm4gaXNLZXkocGF0aCkgPyBiYXNlUHJvcGVydHkodG9LZXkocGF0aCkpIDogYmFzZVByb3BlcnR5RGVlcChwYXRoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzb3J0Qnk7XG4iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgcmVtb3ZlQWNjZW50cyBmcm9tICdyZW1vdmUtYWNjZW50cyc7XG5cbnZhciByYW5raW5ncyA9IHtcbiAgQ0FTRV9TRU5TSVRJVkVfRVFVQUw6IDcsXG4gIEVRVUFMOiA2LFxuICBTVEFSVFNfV0lUSDogNSxcbiAgV09SRF9TVEFSVFNfV0lUSDogNCxcbiAgQ09OVEFJTlM6IDMsXG4gIEFDUk9OWU06IDIsXG4gIE1BVENIRVM6IDEsXG4gIE5PX01BVENIOiAwXG59O1xubWF0Y2hTb3J0ZXIucmFua2luZ3MgPSByYW5raW5ncztcblxudmFyIGRlZmF1bHRCYXNlU29ydEZuID0gZnVuY3Rpb24gZGVmYXVsdEJhc2VTb3J0Rm4oYSwgYikge1xuICByZXR1cm4gU3RyaW5nKGEucmFua2VkVmFsdWUpLmxvY2FsZUNvbXBhcmUoU3RyaW5nKGIucmFua2VkVmFsdWUpKTtcbn07XG4vKipcbiAqIFRha2VzIGFuIGFycmF5IG9mIGl0ZW1zIGFuZCBhIHZhbHVlIGFuZCByZXR1cm5zIGEgbmV3IGFycmF5IHdpdGggdGhlIGl0ZW1zIHRoYXQgbWF0Y2ggdGhlIGdpdmVuIHZhbHVlXG4gKiBAcGFyYW0ge0FycmF5fSBpdGVtcyAtIHRoZSBpdGVtcyB0byBzb3J0XG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsdWUgLSB0aGUgdmFsdWUgdG8gdXNlIGZvciByYW5raW5nXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFNvbWUgb3B0aW9ucyB0byBjb25maWd1cmUgdGhlIHNvcnRlclxuICogQHJldHVybiB7QXJyYXl9IC0gdGhlIG5ldyBzb3J0ZWQgYXJyYXlcbiAqL1xuXG5cbmZ1bmN0aW9uIG1hdGNoU29ydGVyKGl0ZW1zLCB2YWx1ZSwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyxcbiAgICAgIGtleXMgPSBfb3B0aW9ucy5rZXlzLFxuICAgICAgX29wdGlvbnMkdGhyZXNob2xkID0gX29wdGlvbnMudGhyZXNob2xkLFxuICAgICAgdGhyZXNob2xkID0gX29wdGlvbnMkdGhyZXNob2xkID09PSB2b2lkIDAgPyByYW5raW5ncy5NQVRDSEVTIDogX29wdGlvbnMkdGhyZXNob2xkLFxuICAgICAgX29wdGlvbnMkYmFzZVNvcnQgPSBfb3B0aW9ucy5iYXNlU29ydCxcbiAgICAgIGJhc2VTb3J0ID0gX29wdGlvbnMkYmFzZVNvcnQgPT09IHZvaWQgMCA/IGRlZmF1bHRCYXNlU29ydEZuIDogX29wdGlvbnMkYmFzZVNvcnQsXG4gICAgICBfb3B0aW9ucyRzb3J0ZXIgPSBfb3B0aW9ucy5zb3J0ZXIsXG4gICAgICBzb3J0ZXIgPSBfb3B0aW9ucyRzb3J0ZXIgPT09IHZvaWQgMCA/IGZ1bmN0aW9uIChtYXRjaGVkSXRlbXMpIHtcbiAgICByZXR1cm4gbWF0Y2hlZEl0ZW1zLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBzb3J0UmFua2VkVmFsdWVzKGEsIGIsIGJhc2VTb3J0KTtcbiAgICB9KTtcbiAgfSA6IF9vcHRpb25zJHNvcnRlcjtcbiAgdmFyIG1hdGNoZWRJdGVtcyA9IGl0ZW1zLnJlZHVjZShyZWR1Y2VJdGVtc1RvUmFua2VkLCBbXSk7XG4gIHJldHVybiBzb3J0ZXIobWF0Y2hlZEl0ZW1zKS5tYXAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgaXRlbSA9IF9yZWYuaXRlbTtcbiAgICByZXR1cm4gaXRlbTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gcmVkdWNlSXRlbXNUb1JhbmtlZChtYXRjaGVzLCBpdGVtLCBpbmRleCkge1xuICAgIHZhciByYW5raW5nSW5mbyA9IGdldEhpZ2hlc3RSYW5raW5nKGl0ZW0sIGtleXMsIHZhbHVlLCBvcHRpb25zKTtcbiAgICB2YXIgcmFuayA9IHJhbmtpbmdJbmZvLnJhbmssXG4gICAgICAgIF9yYW5raW5nSW5mbyRrZXlUaHJlcyA9IHJhbmtpbmdJbmZvLmtleVRocmVzaG9sZCxcbiAgICAgICAga2V5VGhyZXNob2xkID0gX3JhbmtpbmdJbmZvJGtleVRocmVzID09PSB2b2lkIDAgPyB0aHJlc2hvbGQgOiBfcmFua2luZ0luZm8ka2V5VGhyZXM7XG5cbiAgICBpZiAocmFuayA+PSBrZXlUaHJlc2hvbGQpIHtcbiAgICAgIG1hdGNoZXMucHVzaChfZXh0ZW5kcyh7fSwgcmFua2luZ0luZm8sIHtcbiAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdGNoZXM7XG4gIH1cbn1cbi8qKlxuICogR2V0cyB0aGUgaGlnaGVzdCByYW5raW5nIGZvciB2YWx1ZSBmb3IgdGhlIGdpdmVuIGl0ZW0gYmFzZWQgb24gaXRzIHZhbHVlcyBmb3IgdGhlIGdpdmVuIGtleXNcbiAqIEBwYXJhbSB7Kn0gaXRlbSAtIHRoZSBpdGVtIHRvIHJhbmtcbiAqIEBwYXJhbSB7QXJyYXl9IGtleXMgLSB0aGUga2V5cyB0byBnZXQgdmFsdWVzIGZyb20gdGhlIGl0ZW0gZm9yIHRoZSByYW5raW5nXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsdWUgLSB0aGUgdmFsdWUgdG8gcmFuayBhZ2FpbnN0XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnMgdG8gY29udHJvbCB0aGUgcmFua2luZ1xuICogQHJldHVybiB7e3Jhbms6IE51bWJlciwga2V5SW5kZXg6IE51bWJlciwga2V5VGhyZXNob2xkOiBOdW1iZXJ9fSAtIHRoZSBoaWdoZXN0IHJhbmtpbmdcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldEhpZ2hlc3RSYW5raW5nKGl0ZW0sIGtleXMsIHZhbHVlLCBvcHRpb25zKSB7XG4gIGlmICgha2V5cykge1xuICAgIC8vIGlmIGtleXMgaXMgbm90IHNwZWNpZmllZCwgdGhlbiB3ZSBhc3N1bWUgdGhlIGl0ZW0gZ2l2ZW4gaXMgcmVhZHkgdG8gYmUgbWF0Y2hlZFxuICAgIHZhciBzdHJpbmdJdGVtID0gaXRlbTtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gZW5kcyB1cCBiZWluZyBkdXBsaWNhdGUgb2YgJ2l0ZW0nIGluIG1hdGNoZXMgYnV0IGNvbnNpc3RlbnRcbiAgICAgIHJhbmtlZFZhbHVlOiBzdHJpbmdJdGVtLFxuICAgICAgcmFuazogZ2V0TWF0Y2hSYW5raW5nKHN0cmluZ0l0ZW0sIHZhbHVlLCBvcHRpb25zKSxcbiAgICAgIGtleUluZGV4OiAtMSxcbiAgICAgIGtleVRocmVzaG9sZDogb3B0aW9ucy50aHJlc2hvbGRcbiAgICB9O1xuICB9XG5cbiAgdmFyIHZhbHVlc1RvUmFuayA9IGdldEFsbFZhbHVlc1RvUmFuayhpdGVtLCBrZXlzKTtcbiAgcmV0dXJuIHZhbHVlc1RvUmFuay5yZWR1Y2UoZnVuY3Rpb24gKF9yZWYyLCBfcmVmMywgaSkge1xuICAgIHZhciByYW5rID0gX3JlZjIucmFuayxcbiAgICAgICAgcmFua2VkVmFsdWUgPSBfcmVmMi5yYW5rZWRWYWx1ZSxcbiAgICAgICAga2V5SW5kZXggPSBfcmVmMi5rZXlJbmRleCxcbiAgICAgICAga2V5VGhyZXNob2xkID0gX3JlZjIua2V5VGhyZXNob2xkO1xuICAgIHZhciBpdGVtVmFsdWUgPSBfcmVmMy5pdGVtVmFsdWUsXG4gICAgICAgIGF0dHJpYnV0ZXMgPSBfcmVmMy5hdHRyaWJ1dGVzO1xuICAgIHZhciBuZXdSYW5rID0gZ2V0TWF0Y2hSYW5raW5nKGl0ZW1WYWx1ZSwgdmFsdWUsIG9wdGlvbnMpO1xuICAgIHZhciBuZXdSYW5rZWRWYWx1ZSA9IHJhbmtlZFZhbHVlO1xuICAgIHZhciBtaW5SYW5raW5nID0gYXR0cmlidXRlcy5taW5SYW5raW5nLFxuICAgICAgICBtYXhSYW5raW5nID0gYXR0cmlidXRlcy5tYXhSYW5raW5nLFxuICAgICAgICB0aHJlc2hvbGQgPSBhdHRyaWJ1dGVzLnRocmVzaG9sZDtcblxuICAgIGlmIChuZXdSYW5rIDwgbWluUmFua2luZyAmJiBuZXdSYW5rID49IHJhbmtpbmdzLk1BVENIRVMpIHtcbiAgICAgIG5ld1JhbmsgPSBtaW5SYW5raW5nO1xuICAgIH0gZWxzZSBpZiAobmV3UmFuayA+IG1heFJhbmtpbmcpIHtcbiAgICAgIG5ld1JhbmsgPSBtYXhSYW5raW5nO1xuICAgIH1cblxuICAgIGlmIChuZXdSYW5rID4gcmFuaykge1xuICAgICAgcmFuayA9IG5ld1Jhbms7XG4gICAgICBrZXlJbmRleCA9IGk7XG4gICAgICBrZXlUaHJlc2hvbGQgPSB0aHJlc2hvbGQ7XG4gICAgICBuZXdSYW5rZWRWYWx1ZSA9IGl0ZW1WYWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmFua2VkVmFsdWU6IG5ld1JhbmtlZFZhbHVlLFxuICAgICAgcmFuazogcmFuayxcbiAgICAgIGtleUluZGV4OiBrZXlJbmRleCxcbiAgICAgIGtleVRocmVzaG9sZDoga2V5VGhyZXNob2xkXG4gICAgfTtcbiAgfSwge1xuICAgIHJhbmtlZFZhbHVlOiBpdGVtLFxuICAgIHJhbms6IHJhbmtpbmdzLk5PX01BVENILFxuICAgIGtleUluZGV4OiAtMSxcbiAgICBrZXlUaHJlc2hvbGQ6IG9wdGlvbnMudGhyZXNob2xkXG4gIH0pO1xufVxuLyoqXG4gKiBHaXZlcyBhIHJhbmtpbmdzIHNjb3JlIGJhc2VkIG9uIGhvdyB3ZWxsIHRoZSB0d28gc3RyaW5ncyBtYXRjaC5cbiAqIEBwYXJhbSB7U3RyaW5nfSB0ZXN0U3RyaW5nIC0gdGhlIHN0cmluZyB0byB0ZXN0IGFnYWluc3RcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmdUb1JhbmsgLSB0aGUgc3RyaW5nIHRvIHJhbmtcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBmb3IgdGhlIG1hdGNoIChsaWtlIGtlZXBEaWFjcml0aWNzIGZvciBjb21wYXJpc29uKVxuICogQHJldHVybnMge051bWJlcn0gdGhlIHJhbmtpbmcgZm9yIGhvdyB3ZWxsIHN0cmluZ1RvUmFuayBtYXRjaGVzIHRlc3RTdHJpbmdcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldE1hdGNoUmFua2luZyh0ZXN0U3RyaW5nLCBzdHJpbmdUb1JhbmssIG9wdGlvbnMpIHtcbiAgdGVzdFN0cmluZyA9IHByZXBhcmVWYWx1ZUZvckNvbXBhcmlzb24odGVzdFN0cmluZywgb3B0aW9ucyk7XG4gIHN0cmluZ1RvUmFuayA9IHByZXBhcmVWYWx1ZUZvckNvbXBhcmlzb24oc3RyaW5nVG9SYW5rLCBvcHRpb25zKTsgLy8gdG9vIGxvbmdcblxuICBpZiAoc3RyaW5nVG9SYW5rLmxlbmd0aCA+IHRlc3RTdHJpbmcubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHJhbmtpbmdzLk5PX01BVENIO1xuICB9IC8vIGNhc2Ugc2Vuc2l0aXZlIGVxdWFsc1xuXG5cbiAgaWYgKHRlc3RTdHJpbmcgPT09IHN0cmluZ1RvUmFuaykge1xuICAgIHJldHVybiByYW5raW5ncy5DQVNFX1NFTlNJVElWRV9FUVVBTDtcbiAgfSAvLyBMb3dlciBjYXNpbmcgYmVmb3JlIGZ1cnRoZXIgY29tcGFyaXNvblxuXG5cbiAgdGVzdFN0cmluZyA9IHRlc3RTdHJpbmcudG9Mb3dlckNhc2UoKTtcbiAgc3RyaW5nVG9SYW5rID0gc3RyaW5nVG9SYW5rLnRvTG93ZXJDYXNlKCk7IC8vIGNhc2UgaW5zZW5zaXRpdmUgZXF1YWxzXG5cbiAgaWYgKHRlc3RTdHJpbmcgPT09IHN0cmluZ1RvUmFuaykge1xuICAgIHJldHVybiByYW5raW5ncy5FUVVBTDtcbiAgfSAvLyBzdGFydHMgd2l0aFxuXG5cbiAgaWYgKHRlc3RTdHJpbmcuc3RhcnRzV2l0aChzdHJpbmdUb1JhbmspKSB7XG4gICAgcmV0dXJuIHJhbmtpbmdzLlNUQVJUU19XSVRIO1xuICB9IC8vIHdvcmQgc3RhcnRzIHdpdGhcblxuXG4gIGlmICh0ZXN0U3RyaW5nLmluY2x1ZGVzKFwiIFwiICsgc3RyaW5nVG9SYW5rKSkge1xuICAgIHJldHVybiByYW5raW5ncy5XT1JEX1NUQVJUU19XSVRIO1xuICB9IC8vIGNvbnRhaW5zXG5cblxuICBpZiAodGVzdFN0cmluZy5pbmNsdWRlcyhzdHJpbmdUb1JhbmspKSB7XG4gICAgcmV0dXJuIHJhbmtpbmdzLkNPTlRBSU5TO1xuICB9IGVsc2UgaWYgKHN0cmluZ1RvUmFuay5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBJZiB0aGUgb25seSBjaGFyYWN0ZXIgaW4gdGhlIGdpdmVuIHN0cmluZ1RvUmFua1xuICAgIC8vICAgaXNuJ3QgZXZlbiBjb250YWluZWQgaW4gdGhlIHRlc3RTdHJpbmcsIHRoZW5cbiAgICAvLyAgIGl0J3MgZGVmaW5pdGVseSBub3QgYSBtYXRjaC5cbiAgICByZXR1cm4gcmFua2luZ3MuTk9fTUFUQ0g7XG4gIH0gLy8gYWNyb255bVxuXG5cbiAgaWYgKGdldEFjcm9ueW0odGVzdFN0cmluZykuaW5jbHVkZXMoc3RyaW5nVG9SYW5rKSkge1xuICAgIHJldHVybiByYW5raW5ncy5BQ1JPTllNO1xuICB9IC8vIHdpbGwgcmV0dXJuIGEgbnVtYmVyIGJldHdlZW4gcmFua2luZ3MuTUFUQ0hFUyBhbmRcbiAgLy8gcmFua2luZ3MuTUFUQ0hFUyArIDEgZGVwZW5kaW5nICBvbiBob3cgY2xvc2Ugb2YgYSBtYXRjaCBpdCBpcy5cblxuXG4gIHJldHVybiBnZXRDbG9zZW5lc3NSYW5raW5nKHRlc3RTdHJpbmcsIHN0cmluZ1RvUmFuayk7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhbiBhY3JvbnltIGZvciBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIHRoZSBzdHJpbmcgZm9yIHdoaWNoIHRvIHByb2R1Y2UgdGhlIGFjcm9ueW1cbiAqIEByZXR1cm5zIHtTdHJpbmd9IHRoZSBhY3JvbnltXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRBY3JvbnltKHN0cmluZykge1xuICB2YXIgYWNyb255bSA9ICcnO1xuICB2YXIgd29yZHNJblN0cmluZyA9IHN0cmluZy5zcGxpdCgnICcpO1xuICB3b3Jkc0luU3RyaW5nLmZvckVhY2goZnVuY3Rpb24gKHdvcmRJblN0cmluZykge1xuICAgIHZhciBzcGxpdEJ5SHlwaGVuV29yZHMgPSB3b3JkSW5TdHJpbmcuc3BsaXQoJy0nKTtcbiAgICBzcGxpdEJ5SHlwaGVuV29yZHMuZm9yRWFjaChmdW5jdGlvbiAoc3BsaXRCeUh5cGhlbldvcmQpIHtcbiAgICAgIGFjcm9ueW0gKz0gc3BsaXRCeUh5cGhlbldvcmQuc3Vic3RyKDAsIDEpO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGFjcm9ueW07XG59XG4vKipcbiAqIFJldHVybnMgYSBzY29yZSBiYXNlZCBvbiBob3cgc3ByZWFkIGFwYXJ0IHRoZVxuICogY2hhcmFjdGVycyBmcm9tIHRoZSBzdHJpbmdUb1JhbmsgYXJlIHdpdGhpbiB0aGUgdGVzdFN0cmluZy5cbiAqIEEgbnVtYmVyIGNsb3NlIHRvIHJhbmtpbmdzLk1BVENIRVMgcmVwcmVzZW50cyBhIGxvb3NlIG1hdGNoLiBBIG51bWJlciBjbG9zZVxuICogdG8gcmFua2luZ3MuTUFUQ0hFUyArIDEgcmVwcmVzZW50cyBhIHRpZ2h0ZXIgbWF0Y2guXG4gKiBAcGFyYW0ge1N0cmluZ30gdGVzdFN0cmluZyAtIHRoZSBzdHJpbmcgdG8gdGVzdCBhZ2FpbnN0XG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nVG9SYW5rIC0gdGhlIHN0cmluZyB0byByYW5rXG4gKiBAcmV0dXJucyB7TnVtYmVyfSB0aGUgbnVtYmVyIGJldHdlZW4gcmFua2luZ3MuTUFUQ0hFUyBhbmRcbiAqIHJhbmtpbmdzLk1BVENIRVMgKyAxIGZvciBob3cgd2VsbCBzdHJpbmdUb1JhbmsgbWF0Y2hlcyB0ZXN0U3RyaW5nXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRDbG9zZW5lc3NSYW5raW5nKHRlc3RTdHJpbmcsIHN0cmluZ1RvUmFuaykge1xuICB2YXIgbWF0Y2hpbmdJbk9yZGVyQ2hhckNvdW50ID0gMDtcbiAgdmFyIGNoYXJOdW1iZXIgPSAwO1xuXG4gIGZ1bmN0aW9uIGZpbmRNYXRjaGluZ0NoYXJhY3RlcihtYXRjaENoYXIsIHN0cmluZywgaW5kZXgpIHtcbiAgICBmb3IgKHZhciBqID0gaW5kZXgsIEogPSBzdHJpbmcubGVuZ3RoOyBqIDwgSjsgaisrKSB7XG4gICAgICB2YXIgc3RyaW5nQ2hhciA9IHN0cmluZ1tqXTtcblxuICAgICAgaWYgKHN0cmluZ0NoYXIgPT09IG1hdGNoQ2hhcikge1xuICAgICAgICBtYXRjaGluZ0luT3JkZXJDaGFyQ291bnQgKz0gMTtcbiAgICAgICAgcmV0dXJuIGogKyAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJhbmtpbmcoc3ByZWFkKSB7XG4gICAgdmFyIHNwcmVhZFBlcmNlbnRhZ2UgPSAxIC8gc3ByZWFkO1xuICAgIHZhciBpbk9yZGVyUGVyY2VudGFnZSA9IG1hdGNoaW5nSW5PcmRlckNoYXJDb3VudCAvIHN0cmluZ1RvUmFuay5sZW5ndGg7XG4gICAgdmFyIHJhbmtpbmcgPSByYW5raW5ncy5NQVRDSEVTICsgaW5PcmRlclBlcmNlbnRhZ2UgKiBzcHJlYWRQZXJjZW50YWdlO1xuICAgIHJldHVybiByYW5raW5nO1xuICB9XG5cbiAgdmFyIGZpcnN0SW5kZXggPSBmaW5kTWF0Y2hpbmdDaGFyYWN0ZXIoc3RyaW5nVG9SYW5rWzBdLCB0ZXN0U3RyaW5nLCAwKTtcblxuICBpZiAoZmlyc3RJbmRleCA8IDApIHtcbiAgICByZXR1cm4gcmFua2luZ3MuTk9fTUFUQ0g7XG4gIH1cblxuICBjaGFyTnVtYmVyID0gZmlyc3RJbmRleDtcblxuICBmb3IgKHZhciBpID0gMSwgSSA9IHN0cmluZ1RvUmFuay5sZW5ndGg7IGkgPCBJOyBpKyspIHtcbiAgICB2YXIgbWF0Y2hDaGFyID0gc3RyaW5nVG9SYW5rW2ldO1xuICAgIGNoYXJOdW1iZXIgPSBmaW5kTWF0Y2hpbmdDaGFyYWN0ZXIobWF0Y2hDaGFyLCB0ZXN0U3RyaW5nLCBjaGFyTnVtYmVyKTtcbiAgICB2YXIgZm91bmQgPSBjaGFyTnVtYmVyID4gLTE7XG5cbiAgICBpZiAoIWZvdW5kKSB7XG4gICAgICByZXR1cm4gcmFua2luZ3MuTk9fTUFUQ0g7XG4gICAgfVxuICB9XG5cbiAgdmFyIHNwcmVhZCA9IGNoYXJOdW1iZXIgLSBmaXJzdEluZGV4O1xuICByZXR1cm4gZ2V0UmFua2luZyhzcHJlYWQpO1xufVxuLyoqXG4gKiBTb3J0cyBpdGVtcyB0aGF0IGhhdmUgYSByYW5rLCBpbmRleCwgYW5kIGtleUluZGV4XG4gKiBAcGFyYW0ge09iamVjdH0gYSAtIHRoZSBmaXJzdCBpdGVtIHRvIHNvcnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBiIC0gdGhlIHNlY29uZCBpdGVtIHRvIHNvcnRcbiAqIEByZXR1cm4ge051bWJlcn0gLTEgaWYgYSBzaG91bGQgY29tZSBmaXJzdCwgMSBpZiBiIHNob3VsZCBjb21lIGZpcnN0LCAwIGlmIGVxdWFsXG4gKi9cblxuXG5mdW5jdGlvbiBzb3J0UmFua2VkVmFsdWVzKGEsIGIsIGJhc2VTb3J0KSB7XG4gIHZhciBhRmlyc3QgPSAtMTtcbiAgdmFyIGJGaXJzdCA9IDE7XG4gIHZhciBhUmFuayA9IGEucmFuayxcbiAgICAgIGFLZXlJbmRleCA9IGEua2V5SW5kZXg7XG4gIHZhciBiUmFuayA9IGIucmFuayxcbiAgICAgIGJLZXlJbmRleCA9IGIua2V5SW5kZXg7XG4gIHZhciBzYW1lID0gYVJhbmsgPT09IGJSYW5rO1xuXG4gIGlmIChzYW1lKSB7XG4gICAgaWYgKGFLZXlJbmRleCA9PT0gYktleUluZGV4KSB7XG4gICAgICAvLyB1c2UgdGhlIGJhc2Ugc29ydCBmdW5jdGlvbiBhcyBhIHRpZS1icmVha2VyXG4gICAgICByZXR1cm4gYmFzZVNvcnQoYSwgYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBhS2V5SW5kZXggPCBiS2V5SW5kZXggPyBhRmlyc3QgOiBiRmlyc3Q7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBhUmFuayA+IGJSYW5rID8gYUZpcnN0IDogYkZpcnN0O1xuICB9XG59XG4vKipcbiAqIFByZXBhcmVzIHZhbHVlIGZvciBjb21wYXJpc29uIGJ5IHN0cmluZ2lmeWluZyBpdCwgcmVtb3ZpbmcgZGlhY3JpdGljcyAoaWYgc3BlY2lmaWVkKVxuICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIC0gdGhlIHZhbHVlIHRvIGNsZWFuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIHtrZWVwRGlhY3JpdGljczogd2hldGhlciB0byByZW1vdmUgZGlhY3JpdGljc31cbiAqIEByZXR1cm4ge1N0cmluZ30gdGhlIHByZXBhcmVkIHZhbHVlXG4gKi9cblxuXG5mdW5jdGlvbiBwcmVwYXJlVmFsdWVGb3JDb21wYXJpc29uKHZhbHVlLCBfcmVmNCkge1xuICB2YXIga2VlcERpYWNyaXRpY3MgPSBfcmVmNC5rZWVwRGlhY3JpdGljcztcbiAgLy8gdmFsdWUgbWlnaHQgbm90IGFjdHVhbGx5IGJlIGEgc3RyaW5nIGF0IHRoaXMgcG9pbnQgKHdlIGRvbid0IGdldCB0byBjaG9vc2UpXG4gIC8vIHNvIHBhcnQgb2YgcHJlcGFyaW5nIHRoZSB2YWx1ZSBmb3IgY29tcGFyaXNvbiBpcyBlbnN1cmUgdGhhdCBpdCBpcyBhIHN0cmluZ1xuICB2YWx1ZSA9IFwiXCIgKyB2YWx1ZTsgLy8gdG9TdHJpbmdcblxuICBpZiAoIWtlZXBEaWFjcml0aWNzKSB7XG4gICAgdmFsdWUgPSByZW1vdmVBY2NlbnRzKHZhbHVlKTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn1cbi8qKlxuICogR2V0cyB2YWx1ZSBmb3Iga2V5IGluIGl0ZW0gYXQgYXJiaXRyYXJpbHkgbmVzdGVkIGtleXBhdGhcbiAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIC0gdGhlIGl0ZW1cbiAqIEBwYXJhbSB7T2JqZWN0fEZ1bmN0aW9ufSBrZXkgLSB0aGUgcG90ZW50aWFsbHkgbmVzdGVkIGtleXBhdGggb3IgcHJvcGVydHkgY2FsbGJhY2tcbiAqIEByZXR1cm4ge0FycmF5fSAtIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIHZhbHVlKHMpIGF0IHRoZSBuZXN0ZWQga2V5cGF0aFxuICovXG5cblxuZnVuY3Rpb24gZ2V0SXRlbVZhbHVlcyhpdGVtLCBrZXkpIHtcbiAgaWYgKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnKSB7XG4gICAga2V5ID0ga2V5LmtleTtcbiAgfVxuXG4gIHZhciB2YWx1ZTtcblxuICBpZiAodHlwZW9mIGtleSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhbHVlID0ga2V5KGl0ZW0pO1xuICB9IGVsc2UgaWYgKGl0ZW0gPT0gbnVsbCkge1xuICAgIHZhbHVlID0gbnVsbDtcbiAgfSBlbHNlIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChpdGVtLCBrZXkpKSB7XG4gICAgdmFsdWUgPSBpdGVtW2tleV07XG4gIH0gZWxzZSBpZiAoa2V5LmluY2x1ZGVzKCcuJykpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1jYWxsXG4gICAgcmV0dXJuIGdldE5lc3RlZFZhbHVlcyhrZXksIGl0ZW0pO1xuICB9IGVsc2Uge1xuICAgIHZhbHVlID0gbnVsbDtcbiAgfSAvLyBiZWNhdXNlIGB2YWx1ZWAgY2FuIGFsc28gYmUgdW5kZWZpbmVkXG5cblxuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBbU3RyaW5nKHZhbHVlKV07XG59XG4vKipcbiAqIEdpdmVuIHBhdGg6IFwiZm9vLmJhci5iYXpcIlxuICogQW5kIGl0ZW06IHtmb286IHtiYXI6IHtiYXo6ICdidXp6J319fVxuICogICAtPiAnYnV6eidcbiAqIEBwYXJhbSBwYXRoIGEgZG90LXNlcGFyYXRlZCBzZXQgb2Yga2V5c1xuICogQHBhcmFtIGl0ZW0gdGhlIGl0ZW0gdG8gZ2V0IHRoZSB2YWx1ZSBmcm9tXG4gKi9cblxuXG5mdW5jdGlvbiBnZXROZXN0ZWRWYWx1ZXMocGF0aCwgaXRlbSkge1xuICB2YXIga2V5cyA9IHBhdGguc3BsaXQoJy4nKTtcbiAgdmFyIHZhbHVlcyA9IFtpdGVtXTtcblxuICBmb3IgKHZhciBpID0gMCwgSSA9IGtleXMubGVuZ3RoOyBpIDwgSTsgaSsrKSB7XG4gICAgdmFyIG5lc3RlZEtleSA9IGtleXNbaV07XG4gICAgdmFyIG5lc3RlZFZhbHVlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaiA9IDAsIEogPSB2YWx1ZXMubGVuZ3RoOyBqIDwgSjsgaisrKSB7XG4gICAgICB2YXIgbmVzdGVkSXRlbSA9IHZhbHVlc1tqXTtcbiAgICAgIGlmIChuZXN0ZWRJdGVtID09IG51bGwpIGNvbnRpbnVlO1xuXG4gICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobmVzdGVkSXRlbSwgbmVzdGVkS2V5KSkge1xuICAgICAgICB2YXIgbmVzdGVkVmFsdWUgPSBuZXN0ZWRJdGVtW25lc3RlZEtleV07XG5cbiAgICAgICAgaWYgKG5lc3RlZFZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICBuZXN0ZWRWYWx1ZXMucHVzaChuZXN0ZWRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobmVzdGVkS2V5ID09PSAnKicpIHtcbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgdmFsdWVzIGlzIGFuIGFycmF5XG4gICAgICAgIG5lc3RlZFZhbHVlcyA9IG5lc3RlZFZhbHVlcy5jb25jYXQobmVzdGVkSXRlbSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFsdWVzID0gbmVzdGVkVmFsdWVzO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVzWzBdKSkge1xuICAgIC8vIGtlZXAgYWxsb3dpbmcgdGhlIGltcGxpY2l0IHdpbGRjYXJkIGZvciBhbiBhcnJheSBvZiBzdHJpbmdzIGF0IHRoZSBlbmQgb2ZcbiAgICAvLyB0aGUgcGF0aDsgZG9uJ3QgdXNlIGAuZmxhdCgpYCBiZWNhdXNlIHRoYXQncyBub3QgYXZhaWxhYmxlIGluIG5vZGUuanMgdjEwXG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHJldHVybiByZXN1bHQuY29uY2F0LmFwcGx5KHJlc3VsdCwgdmFsdWVzKTtcbiAgfSAvLyBCYXNlZCBvbiBvdXIgbG9naWMgaXQgc2hvdWxkIGJlIGFuIGFycmF5IG9mIHN0cmluZ3MgYnkgbm93Li4uXG4gIC8vIGFzc3VtaW5nIHRoZSB1c2VyJ3MgcGF0aCB0ZXJtaW5hdGVkIGluIHN0cmluZ3NcblxuXG4gIHJldHVybiB2YWx1ZXM7XG59XG4vKipcbiAqIEdldHMgYWxsIHRoZSB2YWx1ZXMgZm9yIHRoZSBnaXZlbiBrZXlzIGluIHRoZSBnaXZlbiBpdGVtIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRob3NlIHZhbHVlc1xuICogQHBhcmFtIGl0ZW0gLSB0aGUgaXRlbSBmcm9tIHdoaWNoIHRoZSB2YWx1ZXMgd2lsbCBiZSByZXRyaWV2ZWRcbiAqIEBwYXJhbSBrZXlzIC0gdGhlIGtleXMgdG8gdXNlIHRvIHJldHJpZXZlIHRoZSB2YWx1ZXNcbiAqIEByZXR1cm4gb2JqZWN0cyB3aXRoIHtpdGVtVmFsdWUsIGF0dHJpYnV0ZXN9XG4gKi9cblxuXG5mdW5jdGlvbiBnZXRBbGxWYWx1ZXNUb1JhbmsoaXRlbSwga2V5cykge1xuICB2YXIgYWxsVmFsdWVzID0gW107XG5cbiAgZm9yICh2YXIgaiA9IDAsIEogPSBrZXlzLmxlbmd0aDsgaiA8IEo7IGorKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2pdO1xuICAgIHZhciBhdHRyaWJ1dGVzID0gZ2V0S2V5QXR0cmlidXRlcyhrZXkpO1xuICAgIHZhciBpdGVtVmFsdWVzID0gZ2V0SXRlbVZhbHVlcyhpdGVtLCBrZXkpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIEkgPSBpdGVtVmFsdWVzLmxlbmd0aDsgaSA8IEk7IGkrKykge1xuICAgICAgYWxsVmFsdWVzLnB1c2goe1xuICAgICAgICBpdGVtVmFsdWU6IGl0ZW1WYWx1ZXNbaV0sXG4gICAgICAgIGF0dHJpYnV0ZXM6IGF0dHJpYnV0ZXNcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhbGxWYWx1ZXM7XG59XG5cbnZhciBkZWZhdWx0S2V5QXR0cmlidXRlcyA9IHtcbiAgbWF4UmFua2luZzogSW5maW5pdHksXG4gIG1pblJhbmtpbmc6IC1JbmZpbml0eVxufTtcbi8qKlxuICogR2V0cyBhbGwgdGhlIGF0dHJpYnV0ZXMgZm9yIHRoZSBnaXZlbiBrZXlcbiAqIEBwYXJhbSBrZXkgLSB0aGUga2V5IGZyb20gd2hpY2ggdGhlIGF0dHJpYnV0ZXMgd2lsbCBiZSByZXRyaWV2ZWRcbiAqIEByZXR1cm4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGtleSdzIGF0dHJpYnV0ZXNcbiAqL1xuXG5mdW5jdGlvbiBnZXRLZXlBdHRyaWJ1dGVzKGtleSkge1xuICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZGVmYXVsdEtleUF0dHJpYnV0ZXM7XG4gIH1cblxuICByZXR1cm4gX2V4dGVuZHMoe30sIGRlZmF1bHRLZXlBdHRyaWJ1dGVzLCBrZXkpO1xufVxuLypcbmVzbGludFxuICBuby1jb250aW51ZTogXCJvZmZcIixcbiovXG5cbmV4cG9ydCB7IGRlZmF1bHRCYXNlU29ydEZuLCBtYXRjaFNvcnRlciwgcmFua2luZ3MgfTtcbiIsInZhciBzYWZlSXNOYU4gPSBOdW1iZXIuaXNOYU4gfHxcbiAgICBmdW5jdGlvbiBwb255ZmlsbCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB2YWx1ZSAhPT0gdmFsdWU7XG4gICAgfTtcbmZ1bmN0aW9uIGlzRXF1YWwoZmlyc3QsIHNlY29uZCkge1xuICAgIGlmIChmaXJzdCA9PT0gc2Vjb25kKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoc2FmZUlzTmFOKGZpcnN0KSAmJiBzYWZlSXNOYU4oc2Vjb25kKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gYXJlSW5wdXRzRXF1YWwobmV3SW5wdXRzLCBsYXN0SW5wdXRzKSB7XG4gICAgaWYgKG5ld0lucHV0cy5sZW5ndGggIT09IGxhc3RJbnB1dHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdJbnB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFpc0VxdWFsKG5ld0lucHV0c1tpXSwgbGFzdElucHV0c1tpXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gbWVtb2l6ZU9uZShyZXN1bHRGbiwgaXNFcXVhbCkge1xuICAgIGlmIChpc0VxdWFsID09PSB2b2lkIDApIHsgaXNFcXVhbCA9IGFyZUlucHV0c0VxdWFsOyB9XG4gICAgdmFyIGxhc3RUaGlzO1xuICAgIHZhciBsYXN0QXJncyA9IFtdO1xuICAgIHZhciBsYXN0UmVzdWx0O1xuICAgIHZhciBjYWxsZWRPbmNlID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gbWVtb2l6ZWQoKSB7XG4gICAgICAgIHZhciBuZXdBcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBuZXdBcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbGxlZE9uY2UgJiYgbGFzdFRoaXMgPT09IHRoaXMgJiYgaXNFcXVhbChuZXdBcmdzLCBsYXN0QXJncykpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGxhc3RSZXN1bHQgPSByZXN1bHRGbi5hcHBseSh0aGlzLCBuZXdBcmdzKTtcbiAgICAgICAgY2FsbGVkT25jZSA9IHRydWU7XG4gICAgICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICAgICAgbGFzdEFyZ3MgPSBuZXdBcmdzO1xuICAgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtZW1vaXplT25lO1xuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9wbHlyLmNzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307IiwiXCJvYmplY3RcIj09dHlwZW9mIG5hdmlnYXRvciYmZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcIlBseXJcIix0KTooZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOmV8fHNlbGYpLlBseXI9dCgpfSh0aGlzLChmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoZSx0LGkpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6aSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09aSxlfWZ1bmN0aW9uIHQoZSx0KXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIHM9dFtpXTtzLmVudW1lcmFibGU9cy5lbnVtZXJhYmxlfHwhMSxzLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBzJiYocy53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscy5rZXkscyl9fWZ1bmN0aW9uIGkoZSx0LGkpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6aSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09aSxlfWZ1bmN0aW9uIHMoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihzPXMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLHMpfXJldHVybiBpfWZ1bmN0aW9uIG4oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/cyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2koZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnMoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9dmFyIGE9e2FkZENTUzohMCx0aHVtYldpZHRoOjE1LHdhdGNoOiEwfTtmdW5jdGlvbiBsKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0KSkuaW5jbHVkZXModGhpcyl9LmNhbGwoZSx0KX12YXIgbz1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZT9lLmNvbnN0cnVjdG9yOm51bGx9LHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIShlJiZ0JiZlIGluc3RhbmNlb2YgdCl9LGM9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWV9LGg9ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSk9PT1PYmplY3R9LHU9ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSk9PT1TdHJpbmd9LGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSl9LG09ZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSxOb2RlTGlzdCl9LHA9dSxnPWQsZj1tLGI9ZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSxFbGVtZW50KX0seT1mdW5jdGlvbihlKXtyZXR1cm4gcihlLEV2ZW50KX0sdj1mdW5jdGlvbihlKXtyZXR1cm4gYyhlKXx8KHUoZSl8fGQoZSl8fG0oZSkpJiYhZS5sZW5ndGh8fGgoZSkmJiFPYmplY3Qua2V5cyhlKS5sZW5ndGh9O2Z1bmN0aW9uIHcoZSx0KXtpZigxPnQpe3ZhciBpPWZ1bmN0aW9uKGUpe3ZhciB0PVwiXCIuY29uY2F0KGUpLm1hdGNoKC8oPzpcXC4oXFxkKykpPyg/OltlRV0oWystXT9cXGQrKSk/JC8pO3JldHVybiB0P01hdGgubWF4KDAsKHRbMV0/dFsxXS5sZW5ndGg6MCktKHRbMl0/K3RbMl06MCkpOjB9KHQpO3JldHVybiBwYXJzZUZsb2F0KGUudG9GaXhlZChpKSl9cmV0dXJuIE1hdGgucm91bmQoZS90KSp0fXZhciBUPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LGkpeyhmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KSh0aGlzLGUpLGIodCk/dGhpcy5lbGVtZW50PXQ6cCh0KSYmKHRoaXMuZWxlbWVudD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpKSxiKHRoaXMuZWxlbWVudCkmJnYodGhpcy5lbGVtZW50LnJhbmdlVG91Y2gpJiYodGhpcy5jb25maWc9bih7fSxhLHt9LGkpLHRoaXMuaW5pdCgpKX1yZXR1cm4gZnVuY3Rpb24oZSxpLHMpe2kmJnQoZS5wcm90b3R5cGUsaSkscyYmdChlLHMpfShlLFt7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7ZS5lbmFibGVkJiYodGhpcy5jb25maWcuYWRkQ1NTJiYodGhpcy5lbGVtZW50LnN0eWxlLnVzZXJTZWxlY3Q9XCJub25lXCIsdGhpcy5lbGVtZW50LnN0eWxlLndlYktpdFVzZXJTZWxlY3Q9XCJub25lXCIsdGhpcy5lbGVtZW50LnN0eWxlLnRvdWNoQWN0aW9uPVwibWFuaXB1bGF0aW9uXCIpLHRoaXMubGlzdGVuZXJzKCEwKSx0aGlzLmVsZW1lbnQucmFuZ2VUb3VjaD10aGlzKX19LHtrZXk6XCJkZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXtlLmVuYWJsZWQmJih0aGlzLmNvbmZpZy5hZGRDU1MmJih0aGlzLmVsZW1lbnQuc3R5bGUudXNlclNlbGVjdD1cIlwiLHRoaXMuZWxlbWVudC5zdHlsZS53ZWJLaXRVc2VyU2VsZWN0PVwiXCIsdGhpcy5lbGVtZW50LnN0eWxlLnRvdWNoQWN0aW9uPVwiXCIpLHRoaXMubGlzdGVuZXJzKCExKSx0aGlzLmVsZW1lbnQucmFuZ2VUb3VjaD1udWxsKX19LHtrZXk6XCJsaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLGk9ZT9cImFkZEV2ZW50TGlzdGVuZXJcIjpcInJlbW92ZUV2ZW50TGlzdGVuZXJcIjtbXCJ0b3VjaHN0YXJ0XCIsXCJ0b3VjaG1vdmVcIixcInRvdWNoZW5kXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuZWxlbWVudFtpXShlLChmdW5jdGlvbihlKXtyZXR1cm4gdC5zZXQoZSl9KSwhMSl9KSl9fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIWUuZW5hYmxlZHx8IXkodCkpcmV0dXJuIG51bGw7dmFyIGkscz10LnRhcmdldCxuPXQuY2hhbmdlZFRvdWNoZXNbMF0sYT1wYXJzZUZsb2F0KHMuZ2V0QXR0cmlidXRlKFwibWluXCIpKXx8MCxsPXBhcnNlRmxvYXQocy5nZXRBdHRyaWJ1dGUoXCJtYXhcIikpfHwxMDAsbz1wYXJzZUZsb2F0KHMuZ2V0QXR0cmlidXRlKFwic3RlcFwiKSl8fDEscj1zLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGM9MTAwL3Iud2lkdGgqKHRoaXMuY29uZmlnLnRodW1iV2lkdGgvMikvMTAwO3JldHVybiAwPihpPTEwMC9yLndpZHRoKihuLmNsaWVudFgtci5sZWZ0KSk/aT0wOjEwMDxpJiYoaT0xMDApLDUwPmk/aS09KDEwMC0yKmkpKmM6NTA8aSYmKGkrPTIqKGktNTApKmMpLGErdyhpLzEwMCoobC1hKSxvKX19LHtrZXk6XCJzZXRcIix2YWx1ZTpmdW5jdGlvbih0KXtlLmVuYWJsZWQmJnkodCkmJiF0LnRhcmdldC5kaXNhYmxlZCYmKHQucHJldmVudERlZmF1bHQoKSx0LnRhcmdldC52YWx1ZT10aGlzLmdldCh0KSxmdW5jdGlvbihlLHQpe2lmKGUmJnQpe3ZhciBpPW5ldyBFdmVudCh0LHtidWJibGVzOiEwfSk7ZS5kaXNwYXRjaEV2ZW50KGkpfX0odC50YXJnZXQsXCJ0b3VjaGVuZFwiPT09dC50eXBlP1wiY2hhbmdlXCI6XCJpbnB1dFwiKSl9fV0sW3trZXk6XCJzZXR1cFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBpPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxzPW51bGw7aWYodih0KXx8cCh0KT9zPUFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChwKHQpP3Q6J2lucHV0W3R5cGU9XCJyYW5nZVwiXScpKTpiKHQpP3M9W3RdOmYodCk/cz1BcnJheS5mcm9tKHQpOmcodCkmJihzPXQuZmlsdGVyKGIpKSx2KHMpKXJldHVybiBudWxsO3ZhciBvPW4oe30sYSx7fSxpKTtpZihwKHQpJiZvLndhdGNoKXt2YXIgcj1uZXcgTXV0YXRpb25PYnNlcnZlcigoZnVuY3Rpb24oaSl7QXJyYXkuZnJvbShpKS5mb3JFYWNoKChmdW5jdGlvbihpKXtBcnJheS5mcm9tKGkuYWRkZWROb2RlcykuZm9yRWFjaCgoZnVuY3Rpb24oaSl7YihpKSYmbChpLHQpJiZuZXcgZShpLG8pfSkpfSkpfSkpO3Iub2JzZXJ2ZShkb2N1bWVudC5ib2R5LHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pfXJldHVybiBzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQsaSl9KSl9fSx7a2V5OlwiZW5hYmxlZFwiLGdldDpmdW5jdGlvbigpe3JldHVyblwib250b3VjaHN0YXJ0XCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9fV0pLGV9KCk7Y29uc3Qgaz1lPT5udWxsIT1lP2UuY29uc3RydWN0b3I6bnVsbCxDPShlLHQpPT5Cb29sZWFuKGUmJnQmJmUgaW5zdGFuY2VvZiB0KSxBPWU9Pm51bGw9PWUsUz1lPT5rKGUpPT09T2JqZWN0LEU9ZT0+ayhlKT09PVN0cmluZyxQPWU9PmsoZSk9PT1GdW5jdGlvbixOPWU9PkFycmF5LmlzQXJyYXkoZSksTT1lPT5DKGUsTm9kZUxpc3QpLHg9ZT0+QShlKXx8KEUoZSl8fE4oZSl8fE0oZSkpJiYhZS5sZW5ndGh8fFMoZSkmJiFPYmplY3Qua2V5cyhlKS5sZW5ndGg7dmFyIEk9QSxMPVMsJD1lPT5rKGUpPT09TnVtYmVyJiYhTnVtYmVyLmlzTmFOKGUpLF89RSxPPWU9PmsoZSk9PT1Cb29sZWFuLHE9UCxqPU4sRD1NLEg9ZT0+bnVsbCE9PWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiYxPT09ZS5ub2RlVHlwZSYmXCJvYmplY3RcIj09dHlwZW9mIGUuc3R5bGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlLm93bmVyRG9jdW1lbnQsRj1lPT5DKGUsRXZlbnQpLFI9ZT0+QyhlLEtleWJvYXJkRXZlbnQpLFY9ZT0+QyhlLFRleHRUcmFjayl8fCFBKGUpJiZFKGUua2luZCksQj1lPT5DKGUsUHJvbWlzZSkmJlAoZS50aGVuKSxVPWU9PntpZihDKGUsd2luZG93LlVSTCkpcmV0dXJuITA7aWYoIUUoZSkpcmV0dXJuITE7bGV0IHQ9ZTtlLnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpJiZlLnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKXx8KHQ9YGh0dHA6Ly8ke2V9YCk7dHJ5e3JldHVybiF4KG5ldyBVUkwodCkuaG9zdG5hbWUpfWNhdGNoKGUpe3JldHVybiExfX0sVz14O2NvbnN0IHo9KCgpPT57Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSx0PXtXZWJraXRUcmFuc2l0aW9uOlwid2Via2l0VHJhbnNpdGlvbkVuZFwiLE1velRyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsT1RyYW5zaXRpb246XCJvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZFwiLHRyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCJ9LGk9T2JqZWN0LmtleXModCkuZmluZCgodD0+dm9pZCAwIT09ZS5zdHlsZVt0XSkpO3JldHVybiEhXyhpKSYmdFtpXX0pKCk7ZnVuY3Rpb24gSyhlLHQpe3NldFRpbWVvdXQoKCgpPT57dHJ5e2UuaGlkZGVuPSEwLGUub2Zmc2V0SGVpZ2h0LGUuaGlkZGVuPSExfWNhdGNoKGUpe319KSx0KX1jb25zdCBZPXtpc0lFOkJvb2xlYW4od2luZG93LmRvY3VtZW50LmRvY3VtZW50TW9kZSksaXNFZGdlOndpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKFwiRWRnZVwiKSxpc1dlYmtpdDpcIldlYmtpdEFwcGVhcmFuY2VcImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSYmIS9FZGdlLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGlzSVBob25lOi8oaVBob25lfGlQb2QpL2dpLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSxpc0lvczovKGlQYWR8aVBob25lfGlQb2QpL2dpLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKX07ZnVuY3Rpb24gUShlLHQpe3JldHVybiB0LnNwbGl0KFwiLlwiKS5yZWR1Y2UoKChlLHQpPT5lJiZlW3RdKSxlKX1mdW5jdGlvbiBYKGU9e30sLi4udCl7aWYoIXQubGVuZ3RoKXJldHVybiBlO2NvbnN0IGk9dC5zaGlmdCgpO3JldHVybiBMKGkpPyhPYmplY3Qua2V5cyhpKS5mb3JFYWNoKCh0PT57TChpW3RdKT8oT2JqZWN0LmtleXMoZSkuaW5jbHVkZXModCl8fE9iamVjdC5hc3NpZ24oZSx7W3RdOnt9fSksWChlW3RdLGlbdF0pKTpPYmplY3QuYXNzaWduKGUse1t0XTppW3RdfSl9KSksWChlLC4uLnQpKTplfWZ1bmN0aW9uIEooZSx0KXtjb25zdCBpPWUubGVuZ3RoP2U6W2VdO0FycmF5LmZyb20oaSkucmV2ZXJzZSgpLmZvckVhY2goKChlLGkpPT57Y29uc3Qgcz1pPjA/dC5jbG9uZU5vZGUoITApOnQsbj1lLnBhcmVudE5vZGUsYT1lLm5leHRTaWJsaW5nO3MuYXBwZW5kQ2hpbGQoZSksYT9uLmluc2VydEJlZm9yZShzLGEpOm4uYXBwZW5kQ2hpbGQocyl9KSl9ZnVuY3Rpb24gRyhlLHQpe0goZSkmJiFXKHQpJiZPYmplY3QuZW50cmllcyh0KS5maWx0ZXIoKChbLGVdKT0+IUkoZSkpKS5mb3JFYWNoKCgoW3QsaV0pPT5lLnNldEF0dHJpYnV0ZSh0LGkpKSl9ZnVuY3Rpb24gWihlLHQsaSl7Y29uc3Qgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO3JldHVybiBMKHQpJiZHKHMsdCksXyhpKSYmKHMuaW5uZXJUZXh0PWkpLHN9ZnVuY3Rpb24gZWUoZSx0LGkscyl7SCh0KSYmdC5hcHBlbmRDaGlsZChaKGUsaSxzKSl9ZnVuY3Rpb24gdGUoZSl7RChlKXx8aihlKT9BcnJheS5mcm9tKGUpLmZvckVhY2godGUpOkgoZSkmJkgoZS5wYXJlbnROb2RlKSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfWZ1bmN0aW9uIGllKGUpe2lmKCFIKGUpKXJldHVybjtsZXR7bGVuZ3RoOnR9PWUuY2hpbGROb2Rlcztmb3IoO3Q+MDspZS5yZW1vdmVDaGlsZChlLmxhc3RDaGlsZCksdC09MX1mdW5jdGlvbiBzZShlLHQpe3JldHVybiBIKHQpJiZIKHQucGFyZW50Tm9kZSkmJkgoZSk/KHQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZSx0KSxlKTpudWxsfWZ1bmN0aW9uIG5lKGUsdCl7aWYoIV8oZSl8fFcoZSkpcmV0dXJue307Y29uc3QgaT17fSxzPVgoe30sdCk7cmV0dXJuIGUuc3BsaXQoXCIsXCIpLmZvckVhY2goKGU9Pntjb25zdCB0PWUudHJpbSgpLG49dC5yZXBsYWNlKFwiLlwiLFwiXCIpLGE9dC5yZXBsYWNlKC9bW1xcXV0vZyxcIlwiKS5zcGxpdChcIj1cIiksW2xdPWEsbz1hLmxlbmd0aD4xP2FbMV0ucmVwbGFjZSgvW1wiJ10vZyxcIlwiKTpcIlwiO3N3aXRjaCh0LmNoYXJBdCgwKSl7Y2FzZVwiLlwiOl8ocy5jbGFzcyk/aS5jbGFzcz1gJHtzLmNsYXNzfSAke259YDppLmNsYXNzPW47YnJlYWs7Y2FzZVwiI1wiOmkuaWQ9dC5yZXBsYWNlKFwiI1wiLFwiXCIpO2JyZWFrO2Nhc2VcIltcIjppW2xdPW99fSkpLFgocyxpKX1mdW5jdGlvbiBhZShlLHQpe2lmKCFIKGUpKXJldHVybjtsZXQgaT10O08oaSl8fChpPSFlLmhpZGRlbiksZS5oaWRkZW49aX1mdW5jdGlvbiBsZShlLHQsaSl7aWYoRChlKSlyZXR1cm4gQXJyYXkuZnJvbShlKS5tYXAoKGU9PmxlKGUsdCxpKSkpO2lmKEgoZSkpe2xldCBzPVwidG9nZ2xlXCI7cmV0dXJuIHZvaWQgMCE9PWkmJihzPWk/XCJhZGRcIjpcInJlbW92ZVwiKSxlLmNsYXNzTGlzdFtzXSh0KSxlLmNsYXNzTGlzdC5jb250YWlucyh0KX1yZXR1cm4hMX1mdW5jdGlvbiBvZShlLHQpe3JldHVybiBIKGUpJiZlLmNsYXNzTGlzdC5jb250YWlucyh0KX1mdW5jdGlvbiByZShlLHQpe2NvbnN0e3Byb3RvdHlwZTppfT1FbGVtZW50O3JldHVybihpLm1hdGNoZXN8fGkud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxpLm1vek1hdGNoZXNTZWxlY3Rvcnx8aS5tc01hdGNoZXNTZWxlY3Rvcnx8ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHQpKS5pbmNsdWRlcyh0aGlzKX0pLmNhbGwoZSx0KX1mdW5jdGlvbiBjZShlKXtyZXR1cm4gdGhpcy5lbGVtZW50cy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbChlKX1mdW5jdGlvbiBoZShlKXtyZXR1cm4gdGhpcy5lbGVtZW50cy5jb250YWluZXIucXVlcnlTZWxlY3RvcihlKX1mdW5jdGlvbiB1ZShlPW51bGwsdD0hMSl7SChlKSYmKGUuZm9jdXMoe3ByZXZlbnRTY3JvbGw6ITB9KSx0JiZsZShlLHRoaXMuY29uZmlnLmNsYXNzTmFtZXMudGFiRm9jdXMpKX1jb25zdCBkZT17XCJhdWRpby9vZ2dcIjpcInZvcmJpc1wiLFwiYXVkaW8vd2F2XCI6XCIxXCIsXCJ2aWRlby93ZWJtXCI6XCJ2cDgsIHZvcmJpc1wiLFwidmlkZW8vbXA0XCI6XCJhdmMxLjQyRTAxRSwgbXA0YS40MC4yXCIsXCJ2aWRlby9vZ2dcIjpcInRoZW9yYVwifSxtZT17YXVkaW86XCJjYW5QbGF5VHlwZVwiaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpLHZpZGVvOlwiY2FuUGxheVR5cGVcImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSxjaGVjayhlLHQsaSl7Y29uc3Qgcz1ZLmlzSVBob25lJiZpJiZtZS5wbGF5c2lubGluZSxuPW1lW2VdfHxcImh0bWw1XCIhPT10O3JldHVybnthcGk6bix1aTpuJiZtZS5yYW5nZUlucHV0JiYoXCJ2aWRlb1wiIT09ZXx8IVkuaXNJUGhvbmV8fHMpfX0scGlwOiEoWS5pc0lQaG9uZXx8IXEoWihcInZpZGVvXCIpLndlYmtpdFNldFByZXNlbnRhdGlvbk1vZGUpJiYoIWRvY3VtZW50LnBpY3R1cmVJblBpY3R1cmVFbmFibGVkfHxaKFwidmlkZW9cIikuZGlzYWJsZVBpY3R1cmVJblBpY3R1cmUpKSxhaXJwbGF5OnEod2luZG93LldlYktpdFBsYXliYWNrVGFyZ2V0QXZhaWxhYmlsaXR5RXZlbnQpLHBsYXlzaW5saW5lOlwicGxheXNJbmxpbmVcImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSxtaW1lKGUpe2lmKFcoZSkpcmV0dXJuITE7Y29uc3RbdF09ZS5zcGxpdChcIi9cIik7bGV0IGk9ZTtpZighdGhpcy5pc0hUTUw1fHx0IT09dGhpcy50eXBlKXJldHVybiExO09iamVjdC5rZXlzKGRlKS5pbmNsdWRlcyhpKSYmKGkrPWA7IGNvZGVjcz1cIiR7ZGVbZV19XCJgKTt0cnl7cmV0dXJuIEJvb2xlYW4oaSYmdGhpcy5tZWRpYS5jYW5QbGF5VHlwZShpKS5yZXBsYWNlKC9uby8sXCJcIikpfWNhdGNoKGUpe3JldHVybiExfX0sdGV4dFRyYWNrczpcInRleHRUcmFja3NcImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSxyYW5nZUlucHV0OigoKT0+e2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO3JldHVybiBlLnR5cGU9XCJyYW5nZVwiLFwicmFuZ2VcIj09PWUudHlwZX0pKCksdG91Y2g6XCJvbnRvdWNoc3RhcnRcImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx0cmFuc2l0aW9uczohMSE9PXoscmVkdWNlZE1vdGlvbjpcIm1hdGNoTWVkaWFcImluIHdpbmRvdyYmd2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1yZWR1Y2VkLW1vdGlvbilcIikubWF0Y2hlc30scGU9KCgpPT57bGV0IGU9ITE7dHJ5e2NvbnN0IHQ9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwicGFzc2l2ZVwiLHtnZXQ6KCk9PihlPSEwLG51bGwpfSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsbnVsbCx0KSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRlc3RcIixudWxsLHQpfWNhdGNoKGUpe31yZXR1cm4gZX0pKCk7ZnVuY3Rpb24gZ2UoZSx0LGkscz0hMSxuPSEwLGE9ITEpe2lmKCFlfHwhKFwiYWRkRXZlbnRMaXN0ZW5lclwiaW4gZSl8fFcodCl8fCFxKGkpKXJldHVybjtjb25zdCBsPXQuc3BsaXQoXCIgXCIpO2xldCBvPWE7cGUmJihvPXtwYXNzaXZlOm4sY2FwdHVyZTphfSksbC5mb3JFYWNoKCh0PT57dGhpcyYmdGhpcy5ldmVudExpc3RlbmVycyYmcyYmdGhpcy5ldmVudExpc3RlbmVycy5wdXNoKHtlbGVtZW50OmUsdHlwZTp0LGNhbGxiYWNrOmksb3B0aW9uczpvfSksZVtzP1wiYWRkRXZlbnRMaXN0ZW5lclwiOlwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiXSh0LGksbyl9KSl9ZnVuY3Rpb24gZmUoZSx0PVwiXCIsaSxzPSEwLG49ITEpe2dlLmNhbGwodGhpcyxlLHQsaSwhMCxzLG4pfWZ1bmN0aW9uIGJlKGUsdD1cIlwiLGkscz0hMCxuPSExKXtnZS5jYWxsKHRoaXMsZSx0LGksITEscyxuKX1mdW5jdGlvbiB5ZShlLHQ9XCJcIixpLHM9ITAsbj0hMSl7Y29uc3QgYT0oLi4ubCk9PntiZShlLHQsYSxzLG4pLGkuYXBwbHkodGhpcyxsKX07Z2UuY2FsbCh0aGlzLGUsdCxhLCEwLHMsbil9ZnVuY3Rpb24gdmUoZSx0PVwiXCIsaT0hMSxzPXt9KXtpZighSChlKXx8Vyh0KSlyZXR1cm47Y29uc3Qgbj1uZXcgQ3VzdG9tRXZlbnQodCx7YnViYmxlczppLGRldGFpbDp7Li4ucyxwbHlyOnRoaXN9fSk7ZS5kaXNwYXRjaEV2ZW50KG4pfWZ1bmN0aW9uIHdlKCl7dGhpcyYmdGhpcy5ldmVudExpc3RlbmVycyYmKHRoaXMuZXZlbnRMaXN0ZW5lcnMuZm9yRWFjaCgoZT0+e2NvbnN0e2VsZW1lbnQ6dCx0eXBlOmksY2FsbGJhY2s6cyxvcHRpb25zOm59PWU7dC5yZW1vdmVFdmVudExpc3RlbmVyKGkscyxuKX0pKSx0aGlzLmV2ZW50TGlzdGVuZXJzPVtdKX1mdW5jdGlvbiBUZSgpe3JldHVybiBuZXcgUHJvbWlzZSgoZT0+dGhpcy5yZWFkeT9zZXRUaW1lb3V0KGUsMCk6ZmUuY2FsbCh0aGlzLHRoaXMuZWxlbWVudHMuY29udGFpbmVyLFwicmVhZHlcIixlKSkpLnRoZW4oKCgpPT57fSkpfWZ1bmN0aW9uIGtlKGUpe0IoZSkmJmUudGhlbihudWxsLCgoKT0+e30pKX1mdW5jdGlvbiBDZShlKXtyZXR1cm4gaihlKT9lLmZpbHRlcigoKHQsaSk9PmUuaW5kZXhPZih0KT09PWkpKTplfWZ1bmN0aW9uIEFlKGUsdCl7cmV0dXJuIGooZSkmJmUubGVuZ3RoP2UucmVkdWNlKCgoZSxpKT0+TWF0aC5hYnMoaS10KTxNYXRoLmFicyhlLXQpP2k6ZSkpOm51bGx9Y29uc3QgU2U9W1sxLDFdLFs0LDNdLFszLDRdLFs1LDRdLFs0LDVdLFszLDJdLFsyLDNdLFsxNiwxMF0sWzEwLDE2XSxbMTYsOV0sWzksMTZdLFsyMSw5XSxbOSwyMV0sWzMyLDldLFs5LDMyXV0ucmVkdWNlKCgoZSxbdCxpXSk9Pih7Li4uZSxbdC9pXTpbdCxpXX0pKSx7fSk7ZnVuY3Rpb24gRWUoZSl7aWYoIShqKGUpfHxfKGUpJiZlLmluY2x1ZGVzKFwiOlwiKSkpcmV0dXJuITE7cmV0dXJuKGooZSk/ZTplLnNwbGl0KFwiOlwiKSkubWFwKE51bWJlcikuZXZlcnkoJCl9ZnVuY3Rpb24gUGUoZSl7aWYoIWooZSl8fCFlLmV2ZXJ5KCQpKXJldHVybiBudWxsO2NvbnN0W3QsaV09ZSxzPShlLHQpPT4wPT09dD9lOnModCxlJXQpLG49cyh0LGkpO3JldHVyblt0L24saS9uXX1mdW5jdGlvbiBOZShlKXtjb25zdCB0PWU9PkVlKGUpP2Uuc3BsaXQoXCI6XCIpLm1hcChOdW1iZXIpOm51bGw7bGV0IGk9dChlKTtpZihudWxsPT09aSYmKGk9dCh0aGlzLmNvbmZpZy5yYXRpbykpLG51bGw9PT1pJiYhVyh0aGlzLmVtYmVkKSYmaih0aGlzLmVtYmVkLnJhdGlvKSYmKHtyYXRpbzppfT10aGlzLmVtYmVkKSxudWxsPT09aSYmdGhpcy5pc0hUTUw1KXtjb25zdHt2aWRlb1dpZHRoOmUsdmlkZW9IZWlnaHQ6dH09dGhpcy5tZWRpYTtpPVBlKFtlLHRdKX1yZXR1cm4gaX1mdW5jdGlvbiBNZShlKXtpZighdGhpcy5pc1ZpZGVvKXJldHVybnt9O2NvbnN0e3dyYXBwZXI6dH09dGhpcy5lbGVtZW50cyxpPU5lLmNhbGwodGhpcyxlKTtpZighaihpKSlyZXR1cm57fTtjb25zdFtzLG5dPWksYT0xMDAvcypuO2lmKCEhd2luZG93LkNTUyYmd2luZG93LkNTUy5zdXBwb3J0cyhgYXNwZWN0LXJhdGlvOiAke3N9LyR7bn1gKT90LnN0eWxlLmFzcGVjdFJhdGlvPWAke3N9LyR7bn1gOnQuc3R5bGUucGFkZGluZ0JvdHRvbT1gJHthfSVgLHRoaXMuaXNWaW1lbyYmIXRoaXMuY29uZmlnLnZpbWVvLnByZW1pdW0mJnRoaXMuc3VwcG9ydGVkLnVpKXtjb25zdCBlPTEwMC90aGlzLm1lZGlhLm9mZnNldFdpZHRoKnBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMubWVkaWEpLnBhZGRpbmdCb3R0b20sMTApLGk9KGUtYSkvKGUvNTApO3RoaXMuZnVsbHNjcmVlbi5hY3RpdmU/dC5zdHlsZS5wYWRkaW5nQm90dG9tPW51bGw6dGhpcy5tZWRpYS5zdHlsZS50cmFuc2Zvcm09YHRyYW5zbGF0ZVkoLSR7aX0lKWB9ZWxzZSB0aGlzLmlzSFRNTDUmJnQuY2xhc3NMaXN0LnRvZ2dsZSh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLnZpZGVvRml4ZWRSYXRpbyxudWxsIT09aSk7cmV0dXJue3BhZGRpbmc6YSxyYXRpbzppfX1mdW5jdGlvbiB4ZShlLHQsaT0uMDUpe2NvbnN0IHM9ZS90LG49QWUoT2JqZWN0LmtleXMoU2UpLHMpO3JldHVybiBNYXRoLmFicyhuLXMpPD1pP1NlW25dOltlLHRdfWNvbnN0IEllPXtnZXRTb3VyY2VzKCl7aWYoIXRoaXMuaXNIVE1MNSlyZXR1cm5bXTtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLm1lZGlhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzb3VyY2VcIikpLmZpbHRlcigoZT0+e2NvbnN0IHQ9ZS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpO3JldHVybiEhVyh0KXx8bWUubWltZS5jYWxsKHRoaXMsdCl9KSl9LGdldFF1YWxpdHlPcHRpb25zKCl7cmV0dXJuIHRoaXMuY29uZmlnLnF1YWxpdHkuZm9yY2VkP3RoaXMuY29uZmlnLnF1YWxpdHkub3B0aW9uczpJZS5nZXRTb3VyY2VzLmNhbGwodGhpcykubWFwKChlPT5OdW1iZXIoZS5nZXRBdHRyaWJ1dGUoXCJzaXplXCIpKSkpLmZpbHRlcihCb29sZWFuKX0sc2V0dXAoKXtpZighdGhpcy5pc0hUTUw1KXJldHVybjtjb25zdCBlPXRoaXM7ZS5vcHRpb25zLnNwZWVkPWUuY29uZmlnLnNwZWVkLm9wdGlvbnMsVyh0aGlzLmNvbmZpZy5yYXRpbyl8fE1lLmNhbGwoZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUubWVkaWEsXCJxdWFsaXR5XCIse2dldCgpe2NvbnN0IHQ9SWUuZ2V0U291cmNlcy5jYWxsKGUpLmZpbmQoKHQ9PnQuZ2V0QXR0cmlidXRlKFwic3JjXCIpPT09ZS5zb3VyY2UpKTtyZXR1cm4gdCYmTnVtYmVyKHQuZ2V0QXR0cmlidXRlKFwic2l6ZVwiKSl9LHNldCh0KXtpZihlLnF1YWxpdHkhPT10KXtpZihlLmNvbmZpZy5xdWFsaXR5LmZvcmNlZCYmcShlLmNvbmZpZy5xdWFsaXR5Lm9uQ2hhbmdlKSllLmNvbmZpZy5xdWFsaXR5Lm9uQ2hhbmdlKHQpO2Vsc2V7Y29uc3QgaT1JZS5nZXRTb3VyY2VzLmNhbGwoZSkuZmluZCgoZT0+TnVtYmVyKGUuZ2V0QXR0cmlidXRlKFwic2l6ZVwiKSk9PT10KSk7aWYoIWkpcmV0dXJuO2NvbnN0e2N1cnJlbnRUaW1lOnMscGF1c2VkOm4scHJlbG9hZDphLHJlYWR5U3RhdGU6bCxwbGF5YmFja1JhdGU6b309ZS5tZWRpYTtlLm1lZGlhLnNyYz1pLmdldEF0dHJpYnV0ZShcInNyY1wiKSwoXCJub25lXCIhPT1hfHxsKSYmKGUub25jZShcImxvYWRlZG1ldGFkYXRhXCIsKCgpPT57ZS5zcGVlZD1vLGUuY3VycmVudFRpbWU9cyxufHxrZShlLnBsYXkoKSl9KSksZS5tZWRpYS5sb2FkKCkpfXZlLmNhbGwoZSxlLm1lZGlhLFwicXVhbGl0eWNoYW5nZVwiLCExLHtxdWFsaXR5OnR9KX19fSl9LGNhbmNlbFJlcXVlc3RzKCl7dGhpcy5pc0hUTUw1JiYodGUoSWUuZ2V0U291cmNlcy5jYWxsKHRoaXMpKSx0aGlzLm1lZGlhLnNldEF0dHJpYnV0ZShcInNyY1wiLHRoaXMuY29uZmlnLmJsYW5rVmlkZW8pLHRoaXMubWVkaWEubG9hZCgpLHRoaXMuZGVidWcubG9nKFwiQ2FuY2VsbGVkIG5ldHdvcmsgcmVxdWVzdHNcIikpfX07ZnVuY3Rpb24gTGUoZSwuLi50KXtyZXR1cm4gVyhlKT9lOmUudG9TdHJpbmcoKS5yZXBsYWNlKC97KFxcZCspfS9nLCgoZSxpKT0+dFtpXS50b1N0cmluZygpKSl9Y29uc3QgJGU9KGU9XCJcIix0PVwiXCIsaT1cIlwiKT0+ZS5yZXBsYWNlKG5ldyBSZWdFeHAodC50b1N0cmluZygpLnJlcGxhY2UoLyhbLiorP149IToke30oKXxbXFxdL1xcXFxdKS9nLFwiXFxcXCQxXCIpLFwiZ1wiKSxpLnRvU3RyaW5nKCkpLF9lPShlPVwiXCIpPT5lLnRvU3RyaW5nKCkucmVwbGFjZSgvXFx3XFxTKi9nLChlPT5lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Uuc3Vic3RyKDEpLnRvTG93ZXJDYXNlKCkpKTtmdW5jdGlvbiBPZShlPVwiXCIpe2xldCB0PWUudG9TdHJpbmcoKTtyZXR1cm4gdD1mdW5jdGlvbihlPVwiXCIpe2xldCB0PWUudG9TdHJpbmcoKTtyZXR1cm4gdD0kZSh0LFwiLVwiLFwiIFwiKSx0PSRlKHQsXCJfXCIsXCIgXCIpLHQ9X2UodCksJGUodCxcIiBcIixcIlwiKX0odCksdC5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSt0LnNsaWNlKDEpfWZ1bmN0aW9uIHFlKGUpe2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gdC5hcHBlbmRDaGlsZChlKSx0LmlubmVySFRNTH1jb25zdCBqZT17cGlwOlwiUElQXCIsYWlycGxheTpcIkFpclBsYXlcIixodG1sNTpcIkhUTUw1XCIsdmltZW86XCJWaW1lb1wiLHlvdXR1YmU6XCJZb3VUdWJlXCJ9LERlPXtnZXQoZT1cIlwiLHQ9e30pe2lmKFcoZSl8fFcodCkpcmV0dXJuXCJcIjtsZXQgaT1RKHQuaTE4bixlKTtpZihXKGkpKXJldHVybiBPYmplY3Qua2V5cyhqZSkuaW5jbHVkZXMoZSk/amVbZV06XCJcIjtjb25zdCBzPXtcIntzZWVrdGltZX1cIjp0LnNlZWtUaW1lLFwie3RpdGxlfVwiOnQudGl0bGV9O3JldHVybiBPYmplY3QuZW50cmllcyhzKS5mb3JFYWNoKCgoW2UsdF0pPT57aT0kZShpLGUsdCl9KSksaX19O2NsYXNzIEhle2NvbnN0cnVjdG9yKHQpe2UodGhpcyxcImdldFwiLChlPT57aWYoIUhlLnN1cHBvcnRlZHx8IXRoaXMuZW5hYmxlZClyZXR1cm4gbnVsbDtjb25zdCB0PXdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmtleSk7aWYoVyh0KSlyZXR1cm4gbnVsbDtjb25zdCBpPUpTT04ucGFyc2UodCk7cmV0dXJuIF8oZSkmJmUubGVuZ3RoP2lbZV06aX0pKSxlKHRoaXMsXCJzZXRcIiwoZT0+e2lmKCFIZS5zdXBwb3J0ZWR8fCF0aGlzLmVuYWJsZWQpcmV0dXJuO2lmKCFMKGUpKXJldHVybjtsZXQgdD10aGlzLmdldCgpO1codCkmJih0PXt9KSxYKHQsZSksd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMua2V5LEpTT04uc3RyaW5naWZ5KHQpKX0pKSx0aGlzLmVuYWJsZWQ9dC5jb25maWcuc3RvcmFnZS5lbmFibGVkLHRoaXMua2V5PXQuY29uZmlnLnN0b3JhZ2Uua2V5fXN0YXRpYyBnZXQgc3VwcG9ydGVkKCl7dHJ5e2lmKCEoXCJsb2NhbFN0b3JhZ2VcImluIHdpbmRvdykpcmV0dXJuITE7Y29uc3QgZT1cIl9fX3Rlc3RcIjtyZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGUsZSksd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGUpLCEwfWNhdGNoKGUpe3JldHVybiExfX19ZnVuY3Rpb24gRmUoZSx0PVwidGV4dFwiKXtyZXR1cm4gbmV3IFByb21pc2UoKChpLHMpPT57dHJ5e2NvbnN0IHM9bmV3IFhNTEh0dHBSZXF1ZXN0O2lmKCEoXCJ3aXRoQ3JlZGVudGlhbHNcImluIHMpKXJldHVybjtzLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsKCgpPT57aWYoXCJ0ZXh0XCI9PT10KXRyeXtpKEpTT04ucGFyc2Uocy5yZXNwb25zZVRleHQpKX1jYXRjaChlKXtpKHMucmVzcG9uc2VUZXh0KX1lbHNlIGkocy5yZXNwb25zZSl9KSkscy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwoKCk9Pnt0aHJvdyBuZXcgRXJyb3Iocy5zdGF0dXMpfSkpLHMub3BlbihcIkdFVFwiLGUsITApLHMucmVzcG9uc2VUeXBlPXQscy5zZW5kKCl9Y2F0Y2goZSl7cyhlKX19KSl9ZnVuY3Rpb24gUmUoZSx0KXtpZighXyhlKSlyZXR1cm47Y29uc3QgaT1fKHQpO2xldCBzPSExO2NvbnN0IG49KCk9Pm51bGwhPT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0KSxhPShlLHQpPT57ZS5pbm5lckhUTUw9dCxpJiZuKCl8fGRvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYWZ0ZXJiZWdpblwiLGUpfTtpZighaXx8IW4oKSl7Y29uc3Qgbj1IZS5zdXBwb3J0ZWQsbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2lmKGwuc2V0QXR0cmlidXRlKFwiaGlkZGVuXCIsXCJcIiksaSYmbC5zZXRBdHRyaWJ1dGUoXCJpZFwiLHQpLG4pe2NvbnN0IGU9d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGBjYWNoZS0ke3R9YCk7aWYocz1udWxsIT09ZSxzKXtjb25zdCB0PUpTT04ucGFyc2UoZSk7YShsLHQuY29udGVudCl9fUZlKGUpLnRoZW4oKGU9PntXKGUpfHwobiYmd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGBjYWNoZS0ke3R9YCxKU09OLnN0cmluZ2lmeSh7Y29udGVudDplfSkpLGEobCxlKSl9KSkuY2F0Y2goKCgpPT57fSkpfX1jb25zdCBWZT1lPT5NYXRoLnRydW5jKGUvNjAvNjAlNjAsMTApO2Z1bmN0aW9uIEJlKGU9MCx0PSExLGk9ITEpe2lmKCEkKGUpKXJldHVybiBCZSh2b2lkIDAsdCxpKTtjb25zdCBzPWU9PmAwJHtlfWAuc2xpY2UoLTIpO2xldCBuPVZlKGUpO2NvbnN0IGE9KGw9ZSxNYXRoLnRydW5jKGwvNjAlNjAsMTApKTt2YXIgbDtjb25zdCBvPShlPT5NYXRoLnRydW5jKGUlNjAsMTApKShlKTtyZXR1cm4gbj10fHxuPjA/YCR7bn06YDpcIlwiLGAke2kmJmU+MD9cIi1cIjpcIlwifSR7bn0ke3MoYSl9OiR7cyhvKX1gfWNvbnN0IFVlPXtnZXRJY29uVXJsKCl7Y29uc3QgZT1uZXcgVVJMKHRoaXMuY29uZmlnLmljb25Vcmwsd2luZG93LmxvY2F0aW9uKS5ob3N0IT09d2luZG93LmxvY2F0aW9uLmhvc3R8fFkuaXNJRSYmIXdpbmRvdy5zdmc0ZXZlcnlib2R5O3JldHVybnt1cmw6dGhpcy5jb25maWcuaWNvblVybCxjb3JzOmV9fSxmaW5kRWxlbWVudHMoKXt0cnl7cmV0dXJuIHRoaXMuZWxlbWVudHMuY29udHJvbHM9aGUuY2FsbCh0aGlzLHRoaXMuY29uZmlnLnNlbGVjdG9ycy5jb250cm9scy53cmFwcGVyKSx0aGlzLmVsZW1lbnRzLmJ1dHRvbnM9e3BsYXk6Y2UuY2FsbCh0aGlzLHRoaXMuY29uZmlnLnNlbGVjdG9ycy5idXR0b25zLnBsYXkpLHBhdXNlOmhlLmNhbGwodGhpcyx0aGlzLmNvbmZpZy5zZWxlY3RvcnMuYnV0dG9ucy5wYXVzZSkscmVzdGFydDpoZS5jYWxsKHRoaXMsdGhpcy5jb25maWcuc2VsZWN0b3JzLmJ1dHRvbnMucmVzdGFydCkscmV3aW5kOmhlLmNhbGwodGhpcyx0aGlzLmNvbmZpZy5zZWxlY3RvcnMuYnV0dG9ucy5yZXdpbmQpLGZhc3RGb3J3YXJkOmhlLmNhbGwodGhpcyx0aGlzLmNvbmZpZy5zZWxlY3RvcnMuYnV0dG9ucy5mYXN0Rm9yd2FyZCksbXV0ZTpoZS5jYWxsKHRoaXMsdGhpcy5jb25maWcuc2VsZWN0b3JzLmJ1dHRvbnMubXV0ZSkscGlwOmhlLmNhbGwodGhpcyx0aGlzLmNvbmZpZy5zZWxlY3RvcnMuYnV0dG9ucy5waXApLGFpcnBsYXk6aGUuY2FsbCh0aGlzLHRoaXMuY29uZmlnLnNlbGVjdG9ycy5idXR0b25zLmFpcnBsYXkpLHNldHRpbmdzOmhlLmNhbGwodGhpcyx0aGlzLmNvbmZpZy5zZWxlY3RvcnMuYnV0dG9ucy5zZXR0aW5ncyksY2FwdGlvbnM6aGUuY2FsbCh0aGlzLHRoaXMuY29uZmlnLnNlbGVjdG9ycy5idXR0b25zLmNhcHRpb25zKSxmdWxsc2NyZWVuOmhlLmNhbGwodGhpcyx0aGlzLmNvbmZpZy5zZWxlY3RvcnMuYnV0dG9ucy5mdWxsc2NyZWVuKX0sdGhpcy5lbGVtZW50cy5wcm9ncmVzcz1oZS5jYWxsKHRoaXMsdGhpcy5jb25maWcuc2VsZWN0b3JzLnByb2dyZXNzKSx0aGlzLmVsZW1lbnRzLmlucHV0cz17c2VlazpoZS5jYWxsKHRoaXMsdGhpcy5jb25maWcuc2VsZWN0b3JzLmlucHV0cy5zZWVrKSx2b2x1bWU6aGUuY2FsbCh0aGlzLHRoaXMuY29uZmlnLnNlbGVjdG9ycy5pbnB1dHMudm9sdW1lKX0sdGhpcy5lbGVtZW50cy5kaXNwbGF5PXtidWZmZXI6aGUuY2FsbCh0aGlzLHRoaXMuY29uZmlnLnNlbGVjdG9ycy5kaXNwbGF5LmJ1ZmZlciksY3VycmVudFRpbWU6aGUuY2FsbCh0aGlzLHRoaXMuY29uZmlnLnNlbGVjdG9ycy5kaXNwbGF5LmN1cnJlbnRUaW1lKSxkdXJhdGlvbjpoZS5jYWxsKHRoaXMsdGhpcy5jb25maWcuc2VsZWN0b3JzLmRpc3BsYXkuZHVyYXRpb24pfSxIKHRoaXMuZWxlbWVudHMucHJvZ3Jlc3MpJiYodGhpcy5lbGVtZW50cy5kaXNwbGF5LnNlZWtUb29sdGlwPXRoaXMuZWxlbWVudHMucHJvZ3Jlc3MucXVlcnlTZWxlY3RvcihgLiR7dGhpcy5jb25maWcuY2xhc3NOYW1lcy50b29sdGlwfWApKSwhMH1jYXRjaChlKXtyZXR1cm4gdGhpcy5kZWJ1Zy53YXJuKFwiSXQgbG9va3MgbGlrZSB0aGVyZSBpcyBhIHByb2JsZW0gd2l0aCB5b3VyIGN1c3RvbSBjb250cm9scyBIVE1MXCIsZSksdGhpcy50b2dnbGVOYXRpdmVDb250cm9scyghMCksITF9fSxjcmVhdGVJY29uKGUsdCl7Y29uc3QgaT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIscz1VZS5nZXRJY29uVXJsLmNhbGwodGhpcyksbj1gJHtzLmNvcnM/XCJcIjpzLnVybH0jJHt0aGlzLmNvbmZpZy5pY29uUHJlZml4fWAsYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoaSxcInN2Z1wiKTtHKGEsWCh0LHtcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCIsZm9jdXNhYmxlOlwiZmFsc2VcIn0pKTtjb25zdCBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhpLFwidXNlXCIpLG89YCR7bn0tJHtlfWA7cmV0dXJuXCJocmVmXCJpbiBsJiZsLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLFwiaHJlZlwiLG8pLGwuc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsXCJ4bGluazpocmVmXCIsbyksYS5hcHBlbmRDaGlsZChsKSxhfSxjcmVhdGVMYWJlbChlLHQ9e30pe2NvbnN0IGk9RGUuZ2V0KGUsdGhpcy5jb25maWcpO3JldHVybiBaKFwic3BhblwiLHsuLi50LGNsYXNzOlt0LmNsYXNzLHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuaGlkZGVuXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIil9LGkpfSxjcmVhdGVCYWRnZShlKXtpZihXKGUpKXJldHVybiBudWxsO2NvbnN0IHQ9WihcInNwYW5cIix7Y2xhc3M6dGhpcy5jb25maWcuY2xhc3NOYW1lcy5tZW51LnZhbHVlfSk7cmV0dXJuIHQuYXBwZW5kQ2hpbGQoWihcInNwYW5cIix7Y2xhc3M6dGhpcy5jb25maWcuY2xhc3NOYW1lcy5tZW51LmJhZGdlfSxlKSksdH0sY3JlYXRlQnV0dG9uKGUsdCl7Y29uc3QgaT1YKHt9LHQpO2xldCBzPU9lKGUpO2NvbnN0IG49e2VsZW1lbnQ6XCJidXR0b25cIix0b2dnbGU6ITEsbGFiZWw6bnVsbCxpY29uOm51bGwsbGFiZWxQcmVzc2VkOm51bGwsaWNvblByZXNzZWQ6bnVsbH07c3dpdGNoKFtcImVsZW1lbnRcIixcImljb25cIixcImxhYmVsXCJdLmZvckVhY2goKGU9PntPYmplY3Qua2V5cyhpKS5pbmNsdWRlcyhlKSYmKG5bZV09aVtlXSxkZWxldGUgaVtlXSl9KSksXCJidXR0b25cIiE9PW4uZWxlbWVudHx8T2JqZWN0LmtleXMoaSkuaW5jbHVkZXMoXCJ0eXBlXCIpfHwoaS50eXBlPVwiYnV0dG9uXCIpLE9iamVjdC5rZXlzKGkpLmluY2x1ZGVzKFwiY2xhc3NcIik/aS5jbGFzcy5zcGxpdChcIiBcIikuc29tZSgoZT0+ZT09PXRoaXMuY29uZmlnLmNsYXNzTmFtZXMuY29udHJvbCkpfHxYKGkse2NsYXNzOmAke2kuY2xhc3N9ICR7dGhpcy5jb25maWcuY2xhc3NOYW1lcy5jb250cm9sfWB9KTppLmNsYXNzPXRoaXMuY29uZmlnLmNsYXNzTmFtZXMuY29udHJvbCxlKXtjYXNlXCJwbGF5XCI6bi50b2dnbGU9ITAsbi5sYWJlbD1cInBsYXlcIixuLmxhYmVsUHJlc3NlZD1cInBhdXNlXCIsbi5pY29uPVwicGxheVwiLG4uaWNvblByZXNzZWQ9XCJwYXVzZVwiO2JyZWFrO2Nhc2VcIm11dGVcIjpuLnRvZ2dsZT0hMCxuLmxhYmVsPVwibXV0ZVwiLG4ubGFiZWxQcmVzc2VkPVwidW5tdXRlXCIsbi5pY29uPVwidm9sdW1lXCIsbi5pY29uUHJlc3NlZD1cIm11dGVkXCI7YnJlYWs7Y2FzZVwiY2FwdGlvbnNcIjpuLnRvZ2dsZT0hMCxuLmxhYmVsPVwiZW5hYmxlQ2FwdGlvbnNcIixuLmxhYmVsUHJlc3NlZD1cImRpc2FibGVDYXB0aW9uc1wiLG4uaWNvbj1cImNhcHRpb25zLW9mZlwiLG4uaWNvblByZXNzZWQ9XCJjYXB0aW9ucy1vblwiO2JyZWFrO2Nhc2VcImZ1bGxzY3JlZW5cIjpuLnRvZ2dsZT0hMCxuLmxhYmVsPVwiZW50ZXJGdWxsc2NyZWVuXCIsbi5sYWJlbFByZXNzZWQ9XCJleGl0RnVsbHNjcmVlblwiLG4uaWNvbj1cImVudGVyLWZ1bGxzY3JlZW5cIixuLmljb25QcmVzc2VkPVwiZXhpdC1mdWxsc2NyZWVuXCI7YnJlYWs7Y2FzZVwicGxheS1sYXJnZVwiOmkuY2xhc3MrPWAgJHt0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmNvbnRyb2x9LS1vdmVybGFpZGAscz1cInBsYXlcIixuLmxhYmVsPVwicGxheVwiLG4uaWNvbj1cInBsYXlcIjticmVhaztkZWZhdWx0Olcobi5sYWJlbCkmJihuLmxhYmVsPXMpLFcobi5pY29uKSYmKG4uaWNvbj1lKX1jb25zdCBhPVoobi5lbGVtZW50KTtyZXR1cm4gbi50b2dnbGU/KGEuYXBwZW5kQ2hpbGQoVWUuY3JlYXRlSWNvbi5jYWxsKHRoaXMsbi5pY29uUHJlc3NlZCx7Y2xhc3M6XCJpY29uLS1wcmVzc2VkXCJ9KSksYS5hcHBlbmRDaGlsZChVZS5jcmVhdGVJY29uLmNhbGwodGhpcyxuLmljb24se2NsYXNzOlwiaWNvbi0tbm90LXByZXNzZWRcIn0pKSxhLmFwcGVuZENoaWxkKFVlLmNyZWF0ZUxhYmVsLmNhbGwodGhpcyxuLmxhYmVsUHJlc3NlZCx7Y2xhc3M6XCJsYWJlbC0tcHJlc3NlZFwifSkpLGEuYXBwZW5kQ2hpbGQoVWUuY3JlYXRlTGFiZWwuY2FsbCh0aGlzLG4ubGFiZWwse2NsYXNzOlwibGFiZWwtLW5vdC1wcmVzc2VkXCJ9KSkpOihhLmFwcGVuZENoaWxkKFVlLmNyZWF0ZUljb24uY2FsbCh0aGlzLG4uaWNvbikpLGEuYXBwZW5kQ2hpbGQoVWUuY3JlYXRlTGFiZWwuY2FsbCh0aGlzLG4ubGFiZWwpKSksWChpLG5lKHRoaXMuY29uZmlnLnNlbGVjdG9ycy5idXR0b25zW3NdLGkpKSxHKGEsaSksXCJwbGF5XCI9PT1zPyhqKHRoaXMuZWxlbWVudHMuYnV0dG9uc1tzXSl8fCh0aGlzLmVsZW1lbnRzLmJ1dHRvbnNbc109W10pLHRoaXMuZWxlbWVudHMuYnV0dG9uc1tzXS5wdXNoKGEpKTp0aGlzLmVsZW1lbnRzLmJ1dHRvbnNbc109YSxhfSxjcmVhdGVSYW5nZShlLHQpe2NvbnN0IGk9WihcImlucHV0XCIsWChuZSh0aGlzLmNvbmZpZy5zZWxlY3RvcnMuaW5wdXRzW2VdKSx7dHlwZTpcInJhbmdlXCIsbWluOjAsbWF4OjEwMCxzdGVwOi4wMSx2YWx1ZTowLGF1dG9jb21wbGV0ZTpcIm9mZlwiLHJvbGU6XCJzbGlkZXJcIixcImFyaWEtbGFiZWxcIjpEZS5nZXQoZSx0aGlzLmNvbmZpZyksXCJhcmlhLXZhbHVlbWluXCI6MCxcImFyaWEtdmFsdWVtYXhcIjoxMDAsXCJhcmlhLXZhbHVlbm93XCI6MH0sdCkpO3JldHVybiB0aGlzLmVsZW1lbnRzLmlucHV0c1tlXT1pLFVlLnVwZGF0ZVJhbmdlRmlsbC5jYWxsKHRoaXMsaSksVC5zZXR1cChpKSxpfSxjcmVhdGVQcm9ncmVzcyhlLHQpe2NvbnN0IGk9WihcInByb2dyZXNzXCIsWChuZSh0aGlzLmNvbmZpZy5zZWxlY3RvcnMuZGlzcGxheVtlXSkse21pbjowLG1heDoxMDAsdmFsdWU6MCxyb2xlOlwicHJvZ3Jlc3NiYXJcIixcImFyaWEtaGlkZGVuXCI6ITB9LHQpKTtpZihcInZvbHVtZVwiIT09ZSl7aS5hcHBlbmRDaGlsZChaKFwic3BhblwiLG51bGwsXCIwXCIpKTtjb25zdCB0PXtwbGF5ZWQ6XCJwbGF5ZWRcIixidWZmZXI6XCJidWZmZXJlZFwifVtlXSxzPXQ/RGUuZ2V0KHQsdGhpcy5jb25maWcpOlwiXCI7aS5pbm5lclRleHQ9YCUgJHtzLnRvTG93ZXJDYXNlKCl9YH1yZXR1cm4gdGhpcy5lbGVtZW50cy5kaXNwbGF5W2VdPWksaX0sY3JlYXRlVGltZShlLHQpe2NvbnN0IGk9bmUodGhpcy5jb25maWcuc2VsZWN0b3JzLmRpc3BsYXlbZV0sdCkscz1aKFwiZGl2XCIsWChpLHtjbGFzczpgJHtpLmNsYXNzP2kuY2xhc3M6XCJcIn0gJHt0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmRpc3BsYXkudGltZX0gYC50cmltKCksXCJhcmlhLWxhYmVsXCI6RGUuZ2V0KGUsdGhpcy5jb25maWcpfSksXCIwMDowMFwiKTtyZXR1cm4gdGhpcy5lbGVtZW50cy5kaXNwbGF5W2VdPXMsc30sYmluZE1lbnVJdGVtU2hvcnRjdXRzKGUsdCl7ZmUuY2FsbCh0aGlzLGUsXCJrZXlkb3duIGtleXVwXCIsKGk9PntpZighWzMyLDM4LDM5LDQwXS5pbmNsdWRlcyhpLndoaWNoKSlyZXR1cm47aWYoaS5wcmV2ZW50RGVmYXVsdCgpLGkuc3RvcFByb3BhZ2F0aW9uKCksXCJrZXlkb3duXCI9PT1pLnR5cGUpcmV0dXJuO2NvbnN0IHM9cmUoZSwnW3JvbGU9XCJtZW51aXRlbXJhZGlvXCJdJyk7aWYoIXMmJlszMiwzOV0uaW5jbHVkZXMoaS53aGljaCkpVWUuc2hvd01lbnVQYW5lbC5jYWxsKHRoaXMsdCwhMCk7ZWxzZXtsZXQgdDszMiE9PWkud2hpY2gmJig0MD09PWkud2hpY2h8fHMmJjM5PT09aS53aGljaD8odD1lLm5leHRFbGVtZW50U2libGluZyxIKHQpfHwodD1lLnBhcmVudE5vZGUuZmlyc3RFbGVtZW50Q2hpbGQpKToodD1lLnByZXZpb3VzRWxlbWVudFNpYmxpbmcsSCh0KXx8KHQ9ZS5wYXJlbnROb2RlLmxhc3RFbGVtZW50Q2hpbGQpKSx1ZS5jYWxsKHRoaXMsdCwhMCkpfX0pLCExKSxmZS5jYWxsKHRoaXMsZSxcImtleXVwXCIsKGU9PnsxMz09PWUud2hpY2gmJlVlLmZvY3VzRmlyc3RNZW51SXRlbS5jYWxsKHRoaXMsbnVsbCwhMCl9KSl9LGNyZWF0ZU1lbnVJdGVtKHt2YWx1ZTplLGxpc3Q6dCx0eXBlOmksdGl0bGU6cyxiYWRnZTpuPW51bGwsY2hlY2tlZDphPSExfSl7Y29uc3QgbD1uZSh0aGlzLmNvbmZpZy5zZWxlY3RvcnMuaW5wdXRzW2ldKSxvPVooXCJidXR0b25cIixYKGwse3R5cGU6XCJidXR0b25cIixyb2xlOlwibWVudWl0ZW1yYWRpb1wiLGNsYXNzOmAke3RoaXMuY29uZmlnLmNsYXNzTmFtZXMuY29udHJvbH0gJHtsLmNsYXNzP2wuY2xhc3M6XCJcIn1gLnRyaW0oKSxcImFyaWEtY2hlY2tlZFwiOmEsdmFsdWU6ZX0pKSxyPVooXCJzcGFuXCIpO3IuaW5uZXJIVE1MPXMsSChuKSYmci5hcHBlbmRDaGlsZChuKSxvLmFwcGVuZENoaWxkKHIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwiY2hlY2tlZFwiLHtlbnVtZXJhYmxlOiEwLGdldDooKT0+XCJ0cnVlXCI9PT1vLmdldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiKSxzZXQoZSl7ZSYmQXJyYXkuZnJvbShvLnBhcmVudE5vZGUuY2hpbGRyZW4pLmZpbHRlcigoZT0+cmUoZSwnW3JvbGU9XCJtZW51aXRlbXJhZGlvXCJdJykpKS5mb3JFYWNoKChlPT5lLnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLFwiZmFsc2VcIikpKSxvLnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLGU/XCJ0cnVlXCI6XCJmYWxzZVwiKX19KSx0aGlzLmxpc3RlbmVycy5iaW5kKG8sXCJjbGljayBrZXl1cFwiLCh0PT57aWYoIVIodCl8fDMyPT09dC53aGljaCl7c3dpdGNoKHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLG8uY2hlY2tlZD0hMCxpKXtjYXNlXCJsYW5ndWFnZVwiOnRoaXMuY3VycmVudFRyYWNrPU51bWJlcihlKTticmVhaztjYXNlXCJxdWFsaXR5XCI6dGhpcy5xdWFsaXR5PWU7YnJlYWs7Y2FzZVwic3BlZWRcIjp0aGlzLnNwZWVkPXBhcnNlRmxvYXQoZSl9VWUuc2hvd01lbnVQYW5lbC5jYWxsKHRoaXMsXCJob21lXCIsUih0KSl9fSksaSwhMSksVWUuYmluZE1lbnVJdGVtU2hvcnRjdXRzLmNhbGwodGhpcyxvLGkpLHQuYXBwZW5kQ2hpbGQobyl9LGZvcm1hdFRpbWUoZT0wLHQ9ITEpe2lmKCEkKGUpKXJldHVybiBlO3JldHVybiBCZShlLFZlKHRoaXMuZHVyYXRpb24pPjAsdCl9LHVwZGF0ZVRpbWVEaXNwbGF5KGU9bnVsbCx0PTAsaT0hMSl7SChlKSYmJCh0KSYmKGUuaW5uZXJUZXh0PVVlLmZvcm1hdFRpbWUodCxpKSl9LHVwZGF0ZVZvbHVtZSgpe3RoaXMuc3VwcG9ydGVkLnVpJiYoSCh0aGlzLmVsZW1lbnRzLmlucHV0cy52b2x1bWUpJiZVZS5zZXRSYW5nZS5jYWxsKHRoaXMsdGhpcy5lbGVtZW50cy5pbnB1dHMudm9sdW1lLHRoaXMubXV0ZWQ/MDp0aGlzLnZvbHVtZSksSCh0aGlzLmVsZW1lbnRzLmJ1dHRvbnMubXV0ZSkmJih0aGlzLmVsZW1lbnRzLmJ1dHRvbnMubXV0ZS5wcmVzc2VkPXRoaXMubXV0ZWR8fDA9PT10aGlzLnZvbHVtZSkpfSxzZXRSYW5nZShlLHQ9MCl7SChlKSYmKGUudmFsdWU9dCxVZS51cGRhdGVSYW5nZUZpbGwuY2FsbCh0aGlzLGUpKX0sdXBkYXRlUHJvZ3Jlc3MoZSl7aWYoIXRoaXMuc3VwcG9ydGVkLnVpfHwhRihlKSlyZXR1cm47bGV0IHQ9MDtjb25zdCBpPShlLHQpPT57Y29uc3QgaT0kKHQpP3Q6MCxzPUgoZSk/ZTp0aGlzLmVsZW1lbnRzLmRpc3BsYXkuYnVmZmVyO2lmKEgocykpe3MudmFsdWU9aTtjb25zdCBlPXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzcGFuXCIpWzBdO0goZSkmJihlLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlPWkpfX07aWYoZSlzd2l0Y2goZS50eXBlKXtjYXNlXCJ0aW1ldXBkYXRlXCI6Y2FzZVwic2Vla2luZ1wiOmNhc2VcInNlZWtlZFwiOnM9dGhpcy5jdXJyZW50VGltZSxuPXRoaXMuZHVyYXRpb24sdD0wPT09c3x8MD09PW58fE51bWJlci5pc05hTihzKXx8TnVtYmVyLmlzTmFOKG4pPzA6KHMvbioxMDApLnRvRml4ZWQoMiksXCJ0aW1ldXBkYXRlXCI9PT1lLnR5cGUmJlVlLnNldFJhbmdlLmNhbGwodGhpcyx0aGlzLmVsZW1lbnRzLmlucHV0cy5zZWVrLHQpO2JyZWFrO2Nhc2VcInBsYXlpbmdcIjpjYXNlXCJwcm9ncmVzc1wiOmkodGhpcy5lbGVtZW50cy5kaXNwbGF5LmJ1ZmZlciwxMDAqdGhpcy5idWZmZXJlZCl9dmFyIHMsbn0sdXBkYXRlUmFuZ2VGaWxsKGUpe2NvbnN0IHQ9RihlKT9lLnRhcmdldDplO2lmKEgodCkmJlwicmFuZ2VcIj09PXQuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSl7aWYocmUodCx0aGlzLmNvbmZpZy5zZWxlY3RvcnMuaW5wdXRzLnNlZWspKXt0LnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWVub3dcIix0aGlzLmN1cnJlbnRUaW1lKTtjb25zdCBlPVVlLmZvcm1hdFRpbWUodGhpcy5jdXJyZW50VGltZSksaT1VZS5mb3JtYXRUaW1lKHRoaXMuZHVyYXRpb24pLHM9RGUuZ2V0KFwic2Vla0xhYmVsXCIsdGhpcy5jb25maWcpO3Quc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZXRleHRcIixzLnJlcGxhY2UoXCJ7Y3VycmVudFRpbWV9XCIsZSkucmVwbGFjZShcIntkdXJhdGlvbn1cIixpKSl9ZWxzZSBpZihyZSh0LHRoaXMuY29uZmlnLnNlbGVjdG9ycy5pbnB1dHMudm9sdW1lKSl7Y29uc3QgZT0xMDAqdC52YWx1ZTt0LnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWVub3dcIixlKSx0LnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWV0ZXh0XCIsYCR7ZS50b0ZpeGVkKDEpfSVgKX1lbHNlIHQuc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZW5vd1wiLHQudmFsdWUpO1kuaXNXZWJraXQmJnQuc3R5bGUuc2V0UHJvcGVydHkoXCItLXZhbHVlXCIsdC52YWx1ZS90Lm1heCoxMDArXCIlXCIpfX0sdXBkYXRlU2Vla1Rvb2x0aXAoZSl7aWYoIXRoaXMuY29uZmlnLnRvb2x0aXBzLnNlZWt8fCFIKHRoaXMuZWxlbWVudHMuaW5wdXRzLnNlZWspfHwhSCh0aGlzLmVsZW1lbnRzLmRpc3BsYXkuc2Vla1Rvb2x0aXApfHwwPT09dGhpcy5kdXJhdGlvbilyZXR1cm47Y29uc3QgdD1gJHt0aGlzLmNvbmZpZy5jbGFzc05hbWVzLnRvb2x0aXB9LS12aXNpYmxlYCxpPWU9PmxlKHRoaXMuZWxlbWVudHMuZGlzcGxheS5zZWVrVG9vbHRpcCx0LGUpO2lmKHRoaXMudG91Y2gpcmV0dXJuIHZvaWQgaSghMSk7bGV0IHM9MDtjb25zdCBuPXRoaXMuZWxlbWVudHMucHJvZ3Jlc3MuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoRihlKSlzPTEwMC9uLndpZHRoKihlLnBhZ2VYLW4ubGVmdCk7ZWxzZXtpZighb2UodGhpcy5lbGVtZW50cy5kaXNwbGF5LnNlZWtUb29sdGlwLHQpKXJldHVybjtzPXBhcnNlRmxvYXQodGhpcy5lbGVtZW50cy5kaXNwbGF5LnNlZWtUb29sdGlwLnN0eWxlLmxlZnQsMTApfXM8MD9zPTA6cz4xMDAmJihzPTEwMCksVWUudXBkYXRlVGltZURpc3BsYXkuY2FsbCh0aGlzLHRoaXMuZWxlbWVudHMuZGlzcGxheS5zZWVrVG9vbHRpcCx0aGlzLmR1cmF0aW9uLzEwMCpzKSx0aGlzLmVsZW1lbnRzLmRpc3BsYXkuc2Vla1Rvb2x0aXAuc3R5bGUubGVmdD1gJHtzfSVgLEYoZSkmJltcIm1vdXNlZW50ZXJcIixcIm1vdXNlbGVhdmVcIl0uaW5jbHVkZXMoZS50eXBlKSYmaShcIm1vdXNlZW50ZXJcIj09PWUudHlwZSl9LHRpbWVVcGRhdGUoZSl7Y29uc3QgdD0hSCh0aGlzLmVsZW1lbnRzLmRpc3BsYXkuZHVyYXRpb24pJiZ0aGlzLmNvbmZpZy5pbnZlcnRUaW1lO1VlLnVwZGF0ZVRpbWVEaXNwbGF5LmNhbGwodGhpcyx0aGlzLmVsZW1lbnRzLmRpc3BsYXkuY3VycmVudFRpbWUsdD90aGlzLmR1cmF0aW9uLXRoaXMuY3VycmVudFRpbWU6dGhpcy5jdXJyZW50VGltZSx0KSxlJiZcInRpbWV1cGRhdGVcIj09PWUudHlwZSYmdGhpcy5tZWRpYS5zZWVraW5nfHxVZS51cGRhdGVQcm9ncmVzcy5jYWxsKHRoaXMsZSl9LGR1cmF0aW9uVXBkYXRlKCl7aWYoIXRoaXMuc3VwcG9ydGVkLnVpfHwhdGhpcy5jb25maWcuaW52ZXJ0VGltZSYmdGhpcy5jdXJyZW50VGltZSlyZXR1cm47aWYodGhpcy5kdXJhdGlvbj49MioqMzIpcmV0dXJuIGFlKHRoaXMuZWxlbWVudHMuZGlzcGxheS5jdXJyZW50VGltZSwhMCksdm9pZCBhZSh0aGlzLmVsZW1lbnRzLnByb2dyZXNzLCEwKTtIKHRoaXMuZWxlbWVudHMuaW5wdXRzLnNlZWspJiZ0aGlzLmVsZW1lbnRzLmlucHV0cy5zZWVrLnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWVtYXhcIix0aGlzLmR1cmF0aW9uKTtjb25zdCBlPUgodGhpcy5lbGVtZW50cy5kaXNwbGF5LmR1cmF0aW9uKTshZSYmdGhpcy5jb25maWcuZGlzcGxheUR1cmF0aW9uJiZ0aGlzLnBhdXNlZCYmVWUudXBkYXRlVGltZURpc3BsYXkuY2FsbCh0aGlzLHRoaXMuZWxlbWVudHMuZGlzcGxheS5jdXJyZW50VGltZSx0aGlzLmR1cmF0aW9uKSxlJiZVZS51cGRhdGVUaW1lRGlzcGxheS5jYWxsKHRoaXMsdGhpcy5lbGVtZW50cy5kaXNwbGF5LmR1cmF0aW9uLHRoaXMuZHVyYXRpb24pLFVlLnVwZGF0ZVNlZWtUb29sdGlwLmNhbGwodGhpcyl9LHRvZ2dsZU1lbnVCdXR0b24oZSx0KXthZSh0aGlzLmVsZW1lbnRzLnNldHRpbmdzLmJ1dHRvbnNbZV0sIXQpfSx1cGRhdGVTZXR0aW5nKGUsdCxpKXtjb25zdCBzPXRoaXMuZWxlbWVudHMuc2V0dGluZ3MucGFuZWxzW2VdO2xldCBuPW51bGwsYT10O2lmKFwiY2FwdGlvbnNcIj09PWUpbj10aGlzLmN1cnJlbnRUcmFjaztlbHNle2lmKG49VyhpKT90aGlzW2VdOmksVyhuKSYmKG49dGhpcy5jb25maWdbZV0uZGVmYXVsdCksIVcodGhpcy5vcHRpb25zW2VdKSYmIXRoaXMub3B0aW9uc1tlXS5pbmNsdWRlcyhuKSlyZXR1cm4gdm9pZCB0aGlzLmRlYnVnLndhcm4oYFVuc3VwcG9ydGVkIHZhbHVlIG9mICcke259JyBmb3IgJHtlfWApO2lmKCF0aGlzLmNvbmZpZ1tlXS5vcHRpb25zLmluY2x1ZGVzKG4pKXJldHVybiB2b2lkIHRoaXMuZGVidWcud2FybihgRGlzYWJsZWQgdmFsdWUgb2YgJyR7bn0nIGZvciAke2V9YCl9aWYoSChhKXx8KGE9cyYmcy5xdWVyeVNlbGVjdG9yKCdbcm9sZT1cIm1lbnVcIl0nKSksIUgoYSkpcmV0dXJuO3RoaXMuZWxlbWVudHMuc2V0dGluZ3MuYnV0dG9uc1tlXS5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLmNvbmZpZy5jbGFzc05hbWVzLm1lbnUudmFsdWV9YCkuaW5uZXJIVE1MPVVlLmdldExhYmVsLmNhbGwodGhpcyxlLG4pO2NvbnN0IGw9YSYmYS5xdWVyeVNlbGVjdG9yKGBbdmFsdWU9XCIke259XCJdYCk7SChsKSYmKGwuY2hlY2tlZD0hMCl9LGdldExhYmVsKGUsdCl7c3dpdGNoKGUpe2Nhc2VcInNwZWVkXCI6cmV0dXJuIDE9PT10P0RlLmdldChcIm5vcm1hbFwiLHRoaXMuY29uZmlnKTpgJHt0fSZ0aW1lcztgO2Nhc2VcInF1YWxpdHlcIjppZigkKHQpKXtjb25zdCBlPURlLmdldChgcXVhbGl0eUxhYmVsLiR7dH1gLHRoaXMuY29uZmlnKTtyZXR1cm4gZS5sZW5ndGg/ZTpgJHt0fXBgfXJldHVybiBfZSh0KTtjYXNlXCJjYXB0aW9uc1wiOnJldHVybiBLZS5nZXRMYWJlbC5jYWxsKHRoaXMpO2RlZmF1bHQ6cmV0dXJuIG51bGx9fSxzZXRRdWFsaXR5TWVudShlKXtpZighSCh0aGlzLmVsZW1lbnRzLnNldHRpbmdzLnBhbmVscy5xdWFsaXR5KSlyZXR1cm47Y29uc3QgdD1cInF1YWxpdHlcIixpPXRoaXMuZWxlbWVudHMuc2V0dGluZ3MucGFuZWxzLnF1YWxpdHkucXVlcnlTZWxlY3RvcignW3JvbGU9XCJtZW51XCJdJyk7aihlKSYmKHRoaXMub3B0aW9ucy5xdWFsaXR5PUNlKGUpLmZpbHRlcigoZT0+dGhpcy5jb25maWcucXVhbGl0eS5vcHRpb25zLmluY2x1ZGVzKGUpKSkpO2NvbnN0IHM9IVcodGhpcy5vcHRpb25zLnF1YWxpdHkpJiZ0aGlzLm9wdGlvbnMucXVhbGl0eS5sZW5ndGg+MTtpZihVZS50b2dnbGVNZW51QnV0dG9uLmNhbGwodGhpcyx0LHMpLGllKGkpLFVlLmNoZWNrTWVudS5jYWxsKHRoaXMpLCFzKXJldHVybjtjb25zdCBuPWU9Pntjb25zdCB0PURlLmdldChgcXVhbGl0eUJhZGdlLiR7ZX1gLHRoaXMuY29uZmlnKTtyZXR1cm4gdC5sZW5ndGg/VWUuY3JlYXRlQmFkZ2UuY2FsbCh0aGlzLHQpOm51bGx9O3RoaXMub3B0aW9ucy5xdWFsaXR5LnNvcnQoKChlLHQpPT57Y29uc3QgaT10aGlzLmNvbmZpZy5xdWFsaXR5Lm9wdGlvbnM7cmV0dXJuIGkuaW5kZXhPZihlKT5pLmluZGV4T2YodCk/MTotMX0pKS5mb3JFYWNoKChlPT57VWUuY3JlYXRlTWVudUl0ZW0uY2FsbCh0aGlzLHt2YWx1ZTplLGxpc3Q6aSx0eXBlOnQsdGl0bGU6VWUuZ2V0TGFiZWwuY2FsbCh0aGlzLFwicXVhbGl0eVwiLGUpLGJhZGdlOm4oZSl9KX0pKSxVZS51cGRhdGVTZXR0aW5nLmNhbGwodGhpcyx0LGkpfSxzZXRDYXB0aW9uc01lbnUoKXtpZighSCh0aGlzLmVsZW1lbnRzLnNldHRpbmdzLnBhbmVscy5jYXB0aW9ucykpcmV0dXJuO2NvbnN0IGU9XCJjYXB0aW9uc1wiLHQ9dGhpcy5lbGVtZW50cy5zZXR0aW5ncy5wYW5lbHMuY2FwdGlvbnMucXVlcnlTZWxlY3RvcignW3JvbGU9XCJtZW51XCJdJyksaT1LZS5nZXRUcmFja3MuY2FsbCh0aGlzKSxzPUJvb2xlYW4oaS5sZW5ndGgpO2lmKFVlLnRvZ2dsZU1lbnVCdXR0b24uY2FsbCh0aGlzLGUscyksaWUodCksVWUuY2hlY2tNZW51LmNhbGwodGhpcyksIXMpcmV0dXJuO2NvbnN0IG49aS5tYXAoKChlLGkpPT4oe3ZhbHVlOmksY2hlY2tlZDp0aGlzLmNhcHRpb25zLnRvZ2dsZWQmJnRoaXMuY3VycmVudFRyYWNrPT09aSx0aXRsZTpLZS5nZXRMYWJlbC5jYWxsKHRoaXMsZSksYmFkZ2U6ZS5sYW5ndWFnZSYmVWUuY3JlYXRlQmFkZ2UuY2FsbCh0aGlzLGUubGFuZ3VhZ2UudG9VcHBlckNhc2UoKSksbGlzdDp0LHR5cGU6XCJsYW5ndWFnZVwifSkpKTtuLnVuc2hpZnQoe3ZhbHVlOi0xLGNoZWNrZWQ6IXRoaXMuY2FwdGlvbnMudG9nZ2xlZCx0aXRsZTpEZS5nZXQoXCJkaXNhYmxlZFwiLHRoaXMuY29uZmlnKSxsaXN0OnQsdHlwZTpcImxhbmd1YWdlXCJ9KSxuLmZvckVhY2goVWUuY3JlYXRlTWVudUl0ZW0uYmluZCh0aGlzKSksVWUudXBkYXRlU2V0dGluZy5jYWxsKHRoaXMsZSx0KX0sc2V0U3BlZWRNZW51KCl7aWYoIUgodGhpcy5lbGVtZW50cy5zZXR0aW5ncy5wYW5lbHMuc3BlZWQpKXJldHVybjtjb25zdCBlPVwic3BlZWRcIix0PXRoaXMuZWxlbWVudHMuc2V0dGluZ3MucGFuZWxzLnNwZWVkLnF1ZXJ5U2VsZWN0b3IoJ1tyb2xlPVwibWVudVwiXScpO3RoaXMub3B0aW9ucy5zcGVlZD10aGlzLm9wdGlvbnMuc3BlZWQuZmlsdGVyKChlPT5lPj10aGlzLm1pbmltdW1TcGVlZCYmZTw9dGhpcy5tYXhpbXVtU3BlZWQpKTtjb25zdCBpPSFXKHRoaXMub3B0aW9ucy5zcGVlZCkmJnRoaXMub3B0aW9ucy5zcGVlZC5sZW5ndGg+MTtVZS50b2dnbGVNZW51QnV0dG9uLmNhbGwodGhpcyxlLGkpLGllKHQpLFVlLmNoZWNrTWVudS5jYWxsKHRoaXMpLGkmJih0aGlzLm9wdGlvbnMuc3BlZWQuZm9yRWFjaCgoaT0+e1VlLmNyZWF0ZU1lbnVJdGVtLmNhbGwodGhpcyx7dmFsdWU6aSxsaXN0OnQsdHlwZTplLHRpdGxlOlVlLmdldExhYmVsLmNhbGwodGhpcyxcInNwZWVkXCIsaSl9KX0pKSxVZS51cGRhdGVTZXR0aW5nLmNhbGwodGhpcyxlLHQpKX0sY2hlY2tNZW51KCl7Y29uc3R7YnV0dG9uczplfT10aGlzLmVsZW1lbnRzLnNldHRpbmdzLHQ9IVcoZSkmJk9iamVjdC52YWx1ZXMoZSkuc29tZSgoZT0+IWUuaGlkZGVuKSk7YWUodGhpcy5lbGVtZW50cy5zZXR0aW5ncy5tZW51LCF0KX0sZm9jdXNGaXJzdE1lbnVJdGVtKGUsdD0hMSl7aWYodGhpcy5lbGVtZW50cy5zZXR0aW5ncy5wb3B1cC5oaWRkZW4pcmV0dXJuO2xldCBpPWU7SChpKXx8KGk9T2JqZWN0LnZhbHVlcyh0aGlzLmVsZW1lbnRzLnNldHRpbmdzLnBhbmVscykuZmluZCgoZT0+IWUuaGlkZGVuKSkpO2NvbnN0IHM9aS5xdWVyeVNlbGVjdG9yKCdbcm9sZV49XCJtZW51aXRlbVwiXScpO3VlLmNhbGwodGhpcyxzLHQpfSx0b2dnbGVNZW51KGUpe2NvbnN0e3BvcHVwOnR9PXRoaXMuZWxlbWVudHMuc2V0dGluZ3MsaT10aGlzLmVsZW1lbnRzLmJ1dHRvbnMuc2V0dGluZ3M7aWYoIUgodCl8fCFIKGkpKXJldHVybjtjb25zdHtoaWRkZW46c309dDtsZXQgbj1zO2lmKE8oZSkpbj1lO2Vsc2UgaWYoUihlKSYmMjc9PT1lLndoaWNoKW49ITE7ZWxzZSBpZihGKGUpKXtjb25zdCBzPXEoZS5jb21wb3NlZFBhdGgpP2UuY29tcG9zZWRQYXRoKClbMF06ZS50YXJnZXQsYT10LmNvbnRhaW5zKHMpO2lmKGF8fCFhJiZlLnRhcmdldCE9PWkmJm4pcmV0dXJufWkuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLG4pLGFlKHQsIW4pLGxlKHRoaXMuZWxlbWVudHMuY29udGFpbmVyLHRoaXMuY29uZmlnLmNsYXNzTmFtZXMubWVudS5vcGVuLG4pLG4mJlIoZSk/VWUuZm9jdXNGaXJzdE1lbnVJdGVtLmNhbGwodGhpcyxudWxsLCEwKTpufHxzfHx1ZS5jYWxsKHRoaXMsaSxSKGUpKX0sZ2V0TWVudVNpemUoZSl7Y29uc3QgdD1lLmNsb25lTm9kZSghMCk7dC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdC5zdHlsZS5vcGFjaXR5PTAsdC5yZW1vdmVBdHRyaWJ1dGUoXCJoaWRkZW5cIiksZS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHQpO2NvbnN0IGk9dC5zY3JvbGxXaWR0aCxzPXQuc2Nyb2xsSGVpZ2h0O3JldHVybiB0ZSh0KSx7d2lkdGg6aSxoZWlnaHQ6c319LHNob3dNZW51UGFuZWwoZT1cIlwiLHQ9ITEpe2NvbnN0IGk9dGhpcy5lbGVtZW50cy5jb250YWluZXIucXVlcnlTZWxlY3RvcihgI3BseXItc2V0dGluZ3MtJHt0aGlzLmlkfS0ke2V9YCk7aWYoIUgoaSkpcmV0dXJuO2NvbnN0IHM9aS5wYXJlbnROb2RlLG49QXJyYXkuZnJvbShzLmNoaWxkcmVuKS5maW5kKChlPT4hZS5oaWRkZW4pKTtpZihtZS50cmFuc2l0aW9ucyYmIW1lLnJlZHVjZWRNb3Rpb24pe3Muc3R5bGUud2lkdGg9YCR7bi5zY3JvbGxXaWR0aH1weGAscy5zdHlsZS5oZWlnaHQ9YCR7bi5zY3JvbGxIZWlnaHR9cHhgO2NvbnN0IGU9VWUuZ2V0TWVudVNpemUuY2FsbCh0aGlzLGkpLHQ9ZT0+e2UudGFyZ2V0PT09cyYmW1wid2lkdGhcIixcImhlaWdodFwiXS5pbmNsdWRlcyhlLnByb3BlcnR5TmFtZSkmJihzLnN0eWxlLndpZHRoPVwiXCIscy5zdHlsZS5oZWlnaHQ9XCJcIixiZS5jYWxsKHRoaXMscyx6LHQpKX07ZmUuY2FsbCh0aGlzLHMseix0KSxzLnN0eWxlLndpZHRoPWAke2Uud2lkdGh9cHhgLHMuc3R5bGUuaGVpZ2h0PWAke2UuaGVpZ2h0fXB4YH1hZShuLCEwKSxhZShpLCExKSxVZS5mb2N1c0ZpcnN0TWVudUl0ZW0uY2FsbCh0aGlzLGksdCl9LHNldERvd25sb2FkVXJsKCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzLmJ1dHRvbnMuZG93bmxvYWQ7SChlKSYmZS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsdGhpcy5kb3dubG9hZCl9LGNyZWF0ZShlKXtjb25zdHtiaW5kTWVudUl0ZW1TaG9ydGN1dHM6dCxjcmVhdGVCdXR0b246aSxjcmVhdGVQcm9ncmVzczpzLGNyZWF0ZVJhbmdlOm4sY3JlYXRlVGltZTphLHNldFF1YWxpdHlNZW51Omwsc2V0U3BlZWRNZW51Om8sc2hvd01lbnVQYW5lbDpyfT1VZTt0aGlzLmVsZW1lbnRzLmNvbnRyb2xzPW51bGwsaih0aGlzLmNvbmZpZy5jb250cm9scykmJnRoaXMuY29uZmlnLmNvbnRyb2xzLmluY2x1ZGVzKFwicGxheS1sYXJnZVwiKSYmdGhpcy5lbGVtZW50cy5jb250YWluZXIuYXBwZW5kQ2hpbGQoaS5jYWxsKHRoaXMsXCJwbGF5LWxhcmdlXCIpKTtjb25zdCBjPVooXCJkaXZcIixuZSh0aGlzLmNvbmZpZy5zZWxlY3RvcnMuY29udHJvbHMud3JhcHBlcikpO3RoaXMuZWxlbWVudHMuY29udHJvbHM9Yztjb25zdCBoPXtjbGFzczpcInBseXJfX2NvbnRyb2xzX19pdGVtXCJ9O3JldHVybiBDZShqKHRoaXMuY29uZmlnLmNvbnRyb2xzKT90aGlzLmNvbmZpZy5jb250cm9sczpbXSkuZm9yRWFjaCgobD0+e2lmKFwicmVzdGFydFwiPT09bCYmYy5hcHBlbmRDaGlsZChpLmNhbGwodGhpcyxcInJlc3RhcnRcIixoKSksXCJyZXdpbmRcIj09PWwmJmMuYXBwZW5kQ2hpbGQoaS5jYWxsKHRoaXMsXCJyZXdpbmRcIixoKSksXCJwbGF5XCI9PT1sJiZjLmFwcGVuZENoaWxkKGkuY2FsbCh0aGlzLFwicGxheVwiLGgpKSxcImZhc3QtZm9yd2FyZFwiPT09bCYmYy5hcHBlbmRDaGlsZChpLmNhbGwodGhpcyxcImZhc3QtZm9yd2FyZFwiLGgpKSxcInByb2dyZXNzXCI9PT1sKXtjb25zdCB0PVooXCJkaXZcIix7Y2xhc3M6YCR7aC5jbGFzc30gcGx5cl9fcHJvZ3Jlc3NfX2NvbnRhaW5lcmB9KSxpPVooXCJkaXZcIixuZSh0aGlzLmNvbmZpZy5zZWxlY3RvcnMucHJvZ3Jlc3MpKTtpZihpLmFwcGVuZENoaWxkKG4uY2FsbCh0aGlzLFwic2Vla1wiLHtpZDpgcGx5ci1zZWVrLSR7ZS5pZH1gfSkpLGkuYXBwZW5kQ2hpbGQocy5jYWxsKHRoaXMsXCJidWZmZXJcIikpLHRoaXMuY29uZmlnLnRvb2x0aXBzLnNlZWspe2NvbnN0IGU9WihcInNwYW5cIix7Y2xhc3M6dGhpcy5jb25maWcuY2xhc3NOYW1lcy50b29sdGlwfSxcIjAwOjAwXCIpO2kuYXBwZW5kQ2hpbGQoZSksdGhpcy5lbGVtZW50cy5kaXNwbGF5LnNlZWtUb29sdGlwPWV9dGhpcy5lbGVtZW50cy5wcm9ncmVzcz1pLHQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50cy5wcm9ncmVzcyksYy5hcHBlbmRDaGlsZCh0KX1pZihcImN1cnJlbnQtdGltZVwiPT09bCYmYy5hcHBlbmRDaGlsZChhLmNhbGwodGhpcyxcImN1cnJlbnRUaW1lXCIsaCkpLFwiZHVyYXRpb25cIj09PWwmJmMuYXBwZW5kQ2hpbGQoYS5jYWxsKHRoaXMsXCJkdXJhdGlvblwiLGgpKSxcIm11dGVcIj09PWx8fFwidm9sdW1lXCI9PT1sKXtsZXR7dm9sdW1lOnR9PXRoaXMuZWxlbWVudHM7aWYoSCh0KSYmYy5jb250YWlucyh0KXx8KHQ9WihcImRpdlwiLFgoe30saCx7Y2xhc3M6YCR7aC5jbGFzc30gcGx5cl9fdm9sdW1lYC50cmltKCl9KSksdGhpcy5lbGVtZW50cy52b2x1bWU9dCxjLmFwcGVuZENoaWxkKHQpKSxcIm11dGVcIj09PWwmJnQuYXBwZW5kQ2hpbGQoaS5jYWxsKHRoaXMsXCJtdXRlXCIpKSxcInZvbHVtZVwiPT09bCYmIVkuaXNJb3Mpe2NvbnN0IGk9e21heDoxLHN0ZXA6LjA1LHZhbHVlOnRoaXMuY29uZmlnLnZvbHVtZX07dC5hcHBlbmRDaGlsZChuLmNhbGwodGhpcyxcInZvbHVtZVwiLFgoaSx7aWQ6YHBseXItdm9sdW1lLSR7ZS5pZH1gfSkpKX19aWYoXCJjYXB0aW9uc1wiPT09bCYmYy5hcHBlbmRDaGlsZChpLmNhbGwodGhpcyxcImNhcHRpb25zXCIsaCkpLFwic2V0dGluZ3NcIj09PWwmJiFXKHRoaXMuY29uZmlnLnNldHRpbmdzKSl7Y29uc3Qgcz1aKFwiZGl2XCIsWCh7fSxoLHtjbGFzczpgJHtoLmNsYXNzfSBwbHlyX19tZW51YC50cmltKCksaGlkZGVuOlwiXCJ9KSk7cy5hcHBlbmRDaGlsZChpLmNhbGwodGhpcyxcInNldHRpbmdzXCIse1wiYXJpYS1oYXNwb3B1cFwiOiEwLFwiYXJpYS1jb250cm9sc1wiOmBwbHlyLXNldHRpbmdzLSR7ZS5pZH1gLFwiYXJpYS1leHBhbmRlZFwiOiExfSkpO2NvbnN0IG49WihcImRpdlwiLHtjbGFzczpcInBseXJfX21lbnVfX2NvbnRhaW5lclwiLGlkOmBwbHlyLXNldHRpbmdzLSR7ZS5pZH1gLGhpZGRlbjpcIlwifSksYT1aKFwiZGl2XCIpLGw9WihcImRpdlwiLHtpZDpgcGx5ci1zZXR0aW5ncy0ke2UuaWR9LWhvbWVgfSksbz1aKFwiZGl2XCIse3JvbGU6XCJtZW51XCJ9KTtsLmFwcGVuZENoaWxkKG8pLGEuYXBwZW5kQ2hpbGQobCksdGhpcy5lbGVtZW50cy5zZXR0aW5ncy5wYW5lbHMuaG9tZT1sLHRoaXMuY29uZmlnLnNldHRpbmdzLmZvckVhY2goKGk9Pntjb25zdCBzPVooXCJidXR0b25cIixYKG5lKHRoaXMuY29uZmlnLnNlbGVjdG9ycy5idXR0b25zLnNldHRpbmdzKSx7dHlwZTpcImJ1dHRvblwiLGNsYXNzOmAke3RoaXMuY29uZmlnLmNsYXNzTmFtZXMuY29udHJvbH0gJHt0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmNvbnRyb2x9LS1mb3J3YXJkYCxyb2xlOlwibWVudWl0ZW1cIixcImFyaWEtaGFzcG9wdXBcIjohMCxoaWRkZW46XCJcIn0pKTt0LmNhbGwodGhpcyxzLGkpLGZlLmNhbGwodGhpcyxzLFwiY2xpY2tcIiwoKCk9PntyLmNhbGwodGhpcyxpLCExKX0pKTtjb25zdCBuPVooXCJzcGFuXCIsbnVsbCxEZS5nZXQoaSx0aGlzLmNvbmZpZykpLGw9WihcInNwYW5cIix7Y2xhc3M6dGhpcy5jb25maWcuY2xhc3NOYW1lcy5tZW51LnZhbHVlfSk7bC5pbm5lckhUTUw9ZVtpXSxuLmFwcGVuZENoaWxkKGwpLHMuYXBwZW5kQ2hpbGQobiksby5hcHBlbmRDaGlsZChzKTtjb25zdCBjPVooXCJkaXZcIix7aWQ6YHBseXItc2V0dGluZ3MtJHtlLmlkfS0ke2l9YCxoaWRkZW46XCJcIn0pLGg9WihcImJ1dHRvblwiLHt0eXBlOlwiYnV0dG9uXCIsY2xhc3M6YCR7dGhpcy5jb25maWcuY2xhc3NOYW1lcy5jb250cm9sfSAke3RoaXMuY29uZmlnLmNsYXNzTmFtZXMuY29udHJvbH0tLWJhY2tgfSk7aC5hcHBlbmRDaGlsZChaKFwic3BhblwiLHtcImFyaWEtaGlkZGVuXCI6ITB9LERlLmdldChpLHRoaXMuY29uZmlnKSkpLGguYXBwZW5kQ2hpbGQoWihcInNwYW5cIix7Y2xhc3M6dGhpcy5jb25maWcuY2xhc3NOYW1lcy5oaWRkZW59LERlLmdldChcIm1lbnVCYWNrXCIsdGhpcy5jb25maWcpKSksZmUuY2FsbCh0aGlzLGMsXCJrZXlkb3duXCIsKGU9PnszNz09PWUud2hpY2gmJihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSxyLmNhbGwodGhpcyxcImhvbWVcIiwhMCkpfSksITEpLGZlLmNhbGwodGhpcyxoLFwiY2xpY2tcIiwoKCk9PntyLmNhbGwodGhpcyxcImhvbWVcIiwhMSl9KSksYy5hcHBlbmRDaGlsZChoKSxjLmFwcGVuZENoaWxkKFooXCJkaXZcIix7cm9sZTpcIm1lbnVcIn0pKSxhLmFwcGVuZENoaWxkKGMpLHRoaXMuZWxlbWVudHMuc2V0dGluZ3MuYnV0dG9uc1tpXT1zLHRoaXMuZWxlbWVudHMuc2V0dGluZ3MucGFuZWxzW2ldPWN9KSksbi5hcHBlbmRDaGlsZChhKSxzLmFwcGVuZENoaWxkKG4pLGMuYXBwZW5kQ2hpbGQocyksdGhpcy5lbGVtZW50cy5zZXR0aW5ncy5wb3B1cD1uLHRoaXMuZWxlbWVudHMuc2V0dGluZ3MubWVudT1zfWlmKFwicGlwXCI9PT1sJiZtZS5waXAmJmMuYXBwZW5kQ2hpbGQoaS5jYWxsKHRoaXMsXCJwaXBcIixoKSksXCJhaXJwbGF5XCI9PT1sJiZtZS5haXJwbGF5JiZjLmFwcGVuZENoaWxkKGkuY2FsbCh0aGlzLFwiYWlycGxheVwiLGgpKSxcImRvd25sb2FkXCI9PT1sKXtjb25zdCBlPVgoe30saCx7ZWxlbWVudDpcImFcIixocmVmOnRoaXMuZG93bmxvYWQsdGFyZ2V0OlwiX2JsYW5rXCJ9KTt0aGlzLmlzSFRNTDUmJihlLmRvd25sb2FkPVwiXCIpO2NvbnN0e2Rvd25sb2FkOnR9PXRoaXMuY29uZmlnLnVybHM7IVUodCkmJnRoaXMuaXNFbWJlZCYmWChlLHtpY29uOmBsb2dvLSR7dGhpcy5wcm92aWRlcn1gLGxhYmVsOnRoaXMucHJvdmlkZXJ9KSxjLmFwcGVuZENoaWxkKGkuY2FsbCh0aGlzLFwiZG93bmxvYWRcIixlKSl9XCJmdWxsc2NyZWVuXCI9PT1sJiZjLmFwcGVuZENoaWxkKGkuY2FsbCh0aGlzLFwiZnVsbHNjcmVlblwiLGgpKX0pKSx0aGlzLmlzSFRNTDUmJmwuY2FsbCh0aGlzLEllLmdldFF1YWxpdHlPcHRpb25zLmNhbGwodGhpcykpLG8uY2FsbCh0aGlzKSxjfSxpbmplY3QoKXtpZih0aGlzLmNvbmZpZy5sb2FkU3ByaXRlKXtjb25zdCBlPVVlLmdldEljb25VcmwuY2FsbCh0aGlzKTtlLmNvcnMmJlJlKGUudXJsLFwic3ByaXRlLXBseXJcIil9dGhpcy5pZD1NYXRoLmZsb29yKDFlNCpNYXRoLnJhbmRvbSgpKTtsZXQgZT1udWxsO3RoaXMuZWxlbWVudHMuY29udHJvbHM9bnVsbDtjb25zdCB0PXtpZDp0aGlzLmlkLHNlZWt0aW1lOnRoaXMuY29uZmlnLnNlZWtUaW1lLHRpdGxlOnRoaXMuY29uZmlnLnRpdGxlfTtsZXQgaT0hMDtxKHRoaXMuY29uZmlnLmNvbnRyb2xzKSYmKHRoaXMuY29uZmlnLmNvbnRyb2xzPXRoaXMuY29uZmlnLmNvbnRyb2xzLmNhbGwodGhpcyx0KSksdGhpcy5jb25maWcuY29udHJvbHN8fCh0aGlzLmNvbmZpZy5jb250cm9scz1bXSksSCh0aGlzLmNvbmZpZy5jb250cm9scyl8fF8odGhpcy5jb25maWcuY29udHJvbHMpP2U9dGhpcy5jb25maWcuY29udHJvbHM6KGU9VWUuY3JlYXRlLmNhbGwodGhpcyx7aWQ6dGhpcy5pZCxzZWVrdGltZTp0aGlzLmNvbmZpZy5zZWVrVGltZSxzcGVlZDp0aGlzLnNwZWVkLHF1YWxpdHk6dGhpcy5xdWFsaXR5LGNhcHRpb25zOktlLmdldExhYmVsLmNhbGwodGhpcyl9KSxpPSExKTtsZXQgcztpJiZfKHRoaXMuY29uZmlnLmNvbnRyb2xzKSYmKGU9KGU9PntsZXQgaT1lO3JldHVybiBPYmplY3QuZW50cmllcyh0KS5mb3JFYWNoKCgoW2UsdF0pPT57aT0kZShpLGB7JHtlfX1gLHQpfSkpLGl9KShlKSksXyh0aGlzLmNvbmZpZy5zZWxlY3RvcnMuY29udHJvbHMuY29udGFpbmVyKSYmKHM9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmNvbmZpZy5zZWxlY3RvcnMuY29udHJvbHMuY29udGFpbmVyKSksSChzKXx8KHM9dGhpcy5lbGVtZW50cy5jb250YWluZXIpO2lmKHNbSChlKT9cImluc2VydEFkamFjZW50RWxlbWVudFwiOlwiaW5zZXJ0QWRqYWNlbnRIVE1MXCJdKFwiYWZ0ZXJiZWdpblwiLGUpLEgodGhpcy5lbGVtZW50cy5jb250cm9scyl8fFVlLmZpbmRFbGVtZW50cy5jYWxsKHRoaXMpLCFXKHRoaXMuZWxlbWVudHMuYnV0dG9ucykpe2NvbnN0IGU9ZT0+e2NvbnN0IHQ9dGhpcy5jb25maWcuY2xhc3NOYW1lcy5jb250cm9sUHJlc3NlZDtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByZXNzZWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6KCk9Pm9lKGUsdCksc2V0KGk9ITEpe2xlKGUsdCxpKX19KX07T2JqZWN0LnZhbHVlcyh0aGlzLmVsZW1lbnRzLmJ1dHRvbnMpLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKCh0PT57aih0KXx8RCh0KT9BcnJheS5mcm9tKHQpLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGUpOmUodCl9KSl9aWYoWS5pc0VkZ2UmJksocyksdGhpcy5jb25maWcudG9vbHRpcHMuY29udHJvbHMpe2NvbnN0e2NsYXNzTmFtZXM6ZSxzZWxlY3RvcnM6dH09dGhpcy5jb25maWcsaT1gJHt0LmNvbnRyb2xzLndyYXBwZXJ9ICR7dC5sYWJlbHN9IC4ke2UuaGlkZGVufWAscz1jZS5jYWxsKHRoaXMsaSk7QXJyYXkuZnJvbShzKS5mb3JFYWNoKChlPT57bGUoZSx0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmhpZGRlbiwhMSksbGUoZSx0aGlzLmNvbmZpZy5jbGFzc05hbWVzLnRvb2x0aXAsITApfSkpfX19O2Z1bmN0aW9uIFdlKGUsdD0hMCl7bGV0IGk9ZTtpZih0KXtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2UuaHJlZj1pLGk9ZS5ocmVmfXRyeXtyZXR1cm4gbmV3IFVSTChpKX1jYXRjaChlKXtyZXR1cm4gbnVsbH19ZnVuY3Rpb24gemUoZSl7Y29uc3QgdD1uZXcgVVJMU2VhcmNoUGFyYW1zO3JldHVybiBMKGUpJiZPYmplY3QuZW50cmllcyhlKS5mb3JFYWNoKCgoW2UsaV0pPT57dC5zZXQoZSxpKX0pKSx0fWNvbnN0IEtlPXtzZXR1cCgpe2lmKCF0aGlzLnN1cHBvcnRlZC51aSlyZXR1cm47aWYoIXRoaXMuaXNWaWRlb3x8dGhpcy5pc1lvdVR1YmV8fHRoaXMuaXNIVE1MNSYmIW1lLnRleHRUcmFja3MpcmV0dXJuIHZvaWQoaih0aGlzLmNvbmZpZy5jb250cm9scykmJnRoaXMuY29uZmlnLmNvbnRyb2xzLmluY2x1ZGVzKFwic2V0dGluZ3NcIikmJnRoaXMuY29uZmlnLnNldHRpbmdzLmluY2x1ZGVzKFwiY2FwdGlvbnNcIikmJlVlLnNldENhcHRpb25zTWVudS5jYWxsKHRoaXMpKTt2YXIgZSx0O2lmKEgodGhpcy5lbGVtZW50cy5jYXB0aW9ucyl8fCh0aGlzLmVsZW1lbnRzLmNhcHRpb25zPVooXCJkaXZcIixuZSh0aGlzLmNvbmZpZy5zZWxlY3RvcnMuY2FwdGlvbnMpKSxlPXRoaXMuZWxlbWVudHMuY2FwdGlvbnMsdD10aGlzLmVsZW1lbnRzLndyYXBwZXIsSChlKSYmSCh0KSYmdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHQubmV4dFNpYmxpbmcpKSxZLmlzSUUmJndpbmRvdy5VUkwpe2NvbnN0IGU9dGhpcy5tZWRpYS5xdWVyeVNlbGVjdG9yQWxsKFwidHJhY2tcIik7QXJyYXkuZnJvbShlKS5mb3JFYWNoKChlPT57Y29uc3QgdD1lLmdldEF0dHJpYnV0ZShcInNyY1wiKSxpPVdlKHQpO251bGwhPT1pJiZpLmhvc3RuYW1lIT09d2luZG93LmxvY2F0aW9uLmhyZWYuaG9zdG5hbWUmJltcImh0dHA6XCIsXCJodHRwczpcIl0uaW5jbHVkZXMoaS5wcm90b2NvbCkmJkZlKHQsXCJibG9iXCIpLnRoZW4oKHQ9PntlLnNldEF0dHJpYnV0ZShcInNyY1wiLHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKHQpKX0pKS5jYXRjaCgoKCk9Pnt0ZShlKX0pKX0pKX1jb25zdCBpPUNlKChuYXZpZ2F0b3IubGFuZ3VhZ2VzfHxbbmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlfHxcImVuXCJdKS5tYXAoKGU9PmUuc3BsaXQoXCItXCIpWzBdKSkpO2xldCBzPSh0aGlzLnN0b3JhZ2UuZ2V0KFwibGFuZ3VhZ2VcIil8fHRoaXMuY29uZmlnLmNhcHRpb25zLmxhbmd1YWdlfHxcImF1dG9cIikudG9Mb3dlckNhc2UoKTtcImF1dG9cIj09PXMmJihbc109aSk7bGV0IG49dGhpcy5zdG9yYWdlLmdldChcImNhcHRpb25zXCIpO2lmKE8obil8fCh7YWN0aXZlOm59PXRoaXMuY29uZmlnLmNhcHRpb25zKSxPYmplY3QuYXNzaWduKHRoaXMuY2FwdGlvbnMse3RvZ2dsZWQ6ITEsYWN0aXZlOm4sbGFuZ3VhZ2U6cyxsYW5ndWFnZXM6aX0pLHRoaXMuaXNIVE1MNSl7Y29uc3QgZT10aGlzLmNvbmZpZy5jYXB0aW9ucy51cGRhdGU/XCJhZGR0cmFjayByZW1vdmV0cmFja1wiOlwicmVtb3ZldHJhY2tcIjtmZS5jYWxsKHRoaXMsdGhpcy5tZWRpYS50ZXh0VHJhY2tzLGUsS2UudXBkYXRlLmJpbmQodGhpcykpfXNldFRpbWVvdXQoS2UudXBkYXRlLmJpbmQodGhpcyksMCl9LHVwZGF0ZSgpe2NvbnN0IGU9S2UuZ2V0VHJhY2tzLmNhbGwodGhpcywhMCkse2FjdGl2ZTp0LGxhbmd1YWdlOmksbWV0YTpzLGN1cnJlbnRUcmFja05vZGU6bn09dGhpcy5jYXB0aW9ucyxhPUJvb2xlYW4oZS5maW5kKChlPT5lLmxhbmd1YWdlPT09aSkpKTt0aGlzLmlzSFRNTDUmJnRoaXMuaXNWaWRlbyYmZS5maWx0ZXIoKGU9PiFzLmdldChlKSkpLmZvckVhY2goKGU9Pnt0aGlzLmRlYnVnLmxvZyhcIlRyYWNrIGFkZGVkXCIsZSkscy5zZXQoZSx7ZGVmYXVsdDpcInNob3dpbmdcIj09PWUubW9kZX0pLFwic2hvd2luZ1wiPT09ZS5tb2RlJiYoZS5tb2RlPVwiaGlkZGVuXCIpLGZlLmNhbGwodGhpcyxlLFwiY3VlY2hhbmdlXCIsKCgpPT5LZS51cGRhdGVDdWVzLmNhbGwodGhpcykpKX0pKSwoYSYmdGhpcy5sYW5ndWFnZSE9PWl8fCFlLmluY2x1ZGVzKG4pKSYmKEtlLnNldExhbmd1YWdlLmNhbGwodGhpcyxpKSxLZS50b2dnbGUuY2FsbCh0aGlzLHQmJmEpKSxsZSh0aGlzLmVsZW1lbnRzLmNvbnRhaW5lcix0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmNhcHRpb25zLmVuYWJsZWQsIVcoZSkpLGoodGhpcy5jb25maWcuY29udHJvbHMpJiZ0aGlzLmNvbmZpZy5jb250cm9scy5pbmNsdWRlcyhcInNldHRpbmdzXCIpJiZ0aGlzLmNvbmZpZy5zZXR0aW5ncy5pbmNsdWRlcyhcImNhcHRpb25zXCIpJiZVZS5zZXRDYXB0aW9uc01lbnUuY2FsbCh0aGlzKX0sdG9nZ2xlKGUsdD0hMCl7aWYoIXRoaXMuc3VwcG9ydGVkLnVpKXJldHVybjtjb25zdHt0b2dnbGVkOml9PXRoaXMuY2FwdGlvbnMscz10aGlzLmNvbmZpZy5jbGFzc05hbWVzLmNhcHRpb25zLmFjdGl2ZSxuPUkoZSk/IWk6ZTtpZihuIT09aSl7aWYodHx8KHRoaXMuY2FwdGlvbnMuYWN0aXZlPW4sdGhpcy5zdG9yYWdlLnNldCh7Y2FwdGlvbnM6bn0pKSwhdGhpcy5sYW5ndWFnZSYmbiYmIXQpe2NvbnN0IGU9S2UuZ2V0VHJhY2tzLmNhbGwodGhpcyksdD1LZS5maW5kVHJhY2suY2FsbCh0aGlzLFt0aGlzLmNhcHRpb25zLmxhbmd1YWdlLC4uLnRoaXMuY2FwdGlvbnMubGFuZ3VhZ2VzXSwhMCk7cmV0dXJuIHRoaXMuY2FwdGlvbnMubGFuZ3VhZ2U9dC5sYW5ndWFnZSx2b2lkIEtlLnNldC5jYWxsKHRoaXMsZS5pbmRleE9mKHQpKX10aGlzLmVsZW1lbnRzLmJ1dHRvbnMuY2FwdGlvbnMmJih0aGlzLmVsZW1lbnRzLmJ1dHRvbnMuY2FwdGlvbnMucHJlc3NlZD1uKSxsZSh0aGlzLmVsZW1lbnRzLmNvbnRhaW5lcixzLG4pLHRoaXMuY2FwdGlvbnMudG9nZ2xlZD1uLFVlLnVwZGF0ZVNldHRpbmcuY2FsbCh0aGlzLFwiY2FwdGlvbnNcIiksdmUuY2FsbCh0aGlzLHRoaXMubWVkaWEsbj9cImNhcHRpb25zZW5hYmxlZFwiOlwiY2FwdGlvbnNkaXNhYmxlZFwiKX1zZXRUaW1lb3V0KCgoKT0+e24mJnRoaXMuY2FwdGlvbnMudG9nZ2xlZCYmKHRoaXMuY2FwdGlvbnMuY3VycmVudFRyYWNrTm9kZS5tb2RlPVwiaGlkZGVuXCIpfSkpfSxzZXQoZSx0PSEwKXtjb25zdCBpPUtlLmdldFRyYWNrcy5jYWxsKHRoaXMpO2lmKC0xIT09ZSlpZigkKGUpKWlmKGUgaW4gaSl7aWYodGhpcy5jYXB0aW9ucy5jdXJyZW50VHJhY2shPT1lKXt0aGlzLmNhcHRpb25zLmN1cnJlbnRUcmFjaz1lO2NvbnN0IHM9aVtlXSx7bGFuZ3VhZ2U6bn09c3x8e307dGhpcy5jYXB0aW9ucy5jdXJyZW50VHJhY2tOb2RlPXMsVWUudXBkYXRlU2V0dGluZy5jYWxsKHRoaXMsXCJjYXB0aW9uc1wiKSx0fHwodGhpcy5jYXB0aW9ucy5sYW5ndWFnZT1uLHRoaXMuc3RvcmFnZS5zZXQoe2xhbmd1YWdlOm59KSksdGhpcy5pc1ZpbWVvJiZ0aGlzLmVtYmVkLmVuYWJsZVRleHRUcmFjayhuKSx2ZS5jYWxsKHRoaXMsdGhpcy5tZWRpYSxcImxhbmd1YWdlY2hhbmdlXCIpfUtlLnRvZ2dsZS5jYWxsKHRoaXMsITAsdCksdGhpcy5pc0hUTUw1JiZ0aGlzLmlzVmlkZW8mJktlLnVwZGF0ZUN1ZXMuY2FsbCh0aGlzKX1lbHNlIHRoaXMuZGVidWcud2FybihcIlRyYWNrIG5vdCBmb3VuZFwiLGUpO2Vsc2UgdGhpcy5kZWJ1Zy53YXJuKFwiSW52YWxpZCBjYXB0aW9uIGFyZ3VtZW50XCIsZSk7ZWxzZSBLZS50b2dnbGUuY2FsbCh0aGlzLCExLHQpfSxzZXRMYW5ndWFnZShlLHQ9ITApe2lmKCFfKGUpKXJldHVybiB2b2lkIHRoaXMuZGVidWcud2FybihcIkludmFsaWQgbGFuZ3VhZ2UgYXJndW1lbnRcIixlKTtjb25zdCBpPWUudG9Mb3dlckNhc2UoKTt0aGlzLmNhcHRpb25zLmxhbmd1YWdlPWk7Y29uc3Qgcz1LZS5nZXRUcmFja3MuY2FsbCh0aGlzKSxuPUtlLmZpbmRUcmFjay5jYWxsKHRoaXMsW2ldKTtLZS5zZXQuY2FsbCh0aGlzLHMuaW5kZXhPZihuKSx0KX0sZ2V0VHJhY2tzKGU9ITEpe3JldHVybiBBcnJheS5mcm9tKCh0aGlzLm1lZGlhfHx7fSkudGV4dFRyYWNrc3x8W10pLmZpbHRlcigodD0+IXRoaXMuaXNIVE1MNXx8ZXx8dGhpcy5jYXB0aW9ucy5tZXRhLmhhcyh0KSkpLmZpbHRlcigoZT0+W1wiY2FwdGlvbnNcIixcInN1YnRpdGxlc1wiXS5pbmNsdWRlcyhlLmtpbmQpKSl9LGZpbmRUcmFjayhlLHQ9ITEpe2NvbnN0IGk9S2UuZ2V0VHJhY2tzLmNhbGwodGhpcykscz1lPT5OdW1iZXIoKHRoaXMuY2FwdGlvbnMubWV0YS5nZXQoZSl8fHt9KS5kZWZhdWx0KSxuPUFycmF5LmZyb20oaSkuc29ydCgoKGUsdCk9PnModCktcyhlKSkpO2xldCBhO3JldHVybiBlLmV2ZXJ5KChlPT4oYT1uLmZpbmQoKHQ9PnQubGFuZ3VhZ2U9PT1lKSksIWEpKSksYXx8KHQ/blswXTp2b2lkIDApfSxnZXRDdXJyZW50VHJhY2soKXtyZXR1cm4gS2UuZ2V0VHJhY2tzLmNhbGwodGhpcylbdGhpcy5jdXJyZW50VHJhY2tdfSxnZXRMYWJlbChlKXtsZXQgdD1lO3JldHVybiFWKHQpJiZtZS50ZXh0VHJhY2tzJiZ0aGlzLmNhcHRpb25zLnRvZ2dsZWQmJih0PUtlLmdldEN1cnJlbnRUcmFjay5jYWxsKHRoaXMpKSxWKHQpP1codC5sYWJlbCk/Vyh0Lmxhbmd1YWdlKT9EZS5nZXQoXCJlbmFibGVkXCIsdGhpcy5jb25maWcpOmUubGFuZ3VhZ2UudG9VcHBlckNhc2UoKTp0LmxhYmVsOkRlLmdldChcImRpc2FibGVkXCIsdGhpcy5jb25maWcpfSx1cGRhdGVDdWVzKGUpe2lmKCF0aGlzLnN1cHBvcnRlZC51aSlyZXR1cm47aWYoIUgodGhpcy5lbGVtZW50cy5jYXB0aW9ucykpcmV0dXJuIHZvaWQgdGhpcy5kZWJ1Zy53YXJuKFwiTm8gY2FwdGlvbnMgZWxlbWVudCB0byByZW5kZXIgdG9cIik7aWYoIUkoZSkmJiFBcnJheS5pc0FycmF5KGUpKXJldHVybiB2b2lkIHRoaXMuZGVidWcud2FybihcInVwZGF0ZUN1ZXM6IEludmFsaWQgaW5wdXRcIixlKTtsZXQgdD1lO2lmKCF0KXtjb25zdCBlPUtlLmdldEN1cnJlbnRUcmFjay5jYWxsKHRoaXMpO3Q9QXJyYXkuZnJvbSgoZXx8e30pLmFjdGl2ZUN1ZXN8fFtdKS5tYXAoKGU9PmUuZ2V0Q3VlQXNIVE1MKCkpKS5tYXAocWUpfWNvbnN0IGk9dC5tYXAoKGU9PmUudHJpbSgpKSkuam9pbihcIlxcblwiKTtpZihpIT09dGhpcy5lbGVtZW50cy5jYXB0aW9ucy5pbm5lckhUTUwpe2llKHRoaXMuZWxlbWVudHMuY2FwdGlvbnMpO2NvbnN0IGU9WihcInNwYW5cIixuZSh0aGlzLmNvbmZpZy5zZWxlY3RvcnMuY2FwdGlvbikpO2UuaW5uZXJIVE1MPWksdGhpcy5lbGVtZW50cy5jYXB0aW9ucy5hcHBlbmRDaGlsZChlKSx2ZS5jYWxsKHRoaXMsdGhpcy5tZWRpYSxcImN1ZWNoYW5nZVwiKX19fSxZZT17ZW5hYmxlZDohMCx0aXRsZTpcIlwiLGRlYnVnOiExLGF1dG9wbGF5OiExLGF1dG9wYXVzZTohMCxwbGF5c2lubGluZTohMCxzZWVrVGltZToxMCx2b2x1bWU6MSxtdXRlZDohMSxkdXJhdGlvbjpudWxsLGRpc3BsYXlEdXJhdGlvbjohMCxpbnZlcnRUaW1lOiEwLHRvZ2dsZUludmVydDohMCxyYXRpbzpudWxsLGNsaWNrVG9QbGF5OiEwLGhpZGVDb250cm9sczohMCxyZXNldE9uRW5kOiExLGRpc2FibGVDb250ZXh0TWVudTohMCxsb2FkU3ByaXRlOiEwLGljb25QcmVmaXg6XCJwbHlyXCIsaWNvblVybDpcImh0dHBzOi8vY2RuLnBseXIuaW8vMy42LjcvcGx5ci5zdmdcIixibGFua1ZpZGVvOlwiaHR0cHM6Ly9jZG4ucGx5ci5pby9zdGF0aWMvYmxhbmsubXA0XCIscXVhbGl0eTp7ZGVmYXVsdDo1NzYsb3B0aW9uczpbNDMyMCwyODgwLDIxNjAsMTQ0MCwxMDgwLDcyMCw1NzYsNDgwLDM2MCwyNDBdLGZvcmNlZDohMSxvbkNoYW5nZTpudWxsfSxsb29wOnthY3RpdmU6ITF9LHNwZWVkOntzZWxlY3RlZDoxLG9wdGlvbnM6Wy41LC43NSwxLDEuMjUsMS41LDEuNzUsMiw0XX0sa2V5Ym9hcmQ6e2ZvY3VzZWQ6ITAsZ2xvYmFsOiExfSx0b29sdGlwczp7Y29udHJvbHM6ITEsc2VlazohMH0sY2FwdGlvbnM6e2FjdGl2ZTohMSxsYW5ndWFnZTpcImF1dG9cIix1cGRhdGU6ITF9LGZ1bGxzY3JlZW46e2VuYWJsZWQ6ITAsZmFsbGJhY2s6ITAsaW9zTmF0aXZlOiExfSxzdG9yYWdlOntlbmFibGVkOiEwLGtleTpcInBseXJcIn0sY29udHJvbHM6W1wicGxheS1sYXJnZVwiLFwicGxheVwiLFwicHJvZ3Jlc3NcIixcImN1cnJlbnQtdGltZVwiLFwibXV0ZVwiLFwidm9sdW1lXCIsXCJjYXB0aW9uc1wiLFwic2V0dGluZ3NcIixcInBpcFwiLFwiYWlycGxheVwiLFwiZnVsbHNjcmVlblwiXSxzZXR0aW5nczpbXCJjYXB0aW9uc1wiLFwicXVhbGl0eVwiLFwic3BlZWRcIl0saTE4bjp7cmVzdGFydDpcIlJlc3RhcnRcIixyZXdpbmQ6XCJSZXdpbmQge3NlZWt0aW1lfXNcIixwbGF5OlwiUGxheVwiLHBhdXNlOlwiUGF1c2VcIixmYXN0Rm9yd2FyZDpcIkZvcndhcmQge3NlZWt0aW1lfXNcIixzZWVrOlwiU2Vla1wiLHNlZWtMYWJlbDpcIntjdXJyZW50VGltZX0gb2Yge2R1cmF0aW9ufVwiLHBsYXllZDpcIlBsYXllZFwiLGJ1ZmZlcmVkOlwiQnVmZmVyZWRcIixjdXJyZW50VGltZTpcIkN1cnJlbnQgdGltZVwiLGR1cmF0aW9uOlwiRHVyYXRpb25cIix2b2x1bWU6XCJWb2x1bWVcIixtdXRlOlwiTXV0ZVwiLHVubXV0ZTpcIlVubXV0ZVwiLGVuYWJsZUNhcHRpb25zOlwiRW5hYmxlIGNhcHRpb25zXCIsZGlzYWJsZUNhcHRpb25zOlwiRGlzYWJsZSBjYXB0aW9uc1wiLGRvd25sb2FkOlwiRG93bmxvYWRcIixlbnRlckZ1bGxzY3JlZW46XCJFbnRlciBmdWxsc2NyZWVuXCIsZXhpdEZ1bGxzY3JlZW46XCJFeGl0IGZ1bGxzY3JlZW5cIixmcmFtZVRpdGxlOlwiUGxheWVyIGZvciB7dGl0bGV9XCIsY2FwdGlvbnM6XCJDYXB0aW9uc1wiLHNldHRpbmdzOlwiU2V0dGluZ3NcIixwaXA6XCJQSVBcIixtZW51QmFjazpcIkdvIGJhY2sgdG8gcHJldmlvdXMgbWVudVwiLHNwZWVkOlwiU3BlZWRcIixub3JtYWw6XCJOb3JtYWxcIixxdWFsaXR5OlwiUXVhbGl0eVwiLGxvb3A6XCJMb29wXCIsc3RhcnQ6XCJTdGFydFwiLGVuZDpcIkVuZFwiLGFsbDpcIkFsbFwiLHJlc2V0OlwiUmVzZXRcIixkaXNhYmxlZDpcIkRpc2FibGVkXCIsZW5hYmxlZDpcIkVuYWJsZWRcIixhZHZlcnRpc2VtZW50OlwiQWRcIixxdWFsaXR5QmFkZ2U6ezIxNjA6XCI0S1wiLDE0NDA6XCJIRFwiLDEwODA6XCJIRFwiLDcyMDpcIkhEXCIsNTc2OlwiU0RcIiw0ODA6XCJTRFwifX0sdXJsczp7ZG93bmxvYWQ6bnVsbCx2aW1lbzp7c2RrOlwiaHR0cHM6Ly9wbGF5ZXIudmltZW8uY29tL2FwaS9wbGF5ZXIuanNcIixpZnJhbWU6XCJodHRwczovL3BsYXllci52aW1lby5jb20vdmlkZW8vezB9P3sxfVwiLGFwaTpcImh0dHBzOi8vdmltZW8uY29tL2FwaS9vZW1iZWQuanNvbj91cmw9ezB9XCJ9LHlvdXR1YmU6e3NkazpcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2lmcmFtZV9hcGlcIixhcGk6XCJodHRwczovL25vZW1iZWQuY29tL2VtYmVkP3VybD1odHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PXswfVwifSxnb29nbGVJTUE6e3NkazpcImh0dHBzOi8vaW1hc2RrLmdvb2dsZWFwaXMuY29tL2pzL3Nka2xvYWRlci9pbWEzLmpzXCJ9fSxsaXN0ZW5lcnM6e3NlZWs6bnVsbCxwbGF5Om51bGwscGF1c2U6bnVsbCxyZXN0YXJ0Om51bGwscmV3aW5kOm51bGwsZmFzdEZvcndhcmQ6bnVsbCxtdXRlOm51bGwsdm9sdW1lOm51bGwsY2FwdGlvbnM6bnVsbCxkb3dubG9hZDpudWxsLGZ1bGxzY3JlZW46bnVsbCxwaXA6bnVsbCxhaXJwbGF5Om51bGwsc3BlZWQ6bnVsbCxxdWFsaXR5Om51bGwsbG9vcDpudWxsLGxhbmd1YWdlOm51bGx9LGV2ZW50czpbXCJlbmRlZFwiLFwicHJvZ3Jlc3NcIixcInN0YWxsZWRcIixcInBsYXlpbmdcIixcIndhaXRpbmdcIixcImNhbnBsYXlcIixcImNhbnBsYXl0aHJvdWdoXCIsXCJsb2Fkc3RhcnRcIixcImxvYWRlZGRhdGFcIixcImxvYWRlZG1ldGFkYXRhXCIsXCJ0aW1ldXBkYXRlXCIsXCJ2b2x1bWVjaGFuZ2VcIixcInBsYXlcIixcInBhdXNlXCIsXCJlcnJvclwiLFwic2Vla2luZ1wiLFwic2Vla2VkXCIsXCJlbXB0aWVkXCIsXCJyYXRlY2hhbmdlXCIsXCJjdWVjaGFuZ2VcIixcImRvd25sb2FkXCIsXCJlbnRlcmZ1bGxzY3JlZW5cIixcImV4aXRmdWxsc2NyZWVuXCIsXCJjYXB0aW9uc2VuYWJsZWRcIixcImNhcHRpb25zZGlzYWJsZWRcIixcImxhbmd1YWdlY2hhbmdlXCIsXCJjb250cm9sc2hpZGRlblwiLFwiY29udHJvbHNzaG93blwiLFwicmVhZHlcIixcInN0YXRlY2hhbmdlXCIsXCJxdWFsaXR5Y2hhbmdlXCIsXCJhZHNsb2FkZWRcIixcImFkc2NvbnRlbnRwYXVzZVwiLFwiYWRzY29udGVudHJlc3VtZVwiLFwiYWRzdGFydGVkXCIsXCJhZHNtaWRwb2ludFwiLFwiYWRzY29tcGxldGVcIixcImFkc2FsbGNvbXBsZXRlXCIsXCJhZHNpbXByZXNzaW9uXCIsXCJhZHNjbGlja1wiXSxzZWxlY3RvcnM6e2VkaXRhYmxlOlwiaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QsIFtjb250ZW50ZWRpdGFibGVdXCIsY29udGFpbmVyOlwiLnBseXJcIixjb250cm9sczp7Y29udGFpbmVyOm51bGwsd3JhcHBlcjpcIi5wbHlyX19jb250cm9sc1wifSxsYWJlbHM6XCJbZGF0YS1wbHlyXVwiLGJ1dHRvbnM6e3BsYXk6J1tkYXRhLXBseXI9XCJwbGF5XCJdJyxwYXVzZTonW2RhdGEtcGx5cj1cInBhdXNlXCJdJyxyZXN0YXJ0OidbZGF0YS1wbHlyPVwicmVzdGFydFwiXScscmV3aW5kOidbZGF0YS1wbHlyPVwicmV3aW5kXCJdJyxmYXN0Rm9yd2FyZDonW2RhdGEtcGx5cj1cImZhc3QtZm9yd2FyZFwiXScsbXV0ZTonW2RhdGEtcGx5cj1cIm11dGVcIl0nLGNhcHRpb25zOidbZGF0YS1wbHlyPVwiY2FwdGlvbnNcIl0nLGRvd25sb2FkOidbZGF0YS1wbHlyPVwiZG93bmxvYWRcIl0nLGZ1bGxzY3JlZW46J1tkYXRhLXBseXI9XCJmdWxsc2NyZWVuXCJdJyxwaXA6J1tkYXRhLXBseXI9XCJwaXBcIl0nLGFpcnBsYXk6J1tkYXRhLXBseXI9XCJhaXJwbGF5XCJdJyxzZXR0aW5nczonW2RhdGEtcGx5cj1cInNldHRpbmdzXCJdJyxsb29wOidbZGF0YS1wbHlyPVwibG9vcFwiXSd9LGlucHV0czp7c2VlazonW2RhdGEtcGx5cj1cInNlZWtcIl0nLHZvbHVtZTonW2RhdGEtcGx5cj1cInZvbHVtZVwiXScsc3BlZWQ6J1tkYXRhLXBseXI9XCJzcGVlZFwiXScsbGFuZ3VhZ2U6J1tkYXRhLXBseXI9XCJsYW5ndWFnZVwiXScscXVhbGl0eTonW2RhdGEtcGx5cj1cInF1YWxpdHlcIl0nfSxkaXNwbGF5OntjdXJyZW50VGltZTpcIi5wbHlyX190aW1lLS1jdXJyZW50XCIsZHVyYXRpb246XCIucGx5cl9fdGltZS0tZHVyYXRpb25cIixidWZmZXI6XCIucGx5cl9fcHJvZ3Jlc3NfX2J1ZmZlclwiLGxvb3A6XCIucGx5cl9fcHJvZ3Jlc3NfX2xvb3BcIix2b2x1bWU6XCIucGx5cl9fdm9sdW1lLS1kaXNwbGF5XCJ9LHByb2dyZXNzOlwiLnBseXJfX3Byb2dyZXNzXCIsY2FwdGlvbnM6XCIucGx5cl9fY2FwdGlvbnNcIixjYXB0aW9uOlwiLnBseXJfX2NhcHRpb25cIn0sY2xhc3NOYW1lczp7dHlwZTpcInBseXItLXswfVwiLHByb3ZpZGVyOlwicGx5ci0tezB9XCIsdmlkZW86XCJwbHlyX192aWRlby13cmFwcGVyXCIsZW1iZWQ6XCJwbHlyX192aWRlby1lbWJlZFwiLHZpZGVvRml4ZWRSYXRpbzpcInBseXJfX3ZpZGVvLXdyYXBwZXItLWZpeGVkLXJhdGlvXCIsZW1iZWRDb250YWluZXI6XCJwbHlyX192aWRlby1lbWJlZF9fY29udGFpbmVyXCIscG9zdGVyOlwicGx5cl9fcG9zdGVyXCIscG9zdGVyRW5hYmxlZDpcInBseXJfX3Bvc3Rlci1lbmFibGVkXCIsYWRzOlwicGx5cl9fYWRzXCIsY29udHJvbDpcInBseXJfX2NvbnRyb2xcIixjb250cm9sUHJlc3NlZDpcInBseXJfX2NvbnRyb2wtLXByZXNzZWRcIixwbGF5aW5nOlwicGx5ci0tcGxheWluZ1wiLHBhdXNlZDpcInBseXItLXBhdXNlZFwiLHN0b3BwZWQ6XCJwbHlyLS1zdG9wcGVkXCIsbG9hZGluZzpcInBseXItLWxvYWRpbmdcIixob3ZlcjpcInBseXItLWhvdmVyXCIsdG9vbHRpcDpcInBseXJfX3Rvb2x0aXBcIixjdWVzOlwicGx5cl9fY3Vlc1wiLGhpZGRlbjpcInBseXJfX3NyLW9ubHlcIixoaWRlQ29udHJvbHM6XCJwbHlyLS1oaWRlLWNvbnRyb2xzXCIsaXNJb3M6XCJwbHlyLS1pcy1pb3NcIixpc1RvdWNoOlwicGx5ci0taXMtdG91Y2hcIix1aVN1cHBvcnRlZDpcInBseXItLWZ1bGwtdWlcIixub1RyYW5zaXRpb246XCJwbHlyLS1uby10cmFuc2l0aW9uXCIsZGlzcGxheTp7dGltZTpcInBseXJfX3RpbWVcIn0sbWVudTp7dmFsdWU6XCJwbHlyX19tZW51X192YWx1ZVwiLGJhZGdlOlwicGx5cl9fYmFkZ2VcIixvcGVuOlwicGx5ci0tbWVudS1vcGVuXCJ9LGNhcHRpb25zOntlbmFibGVkOlwicGx5ci0tY2FwdGlvbnMtZW5hYmxlZFwiLGFjdGl2ZTpcInBseXItLWNhcHRpb25zLWFjdGl2ZVwifSxmdWxsc2NyZWVuOntlbmFibGVkOlwicGx5ci0tZnVsbHNjcmVlbi1lbmFibGVkXCIsZmFsbGJhY2s6XCJwbHlyLS1mdWxsc2NyZWVuLWZhbGxiYWNrXCJ9LHBpcDp7c3VwcG9ydGVkOlwicGx5ci0tcGlwLXN1cHBvcnRlZFwiLGFjdGl2ZTpcInBseXItLXBpcC1hY3RpdmVcIn0sYWlycGxheTp7c3VwcG9ydGVkOlwicGx5ci0tYWlycGxheS1zdXBwb3J0ZWRcIixhY3RpdmU6XCJwbHlyLS1haXJwbGF5LWFjdGl2ZVwifSx0YWJGb2N1czpcInBseXJfX3RhYi1mb2N1c1wiLHByZXZpZXdUaHVtYm5haWxzOnt0aHVtYkNvbnRhaW5lcjpcInBseXJfX3ByZXZpZXctdGh1bWJcIix0aHVtYkNvbnRhaW5lclNob3duOlwicGx5cl9fcHJldmlldy10aHVtYi0taXMtc2hvd25cIixpbWFnZUNvbnRhaW5lcjpcInBseXJfX3ByZXZpZXctdGh1bWJfX2ltYWdlLWNvbnRhaW5lclwiLHRpbWVDb250YWluZXI6XCJwbHlyX19wcmV2aWV3LXRodW1iX190aW1lLWNvbnRhaW5lclwiLHNjcnViYmluZ0NvbnRhaW5lcjpcInBseXJfX3ByZXZpZXctc2NydWJiaW5nXCIsc2NydWJiaW5nQ29udGFpbmVyU2hvd246XCJwbHlyX19wcmV2aWV3LXNjcnViYmluZy0taXMtc2hvd25cIn19LGF0dHJpYnV0ZXM6e2VtYmVkOntwcm92aWRlcjpcImRhdGEtcGx5ci1wcm92aWRlclwiLGlkOlwiZGF0YS1wbHlyLWVtYmVkLWlkXCJ9fSxhZHM6e2VuYWJsZWQ6ITEscHVibGlzaGVySWQ6XCJcIix0YWdVcmw6XCJcIn0scHJldmlld1RodW1ibmFpbHM6e2VuYWJsZWQ6ITEsc3JjOlwiXCJ9LHZpbWVvOntieWxpbmU6ITEscG9ydHJhaXQ6ITEsdGl0bGU6ITEsc3BlZWQ6ITAsdHJhbnNwYXJlbnQ6ITEsY3VzdG9tQ29udHJvbHM6ITAscmVmZXJyZXJQb2xpY3k6bnVsbCxwcmVtaXVtOiExfSx5b3V0dWJlOntyZWw6MCxzaG93aW5mbzowLGl2X2xvYWRfcG9saWN5OjMsbW9kZXN0YnJhbmRpbmc6MSxjdXN0b21Db250cm9sczohMCxub0Nvb2tpZTohMX19LFFlPVwicGljdHVyZS1pbi1waWN0dXJlXCIsWGU9XCJpbmxpbmVcIixKZT17aHRtbDU6XCJodG1sNVwiLHlvdXR1YmU6XCJ5b3V0dWJlXCIsdmltZW86XCJ2aW1lb1wifSxHZT1cImF1ZGlvXCIsWmU9XCJ2aWRlb1wiO2NvbnN0IGV0PSgpPT57fTtjbGFzcyB0dHtjb25zdHJ1Y3RvcihlPSExKXt0aGlzLmVuYWJsZWQ9d2luZG93LmNvbnNvbGUmJmUsdGhpcy5lbmFibGVkJiZ0aGlzLmxvZyhcIkRlYnVnZ2luZyBlbmFibGVkXCIpfWdldCBsb2coKXtyZXR1cm4gdGhpcy5lbmFibGVkP0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5sb2csY29uc29sZSk6ZXR9Z2V0IHdhcm4oKXtyZXR1cm4gdGhpcy5lbmFibGVkP0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS53YXJuLGNvbnNvbGUpOmV0fWdldCBlcnJvcigpe3JldHVybiB0aGlzLmVuYWJsZWQ/RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmVycm9yLGNvbnNvbGUpOmV0fX1jbGFzcyBpdHtjb25zdHJ1Y3Rvcih0KXtlKHRoaXMsXCJvbkNoYW5nZVwiLCgoKT0+e2lmKCF0aGlzLmVuYWJsZWQpcmV0dXJuO2NvbnN0IGU9dGhpcy5wbGF5ZXIuZWxlbWVudHMuYnV0dG9ucy5mdWxsc2NyZWVuO0goZSkmJihlLnByZXNzZWQ9dGhpcy5hY3RpdmUpO2NvbnN0IHQ9dGhpcy50YXJnZXQ9PT10aGlzLnBsYXllci5tZWRpYT90aGlzLnRhcmdldDp0aGlzLnBsYXllci5lbGVtZW50cy5jb250YWluZXI7dmUuY2FsbCh0aGlzLnBsYXllcix0LHRoaXMuYWN0aXZlP1wiZW50ZXJmdWxsc2NyZWVuXCI6XCJleGl0ZnVsbHNjcmVlblwiLCEwKX0pKSxlKHRoaXMsXCJ0b2dnbGVGYWxsYmFja1wiLCgoZT0hMSk9PntpZihlP3RoaXMuc2Nyb2xsUG9zaXRpb249e3g6d2luZG93LnNjcm9sbFh8fDAseTp3aW5kb3cuc2Nyb2xsWXx8MH06d2luZG93LnNjcm9sbFRvKHRoaXMuc2Nyb2xsUG9zaXRpb24ueCx0aGlzLnNjcm9sbFBvc2l0aW9uLnkpLGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9ZT9cImhpZGRlblwiOlwiXCIsbGUodGhpcy50YXJnZXQsdGhpcy5wbGF5ZXIuY29uZmlnLmNsYXNzTmFtZXMuZnVsbHNjcmVlbi5mYWxsYmFjayxlKSxZLmlzSW9zKXtsZXQgdD1kb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cInZpZXdwb3J0XCJdJyk7Y29uc3QgaT1cInZpZXdwb3J0LWZpdD1jb3ZlclwiO3R8fCh0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJtZXRhXCIpLHQuc2V0QXR0cmlidXRlKFwibmFtZVwiLFwidmlld3BvcnRcIikpO2NvbnN0IHM9Xyh0LmNvbnRlbnQpJiZ0LmNvbnRlbnQuaW5jbHVkZXMoaSk7ZT8odGhpcy5jbGVhbnVwVmlld3BvcnQ9IXMsc3x8KHQuY29udGVudCs9YCwke2l9YCkpOnRoaXMuY2xlYW51cFZpZXdwb3J0JiYodC5jb250ZW50PXQuY29udGVudC5zcGxpdChcIixcIikuZmlsdGVyKChlPT5lLnRyaW0oKSE9PWkpKS5qb2luKFwiLFwiKSl9dGhpcy5vbkNoYW5nZSgpfSkpLGUodGhpcyxcInRyYXBGb2N1c1wiLChlPT57aWYoWS5pc0lvc3x8IXRoaXMuYWN0aXZlfHxcIlRhYlwiIT09ZS5rZXl8fDkhPT1lLmtleUNvZGUpcmV0dXJuO2NvbnN0IHQ9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCxpPWNlLmNhbGwodGhpcy5wbGF5ZXIsXCJhW2hyZWZdLCBidXR0b246bm90KDpkaXNhYmxlZCksIGlucHV0Om5vdCg6ZGlzYWJsZWQpLCBbdGFiaW5kZXhdXCIpLFtzXT1pLG49aVtpLmxlbmd0aC0xXTt0IT09bnx8ZS5zaGlmdEtleT90PT09cyYmZS5zaGlmdEtleSYmKG4uZm9jdXMoKSxlLnByZXZlbnREZWZhdWx0KCkpOihzLmZvY3VzKCksZS5wcmV2ZW50RGVmYXVsdCgpKX0pKSxlKHRoaXMsXCJ1cGRhdGVcIiwoKCk9PntpZih0aGlzLmVuYWJsZWQpe2xldCBlO2U9dGhpcy5mb3JjZUZhbGxiYWNrP1wiRmFsbGJhY2sgKGZvcmNlZClcIjppdC5uYXRpdmU/XCJOYXRpdmVcIjpcIkZhbGxiYWNrXCIsdGhpcy5wbGF5ZXIuZGVidWcubG9nKGAke2V9IGZ1bGxzY3JlZW4gZW5hYmxlZGApfWVsc2UgdGhpcy5wbGF5ZXIuZGVidWcubG9nKFwiRnVsbHNjcmVlbiBub3Qgc3VwcG9ydGVkIGFuZCBmYWxsYmFjayBkaXNhYmxlZFwiKTtsZSh0aGlzLnBsYXllci5lbGVtZW50cy5jb250YWluZXIsdGhpcy5wbGF5ZXIuY29uZmlnLmNsYXNzTmFtZXMuZnVsbHNjcmVlbi5lbmFibGVkLHRoaXMuZW5hYmxlZCl9KSksZSh0aGlzLFwiZW50ZXJcIiwoKCk9Pnt0aGlzLmVuYWJsZWQmJihZLmlzSW9zJiZ0aGlzLnBsYXllci5jb25maWcuZnVsbHNjcmVlbi5pb3NOYXRpdmU/dGhpcy5wbGF5ZXIuaXNWaW1lbz90aGlzLnBsYXllci5lbWJlZC5yZXF1ZXN0RnVsbHNjcmVlbigpOnRoaXMudGFyZ2V0LndlYmtpdEVudGVyRnVsbHNjcmVlbigpOiFpdC5uYXRpdmV8fHRoaXMuZm9yY2VGYWxsYmFjaz90aGlzLnRvZ2dsZUZhbGxiYWNrKCEwKTp0aGlzLnByZWZpeD9XKHRoaXMucHJlZml4KXx8dGhpcy50YXJnZXRbYCR7dGhpcy5wcmVmaXh9UmVxdWVzdCR7dGhpcy5wcm9wZXJ0eX1gXSgpOnRoaXMudGFyZ2V0LnJlcXVlc3RGdWxsc2NyZWVuKHtuYXZpZ2F0aW9uVUk6XCJoaWRlXCJ9KSl9KSksZSh0aGlzLFwiZXhpdFwiLCgoKT0+e2lmKHRoaXMuZW5hYmxlZClpZihZLmlzSW9zJiZ0aGlzLnBsYXllci5jb25maWcuZnVsbHNjcmVlbi5pb3NOYXRpdmUpdGhpcy50YXJnZXQud2Via2l0RXhpdEZ1bGxzY3JlZW4oKSxrZSh0aGlzLnBsYXllci5wbGF5KCkpO2Vsc2UgaWYoIWl0Lm5hdGl2ZXx8dGhpcy5mb3JjZUZhbGxiYWNrKXRoaXMudG9nZ2xlRmFsbGJhY2soITEpO2Vsc2UgaWYodGhpcy5wcmVmaXgpe2lmKCFXKHRoaXMucHJlZml4KSl7Y29uc3QgZT1cIm1velwiPT09dGhpcy5wcmVmaXg/XCJDYW5jZWxcIjpcIkV4aXRcIjtkb2N1bWVudFtgJHt0aGlzLnByZWZpeH0ke2V9JHt0aGlzLnByb3BlcnR5fWBdKCl9fWVsc2UoZG9jdW1lbnQuY2FuY2VsRnVsbFNjcmVlbnx8ZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4pLmNhbGwoZG9jdW1lbnQpfSkpLGUodGhpcyxcInRvZ2dsZVwiLCgoKT0+e3RoaXMuYWN0aXZlP3RoaXMuZXhpdCgpOnRoaXMuZW50ZXIoKX0pKSx0aGlzLnBsYXllcj10LHRoaXMucHJlZml4PWl0LnByZWZpeCx0aGlzLnByb3BlcnR5PWl0LnByb3BlcnR5LHRoaXMuc2Nyb2xsUG9zaXRpb249e3g6MCx5OjB9LHRoaXMuZm9yY2VGYWxsYmFjaz1cImZvcmNlXCI9PT10LmNvbmZpZy5mdWxsc2NyZWVuLmZhbGxiYWNrLHRoaXMucGxheWVyLmVsZW1lbnRzLmZ1bGxzY3JlZW49dC5jb25maWcuZnVsbHNjcmVlbi5jb250YWluZXImJmZ1bmN0aW9uKGUsdCl7Y29uc3R7cHJvdG90eXBlOml9PUVsZW1lbnQ7cmV0dXJuKGkuY2xvc2VzdHx8ZnVuY3Rpb24oKXtsZXQgZT10aGlzO2Rve2lmKHJlLm1hdGNoZXMoZSx0KSlyZXR1cm4gZTtlPWUucGFyZW50RWxlbWVudHx8ZS5wYXJlbnROb2RlfXdoaWxlKG51bGwhPT1lJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuIG51bGx9KS5jYWxsKGUsdCl9KHRoaXMucGxheWVyLmVsZW1lbnRzLmNvbnRhaW5lcix0LmNvbmZpZy5mdWxsc2NyZWVuLmNvbnRhaW5lciksZmUuY2FsbCh0aGlzLnBsYXllcixkb2N1bWVudCxcIm1zXCI9PT10aGlzLnByZWZpeD9cIk1TRnVsbHNjcmVlbkNoYW5nZVwiOmAke3RoaXMucHJlZml4fWZ1bGxzY3JlZW5jaGFuZ2VgLCgoKT0+e3RoaXMub25DaGFuZ2UoKX0pKSxmZS5jYWxsKHRoaXMucGxheWVyLHRoaXMucGxheWVyLmVsZW1lbnRzLmNvbnRhaW5lcixcImRibGNsaWNrXCIsKGU9PntIKHRoaXMucGxheWVyLmVsZW1lbnRzLmNvbnRyb2xzKSYmdGhpcy5wbGF5ZXIuZWxlbWVudHMuY29udHJvbHMuY29udGFpbnMoZS50YXJnZXQpfHx0aGlzLnBsYXllci5saXN0ZW5lcnMucHJveHkoZSx0aGlzLnRvZ2dsZSxcImZ1bGxzY3JlZW5cIil9KSksZmUuY2FsbCh0aGlzLHRoaXMucGxheWVyLmVsZW1lbnRzLmNvbnRhaW5lcixcImtleWRvd25cIiwoZT0+dGhpcy50cmFwRm9jdXMoZSkpKSx0aGlzLnVwZGF0ZSgpfXN0YXRpYyBnZXQgbmF0aXZlKCl7cmV0dXJuISEoZG9jdW1lbnQuZnVsbHNjcmVlbkVuYWJsZWR8fGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbmFibGVkfHxkb2N1bWVudC5tb3pGdWxsU2NyZWVuRW5hYmxlZHx8ZG9jdW1lbnQubXNGdWxsc2NyZWVuRW5hYmxlZCl9Z2V0IHVzaW5nTmF0aXZlKCl7cmV0dXJuIGl0Lm5hdGl2ZSYmIXRoaXMuZm9yY2VGYWxsYmFja31zdGF0aWMgZ2V0IHByZWZpeCgpe2lmKHEoZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4pKXJldHVyblwiXCI7bGV0IGU9XCJcIjtyZXR1cm5bXCJ3ZWJraXRcIixcIm1velwiLFwibXNcIl0uc29tZSgodD0+ISghcShkb2N1bWVudFtgJHt0fUV4aXRGdWxsc2NyZWVuYF0pJiYhcShkb2N1bWVudFtgJHt0fUNhbmNlbEZ1bGxTY3JlZW5gXSkpJiYoZT10LCEwKSkpLGV9c3RhdGljIGdldCBwcm9wZXJ0eSgpe3JldHVyblwibW96XCI9PT10aGlzLnByZWZpeD9cIkZ1bGxTY3JlZW5cIjpcIkZ1bGxzY3JlZW5cIn1nZXQgZW5hYmxlZCgpe3JldHVybihpdC5uYXRpdmV8fHRoaXMucGxheWVyLmNvbmZpZy5mdWxsc2NyZWVuLmZhbGxiYWNrKSYmdGhpcy5wbGF5ZXIuY29uZmlnLmZ1bGxzY3JlZW4uZW5hYmxlZCYmdGhpcy5wbGF5ZXIuc3VwcG9ydGVkLnVpJiZ0aGlzLnBsYXllci5pc1ZpZGVvfWdldCBhY3RpdmUoKXtpZighdGhpcy5lbmFibGVkKXJldHVybiExO2lmKCFpdC5uYXRpdmV8fHRoaXMuZm9yY2VGYWxsYmFjaylyZXR1cm4gb2UodGhpcy50YXJnZXQsdGhpcy5wbGF5ZXIuY29uZmlnLmNsYXNzTmFtZXMuZnVsbHNjcmVlbi5mYWxsYmFjayk7Y29uc3QgZT10aGlzLnByZWZpeD9kb2N1bWVudFtgJHt0aGlzLnByZWZpeH0ke3RoaXMucHJvcGVydHl9RWxlbWVudGBdOmRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50O3JldHVybiBlJiZlLnNoYWRvd1Jvb3Q/ZT09PXRoaXMudGFyZ2V0LmdldFJvb3ROb2RlKCkuaG9zdDplPT09dGhpcy50YXJnZXR9Z2V0IHRhcmdldCgpe3JldHVybiBZLmlzSW9zJiZ0aGlzLnBsYXllci5jb25maWcuZnVsbHNjcmVlbi5pb3NOYXRpdmU/dGhpcy5wbGF5ZXIubWVkaWE6dGhpcy5wbGF5ZXIuZWxlbWVudHMuZnVsbHNjcmVlbnx8dGhpcy5wbGF5ZXIuZWxlbWVudHMuY29udGFpbmVyfX1mdW5jdGlvbiBzdChlLHQ9MSl7cmV0dXJuIG5ldyBQcm9taXNlKCgoaSxzKT0+e2NvbnN0IG49bmV3IEltYWdlLGE9KCk9PntkZWxldGUgbi5vbmxvYWQsZGVsZXRlIG4ub25lcnJvciwobi5uYXR1cmFsV2lkdGg+PXQ/aTpzKShuKX07T2JqZWN0LmFzc2lnbihuLHtvbmxvYWQ6YSxvbmVycm9yOmEsc3JjOmV9KX0pKX1jb25zdCBudD17YWRkU3R5bGVIb29rKCl7bGUodGhpcy5lbGVtZW50cy5jb250YWluZXIsdGhpcy5jb25maWcuc2VsZWN0b3JzLmNvbnRhaW5lci5yZXBsYWNlKFwiLlwiLFwiXCIpLCEwKSxsZSh0aGlzLmVsZW1lbnRzLmNvbnRhaW5lcix0aGlzLmNvbmZpZy5jbGFzc05hbWVzLnVpU3VwcG9ydGVkLHRoaXMuc3VwcG9ydGVkLnVpKX0sdG9nZ2xlTmF0aXZlQ29udHJvbHMoZT0hMSl7ZSYmdGhpcy5pc0hUTUw1P3RoaXMubWVkaWEuc2V0QXR0cmlidXRlKFwiY29udHJvbHNcIixcIlwiKTp0aGlzLm1lZGlhLnJlbW92ZUF0dHJpYnV0ZShcImNvbnRyb2xzXCIpfSxidWlsZCgpe2lmKHRoaXMubGlzdGVuZXJzLm1lZGlhKCksIXRoaXMuc3VwcG9ydGVkLnVpKXJldHVybiB0aGlzLmRlYnVnLndhcm4oYEJhc2ljIHN1cHBvcnQgb25seSBmb3IgJHt0aGlzLnByb3ZpZGVyfSAke3RoaXMudHlwZX1gKSx2b2lkIG50LnRvZ2dsZU5hdGl2ZUNvbnRyb2xzLmNhbGwodGhpcywhMCk7SCh0aGlzLmVsZW1lbnRzLmNvbnRyb2xzKXx8KFVlLmluamVjdC5jYWxsKHRoaXMpLHRoaXMubGlzdGVuZXJzLmNvbnRyb2xzKCkpLG50LnRvZ2dsZU5hdGl2ZUNvbnRyb2xzLmNhbGwodGhpcyksdGhpcy5pc0hUTUw1JiZLZS5zZXR1cC5jYWxsKHRoaXMpLHRoaXMudm9sdW1lPW51bGwsdGhpcy5tdXRlZD1udWxsLHRoaXMubG9vcD1udWxsLHRoaXMucXVhbGl0eT1udWxsLHRoaXMuc3BlZWQ9bnVsbCxVZS51cGRhdGVWb2x1bWUuY2FsbCh0aGlzKSxVZS50aW1lVXBkYXRlLmNhbGwodGhpcyksbnQuY2hlY2tQbGF5aW5nLmNhbGwodGhpcyksbGUodGhpcy5lbGVtZW50cy5jb250YWluZXIsdGhpcy5jb25maWcuY2xhc3NOYW1lcy5waXAuc3VwcG9ydGVkLG1lLnBpcCYmdGhpcy5pc0hUTUw1JiZ0aGlzLmlzVmlkZW8pLGxlKHRoaXMuZWxlbWVudHMuY29udGFpbmVyLHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuYWlycGxheS5zdXBwb3J0ZWQsbWUuYWlycGxheSYmdGhpcy5pc0hUTUw1KSxsZSh0aGlzLmVsZW1lbnRzLmNvbnRhaW5lcix0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmlzSW9zLFkuaXNJb3MpLGxlKHRoaXMuZWxlbWVudHMuY29udGFpbmVyLHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuaXNUb3VjaCx0aGlzLnRvdWNoKSx0aGlzLnJlYWR5PSEwLHNldFRpbWVvdXQoKCgpPT57dmUuY2FsbCh0aGlzLHRoaXMubWVkaWEsXCJyZWFkeVwiKX0pLDApLG50LnNldFRpdGxlLmNhbGwodGhpcyksdGhpcy5wb3N0ZXImJm50LnNldFBvc3Rlci5jYWxsKHRoaXMsdGhpcy5wb3N0ZXIsITEpLmNhdGNoKCgoKT0+e30pKSx0aGlzLmNvbmZpZy5kdXJhdGlvbiYmVWUuZHVyYXRpb25VcGRhdGUuY2FsbCh0aGlzKX0sc2V0VGl0bGUoKXtsZXQgZT1EZS5nZXQoXCJwbGF5XCIsdGhpcy5jb25maWcpO2lmKF8odGhpcy5jb25maWcudGl0bGUpJiYhVyh0aGlzLmNvbmZpZy50aXRsZSkmJihlKz1gLCAke3RoaXMuY29uZmlnLnRpdGxlfWApLEFycmF5LmZyb20odGhpcy5lbGVtZW50cy5idXR0b25zLnBsYXl8fFtdKS5mb3JFYWNoKCh0PT57dC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsZSl9KSksdGhpcy5pc0VtYmVkKXtjb25zdCBlPWhlLmNhbGwodGhpcyxcImlmcmFtZVwiKTtpZighSChlKSlyZXR1cm47Y29uc3QgdD1XKHRoaXMuY29uZmlnLnRpdGxlKT9cInZpZGVvXCI6dGhpcy5jb25maWcudGl0bGUsaT1EZS5nZXQoXCJmcmFtZVRpdGxlXCIsdGhpcy5jb25maWcpO2Uuc2V0QXR0cmlidXRlKFwidGl0bGVcIixpLnJlcGxhY2UoXCJ7dGl0bGV9XCIsdCkpfX0sdG9nZ2xlUG9zdGVyKGUpe2xlKHRoaXMuZWxlbWVudHMuY29udGFpbmVyLHRoaXMuY29uZmlnLmNsYXNzTmFtZXMucG9zdGVyRW5hYmxlZCxlKX0sc2V0UG9zdGVyKGUsdD0hMCl7cmV0dXJuIHQmJnRoaXMucG9zdGVyP1Byb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIlBvc3RlciBhbHJlYWR5IHNldFwiKSk6KHRoaXMubWVkaWEuc2V0QXR0cmlidXRlKFwiZGF0YS1wb3N0ZXJcIixlKSx0aGlzLmVsZW1lbnRzLnBvc3Rlci5yZW1vdmVBdHRyaWJ1dGUoXCJoaWRkZW5cIiksVGUuY2FsbCh0aGlzKS50aGVuKCgoKT0+c3QoZSkpKS5jYXRjaCgodD0+e3Rocm93IGU9PT10aGlzLnBvc3RlciYmbnQudG9nZ2xlUG9zdGVyLmNhbGwodGhpcywhMSksdH0pKS50aGVuKCgoKT0+e2lmKGUhPT10aGlzLnBvc3Rlcil0aHJvdyBuZXcgRXJyb3IoXCJzZXRQb3N0ZXIgY2FuY2VsbGVkIGJ5IGxhdGVyIGNhbGwgdG8gc2V0UG9zdGVyXCIpfSkpLnRoZW4oKCgpPT4oT2JqZWN0LmFzc2lnbih0aGlzLmVsZW1lbnRzLnBvc3Rlci5zdHlsZSx7YmFja2dyb3VuZEltYWdlOmB1cmwoJyR7ZX0nKWAsYmFja2dyb3VuZFNpemU6XCJcIn0pLG50LnRvZ2dsZVBvc3Rlci5jYWxsKHRoaXMsITApLGUpKSkpfSxjaGVja1BsYXlpbmcoZSl7bGUodGhpcy5lbGVtZW50cy5jb250YWluZXIsdGhpcy5jb25maWcuY2xhc3NOYW1lcy5wbGF5aW5nLHRoaXMucGxheWluZyksbGUodGhpcy5lbGVtZW50cy5jb250YWluZXIsdGhpcy5jb25maWcuY2xhc3NOYW1lcy5wYXVzZWQsdGhpcy5wYXVzZWQpLGxlKHRoaXMuZWxlbWVudHMuY29udGFpbmVyLHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuc3RvcHBlZCx0aGlzLnN0b3BwZWQpLEFycmF5LmZyb20odGhpcy5lbGVtZW50cy5idXR0b25zLnBsYXl8fFtdKS5mb3JFYWNoKChlPT57T2JqZWN0LmFzc2lnbihlLHtwcmVzc2VkOnRoaXMucGxheWluZ30pLGUuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLERlLmdldCh0aGlzLnBsYXlpbmc/XCJwYXVzZVwiOlwicGxheVwiLHRoaXMuY29uZmlnKSl9KSksRihlKSYmXCJ0aW1ldXBkYXRlXCI9PT1lLnR5cGV8fG50LnRvZ2dsZUNvbnRyb2xzLmNhbGwodGhpcyl9LGNoZWNrTG9hZGluZyhlKXt0aGlzLmxvYWRpbmc9W1wic3RhbGxlZFwiLFwid2FpdGluZ1wiXS5pbmNsdWRlcyhlLnR5cGUpLGNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5sb2FkaW5nKSx0aGlzLnRpbWVycy5sb2FkaW5nPXNldFRpbWVvdXQoKCgpPT57bGUodGhpcy5lbGVtZW50cy5jb250YWluZXIsdGhpcy5jb25maWcuY2xhc3NOYW1lcy5sb2FkaW5nLHRoaXMubG9hZGluZyksbnQudG9nZ2xlQ29udHJvbHMuY2FsbCh0aGlzKX0pLHRoaXMubG9hZGluZz8yNTA6MCl9LHRvZ2dsZUNvbnRyb2xzKGUpe2NvbnN0e2NvbnRyb2xzOnR9PXRoaXMuZWxlbWVudHM7aWYodCYmdGhpcy5jb25maWcuaGlkZUNvbnRyb2xzKXtjb25zdCBpPXRoaXMudG91Y2gmJnRoaXMubGFzdFNlZWtUaW1lKzJlMz5EYXRlLm5vdygpO3RoaXMudG9nZ2xlQ29udHJvbHMoQm9vbGVhbihlfHx0aGlzLmxvYWRpbmd8fHRoaXMucGF1c2VkfHx0LnByZXNzZWR8fHQuaG92ZXJ8fGkpKX19LG1pZ3JhdGVTdHlsZXMoKXtPYmplY3QudmFsdWVzKHsuLi50aGlzLm1lZGlhLnN0eWxlfSkuZmlsdGVyKChlPT4hVyhlKSYmXyhlKSYmZS5zdGFydHNXaXRoKFwiLS1wbHlyXCIpKSkuZm9yRWFjaCgoZT0+e3RoaXMuZWxlbWVudHMuY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KGUsdGhpcy5tZWRpYS5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKGUpKSx0aGlzLm1lZGlhLnN0eWxlLnJlbW92ZVByb3BlcnR5KGUpfSkpLFcodGhpcy5tZWRpYS5zdHlsZSkmJnRoaXMubWVkaWEucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIil9fTtjbGFzcyBhdHtjb25zdHJ1Y3Rvcih0KXtlKHRoaXMsXCJmaXJzdFRvdWNoXCIsKCgpPT57Y29uc3R7cGxheWVyOmV9PXRoaXMse2VsZW1lbnRzOnR9PWU7ZS50b3VjaD0hMCxsZSh0LmNvbnRhaW5lcixlLmNvbmZpZy5jbGFzc05hbWVzLmlzVG91Y2gsITApfSkpLGUodGhpcyxcInNldFRhYkZvY3VzXCIsKGU9Pntjb25zdHtwbGF5ZXI6dH09dGhpcyx7ZWxlbWVudHM6aX09dDtpZihjbGVhclRpbWVvdXQodGhpcy5mb2N1c1RpbWVyKSxcImtleWRvd25cIj09PWUudHlwZSYmOSE9PWUud2hpY2gpcmV0dXJuO1wia2V5ZG93blwiPT09ZS50eXBlJiYodGhpcy5sYXN0S2V5RG93bj1lLnRpbWVTdGFtcCk7Y29uc3Qgcz1lLnRpbWVTdGFtcC10aGlzLmxhc3RLZXlEb3duPD0yMDsoXCJmb2N1c1wiIT09ZS50eXBlfHxzKSYmKCgoKT0+e2NvbnN0IGU9dC5jb25maWcuY2xhc3NOYW1lcy50YWJGb2N1cztsZShjZS5jYWxsKHQsYC4ke2V9YCksZSwhMSl9KSgpLFwiZm9jdXNvdXRcIiE9PWUudHlwZSYmKHRoaXMuZm9jdXNUaW1lcj1zZXRUaW1lb3V0KCgoKT0+e2NvbnN0IGU9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtpLmNvbnRhaW5lci5jb250YWlucyhlKSYmbGUoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCx0LmNvbmZpZy5jbGFzc05hbWVzLnRhYkZvY3VzLCEwKX0pLDEwKSkpfSkpLGUodGhpcyxcImdsb2JhbFwiLCgoZT0hMCk9Pntjb25zdHtwbGF5ZXI6dH09dGhpczt0LmNvbmZpZy5rZXlib2FyZC5nbG9iYWwmJmdlLmNhbGwodCx3aW5kb3csXCJrZXlkb3duIGtleXVwXCIsdGhpcy5oYW5kbGVLZXksZSwhMSksZ2UuY2FsbCh0LGRvY3VtZW50LmJvZHksXCJjbGlja1wiLHRoaXMudG9nZ2xlTWVudSxlKSx5ZS5jYWxsKHQsZG9jdW1lbnQuYm9keSxcInRvdWNoc3RhcnRcIix0aGlzLmZpcnN0VG91Y2gpLGdlLmNhbGwodCxkb2N1bWVudC5ib2R5LFwia2V5ZG93biBmb2N1cyBibHVyIGZvY3Vzb3V0XCIsdGhpcy5zZXRUYWJGb2N1cyxlLCExLCEwKX0pKSxlKHRoaXMsXCJjb250YWluZXJcIiwoKCk9Pntjb25zdHtwbGF5ZXI6ZX09dGhpcyx7Y29uZmlnOnQsZWxlbWVudHM6aSx0aW1lcnM6c309ZTshdC5rZXlib2FyZC5nbG9iYWwmJnQua2V5Ym9hcmQuZm9jdXNlZCYmZmUuY2FsbChlLGkuY29udGFpbmVyLFwia2V5ZG93biBrZXl1cFwiLHRoaXMuaGFuZGxlS2V5LCExKSxmZS5jYWxsKGUsaS5jb250YWluZXIsXCJtb3VzZW1vdmUgbW91c2VsZWF2ZSB0b3VjaHN0YXJ0IHRvdWNobW92ZSBlbnRlcmZ1bGxzY3JlZW4gZXhpdGZ1bGxzY3JlZW5cIiwodD0+e2NvbnN0e2NvbnRyb2xzOm59PWk7biYmXCJlbnRlcmZ1bGxzY3JlZW5cIj09PXQudHlwZSYmKG4ucHJlc3NlZD0hMSxuLmhvdmVyPSExKTtsZXQgYT0wO1tcInRvdWNoc3RhcnRcIixcInRvdWNobW92ZVwiLFwibW91c2Vtb3ZlXCJdLmluY2x1ZGVzKHQudHlwZSkmJihudC50b2dnbGVDb250cm9scy5jYWxsKGUsITApLGE9ZS50b3VjaD8zZTM6MmUzKSxjbGVhclRpbWVvdXQocy5jb250cm9scykscy5jb250cm9scz1zZXRUaW1lb3V0KCgoKT0+bnQudG9nZ2xlQ29udHJvbHMuY2FsbChlLCExKSksYSl9KSk7Y29uc3Qgbj10PT57aWYoIXQpcmV0dXJuIE1lLmNhbGwoZSk7Y29uc3Qgcz1pLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx7d2lkdGg6bixoZWlnaHQ6YX09cztyZXR1cm4gTWUuY2FsbChlLGAke259OiR7YX1gKX0sYT0oKT0+e2NsZWFyVGltZW91dChzLnJlc2l6ZWQpLHMucmVzaXplZD1zZXRUaW1lb3V0KG4sNTApfTtmZS5jYWxsKGUsaS5jb250YWluZXIsXCJlbnRlcmZ1bGxzY3JlZW4gZXhpdGZ1bGxzY3JlZW5cIiwodD0+e2NvbnN0e3RhcmdldDpzLHVzaW5nTmF0aXZlOmx9PWUuZnVsbHNjcmVlbjtpZihzIT09aS5jb250YWluZXIpcmV0dXJuO2lmKCFlLmlzRW1iZWQmJlcoZS5jb25maWcucmF0aW8pKXJldHVybjtjb25zdCBvPVwiZW50ZXJmdWxsc2NyZWVuXCI9PT10LnR5cGUse3BhZGRpbmc6cixyYXRpbzpjfT1uKG8pOygodCxpLHMpPT57aWYoIWUuaXNWaW1lb3x8ZS5jb25maWcudmltZW8ucHJlbWl1bSlyZXR1cm47Y29uc3Qgbj1lLmVsZW1lbnRzLndyYXBwZXIuZmlyc3RDaGlsZCxbLGFdPXQsW2wsb109TmUuY2FsbChlKTtuLnN0eWxlLm1heFdpZHRoPXM/YS9vKmwrXCJweFwiOm51bGwsbi5zdHlsZS5tYXJnaW49cz9cIjAgYXV0b1wiOm51bGx9KShjLDAsbyksbyYmc2V0VGltZW91dCgoKCk9PksoaS5jb250YWluZXIpKSwxMDApLGx8fChvP2ZlLmNhbGwoZSx3aW5kb3csXCJyZXNpemVcIixhKTpiZS5jYWxsKGUsd2luZG93LFwicmVzaXplXCIsYSkpfSkpfSkpLGUodGhpcyxcIm1lZGlhXCIsKCgpPT57Y29uc3R7cGxheWVyOmV9PXRoaXMse2VsZW1lbnRzOnR9PWU7aWYoZmUuY2FsbChlLGUubWVkaWEsXCJ0aW1ldXBkYXRlIHNlZWtpbmcgc2Vla2VkXCIsKHQ9PlVlLnRpbWVVcGRhdGUuY2FsbChlLHQpKSksZmUuY2FsbChlLGUubWVkaWEsXCJkdXJhdGlvbmNoYW5nZSBsb2FkZWRkYXRhIGxvYWRlZG1ldGFkYXRhXCIsKHQ9PlVlLmR1cmF0aW9uVXBkYXRlLmNhbGwoZSx0KSkpLGZlLmNhbGwoZSxlLm1lZGlhLFwiZW5kZWRcIiwoKCk9PntlLmlzSFRNTDUmJmUuaXNWaWRlbyYmZS5jb25maWcucmVzZXRPbkVuZCYmKGUucmVzdGFydCgpLGUucGF1c2UoKSl9KSksZmUuY2FsbChlLGUubWVkaWEsXCJwcm9ncmVzcyBwbGF5aW5nIHNlZWtpbmcgc2Vla2VkXCIsKHQ9PlVlLnVwZGF0ZVByb2dyZXNzLmNhbGwoZSx0KSkpLGZlLmNhbGwoZSxlLm1lZGlhLFwidm9sdW1lY2hhbmdlXCIsKHQ9PlVlLnVwZGF0ZVZvbHVtZS5jYWxsKGUsdCkpKSxmZS5jYWxsKGUsZS5tZWRpYSxcInBsYXlpbmcgcGxheSBwYXVzZSBlbmRlZCBlbXB0aWVkIHRpbWV1cGRhdGVcIiwodD0+bnQuY2hlY2tQbGF5aW5nLmNhbGwoZSx0KSkpLGZlLmNhbGwoZSxlLm1lZGlhLFwid2FpdGluZyBjYW5wbGF5IHNlZWtlZCBwbGF5aW5nXCIsKHQ9Pm50LmNoZWNrTG9hZGluZy5jYWxsKGUsdCkpKSxlLnN1cHBvcnRlZC51aSYmZS5jb25maWcuY2xpY2tUb1BsYXkmJiFlLmlzQXVkaW8pe2NvbnN0IGk9aGUuY2FsbChlLGAuJHtlLmNvbmZpZy5jbGFzc05hbWVzLnZpZGVvfWApO2lmKCFIKGkpKXJldHVybjtmZS5jYWxsKGUsdC5jb250YWluZXIsXCJjbGlja1wiLChzPT57KFt0LmNvbnRhaW5lcixpXS5pbmNsdWRlcyhzLnRhcmdldCl8fGkuY29udGFpbnMocy50YXJnZXQpKSYmKGUudG91Y2gmJmUuY29uZmlnLmhpZGVDb250cm9sc3x8KGUuZW5kZWQ/KHRoaXMucHJveHkocyxlLnJlc3RhcnQsXCJyZXN0YXJ0XCIpLHRoaXMucHJveHkocywoKCk9PntrZShlLnBsYXkoKSl9KSxcInBsYXlcIikpOnRoaXMucHJveHkocywoKCk9PntrZShlLnRvZ2dsZVBsYXkoKSl9KSxcInBsYXlcIikpKX0pKX1lLnN1cHBvcnRlZC51aSYmZS5jb25maWcuZGlzYWJsZUNvbnRleHRNZW51JiZmZS5jYWxsKGUsdC53cmFwcGVyLFwiY29udGV4dG1lbnVcIiwoZT0+e2UucHJldmVudERlZmF1bHQoKX0pLCExKSxmZS5jYWxsKGUsZS5tZWRpYSxcInZvbHVtZWNoYW5nZVwiLCgoKT0+e2Uuc3RvcmFnZS5zZXQoe3ZvbHVtZTplLnZvbHVtZSxtdXRlZDplLm11dGVkfSl9KSksZmUuY2FsbChlLGUubWVkaWEsXCJyYXRlY2hhbmdlXCIsKCgpPT57VWUudXBkYXRlU2V0dGluZy5jYWxsKGUsXCJzcGVlZFwiKSxlLnN0b3JhZ2Uuc2V0KHtzcGVlZDplLnNwZWVkfSl9KSksZmUuY2FsbChlLGUubWVkaWEsXCJxdWFsaXR5Y2hhbmdlXCIsKHQ9PntVZS51cGRhdGVTZXR0aW5nLmNhbGwoZSxcInF1YWxpdHlcIixudWxsLHQuZGV0YWlsLnF1YWxpdHkpfSkpLGZlLmNhbGwoZSxlLm1lZGlhLFwicmVhZHkgcXVhbGl0eWNoYW5nZVwiLCgoKT0+e1VlLnNldERvd25sb2FkVXJsLmNhbGwoZSl9KSk7Y29uc3QgaT1lLmNvbmZpZy5ldmVudHMuY29uY2F0KFtcImtleXVwXCIsXCJrZXlkb3duXCJdKS5qb2luKFwiIFwiKTtmZS5jYWxsKGUsZS5tZWRpYSxpLChpPT57bGV0e2RldGFpbDpzPXt9fT1pO1wiZXJyb3JcIj09PWkudHlwZSYmKHM9ZS5tZWRpYS5lcnJvciksdmUuY2FsbChlLHQuY29udGFpbmVyLGkudHlwZSwhMCxzKX0pKX0pKSxlKHRoaXMsXCJwcm94eVwiLCgoZSx0LGkpPT57Y29uc3R7cGxheWVyOnN9PXRoaXMsbj1zLmNvbmZpZy5saXN0ZW5lcnNbaV07bGV0IGE9ITA7cShuKSYmKGE9bi5jYWxsKHMsZSkpLCExIT09YSYmcSh0KSYmdC5jYWxsKHMsZSl9KSksZSh0aGlzLFwiYmluZFwiLCgoZSx0LGkscyxuPSEwKT0+e2NvbnN0e3BsYXllcjphfT10aGlzLGw9YS5jb25maWcubGlzdGVuZXJzW3NdLG89cShsKTtmZS5jYWxsKGEsZSx0LChlPT50aGlzLnByb3h5KGUsaSxzKSksbiYmIW8pfSkpLGUodGhpcyxcImNvbnRyb2xzXCIsKCgpPT57Y29uc3R7cGxheWVyOmV9PXRoaXMse2VsZW1lbnRzOnR9PWUsaT1ZLmlzSUU/XCJjaGFuZ2VcIjpcImlucHV0XCI7aWYodC5idXR0b25zLnBsYXkmJkFycmF5LmZyb20odC5idXR0b25zLnBsYXkpLmZvckVhY2goKHQ9Pnt0aGlzLmJpbmQodCxcImNsaWNrXCIsKCgpPT57a2UoZS50b2dnbGVQbGF5KCkpfSksXCJwbGF5XCIpfSkpLHRoaXMuYmluZCh0LmJ1dHRvbnMucmVzdGFydCxcImNsaWNrXCIsZS5yZXN0YXJ0LFwicmVzdGFydFwiKSx0aGlzLmJpbmQodC5idXR0b25zLnJld2luZCxcImNsaWNrXCIsKCgpPT57ZS5sYXN0U2Vla1RpbWU9RGF0ZS5ub3coKSxlLnJld2luZCgpfSksXCJyZXdpbmRcIiksdGhpcy5iaW5kKHQuYnV0dG9ucy5mYXN0Rm9yd2FyZCxcImNsaWNrXCIsKCgpPT57ZS5sYXN0U2Vla1RpbWU9RGF0ZS5ub3coKSxlLmZvcndhcmQoKX0pLFwiZmFzdEZvcndhcmRcIiksdGhpcy5iaW5kKHQuYnV0dG9ucy5tdXRlLFwiY2xpY2tcIiwoKCk9PntlLm11dGVkPSFlLm11dGVkfSksXCJtdXRlXCIpLHRoaXMuYmluZCh0LmJ1dHRvbnMuY2FwdGlvbnMsXCJjbGlja1wiLCgoKT0+ZS50b2dnbGVDYXB0aW9ucygpKSksdGhpcy5iaW5kKHQuYnV0dG9ucy5kb3dubG9hZCxcImNsaWNrXCIsKCgpPT57dmUuY2FsbChlLGUubWVkaWEsXCJkb3dubG9hZFwiKX0pLFwiZG93bmxvYWRcIiksdGhpcy5iaW5kKHQuYnV0dG9ucy5mdWxsc2NyZWVuLFwiY2xpY2tcIiwoKCk9PntlLmZ1bGxzY3JlZW4udG9nZ2xlKCl9KSxcImZ1bGxzY3JlZW5cIiksdGhpcy5iaW5kKHQuYnV0dG9ucy5waXAsXCJjbGlja1wiLCgoKT0+e2UucGlwPVwidG9nZ2xlXCJ9KSxcInBpcFwiKSx0aGlzLmJpbmQodC5idXR0b25zLmFpcnBsYXksXCJjbGlja1wiLGUuYWlycGxheSxcImFpcnBsYXlcIiksdGhpcy5iaW5kKHQuYnV0dG9ucy5zZXR0aW5ncyxcImNsaWNrXCIsKHQ9Pnt0LnN0b3BQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKSxVZS50b2dnbGVNZW51LmNhbGwoZSx0KX0pLG51bGwsITEpLHRoaXMuYmluZCh0LmJ1dHRvbnMuc2V0dGluZ3MsXCJrZXl1cFwiLCh0PT57Y29uc3QgaT10LndoaWNoO1sxMywzMl0uaW5jbHVkZXMoaSkmJigxMyE9PWk/KHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLFVlLnRvZ2dsZU1lbnUuY2FsbChlLHQpKTpVZS5mb2N1c0ZpcnN0TWVudUl0ZW0uY2FsbChlLG51bGwsITApKX0pLG51bGwsITEpLHRoaXMuYmluZCh0LnNldHRpbmdzLm1lbnUsXCJrZXlkb3duXCIsKHQ9PnsyNz09PXQud2hpY2gmJlVlLnRvZ2dsZU1lbnUuY2FsbChlLHQpfSkpLHRoaXMuYmluZCh0LmlucHV0cy5zZWVrLFwibW91c2Vkb3duIG1vdXNlbW92ZVwiLChlPT57Y29uc3QgaT10LnByb2dyZXNzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHM9MTAwL2kud2lkdGgqKGUucGFnZVgtaS5sZWZ0KTtlLmN1cnJlbnRUYXJnZXQuc2V0QXR0cmlidXRlKFwic2Vlay12YWx1ZVwiLHMpfSkpLHRoaXMuYmluZCh0LmlucHV0cy5zZWVrLFwibW91c2Vkb3duIG1vdXNldXAga2V5ZG93biBrZXl1cCB0b3VjaHN0YXJ0IHRvdWNoZW5kXCIsKHQ9Pntjb25zdCBpPXQuY3VycmVudFRhcmdldCxzPXQua2V5Q29kZT90LmtleUNvZGU6dC53aGljaCxuPVwicGxheS1vbi1zZWVrZWRcIjtpZihSKHQpJiYzOSE9PXMmJjM3IT09cylyZXR1cm47ZS5sYXN0U2Vla1RpbWU9RGF0ZS5ub3coKTtjb25zdCBhPWkuaGFzQXR0cmlidXRlKG4pLGw9W1wibW91c2V1cFwiLFwidG91Y2hlbmRcIixcImtleXVwXCJdLmluY2x1ZGVzKHQudHlwZSk7YSYmbD8oaS5yZW1vdmVBdHRyaWJ1dGUobiksa2UoZS5wbGF5KCkpKTohbCYmZS5wbGF5aW5nJiYoaS5zZXRBdHRyaWJ1dGUobixcIlwiKSxlLnBhdXNlKCkpfSkpLFkuaXNJb3Mpe2NvbnN0IHQ9Y2UuY2FsbChlLCdpbnB1dFt0eXBlPVwicmFuZ2VcIl0nKTtBcnJheS5mcm9tKHQpLmZvckVhY2goKGU9PnRoaXMuYmluZChlLGksKGU9PksoZS50YXJnZXQpKSkpKX10aGlzLmJpbmQodC5pbnB1dHMuc2VlayxpLCh0PT57Y29uc3QgaT10LmN1cnJlbnRUYXJnZXQ7bGV0IHM9aS5nZXRBdHRyaWJ1dGUoXCJzZWVrLXZhbHVlXCIpO1cocykmJihzPWkudmFsdWUpLGkucmVtb3ZlQXR0cmlidXRlKFwic2Vlay12YWx1ZVwiKSxlLmN1cnJlbnRUaW1lPXMvaS5tYXgqZS5kdXJhdGlvbn0pLFwic2Vla1wiKSx0aGlzLmJpbmQodC5wcm9ncmVzcyxcIm1vdXNlZW50ZXIgbW91c2VsZWF2ZSBtb3VzZW1vdmVcIiwodD0+VWUudXBkYXRlU2Vla1Rvb2x0aXAuY2FsbChlLHQpKSksdGhpcy5iaW5kKHQucHJvZ3Jlc3MsXCJtb3VzZW1vdmUgdG91Y2htb3ZlXCIsKHQ9Pntjb25zdHtwcmV2aWV3VGh1bWJuYWlsczppfT1lO2kmJmkubG9hZGVkJiZpLnN0YXJ0TW92ZSh0KX0pKSx0aGlzLmJpbmQodC5wcm9ncmVzcyxcIm1vdXNlbGVhdmUgdG91Y2hlbmQgY2xpY2tcIiwoKCk9Pntjb25zdHtwcmV2aWV3VGh1bWJuYWlsczp0fT1lO3QmJnQubG9hZGVkJiZ0LmVuZE1vdmUoITEsITApfSkpLHRoaXMuYmluZCh0LnByb2dyZXNzLFwibW91c2Vkb3duIHRvdWNoc3RhcnRcIiwodD0+e2NvbnN0e3ByZXZpZXdUaHVtYm5haWxzOml9PWU7aSYmaS5sb2FkZWQmJmkuc3RhcnRTY3J1YmJpbmcodCl9KSksdGhpcy5iaW5kKHQucHJvZ3Jlc3MsXCJtb3VzZXVwIHRvdWNoZW5kXCIsKHQ9Pntjb25zdHtwcmV2aWV3VGh1bWJuYWlsczppfT1lO2kmJmkubG9hZGVkJiZpLmVuZFNjcnViYmluZyh0KX0pKSxZLmlzV2Via2l0JiZBcnJheS5mcm9tKGNlLmNhbGwoZSwnaW5wdXRbdHlwZT1cInJhbmdlXCJdJykpLmZvckVhY2goKHQ9Pnt0aGlzLmJpbmQodCxcImlucHV0XCIsKHQ9PlVlLnVwZGF0ZVJhbmdlRmlsbC5jYWxsKGUsdC50YXJnZXQpKSl9KSksZS5jb25maWcudG9nZ2xlSW52ZXJ0JiYhSCh0LmRpc3BsYXkuZHVyYXRpb24pJiZ0aGlzLmJpbmQodC5kaXNwbGF5LmN1cnJlbnRUaW1lLFwiY2xpY2tcIiwoKCk9PnswIT09ZS5jdXJyZW50VGltZSYmKGUuY29uZmlnLmludmVydFRpbWU9IWUuY29uZmlnLmludmVydFRpbWUsVWUudGltZVVwZGF0ZS5jYWxsKGUpKX0pKSx0aGlzLmJpbmQodC5pbnB1dHMudm9sdW1lLGksKHQ9PntlLnZvbHVtZT10LnRhcmdldC52YWx1ZX0pLFwidm9sdW1lXCIpLHRoaXMuYmluZCh0LmNvbnRyb2xzLFwibW91c2VlbnRlciBtb3VzZWxlYXZlXCIsKGk9Pnt0LmNvbnRyb2xzLmhvdmVyPSFlLnRvdWNoJiZcIm1vdXNlZW50ZXJcIj09PWkudHlwZX0pKSx0LmZ1bGxzY3JlZW4mJkFycmF5LmZyb20odC5mdWxsc2NyZWVuLmNoaWxkcmVuKS5maWx0ZXIoKGU9PiFlLmNvbnRhaW5zKHQuY29udGFpbmVyKSkpLmZvckVhY2goKGk9Pnt0aGlzLmJpbmQoaSxcIm1vdXNlZW50ZXIgbW91c2VsZWF2ZVwiLChpPT57dC5jb250cm9scy5ob3Zlcj0hZS50b3VjaCYmXCJtb3VzZWVudGVyXCI9PT1pLnR5cGV9KSl9KSksdGhpcy5iaW5kKHQuY29udHJvbHMsXCJtb3VzZWRvd24gbW91c2V1cCB0b3VjaHN0YXJ0IHRvdWNoZW5kIHRvdWNoY2FuY2VsXCIsKGU9Pnt0LmNvbnRyb2xzLnByZXNzZWQ9W1wibW91c2Vkb3duXCIsXCJ0b3VjaHN0YXJ0XCJdLmluY2x1ZGVzKGUudHlwZSl9KSksdGhpcy5iaW5kKHQuY29udHJvbHMsXCJmb2N1c2luXCIsKCgpPT57Y29uc3R7Y29uZmlnOmksdGltZXJzOnN9PWU7bGUodC5jb250cm9scyxpLmNsYXNzTmFtZXMubm9UcmFuc2l0aW9uLCEwKSxudC50b2dnbGVDb250cm9scy5jYWxsKGUsITApLHNldFRpbWVvdXQoKCgpPT57bGUodC5jb250cm9scyxpLmNsYXNzTmFtZXMubm9UcmFuc2l0aW9uLCExKX0pLDApO2NvbnN0IG49dGhpcy50b3VjaD8zZTM6NGUzO2NsZWFyVGltZW91dChzLmNvbnRyb2xzKSxzLmNvbnRyb2xzPXNldFRpbWVvdXQoKCgpPT5udC50b2dnbGVDb250cm9scy5jYWxsKGUsITEpKSxuKX0pKSx0aGlzLmJpbmQodC5pbnB1dHMudm9sdW1lLFwid2hlZWxcIiwodD0+e2NvbnN0IGk9dC53ZWJraXREaXJlY3Rpb25JbnZlcnRlZEZyb21EZXZpY2UsW3Msbl09W3QuZGVsdGFYLC10LmRlbHRhWV0ubWFwKChlPT5pPy1lOmUpKSxhPU1hdGguc2lnbihNYXRoLmFicyhzKT5NYXRoLmFicyhuKT9zOm4pO2UuaW5jcmVhc2VWb2x1bWUoYS81MCk7Y29uc3R7dm9sdW1lOmx9PWUubWVkaWE7KDE9PT1hJiZsPDF8fC0xPT09YSYmbD4wKSYmdC5wcmV2ZW50RGVmYXVsdCgpfSksXCJ2b2x1bWVcIiwhMSl9KSksdGhpcy5wbGF5ZXI9dCx0aGlzLmxhc3RLZXk9bnVsbCx0aGlzLmZvY3VzVGltZXI9bnVsbCx0aGlzLmxhc3RLZXlEb3duPW51bGwsdGhpcy5oYW5kbGVLZXk9dGhpcy5oYW5kbGVLZXkuYmluZCh0aGlzKSx0aGlzLnRvZ2dsZU1lbnU9dGhpcy50b2dnbGVNZW51LmJpbmQodGhpcyksdGhpcy5zZXRUYWJGb2N1cz10aGlzLnNldFRhYkZvY3VzLmJpbmQodGhpcyksdGhpcy5maXJzdFRvdWNoPXRoaXMuZmlyc3RUb3VjaC5iaW5kKHRoaXMpfWhhbmRsZUtleShlKXtjb25zdHtwbGF5ZXI6dH09dGhpcyx7ZWxlbWVudHM6aX09dCxzPWUua2V5Q29kZT9lLmtleUNvZGU6ZS53aGljaCxuPVwia2V5ZG93blwiPT09ZS50eXBlLGE9biYmcz09PXRoaXMubGFzdEtleTtpZihlLmFsdEtleXx8ZS5jdHJsS2V5fHxlLm1ldGFLZXl8fGUuc2hpZnRLZXkpcmV0dXJuO2lmKCEkKHMpKXJldHVybjtpZihuKXtjb25zdCBuPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7aWYoSChuKSl7Y29uc3R7ZWRpdGFibGU6c309dC5jb25maWcuc2VsZWN0b3JzLHtzZWVrOmF9PWkuaW5wdXRzO2lmKG4hPT1hJiZyZShuLHMpKXJldHVybjtpZigzMj09PWUud2hpY2gmJnJlKG4sJ2J1dHRvbiwgW3JvbGVePVwibWVudWl0ZW1cIl0nKSlyZXR1cm59c3dpdGNoKFszMiwzNywzOCwzOSw0MCw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1Niw1Nyw2Nyw3MCw3Myw3NSw3Niw3Nyw3OV0uaW5jbHVkZXMocykmJihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSkscyl7Y2FzZSA0ODpjYXNlIDQ5OmNhc2UgNTA6Y2FzZSA1MTpjYXNlIDUyOmNhc2UgNTM6Y2FzZSA1NDpjYXNlIDU1OmNhc2UgNTY6Y2FzZSA1NzphfHwodC5jdXJyZW50VGltZT10LmR1cmF0aW9uLzEwKihzLTQ4KSk7YnJlYWs7Y2FzZSAzMjpjYXNlIDc1OmF8fGtlKHQudG9nZ2xlUGxheSgpKTticmVhaztjYXNlIDM4OnQuaW5jcmVhc2VWb2x1bWUoLjEpO2JyZWFrO2Nhc2UgNDA6dC5kZWNyZWFzZVZvbHVtZSguMSk7YnJlYWs7Y2FzZSA3NzphfHwodC5tdXRlZD0hdC5tdXRlZCk7YnJlYWs7Y2FzZSAzOTp0LmZvcndhcmQoKTticmVhaztjYXNlIDM3OnQucmV3aW5kKCk7YnJlYWs7Y2FzZSA3MDp0LmZ1bGxzY3JlZW4udG9nZ2xlKCk7YnJlYWs7Y2FzZSA2NzphfHx0LnRvZ2dsZUNhcHRpb25zKCk7YnJlYWs7Y2FzZSA3Njp0Lmxvb3A9IXQubG9vcH0yNz09PXMmJiF0LmZ1bGxzY3JlZW4udXNpbmdOYXRpdmUmJnQuZnVsbHNjcmVlbi5hY3RpdmUmJnQuZnVsbHNjcmVlbi50b2dnbGUoKSx0aGlzLmxhc3RLZXk9c31lbHNlIHRoaXMubGFzdEtleT1udWxsfXRvZ2dsZU1lbnUoZSl7VWUudG9nZ2xlTWVudS5jYWxsKHRoaXMucGxheWVyLGUpfX1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmO3ZhciBsdD1mdW5jdGlvbihlLHQpe3JldHVybiBlKHQ9e2V4cG9ydHM6e319LHQuZXhwb3J0cyksdC5leHBvcnRzfSgoZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbigpe30sdD17fSxpPXt9LHM9e307ZnVuY3Rpb24gbihlLHQpe2U9ZS5wdXNoP2U6W2VdO3ZhciBuLGEsbCxvPVtdLHI9ZS5sZW5ndGgsYz1yO2ZvcihuPWZ1bmN0aW9uKGUsaSl7aS5sZW5ndGgmJm8ucHVzaChlKSwtLWN8fHQobyl9O3ItLTspYT1lW3JdLChsPWlbYV0pP24oYSxsKTooc1thXT1zW2FdfHxbXSkucHVzaChuKX1mdW5jdGlvbiBhKGUsdCl7aWYoZSl7dmFyIG49c1tlXTtpZihpW2VdPXQsbilmb3IoO24ubGVuZ3RoOyluWzBdKGUsdCksbi5zcGxpY2UoMCwxKX19ZnVuY3Rpb24gbCh0LGkpe3QuY2FsbCYmKHQ9e3N1Y2Nlc3M6dH0pLGkubGVuZ3RoPyh0LmVycm9yfHxlKShpKToodC5zdWNjZXNzfHxlKSh0KX1mdW5jdGlvbiBvKHQsaSxzLG4pe3ZhciBhLGwscj1kb2N1bWVudCxjPXMuYXN5bmMsaD0ocy5udW1SZXRyaWVzfHwwKSsxLHU9cy5iZWZvcmV8fGUsZD10LnJlcGxhY2UoL1tcXD98I10uKiQvLFwiXCIpLG09dC5yZXBsYWNlKC9eKGNzc3xpbWcpIS8sXCJcIik7bj1ufHwwLC8oXmNzcyF8XFwuY3NzJCkvLnRlc3QoZCk/KChsPXIuY3JlYXRlRWxlbWVudChcImxpbmtcIikpLnJlbD1cInN0eWxlc2hlZXRcIixsLmhyZWY9bSwoYT1cImhpZGVGb2N1c1wiaW4gbCkmJmwucmVsTGlzdCYmKGE9MCxsLnJlbD1cInByZWxvYWRcIixsLmFzPVwic3R5bGVcIikpOi8oXmltZyF8XFwuKHBuZ3xnaWZ8anBnfHN2Z3x3ZWJwKSQpLy50ZXN0KGQpPyhsPXIuY3JlYXRlRWxlbWVudChcImltZ1wiKSkuc3JjPW06KChsPXIuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSkuc3JjPXQsbC5hc3luYz12b2lkIDA9PT1jfHxjKSxsLm9ubG9hZD1sLm9uZXJyb3I9bC5vbmJlZm9yZWxvYWQ9ZnVuY3Rpb24oZSl7dmFyIHI9ZS50eXBlWzBdO2lmKGEpdHJ5e2wuc2hlZXQuY3NzVGV4dC5sZW5ndGh8fChyPVwiZVwiKX1jYXRjaChlKXsxOCE9ZS5jb2RlJiYocj1cImVcIil9aWYoXCJlXCI9PXIpe2lmKChuKz0xKTxoKXJldHVybiBvKHQsaSxzLG4pfWVsc2UgaWYoXCJwcmVsb2FkXCI9PWwucmVsJiZcInN0eWxlXCI9PWwuYXMpcmV0dXJuIGwucmVsPVwic3R5bGVzaGVldFwiO2kodCxyLGUuZGVmYXVsdFByZXZlbnRlZCl9LCExIT09dSh0LGwpJiZyLmhlYWQuYXBwZW5kQ2hpbGQobCl9ZnVuY3Rpb24gcihlLHQsaSl7dmFyIHMsbixhPShlPWUucHVzaD9lOltlXSkubGVuZ3RoLGw9YSxyPVtdO2ZvcihzPWZ1bmN0aW9uKGUsaSxzKXtpZihcImVcIj09aSYmci5wdXNoKGUpLFwiYlwiPT1pKXtpZighcylyZXR1cm47ci5wdXNoKGUpfS0tYXx8dChyKX0sbj0wO248bDtuKyspbyhlW25dLHMsaSl9ZnVuY3Rpb24gYyhlLGkscyl7dmFyIG4sbztpZihpJiZpLnRyaW0mJihuPWkpLG89KG4/czppKXx8e30sbil7aWYobiBpbiB0KXRocm93XCJMb2FkSlNcIjt0W25dPSEwfWZ1bmN0aW9uIGModCxpKXtyKGUsKGZ1bmN0aW9uKGUpe2wobyxlKSx0JiZsKHtzdWNjZXNzOnQsZXJyb3I6aX0sZSksYShuLGUpfSksbyl9aWYoby5yZXR1cm5Qcm9taXNlKXJldHVybiBuZXcgUHJvbWlzZShjKTtjKCl9cmV0dXJuIGMucmVhZHk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbihlLChmdW5jdGlvbihlKXtsKHQsZSl9KSksY30sYy5kb25lPWZ1bmN0aW9uKGUpe2EoZSxbXSl9LGMucmVzZXQ9ZnVuY3Rpb24oKXt0PXt9LGk9e30scz17fX0sYy5pc0RlZmluZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW4gdH0sY30oKX0pKTtmdW5jdGlvbiBvdChlKXtyZXR1cm4gbmV3IFByb21pc2UoKCh0LGkpPT57bHQoZSx7c3VjY2Vzczp0LGVycm9yOml9KX0pKX1mdW5jdGlvbiBydChlKXtlJiYhdGhpcy5lbWJlZC5oYXNQbGF5ZWQmJih0aGlzLmVtYmVkLmhhc1BsYXllZD0hMCksdGhpcy5tZWRpYS5wYXVzZWQ9PT1lJiYodGhpcy5tZWRpYS5wYXVzZWQ9IWUsdmUuY2FsbCh0aGlzLHRoaXMubWVkaWEsZT9cInBsYXlcIjpcInBhdXNlXCIpKX1jb25zdCBjdD17c2V0dXAoKXtjb25zdCBlPXRoaXM7bGUoZS5lbGVtZW50cy53cmFwcGVyLGUuY29uZmlnLmNsYXNzTmFtZXMuZW1iZWQsITApLGUub3B0aW9ucy5zcGVlZD1lLmNvbmZpZy5zcGVlZC5vcHRpb25zLE1lLmNhbGwoZSksTCh3aW5kb3cuVmltZW8pP2N0LnJlYWR5LmNhbGwoZSk6b3QoZS5jb25maWcudXJscy52aW1lby5zZGspLnRoZW4oKCgpPT57Y3QucmVhZHkuY2FsbChlKX0pKS5jYXRjaCgodD0+e2UuZGVidWcud2FybihcIlZpbWVvIFNESyAocGxheWVyLmpzKSBmYWlsZWQgdG8gbG9hZFwiLHQpfSkpfSxyZWFkeSgpe2NvbnN0IGU9dGhpcyx0PWUuY29uZmlnLnZpbWVvLHtwcmVtaXVtOmkscmVmZXJyZXJQb2xpY3k6cywuLi5ufT10O2kmJk9iamVjdC5hc3NpZ24obix7Y29udHJvbHM6ITEsc2lkZWRvY2s6ITF9KTtjb25zdCBhPXplKHtsb29wOmUuY29uZmlnLmxvb3AuYWN0aXZlLGF1dG9wbGF5OmUuYXV0b3BsYXksbXV0ZWQ6ZS5tdXRlZCxnZXN0dXJlOlwibWVkaWFcIixwbGF5c2lubGluZTohdGhpcy5jb25maWcuZnVsbHNjcmVlbi5pb3NOYXRpdmUsLi4ubn0pO2xldCBsPWUubWVkaWEuZ2V0QXR0cmlidXRlKFwic3JjXCIpO1cobCkmJihsPWUubWVkaWEuZ2V0QXR0cmlidXRlKGUuY29uZmlnLmF0dHJpYnV0ZXMuZW1iZWQuaWQpKTtjb25zdCBvPVcocj1sKT9udWxsOiQoTnVtYmVyKHIpKT9yOnIubWF0Y2goL14uKih2aW1lby5jb21cXC98dmlkZW9cXC8pKFxcZCspLiovKT9SZWdFeHAuJDI6cjt2YXIgcjtjb25zdCBjPVooXCJpZnJhbWVcIiksaD1MZShlLmNvbmZpZy51cmxzLnZpbWVvLmlmcmFtZSxvLGEpO2lmKGMuc2V0QXR0cmlidXRlKFwic3JjXCIsaCksYy5zZXRBdHRyaWJ1dGUoXCJhbGxvd2Z1bGxzY3JlZW5cIixcIlwiKSxjLnNldEF0dHJpYnV0ZShcImFsbG93XCIsW1wiYXV0b3BsYXlcIixcImZ1bGxzY3JlZW5cIixcInBpY3R1cmUtaW4tcGljdHVyZVwiLFwiZW5jcnlwdGVkLW1lZGlhXCIsXCJhY2NlbGVyb21ldGVyXCIsXCJneXJvc2NvcGVcIl0uam9pbihcIjsgXCIpKSxXKHMpfHxjLnNldEF0dHJpYnV0ZShcInJlZmVycmVyUG9saWN5XCIscyksaXx8IXQuY3VzdG9tQ29udHJvbHMpYy5zZXRBdHRyaWJ1dGUoXCJkYXRhLXBvc3RlclwiLGUucG9zdGVyKSxlLm1lZGlhPXNlKGMsZS5tZWRpYSk7ZWxzZXtjb25zdCB0PVooXCJkaXZcIix7Y2xhc3M6ZS5jb25maWcuY2xhc3NOYW1lcy5lbWJlZENvbnRhaW5lcixcImRhdGEtcG9zdGVyXCI6ZS5wb3N0ZXJ9KTt0LmFwcGVuZENoaWxkKGMpLGUubWVkaWE9c2UodCxlLm1lZGlhKX10LmN1c3RvbUNvbnRyb2xzfHxGZShMZShlLmNvbmZpZy51cmxzLnZpbWVvLmFwaSxoKSkudGhlbigodD0+eyFXKHQpJiZ0LnRodW1ibmFpbF91cmwmJm50LnNldFBvc3Rlci5jYWxsKGUsdC50aHVtYm5haWxfdXJsKS5jYXRjaCgoKCk9Pnt9KSl9KSksZS5lbWJlZD1uZXcgd2luZG93LlZpbWVvLlBsYXllcihjLHthdXRvcGF1c2U6ZS5jb25maWcuYXV0b3BhdXNlLG11dGVkOmUubXV0ZWR9KSxlLm1lZGlhLnBhdXNlZD0hMCxlLm1lZGlhLmN1cnJlbnRUaW1lPTAsZS5zdXBwb3J0ZWQudWkmJmUuZW1iZWQuZGlzYWJsZVRleHRUcmFjaygpLGUubWVkaWEucGxheT0oKT0+KHJ0LmNhbGwoZSwhMCksZS5lbWJlZC5wbGF5KCkpLGUubWVkaWEucGF1c2U9KCk9PihydC5jYWxsKGUsITEpLGUuZW1iZWQucGF1c2UoKSksZS5tZWRpYS5zdG9wPSgpPT57ZS5wYXVzZSgpLGUuY3VycmVudFRpbWU9MH07bGV0e2N1cnJlbnRUaW1lOnV9PWUubWVkaWE7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUubWVkaWEsXCJjdXJyZW50VGltZVwiLHtnZXQ6KCk9PnUsc2V0KHQpe2NvbnN0e2VtYmVkOmksbWVkaWE6cyxwYXVzZWQ6bix2b2x1bWU6YX09ZSxsPW4mJiFpLmhhc1BsYXllZDtzLnNlZWtpbmc9ITAsdmUuY2FsbChlLHMsXCJzZWVraW5nXCIpLFByb21pc2UucmVzb2x2ZShsJiZpLnNldFZvbHVtZSgwKSkudGhlbigoKCk9Pmkuc2V0Q3VycmVudFRpbWUodCkpKS50aGVuKCgoKT0+bCYmaS5wYXVzZSgpKSkudGhlbigoKCk9PmwmJmkuc2V0Vm9sdW1lKGEpKSkuY2F0Y2goKCgpPT57fSkpfX0pO2xldCBkPWUuY29uZmlnLnNwZWVkLnNlbGVjdGVkO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLm1lZGlhLFwicGxheWJhY2tSYXRlXCIse2dldDooKT0+ZCxzZXQodCl7ZS5lbWJlZC5zZXRQbGF5YmFja1JhdGUodCkudGhlbigoKCk9PntkPXQsdmUuY2FsbChlLGUubWVkaWEsXCJyYXRlY2hhbmdlXCIpfSkpLmNhdGNoKCgoKT0+e2Uub3B0aW9ucy5zcGVlZD1bMV19KSl9fSk7bGV0e3ZvbHVtZTptfT1lLmNvbmZpZztPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5tZWRpYSxcInZvbHVtZVwiLHtnZXQ6KCk9Pm0sc2V0KHQpe2UuZW1iZWQuc2V0Vm9sdW1lKHQpLnRoZW4oKCgpPT57bT10LHZlLmNhbGwoZSxlLm1lZGlhLFwidm9sdW1lY2hhbmdlXCIpfSkpfX0pO2xldHttdXRlZDpwfT1lLmNvbmZpZztPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5tZWRpYSxcIm11dGVkXCIse2dldDooKT0+cCxzZXQodCl7Y29uc3QgaT0hIU8odCkmJnQ7ZS5lbWJlZC5zZXRWb2x1bWUoaT8wOmUuY29uZmlnLnZvbHVtZSkudGhlbigoKCk9PntwPWksdmUuY2FsbChlLGUubWVkaWEsXCJ2b2x1bWVjaGFuZ2VcIil9KSl9fSk7bGV0IGcse2xvb3A6Zn09ZS5jb25maWc7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUubWVkaWEsXCJsb29wXCIse2dldDooKT0+ZixzZXQodCl7Y29uc3QgaT1PKHQpP3Q6ZS5jb25maWcubG9vcC5hY3RpdmU7ZS5lbWJlZC5zZXRMb29wKGkpLnRoZW4oKCgpPT57Zj1pfSkpfX0pLGUuZW1iZWQuZ2V0VmlkZW9VcmwoKS50aGVuKCh0PT57Zz10LFVlLnNldERvd25sb2FkVXJsLmNhbGwoZSl9KSkuY2F0Y2goKGU9Pnt0aGlzLmRlYnVnLndhcm4oZSl9KSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUubWVkaWEsXCJjdXJyZW50U3JjXCIse2dldDooKT0+Z30pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLm1lZGlhLFwiZW5kZWRcIix7Z2V0OigpPT5lLmN1cnJlbnRUaW1lPT09ZS5kdXJhdGlvbn0pLFByb21pc2UuYWxsKFtlLmVtYmVkLmdldFZpZGVvV2lkdGgoKSxlLmVtYmVkLmdldFZpZGVvSGVpZ2h0KCldKS50aGVuKCh0PT57Y29uc3RbaSxzXT10O2UuZW1iZWQucmF0aW89eGUoaSxzKSxNZS5jYWxsKHRoaXMpfSkpLGUuZW1iZWQuc2V0QXV0b3BhdXNlKGUuY29uZmlnLmF1dG9wYXVzZSkudGhlbigodD0+e2UuY29uZmlnLmF1dG9wYXVzZT10fSkpLGUuZW1iZWQuZ2V0VmlkZW9UaXRsZSgpLnRoZW4oKHQ9PntlLmNvbmZpZy50aXRsZT10LG50LnNldFRpdGxlLmNhbGwodGhpcyl9KSksZS5lbWJlZC5nZXRDdXJyZW50VGltZSgpLnRoZW4oKHQ9Pnt1PXQsdmUuY2FsbChlLGUubWVkaWEsXCJ0aW1ldXBkYXRlXCIpfSkpLGUuZW1iZWQuZ2V0RHVyYXRpb24oKS50aGVuKCh0PT57ZS5tZWRpYS5kdXJhdGlvbj10LHZlLmNhbGwoZSxlLm1lZGlhLFwiZHVyYXRpb25jaGFuZ2VcIil9KSksZS5lbWJlZC5nZXRUZXh0VHJhY2tzKCkudGhlbigodD0+e2UubWVkaWEudGV4dFRyYWNrcz10LEtlLnNldHVwLmNhbGwoZSl9KSksZS5lbWJlZC5vbihcImN1ZWNoYW5nZVwiLCgoe2N1ZXM6dD1bXX0pPT57Y29uc3QgaT10Lm1hcCgoZT0+ZnVuY3Rpb24oZSl7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiB0LmFwcGVuZENoaWxkKGkpLGkuaW5uZXJIVE1MPWUsdC5maXJzdENoaWxkLmlubmVyVGV4dH0oZS50ZXh0KSkpO0tlLnVwZGF0ZUN1ZXMuY2FsbChlLGkpfSkpLGUuZW1iZWQub24oXCJsb2FkZWRcIiwoKCk9PntpZihlLmVtYmVkLmdldFBhdXNlZCgpLnRoZW4oKHQ9PntydC5jYWxsKGUsIXQpLHR8fHZlLmNhbGwoZSxlLm1lZGlhLFwicGxheWluZ1wiKX0pKSxIKGUuZW1iZWQuZWxlbWVudCkmJmUuc3VwcG9ydGVkLnVpKXtlLmVtYmVkLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwtMSl9fSkpLGUuZW1iZWQub24oXCJidWZmZXJzdGFydFwiLCgoKT0+e3ZlLmNhbGwoZSxlLm1lZGlhLFwid2FpdGluZ1wiKX0pKSxlLmVtYmVkLm9uKFwiYnVmZmVyZW5kXCIsKCgpPT57dmUuY2FsbChlLGUubWVkaWEsXCJwbGF5aW5nXCIpfSkpLGUuZW1iZWQub24oXCJwbGF5XCIsKCgpPT57cnQuY2FsbChlLCEwKSx2ZS5jYWxsKGUsZS5tZWRpYSxcInBsYXlpbmdcIil9KSksZS5lbWJlZC5vbihcInBhdXNlXCIsKCgpPT57cnQuY2FsbChlLCExKX0pKSxlLmVtYmVkLm9uKFwidGltZXVwZGF0ZVwiLCh0PT57ZS5tZWRpYS5zZWVraW5nPSExLHU9dC5zZWNvbmRzLHZlLmNhbGwoZSxlLm1lZGlhLFwidGltZXVwZGF0ZVwiKX0pKSxlLmVtYmVkLm9uKFwicHJvZ3Jlc3NcIiwodD0+e2UubWVkaWEuYnVmZmVyZWQ9dC5wZXJjZW50LHZlLmNhbGwoZSxlLm1lZGlhLFwicHJvZ3Jlc3NcIiksMT09PXBhcnNlSW50KHQucGVyY2VudCwxMCkmJnZlLmNhbGwoZSxlLm1lZGlhLFwiY2FucGxheXRocm91Z2hcIiksZS5lbWJlZC5nZXREdXJhdGlvbigpLnRoZW4oKHQ9Pnt0IT09ZS5tZWRpYS5kdXJhdGlvbiYmKGUubWVkaWEuZHVyYXRpb249dCx2ZS5jYWxsKGUsZS5tZWRpYSxcImR1cmF0aW9uY2hhbmdlXCIpKX0pKX0pKSxlLmVtYmVkLm9uKFwic2Vla2VkXCIsKCgpPT57ZS5tZWRpYS5zZWVraW5nPSExLHZlLmNhbGwoZSxlLm1lZGlhLFwic2Vla2VkXCIpfSkpLGUuZW1iZWQub24oXCJlbmRlZFwiLCgoKT0+e2UubWVkaWEucGF1c2VkPSEwLHZlLmNhbGwoZSxlLm1lZGlhLFwiZW5kZWRcIil9KSksZS5lbWJlZC5vbihcImVycm9yXCIsKHQ9PntlLm1lZGlhLmVycm9yPXQsdmUuY2FsbChlLGUubWVkaWEsXCJlcnJvclwiKX0pKSx0LmN1c3RvbUNvbnRyb2xzJiZzZXRUaW1lb3V0KCgoKT0+bnQuYnVpbGQuY2FsbChlKSksMCl9fTtmdW5jdGlvbiBodChlKXtlJiYhdGhpcy5lbWJlZC5oYXNQbGF5ZWQmJih0aGlzLmVtYmVkLmhhc1BsYXllZD0hMCksdGhpcy5tZWRpYS5wYXVzZWQ9PT1lJiYodGhpcy5tZWRpYS5wYXVzZWQ9IWUsdmUuY2FsbCh0aGlzLHRoaXMubWVkaWEsZT9cInBsYXlcIjpcInBhdXNlXCIpKX1mdW5jdGlvbiB1dChlKXtyZXR1cm4gZS5ub0Nvb2tpZT9cImh0dHBzOi8vd3d3LnlvdXR1YmUtbm9jb29raWUuY29tXCI6XCJodHRwOlwiPT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sP1wiaHR0cDovL3d3dy55b3V0dWJlLmNvbVwiOnZvaWQgMH1jb25zdCBkdD17c2V0dXAoKXtpZihsZSh0aGlzLmVsZW1lbnRzLndyYXBwZXIsdGhpcy5jb25maWcuY2xhc3NOYW1lcy5lbWJlZCwhMCksTCh3aW5kb3cuWVQpJiZxKHdpbmRvdy5ZVC5QbGF5ZXIpKWR0LnJlYWR5LmNhbGwodGhpcyk7ZWxzZXtjb25zdCBlPXdpbmRvdy5vbllvdVR1YmVJZnJhbWVBUElSZWFkeTt3aW5kb3cub25Zb3VUdWJlSWZyYW1lQVBJUmVhZHk9KCk9PntxKGUpJiZlKCksZHQucmVhZHkuY2FsbCh0aGlzKX0sb3QodGhpcy5jb25maWcudXJscy55b3V0dWJlLnNkaykuY2F0Y2goKGU9Pnt0aGlzLmRlYnVnLndhcm4oXCJZb3VUdWJlIEFQSSBmYWlsZWQgdG8gbG9hZFwiLGUpfSkpfX0sZ2V0VGl0bGUoZSl7RmUoTGUodGhpcy5jb25maWcudXJscy55b3V0dWJlLmFwaSxlKSkudGhlbigoZT0+e2lmKEwoZSkpe2NvbnN0e3RpdGxlOnQsaGVpZ2h0Omksd2lkdGg6c309ZTt0aGlzLmNvbmZpZy50aXRsZT10LG50LnNldFRpdGxlLmNhbGwodGhpcyksdGhpcy5lbWJlZC5yYXRpbz14ZShzLGkpfU1lLmNhbGwodGhpcyl9KSkuY2F0Y2goKCgpPT57TWUuY2FsbCh0aGlzKX0pKX0scmVhZHkoKXtjb25zdCBlPXRoaXMsdD1lLmNvbmZpZy55b3V0dWJlLGk9ZS5tZWRpYSYmZS5tZWRpYS5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtpZighVyhpKSYmaS5zdGFydHNXaXRoKFwieW91dHViZS1cIikpcmV0dXJuO2xldCBzPWUubWVkaWEuZ2V0QXR0cmlidXRlKFwic3JjXCIpO1cocykmJihzPWUubWVkaWEuZ2V0QXR0cmlidXRlKHRoaXMuY29uZmlnLmF0dHJpYnV0ZXMuZW1iZWQuaWQpKTtjb25zdCBuPVcoYT1zKT9udWxsOmEubWF0Y2goL14uKih5b3V0dS5iZVxcL3x2XFwvfHVcXC9cXHdcXC98ZW1iZWRcXC98d2F0Y2hcXD92PXwmdj0pKFteIyY/XSopLiovKT9SZWdFeHAuJDI6YTt2YXIgYTtjb25zdCBsPVooXCJkaXZcIix7aWQ6YCR7ZS5wcm92aWRlcn0tJHtNYXRoLmZsb29yKDFlNCpNYXRoLnJhbmRvbSgpKX1gLFwiZGF0YS1wb3N0ZXJcIjp0LmN1c3RvbUNvbnRyb2xzP2UucG9zdGVyOnZvaWQgMH0pO2lmKGUubWVkaWE9c2UobCxlLm1lZGlhKSx0LmN1c3RvbUNvbnRyb2xzKXtjb25zdCB0PWU9PmBodHRwczovL2kueXRpbWcuY29tL3ZpLyR7bn0vJHtlfWRlZmF1bHQuanBnYDtzdCh0KFwibWF4cmVzXCIpLDEyMSkuY2F0Y2goKCgpPT5zdCh0KFwic2RcIiksMTIxKSkpLmNhdGNoKCgoKT0+c3QodChcImhxXCIpKSkpLnRoZW4oKHQ9Pm50LnNldFBvc3Rlci5jYWxsKGUsdC5zcmMpKSkudGhlbigodD0+e3QuaW5jbHVkZXMoXCJtYXhyZXNcIil8fChlLmVsZW1lbnRzLnBvc3Rlci5zdHlsZS5iYWNrZ3JvdW5kU2l6ZT1cImNvdmVyXCIpfSkpLmNhdGNoKCgoKT0+e30pKX1lLmVtYmVkPW5ldyB3aW5kb3cuWVQuUGxheWVyKGUubWVkaWEse3ZpZGVvSWQ6bixob3N0OnV0KHQpLHBsYXllclZhcnM6WCh7fSx7YXV0b3BsYXk6ZS5jb25maWcuYXV0b3BsYXk/MTowLGhsOmUuY29uZmlnLmhsLGNvbnRyb2xzOmUuc3VwcG9ydGVkLnVpJiZ0LmN1c3RvbUNvbnRyb2xzPzA6MSxkaXNhYmxla2I6MSxwbGF5c2lubGluZTplLmNvbmZpZy5mdWxsc2NyZWVuLmlvc05hdGl2ZT8wOjEsY2NfbG9hZF9wb2xpY3k6ZS5jYXB0aW9ucy5hY3RpdmU/MTowLGNjX2xhbmdfcHJlZjplLmNvbmZpZy5jYXB0aW9ucy5sYW5ndWFnZSx3aWRnZXRfcmVmZXJyZXI6d2luZG93P3dpbmRvdy5sb2NhdGlvbi5ocmVmOm51bGx9LHQpLGV2ZW50czp7b25FcnJvcih0KXtpZighZS5tZWRpYS5lcnJvcil7Y29uc3QgaT10LmRhdGEscz17MjpcIlRoZSByZXF1ZXN0IGNvbnRhaW5zIGFuIGludmFsaWQgcGFyYW1ldGVyIHZhbHVlLiBGb3IgZXhhbXBsZSwgdGhpcyBlcnJvciBvY2N1cnMgaWYgeW91IHNwZWNpZnkgYSB2aWRlbyBJRCB0aGF0IGRvZXMgbm90IGhhdmUgMTEgY2hhcmFjdGVycywgb3IgaWYgdGhlIHZpZGVvIElEIGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycywgc3VjaCBhcyBleGNsYW1hdGlvbiBwb2ludHMgb3IgYXN0ZXJpc2tzLlwiLDU6XCJUaGUgcmVxdWVzdGVkIGNvbnRlbnQgY2Fubm90IGJlIHBsYXllZCBpbiBhbiBIVE1MNSBwbGF5ZXIgb3IgYW5vdGhlciBlcnJvciByZWxhdGVkIHRvIHRoZSBIVE1MNSBwbGF5ZXIgaGFzIG9jY3VycmVkLlwiLDEwMDpcIlRoZSB2aWRlbyByZXF1ZXN0ZWQgd2FzIG5vdCBmb3VuZC4gVGhpcyBlcnJvciBvY2N1cnMgd2hlbiBhIHZpZGVvIGhhcyBiZWVuIHJlbW92ZWQgKGZvciBhbnkgcmVhc29uKSBvciBoYXMgYmVlbiBtYXJrZWQgYXMgcHJpdmF0ZS5cIiwxMDE6XCJUaGUgb3duZXIgb2YgdGhlIHJlcXVlc3RlZCB2aWRlbyBkb2VzIG5vdCBhbGxvdyBpdCB0byBiZSBwbGF5ZWQgaW4gZW1iZWRkZWQgcGxheWVycy5cIiwxNTA6XCJUaGUgb3duZXIgb2YgdGhlIHJlcXVlc3RlZCB2aWRlbyBkb2VzIG5vdCBhbGxvdyBpdCB0byBiZSBwbGF5ZWQgaW4gZW1iZWRkZWQgcGxheWVycy5cIn1baV18fFwiQW4gdW5rbm93biBlcnJvciBvY2N1cmVkXCI7ZS5tZWRpYS5lcnJvcj17Y29kZTppLG1lc3NhZ2U6c30sdmUuY2FsbChlLGUubWVkaWEsXCJlcnJvclwiKX19LG9uUGxheWJhY2tSYXRlQ2hhbmdlKHQpe2NvbnN0IGk9dC50YXJnZXQ7ZS5tZWRpYS5wbGF5YmFja1JhdGU9aS5nZXRQbGF5YmFja1JhdGUoKSx2ZS5jYWxsKGUsZS5tZWRpYSxcInJhdGVjaGFuZ2VcIil9LG9uUmVhZHkoaSl7aWYocShlLm1lZGlhLnBsYXkpKXJldHVybjtjb25zdCBzPWkudGFyZ2V0O2R0LmdldFRpdGxlLmNhbGwoZSxuKSxlLm1lZGlhLnBsYXk9KCk9PntodC5jYWxsKGUsITApLHMucGxheVZpZGVvKCl9LGUubWVkaWEucGF1c2U9KCk9PntodC5jYWxsKGUsITEpLHMucGF1c2VWaWRlbygpfSxlLm1lZGlhLnN0b3A9KCk9PntzLnN0b3BWaWRlbygpfSxlLm1lZGlhLmR1cmF0aW9uPXMuZ2V0RHVyYXRpb24oKSxlLm1lZGlhLnBhdXNlZD0hMCxlLm1lZGlhLmN1cnJlbnRUaW1lPTAsT2JqZWN0LmRlZmluZVByb3BlcnR5KGUubWVkaWEsXCJjdXJyZW50VGltZVwiLHtnZXQ6KCk9Pk51bWJlcihzLmdldEN1cnJlbnRUaW1lKCkpLHNldCh0KXtlLnBhdXNlZCYmIWUuZW1iZWQuaGFzUGxheWVkJiZlLmVtYmVkLm11dGUoKSxlLm1lZGlhLnNlZWtpbmc9ITAsdmUuY2FsbChlLGUubWVkaWEsXCJzZWVraW5nXCIpLHMuc2Vla1RvKHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLm1lZGlhLFwicGxheWJhY2tSYXRlXCIse2dldDooKT0+cy5nZXRQbGF5YmFja1JhdGUoKSxzZXQoZSl7cy5zZXRQbGF5YmFja1JhdGUoZSl9fSk7bGV0e3ZvbHVtZTphfT1lLmNvbmZpZztPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5tZWRpYSxcInZvbHVtZVwiLHtnZXQ6KCk9PmEsc2V0KHQpe2E9dCxzLnNldFZvbHVtZSgxMDAqYSksdmUuY2FsbChlLGUubWVkaWEsXCJ2b2x1bWVjaGFuZ2VcIil9fSk7bGV0e211dGVkOmx9PWUuY29uZmlnO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLm1lZGlhLFwibXV0ZWRcIix7Z2V0OigpPT5sLHNldCh0KXtjb25zdCBpPU8odCk/dDpsO2w9aSxzW2k/XCJtdXRlXCI6XCJ1bk11dGVcIl0oKSxzLnNldFZvbHVtZSgxMDAqYSksdmUuY2FsbChlLGUubWVkaWEsXCJ2b2x1bWVjaGFuZ2VcIil9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUubWVkaWEsXCJjdXJyZW50U3JjXCIse2dldDooKT0+cy5nZXRWaWRlb1VybCgpfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUubWVkaWEsXCJlbmRlZFwiLHtnZXQ6KCk9PmUuY3VycmVudFRpbWU9PT1lLmR1cmF0aW9ufSk7Y29uc3Qgbz1zLmdldEF2YWlsYWJsZVBsYXliYWNrUmF0ZXMoKTtlLm9wdGlvbnMuc3BlZWQ9by5maWx0ZXIoKHQ9PmUuY29uZmlnLnNwZWVkLm9wdGlvbnMuaW5jbHVkZXModCkpKSxlLnN1cHBvcnRlZC51aSYmdC5jdXN0b21Db250cm9scyYmZS5tZWRpYS5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLC0xKSx2ZS5jYWxsKGUsZS5tZWRpYSxcInRpbWV1cGRhdGVcIiksdmUuY2FsbChlLGUubWVkaWEsXCJkdXJhdGlvbmNoYW5nZVwiKSxjbGVhckludGVydmFsKGUudGltZXJzLmJ1ZmZlcmluZyksZS50aW1lcnMuYnVmZmVyaW5nPXNldEludGVydmFsKCgoKT0+e2UubWVkaWEuYnVmZmVyZWQ9cy5nZXRWaWRlb0xvYWRlZEZyYWN0aW9uKCksKG51bGw9PT1lLm1lZGlhLmxhc3RCdWZmZXJlZHx8ZS5tZWRpYS5sYXN0QnVmZmVyZWQ8ZS5tZWRpYS5idWZmZXJlZCkmJnZlLmNhbGwoZSxlLm1lZGlhLFwicHJvZ3Jlc3NcIiksZS5tZWRpYS5sYXN0QnVmZmVyZWQ9ZS5tZWRpYS5idWZmZXJlZCwxPT09ZS5tZWRpYS5idWZmZXJlZCYmKGNsZWFySW50ZXJ2YWwoZS50aW1lcnMuYnVmZmVyaW5nKSx2ZS5jYWxsKGUsZS5tZWRpYSxcImNhbnBsYXl0aHJvdWdoXCIpKX0pLDIwMCksdC5jdXN0b21Db250cm9scyYmc2V0VGltZW91dCgoKCk9Pm50LmJ1aWxkLmNhbGwoZSkpLDUwKX0sb25TdGF0ZUNoYW5nZShpKXtjb25zdCBzPWkudGFyZ2V0O2NsZWFySW50ZXJ2YWwoZS50aW1lcnMucGxheWluZyk7c3dpdGNoKGUubWVkaWEuc2Vla2luZyYmWzEsMl0uaW5jbHVkZXMoaS5kYXRhKSYmKGUubWVkaWEuc2Vla2luZz0hMSx2ZS5jYWxsKGUsZS5tZWRpYSxcInNlZWtlZFwiKSksaS5kYXRhKXtjYXNlLTE6dmUuY2FsbChlLGUubWVkaWEsXCJ0aW1ldXBkYXRlXCIpLGUubWVkaWEuYnVmZmVyZWQ9cy5nZXRWaWRlb0xvYWRlZEZyYWN0aW9uKCksdmUuY2FsbChlLGUubWVkaWEsXCJwcm9ncmVzc1wiKTticmVhaztjYXNlIDA6aHQuY2FsbChlLCExKSxlLm1lZGlhLmxvb3A/KHMuc3RvcFZpZGVvKCkscy5wbGF5VmlkZW8oKSk6dmUuY2FsbChlLGUubWVkaWEsXCJlbmRlZFwiKTticmVhaztjYXNlIDE6dC5jdXN0b21Db250cm9scyYmIWUuY29uZmlnLmF1dG9wbGF5JiZlLm1lZGlhLnBhdXNlZCYmIWUuZW1iZWQuaGFzUGxheWVkP2UubWVkaWEucGF1c2UoKTooaHQuY2FsbChlLCEwKSx2ZS5jYWxsKGUsZS5tZWRpYSxcInBsYXlpbmdcIiksZS50aW1lcnMucGxheWluZz1zZXRJbnRlcnZhbCgoKCk9Pnt2ZS5jYWxsKGUsZS5tZWRpYSxcInRpbWV1cGRhdGVcIil9KSw1MCksZS5tZWRpYS5kdXJhdGlvbiE9PXMuZ2V0RHVyYXRpb24oKSYmKGUubWVkaWEuZHVyYXRpb249cy5nZXREdXJhdGlvbigpLHZlLmNhbGwoZSxlLm1lZGlhLFwiZHVyYXRpb25jaGFuZ2VcIikpKTticmVhaztjYXNlIDI6ZS5tdXRlZHx8ZS5lbWJlZC51bk11dGUoKSxodC5jYWxsKGUsITEpO2JyZWFrO2Nhc2UgMzp2ZS5jYWxsKGUsZS5tZWRpYSxcIndhaXRpbmdcIil9dmUuY2FsbChlLGUuZWxlbWVudHMuY29udGFpbmVyLFwic3RhdGVjaGFuZ2VcIiwhMSx7Y29kZTppLmRhdGF9KX19fSl9fSxtdD17c2V0dXAoKXt0aGlzLm1lZGlhPyhsZSh0aGlzLmVsZW1lbnRzLmNvbnRhaW5lcix0aGlzLmNvbmZpZy5jbGFzc05hbWVzLnR5cGUucmVwbGFjZShcInswfVwiLHRoaXMudHlwZSksITApLGxlKHRoaXMuZWxlbWVudHMuY29udGFpbmVyLHRoaXMuY29uZmlnLmNsYXNzTmFtZXMucHJvdmlkZXIucmVwbGFjZShcInswfVwiLHRoaXMucHJvdmlkZXIpLCEwKSx0aGlzLmlzRW1iZWQmJmxlKHRoaXMuZWxlbWVudHMuY29udGFpbmVyLHRoaXMuY29uZmlnLmNsYXNzTmFtZXMudHlwZS5yZXBsYWNlKFwiezB9XCIsXCJ2aWRlb1wiKSwhMCksdGhpcy5pc1ZpZGVvJiYodGhpcy5lbGVtZW50cy53cmFwcGVyPVooXCJkaXZcIix7Y2xhc3M6dGhpcy5jb25maWcuY2xhc3NOYW1lcy52aWRlb30pLEoodGhpcy5tZWRpYSx0aGlzLmVsZW1lbnRzLndyYXBwZXIpLHRoaXMuZWxlbWVudHMucG9zdGVyPVooXCJkaXZcIix7Y2xhc3M6dGhpcy5jb25maWcuY2xhc3NOYW1lcy5wb3N0ZXJ9KSx0aGlzLmVsZW1lbnRzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50cy5wb3N0ZXIpKSx0aGlzLmlzSFRNTDU/SWUuc2V0dXAuY2FsbCh0aGlzKTp0aGlzLmlzWW91VHViZT9kdC5zZXR1cC5jYWxsKHRoaXMpOnRoaXMuaXNWaW1lbyYmY3Quc2V0dXAuY2FsbCh0aGlzKSk6dGhpcy5kZWJ1Zy53YXJuKFwiTm8gbWVkaWEgZWxlbWVudCBmb3VuZCFcIil9fTtjbGFzcyBwdHtjb25zdHJ1Y3Rvcih0KXtlKHRoaXMsXCJsb2FkXCIsKCgpPT57dGhpcy5lbmFibGVkJiYoTCh3aW5kb3cuZ29vZ2xlKSYmTCh3aW5kb3cuZ29vZ2xlLmltYSk/dGhpcy5yZWFkeSgpOm90KHRoaXMucGxheWVyLmNvbmZpZy51cmxzLmdvb2dsZUlNQS5zZGspLnRoZW4oKCgpPT57dGhpcy5yZWFkeSgpfSkpLmNhdGNoKCgoKT0+e3RoaXMudHJpZ2dlcihcImVycm9yXCIsbmV3IEVycm9yKFwiR29vZ2xlIElNQSBTREsgZmFpbGVkIHRvIGxvYWRcIikpfSkpKX0pKSxlKHRoaXMsXCJyZWFkeVwiLCgoKT0+e3ZhciBlO3RoaXMuZW5hYmxlZHx8KChlPXRoaXMpLm1hbmFnZXImJmUubWFuYWdlci5kZXN0cm95KCksZS5lbGVtZW50cy5kaXNwbGF5Q29udGFpbmVyJiZlLmVsZW1lbnRzLmRpc3BsYXlDb250YWluZXIuZGVzdHJveSgpLGUuZWxlbWVudHMuY29udGFpbmVyLnJlbW92ZSgpKSx0aGlzLnN0YXJ0U2FmZXR5VGltZXIoMTJlMyxcInJlYWR5KClcIiksdGhpcy5tYW5hZ2VyUHJvbWlzZS50aGVuKCgoKT0+e3RoaXMuY2xlYXJTYWZldHlUaW1lcihcIm9uQWRzTWFuYWdlckxvYWRlZCgpXCIpfSkpLHRoaXMubGlzdGVuZXJzKCksdGhpcy5zZXR1cElNQSgpfSkpLGUodGhpcyxcInNldHVwSU1BXCIsKCgpPT57dGhpcy5lbGVtZW50cy5jb250YWluZXI9WihcImRpdlwiLHtjbGFzczp0aGlzLnBsYXllci5jb25maWcuY2xhc3NOYW1lcy5hZHN9KSx0aGlzLnBsYXllci5lbGVtZW50cy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50cy5jb250YWluZXIpLGdvb2dsZS5pbWEuc2V0dGluZ3Muc2V0VnBhaWRNb2RlKGdvb2dsZS5pbWEuSW1hU2RrU2V0dGluZ3MuVnBhaWRNb2RlLkVOQUJMRUQpLGdvb2dsZS5pbWEuc2V0dGluZ3Muc2V0TG9jYWxlKHRoaXMucGxheWVyLmNvbmZpZy5hZHMubGFuZ3VhZ2UpLGdvb2dsZS5pbWEuc2V0dGluZ3Muc2V0RGlzYWJsZUN1c3RvbVBsYXliYWNrRm9ySU9TMTBQbHVzKHRoaXMucGxheWVyLmNvbmZpZy5wbGF5c2lubGluZSksdGhpcy5lbGVtZW50cy5kaXNwbGF5Q29udGFpbmVyPW5ldyBnb29nbGUuaW1hLkFkRGlzcGxheUNvbnRhaW5lcih0aGlzLmVsZW1lbnRzLmNvbnRhaW5lcix0aGlzLnBsYXllci5tZWRpYSksdGhpcy5sb2FkZXI9bmV3IGdvb2dsZS5pbWEuQWRzTG9hZGVyKHRoaXMuZWxlbWVudHMuZGlzcGxheUNvbnRhaW5lciksdGhpcy5sb2FkZXIuYWRkRXZlbnRMaXN0ZW5lcihnb29nbGUuaW1hLkFkc01hbmFnZXJMb2FkZWRFdmVudC5UeXBlLkFEU19NQU5BR0VSX0xPQURFRCwoZT0+dGhpcy5vbkFkc01hbmFnZXJMb2FkZWQoZSkpLCExKSx0aGlzLmxvYWRlci5hZGRFdmVudExpc3RlbmVyKGdvb2dsZS5pbWEuQWRFcnJvckV2ZW50LlR5cGUuQURfRVJST1IsKGU9PnRoaXMub25BZEVycm9yKGUpKSwhMSksdGhpcy5yZXF1ZXN0QWRzKCl9KSksZSh0aGlzLFwicmVxdWVzdEFkc1wiLCgoKT0+e2NvbnN0e2NvbnRhaW5lcjplfT10aGlzLnBsYXllci5lbGVtZW50czt0cnl7Y29uc3QgdD1uZXcgZ29vZ2xlLmltYS5BZHNSZXF1ZXN0O3QuYWRUYWdVcmw9dGhpcy50YWdVcmwsdC5saW5lYXJBZFNsb3RXaWR0aD1lLm9mZnNldFdpZHRoLHQubGluZWFyQWRTbG90SGVpZ2h0PWUub2Zmc2V0SGVpZ2h0LHQubm9uTGluZWFyQWRTbG90V2lkdGg9ZS5vZmZzZXRXaWR0aCx0Lm5vbkxpbmVhckFkU2xvdEhlaWdodD1lLm9mZnNldEhlaWdodCx0LmZvcmNlTm9uTGluZWFyRnVsbFNsb3Q9ITEsdC5zZXRBZFdpbGxQbGF5TXV0ZWQoIXRoaXMucGxheWVyLm11dGVkKSx0aGlzLmxvYWRlci5yZXF1ZXN0QWRzKHQpfWNhdGNoKGUpe3RoaXMub25BZEVycm9yKGUpfX0pKSxlKHRoaXMsXCJwb2xsQ291bnRkb3duXCIsKChlPSExKT0+e2lmKCFlKXJldHVybiBjbGVhckludGVydmFsKHRoaXMuY291bnRkb3duVGltZXIpLHZvaWQgdGhpcy5lbGVtZW50cy5jb250YWluZXIucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1iYWRnZS10ZXh0XCIpO3RoaXMuY291bnRkb3duVGltZXI9c2V0SW50ZXJ2YWwoKCgpPT57Y29uc3QgZT1CZShNYXRoLm1heCh0aGlzLm1hbmFnZXIuZ2V0UmVtYWluaW5nVGltZSgpLDApKSx0PWAke0RlLmdldChcImFkdmVydGlzZW1lbnRcIix0aGlzLnBsYXllci5jb25maWcpfSAtICR7ZX1gO3RoaXMuZWxlbWVudHMuY29udGFpbmVyLnNldEF0dHJpYnV0ZShcImRhdGEtYmFkZ2UtdGV4dFwiLHQpfSksMTAwKX0pKSxlKHRoaXMsXCJvbkFkc01hbmFnZXJMb2FkZWRcIiwoZT0+e2lmKCF0aGlzLmVuYWJsZWQpcmV0dXJuO2NvbnN0IHQ9bmV3IGdvb2dsZS5pbWEuQWRzUmVuZGVyaW5nU2V0dGluZ3M7dC5yZXN0b3JlQ3VzdG9tUGxheWJhY2tTdGF0ZU9uQWRCcmVha0NvbXBsZXRlPSEwLHQuZW5hYmxlUHJlbG9hZGluZz0hMCx0aGlzLm1hbmFnZXI9ZS5nZXRBZHNNYW5hZ2VyKHRoaXMucGxheWVyLHQpLHRoaXMuY3VlUG9pbnRzPXRoaXMubWFuYWdlci5nZXRDdWVQb2ludHMoKSx0aGlzLm1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihnb29nbGUuaW1hLkFkRXJyb3JFdmVudC5UeXBlLkFEX0VSUk9SLChlPT50aGlzLm9uQWRFcnJvcihlKSkpLE9iamVjdC5rZXlzKGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlKS5mb3JFYWNoKChlPT57dGhpcy5tYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGVbZV0sKGU9PnRoaXMub25BZEV2ZW50KGUpKSl9KSksdGhpcy50cmlnZ2VyKFwibG9hZGVkXCIpfSkpLGUodGhpcyxcImFkZEN1ZVBvaW50c1wiLCgoKT0+e1codGhpcy5jdWVQb2ludHMpfHx0aGlzLmN1ZVBvaW50cy5mb3JFYWNoKChlPT57aWYoMCE9PWUmJi0xIT09ZSYmZTx0aGlzLnBsYXllci5kdXJhdGlvbil7Y29uc3QgdD10aGlzLnBsYXllci5lbGVtZW50cy5wcm9ncmVzcztpZihIKHQpKXtjb25zdCBpPTEwMC90aGlzLnBsYXllci5kdXJhdGlvbiplLHM9WihcInNwYW5cIix7Y2xhc3M6dGhpcy5wbGF5ZXIuY29uZmlnLmNsYXNzTmFtZXMuY3Vlc30pO3Muc3R5bGUubGVmdD1gJHtpLnRvU3RyaW5nKCl9JWAsdC5hcHBlbmRDaGlsZChzKX19fSkpfSkpLGUodGhpcyxcIm9uQWRFdmVudFwiLChlPT57Y29uc3R7Y29udGFpbmVyOnR9PXRoaXMucGxheWVyLmVsZW1lbnRzLGk9ZS5nZXRBZCgpLHM9ZS5nZXRBZERhdGEoKTtzd2l0Y2goKGU9Pnt2ZS5jYWxsKHRoaXMucGxheWVyLHRoaXMucGxheWVyLm1lZGlhLGBhZHMke2UucmVwbGFjZSgvXy9nLFwiXCIpLnRvTG93ZXJDYXNlKCl9YCl9KShlLnR5cGUpLGUudHlwZSl7Y2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5MT0FERUQ6dGhpcy50cmlnZ2VyKFwibG9hZGVkXCIpLHRoaXMucG9sbENvdW50ZG93bighMCksaS5pc0xpbmVhcigpfHwoaS53aWR0aD10Lm9mZnNldFdpZHRoLGkuaGVpZ2h0PXQub2Zmc2V0SGVpZ2h0KTticmVhaztjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLlNUQVJURUQ6dGhpcy5tYW5hZ2VyLnNldFZvbHVtZSh0aGlzLnBsYXllci52b2x1bWUpO2JyZWFrO2Nhc2UgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuQUxMX0FEU19DT01QTEVURUQ6dGhpcy5wbGF5ZXIuZW5kZWQ/dGhpcy5sb2FkQWRzKCk6dGhpcy5sb2FkZXIuY29udGVudENvbXBsZXRlKCk7YnJlYWs7Y2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5DT05URU5UX1BBVVNFX1JFUVVFU1RFRDp0aGlzLnBhdXNlQ29udGVudCgpO2JyZWFrO2Nhc2UgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuQ09OVEVOVF9SRVNVTUVfUkVRVUVTVEVEOnRoaXMucG9sbENvdW50ZG93bigpLHRoaXMucmVzdW1lQ29udGVudCgpO2JyZWFrO2Nhc2UgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuTE9HOnMuYWRFcnJvciYmdGhpcy5wbGF5ZXIuZGVidWcud2FybihgTm9uLWZhdGFsIGFkIGVycm9yOiAke3MuYWRFcnJvci5nZXRNZXNzYWdlKCl9YCl9fSkpLGUodGhpcyxcIm9uQWRFcnJvclwiLChlPT57dGhpcy5jYW5jZWwoKSx0aGlzLnBsYXllci5kZWJ1Zy53YXJuKFwiQWRzIGVycm9yXCIsZSl9KSksZSh0aGlzLFwibGlzdGVuZXJzXCIsKCgpPT57Y29uc3R7Y29udGFpbmVyOmV9PXRoaXMucGxheWVyLmVsZW1lbnRzO2xldCB0O3RoaXMucGxheWVyLm9uKFwiY2FucGxheVwiLCgoKT0+e3RoaXMuYWRkQ3VlUG9pbnRzKCl9KSksdGhpcy5wbGF5ZXIub24oXCJlbmRlZFwiLCgoKT0+e3RoaXMubG9hZGVyLmNvbnRlbnRDb21wbGV0ZSgpfSkpLHRoaXMucGxheWVyLm9uKFwidGltZXVwZGF0ZVwiLCgoKT0+e3Q9dGhpcy5wbGF5ZXIuY3VycmVudFRpbWV9KSksdGhpcy5wbGF5ZXIub24oXCJzZWVrZWRcIiwoKCk9Pntjb25zdCBlPXRoaXMucGxheWVyLmN1cnJlbnRUaW1lO1codGhpcy5jdWVQb2ludHMpfHx0aGlzLmN1ZVBvaW50cy5mb3JFYWNoKCgoaSxzKT0+e3Q8aSYmaTxlJiYodGhpcy5tYW5hZ2VyLmRpc2NhcmRBZEJyZWFrKCksdGhpcy5jdWVQb2ludHMuc3BsaWNlKHMsMSkpfSkpfSkpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsKCgpPT57dGhpcy5tYW5hZ2VyJiZ0aGlzLm1hbmFnZXIucmVzaXplKGUub2Zmc2V0V2lkdGgsZS5vZmZzZXRIZWlnaHQsZ29vZ2xlLmltYS5WaWV3TW9kZS5OT1JNQUwpfSkpfSkpLGUodGhpcyxcInBsYXlcIiwoKCk9Pntjb25zdHtjb250YWluZXI6ZX09dGhpcy5wbGF5ZXIuZWxlbWVudHM7dGhpcy5tYW5hZ2VyUHJvbWlzZXx8dGhpcy5yZXN1bWVDb250ZW50KCksdGhpcy5tYW5hZ2VyUHJvbWlzZS50aGVuKCgoKT0+e3RoaXMubWFuYWdlci5zZXRWb2x1bWUodGhpcy5wbGF5ZXIudm9sdW1lKSx0aGlzLmVsZW1lbnRzLmRpc3BsYXlDb250YWluZXIuaW5pdGlhbGl6ZSgpO3RyeXt0aGlzLmluaXRpYWxpemVkfHwodGhpcy5tYW5hZ2VyLmluaXQoZS5vZmZzZXRXaWR0aCxlLm9mZnNldEhlaWdodCxnb29nbGUuaW1hLlZpZXdNb2RlLk5PUk1BTCksdGhpcy5tYW5hZ2VyLnN0YXJ0KCkpLHRoaXMuaW5pdGlhbGl6ZWQ9ITB9Y2F0Y2goZSl7dGhpcy5vbkFkRXJyb3IoZSl9fSkpLmNhdGNoKCgoKT0+e30pKX0pKSxlKHRoaXMsXCJyZXN1bWVDb250ZW50XCIsKCgpPT57dGhpcy5lbGVtZW50cy5jb250YWluZXIuc3R5bGUuekluZGV4PVwiXCIsdGhpcy5wbGF5aW5nPSExLGtlKHRoaXMucGxheWVyLm1lZGlhLnBsYXkoKSl9KSksZSh0aGlzLFwicGF1c2VDb250ZW50XCIsKCgpPT57dGhpcy5lbGVtZW50cy5jb250YWluZXIuc3R5bGUuekluZGV4PTMsdGhpcy5wbGF5aW5nPSEwLHRoaXMucGxheWVyLm1lZGlhLnBhdXNlKCl9KSksZSh0aGlzLFwiY2FuY2VsXCIsKCgpPT57dGhpcy5pbml0aWFsaXplZCYmdGhpcy5yZXN1bWVDb250ZW50KCksdGhpcy50cmlnZ2VyKFwiZXJyb3JcIiksdGhpcy5sb2FkQWRzKCl9KSksZSh0aGlzLFwibG9hZEFkc1wiLCgoKT0+e3RoaXMubWFuYWdlclByb21pc2UudGhlbigoKCk9Pnt0aGlzLm1hbmFnZXImJnRoaXMubWFuYWdlci5kZXN0cm95KCksdGhpcy5tYW5hZ2VyUHJvbWlzZT1uZXcgUHJvbWlzZSgoZT0+e3RoaXMub24oXCJsb2FkZWRcIixlKSx0aGlzLnBsYXllci5kZWJ1Zy5sb2codGhpcy5tYW5hZ2VyKX0pKSx0aGlzLmluaXRpYWxpemVkPSExLHRoaXMucmVxdWVzdEFkcygpfSkpLmNhdGNoKCgoKT0+e30pKX0pKSxlKHRoaXMsXCJ0cmlnZ2VyXCIsKChlLC4uLnQpPT57Y29uc3QgaT10aGlzLmV2ZW50c1tlXTtqKGkpJiZpLmZvckVhY2goKGU9PntxKGUpJiZlLmFwcGx5KHRoaXMsdCl9KSl9KSksZSh0aGlzLFwib25cIiwoKGUsdCk9PihqKHRoaXMuZXZlbnRzW2VdKXx8KHRoaXMuZXZlbnRzW2VdPVtdKSx0aGlzLmV2ZW50c1tlXS5wdXNoKHQpLHRoaXMpKSksZSh0aGlzLFwic3RhcnRTYWZldHlUaW1lclwiLCgoZSx0KT0+e3RoaXMucGxheWVyLmRlYnVnLmxvZyhgU2FmZXR5IHRpbWVyIGludm9rZWQgZnJvbTogJHt0fWApLHRoaXMuc2FmZXR5VGltZXI9c2V0VGltZW91dCgoKCk9Pnt0aGlzLmNhbmNlbCgpLHRoaXMuY2xlYXJTYWZldHlUaW1lcihcInN0YXJ0U2FmZXR5VGltZXIoKVwiKX0pLGUpfSkpLGUodGhpcyxcImNsZWFyU2FmZXR5VGltZXJcIiwoZT0+e0kodGhpcy5zYWZldHlUaW1lcil8fCh0aGlzLnBsYXllci5kZWJ1Zy5sb2coYFNhZmV0eSB0aW1lciBjbGVhcmVkIGZyb206ICR7ZX1gKSxjbGVhclRpbWVvdXQodGhpcy5zYWZldHlUaW1lciksdGhpcy5zYWZldHlUaW1lcj1udWxsKX0pKSx0aGlzLnBsYXllcj10LHRoaXMuY29uZmlnPXQuY29uZmlnLmFkcyx0aGlzLnBsYXlpbmc9ITEsdGhpcy5pbml0aWFsaXplZD0hMSx0aGlzLmVsZW1lbnRzPXtjb250YWluZXI6bnVsbCxkaXNwbGF5Q29udGFpbmVyOm51bGx9LHRoaXMubWFuYWdlcj1udWxsLHRoaXMubG9hZGVyPW51bGwsdGhpcy5jdWVQb2ludHM9bnVsbCx0aGlzLmV2ZW50cz17fSx0aGlzLnNhZmV0eVRpbWVyPW51bGwsdGhpcy5jb3VudGRvd25UaW1lcj1udWxsLHRoaXMubWFuYWdlclByb21pc2U9bmV3IFByb21pc2UoKChlLHQpPT57dGhpcy5vbihcImxvYWRlZFwiLGUpLHRoaXMub24oXCJlcnJvclwiLHQpfSkpLHRoaXMubG9hZCgpfWdldCBlbmFibGVkKCl7Y29uc3R7Y29uZmlnOmV9PXRoaXM7cmV0dXJuIHRoaXMucGxheWVyLmlzSFRNTDUmJnRoaXMucGxheWVyLmlzVmlkZW8mJmUuZW5hYmxlZCYmKCFXKGUucHVibGlzaGVySWQpfHxVKGUudGFnVXJsKSl9Z2V0IHRhZ1VybCgpe2NvbnN0e2NvbmZpZzplfT10aGlzO2lmKFUoZS50YWdVcmwpKXJldHVybiBlLnRhZ1VybDtyZXR1cm5gaHR0cHM6Ly9nby5hbml2aWV3LmNvbS9hcGkvYWRzZXJ2ZXI2L3Zhc3QvPyR7emUoe0FWX1BVQkxJU0hFUklEOlwiNThjMjViYjAwNzNlZjQ0OGIxMDg3YWQ2XCIsQVZfQ0hBTk5FTElEOlwiNWEwNDU4ZGMyOGEwNjE0NWU0NTE5ZDIxXCIsQVZfVVJMOndpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSxjYjpEYXRlLm5vdygpLEFWX1dJRFRIOjY0MCxBVl9IRUlHSFQ6NDgwLEFWX0NESU0yOmUucHVibGlzaGVySWR9KX1gfX1jb25zdCBndD1lPT57Y29uc3QgdD1bXTtyZXR1cm4gZS5zcGxpdCgvXFxyXFxuXFxyXFxufFxcblxcbnxcXHJcXHIvKS5mb3JFYWNoKChlPT57Y29uc3QgaT17fTtlLnNwbGl0KC9cXHJcXG58XFxufFxcci8pLmZvckVhY2goKGU9PntpZigkKGkuc3RhcnRUaW1lKSl7aWYoIVcoZS50cmltKCkpJiZXKGkudGV4dCkpe2NvbnN0IHQ9ZS50cmltKCkuc3BsaXQoXCIjeHl3aD1cIik7W2kudGV4dF09dCx0WzFdJiYoW2kueCxpLnksaS53LGkuaF09dFsxXS5zcGxpdChcIixcIikpfX1lbHNle2NvbnN0IHQ9ZS5tYXRjaCgvKFswLTldezJ9KT86PyhbMC05XXsyfSk6KFswLTldezJ9KS4oWzAtOV17MiwzfSkoID8tLT4gPykoWzAtOV17Mn0pPzo/KFswLTldezJ9KTooWzAtOV17Mn0pLihbMC05XXsyLDN9KS8pO3QmJihpLnN0YXJ0VGltZT02MCpOdW1iZXIodFsxXXx8MCkqNjArNjAqTnVtYmVyKHRbMl0pK051bWJlcih0WzNdKStOdW1iZXIoYDAuJHt0WzRdfWApLGkuZW5kVGltZT02MCpOdW1iZXIodFs2XXx8MCkqNjArNjAqTnVtYmVyKHRbN10pK051bWJlcih0WzhdKStOdW1iZXIoYDAuJHt0WzldfWApKX19KSksaS50ZXh0JiZ0LnB1c2goaSl9KSksdH0sZnQ9KGUsdCk9Pntjb25zdCBpPXt9O3JldHVybiBlPnQud2lkdGgvdC5oZWlnaHQ/KGkud2lkdGg9dC53aWR0aCxpLmhlaWdodD0xL2UqdC53aWR0aCk6KGkuaGVpZ2h0PXQuaGVpZ2h0LGkud2lkdGg9ZSp0LmhlaWdodCksaX07Y2xhc3MgYnR7Y29uc3RydWN0b3IodCl7ZSh0aGlzLFwibG9hZFwiLCgoKT0+e3RoaXMucGxheWVyLmVsZW1lbnRzLmRpc3BsYXkuc2Vla1Rvb2x0aXAmJih0aGlzLnBsYXllci5lbGVtZW50cy5kaXNwbGF5LnNlZWtUb29sdGlwLmhpZGRlbj10aGlzLmVuYWJsZWQpLHRoaXMuZW5hYmxlZCYmdGhpcy5nZXRUaHVtYm5haWxzKCkudGhlbigoKCk9Pnt0aGlzLmVuYWJsZWQmJih0aGlzLnJlbmRlcigpLHRoaXMuZGV0ZXJtaW5lQ29udGFpbmVyQXV0b1NpemluZygpLHRoaXMubG9hZGVkPSEwKX0pKX0pKSxlKHRoaXMsXCJnZXRUaHVtYm5haWxzXCIsKCgpPT5uZXcgUHJvbWlzZSgoZT0+e2NvbnN0e3NyYzp0fT10aGlzLnBsYXllci5jb25maWcucHJldmlld1RodW1ibmFpbHM7aWYoVyh0KSl0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHByZXZpZXdUaHVtYm5haWxzLnNyYyBjb25maWcgYXR0cmlidXRlXCIpO2NvbnN0IGk9KCk9Pnt0aGlzLnRodW1ibmFpbHMuc29ydCgoKGUsdCk9PmUuaGVpZ2h0LXQuaGVpZ2h0KSksdGhpcy5wbGF5ZXIuZGVidWcubG9nKFwiUHJldmlldyB0aHVtYm5haWxzXCIsdGhpcy50aHVtYm5haWxzKSxlKCl9O2lmKHEodCkpdCgoZT0+e3RoaXMudGh1bWJuYWlscz1lLGkoKX0pKTtlbHNle2NvbnN0IGU9KF8odCk/W3RdOnQpLm1hcCgoZT0+dGhpcy5nZXRUaHVtYm5haWwoZSkpKTtQcm9taXNlLmFsbChlKS50aGVuKGkpfX0pKSkpLGUodGhpcyxcImdldFRodW1ibmFpbFwiLChlPT5uZXcgUHJvbWlzZSgodD0+e0ZlKGUpLnRoZW4oKGk9Pntjb25zdCBzPXtmcmFtZXM6Z3QoaSksaGVpZ2h0Om51bGwsdXJsUHJlZml4OlwiXCJ9O3MuZnJhbWVzWzBdLnRleHQuc3RhcnRzV2l0aChcIi9cIil8fHMuZnJhbWVzWzBdLnRleHQuc3RhcnRzV2l0aChcImh0dHA6Ly9cIil8fHMuZnJhbWVzWzBdLnRleHQuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpfHwocy51cmxQcmVmaXg9ZS5zdWJzdHJpbmcoMCxlLmxhc3RJbmRleE9mKFwiL1wiKSsxKSk7Y29uc3Qgbj1uZXcgSW1hZ2U7bi5vbmxvYWQ9KCk9PntzLmhlaWdodD1uLm5hdHVyYWxIZWlnaHQscy53aWR0aD1uLm5hdHVyYWxXaWR0aCx0aGlzLnRodW1ibmFpbHMucHVzaChzKSx0KCl9LG4uc3JjPXMudXJsUHJlZml4K3MuZnJhbWVzWzBdLnRleHR9KSl9KSkpKSxlKHRoaXMsXCJzdGFydE1vdmVcIiwoZT0+e2lmKHRoaXMubG9hZGVkJiZGKGUpJiZbXCJ0b3VjaG1vdmVcIixcIm1vdXNlbW92ZVwiXS5pbmNsdWRlcyhlLnR5cGUpJiZ0aGlzLnBsYXllci5tZWRpYS5kdXJhdGlvbil7aWYoXCJ0b3VjaG1vdmVcIj09PWUudHlwZSl0aGlzLnNlZWtUaW1lPXRoaXMucGxheWVyLm1lZGlhLmR1cmF0aW9uKih0aGlzLnBsYXllci5lbGVtZW50cy5pbnB1dHMuc2Vlay52YWx1ZS8xMDApO2Vsc2V7Y29uc3QgdD10aGlzLnBsYXllci5lbGVtZW50cy5wcm9ncmVzcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxpPTEwMC90LndpZHRoKihlLnBhZ2VYLXQubGVmdCk7dGhpcy5zZWVrVGltZT10aGlzLnBsYXllci5tZWRpYS5kdXJhdGlvbiooaS8xMDApLHRoaXMuc2Vla1RpbWU8MCYmKHRoaXMuc2Vla1RpbWU9MCksdGhpcy5zZWVrVGltZT50aGlzLnBsYXllci5tZWRpYS5kdXJhdGlvbi0xJiYodGhpcy5zZWVrVGltZT10aGlzLnBsYXllci5tZWRpYS5kdXJhdGlvbi0xKSx0aGlzLm1vdXNlUG9zWD1lLnBhZ2VYLHRoaXMuZWxlbWVudHMudGh1bWIudGltZS5pbm5lclRleHQ9QmUodGhpcy5zZWVrVGltZSl9dGhpcy5zaG93SW1hZ2VBdEN1cnJlbnRUaW1lKCl9fSkpLGUodGhpcyxcImVuZE1vdmVcIiwoKCk9Pnt0aGlzLnRvZ2dsZVRodW1iQ29udGFpbmVyKCExLCEwKX0pKSxlKHRoaXMsXCJzdGFydFNjcnViYmluZ1wiLChlPT57KEkoZS5idXR0b24pfHwhMT09PWUuYnV0dG9ufHwwPT09ZS5idXR0b24pJiYodGhpcy5tb3VzZURvd249ITAsdGhpcy5wbGF5ZXIubWVkaWEuZHVyYXRpb24mJih0aGlzLnRvZ2dsZVNjcnViYmluZ0NvbnRhaW5lcighMCksdGhpcy50b2dnbGVUaHVtYkNvbnRhaW5lcighMSwhMCksdGhpcy5zaG93SW1hZ2VBdEN1cnJlbnRUaW1lKCkpKX0pKSxlKHRoaXMsXCJlbmRTY3J1YmJpbmdcIiwoKCk9Pnt0aGlzLm1vdXNlRG93bj0hMSxNYXRoLmNlaWwodGhpcy5sYXN0VGltZSk9PT1NYXRoLmNlaWwodGhpcy5wbGF5ZXIubWVkaWEuY3VycmVudFRpbWUpP3RoaXMudG9nZ2xlU2NydWJiaW5nQ29udGFpbmVyKCExKTp5ZS5jYWxsKHRoaXMucGxheWVyLHRoaXMucGxheWVyLm1lZGlhLFwidGltZXVwZGF0ZVwiLCgoKT0+e3RoaXMubW91c2VEb3dufHx0aGlzLnRvZ2dsZVNjcnViYmluZ0NvbnRhaW5lcighMSl9KSl9KSksZSh0aGlzLFwibGlzdGVuZXJzXCIsKCgpPT57dGhpcy5wbGF5ZXIub24oXCJwbGF5XCIsKCgpPT57dGhpcy50b2dnbGVUaHVtYkNvbnRhaW5lcighMSwhMCl9KSksdGhpcy5wbGF5ZXIub24oXCJzZWVrZWRcIiwoKCk9Pnt0aGlzLnRvZ2dsZVRodW1iQ29udGFpbmVyKCExKX0pKSx0aGlzLnBsYXllci5vbihcInRpbWV1cGRhdGVcIiwoKCk9Pnt0aGlzLmxhc3RUaW1lPXRoaXMucGxheWVyLm1lZGlhLmN1cnJlbnRUaW1lfSkpfSkpLGUodGhpcyxcInJlbmRlclwiLCgoKT0+e3RoaXMuZWxlbWVudHMudGh1bWIuY29udGFpbmVyPVooXCJkaXZcIix7Y2xhc3M6dGhpcy5wbGF5ZXIuY29uZmlnLmNsYXNzTmFtZXMucHJldmlld1RodW1ibmFpbHMudGh1bWJDb250YWluZXJ9KSx0aGlzLmVsZW1lbnRzLnRodW1iLmltYWdlQ29udGFpbmVyPVooXCJkaXZcIix7Y2xhc3M6dGhpcy5wbGF5ZXIuY29uZmlnLmNsYXNzTmFtZXMucHJldmlld1RodW1ibmFpbHMuaW1hZ2VDb250YWluZXJ9KSx0aGlzLmVsZW1lbnRzLnRodW1iLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRzLnRodW1iLmltYWdlQ29udGFpbmVyKTtjb25zdCBlPVooXCJkaXZcIix7Y2xhc3M6dGhpcy5wbGF5ZXIuY29uZmlnLmNsYXNzTmFtZXMucHJldmlld1RodW1ibmFpbHMudGltZUNvbnRhaW5lcn0pO3RoaXMuZWxlbWVudHMudGh1bWIudGltZT1aKFwic3BhblwiLHt9LFwiMDA6MDBcIiksZS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRzLnRodW1iLnRpbWUpLHRoaXMuZWxlbWVudHMudGh1bWIuY29udGFpbmVyLmFwcGVuZENoaWxkKGUpLEgodGhpcy5wbGF5ZXIuZWxlbWVudHMucHJvZ3Jlc3MpJiZ0aGlzLnBsYXllci5lbGVtZW50cy5wcm9ncmVzcy5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRzLnRodW1iLmNvbnRhaW5lciksdGhpcy5lbGVtZW50cy5zY3J1YmJpbmcuY29udGFpbmVyPVooXCJkaXZcIix7Y2xhc3M6dGhpcy5wbGF5ZXIuY29uZmlnLmNsYXNzTmFtZXMucHJldmlld1RodW1ibmFpbHMuc2NydWJiaW5nQ29udGFpbmVyfSksdGhpcy5wbGF5ZXIuZWxlbWVudHMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRzLnNjcnViYmluZy5jb250YWluZXIpfSkpLGUodGhpcyxcImRlc3Ryb3lcIiwoKCk9Pnt0aGlzLmVsZW1lbnRzLnRodW1iLmNvbnRhaW5lciYmdGhpcy5lbGVtZW50cy50aHVtYi5jb250YWluZXIucmVtb3ZlKCksdGhpcy5lbGVtZW50cy5zY3J1YmJpbmcuY29udGFpbmVyJiZ0aGlzLmVsZW1lbnRzLnNjcnViYmluZy5jb250YWluZXIucmVtb3ZlKCl9KSksZSh0aGlzLFwic2hvd0ltYWdlQXRDdXJyZW50VGltZVwiLCgoKT0+e3RoaXMubW91c2VEb3duP3RoaXMuc2V0U2NydWJiaW5nQ29udGFpbmVyU2l6ZSgpOnRoaXMuc2V0VGh1bWJDb250YWluZXJTaXplQW5kUG9zKCk7Y29uc3QgZT10aGlzLnRodW1ibmFpbHNbMF0uZnJhbWVzLmZpbmRJbmRleCgoZT0+dGhpcy5zZWVrVGltZT49ZS5zdGFydFRpbWUmJnRoaXMuc2Vla1RpbWU8PWUuZW5kVGltZSkpLHQ9ZT49MDtsZXQgaT0wO3RoaXMubW91c2VEb3dufHx0aGlzLnRvZ2dsZVRodW1iQ29udGFpbmVyKHQpLHQmJih0aGlzLnRodW1ibmFpbHMuZm9yRWFjaCgoKHQscyk9Pnt0aGlzLmxvYWRlZEltYWdlcy5pbmNsdWRlcyh0LmZyYW1lc1tlXS50ZXh0KSYmKGk9cyl9KSksZSE9PXRoaXMuc2hvd2luZ1RodW1iJiYodGhpcy5zaG93aW5nVGh1bWI9ZSx0aGlzLmxvYWRJbWFnZShpKSkpfSkpLGUodGhpcyxcImxvYWRJbWFnZVwiLCgoZT0wKT0+e2NvbnN0IHQ9dGhpcy5zaG93aW5nVGh1bWIsaT10aGlzLnRodW1ibmFpbHNbZV0se3VybFByZWZpeDpzfT1pLG49aS5mcmFtZXNbdF0sYT1pLmZyYW1lc1t0XS50ZXh0LGw9cythO2lmKHRoaXMuY3VycmVudEltYWdlRWxlbWVudCYmdGhpcy5jdXJyZW50SW1hZ2VFbGVtZW50LmRhdGFzZXQuZmlsZW5hbWU9PT1hKXRoaXMuc2hvd0ltYWdlKHRoaXMuY3VycmVudEltYWdlRWxlbWVudCxuLGUsdCxhLCExKSx0aGlzLmN1cnJlbnRJbWFnZUVsZW1lbnQuZGF0YXNldC5pbmRleD10LHRoaXMucmVtb3ZlT2xkSW1hZ2VzKHRoaXMuY3VycmVudEltYWdlRWxlbWVudCk7ZWxzZXt0aGlzLmxvYWRpbmdJbWFnZSYmdGhpcy51c2luZ1Nwcml0ZXMmJih0aGlzLmxvYWRpbmdJbWFnZS5vbmxvYWQ9bnVsbCk7Y29uc3QgaT1uZXcgSW1hZ2U7aS5zcmM9bCxpLmRhdGFzZXQuaW5kZXg9dCxpLmRhdGFzZXQuZmlsZW5hbWU9YSx0aGlzLnNob3dpbmdUaHVtYkZpbGVuYW1lPWEsdGhpcy5wbGF5ZXIuZGVidWcubG9nKGBMb2FkaW5nIGltYWdlOiAke2x9YCksaS5vbmxvYWQ9KCk9PnRoaXMuc2hvd0ltYWdlKGksbixlLHQsYSwhMCksdGhpcy5sb2FkaW5nSW1hZ2U9aSx0aGlzLnJlbW92ZU9sZEltYWdlcyhpKX19KSksZSh0aGlzLFwic2hvd0ltYWdlXCIsKChlLHQsaSxzLG4sYT0hMCk9Pnt0aGlzLnBsYXllci5kZWJ1Zy5sb2coYFNob3dpbmcgdGh1bWI6ICR7bn0uIG51bTogJHtzfS4gcXVhbDogJHtpfS4gbmV3aW1nOiAke2F9YCksdGhpcy5zZXRJbWFnZVNpemVBbmRPZmZzZXQoZSx0KSxhJiYodGhpcy5jdXJyZW50SW1hZ2VDb250YWluZXIuYXBwZW5kQ2hpbGQoZSksdGhpcy5jdXJyZW50SW1hZ2VFbGVtZW50PWUsdGhpcy5sb2FkZWRJbWFnZXMuaW5jbHVkZXMobil8fHRoaXMubG9hZGVkSW1hZ2VzLnB1c2gobikpLHRoaXMucHJlbG9hZE5lYXJieShzLCEwKS50aGVuKHRoaXMucHJlbG9hZE5lYXJieShzLCExKSkudGhlbih0aGlzLmdldEhpZ2hlclF1YWxpdHkoaSxlLHQsbikpfSkpLGUodGhpcyxcInJlbW92ZU9sZEltYWdlc1wiLChlPT57QXJyYXkuZnJvbSh0aGlzLmN1cnJlbnRJbWFnZUNvbnRhaW5lci5jaGlsZHJlbikuZm9yRWFjaCgodD0+e2lmKFwiaW1nXCIhPT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm47Y29uc3QgaT10aGlzLnVzaW5nU3ByaXRlcz81MDA6MWUzO2lmKHQuZGF0YXNldC5pbmRleCE9PWUuZGF0YXNldC5pbmRleCYmIXQuZGF0YXNldC5kZWxldGluZyl7dC5kYXRhc2V0LmRlbGV0aW5nPSEwO2NvbnN0e2N1cnJlbnRJbWFnZUNvbnRhaW5lcjplfT10aGlzO3NldFRpbWVvdXQoKCgpPT57ZS5yZW1vdmVDaGlsZCh0KSx0aGlzLnBsYXllci5kZWJ1Zy5sb2coYFJlbW92aW5nIHRodW1iOiAke3QuZGF0YXNldC5maWxlbmFtZX1gKX0pLGkpfX0pKX0pKSxlKHRoaXMsXCJwcmVsb2FkTmVhcmJ5XCIsKChlLHQ9ITApPT5uZXcgUHJvbWlzZSgoaT0+e3NldFRpbWVvdXQoKCgpPT57Y29uc3Qgcz10aGlzLnRodW1ibmFpbHNbMF0uZnJhbWVzW2VdLnRleHQ7aWYodGhpcy5zaG93aW5nVGh1bWJGaWxlbmFtZT09PXMpe2xldCBuO249dD90aGlzLnRodW1ibmFpbHNbMF0uZnJhbWVzLnNsaWNlKGUpOnRoaXMudGh1bWJuYWlsc1swXS5mcmFtZXMuc2xpY2UoMCxlKS5yZXZlcnNlKCk7bGV0IGE9ITE7bi5mb3JFYWNoKChlPT57Y29uc3QgdD1lLnRleHQ7aWYodCE9PXMmJiF0aGlzLmxvYWRlZEltYWdlcy5pbmNsdWRlcyh0KSl7YT0hMCx0aGlzLnBsYXllci5kZWJ1Zy5sb2coYFByZWxvYWRpbmcgdGh1bWIgZmlsZW5hbWU6ICR7dH1gKTtjb25zdHt1cmxQcmVmaXg6ZX09dGhpcy50aHVtYm5haWxzWzBdLHM9ZSt0LG49bmV3IEltYWdlO24uc3JjPXMsbi5vbmxvYWQ9KCk9Pnt0aGlzLnBsYXllci5kZWJ1Zy5sb2coYFByZWxvYWRlZCB0aHVtYiBmaWxlbmFtZTogJHt0fWApLHRoaXMubG9hZGVkSW1hZ2VzLmluY2x1ZGVzKHQpfHx0aGlzLmxvYWRlZEltYWdlcy5wdXNoKHQpLGkoKX19fSkpLGF8fGkoKX19KSwzMDApfSkpKSksZSh0aGlzLFwiZ2V0SGlnaGVyUXVhbGl0eVwiLCgoZSx0LGkscyk9PntpZihlPHRoaXMudGh1bWJuYWlscy5sZW5ndGgtMSl7bGV0IG49dC5uYXR1cmFsSGVpZ2h0O3RoaXMudXNpbmdTcHJpdGVzJiYobj1pLmgpLG48dGhpcy50aHVtYkNvbnRhaW5lckhlaWdodCYmc2V0VGltZW91dCgoKCk9Pnt0aGlzLnNob3dpbmdUaHVtYkZpbGVuYW1lPT09cyYmKHRoaXMucGxheWVyLmRlYnVnLmxvZyhgU2hvd2luZyBoaWdoZXIgcXVhbGl0eSB0aHVtYiBmb3I6ICR7c31gKSx0aGlzLmxvYWRJbWFnZShlKzEpKX0pLDMwMCl9fSkpLGUodGhpcyxcInRvZ2dsZVRodW1iQ29udGFpbmVyXCIsKChlPSExLHQ9ITEpPT57Y29uc3QgaT10aGlzLnBsYXllci5jb25maWcuY2xhc3NOYW1lcy5wcmV2aWV3VGh1bWJuYWlscy50aHVtYkNvbnRhaW5lclNob3duO3RoaXMuZWxlbWVudHMudGh1bWIuY29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoaSxlKSwhZSYmdCYmKHRoaXMuc2hvd2luZ1RodW1iPW51bGwsdGhpcy5zaG93aW5nVGh1bWJGaWxlbmFtZT1udWxsKX0pKSxlKHRoaXMsXCJ0b2dnbGVTY3J1YmJpbmdDb250YWluZXJcIiwoKGU9ITEpPT57Y29uc3QgdD10aGlzLnBsYXllci5jb25maWcuY2xhc3NOYW1lcy5wcmV2aWV3VGh1bWJuYWlscy5zY3J1YmJpbmdDb250YWluZXJTaG93bjt0aGlzLmVsZW1lbnRzLnNjcnViYmluZy5jb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZSh0LGUpLGV8fCh0aGlzLnNob3dpbmdUaHVtYj1udWxsLHRoaXMuc2hvd2luZ1RodW1iRmlsZW5hbWU9bnVsbCl9KSksZSh0aGlzLFwiZGV0ZXJtaW5lQ29udGFpbmVyQXV0b1NpemluZ1wiLCgoKT0+eyh0aGlzLmVsZW1lbnRzLnRodW1iLmltYWdlQ29udGFpbmVyLmNsaWVudEhlaWdodD4yMHx8dGhpcy5lbGVtZW50cy50aHVtYi5pbWFnZUNvbnRhaW5lci5jbGllbnRXaWR0aD4yMCkmJih0aGlzLnNpemVTcGVjaWZpZWRJbkNTUz0hMCl9KSksZSh0aGlzLFwic2V0VGh1bWJDb250YWluZXJTaXplQW5kUG9zXCIsKCgpPT57aWYodGhpcy5zaXplU3BlY2lmaWVkSW5DU1Mpe2lmKHRoaXMuZWxlbWVudHMudGh1bWIuaW1hZ2VDb250YWluZXIuY2xpZW50SGVpZ2h0PjIwJiZ0aGlzLmVsZW1lbnRzLnRodW1iLmltYWdlQ29udGFpbmVyLmNsaWVudFdpZHRoPDIwKXtjb25zdCBlPU1hdGguZmxvb3IodGhpcy5lbGVtZW50cy50aHVtYi5pbWFnZUNvbnRhaW5lci5jbGllbnRIZWlnaHQqdGhpcy50aHVtYkFzcGVjdFJhdGlvKTt0aGlzLmVsZW1lbnRzLnRodW1iLmltYWdlQ29udGFpbmVyLnN0eWxlLndpZHRoPWAke2V9cHhgfWVsc2UgaWYodGhpcy5lbGVtZW50cy50aHVtYi5pbWFnZUNvbnRhaW5lci5jbGllbnRIZWlnaHQ8MjAmJnRoaXMuZWxlbWVudHMudGh1bWIuaW1hZ2VDb250YWluZXIuY2xpZW50V2lkdGg+MjApe2NvbnN0IGU9TWF0aC5mbG9vcih0aGlzLmVsZW1lbnRzLnRodW1iLmltYWdlQ29udGFpbmVyLmNsaWVudFdpZHRoL3RoaXMudGh1bWJBc3BlY3RSYXRpbyk7dGhpcy5lbGVtZW50cy50aHVtYi5pbWFnZUNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9YCR7ZX1weGB9fWVsc2V7Y29uc3QgZT1NYXRoLmZsb29yKHRoaXMudGh1bWJDb250YWluZXJIZWlnaHQqdGhpcy50aHVtYkFzcGVjdFJhdGlvKTt0aGlzLmVsZW1lbnRzLnRodW1iLmltYWdlQ29udGFpbmVyLnN0eWxlLmhlaWdodD1gJHt0aGlzLnRodW1iQ29udGFpbmVySGVpZ2h0fXB4YCx0aGlzLmVsZW1lbnRzLnRodW1iLmltYWdlQ29udGFpbmVyLnN0eWxlLndpZHRoPWAke2V9cHhgfXRoaXMuc2V0VGh1bWJDb250YWluZXJQb3MoKX0pKSxlKHRoaXMsXCJzZXRUaHVtYkNvbnRhaW5lclBvc1wiLCgoKT0+e2NvbnN0IGU9dGhpcy5wbGF5ZXIuZWxlbWVudHMucHJvZ3Jlc3MuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdD10aGlzLnBsYXllci5lbGVtZW50cy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkse2NvbnRhaW5lcjppfT10aGlzLmVsZW1lbnRzLnRodW1iLHM9dC5sZWZ0LWUubGVmdCsxMCxuPXQucmlnaHQtZS5sZWZ0LWkuY2xpZW50V2lkdGgtMTA7bGV0IGE9dGhpcy5tb3VzZVBvc1gtZS5sZWZ0LWkuY2xpZW50V2lkdGgvMjthPHMmJihhPXMpLGE+biYmKGE9biksaS5zdHlsZS5sZWZ0PWAke2F9cHhgfSkpLGUodGhpcyxcInNldFNjcnViYmluZ0NvbnRhaW5lclNpemVcIiwoKCk9Pntjb25zdHt3aWR0aDplLGhlaWdodDp0fT1mdCh0aGlzLnRodW1iQXNwZWN0UmF0aW8se3dpZHRoOnRoaXMucGxheWVyLm1lZGlhLmNsaWVudFdpZHRoLGhlaWdodDp0aGlzLnBsYXllci5tZWRpYS5jbGllbnRIZWlnaHR9KTt0aGlzLmVsZW1lbnRzLnNjcnViYmluZy5jb250YWluZXIuc3R5bGUud2lkdGg9YCR7ZX1weGAsdGhpcy5lbGVtZW50cy5zY3J1YmJpbmcuY29udGFpbmVyLnN0eWxlLmhlaWdodD1gJHt0fXB4YH0pKSxlKHRoaXMsXCJzZXRJbWFnZVNpemVBbmRPZmZzZXRcIiwoKGUsdCk9PntpZighdGhpcy51c2luZ1Nwcml0ZXMpcmV0dXJuO2NvbnN0IGk9dGhpcy50aHVtYkNvbnRhaW5lckhlaWdodC90Lmg7ZS5zdHlsZS5oZWlnaHQ9ZS5uYXR1cmFsSGVpZ2h0KmkrXCJweFwiLGUuc3R5bGUud2lkdGg9ZS5uYXR1cmFsV2lkdGgqaStcInB4XCIsZS5zdHlsZS5sZWZ0PWAtJHt0LngqaX1weGAsZS5zdHlsZS50b3A9YC0ke3QueSppfXB4YH0pKSx0aGlzLnBsYXllcj10LHRoaXMudGh1bWJuYWlscz1bXSx0aGlzLmxvYWRlZD0hMSx0aGlzLmxhc3RNb3VzZU1vdmVUaW1lPURhdGUubm93KCksdGhpcy5tb3VzZURvd249ITEsdGhpcy5sb2FkZWRJbWFnZXM9W10sdGhpcy5lbGVtZW50cz17dGh1bWI6e30sc2NydWJiaW5nOnt9fSx0aGlzLmxvYWQoKX1nZXQgZW5hYmxlZCgpe3JldHVybiB0aGlzLnBsYXllci5pc0hUTUw1JiZ0aGlzLnBsYXllci5pc1ZpZGVvJiZ0aGlzLnBsYXllci5jb25maWcucHJldmlld1RodW1ibmFpbHMuZW5hYmxlZH1nZXQgY3VycmVudEltYWdlQ29udGFpbmVyKCl7cmV0dXJuIHRoaXMubW91c2VEb3duP3RoaXMuZWxlbWVudHMuc2NydWJiaW5nLmNvbnRhaW5lcjp0aGlzLmVsZW1lbnRzLnRodW1iLmltYWdlQ29udGFpbmVyfWdldCB1c2luZ1Nwcml0ZXMoKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy50aHVtYm5haWxzWzBdLmZyYW1lc1swXSkuaW5jbHVkZXMoXCJ3XCIpfWdldCB0aHVtYkFzcGVjdFJhdGlvKCl7cmV0dXJuIHRoaXMudXNpbmdTcHJpdGVzP3RoaXMudGh1bWJuYWlsc1swXS5mcmFtZXNbMF0udy90aGlzLnRodW1ibmFpbHNbMF0uZnJhbWVzWzBdLmg6dGhpcy50aHVtYm5haWxzWzBdLndpZHRoL3RoaXMudGh1bWJuYWlsc1swXS5oZWlnaHR9Z2V0IHRodW1iQ29udGFpbmVySGVpZ2h0KCl7aWYodGhpcy5tb3VzZURvd24pe2NvbnN0e2hlaWdodDplfT1mdCh0aGlzLnRodW1iQXNwZWN0UmF0aW8se3dpZHRoOnRoaXMucGxheWVyLm1lZGlhLmNsaWVudFdpZHRoLGhlaWdodDp0aGlzLnBsYXllci5tZWRpYS5jbGllbnRIZWlnaHR9KTtyZXR1cm4gZX1yZXR1cm4gdGhpcy5zaXplU3BlY2lmaWVkSW5DU1M/dGhpcy5lbGVtZW50cy50aHVtYi5pbWFnZUNvbnRhaW5lci5jbGllbnRIZWlnaHQ6TWF0aC5mbG9vcih0aGlzLnBsYXllci5tZWRpYS5jbGllbnRXaWR0aC90aGlzLnRodW1iQXNwZWN0UmF0aW8vNCl9Z2V0IGN1cnJlbnRJbWFnZUVsZW1lbnQoKXtyZXR1cm4gdGhpcy5tb3VzZURvd24/dGhpcy5jdXJyZW50U2NydWJiaW5nSW1hZ2VFbGVtZW50OnRoaXMuY3VycmVudFRodW1ibmFpbEltYWdlRWxlbWVudH1zZXQgY3VycmVudEltYWdlRWxlbWVudChlKXt0aGlzLm1vdXNlRG93bj90aGlzLmN1cnJlbnRTY3J1YmJpbmdJbWFnZUVsZW1lbnQ9ZTp0aGlzLmN1cnJlbnRUaHVtYm5haWxJbWFnZUVsZW1lbnQ9ZX19Y29uc3QgeXQ9e2luc2VydEVsZW1lbnRzKGUsdCl7Xyh0KT9lZShlLHRoaXMubWVkaWEse3NyYzp0fSk6aih0KSYmdC5mb3JFYWNoKCh0PT57ZWUoZSx0aGlzLm1lZGlhLHQpfSkpfSxjaGFuZ2UoZSl7UShlLFwic291cmNlcy5sZW5ndGhcIik/KEllLmNhbmNlbFJlcXVlc3RzLmNhbGwodGhpcyksdGhpcy5kZXN0cm95LmNhbGwodGhpcywoKCk9Pnt0aGlzLm9wdGlvbnMucXVhbGl0eT1bXSx0ZSh0aGlzLm1lZGlhKSx0aGlzLm1lZGlhPW51bGwsSCh0aGlzLmVsZW1lbnRzLmNvbnRhaW5lcikmJnRoaXMuZWxlbWVudHMuY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpO2NvbnN0e3NvdXJjZXM6dCx0eXBlOml9PWUsW3twcm92aWRlcjpzPUplLmh0bWw1LHNyYzpufV09dCxhPVwiaHRtbDVcIj09PXM/aTpcImRpdlwiLGw9XCJodG1sNVwiPT09cz97fTp7c3JjOm59O09iamVjdC5hc3NpZ24odGhpcyx7cHJvdmlkZXI6cyx0eXBlOmksc3VwcG9ydGVkOm1lLmNoZWNrKGkscyx0aGlzLmNvbmZpZy5wbGF5c2lubGluZSksbWVkaWE6WihhLGwpfSksdGhpcy5lbGVtZW50cy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5tZWRpYSksTyhlLmF1dG9wbGF5KSYmKHRoaXMuY29uZmlnLmF1dG9wbGF5PWUuYXV0b3BsYXkpLHRoaXMuaXNIVE1MNSYmKHRoaXMuY29uZmlnLmNyb3Nzb3JpZ2luJiZ0aGlzLm1lZGlhLnNldEF0dHJpYnV0ZShcImNyb3Nzb3JpZ2luXCIsXCJcIiksdGhpcy5jb25maWcuYXV0b3BsYXkmJnRoaXMubWVkaWEuc2V0QXR0cmlidXRlKFwiYXV0b3BsYXlcIixcIlwiKSxXKGUucG9zdGVyKXx8KHRoaXMucG9zdGVyPWUucG9zdGVyKSx0aGlzLmNvbmZpZy5sb29wLmFjdGl2ZSYmdGhpcy5tZWRpYS5zZXRBdHRyaWJ1dGUoXCJsb29wXCIsXCJcIiksdGhpcy5jb25maWcubXV0ZWQmJnRoaXMubWVkaWEuc2V0QXR0cmlidXRlKFwibXV0ZWRcIixcIlwiKSx0aGlzLmNvbmZpZy5wbGF5c2lubGluZSYmdGhpcy5tZWRpYS5zZXRBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiLFwiXCIpKSxudC5hZGRTdHlsZUhvb2suY2FsbCh0aGlzKSx0aGlzLmlzSFRNTDUmJnl0Lmluc2VydEVsZW1lbnRzLmNhbGwodGhpcyxcInNvdXJjZVwiLHQpLHRoaXMuY29uZmlnLnRpdGxlPWUudGl0bGUsbXQuc2V0dXAuY2FsbCh0aGlzKSx0aGlzLmlzSFRNTDUmJk9iamVjdC5rZXlzKGUpLmluY2x1ZGVzKFwidHJhY2tzXCIpJiZ5dC5pbnNlcnRFbGVtZW50cy5jYWxsKHRoaXMsXCJ0cmFja1wiLGUudHJhY2tzKSwodGhpcy5pc0hUTUw1fHx0aGlzLmlzRW1iZWQmJiF0aGlzLnN1cHBvcnRlZC51aSkmJm50LmJ1aWxkLmNhbGwodGhpcyksdGhpcy5pc0hUTUw1JiZ0aGlzLm1lZGlhLmxvYWQoKSxXKGUucHJldmlld1RodW1ibmFpbHMpfHwoT2JqZWN0LmFzc2lnbih0aGlzLmNvbmZpZy5wcmV2aWV3VGh1bWJuYWlscyxlLnByZXZpZXdUaHVtYm5haWxzKSx0aGlzLnByZXZpZXdUaHVtYm5haWxzJiZ0aGlzLnByZXZpZXdUaHVtYm5haWxzLmxvYWRlZCYmKHRoaXMucHJldmlld1RodW1ibmFpbHMuZGVzdHJveSgpLHRoaXMucHJldmlld1RodW1ibmFpbHM9bnVsbCksdGhpcy5jb25maWcucHJldmlld1RodW1ibmFpbHMuZW5hYmxlZCYmKHRoaXMucHJldmlld1RodW1ibmFpbHM9bmV3IGJ0KHRoaXMpKSksdGhpcy5mdWxsc2NyZWVuLnVwZGF0ZSgpfSksITApKTp0aGlzLmRlYnVnLndhcm4oXCJJbnZhbGlkIHNvdXJjZSBmb3JtYXRcIil9fTtjbGFzcyB2dHtjb25zdHJ1Y3Rvcih0LGkpe2lmKGUodGhpcyxcInBsYXlcIiwoKCk9PnEodGhpcy5tZWRpYS5wbGF5KT8odGhpcy5hZHMmJnRoaXMuYWRzLmVuYWJsZWQmJnRoaXMuYWRzLm1hbmFnZXJQcm9taXNlLnRoZW4oKCgpPT50aGlzLmFkcy5wbGF5KCkpKS5jYXRjaCgoKCk9PmtlKHRoaXMubWVkaWEucGxheSgpKSkpLHRoaXMubWVkaWEucGxheSgpKTpudWxsKSksZSh0aGlzLFwicGF1c2VcIiwoKCk9PnRoaXMucGxheWluZyYmcSh0aGlzLm1lZGlhLnBhdXNlKT90aGlzLm1lZGlhLnBhdXNlKCk6bnVsbCkpLGUodGhpcyxcInRvZ2dsZVBsYXlcIiwoZT0+KE8oZSk/ZTohdGhpcy5wbGF5aW5nKT90aGlzLnBsYXkoKTp0aGlzLnBhdXNlKCkpKSxlKHRoaXMsXCJzdG9wXCIsKCgpPT57dGhpcy5pc0hUTUw1Pyh0aGlzLnBhdXNlKCksdGhpcy5yZXN0YXJ0KCkpOnEodGhpcy5tZWRpYS5zdG9wKSYmdGhpcy5tZWRpYS5zdG9wKCl9KSksZSh0aGlzLFwicmVzdGFydFwiLCgoKT0+e3RoaXMuY3VycmVudFRpbWU9MH0pKSxlKHRoaXMsXCJyZXdpbmRcIiwoZT0+e3RoaXMuY3VycmVudFRpbWUtPSQoZSk/ZTp0aGlzLmNvbmZpZy5zZWVrVGltZX0pKSxlKHRoaXMsXCJmb3J3YXJkXCIsKGU9Pnt0aGlzLmN1cnJlbnRUaW1lKz0kKGUpP2U6dGhpcy5jb25maWcuc2Vla1RpbWV9KSksZSh0aGlzLFwiaW5jcmVhc2VWb2x1bWVcIiwoZT0+e2NvbnN0IHQ9dGhpcy5tZWRpYS5tdXRlZD8wOnRoaXMudm9sdW1lO3RoaXMudm9sdW1lPXQrKCQoZSk/ZTowKX0pKSxlKHRoaXMsXCJkZWNyZWFzZVZvbHVtZVwiLChlPT57dGhpcy5pbmNyZWFzZVZvbHVtZSgtZSl9KSksZSh0aGlzLFwiYWlycGxheVwiLCgoKT0+e21lLmFpcnBsYXkmJnRoaXMubWVkaWEud2Via2l0U2hvd1BsYXliYWNrVGFyZ2V0UGlja2VyKCl9KSksZSh0aGlzLFwidG9nZ2xlQ29udHJvbHNcIiwoZT0+e2lmKHRoaXMuc3VwcG9ydGVkLnVpJiYhdGhpcy5pc0F1ZGlvKXtjb25zdCB0PW9lKHRoaXMuZWxlbWVudHMuY29udGFpbmVyLHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuaGlkZUNvbnRyb2xzKSxpPXZvaWQgMD09PWU/dm9pZCAwOiFlLHM9bGUodGhpcy5lbGVtZW50cy5jb250YWluZXIsdGhpcy5jb25maWcuY2xhc3NOYW1lcy5oaWRlQ29udHJvbHMsaSk7aWYocyYmaih0aGlzLmNvbmZpZy5jb250cm9scykmJnRoaXMuY29uZmlnLmNvbnRyb2xzLmluY2x1ZGVzKFwic2V0dGluZ3NcIikmJiFXKHRoaXMuY29uZmlnLnNldHRpbmdzKSYmVWUudG9nZ2xlTWVudS5jYWxsKHRoaXMsITEpLHMhPT10KXtjb25zdCBlPXM/XCJjb250cm9sc2hpZGRlblwiOlwiY29udHJvbHNzaG93blwiO3ZlLmNhbGwodGhpcyx0aGlzLm1lZGlhLGUpfXJldHVybiFzfXJldHVybiExfSkpLGUodGhpcyxcIm9uXCIsKChlLHQpPT57ZmUuY2FsbCh0aGlzLHRoaXMuZWxlbWVudHMuY29udGFpbmVyLGUsdCl9KSksZSh0aGlzLFwib25jZVwiLCgoZSx0KT0+e3llLmNhbGwodGhpcyx0aGlzLmVsZW1lbnRzLmNvbnRhaW5lcixlLHQpfSkpLGUodGhpcyxcIm9mZlwiLCgoZSx0KT0+e2JlKHRoaXMuZWxlbWVudHMuY29udGFpbmVyLGUsdCl9KSksZSh0aGlzLFwiZGVzdHJveVwiLCgoZSx0PSExKT0+e2lmKCF0aGlzLnJlYWR5KXJldHVybjtjb25zdCBpPSgpPT57ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz1cIlwiLHRoaXMuZW1iZWQ9bnVsbCx0PyhPYmplY3Qua2V5cyh0aGlzLmVsZW1lbnRzKS5sZW5ndGgmJih0ZSh0aGlzLmVsZW1lbnRzLmJ1dHRvbnMucGxheSksdGUodGhpcy5lbGVtZW50cy5jYXB0aW9ucyksdGUodGhpcy5lbGVtZW50cy5jb250cm9scyksdGUodGhpcy5lbGVtZW50cy53cmFwcGVyKSx0aGlzLmVsZW1lbnRzLmJ1dHRvbnMucGxheT1udWxsLHRoaXMuZWxlbWVudHMuY2FwdGlvbnM9bnVsbCx0aGlzLmVsZW1lbnRzLmNvbnRyb2xzPW51bGwsdGhpcy5lbGVtZW50cy53cmFwcGVyPW51bGwpLHEoZSkmJmUoKSk6KHdlLmNhbGwodGhpcyksSWUuY2FuY2VsUmVxdWVzdHMuY2FsbCh0aGlzKSxzZSh0aGlzLmVsZW1lbnRzLm9yaWdpbmFsLHRoaXMuZWxlbWVudHMuY29udGFpbmVyKSx2ZS5jYWxsKHRoaXMsdGhpcy5lbGVtZW50cy5vcmlnaW5hbCxcImRlc3Ryb3llZFwiLCEwKSxxKGUpJiZlLmNhbGwodGhpcy5lbGVtZW50cy5vcmlnaW5hbCksdGhpcy5yZWFkeT0hMSxzZXRUaW1lb3V0KCgoKT0+e3RoaXMuZWxlbWVudHM9bnVsbCx0aGlzLm1lZGlhPW51bGx9KSwyMDApKX07dGhpcy5zdG9wKCksY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLmxvYWRpbmcpLGNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5jb250cm9scyksY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLnJlc2l6ZWQpLHRoaXMuaXNIVE1MNT8obnQudG9nZ2xlTmF0aXZlQ29udHJvbHMuY2FsbCh0aGlzLCEwKSxpKCkpOnRoaXMuaXNZb3VUdWJlPyhjbGVhckludGVydmFsKHRoaXMudGltZXJzLmJ1ZmZlcmluZyksY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVycy5wbGF5aW5nKSxudWxsIT09dGhpcy5lbWJlZCYmcSh0aGlzLmVtYmVkLmRlc3Ryb3kpJiZ0aGlzLmVtYmVkLmRlc3Ryb3koKSxpKCkpOnRoaXMuaXNWaW1lbyYmKG51bGwhPT10aGlzLmVtYmVkJiZ0aGlzLmVtYmVkLnVubG9hZCgpLnRoZW4oaSksc2V0VGltZW91dChpLDIwMCkpfSkpLGUodGhpcyxcInN1cHBvcnRzXCIsKGU9Pm1lLm1pbWUuY2FsbCh0aGlzLGUpKSksdGhpcy50aW1lcnM9e30sdGhpcy5yZWFkeT0hMSx0aGlzLmxvYWRpbmc9ITEsdGhpcy5mYWlsZWQ9ITEsdGhpcy50b3VjaD1tZS50b3VjaCx0aGlzLm1lZGlhPXQsXyh0aGlzLm1lZGlhKSYmKHRoaXMubWVkaWE9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLm1lZGlhKSksKHdpbmRvdy5qUXVlcnkmJnRoaXMubWVkaWEgaW5zdGFuY2VvZiBqUXVlcnl8fEQodGhpcy5tZWRpYSl8fGoodGhpcy5tZWRpYSkpJiYodGhpcy5tZWRpYT10aGlzLm1lZGlhWzBdKSx0aGlzLmNvbmZpZz1YKHt9LFllLHZ0LmRlZmF1bHRzLGl8fHt9LCgoKT0+e3RyeXtyZXR1cm4gSlNPTi5wYXJzZSh0aGlzLm1lZGlhLmdldEF0dHJpYnV0ZShcImRhdGEtcGx5ci1jb25maWdcIikpfWNhdGNoKGUpe3JldHVybnt9fX0pKCkpLHRoaXMuZWxlbWVudHM9e2NvbnRhaW5lcjpudWxsLGZ1bGxzY3JlZW46bnVsbCxjYXB0aW9uczpudWxsLGJ1dHRvbnM6e30sZGlzcGxheTp7fSxwcm9ncmVzczp7fSxpbnB1dHM6e30sc2V0dGluZ3M6e3BvcHVwOm51bGwsbWVudTpudWxsLHBhbmVsczp7fSxidXR0b25zOnt9fX0sdGhpcy5jYXB0aW9ucz17YWN0aXZlOm51bGwsY3VycmVudFRyYWNrOi0xLG1ldGE6bmV3IFdlYWtNYXB9LHRoaXMuZnVsbHNjcmVlbj17YWN0aXZlOiExfSx0aGlzLm9wdGlvbnM9e3NwZWVkOltdLHF1YWxpdHk6W119LHRoaXMuZGVidWc9bmV3IHR0KHRoaXMuY29uZmlnLmRlYnVnKSx0aGlzLmRlYnVnLmxvZyhcIkNvbmZpZ1wiLHRoaXMuY29uZmlnKSx0aGlzLmRlYnVnLmxvZyhcIlN1cHBvcnRcIixtZSksSSh0aGlzLm1lZGlhKXx8IUgodGhpcy5tZWRpYSkpcmV0dXJuIHZvaWQgdGhpcy5kZWJ1Zy5lcnJvcihcIlNldHVwIGZhaWxlZDogbm8gc3VpdGFibGUgZWxlbWVudCBwYXNzZWRcIik7aWYodGhpcy5tZWRpYS5wbHlyKXJldHVybiB2b2lkIHRoaXMuZGVidWcud2FybihcIlRhcmdldCBhbHJlYWR5IHNldHVwXCIpO2lmKCF0aGlzLmNvbmZpZy5lbmFibGVkKXJldHVybiB2b2lkIHRoaXMuZGVidWcuZXJyb3IoXCJTZXR1cCBmYWlsZWQ6IGRpc2FibGVkIGJ5IGNvbmZpZ1wiKTtpZighbWUuY2hlY2soKS5hcGkpcmV0dXJuIHZvaWQgdGhpcy5kZWJ1Zy5lcnJvcihcIlNldHVwIGZhaWxlZDogbm8gc3VwcG9ydFwiKTtjb25zdCBzPXRoaXMubWVkaWEuY2xvbmVOb2RlKCEwKTtzLmF1dG9wbGF5PSExLHRoaXMuZWxlbWVudHMub3JpZ2luYWw9cztjb25zdCBuPXRoaXMubWVkaWEudGFnTmFtZS50b0xvd2VyQ2FzZSgpO2xldCBhPW51bGwsbD1udWxsO3N3aXRjaChuKXtjYXNlXCJkaXZcIjppZihhPXRoaXMubWVkaWEucXVlcnlTZWxlY3RvcihcImlmcmFtZVwiKSxIKGEpKXtpZihsPVdlKGEuZ2V0QXR0cmlidXRlKFwic3JjXCIpKSx0aGlzLnByb3ZpZGVyPWZ1bmN0aW9uKGUpe3JldHVybi9eKGh0dHBzPzpcXC9cXC8pPyh3d3dcXC4pPyh5b3V0dWJlXFwuY29tfHlvdXR1YmUtbm9jb29raWVcXC5jb218eW91dHVcXC4/YmUpXFwvLiskLy50ZXN0KGUpP0plLnlvdXR1YmU6L15odHRwcz86XFwvXFwvcGxheWVyLnZpbWVvLmNvbVxcL3ZpZGVvXFwvXFxkezAsOX0oPz1cXGJ8XFwvKS8udGVzdChlKT9KZS52aW1lbzpudWxsfShsLnRvU3RyaW5nKCkpLHRoaXMuZWxlbWVudHMuY29udGFpbmVyPXRoaXMubWVkaWEsdGhpcy5tZWRpYT1hLHRoaXMuZWxlbWVudHMuY29udGFpbmVyLmNsYXNzTmFtZT1cIlwiLGwuc2VhcmNoLmxlbmd0aCl7Y29uc3QgZT1bXCIxXCIsXCJ0cnVlXCJdO2UuaW5jbHVkZXMobC5zZWFyY2hQYXJhbXMuZ2V0KFwiYXV0b3BsYXlcIikpJiYodGhpcy5jb25maWcuYXV0b3BsYXk9ITApLGUuaW5jbHVkZXMobC5zZWFyY2hQYXJhbXMuZ2V0KFwibG9vcFwiKSkmJih0aGlzLmNvbmZpZy5sb29wLmFjdGl2ZT0hMCksdGhpcy5pc1lvdVR1YmU/KHRoaXMuY29uZmlnLnBsYXlzaW5saW5lPWUuaW5jbHVkZXMobC5zZWFyY2hQYXJhbXMuZ2V0KFwicGxheXNpbmxpbmVcIikpLHRoaXMuY29uZmlnLnlvdXR1YmUuaGw9bC5zZWFyY2hQYXJhbXMuZ2V0KFwiaGxcIikpOnRoaXMuY29uZmlnLnBsYXlzaW5saW5lPSEwfX1lbHNlIHRoaXMucHJvdmlkZXI9dGhpcy5tZWRpYS5nZXRBdHRyaWJ1dGUodGhpcy5jb25maWcuYXR0cmlidXRlcy5lbWJlZC5wcm92aWRlciksdGhpcy5tZWRpYS5yZW1vdmVBdHRyaWJ1dGUodGhpcy5jb25maWcuYXR0cmlidXRlcy5lbWJlZC5wcm92aWRlcik7aWYoVyh0aGlzLnByb3ZpZGVyKXx8IU9iamVjdC52YWx1ZXMoSmUpLmluY2x1ZGVzKHRoaXMucHJvdmlkZXIpKXJldHVybiB2b2lkIHRoaXMuZGVidWcuZXJyb3IoXCJTZXR1cCBmYWlsZWQ6IEludmFsaWQgcHJvdmlkZXJcIik7dGhpcy50eXBlPVplO2JyZWFrO2Nhc2VcInZpZGVvXCI6Y2FzZVwiYXVkaW9cIjp0aGlzLnR5cGU9bix0aGlzLnByb3ZpZGVyPUplLmh0bWw1LHRoaXMubWVkaWEuaGFzQXR0cmlidXRlKFwiY3Jvc3NvcmlnaW5cIikmJih0aGlzLmNvbmZpZy5jcm9zc29yaWdpbj0hMCksdGhpcy5tZWRpYS5oYXNBdHRyaWJ1dGUoXCJhdXRvcGxheVwiKSYmKHRoaXMuY29uZmlnLmF1dG9wbGF5PSEwKSwodGhpcy5tZWRpYS5oYXNBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiKXx8dGhpcy5tZWRpYS5oYXNBdHRyaWJ1dGUoXCJ3ZWJraXQtcGxheXNpbmxpbmVcIikpJiYodGhpcy5jb25maWcucGxheXNpbmxpbmU9ITApLHRoaXMubWVkaWEuaGFzQXR0cmlidXRlKFwibXV0ZWRcIikmJih0aGlzLmNvbmZpZy5tdXRlZD0hMCksdGhpcy5tZWRpYS5oYXNBdHRyaWJ1dGUoXCJsb29wXCIpJiYodGhpcy5jb25maWcubG9vcC5hY3RpdmU9ITApO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIHZvaWQgdGhpcy5kZWJ1Zy5lcnJvcihcIlNldHVwIGZhaWxlZDogdW5zdXBwb3J0ZWQgdHlwZVwiKX10aGlzLnN1cHBvcnRlZD1tZS5jaGVjayh0aGlzLnR5cGUsdGhpcy5wcm92aWRlcix0aGlzLmNvbmZpZy5wbGF5c2lubGluZSksdGhpcy5zdXBwb3J0ZWQuYXBpPyh0aGlzLmV2ZW50TGlzdGVuZXJzPVtdLHRoaXMubGlzdGVuZXJzPW5ldyBhdCh0aGlzKSx0aGlzLnN0b3JhZ2U9bmV3IEhlKHRoaXMpLHRoaXMubWVkaWEucGx5cj10aGlzLEgodGhpcy5lbGVtZW50cy5jb250YWluZXIpfHwodGhpcy5lbGVtZW50cy5jb250YWluZXI9WihcImRpdlwiLHt0YWJpbmRleDowfSksSih0aGlzLm1lZGlhLHRoaXMuZWxlbWVudHMuY29udGFpbmVyKSksbnQubWlncmF0ZVN0eWxlcy5jYWxsKHRoaXMpLG50LmFkZFN0eWxlSG9vay5jYWxsKHRoaXMpLG10LnNldHVwLmNhbGwodGhpcyksdGhpcy5jb25maWcuZGVidWcmJmZlLmNhbGwodGhpcyx0aGlzLmVsZW1lbnRzLmNvbnRhaW5lcix0aGlzLmNvbmZpZy5ldmVudHMuam9pbihcIiBcIiksKGU9Pnt0aGlzLmRlYnVnLmxvZyhgZXZlbnQ6ICR7ZS50eXBlfWApfSkpLHRoaXMuZnVsbHNjcmVlbj1uZXcgaXQodGhpcyksKHRoaXMuaXNIVE1MNXx8dGhpcy5pc0VtYmVkJiYhdGhpcy5zdXBwb3J0ZWQudWkpJiZudC5idWlsZC5jYWxsKHRoaXMpLHRoaXMubGlzdGVuZXJzLmNvbnRhaW5lcigpLHRoaXMubGlzdGVuZXJzLmdsb2JhbCgpLHRoaXMuY29uZmlnLmFkcy5lbmFibGVkJiYodGhpcy5hZHM9bmV3IHB0KHRoaXMpKSx0aGlzLmlzSFRNTDUmJnRoaXMuY29uZmlnLmF1dG9wbGF5JiZ0aGlzLm9uY2UoXCJjYW5wbGF5XCIsKCgpPT5rZSh0aGlzLnBsYXkoKSkpKSx0aGlzLmxhc3RTZWVrVGltZT0wLHRoaXMuY29uZmlnLnByZXZpZXdUaHVtYm5haWxzLmVuYWJsZWQmJih0aGlzLnByZXZpZXdUaHVtYm5haWxzPW5ldyBidCh0aGlzKSkpOnRoaXMuZGVidWcuZXJyb3IoXCJTZXR1cCBmYWlsZWQ6IG5vIHN1cHBvcnRcIil9Z2V0IGlzSFRNTDUoKXtyZXR1cm4gdGhpcy5wcm92aWRlcj09PUplLmh0bWw1fWdldCBpc0VtYmVkKCl7cmV0dXJuIHRoaXMuaXNZb3VUdWJlfHx0aGlzLmlzVmltZW99Z2V0IGlzWW91VHViZSgpe3JldHVybiB0aGlzLnByb3ZpZGVyPT09SmUueW91dHViZX1nZXQgaXNWaW1lbygpe3JldHVybiB0aGlzLnByb3ZpZGVyPT09SmUudmltZW99Z2V0IGlzVmlkZW8oKXtyZXR1cm4gdGhpcy50eXBlPT09WmV9Z2V0IGlzQXVkaW8oKXtyZXR1cm4gdGhpcy50eXBlPT09R2V9Z2V0IHBsYXlpbmcoKXtyZXR1cm4gQm9vbGVhbih0aGlzLnJlYWR5JiYhdGhpcy5wYXVzZWQmJiF0aGlzLmVuZGVkKX1nZXQgcGF1c2VkKCl7cmV0dXJuIEJvb2xlYW4odGhpcy5tZWRpYS5wYXVzZWQpfWdldCBzdG9wcGVkKCl7cmV0dXJuIEJvb2xlYW4odGhpcy5wYXVzZWQmJjA9PT10aGlzLmN1cnJlbnRUaW1lKX1nZXQgZW5kZWQoKXtyZXR1cm4gQm9vbGVhbih0aGlzLm1lZGlhLmVuZGVkKX1zZXQgY3VycmVudFRpbWUoZSl7aWYoIXRoaXMuZHVyYXRpb24pcmV0dXJuO2NvbnN0IHQ9JChlKSYmZT4wO3RoaXMubWVkaWEuY3VycmVudFRpbWU9dD9NYXRoLm1pbihlLHRoaXMuZHVyYXRpb24pOjAsdGhpcy5kZWJ1Zy5sb2coYFNlZWtpbmcgdG8gJHt0aGlzLmN1cnJlbnRUaW1lfSBzZWNvbmRzYCl9Z2V0IGN1cnJlbnRUaW1lKCl7cmV0dXJuIE51bWJlcih0aGlzLm1lZGlhLmN1cnJlbnRUaW1lKX1nZXQgYnVmZmVyZWQoKXtjb25zdHtidWZmZXJlZDplfT10aGlzLm1lZGlhO3JldHVybiAkKGUpP2U6ZSYmZS5sZW5ndGgmJnRoaXMuZHVyYXRpb24+MD9lLmVuZCgwKS90aGlzLmR1cmF0aW9uOjB9Z2V0IHNlZWtpbmcoKXtyZXR1cm4gQm9vbGVhbih0aGlzLm1lZGlhLnNlZWtpbmcpfWdldCBkdXJhdGlvbigpe2NvbnN0IGU9cGFyc2VGbG9hdCh0aGlzLmNvbmZpZy5kdXJhdGlvbiksdD0odGhpcy5tZWRpYXx8e30pLmR1cmF0aW9uLGk9JCh0KSYmdCE9PTEvMD90OjA7cmV0dXJuIGV8fGl9c2V0IHZvbHVtZShlKXtsZXQgdD1lO18odCkmJih0PU51bWJlcih0KSksJCh0KXx8KHQ9dGhpcy5zdG9yYWdlLmdldChcInZvbHVtZVwiKSksJCh0KXx8KHt2b2x1bWU6dH09dGhpcy5jb25maWcpLHQ+MSYmKHQ9MSksdDwwJiYodD0wKSx0aGlzLmNvbmZpZy52b2x1bWU9dCx0aGlzLm1lZGlhLnZvbHVtZT10LCFXKGUpJiZ0aGlzLm11dGVkJiZ0PjAmJih0aGlzLm11dGVkPSExKX1nZXQgdm9sdW1lKCl7cmV0dXJuIE51bWJlcih0aGlzLm1lZGlhLnZvbHVtZSl9c2V0IG11dGVkKGUpe2xldCB0PWU7Tyh0KXx8KHQ9dGhpcy5zdG9yYWdlLmdldChcIm11dGVkXCIpKSxPKHQpfHwodD10aGlzLmNvbmZpZy5tdXRlZCksdGhpcy5jb25maWcubXV0ZWQ9dCx0aGlzLm1lZGlhLm11dGVkPXR9Z2V0IG11dGVkKCl7cmV0dXJuIEJvb2xlYW4odGhpcy5tZWRpYS5tdXRlZCl9Z2V0IGhhc0F1ZGlvKCl7cmV0dXJuIXRoaXMuaXNIVE1MNXx8KCEhdGhpcy5pc0F1ZGlvfHwoQm9vbGVhbih0aGlzLm1lZGlhLm1vekhhc0F1ZGlvKXx8Qm9vbGVhbih0aGlzLm1lZGlhLndlYmtpdEF1ZGlvRGVjb2RlZEJ5dGVDb3VudCl8fEJvb2xlYW4odGhpcy5tZWRpYS5hdWRpb1RyYWNrcyYmdGhpcy5tZWRpYS5hdWRpb1RyYWNrcy5sZW5ndGgpKSl9c2V0IHNwZWVkKGUpe2xldCB0PW51bGw7JChlKSYmKHQ9ZSksJCh0KXx8KHQ9dGhpcy5zdG9yYWdlLmdldChcInNwZWVkXCIpKSwkKHQpfHwodD10aGlzLmNvbmZpZy5zcGVlZC5zZWxlY3RlZCk7Y29uc3R7bWluaW11bVNwZWVkOmksbWF4aW11bVNwZWVkOnN9PXRoaXM7dD1mdW5jdGlvbihlPTAsdD0wLGk9MjU1KXtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgoZSx0KSxpKX0odCxpLHMpLHRoaXMuY29uZmlnLnNwZWVkLnNlbGVjdGVkPXQsc2V0VGltZW91dCgoKCk9Pnt0aGlzLm1lZGlhLnBsYXliYWNrUmF0ZT10fSksMCl9Z2V0IHNwZWVkKCl7cmV0dXJuIE51bWJlcih0aGlzLm1lZGlhLnBsYXliYWNrUmF0ZSl9Z2V0IG1pbmltdW1TcGVlZCgpe3JldHVybiB0aGlzLmlzWW91VHViZT9NYXRoLm1pbiguLi50aGlzLm9wdGlvbnMuc3BlZWQpOnRoaXMuaXNWaW1lbz8uNTouMDYyNX1nZXQgbWF4aW11bVNwZWVkKCl7cmV0dXJuIHRoaXMuaXNZb3VUdWJlP01hdGgubWF4KC4uLnRoaXMub3B0aW9ucy5zcGVlZCk6dGhpcy5pc1ZpbWVvPzI6MTZ9c2V0IHF1YWxpdHkoZSl7Y29uc3QgdD10aGlzLmNvbmZpZy5xdWFsaXR5LGk9dGhpcy5vcHRpb25zLnF1YWxpdHk7aWYoIWkubGVuZ3RoKXJldHVybjtsZXQgcz1bIVcoZSkmJk51bWJlcihlKSx0aGlzLnN0b3JhZ2UuZ2V0KFwicXVhbGl0eVwiKSx0LnNlbGVjdGVkLHQuZGVmYXVsdF0uZmluZCgkKSxuPSEwO2lmKCFpLmluY2x1ZGVzKHMpKXtjb25zdCBlPUFlKGkscyk7dGhpcy5kZWJ1Zy53YXJuKGBVbnN1cHBvcnRlZCBxdWFsaXR5IG9wdGlvbjogJHtzfSwgdXNpbmcgJHtlfSBpbnN0ZWFkYCkscz1lLG49ITF9dC5zZWxlY3RlZD1zLHRoaXMubWVkaWEucXVhbGl0eT1zLG4mJnRoaXMuc3RvcmFnZS5zZXQoe3F1YWxpdHk6c30pfWdldCBxdWFsaXR5KCl7cmV0dXJuIHRoaXMubWVkaWEucXVhbGl0eX1zZXQgbG9vcChlKXtjb25zdCB0PU8oZSk/ZTp0aGlzLmNvbmZpZy5sb29wLmFjdGl2ZTt0aGlzLmNvbmZpZy5sb29wLmFjdGl2ZT10LHRoaXMubWVkaWEubG9vcD10fWdldCBsb29wKCl7cmV0dXJuIEJvb2xlYW4odGhpcy5tZWRpYS5sb29wKX1zZXQgc291cmNlKGUpe3l0LmNoYW5nZS5jYWxsKHRoaXMsZSl9Z2V0IHNvdXJjZSgpe3JldHVybiB0aGlzLm1lZGlhLmN1cnJlbnRTcmN9Z2V0IGRvd25sb2FkKCl7Y29uc3R7ZG93bmxvYWQ6ZX09dGhpcy5jb25maWcudXJscztyZXR1cm4gVShlKT9lOnRoaXMuc291cmNlfXNldCBkb3dubG9hZChlKXtVKGUpJiYodGhpcy5jb25maWcudXJscy5kb3dubG9hZD1lLFVlLnNldERvd25sb2FkVXJsLmNhbGwodGhpcykpfXNldCBwb3N0ZXIoZSl7dGhpcy5pc1ZpZGVvP250LnNldFBvc3Rlci5jYWxsKHRoaXMsZSwhMSkuY2F0Y2goKCgpPT57fSkpOnRoaXMuZGVidWcud2FybihcIlBvc3RlciBjYW4gb25seSBiZSBzZXQgZm9yIHZpZGVvXCIpfWdldCBwb3N0ZXIoKXtyZXR1cm4gdGhpcy5pc1ZpZGVvP3RoaXMubWVkaWEuZ2V0QXR0cmlidXRlKFwicG9zdGVyXCIpfHx0aGlzLm1lZGlhLmdldEF0dHJpYnV0ZShcImRhdGEtcG9zdGVyXCIpOm51bGx9Z2V0IHJhdGlvKCl7aWYoIXRoaXMuaXNWaWRlbylyZXR1cm4gbnVsbDtjb25zdCBlPVBlKE5lLmNhbGwodGhpcykpO3JldHVybiBqKGUpP2Uuam9pbihcIjpcIik6ZX1zZXQgcmF0aW8oZSl7dGhpcy5pc1ZpZGVvP18oZSkmJkVlKGUpPyh0aGlzLmNvbmZpZy5yYXRpbz1QZShlKSxNZS5jYWxsKHRoaXMpKTp0aGlzLmRlYnVnLmVycm9yKGBJbnZhbGlkIGFzcGVjdCByYXRpbyBzcGVjaWZpZWQgKCR7ZX0pYCk6dGhpcy5kZWJ1Zy53YXJuKFwiQXNwZWN0IHJhdGlvIGNhbiBvbmx5IGJlIHNldCBmb3IgdmlkZW9cIil9c2V0IGF1dG9wbGF5KGUpe2NvbnN0IHQ9TyhlKT9lOnRoaXMuY29uZmlnLmF1dG9wbGF5O3RoaXMuY29uZmlnLmF1dG9wbGF5PXR9Z2V0IGF1dG9wbGF5KCl7cmV0dXJuIEJvb2xlYW4odGhpcy5jb25maWcuYXV0b3BsYXkpfXRvZ2dsZUNhcHRpb25zKGUpe0tlLnRvZ2dsZS5jYWxsKHRoaXMsZSwhMSl9c2V0IGN1cnJlbnRUcmFjayhlKXtLZS5zZXQuY2FsbCh0aGlzLGUsITEpfWdldCBjdXJyZW50VHJhY2soKXtjb25zdHt0b2dnbGVkOmUsY3VycmVudFRyYWNrOnR9PXRoaXMuY2FwdGlvbnM7cmV0dXJuIGU/dDotMX1zZXQgbGFuZ3VhZ2UoZSl7S2Uuc2V0TGFuZ3VhZ2UuY2FsbCh0aGlzLGUsITEpfWdldCBsYW5ndWFnZSgpe3JldHVybihLZS5nZXRDdXJyZW50VHJhY2suY2FsbCh0aGlzKXx8e30pLmxhbmd1YWdlfXNldCBwaXAoZSl7aWYoIW1lLnBpcClyZXR1cm47Y29uc3QgdD1PKGUpP2U6IXRoaXMucGlwO3EodGhpcy5tZWRpYS53ZWJraXRTZXRQcmVzZW50YXRpb25Nb2RlKSYmdGhpcy5tZWRpYS53ZWJraXRTZXRQcmVzZW50YXRpb25Nb2RlKHQ/UWU6WGUpLHEodGhpcy5tZWRpYS5yZXF1ZXN0UGljdHVyZUluUGljdHVyZSkmJighdGhpcy5waXAmJnQ/dGhpcy5tZWRpYS5yZXF1ZXN0UGljdHVyZUluUGljdHVyZSgpOnRoaXMucGlwJiYhdCYmZG9jdW1lbnQuZXhpdFBpY3R1cmVJblBpY3R1cmUoKSl9Z2V0IHBpcCgpe3JldHVybiBtZS5waXA/Vyh0aGlzLm1lZGlhLndlYmtpdFByZXNlbnRhdGlvbk1vZGUpP3RoaXMubWVkaWE9PT1kb2N1bWVudC5waWN0dXJlSW5QaWN0dXJlRWxlbWVudDp0aGlzLm1lZGlhLndlYmtpdFByZXNlbnRhdGlvbk1vZGU9PT1RZTpudWxsfXN0YXRpYyBzdXBwb3J0ZWQoZSx0LGkpe3JldHVybiBtZS5jaGVjayhlLHQsaSl9c3RhdGljIGxvYWRTcHJpdGUoZSx0KXtyZXR1cm4gUmUoZSx0KX1zdGF0aWMgc2V0dXAoZSx0PXt9KXtsZXQgaT1udWxsO3JldHVybiBfKGUpP2k9QXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGUpKTpEKGUpP2k9QXJyYXkuZnJvbShlKTpqKGUpJiYoaT1lLmZpbHRlcihIKSksVyhpKT9udWxsOmkubWFwKChlPT5uZXcgdnQoZSx0KSkpfX12YXIgd3Q7cmV0dXJuIHZ0LmRlZmF1bHRzPSh3dD1ZZSxKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHd0KSkpLHZ0fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGx5ci5taW4uanMubWFwXG4iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQnO1xuaW1wb3J0IF9pbmhlcml0c0xvb3NlIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2UnO1xuaW1wb3J0IF93cmFwTmF0aXZlU3VwZXIgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vd3JhcE5hdGl2ZVN1cGVyJztcbmltcG9ydCBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2UnO1xuXG5mdW5jdGlvbiBsYXN0KCkge1xuICB2YXIgX3JlZjtcblxuICByZXR1cm4gX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxLCBfcmVmIDwgMCB8fCBhcmd1bWVudHMubGVuZ3RoIDw9IF9yZWYgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbX3JlZl07XG59XG5cbmZ1bmN0aW9uIG5lZ2F0aW9uKGEpIHtcbiAgcmV0dXJuIC1hO1xufVxuXG5mdW5jdGlvbiBhZGRpdGlvbihhLCBiKSB7XG4gIHJldHVybiBhICsgYjtcbn1cblxuZnVuY3Rpb24gc3VidHJhY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSAtIGI7XG59XG5cbmZ1bmN0aW9uIG11bHRpcGxpY2F0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgKiBiO1xufVxuXG5mdW5jdGlvbiBkaXZpc2lvbihhLCBiKSB7XG4gIHJldHVybiBhIC8gYjtcbn1cblxuZnVuY3Rpb24gbWF4KCkge1xuICByZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCwgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gbWluKCkge1xuICByZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCwgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gY29tbWEoKSB7XG4gIHJldHVybiBBcnJheS5vZi5hcHBseShBcnJheSwgYXJndW1lbnRzKTtcbn1cblxudmFyIGRlZmF1bHRTeW1ib2xzID0ge1xuICBzeW1ib2xzOiB7XG4gICAgJyonOiB7XG4gICAgICBpbmZpeDoge1xuICAgICAgICBzeW1ib2w6ICcqJyxcbiAgICAgICAgZjogbXVsdGlwbGljYXRpb24sXG4gICAgICAgIG5vdGF0aW9uOiAnaW5maXgnLFxuICAgICAgICBwcmVjZWRlbmNlOiA0LFxuICAgICAgICByaWdodFRvTGVmdDogMCxcbiAgICAgICAgYXJnQ291bnQ6IDJcbiAgICAgIH0sXG4gICAgICBzeW1ib2w6ICcqJyxcbiAgICAgIHJlZ1N5bWJvbDogJ1xcXFwqJ1xuICAgIH0sXG4gICAgJy8nOiB7XG4gICAgICBpbmZpeDoge1xuICAgICAgICBzeW1ib2w6ICcvJyxcbiAgICAgICAgZjogZGl2aXNpb24sXG4gICAgICAgIG5vdGF0aW9uOiAnaW5maXgnLFxuICAgICAgICBwcmVjZWRlbmNlOiA0LFxuICAgICAgICByaWdodFRvTGVmdDogMCxcbiAgICAgICAgYXJnQ291bnQ6IDJcbiAgICAgIH0sXG4gICAgICBzeW1ib2w6ICcvJyxcbiAgICAgIHJlZ1N5bWJvbDogJy8nXG4gICAgfSxcbiAgICAnKyc6IHtcbiAgICAgIGluZml4OiB7XG4gICAgICAgIHN5bWJvbDogJysnLFxuICAgICAgICBmOiBhZGRpdGlvbixcbiAgICAgICAgbm90YXRpb246ICdpbmZpeCcsXG4gICAgICAgIHByZWNlZGVuY2U6IDIsXG4gICAgICAgIHJpZ2h0VG9MZWZ0OiAwLFxuICAgICAgICBhcmdDb3VudDogMlxuICAgICAgfSxcbiAgICAgIHByZWZpeDoge1xuICAgICAgICBzeW1ib2w6ICcrJyxcbiAgICAgICAgZjogbGFzdCxcbiAgICAgICAgbm90YXRpb246ICdwcmVmaXgnLFxuICAgICAgICBwcmVjZWRlbmNlOiAzLFxuICAgICAgICByaWdodFRvTGVmdDogMCxcbiAgICAgICAgYXJnQ291bnQ6IDFcbiAgICAgIH0sXG4gICAgICBzeW1ib2w6ICcrJyxcbiAgICAgIHJlZ1N5bWJvbDogJ1xcXFwrJ1xuICAgIH0sXG4gICAgJy0nOiB7XG4gICAgICBpbmZpeDoge1xuICAgICAgICBzeW1ib2w6ICctJyxcbiAgICAgICAgZjogc3VidHJhY3Rpb24sXG4gICAgICAgIG5vdGF0aW9uOiAnaW5maXgnLFxuICAgICAgICBwcmVjZWRlbmNlOiAyLFxuICAgICAgICByaWdodFRvTGVmdDogMCxcbiAgICAgICAgYXJnQ291bnQ6IDJcbiAgICAgIH0sXG4gICAgICBwcmVmaXg6IHtcbiAgICAgICAgc3ltYm9sOiAnLScsXG4gICAgICAgIGY6IG5lZ2F0aW9uLFxuICAgICAgICBub3RhdGlvbjogJ3ByZWZpeCcsXG4gICAgICAgIHByZWNlZGVuY2U6IDMsXG4gICAgICAgIHJpZ2h0VG9MZWZ0OiAwLFxuICAgICAgICBhcmdDb3VudDogMVxuICAgICAgfSxcbiAgICAgIHN5bWJvbDogJy0nLFxuICAgICAgcmVnU3ltYm9sOiAnLSdcbiAgICB9LFxuICAgICcsJzoge1xuICAgICAgaW5maXg6IHtcbiAgICAgICAgc3ltYm9sOiAnLCcsXG4gICAgICAgIGY6IGNvbW1hLFxuICAgICAgICBub3RhdGlvbjogJ2luZml4JyxcbiAgICAgICAgcHJlY2VkZW5jZTogMSxcbiAgICAgICAgcmlnaHRUb0xlZnQ6IDAsXG4gICAgICAgIGFyZ0NvdW50OiAyXG4gICAgICB9LFxuICAgICAgc3ltYm9sOiAnLCcsXG4gICAgICByZWdTeW1ib2w6ICcsJ1xuICAgIH0sXG4gICAgJygnOiB7XG4gICAgICBwcmVmaXg6IHtcbiAgICAgICAgc3ltYm9sOiAnKCcsXG4gICAgICAgIGY6IGxhc3QsXG4gICAgICAgIG5vdGF0aW9uOiAncHJlZml4JyxcbiAgICAgICAgcHJlY2VkZW5jZTogMCxcbiAgICAgICAgcmlnaHRUb0xlZnQ6IDAsXG4gICAgICAgIGFyZ0NvdW50OiAxXG4gICAgICB9LFxuICAgICAgc3ltYm9sOiAnKCcsXG4gICAgICByZWdTeW1ib2w6ICdcXFxcKCdcbiAgICB9LFxuICAgICcpJzoge1xuICAgICAgcG9zdGZpeDoge1xuICAgICAgICBzeW1ib2w6ICcpJyxcbiAgICAgICAgZjogdW5kZWZpbmVkLFxuICAgICAgICBub3RhdGlvbjogJ3Bvc3RmaXgnLFxuICAgICAgICBwcmVjZWRlbmNlOiAwLFxuICAgICAgICByaWdodFRvTGVmdDogMCxcbiAgICAgICAgYXJnQ291bnQ6IDFcbiAgICAgIH0sXG4gICAgICBzeW1ib2w6ICcpJyxcbiAgICAgIHJlZ1N5bWJvbDogJ1xcXFwpJ1xuICAgIH0sXG4gICAgbWluOiB7XG4gICAgICBmdW5jOiB7XG4gICAgICAgIHN5bWJvbDogJ21pbicsXG4gICAgICAgIGY6IG1pbixcbiAgICAgICAgbm90YXRpb246ICdmdW5jJyxcbiAgICAgICAgcHJlY2VkZW5jZTogMCxcbiAgICAgICAgcmlnaHRUb0xlZnQ6IDAsXG4gICAgICAgIGFyZ0NvdW50OiAxXG4gICAgICB9LFxuICAgICAgc3ltYm9sOiAnbWluJyxcbiAgICAgIHJlZ1N5bWJvbDogJ21pblxcXFxiJ1xuICAgIH0sXG4gICAgbWF4OiB7XG4gICAgICBmdW5jOiB7XG4gICAgICAgIHN5bWJvbDogJ21heCcsXG4gICAgICAgIGY6IG1heCxcbiAgICAgICAgbm90YXRpb246ICdmdW5jJyxcbiAgICAgICAgcHJlY2VkZW5jZTogMCxcbiAgICAgICAgcmlnaHRUb0xlZnQ6IDAsXG4gICAgICAgIGFyZ0NvdW50OiAxXG4gICAgICB9LFxuICAgICAgc3ltYm9sOiAnbWF4JyxcbiAgICAgIHJlZ1N5bWJvbDogJ21heFxcXFxiJ1xuICAgIH1cbiAgfVxufTtcblxuLy8gYmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL3N0eWxlZC1jb21wb25lbnRzL3N0eWxlZC1jb21wb25lbnRzL2Jsb2IvZmNmNmYzODA0YzU3YTE0ZGQ3OTg0ZGZhYjdiYzA2ZWUyZWRjYTA0NC9zcmMvdXRpbHMvZXJyb3IuanNcblxuLyoqXG4gKiBQYXJzZSBlcnJvcnMubWQgYW5kIHR1cm4gaXQgaW50byBhIHNpbXBsZSBoYXNoIG9mIGNvZGU6IG1lc3NhZ2VcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBFUlJPUlMgPSB7XG4gIFwiMVwiOiBcIlBhc3NlZCBpbnZhbGlkIGFyZ3VtZW50cyB0byBoc2wsIHBsZWFzZSBwYXNzIG11bHRpcGxlIG51bWJlcnMgZS5nLiBoc2woMzYwLCAwLjc1LCAwLjQpIG9yIGFuIG9iamVjdCBlLmcuIHJnYih7IGh1ZTogMjU1LCBzYXR1cmF0aW9uOiAwLjQsIGxpZ2h0bmVzczogMC43NSB9KS5cXG5cXG5cIixcbiAgXCIyXCI6IFwiUGFzc2VkIGludmFsaWQgYXJndW1lbnRzIHRvIGhzbGEsIHBsZWFzZSBwYXNzIG11bHRpcGxlIG51bWJlcnMgZS5nLiBoc2xhKDM2MCwgMC43NSwgMC40LCAwLjcpIG9yIGFuIG9iamVjdCBlLmcuIHJnYih7IGh1ZTogMjU1LCBzYXR1cmF0aW9uOiAwLjQsIGxpZ2h0bmVzczogMC43NSwgYWxwaGE6IDAuNyB9KS5cXG5cXG5cIixcbiAgXCIzXCI6IFwiUGFzc2VkIGFuIGluY29ycmVjdCBhcmd1bWVudCB0byBhIGNvbG9yIGZ1bmN0aW9uLCBwbGVhc2UgcGFzcyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIGNvbG9yLlxcblxcblwiLFxuICBcIjRcIjogXCJDb3VsZG4ndCBnZW5lcmF0ZSB2YWxpZCByZ2Igc3RyaW5nIGZyb20gJXMsIGl0IHJldHVybmVkICVzLlxcblxcblwiLFxuICBcIjVcIjogXCJDb3VsZG4ndCBwYXJzZSB0aGUgY29sb3Igc3RyaW5nLiBQbGVhc2UgcHJvdmlkZSB0aGUgY29sb3IgYXMgYSBzdHJpbmcgaW4gaGV4LCByZ2IsIHJnYmEsIGhzbCBvciBoc2xhIG5vdGF0aW9uLlxcblxcblwiLFxuICBcIjZcIjogXCJQYXNzZWQgaW52YWxpZCBhcmd1bWVudHMgdG8gcmdiLCBwbGVhc2UgcGFzcyBtdWx0aXBsZSBudW1iZXJzIGUuZy4gcmdiKDI1NSwgMjA1LCAxMDApIG9yIGFuIG9iamVjdCBlLmcuIHJnYih7IHJlZDogMjU1LCBncmVlbjogMjA1LCBibHVlOiAxMDAgfSkuXFxuXFxuXCIsXG4gIFwiN1wiOiBcIlBhc3NlZCBpbnZhbGlkIGFyZ3VtZW50cyB0byByZ2JhLCBwbGVhc2UgcGFzcyBtdWx0aXBsZSBudW1iZXJzIGUuZy4gcmdiKDI1NSwgMjA1LCAxMDAsIDAuNzUpIG9yIGFuIG9iamVjdCBlLmcuIHJnYih7IHJlZDogMjU1LCBncmVlbjogMjA1LCBibHVlOiAxMDAsIGFscGhhOiAwLjc1IH0pLlxcblxcblwiLFxuICBcIjhcIjogXCJQYXNzZWQgaW52YWxpZCBhcmd1bWVudCB0byB0b0NvbG9yU3RyaW5nLCBwbGVhc2UgcGFzcyBhIFJnYkNvbG9yLCBSZ2JhQ29sb3IsIEhzbENvbG9yIG9yIEhzbGFDb2xvciBvYmplY3QuXFxuXFxuXCIsXG4gIFwiOVwiOiBcIlBsZWFzZSBwcm92aWRlIGEgbnVtYmVyIG9mIHN0ZXBzIHRvIHRoZSBtb2R1bGFyU2NhbGUgaGVscGVyLlxcblxcblwiLFxuICBcIjEwXCI6IFwiUGxlYXNlIHBhc3MgYSBudW1iZXIgb3Igb25lIG9mIHRoZSBwcmVkZWZpbmVkIHNjYWxlcyB0byB0aGUgbW9kdWxhclNjYWxlIGhlbHBlciBhcyB0aGUgcmF0aW8uXFxuXFxuXCIsXG4gIFwiMTFcIjogXCJJbnZhbGlkIHZhbHVlIHBhc3NlZCBhcyBiYXNlIHRvIG1vZHVsYXJTY2FsZSwgZXhwZWN0ZWQgbnVtYmVyIG9yIGVtIHN0cmluZyBidXQgZ290IFxcXCIlc1xcXCJcXG5cXG5cIixcbiAgXCIxMlwiOiBcIkV4cGVjdGVkIGEgc3RyaW5nIGVuZGluZyBpbiBcXFwicHhcXFwiIG9yIGEgbnVtYmVyIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gJXMoKSwgZ290IFxcXCIlc1xcXCIgaW5zdGVhZC5cXG5cXG5cIixcbiAgXCIxM1wiOiBcIkV4cGVjdGVkIGEgc3RyaW5nIGVuZGluZyBpbiBcXFwicHhcXFwiIG9yIGEgbnVtYmVyIHBhc3NlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvICVzKCksIGdvdCBcXFwiJXNcXFwiIGluc3RlYWQuXFxuXFxuXCIsXG4gIFwiMTRcIjogXCJQYXNzZWQgaW52YWxpZCBwaXhlbCB2YWx1ZSAoXFxcIiVzXFxcIikgdG8gJXMoKSwgcGxlYXNlIHBhc3MgYSB2YWx1ZSBsaWtlIFxcXCIxMnB4XFxcIiBvciAxMi5cXG5cXG5cIixcbiAgXCIxNVwiOiBcIlBhc3NlZCBpbnZhbGlkIGJhc2UgdmFsdWUgKFxcXCIlc1xcXCIpIHRvICVzKCksIHBsZWFzZSBwYXNzIGEgdmFsdWUgbGlrZSBcXFwiMTJweFxcXCIgb3IgMTIuXFxuXFxuXCIsXG4gIFwiMTZcIjogXCJZb3UgbXVzdCBwcm92aWRlIGEgdGVtcGxhdGUgdG8gdGhpcyBtZXRob2QuXFxuXFxuXCIsXG4gIFwiMTdcIjogXCJZb3UgcGFzc2VkIGFuIHVuc3VwcG9ydGVkIHNlbGVjdG9yIHN0YXRlIHRvIHRoaXMgbWV0aG9kLlxcblxcblwiLFxuICBcIjE4XCI6IFwibWluU2NyZWVuIGFuZCBtYXhTY3JlZW4gbXVzdCBiZSBwcm92aWRlZCBhcyBzdHJpbmdpZmllZCBudW1iZXJzIHdpdGggdGhlIHNhbWUgdW5pdHMuXFxuXFxuXCIsXG4gIFwiMTlcIjogXCJmcm9tU2l6ZSBhbmQgdG9TaXplIG11c3QgYmUgcHJvdmlkZWQgYXMgc3RyaW5naWZpZWQgbnVtYmVycyB3aXRoIHRoZSBzYW1lIHVuaXRzLlxcblxcblwiLFxuICBcIjIwXCI6IFwiZXhwZWN0cyBlaXRoZXIgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciBhIHNpbmdsZSBvYmplY3Qgd2l0aCB0aGUgcHJvcGVydGllcyBwcm9wLCBmcm9tU2l6ZSwgYW5kIHRvU2l6ZS5cXG5cXG5cIixcbiAgXCIyMVwiOiBcImV4cGVjdHMgdGhlIG9iamVjdHMgaW4gdGhlIGZpcnN0IGFyZ3VtZW50IGFycmF5IHRvIGhhdmUgdGhlIHByb3BlcnRpZXMgYHByb3BgLCBgZnJvbVNpemVgLCBhbmQgYHRvU2l6ZWAuXFxuXFxuXCIsXG4gIFwiMjJcIjogXCJleHBlY3RzIHRoZSBmaXJzdCBhcmd1bWVudCBvYmplY3QgdG8gaGF2ZSB0aGUgcHJvcGVydGllcyBgcHJvcGAsIGBmcm9tU2l6ZWAsIGFuZCBgdG9TaXplYC5cXG5cXG5cIixcbiAgXCIyM1wiOiBcImZvbnRGYWNlIGV4cGVjdHMgYSBuYW1lIG9mIGEgZm9udC1mYW1pbHkuXFxuXFxuXCIsXG4gIFwiMjRcIjogXCJmb250RmFjZSBleHBlY3RzIGVpdGhlciB0aGUgcGF0aCB0byB0aGUgZm9udCBmaWxlKHMpIG9yIGEgbmFtZSBvZiBhIGxvY2FsIGNvcHkuXFxuXFxuXCIsXG4gIFwiMjVcIjogXCJmb250RmFjZSBleHBlY3RzIGxvY2FsRm9udHMgdG8gYmUgYW4gYXJyYXkuXFxuXFxuXCIsXG4gIFwiMjZcIjogXCJmb250RmFjZSBleHBlY3RzIGZpbGVGb3JtYXRzIHRvIGJlIGFuIGFycmF5LlxcblxcblwiLFxuICBcIjI3XCI6IFwicmFkaWFsR3JhZGllbnQgcmVxdXJpZXMgYXQgbGVhc3QgMiBjb2xvci1zdG9wcyB0byBwcm9wZXJseSByZW5kZXIuXFxuXFxuXCIsXG4gIFwiMjhcIjogXCJQbGVhc2Ugc3VwcGx5IGEgZmlsZW5hbWUgdG8gcmV0aW5hSW1hZ2UoKSBhcyB0aGUgZmlyc3QgYXJndW1lbnQuXFxuXFxuXCIsXG4gIFwiMjlcIjogXCJQYXNzZWQgaW52YWxpZCBhcmd1bWVudCB0byB0cmlhbmdsZSwgcGxlYXNlIHBhc3MgY29ycmVjdCBwb2ludGluZ0RpcmVjdGlvbiBlLmcuICdyaWdodCcuXFxuXFxuXCIsXG4gIFwiMzBcIjogXCJQYXNzZWQgYW4gaW52YWxpZCB2YWx1ZSB0byBgaGVpZ2h0YCBvciBgd2lkdGhgLiBQbGVhc2UgcHJvdmlkZSBhIHBpeGVsIGJhc2VkIHVuaXQuXFxuXFxuXCIsXG4gIFwiMzFcIjogXCJUaGUgYW5pbWF0aW9uIHNob3J0aGFuZCBvbmx5IHRha2VzIDggYXJndW1lbnRzLiBTZWUgdGhlIHNwZWNpZmljYXRpb24gZm9yIG1vcmUgaW5mb3JtYXRpb246IGh0dHA6Ly9tZG4uaW8vYW5pbWF0aW9uXFxuXFxuXCIsXG4gIFwiMzJcIjogXCJUbyBwYXNzIG11bHRpcGxlIGFuaW1hdGlvbnMgcGxlYXNlIHN1cHBseSB0aGVtIGluIGFycmF5cywgZS5nLiBhbmltYXRpb24oWydyb3RhdGUnLCAnMnMnXSwgWydtb3ZlJywgJzFzJ10pXFxuVG8gcGFzcyBhIHNpbmdsZSBhbmltYXRpb24gcGxlYXNlIHN1cHBseSB0aGVtIGluIHNpbXBsZSB2YWx1ZXMsIGUuZy4gYW5pbWF0aW9uKCdyb3RhdGUnLCAnMnMnKVxcblxcblwiLFxuICBcIjMzXCI6IFwiVGhlIGFuaW1hdGlvbiBzaG9ydGhhbmQgYXJyYXlzIGNhbiBvbmx5IGhhdmUgOCBlbGVtZW50cy4gU2VlIHRoZSBzcGVjaWZpY2F0aW9uIGZvciBtb3JlIGluZm9ybWF0aW9uOiBodHRwOi8vbWRuLmlvL2FuaW1hdGlvblxcblxcblwiLFxuICBcIjM0XCI6IFwiYm9yZGVyUmFkaXVzIGV4cGVjdHMgYSByYWRpdXMgdmFsdWUgYXMgYSBzdHJpbmcgb3IgbnVtYmVyIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuXFxuXFxuXCIsXG4gIFwiMzVcIjogXCJib3JkZXJSYWRpdXMgZXhwZWN0cyBvbmUgb2YgXFxcInRvcFxcXCIsIFxcXCJib3R0b21cXFwiLCBcXFwibGVmdFxcXCIgb3IgXFxcInJpZ2h0XFxcIiBhcyB0aGUgZmlyc3QgYXJndW1lbnQuXFxuXFxuXCIsXG4gIFwiMzZcIjogXCJQcm9wZXJ0eSBtdXN0IGJlIGEgc3RyaW5nIHZhbHVlLlxcblxcblwiLFxuICBcIjM3XCI6IFwiU3ludGF4IEVycm9yIGF0ICVzLlxcblxcblwiLFxuICBcIjM4XCI6IFwiRm9ybXVsYSBjb250YWlucyBhIGZ1bmN0aW9uIHRoYXQgbmVlZHMgcGFyZW50aGVzZXMgYXQgJXMuXFxuXFxuXCIsXG4gIFwiMzlcIjogXCJGb3JtdWxhIGlzIG1pc3NpbmcgY2xvc2luZyBwYXJlbnRoZXNpcyBhdCAlcy5cXG5cXG5cIixcbiAgXCI0MFwiOiBcIkZvcm11bGEgaGFzIHRvbyBtYW55IGNsb3NpbmcgcGFyZW50aGVzZXMgYXQgJXMuXFxuXFxuXCIsXG4gIFwiNDFcIjogXCJBbGwgdmFsdWVzIGluIGEgZm9ybXVsYSBtdXN0IGhhdmUgdGhlIHNhbWUgdW5pdCBvciBiZSB1bml0bGVzcy5cXG5cXG5cIixcbiAgXCI0MlwiOiBcIlBsZWFzZSBwcm92aWRlIGEgbnVtYmVyIG9mIHN0ZXBzIHRvIHRoZSBtb2R1bGFyU2NhbGUgaGVscGVyLlxcblxcblwiLFxuICBcIjQzXCI6IFwiUGxlYXNlIHBhc3MgYSBudW1iZXIgb3Igb25lIG9mIHRoZSBwcmVkZWZpbmVkIHNjYWxlcyB0byB0aGUgbW9kdWxhclNjYWxlIGhlbHBlciBhcyB0aGUgcmF0aW8uXFxuXFxuXCIsXG4gIFwiNDRcIjogXCJJbnZhbGlkIHZhbHVlIHBhc3NlZCBhcyBiYXNlIHRvIG1vZHVsYXJTY2FsZSwgZXhwZWN0ZWQgbnVtYmVyIG9yIGVtL3JlbSBzdHJpbmcgYnV0IGdvdCAlcy5cXG5cXG5cIixcbiAgXCI0NVwiOiBcIlBhc3NlZCBpbnZhbGlkIGFyZ3VtZW50IHRvIGhzbFRvQ29sb3JTdHJpbmcsIHBsZWFzZSBwYXNzIGEgSHNsQ29sb3Igb3IgSHNsYUNvbG9yIG9iamVjdC5cXG5cXG5cIixcbiAgXCI0NlwiOiBcIlBhc3NlZCBpbnZhbGlkIGFyZ3VtZW50IHRvIHJnYlRvQ29sb3JTdHJpbmcsIHBsZWFzZSBwYXNzIGEgUmdiQ29sb3Igb3IgUmdiYUNvbG9yIG9iamVjdC5cXG5cXG5cIixcbiAgXCI0N1wiOiBcIm1pblNjcmVlbiBhbmQgbWF4U2NyZWVuIG11c3QgYmUgcHJvdmlkZWQgYXMgc3RyaW5naWZpZWQgbnVtYmVycyB3aXRoIHRoZSBzYW1lIHVuaXRzLlxcblxcblwiLFxuICBcIjQ4XCI6IFwiZnJvbVNpemUgYW5kIHRvU2l6ZSBtdXN0IGJlIHByb3ZpZGVkIGFzIHN0cmluZ2lmaWVkIG51bWJlcnMgd2l0aCB0aGUgc2FtZSB1bml0cy5cXG5cXG5cIixcbiAgXCI0OVwiOiBcIkV4cGVjdHMgZWl0aGVyIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgYSBzaW5nbGUgb2JqZWN0IHdpdGggdGhlIHByb3BlcnRpZXMgcHJvcCwgZnJvbVNpemUsIGFuZCB0b1NpemUuXFxuXFxuXCIsXG4gIFwiNTBcIjogXCJFeHBlY3RzIHRoZSBvYmplY3RzIGluIHRoZSBmaXJzdCBhcmd1bWVudCBhcnJheSB0byBoYXZlIHRoZSBwcm9wZXJ0aWVzIHByb3AsIGZyb21TaXplLCBhbmQgdG9TaXplLlxcblxcblwiLFxuICBcIjUxXCI6IFwiRXhwZWN0cyB0aGUgZmlyc3QgYXJndW1lbnQgb2JqZWN0IHRvIGhhdmUgdGhlIHByb3BlcnRpZXMgcHJvcCwgZnJvbVNpemUsIGFuZCB0b1NpemUuXFxuXFxuXCIsXG4gIFwiNTJcIjogXCJmb250RmFjZSBleHBlY3RzIGVpdGhlciB0aGUgcGF0aCB0byB0aGUgZm9udCBmaWxlKHMpIG9yIGEgbmFtZSBvZiBhIGxvY2FsIGNvcHkuXFxuXFxuXCIsXG4gIFwiNTNcIjogXCJmb250RmFjZSBleHBlY3RzIGxvY2FsRm9udHMgdG8gYmUgYW4gYXJyYXkuXFxuXFxuXCIsXG4gIFwiNTRcIjogXCJmb250RmFjZSBleHBlY3RzIGZpbGVGb3JtYXRzIHRvIGJlIGFuIGFycmF5LlxcblxcblwiLFxuICBcIjU1XCI6IFwiZm9udEZhY2UgZXhwZWN0cyBhIG5hbWUgb2YgYSBmb250LWZhbWlseS5cXG5cXG5cIixcbiAgXCI1NlwiOiBcImxpbmVhckdyYWRpZW50IHJlcXVyaWVzIGF0IGxlYXN0IDIgY29sb3Itc3RvcHMgdG8gcHJvcGVybHkgcmVuZGVyLlxcblxcblwiLFxuICBcIjU3XCI6IFwicmFkaWFsR3JhZGllbnQgcmVxdXJpZXMgYXQgbGVhc3QgMiBjb2xvci1zdG9wcyB0byBwcm9wZXJseSByZW5kZXIuXFxuXFxuXCIsXG4gIFwiNThcIjogXCJQbGVhc2Ugc3VwcGx5IGEgZmlsZW5hbWUgdG8gcmV0aW5hSW1hZ2UoKSBhcyB0aGUgZmlyc3QgYXJndW1lbnQuXFxuXFxuXCIsXG4gIFwiNTlcIjogXCJQYXNzZWQgaW52YWxpZCBhcmd1bWVudCB0byB0cmlhbmdsZSwgcGxlYXNlIHBhc3MgY29ycmVjdCBwb2ludGluZ0RpcmVjdGlvbiBlLmcuICdyaWdodCcuXFxuXFxuXCIsXG4gIFwiNjBcIjogXCJQYXNzZWQgYW4gaW52YWxpZCB2YWx1ZSB0byBgaGVpZ2h0YCBvciBgd2lkdGhgLiBQbGVhc2UgcHJvdmlkZSBhIHBpeGVsIGJhc2VkIHVuaXQuXFxuXFxuXCIsXG4gIFwiNjFcIjogXCJQcm9wZXJ0eSBtdXN0IGJlIGEgc3RyaW5nIHZhbHVlLlxcblxcblwiLFxuICBcIjYyXCI6IFwiYm9yZGVyUmFkaXVzIGV4cGVjdHMgYSByYWRpdXMgdmFsdWUgYXMgYSBzdHJpbmcgb3IgbnVtYmVyIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuXFxuXFxuXCIsXG4gIFwiNjNcIjogXCJib3JkZXJSYWRpdXMgZXhwZWN0cyBvbmUgb2YgXFxcInRvcFxcXCIsIFxcXCJib3R0b21cXFwiLCBcXFwibGVmdFxcXCIgb3IgXFxcInJpZ2h0XFxcIiBhcyB0aGUgZmlyc3QgYXJndW1lbnQuXFxuXFxuXCIsXG4gIFwiNjRcIjogXCJUaGUgYW5pbWF0aW9uIHNob3J0aGFuZCBvbmx5IHRha2VzIDggYXJndW1lbnRzLiBTZWUgdGhlIHNwZWNpZmljYXRpb24gZm9yIG1vcmUgaW5mb3JtYXRpb246IGh0dHA6Ly9tZG4uaW8vYW5pbWF0aW9uLlxcblxcblwiLFxuICBcIjY1XCI6IFwiVG8gcGFzcyBtdWx0aXBsZSBhbmltYXRpb25zIHBsZWFzZSBzdXBwbHkgdGhlbSBpbiBhcnJheXMsIGUuZy4gYW5pbWF0aW9uKFsncm90YXRlJywgJzJzJ10sIFsnbW92ZScsICcxcyddKVxcXFxuVG8gcGFzcyBhIHNpbmdsZSBhbmltYXRpb24gcGxlYXNlIHN1cHBseSB0aGVtIGluIHNpbXBsZSB2YWx1ZXMsIGUuZy4gYW5pbWF0aW9uKCdyb3RhdGUnLCAnMnMnKS5cXG5cXG5cIixcbiAgXCI2NlwiOiBcIlRoZSBhbmltYXRpb24gc2hvcnRoYW5kIGFycmF5cyBjYW4gb25seSBoYXZlIDggZWxlbWVudHMuIFNlZSB0aGUgc3BlY2lmaWNhdGlvbiBmb3IgbW9yZSBpbmZvcm1hdGlvbjogaHR0cDovL21kbi5pby9hbmltYXRpb24uXFxuXFxuXCIsXG4gIFwiNjdcIjogXCJZb3UgbXVzdCBwcm92aWRlIGEgdGVtcGxhdGUgdG8gdGhpcyBtZXRob2QuXFxuXFxuXCIsXG4gIFwiNjhcIjogXCJZb3UgcGFzc2VkIGFuIHVuc3VwcG9ydGVkIHNlbGVjdG9yIHN0YXRlIHRvIHRoaXMgbWV0aG9kLlxcblxcblwiLFxuICBcIjY5XCI6IFwiRXhwZWN0ZWQgYSBzdHJpbmcgZW5kaW5nIGluIFxcXCJweFxcXCIgb3IgYSBudW1iZXIgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byAlcygpLCBnb3QgJXMgaW5zdGVhZC5cXG5cXG5cIixcbiAgXCI3MFwiOiBcIkV4cGVjdGVkIGEgc3RyaW5nIGVuZGluZyBpbiBcXFwicHhcXFwiIG9yIGEgbnVtYmVyIHBhc3NlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvICVzKCksIGdvdCAlcyBpbnN0ZWFkLlxcblxcblwiLFxuICBcIjcxXCI6IFwiUGFzc2VkIGludmFsaWQgcGl4ZWwgdmFsdWUgJXMgdG8gJXMoKSwgcGxlYXNlIHBhc3MgYSB2YWx1ZSBsaWtlIFxcXCIxMnB4XFxcIiBvciAxMi5cXG5cXG5cIixcbiAgXCI3MlwiOiBcIlBhc3NlZCBpbnZhbGlkIGJhc2UgdmFsdWUgJXMgdG8gJXMoKSwgcGxlYXNlIHBhc3MgYSB2YWx1ZSBsaWtlIFxcXCIxMnB4XFxcIiBvciAxMi5cXG5cXG5cIixcbiAgXCI3M1wiOiBcIlBsZWFzZSBwcm92aWRlIGEgdmFsaWQgQ1NTIHZhcmlhYmxlLlxcblxcblwiLFxuICBcIjc0XCI6IFwiQ1NTIHZhcmlhYmxlIG5vdCBmb3VuZCBhbmQgbm8gZGVmYXVsdCB3YXMgcHJvdmlkZWQuXFxuXFxuXCIsXG4gIFwiNzVcIjogXCJpbXBvcnRhbnQgcmVxdWlyZXMgYSB2YWxpZCBzdHlsZSBvYmplY3QsIGdvdCBhICVzIGluc3RlYWQuXFxuXFxuXCIsXG4gIFwiNzZcIjogXCJmcm9tU2l6ZSBhbmQgdG9TaXplIG11c3QgYmUgcHJvdmlkZWQgYXMgc3RyaW5naWZpZWQgbnVtYmVycyB3aXRoIHRoZSBzYW1lIHVuaXRzIGFzIG1pblNjcmVlbiBhbmQgbWF4U2NyZWVuLlxcblxcblwiLFxuICBcIjc3XCI6IFwicmVtVG9QeCBleHBlY3RzIGEgdmFsdWUgaW4gXFxcInJlbVxcXCIgYnV0IHlvdSBwcm92aWRlZCBpdCBpbiBcXFwiJXNcXFwiLlxcblxcblwiLFxuICBcIjc4XCI6IFwiYmFzZSBtdXN0IGJlIHNldCBpbiBcXFwicHhcXFwiIG9yIFxcXCIlXFxcIiBidXQgeW91IHNldCBpdCBpbiBcXFwiJXNcXFwiLlxcblwiXG59O1xuLyoqXG4gKiBzdXBlciBiYXNpYyB2ZXJzaW9uIG9mIHNwcmludGZcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0KCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgdmFyIGEgPSBhcmdzWzBdO1xuICB2YXIgYiA9IFtdO1xuICB2YXIgYztcblxuICBmb3IgKGMgPSAxOyBjIDwgYXJncy5sZW5ndGg7IGMgKz0gMSkge1xuICAgIGIucHVzaChhcmdzW2NdKTtcbiAgfVxuXG4gIGIuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgIGEgPSBhLnJlcGxhY2UoLyVbYS16XS8sIGQpO1xuICB9KTtcbiAgcmV0dXJuIGE7XG59XG4vKipcbiAqIENyZWF0ZSBhbiBlcnJvciBmaWxlIG91dCBvZiBlcnJvcnMubWQgZm9yIGRldmVsb3BtZW50IGFuZCBhIHNpbXBsZSB3ZWIgbGluayB0byB0aGUgZnVsbCBlcnJvcnNcbiAqIGluIHByb2R1Y3Rpb24gbW9kZS5cbiAqIEBwcml2YXRlXG4gKi9cblxuXG52YXIgUG9saXNoZWRFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Vycm9yKSB7XG4gIF9pbmhlcml0c0xvb3NlKFBvbGlzaGVkRXJyb3IsIF9FcnJvcik7XG5cbiAgZnVuY3Rpb24gUG9saXNoZWRFcnJvcihjb2RlKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIF90aGlzID0gX0Vycm9yLmNhbGwodGhpcywgXCJBbiBlcnJvciBvY2N1cnJlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdHlsZWQtY29tcG9uZW50cy9wb2xpc2hlZC9ibG9iL21haW4vc3JjL2ludGVybmFsSGVscGVycy9lcnJvcnMubWQjXCIgKyBjb2RlICsgXCIgZm9yIG1vcmUgaW5mb3JtYXRpb24uXCIpIHx8IHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIF90aGlzID0gX0Vycm9yLmNhbGwodGhpcywgZm9ybWF0LmFwcGx5KHZvaWQgMCwgW0VSUk9SU1tjb2RlXV0uY29uY2F0KGFyZ3MpKSkgfHwgdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyk7XG4gIH1cblxuICByZXR1cm4gUG9saXNoZWRFcnJvcjtcbn0oIC8qI19fUFVSRV9fKi9fd3JhcE5hdGl2ZVN1cGVyKEVycm9yKSk7XG5cbnZhciB1bml0UmVnRXhwID0gLygoPyFcXHcpYXxuYXxoY3xtY3xkZ3xtZVtyXT98eGV8bmkoPyFbYS16QS1aXSl8bW18Y3B8dHB8eHB8cSg/IXMpfGh2fHhhbXZ8bmltdnx3dnxzbXxzKD8hXFxEfCQpfGdlZHxkYXJnP3xucnV0KS9nOyAvLyBNZXJnZXMgYWRkaXRpb25hbCBtYXRoIGZ1bmN0aW9uYWxpdHkgaW50byB0aGUgZGVmYXVsdHMuXG5cbmZ1bmN0aW9uIG1lcmdlU3ltYm9sTWFwcyhhZGRpdGlvbmFsU3ltYm9scykge1xuICB2YXIgc3ltYm9sTWFwID0ge307XG4gIHN5bWJvbE1hcC5zeW1ib2xzID0gYWRkaXRpb25hbFN5bWJvbHMgPyBfZXh0ZW5kcyh7fSwgZGVmYXVsdFN5bWJvbHMuc3ltYm9scywgYWRkaXRpb25hbFN5bWJvbHMuc3ltYm9scykgOiBfZXh0ZW5kcyh7fSwgZGVmYXVsdFN5bWJvbHMuc3ltYm9scyk7XG4gIHJldHVybiBzeW1ib2xNYXA7XG59XG5cbmZ1bmN0aW9uIGV4ZWMob3BlcmF0b3JzLCB2YWx1ZXMpIHtcbiAgdmFyIF9yZWY7XG5cbiAgdmFyIG9wID0gb3BlcmF0b3JzLnBvcCgpO1xuICB2YWx1ZXMucHVzaChvcC5mLmFwcGx5KG9wLCAoX3JlZiA9IFtdKS5jb25jYXQuYXBwbHkoX3JlZiwgdmFsdWVzLnNwbGljZSgtb3AuYXJnQ291bnQpKSkpO1xuICByZXR1cm4gb3AucHJlY2VkZW5jZTtcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlKGV4cHJlc3Npb24sIGFkZGl0aW9uYWxTeW1ib2xzKSB7XG4gIHZhciBzeW1ib2xNYXAgPSBtZXJnZVN5bWJvbE1hcHMoYWRkaXRpb25hbFN5bWJvbHMpO1xuICB2YXIgbWF0Y2g7XG4gIHZhciBvcGVyYXRvcnMgPSBbc3ltYm9sTWFwLnN5bWJvbHNbJygnXS5wcmVmaXhdO1xuICB2YXIgdmFsdWVzID0gW107XG4gIHZhciBwYXR0ZXJuID0gbmV3IFJlZ0V4cCggLy8gUGF0dGVybiBmb3IgbnVtYmVyc1xuICBcIlxcXFxkKyg/OlxcXFwuXFxcXGQrKT98XCIgKyAvLyAuLi5hbmQgcGF0dGVybnMgZm9yIGluZGl2aWR1YWwgb3BlcmF0b3JzL2Z1bmN0aW9uIG5hbWVzXG4gIE9iamVjdC5rZXlzKHN5bWJvbE1hcC5zeW1ib2xzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBzeW1ib2xNYXAuc3ltYm9sc1trZXldO1xuICB9KSAvLyBsb25nZXIgc3ltYm9scyBzaG91bGQgYmUgbGlzdGVkIGZpcnN0XG4gIC8vICRGbG93Rml4TWVcbiAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gYi5zeW1ib2wubGVuZ3RoIC0gYS5zeW1ib2wubGVuZ3RoO1xuICB9KSAvLyAkRmxvd0ZpeE1lXG4gIC5tYXAoZnVuY3Rpb24gKHZhbCkge1xuICAgIHJldHVybiB2YWwucmVnU3ltYm9sO1xuICB9KS5qb2luKCd8JykgKyBcInwoXFxcXFMpXCIsICdnJyk7XG4gIHBhdHRlcm4ubGFzdEluZGV4ID0gMDsgLy8gUmVzZXQgcmVndWxhciBleHByZXNzaW9uIG9iamVjdFxuXG4gIHZhciBhZnRlclZhbHVlID0gZmFsc2U7XG5cbiAgZG8ge1xuICAgIG1hdGNoID0gcGF0dGVybi5leGVjKGV4cHJlc3Npb24pO1xuXG4gICAgdmFyIF9yZWYyID0gbWF0Y2ggfHwgWycpJywgdW5kZWZpbmVkXSxcbiAgICAgICAgdG9rZW4gPSBfcmVmMlswXSxcbiAgICAgICAgYmFkID0gX3JlZjJbMV07XG5cbiAgICB2YXIgbm90TnVtYmVyID0gc3ltYm9sTWFwLnN5bWJvbHNbdG9rZW5dO1xuICAgIHZhciBub3ROZXdWYWx1ZSA9IG5vdE51bWJlciAmJiAhbm90TnVtYmVyLnByZWZpeCAmJiAhbm90TnVtYmVyLmZ1bmM7XG4gICAgdmFyIG5vdEFmdGVyVmFsdWUgPSAhbm90TnVtYmVyIHx8ICFub3ROdW1iZXIucG9zdGZpeCAmJiAhbm90TnVtYmVyLmluZml4OyAvLyBDaGVjayBmb3Igc3ludGF4IGVycm9yczpcblxuICAgIGlmIChiYWQgfHwgKGFmdGVyVmFsdWUgPyBub3RBZnRlclZhbHVlIDogbm90TmV3VmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcigzNywgbWF0Y2ggPyBtYXRjaC5pbmRleCA6IGV4cHJlc3Npb24ubGVuZ3RoLCBleHByZXNzaW9uKTtcbiAgICB9XG5cbiAgICBpZiAoYWZ0ZXJWYWx1ZSkge1xuICAgICAgLy8gV2UgZWl0aGVyIGhhdmUgYW4gaW5maXggb3IgcG9zdGZpeCBvcGVyYXRvciAodGhleSBzaG91bGQgYmUgbXV0dWFsbHkgZXhjbHVzaXZlKVxuICAgICAgdmFyIGN1cnIgPSBub3ROdW1iZXIucG9zdGZpeCB8fCBub3ROdW1iZXIuaW5maXg7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgdmFyIHByZXYgPSBvcGVyYXRvcnNbb3BlcmF0b3JzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoKGN1cnIucHJlY2VkZW5jZSAtIHByZXYucHJlY2VkZW5jZSB8fCBwcmV2LnJpZ2h0VG9MZWZ0KSA+IDApIGJyZWFrOyAvLyBBcHBseSBwcmV2aW91cyBvcGVyYXRvciwgc2luY2UgaXQgaGFzIHByZWNlZGVuY2Ugb3ZlciBjdXJyZW50IG9uZVxuICAgICAgfSB3aGlsZSAoZXhlYyhvcGVyYXRvcnMsIHZhbHVlcykpOyAvLyBFeGl0IGxvb3AgYWZ0ZXIgZXhlY3V0aW5nIGFuIG9wZW5pbmcgcGFyZW50aGVzaXMgb3IgZnVuY3Rpb25cblxuXG4gICAgICBhZnRlclZhbHVlID0gY3Vyci5ub3RhdGlvbiA9PT0gJ3Bvc3RmaXgnO1xuXG4gICAgICBpZiAoY3Vyci5zeW1ib2wgIT09ICcpJykge1xuICAgICAgICBvcGVyYXRvcnMucHVzaChjdXJyKTsgLy8gUG9zdGZpeCBhbHdheXMgaGFzIHByZWNlZGVuY2Ugb3ZlciBhbnkgb3BlcmF0b3IgdGhhdCBmb2xsb3dzIGFmdGVyIGl0XG5cbiAgICAgICAgaWYgKGFmdGVyVmFsdWUpIGV4ZWMob3BlcmF0b3JzLCB2YWx1ZXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobm90TnVtYmVyKSB7XG4gICAgICAvLyBwcmVmaXggb3BlcmF0b3Igb3IgZnVuY3Rpb25cbiAgICAgIG9wZXJhdG9ycy5wdXNoKG5vdE51bWJlci5wcmVmaXggfHwgbm90TnVtYmVyLmZ1bmMpO1xuXG4gICAgICBpZiAobm90TnVtYmVyLmZ1bmMpIHtcbiAgICAgICAgLy8gUmVxdWlyZSBhbiBvcGVuaW5nIHBhcmVudGhlc2lzXG4gICAgICAgIG1hdGNoID0gcGF0dGVybi5leGVjKGV4cHJlc3Npb24pO1xuXG4gICAgICAgIGlmICghbWF0Y2ggfHwgbWF0Y2hbMF0gIT09ICcoJykge1xuICAgICAgICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDM4LCBtYXRjaCA/IG1hdGNoLmluZGV4IDogZXhwcmVzc2lvbi5sZW5ndGgsIGV4cHJlc3Npb24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG51bWJlclxuICAgICAgdmFsdWVzLnB1c2goK3Rva2VuKTtcbiAgICAgIGFmdGVyVmFsdWUgPSB0cnVlO1xuICAgIH1cbiAgfSB3aGlsZSAobWF0Y2ggJiYgb3BlcmF0b3JzLmxlbmd0aCk7XG5cbiAgaWYgKG9wZXJhdG9ycy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcigzOSwgbWF0Y2ggPyBtYXRjaC5pbmRleCA6IGV4cHJlc3Npb24ubGVuZ3RoLCBleHByZXNzaW9uKTtcbiAgfSBlbHNlIGlmIChtYXRjaCkge1xuICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDQwLCBtYXRjaCA/IG1hdGNoLmluZGV4IDogZXhwcmVzc2lvbi5sZW5ndGgsIGV4cHJlc3Npb24pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2YWx1ZXMucG9wKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmV2ZXJzZVN0cmluZyhzdHIpIHtcbiAgcmV0dXJuIHN0ci5zcGxpdCgnJykucmV2ZXJzZSgpLmpvaW4oJycpO1xufVxuLyoqXG4gKiBIZWxwZXIgZm9yIGRvaW5nIG1hdGggd2l0aCBDU1MgVW5pdHMuIEFjY2VwdHMgYSBmb3JtdWxhIGFzIGEgc3RyaW5nLiBBbGwgdmFsdWVzIGluIHRoZSBmb3JtdWxhIG11c3QgaGF2ZSB0aGUgc2FtZSB1bml0IChvciBiZSB1bml0bGVzcykuIFN1cHBvcnRzIGNvbXBsZXggZm9ybXVsYXMgdXRsaXppaW5nIGFkZGl0aW9uLCBzdWJ0cmFjdGlvbiwgbXVsdGlwbGljYXRpb24sIGRpdmlzaW9uLCBzcXVhcmUgcm9vdCwgcG93ZXJzLCBmYWN0b3JpYWwsIG1pbiwgbWF4LCBhcyB3ZWxsIGFzIHBhcmVudGhlc2VzIGZvciBvcmRlciBvZiBvcGVyYXRpb24uXG4gKlxuICpJbiBjYXNlcyB3aGVyZSB5b3UgbmVlZCB0byBkbyBjYWxjdWxhdGlvbnMgd2l0aCBtaXhlZCB1bml0cyB3aGVyZSBvbmUgdW5pdCBpcyBhIFtyZWxhdGl2ZSBsZW5ndGggdW5pdF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2xlbmd0aCNSZWxhdGl2ZV9sZW5ndGhfdW5pdHMpLCB5b3Ugd2lsbCB3YW50IHRvIHVzZSBbQ1NTIENhbGNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9jYWxjKS5cbiAqXG4gKiAqd2FybmluZyogV2hpbGUgd2UndmUgZG9uZSBldmVyeXRoaW5nIHBvc3NpYmxlIHRvIGVuc3VyZSBtYXRoIHNhZmVseSBldmFsdXRlcyBmb3JtdWxhcyBleHByZXNzZWQgYXMgc3RyaW5ncywgeW91IHNob3VsZCBhbHdheXMgdXNlIGV4dHJlbWUgY2F1dGlvbiB3aGVuIHBhc3NpbmcgYG1hdGhgIHVzZXIgcHJvdmlkZWQgdmFsdWVzLlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgZm9udFNpemU6IG1hdGgoJzEycmVtICsgOHJlbScpLFxuICogICBmb250U2l6ZTogbWF0aCgnKDEycHggKyAycHgpICogMycpLFxuICogICBmb250U2l6ZTogbWF0aCgnM3B4XjIgKyBzcXJ0KDQpJyksXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGZvbnRTaXplOiAke21hdGgoJzEycmVtICsgOHJlbScpfTtcbiAqICAgZm9udFNpemU6ICR7bWF0aCgnKDEycHggKyAycHgpICogMycpfTtcbiAqICAgZm9udFNpemU6ICR7bWF0aCgnM3B4XjIgKyBzcXJ0KDQpJyl9O1xuICogYFxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiBkaXY6IHtcbiAqICAgZm9udFNpemU6ICcyMHJlbScsXG4gKiAgIGZvbnRTaXplOiAnNDJweCcsXG4gKiAgIGZvbnRTaXplOiAnMTFweCcsXG4gKiB9XG4gKi9cblxuXG5mdW5jdGlvbiBtYXRoKGZvcm11bGEsIGFkZGl0aW9uYWxTeW1ib2xzKSB7XG4gIHZhciByZXZlcnNlZEZvcm11bGEgPSByZXZlcnNlU3RyaW5nKGZvcm11bGEpO1xuICB2YXIgZm9ybXVsYU1hdGNoID0gcmV2ZXJzZWRGb3JtdWxhLm1hdGNoKHVuaXRSZWdFeHApOyAvLyBDaGVjayB0aGF0IGFsbCB1bml0cyBhcmUgdGhlIHNhbWVcblxuICBpZiAoZm9ybXVsYU1hdGNoICYmICFmb3JtdWxhTWF0Y2guZXZlcnkoZnVuY3Rpb24gKHVuaXQpIHtcbiAgICByZXR1cm4gdW5pdCA9PT0gZm9ybXVsYU1hdGNoWzBdO1xuICB9KSkge1xuICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDQxKTtcbiAgfVxuXG4gIHZhciBjbGVhbkZvcm11bGEgPSByZXZlcnNlU3RyaW5nKHJldmVyc2VkRm9ybXVsYS5yZXBsYWNlKHVuaXRSZWdFeHAsICcnKSk7XG4gIHJldHVybiBcIlwiICsgY2FsY3VsYXRlKGNsZWFuRm9ybXVsYSwgYWRkaXRpb25hbFN5bWJvbHMpICsgKGZvcm11bGFNYXRjaCA/IHJldmVyc2VTdHJpbmcoZm9ybXVsYU1hdGNoWzBdKSA6ICcnKTtcbn1cblxudmFyIGNzc1ZhcmlhYmxlUmVnZXggPSAvLS1bXFxTXSovZztcbi8qKlxuICogRmV0Y2hlcyB0aGUgdmFsdWUgb2YgYSBwYXNzZWQgQ1NTIFZhcmlhYmxlIGluIHRoZSA6cm9vdCBzY29wZSwgb3Igb3RoZXJ3aXNlIHJldHVybnMgYSBkZWZhdWx0VmFsdWUgaWYgcHJvdmlkZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgJ2JhY2tncm91bmQnOiBjc3NWYXIoJy0tYmFja2dyb3VuZC1jb2xvcicpLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke2Nzc1ZhcignLS1iYWNrZ3JvdW5kLWNvbG9yJyl9O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgJ2JhY2tncm91bmQnOiAncmVkJ1xuICogfVxuICovXG5cbmZ1bmN0aW9uIGNzc1Zhcihjc3NWYXJpYWJsZSwgZGVmYXVsdFZhbHVlKSB7XG4gIGlmICghY3NzVmFyaWFibGUgfHwgIWNzc1ZhcmlhYmxlLm1hdGNoKGNzc1ZhcmlhYmxlUmVnZXgpKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNzMpO1xuICB9XG5cbiAgdmFyIHZhcmlhYmxlVmFsdWU7XG4gIC8qIGVzbGludC1kaXNhYmxlICovXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblxuICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgIT09IG51bGwpIHtcbiAgICB2YXJpYWJsZVZhbHVlID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoY3NzVmFyaWFibGUpO1xuICB9XG4gIC8qIGVzbGludC1lbmFibGUgKi9cblxuXG4gIGlmICh2YXJpYWJsZVZhbHVlKSB7XG4gICAgcmV0dXJuIHZhcmlhYmxlVmFsdWUudHJpbSgpO1xuICB9IGVsc2UgaWYgKGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gIH1cblxuICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig3NCk7XG59XG5cbi8vIEBwcml2YXRlXG5mdW5jdGlvbiBjYXBpdGFsaXplU3RyaW5nKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xufVxuXG52YXIgcG9zaXRpb25NYXAkMSA9IFsnVG9wJywgJ1JpZ2h0JywgJ0JvdHRvbScsICdMZWZ0J107XG5cbmZ1bmN0aW9uIGdlbmVyYXRlUHJvcGVydHkocHJvcGVydHksIHBvc2l0aW9uKSB7XG4gIGlmICghcHJvcGVydHkpIHJldHVybiBwb3NpdGlvbi50b0xvd2VyQ2FzZSgpO1xuICB2YXIgc3BsaXRQcm9wZXJ0eSA9IHByb3BlcnR5LnNwbGl0KCctJyk7XG5cbiAgaWYgKHNwbGl0UHJvcGVydHkubGVuZ3RoID4gMSkge1xuICAgIHNwbGl0UHJvcGVydHkuc3BsaWNlKDEsIDAsIHBvc2l0aW9uKTtcbiAgICByZXR1cm4gc3BsaXRQcm9wZXJ0eS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgdmFsKSB7XG4gICAgICByZXR1cm4gXCJcIiArIGFjYyArIGNhcGl0YWxpemVTdHJpbmcodmFsKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBqb2luZWRQcm9wZXJ0eSA9IHByb3BlcnR5LnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csIFwiJDFcIiArIHBvc2l0aW9uICsgXCIkMlwiKTtcbiAgcmV0dXJuIHByb3BlcnR5ID09PSBqb2luZWRQcm9wZXJ0eSA/IFwiXCIgKyBwcm9wZXJ0eSArIHBvc2l0aW9uIDogam9pbmVkUHJvcGVydHk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlU3R5bGVzKHByb3BlcnR5LCB2YWx1ZXNXaXRoRGVmYXVsdHMpIHtcbiAgdmFyIHN0eWxlcyA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzV2l0aERlZmF1bHRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKHZhbHVlc1dpdGhEZWZhdWx0c1tpXSB8fCB2YWx1ZXNXaXRoRGVmYXVsdHNbaV0gPT09IDApIHtcbiAgICAgIHN0eWxlc1tnZW5lcmF0ZVByb3BlcnR5KHByb3BlcnR5LCBwb3NpdGlvbk1hcCQxW2ldKV0gPSB2YWx1ZXNXaXRoRGVmYXVsdHNbaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0eWxlcztcbn1cbi8qKlxuICogRW5hYmxlcyBzaG9ydGhhbmQgZm9yIGRpcmVjdGlvbi1iYXNlZCBwcm9wZXJ0aWVzLiBJdCBhY2NlcHRzIGEgcHJvcGVydHkgKGh5cGhlbmF0ZWQgb3IgY2FtZWxDYXNlZCkgYW5kIHVwIHRvIGZvdXIgdmFsdWVzIHRoYXQgbWFwIHRvIHRvcCwgcmlnaHQsIGJvdHRvbSwgYW5kIGxlZnQsIHJlc3BlY3RpdmVseS4gWW91IGNhbiBvcHRpb25hbGx5IHBhc3MgYW4gZW1wdHkgc3RyaW5nIHRvIGdldCBvbmx5IHRoZSBkaXJlY3Rpb25hbCB2YWx1ZXMgYXMgcHJvcGVydGllcy4gWW91IGNhbiBhbHNvIG9wdGlvbmFsbHkgcGFzcyBhIG51bGwgYXJndW1lbnQgZm9yIGEgZGlyZWN0aW9uYWwgdmFsdWUgdG8gaWdub3JlIGl0LlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgLi4uZGlyZWN0aW9uYWxQcm9wZXJ0eSgncGFkZGluZycsICcxMnB4JywgJzI0cHgnLCAnMzZweCcsICc0OHB4JylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgJHtkaXJlY3Rpb25hbFByb3BlcnR5KCdwYWRkaW5nJywgJzEycHgnLCAnMjRweCcsICczNnB4JywgJzQ4cHgnKX1cbiAqIGBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogZGl2IHtcbiAqICAgJ3BhZGRpbmdUb3AnOiAnMTJweCcsXG4gKiAgICdwYWRkaW5nUmlnaHQnOiAnMjRweCcsXG4gKiAgICdwYWRkaW5nQm90dG9tJzogJzM2cHgnLFxuICogICAncGFkZGluZ0xlZnQnOiAnNDhweCdcbiAqIH1cbiAqL1xuXG5cbmZ1bmN0aW9uIGRpcmVjdGlvbmFsUHJvcGVydHkocHJvcGVydHkpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHZhbHVlcyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgdmFsdWVzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIC8vICBwcmV0dGllci1pZ25vcmVcbiAgdmFyIGZpcnN0VmFsdWUgPSB2YWx1ZXNbMF0sXG4gICAgICBfdmFsdWVzJCA9IHZhbHVlc1sxXSxcbiAgICAgIHNlY29uZFZhbHVlID0gX3ZhbHVlcyQgPT09IHZvaWQgMCA/IGZpcnN0VmFsdWUgOiBfdmFsdWVzJCxcbiAgICAgIF92YWx1ZXMkMiA9IHZhbHVlc1syXSxcbiAgICAgIHRoaXJkVmFsdWUgPSBfdmFsdWVzJDIgPT09IHZvaWQgMCA/IGZpcnN0VmFsdWUgOiBfdmFsdWVzJDIsXG4gICAgICBfdmFsdWVzJDMgPSB2YWx1ZXNbM10sXG4gICAgICBmb3VydGhWYWx1ZSA9IF92YWx1ZXMkMyA9PT0gdm9pZCAwID8gc2Vjb25kVmFsdWUgOiBfdmFsdWVzJDM7XG4gIHZhciB2YWx1ZXNXaXRoRGVmYXVsdHMgPSBbZmlyc3RWYWx1ZSwgc2Vjb25kVmFsdWUsIHRoaXJkVmFsdWUsIGZvdXJ0aFZhbHVlXTtcbiAgcmV0dXJuIGdlbmVyYXRlU3R5bGVzKHByb3BlcnR5LCB2YWx1ZXNXaXRoRGVmYXVsdHMpO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgc3RyaW5nIGVuZHMgd2l0aCBzb21ldGhpbmdcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGVuZHNXaXRoKHN0cmluZywgc3VmZml4KSB7XG4gIHJldHVybiBzdHJpbmcuc3Vic3RyKC1zdWZmaXgubGVuZ3RoKSA9PT0gc3VmZml4O1xufVxuXG52YXIgY3NzUmVnZXgkMSA9IC9eKFsrLV0/KD86XFxkK3xcXGQqXFwuXFxkKykpKFthLXpdKnwlKSQvO1xuLyoqXG4gKiBSZXR1cm5zIGEgZ2l2ZW4gQ1NTIHZhbHVlIG1pbnVzIGl0cyB1bml0IG9mIG1lYXN1cmUuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgJy0tZGltZW5zaW9uJzogc3RyaXBVbml0KCcxMDBweCcpXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIC0tZGltZW5zaW9uOiAke3N0cmlwVW5pdCgnMTAwcHgnKX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICpcbiAqIGVsZW1lbnQge1xuICogICAnLS1kaW1lbnNpb24nOiAxMDBcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBzdHJpcFVuaXQodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiB2YWx1ZTtcbiAgdmFyIG1hdGNoZWRWYWx1ZSA9IHZhbHVlLm1hdGNoKGNzc1JlZ2V4JDEpO1xuICByZXR1cm4gbWF0Y2hlZFZhbHVlID8gcGFyc2VGbG9hdCh2YWx1ZSkgOiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBGYWN0b3J5IGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBwaXhlbC10by14IGNvbnZlcnRlcnNcbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIHB4dG9GYWN0b3J5ID0gZnVuY3Rpb24gcHh0b0ZhY3RvcnkodG8pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChweHZhbCwgYmFzZSkge1xuICAgIGlmIChiYXNlID09PSB2b2lkIDApIHtcbiAgICAgIGJhc2UgPSAnMTZweCc7XG4gICAgfVxuXG4gICAgdmFyIG5ld1B4dmFsID0gcHh2YWw7XG4gICAgdmFyIG5ld0Jhc2UgPSBiYXNlO1xuXG4gICAgaWYgKHR5cGVvZiBweHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmICghZW5kc1dpdGgocHh2YWwsICdweCcpKSB7XG4gICAgICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDY5LCB0bywgcHh2YWwpO1xuICAgICAgfVxuXG4gICAgICBuZXdQeHZhbCA9IHN0cmlwVW5pdChweHZhbCk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBiYXNlID09PSAnc3RyaW5nJykge1xuICAgICAgaWYgKCFlbmRzV2l0aChiYXNlLCAncHgnKSkge1xuICAgICAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig3MCwgdG8sIGJhc2UpO1xuICAgICAgfVxuXG4gICAgICBuZXdCYXNlID0gc3RyaXBVbml0KGJhc2UpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbmV3UHh2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig3MSwgcHh2YWwsIHRvKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5ld0Jhc2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig3MiwgYmFzZSwgdG8pO1xuICAgIH1cblxuICAgIHJldHVybiBcIlwiICsgbmV3UHh2YWwgLyBuZXdCYXNlICsgdG87XG4gIH07XG59O1xuXG4vKipcbiAqIENvbnZlcnQgcGl4ZWwgdmFsdWUgdG8gZW1zLiBUaGUgZGVmYXVsdCBiYXNlIHZhbHVlIGlzIDE2cHgsIGJ1dCBjYW4gYmUgY2hhbmdlZCBieSBwYXNzaW5nIGFcbiAqIHNlY29uZCBhcmd1bWVudCB0byB0aGUgZnVuY3Rpb24uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gcHh2YWxcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW2Jhc2U9JzE2cHgnXVxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgJ2hlaWdodCc6IGVtKCcxNnB4JylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgaGVpZ2h0OiAke2VtKCcxNnB4Jyl9XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICpcbiAqIGVsZW1lbnQge1xuICogICAnaGVpZ2h0JzogJzFlbSdcbiAqIH1cbiAqL1xuXG52YXIgZW0gPSAvKiNfX1BVUkVfXyovcHh0b0ZhY3RvcnkoJ2VtJyk7XG5cbnZhciBjc3NSZWdleCA9IC9eKFsrLV0/KD86XFxkK3xcXGQqXFwuXFxkKykpKFthLXpdKnwlKSQvO1xuLyoqXG4gKiBSZXR1cm5zIGEgZ2l2ZW4gQ1NTIHZhbHVlIGFuZCBpdHMgdW5pdCBhcyBlbGVtZW50cyBvZiBhbiBhcnJheS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAnLS1kaW1lbnNpb24nOiBnZXRWYWx1ZUFuZFVuaXQoJzEwMHB4JylbMF0sXG4gKiAgICctLXVuaXQnOiBnZXRWYWx1ZUFuZFVuaXQoJzEwMHB4JylbMV0sXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIC0tZGltZW5zaW9uOiAke2dldFZhbHVlQW5kVW5pdCgnMTAwcHgnKVswXX07XG4gKiAgIC0tdW5pdDogJHtnZXRWYWx1ZUFuZFVuaXQoJzEwMHB4JylbMV19O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgJy0tZGltZW5zaW9uJzogMTAwLFxuICogICAnLS11bml0JzogJ3B4JyxcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBnZXRWYWx1ZUFuZFVuaXQodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiBbdmFsdWUsICcnXTtcbiAgdmFyIG1hdGNoZWRWYWx1ZSA9IHZhbHVlLm1hdGNoKGNzc1JlZ2V4KTtcbiAgaWYgKG1hdGNoZWRWYWx1ZSkgcmV0dXJuIFtwYXJzZUZsb2F0KHZhbHVlKSwgbWF0Y2hlZFZhbHVlWzJdXTtcbiAgcmV0dXJuIFt2YWx1ZSwgdW5kZWZpbmVkXTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgZm9yIHRhcmdldGluZyBydWxlcyBpbiBhIHN0eWxlIGJsb2NrIGdlbmVyYXRlZCBieSBwb2xpc2hlZCBtb2R1bGVzIHRoYXQgbmVlZCAhaW1wb3J0YW50LWxldmVsIHNwZWNpZmljaXR5LiBDYW4gb3B0aW9uYWxseSBzcGVjaWZ5IGEgcnVsZSAob3IgcnVsZXMpIHRvIHRhcmdldCBzcGVjaWZpYyBydWxlcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAuLi5pbXBvcnRhbnQoY292ZXIoKSlcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgJHtpbXBvcnRhbnQoY292ZXIoKSl9XG4gKiBgXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICpcbiAqIGRpdjoge1xuICogICAncG9zaXRpb24nOiAnYWJzb2x1dGUgIWltcG9ydGFudCcsXG4gKiAgICd0b3AnOiAnMCAhaW1wb3J0YW50JyxcbiAqICAgJ3JpZ2h0OiAnMCAhaW1wb3J0YW50JyxcbiAqICAgJ2JvdHRvbSc6ICcwICFpbXBvcnRhbnQnLFxuICogICAnbGVmdDogJzAgIWltcG9ydGFudCdcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBpbXBvcnRhbnQoc3R5bGVCbG9jaywgcnVsZXMpIHtcbiAgaWYgKHR5cGVvZiBzdHlsZUJsb2NrICE9PSAnb2JqZWN0JyB8fCBzdHlsZUJsb2NrID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNzUsIHR5cGVvZiBzdHlsZUJsb2NrKTtcbiAgfVxuXG4gIHZhciBuZXdTdHlsZUJsb2NrID0ge307XG4gIE9iamVjdC5rZXlzKHN0eWxlQmxvY2spLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICh0eXBlb2Ygc3R5bGVCbG9ja1trZXldID09PSAnb2JqZWN0JyAmJiBzdHlsZUJsb2NrW2tleV0gIT09IG51bGwpIHtcbiAgICAgIG5ld1N0eWxlQmxvY2tba2V5XSA9IGltcG9ydGFudChzdHlsZUJsb2NrW2tleV0sIHJ1bGVzKTtcbiAgICB9IGVsc2UgaWYgKCFydWxlcyB8fCBydWxlcyAmJiAocnVsZXMgPT09IGtleSB8fCBydWxlcy5pbmRleE9mKGtleSkgPj0gMCkpIHtcbiAgICAgIG5ld1N0eWxlQmxvY2tba2V5XSA9IHN0eWxlQmxvY2tba2V5XSArIFwiICFpbXBvcnRhbnRcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3U3R5bGVCbG9ja1trZXldID0gc3R5bGVCbG9ja1trZXldO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBuZXdTdHlsZUJsb2NrO1xufVxuXG52YXIgcmF0aW9OYW1lcyA9IHtcbiAgbWlub3JTZWNvbmQ6IDEuMDY3LFxuICBtYWpvclNlY29uZDogMS4xMjUsXG4gIG1pbm9yVGhpcmQ6IDEuMixcbiAgbWFqb3JUaGlyZDogMS4yNSxcbiAgcGVyZmVjdEZvdXJ0aDogMS4zMzMsXG4gIGF1Z0ZvdXJ0aDogMS40MTQsXG4gIHBlcmZlY3RGaWZ0aDogMS41LFxuICBtaW5vclNpeHRoOiAxLjYsXG4gIGdvbGRlblNlY3Rpb246IDEuNjE4LFxuICBtYWpvclNpeHRoOiAxLjY2NyxcbiAgbWlub3JTZXZlbnRoOiAxLjc3OCxcbiAgbWFqb3JTZXZlbnRoOiAxLjg3NSxcbiAgb2N0YXZlOiAyLFxuICBtYWpvclRlbnRoOiAyLjUsXG4gIG1ham9yRWxldmVudGg6IDIuNjY3LFxuICBtYWpvclR3ZWxmdGg6IDMsXG4gIGRvdWJsZU9jdGF2ZTogNFxufTtcblxuZnVuY3Rpb24gZ2V0UmF0aW8ocmF0aW9OYW1lKSB7XG4gIHJldHVybiByYXRpb05hbWVzW3JhdGlvTmFtZV07XG59XG4vKipcbiAqIEVzdGFibGlzaCBjb25zaXN0ZW50IG1lYXN1cmVtZW50cyBhbmQgc3BhY2lhbCByZWxhdGlvbnNoaXBzIHRocm91Z2hvdXQgeW91ciBwcm9qZWN0cyBieSBpbmNyZW1lbnRpbmcgYW4gZW0gb3IgcmVtIHZhbHVlIHVwIG9yIGRvd24gYSBkZWZpbmVkIHNjYWxlLiBXZSBwcm92aWRlIGEgbGlzdCBvZiBjb21tb25seSB1c2VkIHNjYWxlcyBhcyBwcmUtZGVmaW5lZCB2YXJpYWJsZXMuXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAgLy8gSW5jcmVtZW50IHR3byBzdGVwcyB1cCB0aGUgZGVmYXVsdCBzY2FsZVxuICogICAnZm9udFNpemUnOiBtb2R1bGFyU2NhbGUoMilcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgIC8vIEluY3JlbWVudCB0d28gc3RlcHMgdXAgdGhlIGRlZmF1bHQgc2NhbGVcbiAqICAgZm9udFNpemU6ICR7bW9kdWxhclNjYWxlKDIpfVxuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgJ2ZvbnRTaXplJzogJzEuNzc2ODllbSdcbiAqIH1cbiAqL1xuXG5cbmZ1bmN0aW9uIG1vZHVsYXJTY2FsZShzdGVwcywgYmFzZSwgcmF0aW8pIHtcbiAgaWYgKGJhc2UgPT09IHZvaWQgMCkge1xuICAgIGJhc2UgPSAnMWVtJztcbiAgfVxuXG4gIGlmIChyYXRpbyA9PT0gdm9pZCAwKSB7XG4gICAgcmF0aW8gPSAxLjMzMztcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc3RlcHMgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNDIpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiByYXRpbyA9PT0gJ3N0cmluZycgJiYgIXJhdGlvTmFtZXNbcmF0aW9dKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNDMpO1xuICB9XG5cbiAgdmFyIF9yZWYgPSB0eXBlb2YgYmFzZSA9PT0gJ3N0cmluZycgPyBnZXRWYWx1ZUFuZFVuaXQoYmFzZSkgOiBbYmFzZSwgJyddLFxuICAgICAgcmVhbEJhc2UgPSBfcmVmWzBdLFxuICAgICAgdW5pdCA9IF9yZWZbMV07XG5cbiAgdmFyIHJlYWxSYXRpbyA9IHR5cGVvZiByYXRpbyA9PT0gJ3N0cmluZycgPyBnZXRSYXRpbyhyYXRpbykgOiByYXRpbztcblxuICBpZiAodHlwZW9mIHJlYWxCYXNlID09PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDQ0LCBiYXNlKTtcbiAgfVxuXG4gIHJldHVybiBcIlwiICsgcmVhbEJhc2UgKiBNYXRoLnBvdyhyZWFsUmF0aW8sIHN0ZXBzKSArICh1bml0IHx8ICcnKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IHBpeGVsIHZhbHVlIHRvIHJlbXMuIFRoZSBkZWZhdWx0IGJhc2UgdmFsdWUgaXMgMTZweCwgYnV0IGNhbiBiZSBjaGFuZ2VkIGJ5IHBhc3NpbmcgYVxuICogc2Vjb25kIGFyZ3VtZW50IHRvIHRoZSBmdW5jdGlvbi5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBweHZhbFxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbYmFzZT0nMTZweCddXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAnaGVpZ2h0JzogcmVtKCcxNnB4JylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgaGVpZ2h0OiAke3JlbSgnMTZweCcpfVxuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgJ2hlaWdodCc6ICcxcmVtJ1xuICogfVxuICovXG5cbnZhciByZW0gPSAvKiNfX1BVUkVfXyovcHh0b0ZhY3RvcnkoJ3JlbScpO1xuXG52YXIgZGVmYXVsdEZvbnRTaXplID0gMTY7XG5cbmZ1bmN0aW9uIGNvbnZlcnRCYXNlKGJhc2UpIHtcbiAgdmFyIGRlY29uc3RydWN0ZWRWYWx1ZSA9IGdldFZhbHVlQW5kVW5pdChiYXNlKTtcblxuICBpZiAoZGVjb25zdHJ1Y3RlZFZhbHVlWzFdID09PSAncHgnKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQoYmFzZSk7XG4gIH1cblxuICBpZiAoZGVjb25zdHJ1Y3RlZFZhbHVlWzFdID09PSAnJScpIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdChiYXNlKSAvIDEwMCAqIGRlZmF1bHRGb250U2l6ZTtcbiAgfVxuXG4gIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDc4LCBkZWNvbnN0cnVjdGVkVmFsdWVbMV0pO1xufVxuXG5mdW5jdGlvbiBnZXRCYXNlRnJvbURvYygpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgKi9cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgIT09IG51bGwpIHtcbiAgICB2YXIgcm9vdEZvbnRTaXplID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmZvbnRTaXplO1xuICAgIHJldHVybiByb290Rm9udFNpemUgPyBjb252ZXJ0QmFzZShyb290Rm9udFNpemUpIDogZGVmYXVsdEZvbnRTaXplO1xuICB9XG4gIC8qIGVzbGludC1lbmFibGUgKi9cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXG5cbiAgcmV0dXJuIGRlZmF1bHRGb250U2l6ZTtcbn1cbi8qKlxuICogQ29udmVydCByZW0gdmFsdWVzIHRvIHB4LiBCeSBkZWZhdWx0LCB0aGUgYmFzZSB2YWx1ZSBpcyBwdWxsZWQgZnJvbSB0aGUgZm9udC1zaXplIHByb3BlcnR5IG9uIHRoZSByb290IGVsZW1lbnQgKGlmIGl0IGlzIHNldCBpbiAlIG9yIHB4KS4gSXQgZGVmYXVsdHMgdG8gMTZweCBpZiBub3QgZm91bmQgb24gdGhlIHJvb3QuIFlvdSBjYW4gYWxzbyBvdmVycmlkZSB0aGUgYmFzZSB2YWx1ZSBieSBwcm92aWRpbmcgeW91ciBvd24gYmFzZSBpbiAlIG9yIHB4LlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgJ2hlaWdodCc6IHJlbVRvUHgoJzEuNnJlbScpXG4gKiAgICdoZWlnaHQnOiByZW1Ub1B4KCcxLjZyZW0nLCAnMTBweCcpXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGhlaWdodDogJHtyZW1Ub1B4KCcxLjZyZW0nKX1cbiAqICAgaGVpZ2h0OiAke3JlbVRvUHgoJzEuNnJlbScsICcxMHB4Jyl9XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICpcbiAqIGVsZW1lbnQge1xuICogICAnaGVpZ2h0JzogJzI1LjZweCcsXG4gKiAgICdoZWlnaHQnOiAnMTZweCcsXG4gKiB9XG4gKi9cblxuXG5mdW5jdGlvbiByZW1Ub1B4KHZhbHVlLCBiYXNlKSB7XG4gIHZhciBkZWNvbnN0cnVjdGVkVmFsdWUgPSBnZXRWYWx1ZUFuZFVuaXQodmFsdWUpO1xuXG4gIGlmIChkZWNvbnN0cnVjdGVkVmFsdWVbMV0gIT09ICdyZW0nICYmIGRlY29uc3RydWN0ZWRWYWx1ZVsxXSAhPT0gJycpIHtcbiAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig3NywgZGVjb25zdHJ1Y3RlZFZhbHVlWzFdKTtcbiAgfVxuXG4gIHZhciBuZXdCYXNlID0gYmFzZSA/IGNvbnZlcnRCYXNlKGJhc2UpIDogZ2V0QmFzZUZyb21Eb2MoKTtcbiAgcmV0dXJuIGRlY29uc3RydWN0ZWRWYWx1ZVswXSAqIG5ld0Jhc2UgKyBcInB4XCI7XG59XG5cbnZhciBmdW5jdGlvbnNNYXAkMyA9IHtcbiAgYmFjazogJ2N1YmljLWJlemllcigwLjYwMCwgLTAuMjgwLCAwLjczNSwgMC4wNDUpJyxcbiAgY2lyYzogJ2N1YmljLWJlemllcigwLjYwMCwgIDAuMDQwLCAwLjk4MCwgMC4zMzUpJyxcbiAgY3ViaWM6ICdjdWJpYy1iZXppZXIoMC41NTAsICAwLjA1NSwgMC42NzUsIDAuMTkwKScsXG4gIGV4cG86ICdjdWJpYy1iZXppZXIoMC45NTAsICAwLjA1MCwgMC43OTUsIDAuMDM1KScsXG4gIHF1YWQ6ICdjdWJpYy1iZXppZXIoMC41NTAsICAwLjA4NSwgMC42ODAsIDAuNTMwKScsXG4gIHF1YXJ0OiAnY3ViaWMtYmV6aWVyKDAuODk1LCAgMC4wMzAsIDAuNjg1LCAwLjIyMCknLFxuICBxdWludDogJ2N1YmljLWJlemllcigwLjc1NSwgIDAuMDUwLCAwLjg1NSwgMC4wNjApJyxcbiAgc2luZTogJ2N1YmljLWJlemllcigwLjQ3MCwgIDAuMDAwLCAwLjc0NSwgMC43MTUpJ1xufTtcbi8qKlxuICogU3RyaW5nIHRvIHJlcHJlc2VudCBjb21tb24gZWFzaW5nIGZ1bmN0aW9ucyBhcyBkZW1vbnN0cmF0ZWQgaGVyZTogKGdpdGh1Yi5jb20vamF1a2lhL2Vhc2llKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAndHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uJzogZWFzZUluKCdxdWFkJylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIHRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbjogJHtlYXNlSW4oJ3F1YWQnKX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICpcbiAqICdkaXYnOiB7XG4gKiAgICd0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24nOiAnY3ViaWMtYmV6aWVyKDAuNTUwLCAgMC4wODUsIDAuNjgwLCAwLjUzMCknLFxuICogfVxuICovXG5cbmZ1bmN0aW9uIGVhc2VJbihmdW5jdGlvbk5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uc01hcCQzW2Z1bmN0aW9uTmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKV07XG59XG5cbnZhciBmdW5jdGlvbnNNYXAkMiA9IHtcbiAgYmFjazogJ2N1YmljLWJlemllcigwLjY4MCwgLTAuNTUwLCAwLjI2NSwgMS41NTApJyxcbiAgY2lyYzogJ2N1YmljLWJlemllcigwLjc4NSwgIDAuMTM1LCAwLjE1MCwgMC44NjApJyxcbiAgY3ViaWM6ICdjdWJpYy1iZXppZXIoMC42NDUsICAwLjA0NSwgMC4zNTUsIDEuMDAwKScsXG4gIGV4cG86ICdjdWJpYy1iZXppZXIoMS4wMDAsICAwLjAwMCwgMC4wMDAsIDEuMDAwKScsXG4gIHF1YWQ6ICdjdWJpYy1iZXppZXIoMC40NTUsICAwLjAzMCwgMC41MTUsIDAuOTU1KScsXG4gIHF1YXJ0OiAnY3ViaWMtYmV6aWVyKDAuNzcwLCAgMC4wMDAsIDAuMTc1LCAxLjAwMCknLFxuICBxdWludDogJ2N1YmljLWJlemllcigwLjg2MCwgIDAuMDAwLCAwLjA3MCwgMS4wMDApJyxcbiAgc2luZTogJ2N1YmljLWJlemllcigwLjQ0NSwgIDAuMDUwLCAwLjU1MCwgMC45NTApJ1xufTtcbi8qKlxuICogU3RyaW5nIHRvIHJlcHJlc2VudCBjb21tb24gZWFzaW5nIGZ1bmN0aW9ucyBhcyBkZW1vbnN0cmF0ZWQgaGVyZTogKGdpdGh1Yi5jb20vamF1a2lhL2Vhc2llKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAndHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uJzogZWFzZUluT3V0KCdxdWFkJylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIHRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbjogJHtlYXNlSW5PdXQoJ3F1YWQnKX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICpcbiAqICdkaXYnOiB7XG4gKiAgICd0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24nOiAnY3ViaWMtYmV6aWVyKDAuNDU1LCAgMC4wMzAsIDAuNTE1LCAwLjk1NSknLFxuICogfVxuICovXG5cbmZ1bmN0aW9uIGVhc2VJbk91dChmdW5jdGlvbk5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uc01hcCQyW2Z1bmN0aW9uTmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKV07XG59XG5cbnZhciBmdW5jdGlvbnNNYXAkMSA9IHtcbiAgYmFjazogJ2N1YmljLWJlemllcigwLjE3NSwgIDAuODg1LCAwLjMyMCwgMS4yNzUpJyxcbiAgY3ViaWM6ICdjdWJpYy1iZXppZXIoMC4yMTUsICAwLjYxMCwgMC4zNTUsIDEuMDAwKScsXG4gIGNpcmM6ICdjdWJpYy1iZXppZXIoMC4wNzUsICAwLjgyMCwgMC4xNjUsIDEuMDAwKScsXG4gIGV4cG86ICdjdWJpYy1iZXppZXIoMC4xOTAsICAxLjAwMCwgMC4yMjAsIDEuMDAwKScsXG4gIHF1YWQ6ICdjdWJpYy1iZXppZXIoMC4yNTAsICAwLjQ2MCwgMC40NTAsIDAuOTQwKScsXG4gIHF1YXJ0OiAnY3ViaWMtYmV6aWVyKDAuMTY1LCAgMC44NDAsIDAuNDQwLCAxLjAwMCknLFxuICBxdWludDogJ2N1YmljLWJlemllcigwLjIzMCwgIDEuMDAwLCAwLjMyMCwgMS4wMDApJyxcbiAgc2luZTogJ2N1YmljLWJlemllcigwLjM5MCwgIDAuNTc1LCAwLjU2NSwgMS4wMDApJ1xufTtcbi8qKlxuICogU3RyaW5nIHRvIHJlcHJlc2VudCBjb21tb24gZWFzaW5nIGZ1bmN0aW9ucyBhcyBkZW1vbnN0cmF0ZWQgaGVyZTogKGdpdGh1Yi5jb20vamF1a2lhL2Vhc2llKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAndHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uJzogZWFzZU91dCgncXVhZCcpXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqICBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICB0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb246ICR7ZWFzZU91dCgncXVhZCcpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogJ2Rpdic6IHtcbiAqICAgJ3RyYW5zaXRpb25UaW1pbmdGdW5jdGlvbic6ICdjdWJpYy1iZXppZXIoMC4yNTAsICAwLjQ2MCwgMC40NTAsIDAuOTQwKScsXG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gZWFzZU91dChmdW5jdGlvbk5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uc01hcCQxW2Z1bmN0aW9uTmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKV07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIENTUyBjYWxjIGZvcm11bGEgZm9yIGxpbmVhciBpbnRlcnBvbGF0aW9uIG9mIGEgcHJvcGVydHkgYmV0d2VlbiB0d28gdmFsdWVzLiBBY2NlcHRzIG9wdGlvbmFsIG1pblNjcmVlbiAoZGVmYXVsdHMgdG8gJzMyMHB4JykgYW5kIG1heFNjcmVlbiAoZGVmYXVsdHMgdG8gJzEyMDBweCcpLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGZvbnRTaXplOiBiZXR3ZWVuKCcyMHB4JywgJzEwMHB4JywgJzQwMHB4JywgJzEwMDBweCcpLFxuICogICBmb250U2l6ZTogYmV0d2VlbignMjBweCcsICcxMDBweCcpXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGZvbnRTaXplOiAke2JldHdlZW4oJzIwcHgnLCAnMTAwcHgnLCAnNDAwcHgnLCAnMTAwMHB4Jyl9O1xuICogICBmb250U2l6ZTogJHtiZXR3ZWVuKCcyMHB4JywgJzEwMHB4Jyl9XG4gKiBgXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICpcbiAqIGgxOiB7XG4gKiAgICdmb250U2l6ZSc6ICdjYWxjKC0zMy4zMzMzMzMzMzMzMzMzNHB4ICsgMTMuMzMzMzMzMzMzMzMzMzM0dncpJyxcbiAqICAgJ2ZvbnRTaXplJzogJ2NhbGMoLTkuMDkwOTA5MDkwOTA5MDkzcHggKyA5LjA5MDkwOTA5MDkwOTA5MnZ3KSdcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBiZXR3ZWVuKGZyb21TaXplLCB0b1NpemUsIG1pblNjcmVlbiwgbWF4U2NyZWVuKSB7XG4gIGlmIChtaW5TY3JlZW4gPT09IHZvaWQgMCkge1xuICAgIG1pblNjcmVlbiA9ICczMjBweCc7XG4gIH1cblxuICBpZiAobWF4U2NyZWVuID09PSB2b2lkIDApIHtcbiAgICBtYXhTY3JlZW4gPSAnMTIwMHB4JztcbiAgfVxuXG4gIHZhciBfZ2V0VmFsdWVBbmRVbml0ID0gZ2V0VmFsdWVBbmRVbml0KGZyb21TaXplKSxcbiAgICAgIHVuaXRsZXNzRnJvbVNpemUgPSBfZ2V0VmFsdWVBbmRVbml0WzBdLFxuICAgICAgZnJvbVNpemVVbml0ID0gX2dldFZhbHVlQW5kVW5pdFsxXTtcblxuICB2YXIgX2dldFZhbHVlQW5kVW5pdDIgPSBnZXRWYWx1ZUFuZFVuaXQodG9TaXplKSxcbiAgICAgIHVuaXRsZXNzVG9TaXplID0gX2dldFZhbHVlQW5kVW5pdDJbMF0sXG4gICAgICB0b1NpemVVbml0ID0gX2dldFZhbHVlQW5kVW5pdDJbMV07XG5cbiAgdmFyIF9nZXRWYWx1ZUFuZFVuaXQzID0gZ2V0VmFsdWVBbmRVbml0KG1pblNjcmVlbiksXG4gICAgICB1bml0bGVzc01pblNjcmVlbiA9IF9nZXRWYWx1ZUFuZFVuaXQzWzBdLFxuICAgICAgbWluU2NyZWVuVW5pdCA9IF9nZXRWYWx1ZUFuZFVuaXQzWzFdO1xuXG4gIHZhciBfZ2V0VmFsdWVBbmRVbml0NCA9IGdldFZhbHVlQW5kVW5pdChtYXhTY3JlZW4pLFxuICAgICAgdW5pdGxlc3NNYXhTY3JlZW4gPSBfZ2V0VmFsdWVBbmRVbml0NFswXSxcbiAgICAgIG1heFNjcmVlblVuaXQgPSBfZ2V0VmFsdWVBbmRVbml0NFsxXTtcblxuICBpZiAodHlwZW9mIHVuaXRsZXNzTWluU2NyZWVuICE9PSAnbnVtYmVyJyB8fCB0eXBlb2YgdW5pdGxlc3NNYXhTY3JlZW4gIT09ICdudW1iZXInIHx8ICFtaW5TY3JlZW5Vbml0IHx8ICFtYXhTY3JlZW5Vbml0IHx8IG1pblNjcmVlblVuaXQgIT09IG1heFNjcmVlblVuaXQpIHtcbiAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig0Nyk7XG4gIH1cblxuICBpZiAodHlwZW9mIHVuaXRsZXNzRnJvbVNpemUgIT09ICdudW1iZXInIHx8IHR5cGVvZiB1bml0bGVzc1RvU2l6ZSAhPT0gJ251bWJlcicgfHwgZnJvbVNpemVVbml0ICE9PSB0b1NpemVVbml0KSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNDgpO1xuICB9XG5cbiAgaWYgKGZyb21TaXplVW5pdCAhPT0gbWluU2NyZWVuVW5pdCB8fCB0b1NpemVVbml0ICE9PSBtYXhTY3JlZW5Vbml0KSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNzYpO1xuICB9XG5cbiAgdmFyIHNsb3BlID0gKHVuaXRsZXNzRnJvbVNpemUgLSB1bml0bGVzc1RvU2l6ZSkgLyAodW5pdGxlc3NNaW5TY3JlZW4gLSB1bml0bGVzc01heFNjcmVlbik7XG4gIHZhciBiYXNlID0gdW5pdGxlc3NUb1NpemUgLSBzbG9wZSAqIHVuaXRsZXNzTWF4U2NyZWVuO1xuICByZXR1cm4gXCJjYWxjKFwiICsgYmFzZS50b0ZpeGVkKDIpICsgKGZyb21TaXplVW5pdCB8fCAnJykgKyBcIiArIFwiICsgKDEwMCAqIHNsb3BlKS50b0ZpeGVkKDIpICsgXCJ2dylcIjtcbn1cblxuLyoqXG4gKiBDU1MgdG8gY29udGFpbiBhIGZsb2F0IChjcmVkaXQgdG8gQ1NTTW9qbykuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgIC4uLmNsZWFyRml4KCksXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgICR7Y2xlYXJGaXgoKX1cbiAqIGBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogJyY6OmFmdGVyJzoge1xuICogICAnY2xlYXInOiAnYm90aCcsXG4gKiAgICdjb250ZW50JzogJ1wiXCInLFxuICogICAnZGlzcGxheSc6ICd0YWJsZSdcbiAqIH1cbiAqL1xuZnVuY3Rpb24gY2xlYXJGaXgocGFyZW50KSB7XG4gIHZhciBfcmVmO1xuXG4gIGlmIChwYXJlbnQgPT09IHZvaWQgMCkge1xuICAgIHBhcmVudCA9ICcmJztcbiAgfVxuXG4gIHZhciBwc2V1ZG9TZWxlY3RvciA9IHBhcmVudCArIFwiOjphZnRlclwiO1xuICByZXR1cm4gX3JlZiA9IHt9LCBfcmVmW3BzZXVkb1NlbGVjdG9yXSA9IHtcbiAgICBjbGVhcjogJ2JvdGgnLFxuICAgIGNvbnRlbnQ6ICdcIlwiJyxcbiAgICBkaXNwbGF5OiAndGFibGUnXG4gIH0sIF9yZWY7XG59XG5cbi8qKlxuICogQ1NTIHRvIGZ1bGx5IGNvdmVyIGFuIGFyZWEuIENhbiBvcHRpb25hbGx5IGJlIHBhc3NlZCBhbiBvZmZzZXQgdG8gYWN0IGFzIGEgXCJwYWRkaW5nXCIuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgLi4uY292ZXIoKVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICAke2NvdmVyKCl9XG4gKiBgXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICpcbiAqIGRpdjoge1xuICogICAncG9zaXRpb24nOiAnYWJzb2x1dGUnLFxuICogICAndG9wJzogJzAnLFxuICogICAncmlnaHQ6ICcwJyxcbiAqICAgJ2JvdHRvbSc6ICcwJyxcbiAqICAgJ2xlZnQ6ICcwJ1xuICogfVxuICovXG5mdW5jdGlvbiBjb3ZlcihvZmZzZXQpIHtcbiAgaWYgKG9mZnNldCA9PT0gdm9pZCAwKSB7XG4gICAgb2Zmc2V0ID0gMDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdG9wOiBvZmZzZXQsXG4gICAgcmlnaHQ6IG9mZnNldCxcbiAgICBib3R0b206IG9mZnNldCxcbiAgICBsZWZ0OiBvZmZzZXRcbiAgfTtcbn1cblxuLyoqXG4gKiBDU1MgdG8gcmVwcmVzZW50IHRydW5jYXRlZCB0ZXh0IHdpdGggYW4gZWxsaXBzaXMuIFlvdSBjYW4gb3B0aW9uYWxseSBwYXNzIGEgbWF4LXdpZHRoIGFuZCBudW1iZXIgb2YgbGluZXMgYmVmb3JlIHRydW5jYXRpbmcuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgLi4uZWxsaXBzaXMoJzI1MHB4JylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgJHtlbGxpcHNpcygnMjUwcHgnKX1cbiAqIGBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogZGl2OiB7XG4gKiAgICdkaXNwbGF5JzogJ2lubGluZS1ibG9jaycsXG4gKiAgICdtYXhXaWR0aCc6ICcyNTBweCcsXG4gKiAgICdvdmVyZmxvdyc6ICdoaWRkZW4nLFxuICogICAndGV4dE92ZXJmbG93JzogJ2VsbGlwc2lzJyxcbiAqICAgJ3doaXRlU3BhY2UnOiAnbm93cmFwJyxcbiAqICAgJ3dvcmRXcmFwJzogJ25vcm1hbCdcbiAqIH1cbiAqL1xuZnVuY3Rpb24gZWxsaXBzaXMod2lkdGgsIGxpbmVzKSB7XG4gIGlmIChsaW5lcyA9PT0gdm9pZCAwKSB7XG4gICAgbGluZXMgPSAxO1xuICB9XG5cbiAgdmFyIHN0eWxlcyA9IHtcbiAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICBtYXhXaWR0aDogd2lkdGggfHwgJzEwMCUnLFxuICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICB0ZXh0T3ZlcmZsb3c6ICdlbGxpcHNpcycsXG4gICAgd2hpdGVTcGFjZTogJ25vd3JhcCcsXG4gICAgd29yZFdyYXA6ICdub3JtYWwnXG4gIH07XG4gIHJldHVybiBsaW5lcyA+IDEgPyBfZXh0ZW5kcyh7fSwgc3R5bGVzLCB7XG4gICAgV2Via2l0Qm94T3JpZW50OiAndmVydGljYWwnLFxuICAgIFdlYmtpdExpbmVDbGFtcDogbGluZXMsXG4gICAgZGlzcGxheTogJy13ZWJraXQtYm94JyxcbiAgICB3aGl0ZVNwYWNlOiAnbm9ybWFsJ1xuICB9KSA6IHN0eWxlcztcbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvW1wiQEBpdGVyYXRvclwiXTsgaWYgKGl0KSByZXR1cm4gKGl0ID0gaXQuY2FsbChvKSkubmV4dC5iaW5kKGl0KTsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyByZXR1cm4gZnVuY3Rpb24gKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbi8qKlxuICogUmV0dXJucyBhIHNldCBvZiBtZWRpYSBxdWVyaWVzIHRoYXQgcmVzaXplcyBhIHByb3BlcnR5IChvciBzZXQgb2YgcHJvcGVydGllcykgYmV0d2VlbiBhIHByb3ZpZGVkIGZyb21TaXplIGFuZCB0b1NpemUuIEFjY2VwdHMgb3B0aW9uYWwgbWluU2NyZWVuIChkZWZhdWx0cyB0byAnMzIwcHgnKSBhbmQgbWF4U2NyZWVuIChkZWZhdWx0cyB0byAnMTIwMHB4JykgdG8gY29uc3RyYWluIHRoZSBpbnRlcnBvbGF0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIC4uLmZsdWlkUmFuZ2UoXG4gKiAgICB7XG4gKiAgICAgICAgcHJvcDogJ3BhZGRpbmcnLFxuICogICAgICAgIGZyb21TaXplOiAnMjBweCcsXG4gKiAgICAgICAgdG9TaXplOiAnMTAwcHgnLFxuICogICAgICB9LFxuICogICAgICAnNDAwcHgnLFxuICogICAgICAnMTAwMHB4JyxcbiAqICAgIClcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgJHtmbHVpZFJhbmdlKFxuICogICAgICB7XG4gKiAgICAgICAgcHJvcDogJ3BhZGRpbmcnLFxuICogICAgICAgIGZyb21TaXplOiAnMjBweCcsXG4gKiAgICAgICAgdG9TaXplOiAnMTAwcHgnLFxuICogICAgICB9LFxuICogICAgICAnNDAwcHgnLFxuICogICAgICAnMTAwMHB4JyxcbiAqICAgICl9XG4gKiBgXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICpcbiAqIGRpdjoge1xuICogICBcIkBtZWRpYSAobWluLXdpZHRoOiAxMDAwcHgpXCI6IE9iamVjdCB7XG4gKiAgICAgXCJwYWRkaW5nXCI6IFwiMTAwcHhcIixcbiAqICAgfSxcbiAqICAgXCJAbWVkaWEgKG1pbi13aWR0aDogNDAwcHgpXCI6IE9iamVjdCB7XG4gKiAgICAgXCJwYWRkaW5nXCI6IFwiY2FsYygtMzMuMzMzMzMzMzMzMzMzMzRweCArIDEzLjMzMzMzMzMzMzMzMzMzNHZ3KVwiLFxuICogICB9LFxuICogICBcInBhZGRpbmdcIjogXCIyMHB4XCIsXG4gKiB9XG4gKi9cbmZ1bmN0aW9uIGZsdWlkUmFuZ2UoY3NzUHJvcCwgbWluU2NyZWVuLCBtYXhTY3JlZW4pIHtcbiAgaWYgKG1pblNjcmVlbiA9PT0gdm9pZCAwKSB7XG4gICAgbWluU2NyZWVuID0gJzMyMHB4JztcbiAgfVxuXG4gIGlmIChtYXhTY3JlZW4gPT09IHZvaWQgMCkge1xuICAgIG1heFNjcmVlbiA9ICcxMjAwcHgnO1xuICB9XG5cbiAgaWYgKCFBcnJheS5pc0FycmF5KGNzc1Byb3ApICYmIHR5cGVvZiBjc3NQcm9wICE9PSAnb2JqZWN0JyB8fCBjc3NQcm9wID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNDkpO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoY3NzUHJvcCkpIHtcbiAgICB2YXIgbWVkaWFRdWVyaWVzID0ge307XG4gICAgdmFyIGZhbGxiYWNrcyA9IHt9O1xuXG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShjc3NQcm9wKSwgX3N0ZXA7ICEoX3N0ZXAgPSBfaXRlcmF0b3IoKSkuZG9uZTspIHtcbiAgICAgIHZhciBfZXh0ZW5kczIsIF9leHRlbmRzMztcblxuICAgICAgdmFyIG9iaiA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICBpZiAoIW9iai5wcm9wIHx8ICFvYmouZnJvbVNpemUgfHwgIW9iai50b1NpemUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNTApO1xuICAgICAgfVxuXG4gICAgICBmYWxsYmFja3Nbb2JqLnByb3BdID0gb2JqLmZyb21TaXplO1xuICAgICAgbWVkaWFRdWVyaWVzW1wiQG1lZGlhIChtaW4td2lkdGg6IFwiICsgbWluU2NyZWVuICsgXCIpXCJdID0gX2V4dGVuZHMoe30sIG1lZGlhUXVlcmllc1tcIkBtZWRpYSAobWluLXdpZHRoOiBcIiArIG1pblNjcmVlbiArIFwiKVwiXSwgKF9leHRlbmRzMiA9IHt9LCBfZXh0ZW5kczJbb2JqLnByb3BdID0gYmV0d2VlbihvYmouZnJvbVNpemUsIG9iai50b1NpemUsIG1pblNjcmVlbiwgbWF4U2NyZWVuKSwgX2V4dGVuZHMyKSk7XG4gICAgICBtZWRpYVF1ZXJpZXNbXCJAbWVkaWEgKG1pbi13aWR0aDogXCIgKyBtYXhTY3JlZW4gKyBcIilcIl0gPSBfZXh0ZW5kcyh7fSwgbWVkaWFRdWVyaWVzW1wiQG1lZGlhIChtaW4td2lkdGg6IFwiICsgbWF4U2NyZWVuICsgXCIpXCJdLCAoX2V4dGVuZHMzID0ge30sIF9leHRlbmRzM1tvYmoucHJvcF0gPSBvYmoudG9TaXplLCBfZXh0ZW5kczMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIGZhbGxiYWNrcywgbWVkaWFRdWVyaWVzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgX3JlZiwgX3JlZjIsIF9yZWYzO1xuXG4gICAgaWYgKCFjc3NQcm9wLnByb3AgfHwgIWNzc1Byb3AuZnJvbVNpemUgfHwgIWNzc1Byb3AudG9TaXplKSB7XG4gICAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig1MSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZWYzID0ge30sIF9yZWYzW2Nzc1Byb3AucHJvcF0gPSBjc3NQcm9wLmZyb21TaXplLCBfcmVmM1tcIkBtZWRpYSAobWluLXdpZHRoOiBcIiArIG1pblNjcmVlbiArIFwiKVwiXSA9IChfcmVmID0ge30sIF9yZWZbY3NzUHJvcC5wcm9wXSA9IGJldHdlZW4oY3NzUHJvcC5mcm9tU2l6ZSwgY3NzUHJvcC50b1NpemUsIG1pblNjcmVlbiwgbWF4U2NyZWVuKSwgX3JlZiksIF9yZWYzW1wiQG1lZGlhIChtaW4td2lkdGg6IFwiICsgbWF4U2NyZWVuICsgXCIpXCJdID0gKF9yZWYyID0ge30sIF9yZWYyW2Nzc1Byb3AucHJvcF0gPSBjc3NQcm9wLnRvU2l6ZSwgX3JlZjIpLCBfcmVmMztcbiAgfVxufVxuXG52YXIgZGF0YVVSSVJlZ2V4ID0gL15cXHMqZGF0YTooW2Etel0rXFwvW2Etei1dKyg7W2Etei1dKz1bYS16LV0rKT8pPyg7Y2hhcnNldD1bYS16MC05LV0rKT8oO2Jhc2U2NCk/LFthLXowLTkhJCYnLCgpKissOz1cXC0uX346QC8/JVxcc10qXFxzKiQvaTtcbnZhciBmb3JtYXRIaW50TWFwID0ge1xuICB3b2ZmOiAnd29mZicsXG4gIHdvZmYyOiAnd29mZjInLFxuICB0dGY6ICd0cnVldHlwZScsXG4gIG90ZjogJ29wZW50eXBlJyxcbiAgZW90OiAnZW1iZWRkZWQtb3BlbnR5cGUnLFxuICBzdmc6ICdzdmcnLFxuICBzdmd6OiAnc3ZnJ1xufTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVGb3JtYXRIaW50KGZvcm1hdCwgZm9ybWF0SGludCkge1xuICBpZiAoIWZvcm1hdEhpbnQpIHJldHVybiAnJztcbiAgcmV0dXJuIFwiIGZvcm1hdChcXFwiXCIgKyBmb3JtYXRIaW50TWFwW2Zvcm1hdF0gKyBcIlxcXCIpXCI7XG59XG5cbmZ1bmN0aW9uIGlzRGF0YVVSSShmb250RmlsZVBhdGgpIHtcbiAgcmV0dXJuICEhZm9udEZpbGVQYXRoLm1hdGNoKGRhdGFVUklSZWdleCk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlRmlsZVJlZmVyZW5jZXMoZm9udEZpbGVQYXRoLCBmaWxlRm9ybWF0cywgZm9ybWF0SGludCkge1xuICBpZiAoaXNEYXRhVVJJKGZvbnRGaWxlUGF0aCkpIHtcbiAgICByZXR1cm4gXCJ1cmwoXFxcIlwiICsgZm9udEZpbGVQYXRoICsgXCJcXFwiKVwiICsgZ2VuZXJhdGVGb3JtYXRIaW50KGZpbGVGb3JtYXRzWzBdLCBmb3JtYXRIaW50KTtcbiAgfVxuXG4gIHZhciBmaWxlRm9udFJlZmVyZW5jZXMgPSBmaWxlRm9ybWF0cy5tYXAoZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgIHJldHVybiBcInVybChcXFwiXCIgKyBmb250RmlsZVBhdGggKyBcIi5cIiArIGZvcm1hdCArIFwiXFxcIilcIiArIGdlbmVyYXRlRm9ybWF0SGludChmb3JtYXQsIGZvcm1hdEhpbnQpO1xuICB9KTtcbiAgcmV0dXJuIGZpbGVGb250UmVmZXJlbmNlcy5qb2luKCcsICcpO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUxvY2FsUmVmZXJlbmNlcyhsb2NhbEZvbnRzKSB7XG4gIHZhciBsb2NhbEZvbnRSZWZlcmVuY2VzID0gbG9jYWxGb250cy5tYXAoZnVuY3Rpb24gKGZvbnQpIHtcbiAgICByZXR1cm4gXCJsb2NhbChcXFwiXCIgKyBmb250ICsgXCJcXFwiKVwiO1xuICB9KTtcbiAgcmV0dXJuIGxvY2FsRm9udFJlZmVyZW5jZXMuam9pbignLCAnKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVTb3VyY2VzKGZvbnRGaWxlUGF0aCwgbG9jYWxGb250cywgZmlsZUZvcm1hdHMsIGZvcm1hdEhpbnQpIHtcbiAgdmFyIGZvbnRSZWZlcmVuY2VzID0gW107XG4gIGlmIChsb2NhbEZvbnRzKSBmb250UmVmZXJlbmNlcy5wdXNoKGdlbmVyYXRlTG9jYWxSZWZlcmVuY2VzKGxvY2FsRm9udHMpKTtcblxuICBpZiAoZm9udEZpbGVQYXRoKSB7XG4gICAgZm9udFJlZmVyZW5jZXMucHVzaChnZW5lcmF0ZUZpbGVSZWZlcmVuY2VzKGZvbnRGaWxlUGF0aCwgZmlsZUZvcm1hdHMsIGZvcm1hdEhpbnQpKTtcbiAgfVxuXG4gIHJldHVybiBmb250UmVmZXJlbmNlcy5qb2luKCcsICcpO1xufVxuLyoqXG4gKiBDU1MgZm9yIGEgQGZvbnQtZmFjZSBkZWNsYXJhdGlvbi4gRGVmYXVsdHMgdG8gY2hlY2sgZm9yIGxvY2FsIGNvcGllcyBvZiB0aGUgZm9udCBvbiB0aGUgdXNlcidzIG1hY2hpbmUuIFlvdSBjYW4gZGlzYWJsZSB0aGlzIGJ5IHBhc3NpbmcgYG51bGxgIHRvIGxvY2FsRm9udHMuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgYmFzaWMgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgIC4uLmZvbnRGYWNlKHtcbiAqICAgICAgJ2ZvbnRGYW1pbHknOiAnU2Fucy1Qcm8nLFxuICogICAgICAnZm9udEZpbGVQYXRoJzogJ3BhdGgvdG8vZmlsZSdcbiAqICAgIH0pXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgYmFzaWMgdXNhZ2VcbiAqIGNvbnN0IEdsb2JhbFN0eWxlID0gY3JlYXRlR2xvYmFsU3R5bGVgJHtcbiAqICAgZm9udEZhY2Uoe1xuICogICAgICdmb250RmFtaWx5JzogJ1NhbnMtUHJvJyxcbiAqICAgICAnZm9udEZpbGVQYXRoJzogJ3BhdGgvdG8vZmlsZSdcbiAqICAgfVxuICogKX1gXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICpcbiAqICdAZm9udC1mYWNlJzoge1xuICogICAnZm9udEZhbWlseSc6ICdTYW5zLVBybycsXG4gKiAgICdzcmMnOiAndXJsKFwicGF0aC90by9maWxlLmVvdFwiKSwgdXJsKFwicGF0aC90by9maWxlLndvZmYyXCIpLCB1cmwoXCJwYXRoL3RvL2ZpbGUud29mZlwiKSwgdXJsKFwicGF0aC90by9maWxlLnR0ZlwiKSwgdXJsKFwicGF0aC90by9maWxlLnN2Z1wiKScsXG4gKiB9XG4gKi9cblxuXG5mdW5jdGlvbiBmb250RmFjZShfcmVmKSB7XG4gIHZhciBmb250RmFtaWx5ID0gX3JlZi5mb250RmFtaWx5LFxuICAgICAgZm9udEZpbGVQYXRoID0gX3JlZi5mb250RmlsZVBhdGgsXG4gICAgICBmb250U3RyZXRjaCA9IF9yZWYuZm9udFN0cmV0Y2gsXG4gICAgICBmb250U3R5bGUgPSBfcmVmLmZvbnRTdHlsZSxcbiAgICAgIGZvbnRWYXJpYW50ID0gX3JlZi5mb250VmFyaWFudCxcbiAgICAgIGZvbnRXZWlnaHQgPSBfcmVmLmZvbnRXZWlnaHQsXG4gICAgICBfcmVmJGZpbGVGb3JtYXRzID0gX3JlZi5maWxlRm9ybWF0cyxcbiAgICAgIGZpbGVGb3JtYXRzID0gX3JlZiRmaWxlRm9ybWF0cyA9PT0gdm9pZCAwID8gWydlb3QnLCAnd29mZjInLCAnd29mZicsICd0dGYnLCAnc3ZnJ10gOiBfcmVmJGZpbGVGb3JtYXRzLFxuICAgICAgX3JlZiRmb3JtYXRIaW50ID0gX3JlZi5mb3JtYXRIaW50LFxuICAgICAgZm9ybWF0SGludCA9IF9yZWYkZm9ybWF0SGludCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGZvcm1hdEhpbnQsXG4gICAgICBfcmVmJGxvY2FsRm9udHMgPSBfcmVmLmxvY2FsRm9udHMsXG4gICAgICBsb2NhbEZvbnRzID0gX3JlZiRsb2NhbEZvbnRzID09PSB2b2lkIDAgPyBbZm9udEZhbWlseV0gOiBfcmVmJGxvY2FsRm9udHMsXG4gICAgICB1bmljb2RlUmFuZ2UgPSBfcmVmLnVuaWNvZGVSYW5nZSxcbiAgICAgIGZvbnREaXNwbGF5ID0gX3JlZi5mb250RGlzcGxheSxcbiAgICAgIGZvbnRWYXJpYXRpb25TZXR0aW5ncyA9IF9yZWYuZm9udFZhcmlhdGlvblNldHRpbmdzLFxuICAgICAgZm9udEZlYXR1cmVTZXR0aW5ncyA9IF9yZWYuZm9udEZlYXR1cmVTZXR0aW5ncztcbiAgLy8gRXJyb3IgSGFuZGxpbmdcbiAgaWYgKCFmb250RmFtaWx5KSB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig1NSk7XG5cbiAgaWYgKCFmb250RmlsZVBhdGggJiYgIWxvY2FsRm9udHMpIHtcbiAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig1Mik7XG4gIH1cblxuICBpZiAobG9jYWxGb250cyAmJiAhQXJyYXkuaXNBcnJheShsb2NhbEZvbnRzKSkge1xuICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDUzKTtcbiAgfVxuXG4gIGlmICghQXJyYXkuaXNBcnJheShmaWxlRm9ybWF0cykpIHtcbiAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig1NCk7XG4gIH1cblxuICB2YXIgZm9udEZhY2VEZWNsYXJhdGlvbiA9IHtcbiAgICAnQGZvbnQtZmFjZSc6IHtcbiAgICAgIGZvbnRGYW1pbHk6IGZvbnRGYW1pbHksXG4gICAgICBzcmM6IGdlbmVyYXRlU291cmNlcyhmb250RmlsZVBhdGgsIGxvY2FsRm9udHMsIGZpbGVGb3JtYXRzLCBmb3JtYXRIaW50KSxcbiAgICAgIHVuaWNvZGVSYW5nZTogdW5pY29kZVJhbmdlLFxuICAgICAgZm9udFN0cmV0Y2g6IGZvbnRTdHJldGNoLFxuICAgICAgZm9udFN0eWxlOiBmb250U3R5bGUsXG4gICAgICBmb250VmFyaWFudDogZm9udFZhcmlhbnQsXG4gICAgICBmb250V2VpZ2h0OiBmb250V2VpZ2h0LFxuICAgICAgZm9udERpc3BsYXk6IGZvbnREaXNwbGF5LFxuICAgICAgZm9udFZhcmlhdGlvblNldHRpbmdzOiBmb250VmFyaWF0aW9uU2V0dGluZ3MsXG4gICAgICBmb250RmVhdHVyZVNldHRpbmdzOiBmb250RmVhdHVyZVNldHRpbmdzXG4gICAgfVxuICB9OyAvLyBSZW1vdmVzIHVuZGVmaW5lZCBmaWVsZHMgZm9yIGNsZWFuZXIgY3NzIG9iamVjdC5cblxuICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShmb250RmFjZURlY2xhcmF0aW9uKSk7XG59XG5cbi8qKlxuICogQ1NTIHRvIGhpZGUgdGV4dCB0byBzaG93IGEgYmFja2dyb3VuZCBpbWFnZSBpbiBhIFNFTy1mcmllbmRseSB3YXkuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgJ2JhY2tncm91bmRJbWFnZSc6ICd1cmwobG9nby5wbmcpJyxcbiAqICAgLi4uaGlkZVRleHQoKSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZEltYWdlOiB1cmwobG9nby5wbmcpO1xuICogICAke2hpZGVUZXh0KCl9O1xuICogYFxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiAnZGl2Jzoge1xuICogICAnYmFja2dyb3VuZEltYWdlJzogJ3VybChsb2dvLnBuZyknLFxuICogICAndGV4dEluZGVudCc6ICcxMDElJyxcbiAqICAgJ292ZXJmbG93JzogJ2hpZGRlbicsXG4gKiAgICd3aGl0ZVNwYWNlJzogJ25vd3JhcCcsXG4gKiB9XG4gKi9cbmZ1bmN0aW9uIGhpZGVUZXh0KCkge1xuICByZXR1cm4ge1xuICAgIHRleHRJbmRlbnQ6ICcxMDElJyxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgd2hpdGVTcGFjZTogJ25vd3JhcCdcbiAgfTtcbn1cblxuLyoqXG4gKiBDU1MgdG8gaGlkZSBjb250ZW50IHZpc3VhbGx5IGJ1dCByZW1haW4gYWNjZXNzaWJsZSB0byBzY3JlZW4gcmVhZGVycy5cbiAqIGZyb20gW0hUTUw1IEJvaWxlcnBsYXRlXShodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZS9ibG9iLzlhMTc2ZjU3YWYxY2ZlOGVjNzAzMDBkYTQ2MjFmYjliMDdlNWZhMzEvc3JjL2Nzcy9tYWluLmNzcyNMMTIxKVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIC4uLmhpZGVWaXN1YWxseSgpLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICAke2hpZGVWaXN1YWxseSgpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogJ2Rpdic6IHtcbiAqICAgJ2JvcmRlcic6ICcwJyxcbiAqICAgJ2NsaXAnOiAncmVjdCgwIDAgMCAwKScsXG4gKiAgICdoZWlnaHQnOiAnMXB4JyxcbiAqICAgJ21hcmdpbic6ICctMXB4JyxcbiAqICAgJ292ZXJmbG93JzogJ2hpZGRlbicsXG4gKiAgICdwYWRkaW5nJzogJzAnLFxuICogICAncG9zaXRpb24nOiAnYWJzb2x1dGUnLFxuICogICAnd2hpdGVTcGFjZSc6ICdub3dyYXAnLFxuICogICAnd2lkdGgnOiAnMXB4JyxcbiAqIH1cbiAqL1xuZnVuY3Rpb24gaGlkZVZpc3VhbGx5KCkge1xuICByZXR1cm4ge1xuICAgIGJvcmRlcjogJzAnLFxuICAgIGNsaXA6ICdyZWN0KDAgMCAwIDApJyxcbiAgICBoZWlnaHQ6ICcxcHgnLFxuICAgIG1hcmdpbjogJy0xcHgnLFxuICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICBwYWRkaW5nOiAnMCcsXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgd2hpdGVTcGFjZTogJ25vd3JhcCcsXG4gICAgd2lkdGg6ICcxcHgnXG4gIH07XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgbWVkaWEgcXVlcnkgdG8gdGFyZ2V0IEhpRFBJIGRldmljZXMuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICBbaGlEUEkoMS41KV06IHtcbiAqICAgIHdpZHRoOiAyMDBweDtcbiAqICB9XG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgICR7aGlEUEkoMS41KX0ge1xuICogICAgIHdpZHRoOiAyMDBweDtcbiAqICAgfVxuICogYFxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiAnQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAxLjUpLFxuICogIG9ubHkgc2NyZWVuIGFuZCAobWluLS1tb3otZGV2aWNlLXBpeGVsLXJhdGlvOiAxLjUpLFxuICogIG9ubHkgc2NyZWVuIGFuZCAoLW8tbWluLWRldmljZS1waXhlbC1yYXRpbzogMS41LzEpLFxuICogIG9ubHkgc2NyZWVuIGFuZCAobWluLXJlc29sdXRpb246IDE0NGRwaSksXG4gKiAgb25seSBzY3JlZW4gYW5kIChtaW4tcmVzb2x1dGlvbjogMS41ZHBweCknOiB7XG4gKiAgICd3aWR0aCc6ICcyMDBweCcsXG4gKiB9XG4gKi9cbmZ1bmN0aW9uIGhpRFBJKHJhdGlvKSB7XG4gIGlmIChyYXRpbyA9PT0gdm9pZCAwKSB7XG4gICAgcmF0aW8gPSAxLjM7XG4gIH1cblxuICByZXR1cm4gXCJcXG4gICAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiBcIiArIHJhdGlvICsgXCIpLFxcbiAgICBvbmx5IHNjcmVlbiBhbmQgKG1pbi0tbW96LWRldmljZS1waXhlbC1yYXRpbzogXCIgKyByYXRpbyArIFwiKSxcXG4gICAgb25seSBzY3JlZW4gYW5kICgtby1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiBcIiArIHJhdGlvICsgXCIvMSksXFxuICAgIG9ubHkgc2NyZWVuIGFuZCAobWluLXJlc29sdXRpb246IFwiICsgTWF0aC5yb3VuZChyYXRpbyAqIDk2KSArIFwiZHBpKSxcXG4gICAgb25seSBzY3JlZW4gYW5kIChtaW4tcmVzb2x1dGlvbjogXCIgKyByYXRpbyArIFwiZHBweClcXG4gIFwiO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RHcmFkaWVudFZhbHVlKGxpdGVyYWxzKSB7XG4gIHZhciB0ZW1wbGF0ZSA9ICcnO1xuXG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzdWJzdGl0dXRpb25zID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBzdWJzdGl0dXRpb25zW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGl0ZXJhbHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0ZW1wbGF0ZSArPSBsaXRlcmFsc1tpXTtcblxuICAgIGlmIChpID09PSBzdWJzdGl0dXRpb25zLmxlbmd0aCAtIDEgJiYgc3Vic3RpdHV0aW9uc1tpXSkge1xuICAgICAgdmFyIGRlZmluZWRWYWx1ZXMgPSBzdWJzdGl0dXRpb25zLmZpbHRlcihmdW5jdGlvbiAoc3Vic3RpdHV0ZSkge1xuICAgICAgICByZXR1cm4gISFzdWJzdGl0dXRlO1xuICAgICAgfSk7IC8vIEFkZHMgbGVhZGluZyBjb21hIGlmIHByb3BlcnRpZXMgcHJlY2VlZCBjb2xvci1zdG9wc1xuXG4gICAgICBpZiAoZGVmaW5lZFZhbHVlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUuc2xpY2UoMCwgLTEpO1xuICAgICAgICB0ZW1wbGF0ZSArPSBcIiwgXCIgKyBzdWJzdGl0dXRpb25zW2ldOyAvLyBObyB0cmFpbGluZyBzcGFjZSBpZiBjb2xvci1zdG9wcyBpcyB0aGUgb25seSBwYXJhbSBwcm92aWRlZFxuICAgICAgfSBlbHNlIGlmIChkZWZpbmVkVmFsdWVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB0ZW1wbGF0ZSArPSBcIlwiICsgc3Vic3RpdHV0aW9uc1tpXTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN1YnN0aXR1dGlvbnNbaV0pIHtcbiAgICAgIHRlbXBsYXRlICs9IHN1YnN0aXR1dGlvbnNbaV0gKyBcIiBcIjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGVtcGxhdGUudHJpbSgpO1xufVxuXG52YXIgX3RlbXBsYXRlT2JqZWN0JDE7XG5cbi8qKlxuICogQ1NTIGZvciBkZWNsYXJpbmcgYSBsaW5lYXIgZ3JhZGllbnQsIGluY2x1ZGluZyBhIGZhbGxiYWNrIGJhY2tncm91bmQtY29sb3IuIFRoZSBmYWxsYmFjayBpcyBlaXRoZXIgdGhlIGZpcnN0IGNvbG9yLXN0b3Agb3IgYW4gZXhwbGljaXRseSBwYXNzZWQgZmFsbGJhY2sgY29sb3IuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgLi4ubGluZWFyR3JhZGllbnQoe1xuICAgICAgICBjb2xvclN0b3BzOiBbJyMwMEZGRkYgMCUnLCAncmdiYSgwLCAwLCAyNTUsIDApIDUwJScsICcjMDAwMEZGIDk1JSddLFxuICAgICAgICB0b0RpcmVjdGlvbjogJ3RvIHRvcCByaWdodCcsXG4gICAgICAgIGZhbGxiYWNrOiAnI0ZGRicsXG4gICAgICB9KVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICAke2xpbmVhckdyYWRpZW50KHtcbiAgICAgICAgY29sb3JTdG9wczogWycjMDBGRkZGIDAlJywgJ3JnYmEoMCwgMCwgMjU1LCAwKSA1MCUnLCAnIzAwMDBGRiA5NSUnXSxcbiAgICAgICAgdG9EaXJlY3Rpb246ICd0byB0b3AgcmlnaHQnLFxuICAgICAgICBmYWxsYmFjazogJyNGRkYnLFxuICAgICAgfSl9XG4gKmBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogZGl2OiB7XG4gKiAgICdiYWNrZ3JvdW5kQ29sb3InOiAnI0ZGRicsXG4gKiAgICdiYWNrZ3JvdW5kSW1hZ2UnOiAnbGluZWFyLWdyYWRpZW50KHRvIHRvcCByaWdodCwgIzAwRkZGRiAwJSwgcmdiYSgwLCAwLCAyNTUsIDApIDUwJSwgIzAwMDBGRiA5NSUpJyxcbiAqIH1cbiAqL1xuZnVuY3Rpb24gbGluZWFyR3JhZGllbnQoX3JlZikge1xuICB2YXIgY29sb3JTdG9wcyA9IF9yZWYuY29sb3JTdG9wcyxcbiAgICAgIGZhbGxiYWNrID0gX3JlZi5mYWxsYmFjayxcbiAgICAgIF9yZWYkdG9EaXJlY3Rpb24gPSBfcmVmLnRvRGlyZWN0aW9uLFxuICAgICAgdG9EaXJlY3Rpb24gPSBfcmVmJHRvRGlyZWN0aW9uID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkdG9EaXJlY3Rpb247XG5cbiAgaWYgKCFjb2xvclN0b3BzIHx8IGNvbG9yU3RvcHMubGVuZ3RoIDwgMikge1xuICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDU2KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiBmYWxsYmFjayB8fCBjb2xvclN0b3BzWzBdLnJlcGxhY2UoLyxcXHMrL2csICcsJykuc3BsaXQoJyAnKVswXS5yZXBsYWNlKC8sKD89XFxTKS9nLCAnLCAnKSxcbiAgICBiYWNrZ3JvdW5kSW1hZ2U6IGNvbnN0cnVjdEdyYWRpZW50VmFsdWUoX3RlbXBsYXRlT2JqZWN0JDEgfHwgKF90ZW1wbGF0ZU9iamVjdCQxID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKFtcImxpbmVhci1ncmFkaWVudChcIiwgXCJcIiwgXCIpXCJdKSksIHRvRGlyZWN0aW9uLCBjb2xvclN0b3BzLmpvaW4oJywgJykucmVwbGFjZSgvLCg/PVxcUykvZywgJywgJykpXG4gIH07XG59XG5cbi8qKlxuICogQ1NTIHRvIG5vcm1hbGl6ZSBhYm5vcm1hbGl0aWVzIGFjcm9zcyBicm93c2VycyAobm9ybWFsaXplLmNzcyB2OC4wLjEgfCBNSVQgTGljZW5zZSB8IGdpdGh1Yi5jb20vbmVjb2xhcy9ub3JtYWxpemUuY3NzKVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgICAuLi5ub3JtYWxpemUoKSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgR2xvYmFsU3R5bGUgPSBjcmVhdGVHbG9iYWxTdHlsZWAke25vcm1hbGl6ZSgpfWBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogaHRtbCB7XG4gKiAgIGxpbmVIZWlnaHQ6IDEuMTUsXG4gKiAgIHRleHRTaXplQWRqdXN0OiAxMDAlLFxuICogfSAuLi5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplKCkge1xuICB2YXIgX3JlZjtcblxuICByZXR1cm4gWyhfcmVmID0ge1xuICAgIGh0bWw6IHtcbiAgICAgIGxpbmVIZWlnaHQ6ICcxLjE1JyxcbiAgICAgIHRleHRTaXplQWRqdXN0OiAnMTAwJSdcbiAgICB9LFxuICAgIGJvZHk6IHtcbiAgICAgIG1hcmdpbjogJzAnXG4gICAgfSxcbiAgICBtYWluOiB7XG4gICAgICBkaXNwbGF5OiAnYmxvY2snXG4gICAgfSxcbiAgICBoMToge1xuICAgICAgZm9udFNpemU6ICcyZW0nLFxuICAgICAgbWFyZ2luOiAnMC42N2VtIDAnXG4gICAgfSxcbiAgICBocjoge1xuICAgICAgYm94U2l6aW5nOiAnY29udGVudC1ib3gnLFxuICAgICAgaGVpZ2h0OiAnMCcsXG4gICAgICBvdmVyZmxvdzogJ3Zpc2libGUnXG4gICAgfSxcbiAgICBwcmU6IHtcbiAgICAgIGZvbnRGYW1pbHk6ICdtb25vc3BhY2UsIG1vbm9zcGFjZScsXG4gICAgICBmb250U2l6ZTogJzFlbSdcbiAgICB9LFxuICAgIGE6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50J1xuICAgIH0sXG4gICAgJ2FiYnJbdGl0bGVdJzoge1xuICAgICAgYm9yZGVyQm90dG9tOiAnbm9uZScsXG4gICAgICB0ZXh0RGVjb3JhdGlvbjogJ3VuZGVybGluZSdcbiAgICB9XG4gIH0sIF9yZWZbXCJiLFxcbiAgICBzdHJvbmdcIl0gPSB7XG4gICAgZm9udFdlaWdodDogJ2JvbGRlcidcbiAgfSwgX3JlZltcImNvZGUsXFxuICAgIGtiZCxcXG4gICAgc2FtcFwiXSA9IHtcbiAgICBmb250RmFtaWx5OiAnbW9ub3NwYWNlLCBtb25vc3BhY2UnLFxuICAgIGZvbnRTaXplOiAnMWVtJ1xuICB9LCBfcmVmLnNtYWxsID0ge1xuICAgIGZvbnRTaXplOiAnODAlJ1xuICB9LCBfcmVmW1wic3ViLFxcbiAgICBzdXBcIl0gPSB7XG4gICAgZm9udFNpemU6ICc3NSUnLFxuICAgIGxpbmVIZWlnaHQ6ICcwJyxcbiAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICB2ZXJ0aWNhbEFsaWduOiAnYmFzZWxpbmUnXG4gIH0sIF9yZWYuc3ViID0ge1xuICAgIGJvdHRvbTogJy0wLjI1ZW0nXG4gIH0sIF9yZWYuc3VwID0ge1xuICAgIHRvcDogJy0wLjVlbSdcbiAgfSwgX3JlZi5pbWcgPSB7XG4gICAgYm9yZGVyU3R5bGU6ICdub25lJ1xuICB9LCBfcmVmW1wiYnV0dG9uLFxcbiAgICBpbnB1dCxcXG4gICAgb3B0Z3JvdXAsXFxuICAgIHNlbGVjdCxcXG4gICAgdGV4dGFyZWFcIl0gPSB7XG4gICAgZm9udEZhbWlseTogJ2luaGVyaXQnLFxuICAgIGZvbnRTaXplOiAnMTAwJScsXG4gICAgbGluZUhlaWdodDogJzEuMTUnLFxuICAgIG1hcmdpbjogJzAnXG4gIH0sIF9yZWZbXCJidXR0b24sXFxuICAgIGlucHV0XCJdID0ge1xuICAgIG92ZXJmbG93OiAndmlzaWJsZSdcbiAgfSwgX3JlZltcImJ1dHRvbixcXG4gICAgc2VsZWN0XCJdID0ge1xuICAgIHRleHRUcmFuc2Zvcm06ICdub25lJ1xuICB9LCBfcmVmW1wiYnV0dG9uLFxcbiAgICBodG1sIFt0eXBlPVxcXCJidXR0b25cXFwiXSxcXG4gICAgW3R5cGU9XFxcInJlc2V0XFxcIl0sXFxuICAgIFt0eXBlPVxcXCJzdWJtaXRcXFwiXVwiXSA9IHtcbiAgICBXZWJraXRBcHBlYXJhbmNlOiAnYnV0dG9uJ1xuICB9LCBfcmVmW1wiYnV0dG9uOjotbW96LWZvY3VzLWlubmVyLFxcbiAgICBbdHlwZT1cXFwiYnV0dG9uXFxcIl06Oi1tb3otZm9jdXMtaW5uZXIsXFxuICAgIFt0eXBlPVxcXCJyZXNldFxcXCJdOjotbW96LWZvY3VzLWlubmVyLFxcbiAgICBbdHlwZT1cXFwic3VibWl0XFxcIl06Oi1tb3otZm9jdXMtaW5uZXJcIl0gPSB7XG4gICAgYm9yZGVyU3R5bGU6ICdub25lJyxcbiAgICBwYWRkaW5nOiAnMCdcbiAgfSwgX3JlZltcImJ1dHRvbjotbW96LWZvY3VzcmluZyxcXG4gICAgW3R5cGU9XFxcImJ1dHRvblxcXCJdOi1tb3otZm9jdXNyaW5nLFxcbiAgICBbdHlwZT1cXFwicmVzZXRcXFwiXTotbW96LWZvY3VzcmluZyxcXG4gICAgW3R5cGU9XFxcInN1Ym1pdFxcXCJdOi1tb3otZm9jdXNyaW5nXCJdID0ge1xuICAgIG91dGxpbmU6ICcxcHggZG90dGVkIEJ1dHRvblRleHQnXG4gIH0sIF9yZWYuZmllbGRzZXQgPSB7XG4gICAgcGFkZGluZzogJzAuMzVlbSAwLjYyNWVtIDAuNzVlbSdcbiAgfSwgX3JlZi5sZWdlbmQgPSB7XG4gICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgY29sb3I6ICdpbmhlcml0JyxcbiAgICBkaXNwbGF5OiAndGFibGUnLFxuICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgcGFkZGluZzogJzAnLFxuICAgIHdoaXRlU3BhY2U6ICdub3JtYWwnXG4gIH0sIF9yZWYucHJvZ3Jlc3MgPSB7XG4gICAgdmVydGljYWxBbGlnbjogJ2Jhc2VsaW5lJ1xuICB9LCBfcmVmLnRleHRhcmVhID0ge1xuICAgIG92ZXJmbG93OiAnYXV0bydcbiAgfSwgX3JlZltcIlt0eXBlPVxcXCJjaGVja2JveFxcXCJdLFxcbiAgICBbdHlwZT1cXFwicmFkaW9cXFwiXVwiXSA9IHtcbiAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICBwYWRkaW5nOiAnMCdcbiAgfSwgX3JlZltcIlt0eXBlPVxcXCJudW1iZXJcXFwiXTo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbixcXG4gICAgW3R5cGU9XFxcIm51bWJlclxcXCJdOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9uXCJdID0ge1xuICAgIGhlaWdodDogJ2F1dG8nXG4gIH0sIF9yZWZbJ1t0eXBlPVwic2VhcmNoXCJdJ10gPSB7XG4gICAgV2Via2l0QXBwZWFyYW5jZTogJ3RleHRmaWVsZCcsXG4gICAgb3V0bGluZU9mZnNldDogJy0ycHgnXG4gIH0sIF9yZWZbJ1t0eXBlPVwic2VhcmNoXCJdOjotd2Via2l0LXNlYXJjaC1kZWNvcmF0aW9uJ10gPSB7XG4gICAgV2Via2l0QXBwZWFyYW5jZTogJ25vbmUnXG4gIH0sIF9yZWZbJzo6LXdlYmtpdC1maWxlLXVwbG9hZC1idXR0b24nXSA9IHtcbiAgICBXZWJraXRBcHBlYXJhbmNlOiAnYnV0dG9uJyxcbiAgICBmb250OiAnaW5oZXJpdCdcbiAgfSwgX3JlZi5kZXRhaWxzID0ge1xuICAgIGRpc3BsYXk6ICdibG9jaydcbiAgfSwgX3JlZi5zdW1tYXJ5ID0ge1xuICAgIGRpc3BsYXk6ICdsaXN0LWl0ZW0nXG4gIH0sIF9yZWYudGVtcGxhdGUgPSB7XG4gICAgZGlzcGxheTogJ25vbmUnXG4gIH0sIF9yZWZbJ1toaWRkZW5dJ10gPSB7XG4gICAgZGlzcGxheTogJ25vbmUnXG4gIH0sIF9yZWYpLCB7XG4gICAgJ2FiYnJbdGl0bGVdJzoge1xuICAgICAgdGV4dERlY29yYXRpb246ICd1bmRlcmxpbmUgZG90dGVkJ1xuICAgIH1cbiAgfV07XG59XG5cbnZhciBfdGVtcGxhdGVPYmplY3Q7XG5cbi8qKlxuICogQ1NTIGZvciBkZWNsYXJpbmcgYSByYWRpYWwgZ3JhZGllbnQsIGluY2x1ZGluZyBhIGZhbGxiYWNrIGJhY2tncm91bmQtY29sb3IuIFRoZSBmYWxsYmFjayBpcyBlaXRoZXIgdGhlIGZpcnN0IGNvbG9yLXN0b3Agb3IgYW4gZXhwbGljaXRseSBwYXNzZWQgZmFsbGJhY2sgY29sb3IuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgLi4ucmFkaWFsR3JhZGllbnQoe1xuICogICAgIGNvbG9yU3RvcHM6IFsnIzAwRkZGRiAwJScsICdyZ2JhKDAsIDAsIDI1NSwgMCkgNTAlJywgJyMwMDAwRkYgOTUlJ10sXG4gKiAgICAgZXh0ZW50OiAnZmFydGhlc3QtY29ybmVyIGF0IDQ1cHggNDVweCcsXG4gKiAgICAgcG9zaXRpb246ICdjZW50ZXInLFxuICogICAgIHNoYXBlOiAnZWxsaXBzZScsXG4gKiAgIH0pXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgICR7cmFkaWFsR3JhZGllbnQoe1xuICogICAgIGNvbG9yU3RvcHM6IFsnIzAwRkZGRiAwJScsICdyZ2JhKDAsIDAsIDI1NSwgMCkgNTAlJywgJyMwMDAwRkYgOTUlJ10sXG4gKiAgICAgZXh0ZW50OiAnZmFydGhlc3QtY29ybmVyIGF0IDQ1cHggNDVweCcsXG4gKiAgICAgcG9zaXRpb246ICdjZW50ZXInLFxuICogICAgIHNoYXBlOiAnZWxsaXBzZScsXG4gKiAgIH0pfVxuICpgXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICpcbiAqIGRpdjoge1xuICogICAnYmFja2dyb3VuZENvbG9yJzogJyMwMEZGRkYnLFxuICogICAnYmFja2dyb3VuZEltYWdlJzogJ3JhZGlhbC1ncmFkaWVudChjZW50ZXIgZWxsaXBzZSBmYXJ0aGVzdC1jb3JuZXIgYXQgNDVweCA0NXB4LCAjMDBGRkZGIDAlLCByZ2JhKDAsIDAsIDI1NSwgMCkgNTAlLCAjMDAwMEZGIDk1JSknLFxuICogfVxuICovXG5mdW5jdGlvbiByYWRpYWxHcmFkaWVudChfcmVmKSB7XG4gIHZhciBjb2xvclN0b3BzID0gX3JlZi5jb2xvclN0b3BzLFxuICAgICAgX3JlZiRleHRlbnQgPSBfcmVmLmV4dGVudCxcbiAgICAgIGV4dGVudCA9IF9yZWYkZXh0ZW50ID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkZXh0ZW50LFxuICAgICAgZmFsbGJhY2sgPSBfcmVmLmZhbGxiYWNrLFxuICAgICAgX3JlZiRwb3NpdGlvbiA9IF9yZWYucG9zaXRpb24sXG4gICAgICBwb3NpdGlvbiA9IF9yZWYkcG9zaXRpb24gPT09IHZvaWQgMCA/ICcnIDogX3JlZiRwb3NpdGlvbixcbiAgICAgIF9yZWYkc2hhcGUgPSBfcmVmLnNoYXBlLFxuICAgICAgc2hhcGUgPSBfcmVmJHNoYXBlID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkc2hhcGU7XG5cbiAgaWYgKCFjb2xvclN0b3BzIHx8IGNvbG9yU3RvcHMubGVuZ3RoIDwgMikge1xuICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDU3KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiBmYWxsYmFjayB8fCBjb2xvclN0b3BzWzBdLnNwbGl0KCcgJylbMF0sXG4gICAgYmFja2dyb3VuZEltYWdlOiBjb25zdHJ1Y3RHcmFkaWVudFZhbHVlKF90ZW1wbGF0ZU9iamVjdCB8fCAoX3RlbXBsYXRlT2JqZWN0ID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKFtcInJhZGlhbC1ncmFkaWVudChcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCIpXCJdKSksIHBvc2l0aW9uLCBzaGFwZSwgZXh0ZW50LCBjb2xvclN0b3BzLmpvaW4oJywgJykpXG4gIH07XG59XG5cbi8qKlxuICogQSBoZWxwZXIgdG8gZ2VuZXJhdGUgYSByZXRpbmEgYmFja2dyb3VuZCBpbWFnZSBhbmQgbm9uLXJldGluYVxuICogYmFja2dyb3VuZCBpbWFnZS4gVGhlIHJldGluYSBiYWNrZ3JvdW5kIGltYWdlIHdpbGwgb3V0cHV0IHRvIGEgSGlEUEkgbWVkaWEgcXVlcnkuIFRoZSBtaXhpbiB1c2VzXG4gKiBhIF8yeC5wbmcgZmlsZW5hbWUgc3VmZml4IGJ5IGRlZmF1bHQuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAuLi5yZXRpbmFJbWFnZSgnbXktaW1nJylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgJHtyZXRpbmFJbWFnZSgnbXktaW1nJyl9XG4gKiBgXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICogZGl2IHtcbiAqICAgYmFja2dyb3VuZEltYWdlOiAndXJsKG15LWltZy5wbmcpJyxcbiAqICAgJ0BtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKC13ZWJraXQtbWluLWRldmljZS1waXhlbC1yYXRpbzogMS4zKSxcbiAqICAgIG9ubHkgc2NyZWVuIGFuZCAobWluLS1tb3otZGV2aWNlLXBpeGVsLXJhdGlvOiAxLjMpLFxuICogICAgb25seSBzY3JlZW4gYW5kICgtby1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAxLjMvMSksXG4gKiAgICBvbmx5IHNjcmVlbiBhbmQgKG1pbi1yZXNvbHV0aW9uOiAxNDRkcGkpLFxuICogICAgb25seSBzY3JlZW4gYW5kIChtaW4tcmVzb2x1dGlvbjogMS41ZHBweCknOiB7XG4gKiAgICAgYmFja2dyb3VuZEltYWdlOiAndXJsKG15LWltZ18yeC5wbmcpJyxcbiAqICAgfVxuICogfVxuICovXG5mdW5jdGlvbiByZXRpbmFJbWFnZShmaWxlbmFtZSwgYmFja2dyb3VuZFNpemUsIGV4dGVuc2lvbiwgcmV0aW5hRmlsZW5hbWUsIHJldGluYVN1ZmZpeCkge1xuICB2YXIgX3JlZjtcblxuICBpZiAoZXh0ZW5zaW9uID09PSB2b2lkIDApIHtcbiAgICBleHRlbnNpb24gPSAncG5nJztcbiAgfVxuXG4gIGlmIChyZXRpbmFTdWZmaXggPT09IHZvaWQgMCkge1xuICAgIHJldGluYVN1ZmZpeCA9ICdfMngnO1xuICB9XG5cbiAgaWYgKCFmaWxlbmFtZSkge1xuICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDU4KTtcbiAgfSAvLyBSZXBsYWNlIHRoZSBkb3QgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgcGFzc2VkIGV4dGVuc2lvbiBpZiBvbmUgZXhpc3RzXG5cblxuICB2YXIgZXh0ID0gZXh0ZW5zaW9uLnJlcGxhY2UoL15cXC4vLCAnJyk7XG4gIHZhciByRmlsZW5hbWUgPSByZXRpbmFGaWxlbmFtZSA/IHJldGluYUZpbGVuYW1lICsgXCIuXCIgKyBleHQgOiBcIlwiICsgZmlsZW5hbWUgKyByZXRpbmFTdWZmaXggKyBcIi5cIiArIGV4dDtcbiAgcmV0dXJuIF9yZWYgPSB7XG4gICAgYmFja2dyb3VuZEltYWdlOiBcInVybChcIiArIGZpbGVuYW1lICsgXCIuXCIgKyBleHQgKyBcIilcIlxuICB9LCBfcmVmW2hpRFBJKCldID0gX2V4dGVuZHMoe1xuICAgIGJhY2tncm91bmRJbWFnZTogXCJ1cmwoXCIgKyByRmlsZW5hbWUgKyBcIilcIlxuICB9LCBiYWNrZ3JvdW5kU2l6ZSA/IHtcbiAgICBiYWNrZ3JvdW5kU2l6ZTogYmFja2dyb3VuZFNpemVcbiAgfSA6IHt9KSwgX3JlZjtcbn1cblxuLyogZXNsaW50LWRpc2FibGUga2V5LXNwYWNpbmcgKi9cbnZhciBmdW5jdGlvbnNNYXAgPSB7XG4gIGVhc2VJbkJhY2s6ICdjdWJpYy1iZXppZXIoMC42MDAsIC0wLjI4MCwgMC43MzUsIDAuMDQ1KScsXG4gIGVhc2VJbkNpcmM6ICdjdWJpYy1iZXppZXIoMC42MDAsICAwLjA0MCwgMC45ODAsIDAuMzM1KScsXG4gIGVhc2VJbkN1YmljOiAnY3ViaWMtYmV6aWVyKDAuNTUwLCAgMC4wNTUsIDAuNjc1LCAwLjE5MCknLFxuICBlYXNlSW5FeHBvOiAnY3ViaWMtYmV6aWVyKDAuOTUwLCAgMC4wNTAsIDAuNzk1LCAwLjAzNSknLFxuICBlYXNlSW5RdWFkOiAnY3ViaWMtYmV6aWVyKDAuNTUwLCAgMC4wODUsIDAuNjgwLCAwLjUzMCknLFxuICBlYXNlSW5RdWFydDogJ2N1YmljLWJlemllcigwLjg5NSwgIDAuMDMwLCAwLjY4NSwgMC4yMjApJyxcbiAgZWFzZUluUXVpbnQ6ICdjdWJpYy1iZXppZXIoMC43NTUsICAwLjA1MCwgMC44NTUsIDAuMDYwKScsXG4gIGVhc2VJblNpbmU6ICdjdWJpYy1iZXppZXIoMC40NzAsICAwLjAwMCwgMC43NDUsIDAuNzE1KScsXG4gIGVhc2VPdXRCYWNrOiAnY3ViaWMtYmV6aWVyKDAuMTc1LCAgMC44ODUsIDAuMzIwLCAxLjI3NSknLFxuICBlYXNlT3V0Q3ViaWM6ICdjdWJpYy1iZXppZXIoMC4yMTUsICAwLjYxMCwgMC4zNTUsIDEuMDAwKScsXG4gIGVhc2VPdXRDaXJjOiAnY3ViaWMtYmV6aWVyKDAuMDc1LCAgMC44MjAsIDAuMTY1LCAxLjAwMCknLFxuICBlYXNlT3V0RXhwbzogJ2N1YmljLWJlemllcigwLjE5MCwgIDEuMDAwLCAwLjIyMCwgMS4wMDApJyxcbiAgZWFzZU91dFF1YWQ6ICdjdWJpYy1iZXppZXIoMC4yNTAsICAwLjQ2MCwgMC40NTAsIDAuOTQwKScsXG4gIGVhc2VPdXRRdWFydDogJ2N1YmljLWJlemllcigwLjE2NSwgIDAuODQwLCAwLjQ0MCwgMS4wMDApJyxcbiAgZWFzZU91dFF1aW50OiAnY3ViaWMtYmV6aWVyKDAuMjMwLCAgMS4wMDAsIDAuMzIwLCAxLjAwMCknLFxuICBlYXNlT3V0U2luZTogJ2N1YmljLWJlemllcigwLjM5MCwgIDAuNTc1LCAwLjU2NSwgMS4wMDApJyxcbiAgZWFzZUluT3V0QmFjazogJ2N1YmljLWJlemllcigwLjY4MCwgLTAuNTUwLCAwLjI2NSwgMS41NTApJyxcbiAgZWFzZUluT3V0Q2lyYzogJ2N1YmljLWJlemllcigwLjc4NSwgIDAuMTM1LCAwLjE1MCwgMC44NjApJyxcbiAgZWFzZUluT3V0Q3ViaWM6ICdjdWJpYy1iZXppZXIoMC42NDUsICAwLjA0NSwgMC4zNTUsIDEuMDAwKScsXG4gIGVhc2VJbk91dEV4cG86ICdjdWJpYy1iZXppZXIoMS4wMDAsICAwLjAwMCwgMC4wMDAsIDEuMDAwKScsXG4gIGVhc2VJbk91dFF1YWQ6ICdjdWJpYy1iZXppZXIoMC40NTUsICAwLjAzMCwgMC41MTUsIDAuOTU1KScsXG4gIGVhc2VJbk91dFF1YXJ0OiAnY3ViaWMtYmV6aWVyKDAuNzcwLCAgMC4wMDAsIDAuMTc1LCAxLjAwMCknLFxuICBlYXNlSW5PdXRRdWludDogJ2N1YmljLWJlemllcigwLjg2MCwgIDAuMDAwLCAwLjA3MCwgMS4wMDApJyxcbiAgZWFzZUluT3V0U2luZTogJ2N1YmljLWJlemllcigwLjQ0NSwgIDAuMDUwLCAwLjU1MCwgMC45NTApJ1xufTtcbi8qIGVzbGludC1lbmFibGUga2V5LXNwYWNpbmcgKi9cblxuZnVuY3Rpb24gZ2V0VGltaW5nRnVuY3Rpb24oZnVuY3Rpb25OYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbnNNYXBbZnVuY3Rpb25OYW1lXTtcbn1cbi8qKlxuICogU3RyaW5nIHRvIHJlcHJlc2VudCBjb21tb24gZWFzaW5nIGZ1bmN0aW9ucyBhcyBkZW1vbnN0cmF0ZWQgaGVyZTogKGdpdGh1Yi5jb20vamF1a2lhL2Vhc2llKS5cbiAqXG4gKiBAZGVwcmVjYXRlZCAtIFRoaXMgd2lsbCBiZSBkZXByZWNhdGVkIGluIHY1IGluIGZhdm9yIG9mIGBlYXNlSW5gLCBgZWFzZU91dGAsIGBlYXNlSW5PdXRgLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgICd0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24nOiB0aW1pbmdGdW5jdGlvbnMoJ2Vhc2VJblF1YWQnKVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiAgY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uOiAke3RpbWluZ0Z1bmN0aW9ucygnZWFzZUluUXVhZCcpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogJ2Rpdic6IHtcbiAqICAgJ3RyYW5zaXRpb25UaW1pbmdGdW5jdGlvbic6ICdjdWJpYy1iZXppZXIoMC41NTAsICAwLjA4NSwgMC42ODAsIDAuNTMwKScsXG4gKiB9XG4gKi9cblxuXG5mdW5jdGlvbiB0aW1pbmdGdW5jdGlvbnModGltaW5nRnVuY3Rpb24pIHtcbiAgcmV0dXJuIGdldFRpbWluZ0Z1bmN0aW9uKHRpbWluZ0Z1bmN0aW9uKTtcbn1cblxudmFyIGdldEJvcmRlcldpZHRoID0gZnVuY3Rpb24gZ2V0Qm9yZGVyV2lkdGgocG9pbnRpbmdEaXJlY3Rpb24sIGhlaWdodCwgd2lkdGgpIHtcbiAgdmFyIGZ1bGxXaWR0aCA9IFwiXCIgKyB3aWR0aFswXSArICh3aWR0aFsxXSB8fCAnJyk7XG4gIHZhciBoYWxmV2lkdGggPSBcIlwiICsgd2lkdGhbMF0gLyAyICsgKHdpZHRoWzFdIHx8ICcnKTtcbiAgdmFyIGZ1bGxIZWlnaHQgPSBcIlwiICsgaGVpZ2h0WzBdICsgKGhlaWdodFsxXSB8fCAnJyk7XG4gIHZhciBoYWxmSGVpZ2h0ID0gXCJcIiArIGhlaWdodFswXSAvIDIgKyAoaGVpZ2h0WzFdIHx8ICcnKTtcblxuICBzd2l0Y2ggKHBvaW50aW5nRGlyZWN0aW9uKSB7XG4gICAgY2FzZSAndG9wJzpcbiAgICAgIHJldHVybiBcIjAgXCIgKyBoYWxmV2lkdGggKyBcIiBcIiArIGZ1bGxIZWlnaHQgKyBcIiBcIiArIGhhbGZXaWR0aDtcblxuICAgIGNhc2UgJ3RvcExlZnQnOlxuICAgICAgcmV0dXJuIGZ1bGxXaWR0aCArIFwiIFwiICsgZnVsbEhlaWdodCArIFwiIDAgMFwiO1xuXG4gICAgY2FzZSAnbGVmdCc6XG4gICAgICByZXR1cm4gaGFsZkhlaWdodCArIFwiIFwiICsgZnVsbFdpZHRoICsgXCIgXCIgKyBoYWxmSGVpZ2h0ICsgXCIgMFwiO1xuXG4gICAgY2FzZSAnYm90dG9tTGVmdCc6XG4gICAgICByZXR1cm4gZnVsbFdpZHRoICsgXCIgMCAwIFwiICsgZnVsbEhlaWdodDtcblxuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICByZXR1cm4gZnVsbEhlaWdodCArIFwiIFwiICsgaGFsZldpZHRoICsgXCIgMCBcIiArIGhhbGZXaWR0aDtcblxuICAgIGNhc2UgJ2JvdHRvbVJpZ2h0JzpcbiAgICAgIHJldHVybiBcIjAgMCBcIiArIGZ1bGxXaWR0aCArIFwiIFwiICsgZnVsbEhlaWdodDtcblxuICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgIHJldHVybiBoYWxmSGVpZ2h0ICsgXCIgMCBcIiArIGhhbGZIZWlnaHQgKyBcIiBcIiArIGZ1bGxXaWR0aDtcblxuICAgIGNhc2UgJ3RvcFJpZ2h0JzpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFwiMCBcIiArIGZ1bGxXaWR0aCArIFwiIFwiICsgZnVsbEhlaWdodCArIFwiIDBcIjtcbiAgfVxufTtcblxudmFyIGdldEJvcmRlckNvbG9yID0gZnVuY3Rpb24gZ2V0Qm9yZGVyQ29sb3IocG9pbnRpbmdEaXJlY3Rpb24sIGZvcmVncm91bmRDb2xvcikge1xuICBzd2l0Y2ggKHBvaW50aW5nRGlyZWN0aW9uKSB7XG4gICAgY2FzZSAndG9wJzpcbiAgICBjYXNlICdib3R0b21SaWdodCc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBib3JkZXJCb3R0b21Db2xvcjogZm9yZWdyb3VuZENvbG9yXG4gICAgICB9O1xuXG4gICAgY2FzZSAncmlnaHQnOlxuICAgIGNhc2UgJ2JvdHRvbUxlZnQnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYm9yZGVyTGVmdENvbG9yOiBmb3JlZ3JvdW5kQ29sb3JcbiAgICAgIH07XG5cbiAgICBjYXNlICdib3R0b20nOlxuICAgIGNhc2UgJ3RvcExlZnQnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYm9yZGVyVG9wQ29sb3I6IGZvcmVncm91bmRDb2xvclxuICAgICAgfTtcblxuICAgIGNhc2UgJ2xlZnQnOlxuICAgIGNhc2UgJ3RvcFJpZ2h0JzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJvcmRlclJpZ2h0Q29sb3I6IGZvcmVncm91bmRDb2xvclxuICAgICAgfTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig1OSk7XG4gIH1cbn07XG4vKipcbiAqIENTUyB0byByZXByZXNlbnQgdHJpYW5nbGUgd2l0aCBhbnkgcG9pbnRpbmcgZGlyZWN0aW9uIHdpdGggYW4gb3B0aW9uYWwgYmFja2dyb3VuZCBjb2xvci5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICpcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgLi4udHJpYW5nbGUoeyBwb2ludGluZ0RpcmVjdGlvbjogJ3JpZ2h0Jywgd2lkdGg6ICcxMDBweCcsIGhlaWdodDogJzEwMHB4JywgZm9yZWdyb3VuZENvbG9yOiAncmVkJyB9KVxuICogfVxuICpcbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgJHt0cmlhbmdsZSh7IHBvaW50aW5nRGlyZWN0aW9uOiAncmlnaHQnLCB3aWR0aDogJzEwMHB4JywgaGVpZ2h0OiAnMTAwcHgnLCBmb3JlZ3JvdW5kQ29sb3I6ICdyZWQnIH0pfVxuICpcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogZGl2OiB7XG4gKiAgJ2JvcmRlckNvbG9yJzogJ3RyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHJlZCcsXG4gKiAgJ2JvcmRlclN0eWxlJzogJ3NvbGlkJyxcbiAqICAnYm9yZGVyV2lkdGgnOiAnNTBweCAwIDUwcHggMTAwcHgnLFxuICogICdoZWlnaHQnOiAnMCcsXG4gKiAgJ3dpZHRoJzogJzAnLFxuICogfVxuICovXG5cblxuZnVuY3Rpb24gdHJpYW5nbGUoX3JlZikge1xuICB2YXIgcG9pbnRpbmdEaXJlY3Rpb24gPSBfcmVmLnBvaW50aW5nRGlyZWN0aW9uLFxuICAgICAgaGVpZ2h0ID0gX3JlZi5oZWlnaHQsXG4gICAgICB3aWR0aCA9IF9yZWYud2lkdGgsXG4gICAgICBmb3JlZ3JvdW5kQ29sb3IgPSBfcmVmLmZvcmVncm91bmRDb2xvcixcbiAgICAgIF9yZWYkYmFja2dyb3VuZENvbG9yID0gX3JlZi5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBfcmVmJGJhY2tncm91bmRDb2xvciA9PT0gdm9pZCAwID8gJ3RyYW5zcGFyZW50JyA6IF9yZWYkYmFja2dyb3VuZENvbG9yO1xuICB2YXIgd2lkdGhBbmRVbml0ID0gZ2V0VmFsdWVBbmRVbml0KHdpZHRoKTtcbiAgdmFyIGhlaWdodEFuZFVuaXQgPSBnZXRWYWx1ZUFuZFVuaXQoaGVpZ2h0KTtcblxuICBpZiAoaXNOYU4oaGVpZ2h0QW5kVW5pdFswXSkgfHwgaXNOYU4od2lkdGhBbmRVbml0WzBdKSkge1xuICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDYwKTtcbiAgfVxuXG4gIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgd2lkdGg6ICcwJyxcbiAgICBoZWlnaHQ6ICcwJyxcbiAgICBib3JkZXJDb2xvcjogYmFja2dyb3VuZENvbG9yXG4gIH0sIGdldEJvcmRlckNvbG9yKHBvaW50aW5nRGlyZWN0aW9uLCBmb3JlZ3JvdW5kQ29sb3IpLCB7XG4gICAgYm9yZGVyU3R5bGU6ICdzb2xpZCcsXG4gICAgYm9yZGVyV2lkdGg6IGdldEJvcmRlcldpZHRoKHBvaW50aW5nRGlyZWN0aW9uLCBoZWlnaHRBbmRVbml0LCB3aWR0aEFuZFVuaXQpXG4gIH0pO1xufVxuXG4vKipcbiAqIFByb3ZpZGVzIGFuIGVhc3kgd2F5IHRvIGNoYW5nZSB0aGUgYHdvcmRXcmFwYCBwcm9wZXJ0eS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAuLi53b3JkV3JhcCgnYnJlYWstd29yZCcpXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgICR7d29yZFdyYXAoJ2JyZWFrLXdvcmQnKX1cbiAqIGBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBvdmVyZmxvd1dyYXA6ICdicmVhay13b3JkJyxcbiAqICAgd29yZFdyYXA6ICdicmVhay13b3JkJyxcbiAqICAgd29yZEJyZWFrOiAnYnJlYWstYWxsJyxcbiAqIH1cbiAqL1xuZnVuY3Rpb24gd29yZFdyYXAod3JhcCkge1xuICBpZiAod3JhcCA9PT0gdm9pZCAwKSB7XG4gICAgd3JhcCA9ICdicmVhay13b3JkJztcbiAgfVxuXG4gIHZhciB3b3JkQnJlYWsgPSB3cmFwID09PSAnYnJlYWstd29yZCcgPyAnYnJlYWstYWxsJyA6IHdyYXA7XG4gIHJldHVybiB7XG4gICAgb3ZlcmZsb3dXcmFwOiB3cmFwLFxuICAgIHdvcmRXcmFwOiB3cmFwLFxuICAgIHdvcmRCcmVhazogd29yZEJyZWFrXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNvbG9yVG9JbnQoY29sb3IpIHtcbiAgcmV0dXJuIE1hdGgucm91bmQoY29sb3IgKiAyNTUpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0VG9JbnQocmVkLCBncmVlbiwgYmx1ZSkge1xuICByZXR1cm4gY29sb3JUb0ludChyZWQpICsgXCIsXCIgKyBjb2xvclRvSW50KGdyZWVuKSArIFwiLFwiICsgY29sb3JUb0ludChibHVlKTtcbn1cblxuZnVuY3Rpb24gaHNsVG9SZ2IoaHVlLCBzYXR1cmF0aW9uLCBsaWdodG5lc3MsIGNvbnZlcnQpIHtcbiAgaWYgKGNvbnZlcnQgPT09IHZvaWQgMCkge1xuICAgIGNvbnZlcnQgPSBjb252ZXJ0VG9JbnQ7XG4gIH1cblxuICBpZiAoc2F0dXJhdGlvbiA9PT0gMCkge1xuICAgIC8vIGFjaHJvbWF0aWNcbiAgICByZXR1cm4gY29udmVydChsaWdodG5lc3MsIGxpZ2h0bmVzcywgbGlnaHRuZXNzKTtcbiAgfSAvLyBmb3JtdWxhZSBmcm9tIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hTTF9hbmRfSFNWXG5cblxuICB2YXIgaHVlUHJpbWUgPSAoaHVlICUgMzYwICsgMzYwKSAlIDM2MCAvIDYwO1xuICB2YXIgY2hyb21hID0gKDEgLSBNYXRoLmFicygyICogbGlnaHRuZXNzIC0gMSkpICogc2F0dXJhdGlvbjtcbiAgdmFyIHNlY29uZENvbXBvbmVudCA9IGNocm9tYSAqICgxIC0gTWF0aC5hYnMoaHVlUHJpbWUgJSAyIC0gMSkpO1xuICB2YXIgcmVkID0gMDtcbiAgdmFyIGdyZWVuID0gMDtcbiAgdmFyIGJsdWUgPSAwO1xuXG4gIGlmIChodWVQcmltZSA+PSAwICYmIGh1ZVByaW1lIDwgMSkge1xuICAgIHJlZCA9IGNocm9tYTtcbiAgICBncmVlbiA9IHNlY29uZENvbXBvbmVudDtcbiAgfSBlbHNlIGlmIChodWVQcmltZSA+PSAxICYmIGh1ZVByaW1lIDwgMikge1xuICAgIHJlZCA9IHNlY29uZENvbXBvbmVudDtcbiAgICBncmVlbiA9IGNocm9tYTtcbiAgfSBlbHNlIGlmIChodWVQcmltZSA+PSAyICYmIGh1ZVByaW1lIDwgMykge1xuICAgIGdyZWVuID0gY2hyb21hO1xuICAgIGJsdWUgPSBzZWNvbmRDb21wb25lbnQ7XG4gIH0gZWxzZSBpZiAoaHVlUHJpbWUgPj0gMyAmJiBodWVQcmltZSA8IDQpIHtcbiAgICBncmVlbiA9IHNlY29uZENvbXBvbmVudDtcbiAgICBibHVlID0gY2hyb21hO1xuICB9IGVsc2UgaWYgKGh1ZVByaW1lID49IDQgJiYgaHVlUHJpbWUgPCA1KSB7XG4gICAgcmVkID0gc2Vjb25kQ29tcG9uZW50O1xuICAgIGJsdWUgPSBjaHJvbWE7XG4gIH0gZWxzZSBpZiAoaHVlUHJpbWUgPj0gNSAmJiBodWVQcmltZSA8IDYpIHtcbiAgICByZWQgPSBjaHJvbWE7XG4gICAgYmx1ZSA9IHNlY29uZENvbXBvbmVudDtcbiAgfVxuXG4gIHZhciBsaWdodG5lc3NNb2RpZmljYXRpb24gPSBsaWdodG5lc3MgLSBjaHJvbWEgLyAyO1xuICB2YXIgZmluYWxSZWQgPSByZWQgKyBsaWdodG5lc3NNb2RpZmljYXRpb247XG4gIHZhciBmaW5hbEdyZWVuID0gZ3JlZW4gKyBsaWdodG5lc3NNb2RpZmljYXRpb247XG4gIHZhciBmaW5hbEJsdWUgPSBibHVlICsgbGlnaHRuZXNzTW9kaWZpY2F0aW9uO1xuICByZXR1cm4gY29udmVydChmaW5hbFJlZCwgZmluYWxHcmVlbiwgZmluYWxCbHVlKTtcbn1cblxudmFyIG5hbWVkQ29sb3JNYXAgPSB7XG4gIGFsaWNlYmx1ZTogJ2YwZjhmZicsXG4gIGFudGlxdWV3aGl0ZTogJ2ZhZWJkNycsXG4gIGFxdWE6ICcwMGZmZmYnLFxuICBhcXVhbWFyaW5lOiAnN2ZmZmQ0JyxcbiAgYXp1cmU6ICdmMGZmZmYnLFxuICBiZWlnZTogJ2Y1ZjVkYycsXG4gIGJpc3F1ZTogJ2ZmZTRjNCcsXG4gIGJsYWNrOiAnMDAwJyxcbiAgYmxhbmNoZWRhbG1vbmQ6ICdmZmViY2QnLFxuICBibHVlOiAnMDAwMGZmJyxcbiAgYmx1ZXZpb2xldDogJzhhMmJlMicsXG4gIGJyb3duOiAnYTUyYTJhJyxcbiAgYnVybHl3b29kOiAnZGViODg3JyxcbiAgY2FkZXRibHVlOiAnNWY5ZWEwJyxcbiAgY2hhcnRyZXVzZTogJzdmZmYwMCcsXG4gIGNob2NvbGF0ZTogJ2QyNjkxZScsXG4gIGNvcmFsOiAnZmY3ZjUwJyxcbiAgY29ybmZsb3dlcmJsdWU6ICc2NDk1ZWQnLFxuICBjb3Juc2lsazogJ2ZmZjhkYycsXG4gIGNyaW1zb246ICdkYzE0M2MnLFxuICBjeWFuOiAnMDBmZmZmJyxcbiAgZGFya2JsdWU6ICcwMDAwOGInLFxuICBkYXJrY3lhbjogJzAwOGI4YicsXG4gIGRhcmtnb2xkZW5yb2Q6ICdiODg2MGInLFxuICBkYXJrZ3JheTogJ2E5YTlhOScsXG4gIGRhcmtncmVlbjogJzAwNjQwMCcsXG4gIGRhcmtncmV5OiAnYTlhOWE5JyxcbiAgZGFya2toYWtpOiAnYmRiNzZiJyxcbiAgZGFya21hZ2VudGE6ICc4YjAwOGInLFxuICBkYXJrb2xpdmVncmVlbjogJzU1NmIyZicsXG4gIGRhcmtvcmFuZ2U6ICdmZjhjMDAnLFxuICBkYXJrb3JjaGlkOiAnOTkzMmNjJyxcbiAgZGFya3JlZDogJzhiMDAwMCcsXG4gIGRhcmtzYWxtb246ICdlOTk2N2EnLFxuICBkYXJrc2VhZ3JlZW46ICc4ZmJjOGYnLFxuICBkYXJrc2xhdGVibHVlOiAnNDgzZDhiJyxcbiAgZGFya3NsYXRlZ3JheTogJzJmNGY0ZicsXG4gIGRhcmtzbGF0ZWdyZXk6ICcyZjRmNGYnLFxuICBkYXJrdHVycXVvaXNlOiAnMDBjZWQxJyxcbiAgZGFya3Zpb2xldDogJzk0MDBkMycsXG4gIGRlZXBwaW5rOiAnZmYxNDkzJyxcbiAgZGVlcHNreWJsdWU6ICcwMGJmZmYnLFxuICBkaW1ncmF5OiAnNjk2OTY5JyxcbiAgZGltZ3JleTogJzY5Njk2OScsXG4gIGRvZGdlcmJsdWU6ICcxZTkwZmYnLFxuICBmaXJlYnJpY2s6ICdiMjIyMjInLFxuICBmbG9yYWx3aGl0ZTogJ2ZmZmFmMCcsXG4gIGZvcmVzdGdyZWVuOiAnMjI4YjIyJyxcbiAgZnVjaHNpYTogJ2ZmMDBmZicsXG4gIGdhaW5zYm9ybzogJ2RjZGNkYycsXG4gIGdob3N0d2hpdGU6ICdmOGY4ZmYnLFxuICBnb2xkOiAnZmZkNzAwJyxcbiAgZ29sZGVucm9kOiAnZGFhNTIwJyxcbiAgZ3JheTogJzgwODA4MCcsXG4gIGdyZWVuOiAnMDA4MDAwJyxcbiAgZ3JlZW55ZWxsb3c6ICdhZGZmMmYnLFxuICBncmV5OiAnODA4MDgwJyxcbiAgaG9uZXlkZXc6ICdmMGZmZjAnLFxuICBob3RwaW5rOiAnZmY2OWI0JyxcbiAgaW5kaWFucmVkOiAnY2Q1YzVjJyxcbiAgaW5kaWdvOiAnNGIwMDgyJyxcbiAgaXZvcnk6ICdmZmZmZjAnLFxuICBraGFraTogJ2YwZTY4YycsXG4gIGxhdmVuZGVyOiAnZTZlNmZhJyxcbiAgbGF2ZW5kZXJibHVzaDogJ2ZmZjBmNScsXG4gIGxhd25ncmVlbjogJzdjZmMwMCcsXG4gIGxlbW9uY2hpZmZvbjogJ2ZmZmFjZCcsXG4gIGxpZ2h0Ymx1ZTogJ2FkZDhlNicsXG4gIGxpZ2h0Y29yYWw6ICdmMDgwODAnLFxuICBsaWdodGN5YW46ICdlMGZmZmYnLFxuICBsaWdodGdvbGRlbnJvZHllbGxvdzogJ2ZhZmFkMicsXG4gIGxpZ2h0Z3JheTogJ2QzZDNkMycsXG4gIGxpZ2h0Z3JlZW46ICc5MGVlOTAnLFxuICBsaWdodGdyZXk6ICdkM2QzZDMnLFxuICBsaWdodHBpbms6ICdmZmI2YzEnLFxuICBsaWdodHNhbG1vbjogJ2ZmYTA3YScsXG4gIGxpZ2h0c2VhZ3JlZW46ICcyMGIyYWEnLFxuICBsaWdodHNreWJsdWU6ICc4N2NlZmEnLFxuICBsaWdodHNsYXRlZ3JheTogJzc4OScsXG4gIGxpZ2h0c2xhdGVncmV5OiAnNzg5JyxcbiAgbGlnaHRzdGVlbGJsdWU6ICdiMGM0ZGUnLFxuICBsaWdodHllbGxvdzogJ2ZmZmZlMCcsXG4gIGxpbWU6ICcwZjAnLFxuICBsaW1lZ3JlZW46ICczMmNkMzInLFxuICBsaW5lbjogJ2ZhZjBlNicsXG4gIG1hZ2VudGE6ICdmMGYnLFxuICBtYXJvb246ICc4MDAwMDAnLFxuICBtZWRpdW1hcXVhbWFyaW5lOiAnNjZjZGFhJyxcbiAgbWVkaXVtYmx1ZTogJzAwMDBjZCcsXG4gIG1lZGl1bW9yY2hpZDogJ2JhNTVkMycsXG4gIG1lZGl1bXB1cnBsZTogJzkzNzBkYicsXG4gIG1lZGl1bXNlYWdyZWVuOiAnM2NiMzcxJyxcbiAgbWVkaXVtc2xhdGVibHVlOiAnN2I2OGVlJyxcbiAgbWVkaXVtc3ByaW5nZ3JlZW46ICcwMGZhOWEnLFxuICBtZWRpdW10dXJxdW9pc2U6ICc0OGQxY2MnLFxuICBtZWRpdW12aW9sZXRyZWQ6ICdjNzE1ODUnLFxuICBtaWRuaWdodGJsdWU6ICcxOTE5NzAnLFxuICBtaW50Y3JlYW06ICdmNWZmZmEnLFxuICBtaXN0eXJvc2U6ICdmZmU0ZTEnLFxuICBtb2NjYXNpbjogJ2ZmZTRiNScsXG4gIG5hdmFqb3doaXRlOiAnZmZkZWFkJyxcbiAgbmF2eTogJzAwMDA4MCcsXG4gIG9sZGxhY2U6ICdmZGY1ZTYnLFxuICBvbGl2ZTogJzgwODAwMCcsXG4gIG9saXZlZHJhYjogJzZiOGUyMycsXG4gIG9yYW5nZTogJ2ZmYTUwMCcsXG4gIG9yYW5nZXJlZDogJ2ZmNDUwMCcsXG4gIG9yY2hpZDogJ2RhNzBkNicsXG4gIHBhbGVnb2xkZW5yb2Q6ICdlZWU4YWEnLFxuICBwYWxlZ3JlZW46ICc5OGZiOTgnLFxuICBwYWxldHVycXVvaXNlOiAnYWZlZWVlJyxcbiAgcGFsZXZpb2xldHJlZDogJ2RiNzA5MycsXG4gIHBhcGF5YXdoaXA6ICdmZmVmZDUnLFxuICBwZWFjaHB1ZmY6ICdmZmRhYjknLFxuICBwZXJ1OiAnY2Q4NTNmJyxcbiAgcGluazogJ2ZmYzBjYicsXG4gIHBsdW06ICdkZGEwZGQnLFxuICBwb3dkZXJibHVlOiAnYjBlMGU2JyxcbiAgcHVycGxlOiAnODAwMDgwJyxcbiAgcmViZWNjYXB1cnBsZTogJzYzOScsXG4gIHJlZDogJ2YwMCcsXG4gIHJvc3licm93bjogJ2JjOGY4ZicsXG4gIHJveWFsYmx1ZTogJzQxNjllMScsXG4gIHNhZGRsZWJyb3duOiAnOGI0NTEzJyxcbiAgc2FsbW9uOiAnZmE4MDcyJyxcbiAgc2FuZHlicm93bjogJ2Y0YTQ2MCcsXG4gIHNlYWdyZWVuOiAnMmU4YjU3JyxcbiAgc2Vhc2hlbGw6ICdmZmY1ZWUnLFxuICBzaWVubmE6ICdhMDUyMmQnLFxuICBzaWx2ZXI6ICdjMGMwYzAnLFxuICBza3libHVlOiAnODdjZWViJyxcbiAgc2xhdGVibHVlOiAnNmE1YWNkJyxcbiAgc2xhdGVncmF5OiAnNzA4MDkwJyxcbiAgc2xhdGVncmV5OiAnNzA4MDkwJyxcbiAgc25vdzogJ2ZmZmFmYScsXG4gIHNwcmluZ2dyZWVuOiAnMDBmZjdmJyxcbiAgc3RlZWxibHVlOiAnNDY4MmI0JyxcbiAgdGFuOiAnZDJiNDhjJyxcbiAgdGVhbDogJzAwODA4MCcsXG4gIHRoaXN0bGU6ICdkOGJmZDgnLFxuICB0b21hdG86ICdmZjYzNDcnLFxuICB0dXJxdW9pc2U6ICc0MGUwZDAnLFxuICB2aW9sZXQ6ICdlZTgyZWUnLFxuICB3aGVhdDogJ2Y1ZGViMycsXG4gIHdoaXRlOiAnZmZmJyxcbiAgd2hpdGVzbW9rZTogJ2Y1ZjVmNScsXG4gIHllbGxvdzogJ2ZmMCcsXG4gIHllbGxvd2dyZWVuOiAnOWFjZDMyJ1xufTtcbi8qKlxuICogQ2hlY2tzIGlmIGEgc3RyaW5nIGlzIGEgQ1NTIG5hbWVkIGNvbG9yIGFuZCByZXR1cm5zIGl0cyBlcXVpdmFsZW50IGhleCB2YWx1ZSwgb3RoZXJ3aXNlIHJldHVybnMgdGhlIG9yaWdpbmFsIGNvbG9yLlxuICogQHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBuYW1lVG9IZXgoY29sb3IpIHtcbiAgaWYgKHR5cGVvZiBjb2xvciAhPT0gJ3N0cmluZycpIHJldHVybiBjb2xvcjtcbiAgdmFyIG5vcm1hbGl6ZWRDb2xvck5hbWUgPSBjb2xvci50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gbmFtZWRDb2xvck1hcFtub3JtYWxpemVkQ29sb3JOYW1lXSA/IFwiI1wiICsgbmFtZWRDb2xvck1hcFtub3JtYWxpemVkQ29sb3JOYW1lXSA6IGNvbG9yO1xufVxuXG52YXIgaGV4UmVnZXggPSAvXiNbYS1mQS1GMC05XXs2fSQvO1xudmFyIGhleFJnYmFSZWdleCA9IC9eI1thLWZBLUYwLTldezh9JC87XG52YXIgcmVkdWNlZEhleFJlZ2V4ID0gL14jW2EtZkEtRjAtOV17M30kLztcbnZhciByZWR1Y2VkUmdiYUhleFJlZ2V4ID0gL14jW2EtZkEtRjAtOV17NH0kLztcbnZhciByZ2JSZWdleCA9IC9ecmdiXFwoXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZHsxLDN9KVxccypcXCkkL2k7XG52YXIgcmdiYVJlZ2V4ID0gL15yZ2JhXFwoXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZHsxLDN9KVxccyosXFxzKihbLStdP1swLTldKlsuXT9bMC05XSspXFxzKlxcKSQvaTtcbnZhciBoc2xSZWdleCA9IC9eaHNsXFwoXFxzKihcXGR7MCwzfVsuXT9bMC05XSspXFxzKixcXHMqKFxcZHsxLDN9Wy5dP1swLTldPyklXFxzKixcXHMqKFxcZHsxLDN9Wy5dP1swLTldPyklXFxzKlxcKSQvaTtcbnZhciBoc2xhUmVnZXggPSAvXmhzbGFcXChcXHMqKFxcZHswLDN9Wy5dP1swLTldKylcXHMqLFxccyooXFxkezEsM31bLl0/WzAtOV0/KSVcXHMqLFxccyooXFxkezEsM31bLl0/WzAtOV0/KSVcXHMqLFxccyooWy0rXT9bMC05XSpbLl0/WzAtOV0rKVxccypcXCkkL2k7XG4vKipcbiAqIFJldHVybnMgYW4gUmdiQ29sb3Igb3IgUmdiYUNvbG9yIG9iamVjdC4gVGhpcyB1dGlsaXR5IGZ1bmN0aW9uIGlzIG9ubHkgdXNlZnVsXG4gKiBpZiB3YW50IHRvIGV4dHJhY3QgYSBjb2xvciBjb21wb25lbnQuIFdpdGggdGhlIGNvbG9yIHV0aWwgYHRvQ29sb3JTdHJpbmdgIHlvdVxuICogY2FuIGNvbnZlcnQgYSBSZ2JDb2xvciBvciBSZ2JhQ29sb3Igb2JqZWN0IGJhY2sgdG8gYSBzdHJpbmcuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFzc2lnbnMgYHsgcmVkOiAyNTUsIGdyZWVuOiAwLCBibHVlOiAwIH1gIHRvIGNvbG9yMVxuICogY29uc3QgY29sb3IxID0gcGFyc2VUb1JnYigncmdiKDI1NSwgMCwgMCknKTtcbiAqIC8vIEFzc2lnbnMgYHsgcmVkOiA5MiwgZ3JlZW46IDEwMiwgYmx1ZTogMTEyLCBhbHBoYTogMC43NSB9YCB0byBjb2xvcjJcbiAqIGNvbnN0IGNvbG9yMiA9IHBhcnNlVG9SZ2IoJ2hzbGEoMjEwLCAxMCUsIDQwJSwgMC43NSknKTtcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZVRvUmdiKGNvbG9yKSB7XG4gIGlmICh0eXBlb2YgY29sb3IgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoMyk7XG4gIH1cblxuICB2YXIgbm9ybWFsaXplZENvbG9yID0gbmFtZVRvSGV4KGNvbG9yKTtcblxuICBpZiAobm9ybWFsaXplZENvbG9yLm1hdGNoKGhleFJlZ2V4KSkge1xuICAgIHJldHVybiB7XG4gICAgICByZWQ6IHBhcnNlSW50KFwiXCIgKyBub3JtYWxpemVkQ29sb3JbMV0gKyBub3JtYWxpemVkQ29sb3JbMl0sIDE2KSxcbiAgICAgIGdyZWVuOiBwYXJzZUludChcIlwiICsgbm9ybWFsaXplZENvbG9yWzNdICsgbm9ybWFsaXplZENvbG9yWzRdLCAxNiksXG4gICAgICBibHVlOiBwYXJzZUludChcIlwiICsgbm9ybWFsaXplZENvbG9yWzVdICsgbm9ybWFsaXplZENvbG9yWzZdLCAxNilcbiAgICB9O1xuICB9XG5cbiAgaWYgKG5vcm1hbGl6ZWRDb2xvci5tYXRjaChoZXhSZ2JhUmVnZXgpKSB7XG4gICAgdmFyIGFscGhhID0gcGFyc2VGbG9hdCgocGFyc2VJbnQoXCJcIiArIG5vcm1hbGl6ZWRDb2xvcls3XSArIG5vcm1hbGl6ZWRDb2xvcls4XSwgMTYpIC8gMjU1KS50b0ZpeGVkKDIpKTtcbiAgICByZXR1cm4ge1xuICAgICAgcmVkOiBwYXJzZUludChcIlwiICsgbm9ybWFsaXplZENvbG9yWzFdICsgbm9ybWFsaXplZENvbG9yWzJdLCAxNiksXG4gICAgICBncmVlbjogcGFyc2VJbnQoXCJcIiArIG5vcm1hbGl6ZWRDb2xvclszXSArIG5vcm1hbGl6ZWRDb2xvcls0XSwgMTYpLFxuICAgICAgYmx1ZTogcGFyc2VJbnQoXCJcIiArIG5vcm1hbGl6ZWRDb2xvcls1XSArIG5vcm1hbGl6ZWRDb2xvcls2XSwgMTYpLFxuICAgICAgYWxwaGE6IGFscGhhXG4gICAgfTtcbiAgfVxuXG4gIGlmIChub3JtYWxpemVkQ29sb3IubWF0Y2gocmVkdWNlZEhleFJlZ2V4KSkge1xuICAgIHJldHVybiB7XG4gICAgICByZWQ6IHBhcnNlSW50KFwiXCIgKyBub3JtYWxpemVkQ29sb3JbMV0gKyBub3JtYWxpemVkQ29sb3JbMV0sIDE2KSxcbiAgICAgIGdyZWVuOiBwYXJzZUludChcIlwiICsgbm9ybWFsaXplZENvbG9yWzJdICsgbm9ybWFsaXplZENvbG9yWzJdLCAxNiksXG4gICAgICBibHVlOiBwYXJzZUludChcIlwiICsgbm9ybWFsaXplZENvbG9yWzNdICsgbm9ybWFsaXplZENvbG9yWzNdLCAxNilcbiAgICB9O1xuICB9XG5cbiAgaWYgKG5vcm1hbGl6ZWRDb2xvci5tYXRjaChyZWR1Y2VkUmdiYUhleFJlZ2V4KSkge1xuICAgIHZhciBfYWxwaGEgPSBwYXJzZUZsb2F0KChwYXJzZUludChcIlwiICsgbm9ybWFsaXplZENvbG9yWzRdICsgbm9ybWFsaXplZENvbG9yWzRdLCAxNikgLyAyNTUpLnRvRml4ZWQoMikpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZDogcGFyc2VJbnQoXCJcIiArIG5vcm1hbGl6ZWRDb2xvclsxXSArIG5vcm1hbGl6ZWRDb2xvclsxXSwgMTYpLFxuICAgICAgZ3JlZW46IHBhcnNlSW50KFwiXCIgKyBub3JtYWxpemVkQ29sb3JbMl0gKyBub3JtYWxpemVkQ29sb3JbMl0sIDE2KSxcbiAgICAgIGJsdWU6IHBhcnNlSW50KFwiXCIgKyBub3JtYWxpemVkQ29sb3JbM10gKyBub3JtYWxpemVkQ29sb3JbM10sIDE2KSxcbiAgICAgIGFscGhhOiBfYWxwaGFcbiAgICB9O1xuICB9XG5cbiAgdmFyIHJnYk1hdGNoZWQgPSByZ2JSZWdleC5leGVjKG5vcm1hbGl6ZWRDb2xvcik7XG5cbiAgaWYgKHJnYk1hdGNoZWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVkOiBwYXJzZUludChcIlwiICsgcmdiTWF0Y2hlZFsxXSwgMTApLFxuICAgICAgZ3JlZW46IHBhcnNlSW50KFwiXCIgKyByZ2JNYXRjaGVkWzJdLCAxMCksXG4gICAgICBibHVlOiBwYXJzZUludChcIlwiICsgcmdiTWF0Y2hlZFszXSwgMTApXG4gICAgfTtcbiAgfVxuXG4gIHZhciByZ2JhTWF0Y2hlZCA9IHJnYmFSZWdleC5leGVjKG5vcm1hbGl6ZWRDb2xvcik7XG5cbiAgaWYgKHJnYmFNYXRjaGVkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZDogcGFyc2VJbnQoXCJcIiArIHJnYmFNYXRjaGVkWzFdLCAxMCksXG4gICAgICBncmVlbjogcGFyc2VJbnQoXCJcIiArIHJnYmFNYXRjaGVkWzJdLCAxMCksXG4gICAgICBibHVlOiBwYXJzZUludChcIlwiICsgcmdiYU1hdGNoZWRbM10sIDEwKSxcbiAgICAgIGFscGhhOiBwYXJzZUZsb2F0KFwiXCIgKyByZ2JhTWF0Y2hlZFs0XSlcbiAgICB9O1xuICB9XG5cbiAgdmFyIGhzbE1hdGNoZWQgPSBoc2xSZWdleC5leGVjKG5vcm1hbGl6ZWRDb2xvcik7XG5cbiAgaWYgKGhzbE1hdGNoZWQpIHtcbiAgICB2YXIgaHVlID0gcGFyc2VJbnQoXCJcIiArIGhzbE1hdGNoZWRbMV0sIDEwKTtcbiAgICB2YXIgc2F0dXJhdGlvbiA9IHBhcnNlSW50KFwiXCIgKyBoc2xNYXRjaGVkWzJdLCAxMCkgLyAxMDA7XG4gICAgdmFyIGxpZ2h0bmVzcyA9IHBhcnNlSW50KFwiXCIgKyBoc2xNYXRjaGVkWzNdLCAxMCkgLyAxMDA7XG4gICAgdmFyIHJnYkNvbG9yU3RyaW5nID0gXCJyZ2IoXCIgKyBoc2xUb1JnYihodWUsIHNhdHVyYXRpb24sIGxpZ2h0bmVzcykgKyBcIilcIjtcbiAgICB2YXIgaHNsUmdiTWF0Y2hlZCA9IHJnYlJlZ2V4LmV4ZWMocmdiQ29sb3JTdHJpbmcpO1xuXG4gICAgaWYgKCFoc2xSZ2JNYXRjaGVkKSB7XG4gICAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig0LCBub3JtYWxpemVkQ29sb3IsIHJnYkNvbG9yU3RyaW5nKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVkOiBwYXJzZUludChcIlwiICsgaHNsUmdiTWF0Y2hlZFsxXSwgMTApLFxuICAgICAgZ3JlZW46IHBhcnNlSW50KFwiXCIgKyBoc2xSZ2JNYXRjaGVkWzJdLCAxMCksXG4gICAgICBibHVlOiBwYXJzZUludChcIlwiICsgaHNsUmdiTWF0Y2hlZFszXSwgMTApXG4gICAgfTtcbiAgfVxuXG4gIHZhciBoc2xhTWF0Y2hlZCA9IGhzbGFSZWdleC5leGVjKG5vcm1hbGl6ZWRDb2xvcik7XG5cbiAgaWYgKGhzbGFNYXRjaGVkKSB7XG4gICAgdmFyIF9odWUgPSBwYXJzZUludChcIlwiICsgaHNsYU1hdGNoZWRbMV0sIDEwKTtcblxuICAgIHZhciBfc2F0dXJhdGlvbiA9IHBhcnNlSW50KFwiXCIgKyBoc2xhTWF0Y2hlZFsyXSwgMTApIC8gMTAwO1xuXG4gICAgdmFyIF9saWdodG5lc3MgPSBwYXJzZUludChcIlwiICsgaHNsYU1hdGNoZWRbM10sIDEwKSAvIDEwMDtcblxuICAgIHZhciBfcmdiQ29sb3JTdHJpbmcgPSBcInJnYihcIiArIGhzbFRvUmdiKF9odWUsIF9zYXR1cmF0aW9uLCBfbGlnaHRuZXNzKSArIFwiKVwiO1xuXG4gICAgdmFyIF9oc2xSZ2JNYXRjaGVkID0gcmdiUmVnZXguZXhlYyhfcmdiQ29sb3JTdHJpbmcpO1xuXG4gICAgaWYgKCFfaHNsUmdiTWF0Y2hlZCkge1xuICAgICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNCwgbm9ybWFsaXplZENvbG9yLCBfcmdiQ29sb3JTdHJpbmcpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICByZWQ6IHBhcnNlSW50KFwiXCIgKyBfaHNsUmdiTWF0Y2hlZFsxXSwgMTApLFxuICAgICAgZ3JlZW46IHBhcnNlSW50KFwiXCIgKyBfaHNsUmdiTWF0Y2hlZFsyXSwgMTApLFxuICAgICAgYmx1ZTogcGFyc2VJbnQoXCJcIiArIF9oc2xSZ2JNYXRjaGVkWzNdLCAxMCksXG4gICAgICBhbHBoYTogcGFyc2VGbG9hdChcIlwiICsgaHNsYU1hdGNoZWRbNF0pXG4gICAgfTtcbiAgfVxuXG4gIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDUpO1xufVxuXG5mdW5jdGlvbiByZ2JUb0hzbChjb2xvcikge1xuICAvLyBtYWtlIHN1cmUgcmdiIGFyZSBjb250YWluZWQgaW4gYSBzZXQgb2YgWzAsIDI1NV1cbiAgdmFyIHJlZCA9IGNvbG9yLnJlZCAvIDI1NTtcbiAgdmFyIGdyZWVuID0gY29sb3IuZ3JlZW4gLyAyNTU7XG4gIHZhciBibHVlID0gY29sb3IuYmx1ZSAvIDI1NTtcbiAgdmFyIG1heCA9IE1hdGgubWF4KHJlZCwgZ3JlZW4sIGJsdWUpO1xuICB2YXIgbWluID0gTWF0aC5taW4ocmVkLCBncmVlbiwgYmx1ZSk7XG4gIHZhciBsaWdodG5lc3MgPSAobWF4ICsgbWluKSAvIDI7XG5cbiAgaWYgKG1heCA9PT0gbWluKSB7XG4gICAgLy8gYWNocm9tYXRpY1xuICAgIGlmIChjb2xvci5hbHBoYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBodWU6IDAsXG4gICAgICAgIHNhdHVyYXRpb246IDAsXG4gICAgICAgIGxpZ2h0bmVzczogbGlnaHRuZXNzLFxuICAgICAgICBhbHBoYTogY29sb3IuYWxwaGFcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGh1ZTogMCxcbiAgICAgICAgc2F0dXJhdGlvbjogMCxcbiAgICAgICAgbGlnaHRuZXNzOiBsaWdodG5lc3NcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIGh1ZTtcbiAgdmFyIGRlbHRhID0gbWF4IC0gbWluO1xuICB2YXIgc2F0dXJhdGlvbiA9IGxpZ2h0bmVzcyA+IDAuNSA/IGRlbHRhIC8gKDIgLSBtYXggLSBtaW4pIDogZGVsdGEgLyAobWF4ICsgbWluKTtcblxuICBzd2l0Y2ggKG1heCkge1xuICAgIGNhc2UgcmVkOlxuICAgICAgaHVlID0gKGdyZWVuIC0gYmx1ZSkgLyBkZWx0YSArIChncmVlbiA8IGJsdWUgPyA2IDogMCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgZ3JlZW46XG4gICAgICBodWUgPSAoYmx1ZSAtIHJlZCkgLyBkZWx0YSArIDI7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBibHVlIGNhc2VcbiAgICAgIGh1ZSA9IChyZWQgLSBncmVlbikgLyBkZWx0YSArIDQ7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGh1ZSAqPSA2MDtcblxuICBpZiAoY29sb3IuYWxwaGEgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB7XG4gICAgICBodWU6IGh1ZSxcbiAgICAgIHNhdHVyYXRpb246IHNhdHVyYXRpb24sXG4gICAgICBsaWdodG5lc3M6IGxpZ2h0bmVzcyxcbiAgICAgIGFscGhhOiBjb2xvci5hbHBoYVxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGh1ZTogaHVlLFxuICAgIHNhdHVyYXRpb246IHNhdHVyYXRpb24sXG4gICAgbGlnaHRuZXNzOiBsaWdodG5lc3NcbiAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIEhzbENvbG9yIG9yIEhzbGFDb2xvciBvYmplY3QuIFRoaXMgdXRpbGl0eSBmdW5jdGlvbiBpcyBvbmx5IHVzZWZ1bFxuICogaWYgd2FudCB0byBleHRyYWN0IGEgY29sb3IgY29tcG9uZW50LiBXaXRoIHRoZSBjb2xvciB1dGlsIGB0b0NvbG9yU3RyaW5nYCB5b3VcbiAqIGNhbiBjb252ZXJ0IGEgSHNsQ29sb3Igb3IgSHNsYUNvbG9yIG9iamVjdCBiYWNrIHRvIGEgc3RyaW5nLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBc3NpZ25zIGB7IGh1ZTogMCwgc2F0dXJhdGlvbjogMSwgbGlnaHRuZXNzOiAwLjUgfWAgdG8gY29sb3IxXG4gKiBjb25zdCBjb2xvcjEgPSBwYXJzZVRvSHNsKCdyZ2IoMjU1LCAwLCAwKScpO1xuICogLy8gQXNzaWducyBgeyBodWU6IDEyOCwgc2F0dXJhdGlvbjogMSwgbGlnaHRuZXNzOiAwLjUsIGFscGhhOiAwLjc1IH1gIHRvIGNvbG9yMlxuICogY29uc3QgY29sb3IyID0gcGFyc2VUb0hzbCgnaHNsYSgxMjgsIDEwMCUsIDUwJSwgMC43NSknKTtcbiAqL1xuZnVuY3Rpb24gcGFyc2VUb0hzbChjb2xvcikge1xuICAvLyBOb3RlOiBBdCBhIGxhdGVyIHN0YWdlIHdlIGNhbiBvcHRpbWl6ZSB0aGlzIGZ1bmN0aW9uIGFzIHJpZ2h0IG5vdyBhIGhzbFxuICAvLyBjb2xvciB3b3VsZCBiZSBwYXJzZWQgY29udmVydGVkIHRvIHJnYiB2YWx1ZXMgYW5kIGNvbnZlcnRlZCBiYWNrIHRvIGhzbC5cbiAgcmV0dXJuIHJnYlRvSHNsKHBhcnNlVG9SZ2IoY29sb3IpKTtcbn1cblxuLyoqXG4gKiBSZWR1Y2VzIGhleCB2YWx1ZXMgaWYgcG9zc2libGUgZS5nLiAjZmY4ODY2IHRvICNmODZcbiAqIEBwcml2YXRlXG4gKi9cbnZhciByZWR1Y2VIZXhWYWx1ZSA9IGZ1bmN0aW9uIHJlZHVjZUhleFZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZS5sZW5ndGggPT09IDcgJiYgdmFsdWVbMV0gPT09IHZhbHVlWzJdICYmIHZhbHVlWzNdID09PSB2YWx1ZVs0XSAmJiB2YWx1ZVs1XSA9PT0gdmFsdWVbNl0pIHtcbiAgICByZXR1cm4gXCIjXCIgKyB2YWx1ZVsxXSArIHZhbHVlWzNdICsgdmFsdWVbNV07XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59O1xuXG5mdW5jdGlvbiBudW1iZXJUb0hleCh2YWx1ZSkge1xuICB2YXIgaGV4ID0gdmFsdWUudG9TdHJpbmcoMTYpO1xuICByZXR1cm4gaGV4Lmxlbmd0aCA9PT0gMSA/IFwiMFwiICsgaGV4IDogaGV4O1xufVxuXG5mdW5jdGlvbiBjb2xvclRvSGV4KGNvbG9yKSB7XG4gIHJldHVybiBudW1iZXJUb0hleChNYXRoLnJvdW5kKGNvbG9yICogMjU1KSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRUb0hleChyZWQsIGdyZWVuLCBibHVlKSB7XG4gIHJldHVybiByZWR1Y2VIZXhWYWx1ZShcIiNcIiArIGNvbG9yVG9IZXgocmVkKSArIGNvbG9yVG9IZXgoZ3JlZW4pICsgY29sb3JUb0hleChibHVlKSk7XG59XG5cbmZ1bmN0aW9uIGhzbFRvSGV4KGh1ZSwgc2F0dXJhdGlvbiwgbGlnaHRuZXNzKSB7XG4gIHJldHVybiBoc2xUb1JnYihodWUsIHNhdHVyYXRpb24sIGxpZ2h0bmVzcywgY29udmVydFRvSGV4KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHZhbHVlIGZvciB0aGUgY29sb3IuIFRoZSByZXR1cm5lZCByZXN1bHQgaXMgdGhlIHNtYWxsZXN0IHBvc3NpYmxlIGhleCBub3RhdGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiBoc2woMzU5LCAwLjc1LCAwLjQpLFxuICogICBiYWNrZ3JvdW5kOiBoc2woeyBodWU6IDM2MCwgc2F0dXJhdGlvbjogMC43NSwgbGlnaHRuZXNzOiAwLjQgfSksXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7aHNsKDM1OSwgMC43NSwgMC40KX07XG4gKiAgIGJhY2tncm91bmQ6ICR7aHNsKHsgaHVlOiAzNjAsIHNhdHVyYXRpb246IDAuNzUsIGxpZ2h0bmVzczogMC40IH0pfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKlxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiI2IzMTkxY1wiO1xuICogICBiYWNrZ3JvdW5kOiBcIiNiMzE5MWNcIjtcbiAqIH1cbiAqL1xuZnVuY3Rpb24gaHNsKHZhbHVlLCBzYXR1cmF0aW9uLCBsaWdodG5lc3MpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHNhdHVyYXRpb24gPT09ICdudW1iZXInICYmIHR5cGVvZiBsaWdodG5lc3MgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIGhzbFRvSGV4KHZhbHVlLCBzYXR1cmF0aW9uLCBsaWdodG5lc3MpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgc2F0dXJhdGlvbiA9PT0gdW5kZWZpbmVkICYmIGxpZ2h0bmVzcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGhzbFRvSGV4KHZhbHVlLmh1ZSwgdmFsdWUuc2F0dXJhdGlvbiwgdmFsdWUubGlnaHRuZXNzKTtcbiAgfVxuXG4gIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDEpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgdmFsdWUgZm9yIHRoZSBjb2xvci4gVGhlIHJldHVybmVkIHJlc3VsdCBpcyB0aGUgc21hbGxlc3QgcG9zc2libGUgcmdiYSBvciBoZXggbm90YXRpb24uXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgYmFja2dyb3VuZDogaHNsYSgzNTksIDAuNzUsIDAuNCwgMC43KSxcbiAqICAgYmFja2dyb3VuZDogaHNsYSh7IGh1ZTogMzYwLCBzYXR1cmF0aW9uOiAwLjc1LCBsaWdodG5lc3M6IDAuNCwgYWxwaGE6IDAsNyB9KSxcbiAqICAgYmFja2dyb3VuZDogaHNsYSgzNTksIDAuNzUsIDAuNCwgMSksXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7aHNsYSgzNTksIDAuNzUsIDAuNCwgMC43KX07XG4gKiAgIGJhY2tncm91bmQ6ICR7aHNsYSh7IGh1ZTogMzYwLCBzYXR1cmF0aW9uOiAwLjc1LCBsaWdodG5lc3M6IDAuNCwgYWxwaGE6IDAsNyB9KX07XG4gKiAgIGJhY2tncm91bmQ6ICR7aHNsYSgzNTksIDAuNzUsIDAuNCwgMSl9O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDE3OSwyNSwyOCwwLjcpXCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgxNzksMjUsMjgsMC43KVwiO1xuICogICBiYWNrZ3JvdW5kOiBcIiNiMzE5MWNcIjtcbiAqIH1cbiAqL1xuZnVuY3Rpb24gaHNsYSh2YWx1ZSwgc2F0dXJhdGlvbiwgbGlnaHRuZXNzLCBhbHBoYSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB0eXBlb2Ygc2F0dXJhdGlvbiA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGxpZ2h0bmVzcyA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGFscGhhID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBhbHBoYSA+PSAxID8gaHNsVG9IZXgodmFsdWUsIHNhdHVyYXRpb24sIGxpZ2h0bmVzcykgOiBcInJnYmEoXCIgKyBoc2xUb1JnYih2YWx1ZSwgc2F0dXJhdGlvbiwgbGlnaHRuZXNzKSArIFwiLFwiICsgYWxwaGEgKyBcIilcIjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHNhdHVyYXRpb24gPT09IHVuZGVmaW5lZCAmJiBsaWdodG5lc3MgPT09IHVuZGVmaW5lZCAmJiBhbHBoYSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHZhbHVlLmFscGhhID49IDEgPyBoc2xUb0hleCh2YWx1ZS5odWUsIHZhbHVlLnNhdHVyYXRpb24sIHZhbHVlLmxpZ2h0bmVzcykgOiBcInJnYmEoXCIgKyBoc2xUb1JnYih2YWx1ZS5odWUsIHZhbHVlLnNhdHVyYXRpb24sIHZhbHVlLmxpZ2h0bmVzcykgKyBcIixcIiArIHZhbHVlLmFscGhhICsgXCIpXCI7XG4gIH1cblxuICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcigyKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHZhbHVlIGZvciB0aGUgY29sb3IuIFRoZSByZXR1cm5lZCByZXN1bHQgaXMgdGhlIHNtYWxsZXN0IHBvc3NpYmxlIGhleCBub3RhdGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiByZ2IoMjU1LCAyMDUsIDEwMCksXG4gKiAgIGJhY2tncm91bmQ6IHJnYih7IHJlZDogMjU1LCBncmVlbjogMjA1LCBibHVlOiAxMDAgfSksXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7cmdiKDI1NSwgMjA1LCAxMDApfTtcbiAqICAgYmFja2dyb3VuZDogJHtyZ2IoeyByZWQ6IDI1NSwgZ3JlZW46IDIwNSwgYmx1ZTogMTAwIH0pfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKlxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiI2ZmY2Q2NFwiO1xuICogICBiYWNrZ3JvdW5kOiBcIiNmZmNkNjRcIjtcbiAqIH1cbiAqL1xuZnVuY3Rpb24gcmdiKHZhbHVlLCBncmVlbiwgYmx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgZ3JlZW4gPT09ICdudW1iZXInICYmIHR5cGVvZiBibHVlID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiByZWR1Y2VIZXhWYWx1ZShcIiNcIiArIG51bWJlclRvSGV4KHZhbHVlKSArIG51bWJlclRvSGV4KGdyZWVuKSArIG51bWJlclRvSGV4KGJsdWUpKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIGdyZWVuID09PSB1bmRlZmluZWQgJiYgYmx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHJlZHVjZUhleFZhbHVlKFwiI1wiICsgbnVtYmVyVG9IZXgodmFsdWUucmVkKSArIG51bWJlclRvSGV4KHZhbHVlLmdyZWVuKSArIG51bWJlclRvSGV4KHZhbHVlLmJsdWUpKTtcbiAgfVxuXG4gIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDYpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgdmFsdWUgZm9yIHRoZSBjb2xvci4gVGhlIHJldHVybmVkIHJlc3VsdCBpcyB0aGUgc21hbGxlc3QgcG9zc2libGUgcmdiYSBvciBoZXggbm90YXRpb24uXG4gKlxuICogQ2FuIGFsc28gYmUgdXNlZCB0byBmYWRlIGEgY29sb3IgYnkgcGFzc2luZyBhIGhleCB2YWx1ZSBvciBuYW1lZCBDU1MgY29sb3IgYWxvbmcgd2l0aCBhbiBhbHBoYSB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjA1LCAxMDAsIDAuNyksXG4gKiAgIGJhY2tncm91bmQ6IHJnYmEoeyByZWQ6IDI1NSwgZ3JlZW46IDIwNSwgYmx1ZTogMTAwLCBhbHBoYTogMC43IH0pLFxuICogICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjA1LCAxMDAsIDEpLFxuICogICBiYWNrZ3JvdW5kOiByZ2JhKCcjZmZmZmZmJywgMC40KSxcbiAqICAgYmFja2dyb3VuZDogcmdiYSgnYmxhY2snLCAwLjcpLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke3JnYmEoMjU1LCAyMDUsIDEwMCwgMC43KX07XG4gKiAgIGJhY2tncm91bmQ6ICR7cmdiYSh7IHJlZDogMjU1LCBncmVlbjogMjA1LCBibHVlOiAxMDAsIGFscGhhOiAwLjcgfSl9O1xuICogICBiYWNrZ3JvdW5kOiAke3JnYmEoMjU1LCAyMDUsIDEwMCwgMSl9O1xuICogICBiYWNrZ3JvdW5kOiAke3JnYmEoJyNmZmZmZmYnLCAwLjQpfTtcbiAqICAgYmFja2dyb3VuZDogJHtyZ2JhKCdibGFjaycsIDAuNyl9O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDI1NSwyMDUsMTAwLDAuNylcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDI1NSwyMDUsMTAwLDAuNylcIjtcbiAqICAgYmFja2dyb3VuZDogXCIjZmZjZDY0XCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgyNTUsMjU1LDI1NSwwLjQpXCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgwLDAsMCwwLjcpXCI7XG4gKiB9XG4gKi9cbmZ1bmN0aW9uIHJnYmEoZmlyc3RWYWx1ZSwgc2Vjb25kVmFsdWUsIHRoaXJkVmFsdWUsIGZvdXJ0aFZhbHVlKSB7XG4gIGlmICh0eXBlb2YgZmlyc3RWYWx1ZSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHNlY29uZFZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHZhciByZ2JWYWx1ZSA9IHBhcnNlVG9SZ2IoZmlyc3RWYWx1ZSk7XG4gICAgcmV0dXJuIFwicmdiYShcIiArIHJnYlZhbHVlLnJlZCArIFwiLFwiICsgcmdiVmFsdWUuZ3JlZW4gKyBcIixcIiArIHJnYlZhbHVlLmJsdWUgKyBcIixcIiArIHNlY29uZFZhbHVlICsgXCIpXCI7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGZpcnN0VmFsdWUgPT09ICdudW1iZXInICYmIHR5cGVvZiBzZWNvbmRWYWx1ZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHRoaXJkVmFsdWUgPT09ICdudW1iZXInICYmIHR5cGVvZiBmb3VydGhWYWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gZm91cnRoVmFsdWUgPj0gMSA/IHJnYihmaXJzdFZhbHVlLCBzZWNvbmRWYWx1ZSwgdGhpcmRWYWx1ZSkgOiBcInJnYmEoXCIgKyBmaXJzdFZhbHVlICsgXCIsXCIgKyBzZWNvbmRWYWx1ZSArIFwiLFwiICsgdGhpcmRWYWx1ZSArIFwiLFwiICsgZm91cnRoVmFsdWUgKyBcIilcIjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZmlyc3RWYWx1ZSA9PT0gJ29iamVjdCcgJiYgc2Vjb25kVmFsdWUgPT09IHVuZGVmaW5lZCAmJiB0aGlyZFZhbHVlID09PSB1bmRlZmluZWQgJiYgZm91cnRoVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBmaXJzdFZhbHVlLmFscGhhID49IDEgPyByZ2IoZmlyc3RWYWx1ZS5yZWQsIGZpcnN0VmFsdWUuZ3JlZW4sIGZpcnN0VmFsdWUuYmx1ZSkgOiBcInJnYmEoXCIgKyBmaXJzdFZhbHVlLnJlZCArIFwiLFwiICsgZmlyc3RWYWx1ZS5ncmVlbiArIFwiLFwiICsgZmlyc3RWYWx1ZS5ibHVlICsgXCIsXCIgKyBmaXJzdFZhbHVlLmFscGhhICsgXCIpXCI7XG4gIH1cblxuICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig3KTtcbn1cblxudmFyIGlzUmdiID0gZnVuY3Rpb24gaXNSZ2IoY29sb3IpIHtcbiAgcmV0dXJuIHR5cGVvZiBjb2xvci5yZWQgPT09ICdudW1iZXInICYmIHR5cGVvZiBjb2xvci5ncmVlbiA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNvbG9yLmJsdWUgPT09ICdudW1iZXInICYmICh0eXBlb2YgY29sb3IuYWxwaGEgIT09ICdudW1iZXInIHx8IHR5cGVvZiBjb2xvci5hbHBoYSA9PT0gJ3VuZGVmaW5lZCcpO1xufTtcblxudmFyIGlzUmdiYSA9IGZ1bmN0aW9uIGlzUmdiYShjb2xvcikge1xuICByZXR1cm4gdHlwZW9mIGNvbG9yLnJlZCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNvbG9yLmdyZWVuID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgY29sb3IuYmx1ZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNvbG9yLmFscGhhID09PSAnbnVtYmVyJztcbn07XG5cbnZhciBpc0hzbCA9IGZ1bmN0aW9uIGlzSHNsKGNvbG9yKSB7XG4gIHJldHVybiB0eXBlb2YgY29sb3IuaHVlID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgY29sb3Iuc2F0dXJhdGlvbiA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNvbG9yLmxpZ2h0bmVzcyA9PT0gJ251bWJlcicgJiYgKHR5cGVvZiBjb2xvci5hbHBoYSAhPT0gJ251bWJlcicgfHwgdHlwZW9mIGNvbG9yLmFscGhhID09PSAndW5kZWZpbmVkJyk7XG59O1xuXG52YXIgaXNIc2xhID0gZnVuY3Rpb24gaXNIc2xhKGNvbG9yKSB7XG4gIHJldHVybiB0eXBlb2YgY29sb3IuaHVlID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgY29sb3Iuc2F0dXJhdGlvbiA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNvbG9yLmxpZ2h0bmVzcyA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNvbG9yLmFscGhhID09PSAnbnVtYmVyJztcbn07XG4vKipcbiAqIENvbnZlcnRzIGEgUmdiQ29sb3IsIFJnYmFDb2xvciwgSHNsQ29sb3Igb3IgSHNsYUNvbG9yIG9iamVjdCB0byBhIGNvbG9yIHN0cmluZy5cbiAqIFRoaXMgdXRpbCBpcyB1c2VmdWwgaW4gY2FzZSB5b3Ugb25seSBrbm93IG9uIHJ1bnRpbWUgd2hpY2ggY29sb3Igb2JqZWN0IGlzXG4gKiB1c2VkLiBPdGhlcndpc2Ugd2UgcmVjb21tZW5kIHRvIHJlbHkgb24gYHJnYmAsIGByZ2JhYCwgYGhzbGAgb3IgYGhzbGFgLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGJhY2tncm91bmQ6IHRvQ29sb3JTdHJpbmcoeyByZWQ6IDI1NSwgZ3JlZW46IDIwNSwgYmx1ZTogMTAwIH0pLFxuICogICBiYWNrZ3JvdW5kOiB0b0NvbG9yU3RyaW5nKHsgcmVkOiAyNTUsIGdyZWVuOiAyMDUsIGJsdWU6IDEwMCwgYWxwaGE6IDAuNzIgfSksXG4gKiAgIGJhY2tncm91bmQ6IHRvQ29sb3JTdHJpbmcoeyBodWU6IDI0MCwgc2F0dXJhdGlvbjogMSwgbGlnaHRuZXNzOiAwLjUgfSksXG4gKiAgIGJhY2tncm91bmQ6IHRvQ29sb3JTdHJpbmcoeyBodWU6IDM2MCwgc2F0dXJhdGlvbjogMC43NSwgbGlnaHRuZXNzOiAwLjQsIGFscGhhOiAwLjcyIH0pLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke3RvQ29sb3JTdHJpbmcoeyByZWQ6IDI1NSwgZ3JlZW46IDIwNSwgYmx1ZTogMTAwIH0pfTtcbiAqICAgYmFja2dyb3VuZDogJHt0b0NvbG9yU3RyaW5nKHsgcmVkOiAyNTUsIGdyZWVuOiAyMDUsIGJsdWU6IDEwMCwgYWxwaGE6IDAuNzIgfSl9O1xuICogICBiYWNrZ3JvdW5kOiAke3RvQ29sb3JTdHJpbmcoeyBodWU6IDI0MCwgc2F0dXJhdGlvbjogMSwgbGlnaHRuZXNzOiAwLjUgfSl9O1xuICogICBiYWNrZ3JvdW5kOiAke3RvQ29sb3JTdHJpbmcoeyBodWU6IDM2MCwgc2F0dXJhdGlvbjogMC43NSwgbGlnaHRuZXNzOiAwLjQsIGFscGhhOiAwLjcyIH0pfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKiBlbGVtZW50IHtcbiAqICAgYmFja2dyb3VuZDogXCIjZmZjZDY0XCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgyNTUsMjA1LDEwMCwwLjcyKVwiO1xuICogICBiYWNrZ3JvdW5kOiBcIiMwMGZcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDE3OSwyNSwyNSwwLjcyKVwiO1xuICogfVxuICovXG5cblxuZnVuY3Rpb24gdG9Db2xvclN0cmluZyhjb2xvcikge1xuICBpZiAodHlwZW9mIGNvbG9yICE9PSAnb2JqZWN0JykgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoOCk7XG4gIGlmIChpc1JnYmEoY29sb3IpKSByZXR1cm4gcmdiYShjb2xvcik7XG4gIGlmIChpc1JnYihjb2xvcikpIHJldHVybiByZ2IoY29sb3IpO1xuICBpZiAoaXNIc2xhKGNvbG9yKSkgcmV0dXJuIGhzbGEoY29sb3IpO1xuICBpZiAoaXNIc2woY29sb3IpKSByZXR1cm4gaHNsKGNvbG9yKTtcbiAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoOCk7XG59XG5cbi8vIFR5cGUgZGVmaW5pdGlvbnMgdGFrZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZ2NhbnRpL2Zsb3ctc3RhdGljLWxhbmQvYmxvYi9tYXN0ZXIvc3JjL0Z1bi5qc1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZWRlY2xhcmVcbmZ1bmN0aW9uIGN1cnJpZWQoZiwgbGVuZ3RoLCBhY2MpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGZuKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICB2YXIgY29tYmluZWQgPSBhY2MuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIHJldHVybiBjb21iaW5lZC5sZW5ndGggPj0gbGVuZ3RoID8gZi5hcHBseSh0aGlzLCBjb21iaW5lZCkgOiBjdXJyaWVkKGYsIGxlbmd0aCwgY29tYmluZWQpO1xuICB9O1xufSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVkZWNsYXJlXG5cblxuZnVuY3Rpb24gY3VycnkoZikge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlZGVjbGFyZVxuICByZXR1cm4gY3VycmllZChmLCBmLmxlbmd0aCwgW10pO1xufVxuXG4vKipcbiAqIENoYW5nZXMgdGhlIGh1ZSBvZiB0aGUgY29sb3IuIEh1ZSBpcyBhIG51bWJlciBiZXR3ZWVuIDAgdG8gMzYwLiBUaGUgZmlyc3RcbiAqIGFyZ3VtZW50IGZvciBhZGp1c3RIdWUgaXMgdGhlIGFtb3VudCBvZiBkZWdyZWVzIHRoZSBjb2xvciBpcyByb3RhdGVkIGFyb3VuZFxuICogdGhlIGNvbG9yIHdoZWVsLCBhbHdheXMgcHJvZHVjaW5nIGEgcG9zaXRpdmUgaHVlIHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGJhY2tncm91bmQ6IGFkanVzdEh1ZSgxODAsICcjNDQ4JyksXG4gKiAgIGJhY2tncm91bmQ6IGFkanVzdEh1ZSgnMTgwJywgJ3JnYmEoMTAxLDEwMCwyMDUsMC43KScpLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke2FkanVzdEh1ZSgxODAsICcjNDQ4Jyl9O1xuICogICBiYWNrZ3JvdW5kOiAke2FkanVzdEh1ZSgnMTgwJywgJ3JnYmEoMTAxLDEwMCwyMDUsMC43KScpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKiBlbGVtZW50IHtcbiAqICAgYmFja2dyb3VuZDogXCIjODg4ODQ0XCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgxMzYsMTM2LDY4LDAuNylcIjtcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBhZGp1c3RIdWUoZGVncmVlLCBjb2xvcikge1xuICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiBjb2xvcjtcbiAgdmFyIGhzbENvbG9yID0gcGFyc2VUb0hzbChjb2xvcik7XG4gIHJldHVybiB0b0NvbG9yU3RyaW5nKF9leHRlbmRzKHt9LCBoc2xDb2xvciwge1xuICAgIGh1ZTogaHNsQ29sb3IuaHVlICsgcGFyc2VGbG9hdChkZWdyZWUpXG4gIH0pKTtcbn0gLy8gcHJldHRpZXItaWdub3JlXG5cblxudmFyIGN1cnJpZWRBZGp1c3RIdWUgPSAvKiNfX1BVUkVfXyovY3Vycnlcbi8qIDo6PG51bWJlciB8IHN0cmluZywgc3RyaW5nLCBzdHJpbmc+ICovXG4oYWRqdXN0SHVlKTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjb21wbGVtZW50IG9mIHRoZSBwcm92aWRlZCBjb2xvci4gVGhpcyBpcyBpZGVudGljYWwgdG8gYWRqdXN0SHVlKDE4MCwgPGNvbG9yPikuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgYmFja2dyb3VuZDogY29tcGxlbWVudCgnIzQ0OCcpLFxuICogICBiYWNrZ3JvdW5kOiBjb21wbGVtZW50KCdyZ2JhKDIwNCwyMDUsMTAwLDAuNyknKSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZDogJHtjb21wbGVtZW50KCcjNDQ4Jyl9O1xuICogICBiYWNrZ3JvdW5kOiAke2NvbXBsZW1lbnQoJ3JnYmEoMjA0LDIwNSwxMDAsMC43KScpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKiBlbGVtZW50IHtcbiAqICAgYmFja2dyb3VuZDogXCIjODg0XCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgxNTMsMTUzLDE1MywwLjcpXCI7XG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gY29tcGxlbWVudChjb2xvcikge1xuICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiBjb2xvcjtcbiAgdmFyIGhzbENvbG9yID0gcGFyc2VUb0hzbChjb2xvcik7XG4gIHJldHVybiB0b0NvbG9yU3RyaW5nKF9leHRlbmRzKHt9LCBoc2xDb2xvciwge1xuICAgIGh1ZTogKGhzbENvbG9yLmh1ZSArIDE4MCkgJSAzNjBcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBndWFyZChsb3dlckJvdW5kYXJ5LCB1cHBlckJvdW5kYXJ5LCB2YWx1ZSkge1xuICByZXR1cm4gTWF0aC5tYXgobG93ZXJCb3VuZGFyeSwgTWF0aC5taW4odXBwZXJCb3VuZGFyeSwgdmFsdWUpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHZhbHVlIGZvciB0aGUgZGFya2VuZWQgY29sb3IuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgYmFja2dyb3VuZDogZGFya2VuKDAuMiwgJyNGRkNENjQnKSxcbiAqICAgYmFja2dyb3VuZDogZGFya2VuKCcwLjInLCAncmdiYSgyNTUsMjA1LDEwMCwwLjcpJyksXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7ZGFya2VuKDAuMiwgJyNGRkNENjQnKX07XG4gKiAgIGJhY2tncm91bmQ6ICR7ZGFya2VuKCcwLjInLCAncmdiYSgyNTUsMjA1LDEwMCwwLjcpJyl9O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgYmFja2dyb3VuZDogXCIjZmZiZDMxXCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgyNTUsMTg5LDQ5LDAuNylcIjtcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBkYXJrZW4oYW1vdW50LCBjb2xvcikge1xuICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiBjb2xvcjtcbiAgdmFyIGhzbENvbG9yID0gcGFyc2VUb0hzbChjb2xvcik7XG4gIHJldHVybiB0b0NvbG9yU3RyaW5nKF9leHRlbmRzKHt9LCBoc2xDb2xvciwge1xuICAgIGxpZ2h0bmVzczogZ3VhcmQoMCwgMSwgaHNsQ29sb3IubGlnaHRuZXNzIC0gcGFyc2VGbG9hdChhbW91bnQpKVxuICB9KSk7XG59IC8vIHByZXR0aWVyLWlnbm9yZVxuXG5cbnZhciBjdXJyaWVkRGFya2VuID0gLyojX19QVVJFX18qL2N1cnJ5XG4vKiA6OjxudW1iZXIgfCBzdHJpbmcsIHN0cmluZywgc3RyaW5nPiAqL1xuKGRhcmtlbik7XG5cbi8qKlxuICogRGVjcmVhc2VzIHRoZSBpbnRlbnNpdHkgb2YgYSBjb2xvci4gSXRzIHJhbmdlIGlzIGJldHdlZW4gMCB0byAxLiBUaGUgZmlyc3RcbiAqIGFyZ3VtZW50IG9mIHRoZSBkZXNhdHVyYXRlIGZ1bmN0aW9uIGlzIHRoZSBhbW91bnQgYnkgaG93IG11Y2ggdGhlIGNvbG9yXG4gKiBpbnRlbnNpdHkgc2hvdWxkIGJlIGRlY3JlYXNlZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiBkZXNhdHVyYXRlKDAuMiwgJyNDQ0NENjQnKSxcbiAqICAgYmFja2dyb3VuZDogZGVzYXR1cmF0ZSgnMC4yJywgJ3JnYmEoMjA0LDIwNSwxMDAsMC43KScpLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke2Rlc2F0dXJhdGUoMC4yLCAnI0NDQ0Q2NCcpfTtcbiAqICAgYmFja2dyb3VuZDogJHtkZXNhdHVyYXRlKCcwLjInLCAncmdiYSgyMDQsMjA1LDEwMCwwLjcpJyl9O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqIGVsZW1lbnQge1xuICogICBiYWNrZ3JvdW5kOiBcIiNiOGI5NzlcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDE4NCwxODUsMTIxLDAuNylcIjtcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBkZXNhdHVyYXRlKGFtb3VudCwgY29sb3IpIHtcbiAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gY29sb3I7XG4gIHZhciBoc2xDb2xvciA9IHBhcnNlVG9Ic2woY29sb3IpO1xuICByZXR1cm4gdG9Db2xvclN0cmluZyhfZXh0ZW5kcyh7fSwgaHNsQ29sb3IsIHtcbiAgICBzYXR1cmF0aW9uOiBndWFyZCgwLCAxLCBoc2xDb2xvci5zYXR1cmF0aW9uIC0gcGFyc2VGbG9hdChhbW91bnQpKVxuICB9KSk7XG59IC8vIHByZXR0aWVyLWlnbm9yZVxuXG5cbnZhciBjdXJyaWVkRGVzYXR1cmF0ZSA9IC8qI19fUFVSRV9fKi9jdXJyeVxuLyogOjo8bnVtYmVyIHwgc3RyaW5nLCBzdHJpbmcsIHN0cmluZz4gKi9cbihkZXNhdHVyYXRlKTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgbnVtYmVyIChmbG9hdCkgcmVwcmVzZW50aW5nIHRoZSBsdW1pbmFuY2Ugb2YgYSBjb2xvci5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiBnZXRMdW1pbmFuY2UoJyNDQ0NENjQnKSA+PSBnZXRMdW1pbmFuY2UoJyMwMDAwZmYnKSA/ICcjQ0NDRDY0JyA6ICcjMDAwMGZmJyxcbiAqICAgYmFja2dyb3VuZDogZ2V0THVtaW5hbmNlKCdyZ2JhKDU4LCAxMzMsIDI1NSwgMSknKSA+PSBnZXRMdW1pbmFuY2UoJ3JnYmEoMjU1LCA1NywgMTQ5LCAxKScpID9cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncmdiYSg1OCwgMTMzLCAyNTUsIDEpJyA6XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3JnYmEoMjU1LCA1NywgMTQ5LCAxKScsXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7Z2V0THVtaW5hbmNlKCcjQ0NDRDY0JykgPj0gZ2V0THVtaW5hbmNlKCcjMDAwMGZmJykgPyAnI0NDQ0Q2NCcgOiAnIzAwMDBmZid9O1xuICogICBiYWNrZ3JvdW5kOiAke2dldEx1bWluYW5jZSgncmdiYSg1OCwgMTMzLCAyNTUsIDEpJykgPj0gZ2V0THVtaW5hbmNlKCdyZ2JhKDI1NSwgNTcsIDE0OSwgMSknKSA/XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3JnYmEoNTgsIDEzMywgMjU1LCAxKScgOlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICdyZ2JhKDI1NSwgNTcsIDE0OSwgMSknfTtcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKlxuICogZGl2IHtcbiAqICAgYmFja2dyb3VuZDogXCIjQ0NDRDY0XCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSg1OCwgMTMzLCAyNTUsIDEpXCI7XG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gZ2V0THVtaW5hbmNlKGNvbG9yKSB7XG4gIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIDA7XG4gIHZhciByZ2JDb2xvciA9IHBhcnNlVG9SZ2IoY29sb3IpO1xuXG4gIHZhciBfT2JqZWN0JGtleXMkbWFwID0gT2JqZWN0LmtleXMocmdiQ29sb3IpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIGNoYW5uZWwgPSByZ2JDb2xvcltrZXldIC8gMjU1O1xuICAgIHJldHVybiBjaGFubmVsIDw9IDAuMDM5MjggPyBjaGFubmVsIC8gMTIuOTIgOiBNYXRoLnBvdygoY2hhbm5lbCArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xuICB9KSxcbiAgICAgIHIgPSBfT2JqZWN0JGtleXMkbWFwWzBdLFxuICAgICAgZyA9IF9PYmplY3Qka2V5cyRtYXBbMV0sXG4gICAgICBiID0gX09iamVjdCRrZXlzJG1hcFsyXTtcblxuICByZXR1cm4gcGFyc2VGbG9hdCgoMC4yMTI2ICogciArIDAuNzE1MiAqIGcgKyAwLjA3MjIgKiBiKS50b0ZpeGVkKDMpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjb250cmFzdCByYXRpbyBiZXR3ZWVuIHR3byBjb2xvcnMgYmFzZWQgb25cbiAqIFtXMydzIHJlY29tbWVuZGVkIGVxdWF0aW9uIGZvciBjYWxjdWxhdGluZyBjb250cmFzdF0oaHR0cDovL3d3dy53My5vcmcvVFIvV0NBRzIwLyNjb250cmFzdC1yYXRpb2RlZikuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGNvbnRyYXN0UmF0aW8gPSBnZXRDb250cmFzdCgnIzQ0NCcsICcjZmZmJyk7XG4gKi9cblxuZnVuY3Rpb24gZ2V0Q29udHJhc3QoY29sb3IxLCBjb2xvcjIpIHtcbiAgdmFyIGx1bWluYW5jZTEgPSBnZXRMdW1pbmFuY2UoY29sb3IxKTtcbiAgdmFyIGx1bWluYW5jZTIgPSBnZXRMdW1pbmFuY2UoY29sb3IyKTtcbiAgcmV0dXJuIHBhcnNlRmxvYXQoKGx1bWluYW5jZTEgPiBsdW1pbmFuY2UyID8gKGx1bWluYW5jZTEgKyAwLjA1KSAvIChsdW1pbmFuY2UyICsgMC4wNSkgOiAobHVtaW5hbmNlMiArIDAuMDUpIC8gKGx1bWluYW5jZTEgKyAwLjA1KSkudG9GaXhlZCgyKSk7XG59XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGNvbG9yIHRvIGEgZ3JheXNjYWxlLCBieSByZWR1Y2luZyBpdHMgc2F0dXJhdGlvbiB0byAwLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGJhY2tncm91bmQ6IGdyYXlzY2FsZSgnI0NDQ0Q2NCcpLFxuICogICBiYWNrZ3JvdW5kOiBncmF5c2NhbGUoJ3JnYmEoMjA0LDIwNSwxMDAsMC43KScpLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke2dyYXlzY2FsZSgnI0NDQ0Q2NCcpfTtcbiAqICAgYmFja2dyb3VuZDogJHtncmF5c2NhbGUoJ3JnYmEoMjA0LDIwNSwxMDAsMC43KScpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKiBlbGVtZW50IHtcbiAqICAgYmFja2dyb3VuZDogXCIjOTk5XCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgxNTMsMTUzLDE1MywwLjcpXCI7XG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gZ3JheXNjYWxlKGNvbG9yKSB7XG4gIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIGNvbG9yO1xuICByZXR1cm4gdG9Db2xvclN0cmluZyhfZXh0ZW5kcyh7fSwgcGFyc2VUb0hzbChjb2xvciksIHtcbiAgICBzYXR1cmF0aW9uOiAwXG4gIH0pKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIEhzbENvbG9yIG9yIEhzbGFDb2xvciBvYmplY3QgdG8gYSBjb2xvciBzdHJpbmcuXG4gKiBUaGlzIHV0aWwgaXMgdXNlZnVsIGluIGNhc2UgeW91IG9ubHkga25vdyBvbiBydW50aW1lIHdoaWNoIGNvbG9yIG9iamVjdCBpc1xuICogdXNlZC4gT3RoZXJ3aXNlIHdlIHJlY29tbWVuZCB0byByZWx5IG9uIGBoc2xgIG9yIGBoc2xhYC5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiBoc2xUb0NvbG9yU3RyaW5nKHsgaHVlOiAyNDAsIHNhdHVyYXRpb246IDEsIGxpZ2h0bmVzczogMC41IH0pLFxuICogICBiYWNrZ3JvdW5kOiBoc2xUb0NvbG9yU3RyaW5nKHsgaHVlOiAzNjAsIHNhdHVyYXRpb246IDAuNzUsIGxpZ2h0bmVzczogMC40LCBhbHBoYTogMC43MiB9KSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZDogJHtoc2xUb0NvbG9yU3RyaW5nKHsgaHVlOiAyNDAsIHNhdHVyYXRpb246IDEsIGxpZ2h0bmVzczogMC41IH0pfTtcbiAqICAgYmFja2dyb3VuZDogJHtoc2xUb0NvbG9yU3RyaW5nKHsgaHVlOiAzNjAsIHNhdHVyYXRpb246IDAuNzUsIGxpZ2h0bmVzczogMC40LCBhbHBoYTogMC43MiB9KX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiIzAwZlwiO1xuICogICBiYWNrZ3JvdW5kOiBcInJnYmEoMTc5LDI1LDI1LDAuNzIpXCI7XG4gKiB9XG4gKi9cbmZ1bmN0aW9uIGhzbFRvQ29sb3JTdHJpbmcoY29sb3IpIHtcbiAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGNvbG9yLmh1ZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNvbG9yLnNhdHVyYXRpb24gPT09ICdudW1iZXInICYmIHR5cGVvZiBjb2xvci5saWdodG5lc3MgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKGNvbG9yLmFscGhhICYmIHR5cGVvZiBjb2xvci5hbHBoYSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiBoc2xhKHtcbiAgICAgICAgaHVlOiBjb2xvci5odWUsXG4gICAgICAgIHNhdHVyYXRpb246IGNvbG9yLnNhdHVyYXRpb24sXG4gICAgICAgIGxpZ2h0bmVzczogY29sb3IubGlnaHRuZXNzLFxuICAgICAgICBhbHBoYTogY29sb3IuYWxwaGFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBoc2woe1xuICAgICAgaHVlOiBjb2xvci5odWUsXG4gICAgICBzYXR1cmF0aW9uOiBjb2xvci5zYXR1cmF0aW9uLFxuICAgICAgbGlnaHRuZXNzOiBjb2xvci5saWdodG5lc3NcbiAgICB9KTtcbiAgfVxuXG4gIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDQ1KTtcbn1cblxuLyoqXG4gKiBJbnZlcnRzIHRoZSByZWQsIGdyZWVuIGFuZCBibHVlIHZhbHVlcyBvZiBhIGNvbG9yLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGJhY2tncm91bmQ6IGludmVydCgnI0NDQ0Q2NCcpLFxuICogICBiYWNrZ3JvdW5kOiBpbnZlcnQoJ3JnYmEoMTAxLDEwMCwyMDUsMC43KScpLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke2ludmVydCgnI0NDQ0Q2NCcpfTtcbiAqICAgYmFja2dyb3VuZDogJHtpbnZlcnQoJ3JnYmEoMTAxLDEwMCwyMDUsMC43KScpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKlxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiIzMzMzI5YlwiO1xuICogICBiYWNrZ3JvdW5kOiBcInJnYmEoMTU0LDE1NSw1MCwwLjcpXCI7XG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gaW52ZXJ0KGNvbG9yKSB7XG4gIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIGNvbG9yOyAvLyBwYXJzZSBjb2xvciBzdHJpbmcgdG8gcmdiXG5cbiAgdmFyIHZhbHVlID0gcGFyc2VUb1JnYihjb2xvcik7XG4gIHJldHVybiB0b0NvbG9yU3RyaW5nKF9leHRlbmRzKHt9LCB2YWx1ZSwge1xuICAgIHJlZDogMjU1IC0gdmFsdWUucmVkLFxuICAgIGdyZWVuOiAyNTUgLSB2YWx1ZS5ncmVlbixcbiAgICBibHVlOiAyNTUgLSB2YWx1ZS5ibHVlXG4gIH0pKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHZhbHVlIGZvciB0aGUgbGlnaHRlbmVkIGNvbG9yLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGJhY2tncm91bmQ6IGxpZ2h0ZW4oMC4yLCAnI0NDQ0Q2NCcpLFxuICogICBiYWNrZ3JvdW5kOiBsaWdodGVuKCcwLjInLCAncmdiYSgyMDQsMjA1LDEwMCwwLjcpJyksXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7bGlnaHRlbigwLjIsICcjRkZDRDY0Jyl9O1xuICogICBiYWNrZ3JvdW5kOiAke2xpZ2h0ZW4oJzAuMicsICdyZ2JhKDIwNCwyMDUsMTAwLDAuNyknKX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICpcbiAqIGVsZW1lbnQge1xuICogICBiYWNrZ3JvdW5kOiBcIiNlNWU2YjFcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDIyOSwyMzAsMTc3LDAuNylcIjtcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBsaWdodGVuKGFtb3VudCwgY29sb3IpIHtcbiAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gY29sb3I7XG4gIHZhciBoc2xDb2xvciA9IHBhcnNlVG9Ic2woY29sb3IpO1xuICByZXR1cm4gdG9Db2xvclN0cmluZyhfZXh0ZW5kcyh7fSwgaHNsQ29sb3IsIHtcbiAgICBsaWdodG5lc3M6IGd1YXJkKDAsIDEsIGhzbENvbG9yLmxpZ2h0bmVzcyArIHBhcnNlRmxvYXQoYW1vdW50KSlcbiAgfSkpO1xufSAvLyBwcmV0dGllci1pZ25vcmVcblxuXG52YXIgY3VycmllZExpZ2h0ZW4gPSAvKiNfX1BVUkVfXyovY3Vycnlcbi8qIDo6PG51bWJlciB8IHN0cmluZywgc3RyaW5nLCBzdHJpbmc+ICovXG4obGlnaHRlbik7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGljaCBjb250cmFzdCBndWlkZWxpbmVzIGhhdmUgYmVlbiBtZXQgZm9yIHR3byBjb2xvcnMuXG4gKiBCYXNlZCBvbiB0aGUgW2NvbnRyYXN0IGNhbGN1bGF0aW9ucyByZWNvbW1lbmRlZCBieSBXM10oaHR0cHM6Ly93d3cudzMub3JnL1dBSS9XQ0FHMjEvVW5kZXJzdGFuZGluZy9jb250cmFzdC1lbmhhbmNlZC5odG1sKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgc2NvcmVzID0gbWVldHNDb250cmFzdEd1aWRlbGluZXMoJyM0NDQnLCAnI2ZmZicpO1xuICovXG5mdW5jdGlvbiBtZWV0c0NvbnRyYXN0R3VpZGVsaW5lcyhjb2xvcjEsIGNvbG9yMikge1xuICB2YXIgY29udHJhc3RSYXRpbyA9IGdldENvbnRyYXN0KGNvbG9yMSwgY29sb3IyKTtcbiAgcmV0dXJuIHtcbiAgICBBQTogY29udHJhc3RSYXRpbyA+PSA0LjUsXG4gICAgQUFMYXJnZTogY29udHJhc3RSYXRpbyA+PSAzLFxuICAgIEFBQTogY29udHJhc3RSYXRpbyA+PSA3LFxuICAgIEFBQUxhcmdlOiBjb250cmFzdFJhdGlvID49IDQuNVxuICB9O1xufVxuXG4vKipcbiAqIE1peGVzIHRoZSB0d28gcHJvdmlkZWQgY29sb3JzIHRvZ2V0aGVyIGJ5IGNhbGN1bGF0aW5nIHRoZSBhdmVyYWdlIG9mIGVhY2ggb2YgdGhlIFJHQiBjb21wb25lbnRzIHdlaWdodGVkIHRvIHRoZSBmaXJzdCBjb2xvciBieSB0aGUgcHJvdmlkZWQgd2VpZ2h0LlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGJhY2tncm91bmQ6IG1peCgwLjUsICcjZjAwJywgJyMwMGYnKVxuICogICBiYWNrZ3JvdW5kOiBtaXgoMC4yNSwgJyNmMDAnLCAnIzAwZicpXG4gKiAgIGJhY2tncm91bmQ6IG1peCgnMC41JywgJ3JnYmEoMjU1LCAwLCAwLCAwLjUpJywgJyMwMGYnKVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke21peCgwLjUsICcjZjAwJywgJyMwMGYnKX07XG4gKiAgIGJhY2tncm91bmQ6ICR7bWl4KDAuMjUsICcjZjAwJywgJyMwMGYnKX07XG4gKiAgIGJhY2tncm91bmQ6ICR7bWl4KCcwLjUnLCAncmdiYSgyNTUsIDAsIDAsIDAuNSknLCAnIzAwZicpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKlxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiIzdmMDA3ZlwiO1xuICogICBiYWNrZ3JvdW5kOiBcIiMzZjAwYmZcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDYzLCAwLCAxOTEsIDAuNzUpXCI7XG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gbWl4KHdlaWdodCwgY29sb3IsIG90aGVyQ29sb3IpIHtcbiAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gb3RoZXJDb2xvcjtcbiAgaWYgKG90aGVyQ29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiBjb2xvcjtcbiAgaWYgKHdlaWdodCA9PT0gMCkgcmV0dXJuIG90aGVyQ29sb3I7XG4gIHZhciBwYXJzZWRDb2xvcjEgPSBwYXJzZVRvUmdiKGNvbG9yKTtcblxuICB2YXIgY29sb3IxID0gX2V4dGVuZHMoe30sIHBhcnNlZENvbG9yMSwge1xuICAgIGFscGhhOiB0eXBlb2YgcGFyc2VkQ29sb3IxLmFscGhhID09PSAnbnVtYmVyJyA/IHBhcnNlZENvbG9yMS5hbHBoYSA6IDFcbiAgfSk7XG5cbiAgdmFyIHBhcnNlZENvbG9yMiA9IHBhcnNlVG9SZ2Iob3RoZXJDb2xvcik7XG5cbiAgdmFyIGNvbG9yMiA9IF9leHRlbmRzKHt9LCBwYXJzZWRDb2xvcjIsIHtcbiAgICBhbHBoYTogdHlwZW9mIHBhcnNlZENvbG9yMi5hbHBoYSA9PT0gJ251bWJlcicgPyBwYXJzZWRDb2xvcjIuYWxwaGEgOiAxXG4gIH0pOyAvLyBUaGUgZm9ybXVsYSBpcyBjb3BpZWQgZnJvbSB0aGUgb3JpZ2luYWwgU2FzcyBpbXBsZW1lbnRhdGlvbjpcbiAgLy8gaHR0cDovL3Nhc3MtbGFuZy5jb20vZG9jdW1lbnRhdGlvbi9TYXNzL1NjcmlwdC9GdW5jdGlvbnMuaHRtbCNtaXgtaW5zdGFuY2VfbWV0aG9kXG5cblxuICB2YXIgYWxwaGFEZWx0YSA9IGNvbG9yMS5hbHBoYSAtIGNvbG9yMi5hbHBoYTtcbiAgdmFyIHggPSBwYXJzZUZsb2F0KHdlaWdodCkgKiAyIC0gMTtcbiAgdmFyIHkgPSB4ICogYWxwaGFEZWx0YSA9PT0gLTEgPyB4IDogeCArIGFscGhhRGVsdGE7XG4gIHZhciB6ID0gMSArIHggKiBhbHBoYURlbHRhO1xuICB2YXIgd2VpZ2h0MSA9ICh5IC8geiArIDEpIC8gMi4wO1xuICB2YXIgd2VpZ2h0MiA9IDEgLSB3ZWlnaHQxO1xuICB2YXIgbWl4ZWRDb2xvciA9IHtcbiAgICByZWQ6IE1hdGguZmxvb3IoY29sb3IxLnJlZCAqIHdlaWdodDEgKyBjb2xvcjIucmVkICogd2VpZ2h0MiksXG4gICAgZ3JlZW46IE1hdGguZmxvb3IoY29sb3IxLmdyZWVuICogd2VpZ2h0MSArIGNvbG9yMi5ncmVlbiAqIHdlaWdodDIpLFxuICAgIGJsdWU6IE1hdGguZmxvb3IoY29sb3IxLmJsdWUgKiB3ZWlnaHQxICsgY29sb3IyLmJsdWUgKiB3ZWlnaHQyKSxcbiAgICBhbHBoYTogY29sb3IxLmFscGhhICogKHBhcnNlRmxvYXQod2VpZ2h0KSAvIDEuMCkgKyBjb2xvcjIuYWxwaGEgKiAoMSAtIHBhcnNlRmxvYXQod2VpZ2h0KSAvIDEuMClcbiAgfTtcbiAgcmV0dXJuIHJnYmEobWl4ZWRDb2xvcik7XG59IC8vIHByZXR0aWVyLWlnbm9yZVxuXG5cbnZhciBjdXJyaWVkTWl4ID0gLyojX19QVVJFX18qL2N1cnJ5XG4vKiA6OjxudW1iZXIgfCBzdHJpbmcsIHN0cmluZywgc3RyaW5nLCBzdHJpbmc+ICovXG4obWl4KTtcblxuLyoqXG4gKiBJbmNyZWFzZXMgdGhlIG9wYWNpdHkgb2YgYSBjb2xvci4gSXRzIHJhbmdlIGZvciB0aGUgYW1vdW50IGlzIGJldHdlZW4gMCB0byAxLlxuICpcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiBvcGFjaWZ5KDAuMSwgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC45KScpO1xuICogICBiYWNrZ3JvdW5kOiBvcGFjaWZ5KDAuMiwgJ2hzbGEoMCwgMCUsIDEwMCUsIDAuNSknKSxcbiAqICAgYmFja2dyb3VuZDogb3BhY2lmeSgnMC41JywgJ3JnYmEoMjU1LCAwLCAwLCAwLjIpJyksXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7b3BhY2lmeSgwLjEsICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSknKX07XG4gKiAgIGJhY2tncm91bmQ6ICR7b3BhY2lmeSgwLjIsICdoc2xhKDAsIDAlLCAxMDAlLCAwLjUpJyl9LFxuICogICBiYWNrZ3JvdW5kOiAke29wYWNpZnkoJzAuNScsICdyZ2JhKDI1NSwgMCwgMCwgMC4yKScpfSxcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKlxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiI2ZmZlwiO1xuICogICBiYWNrZ3JvdW5kOiBcInJnYmEoMjU1LDI1NSwyNTUsMC43KVwiO1xuICogICBiYWNrZ3JvdW5kOiBcInJnYmEoMjU1LDAsMCwwLjcpXCI7XG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gb3BhY2lmeShhbW91bnQsIGNvbG9yKSB7XG4gIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIGNvbG9yO1xuICB2YXIgcGFyc2VkQ29sb3IgPSBwYXJzZVRvUmdiKGNvbG9yKTtcbiAgdmFyIGFscGhhID0gdHlwZW9mIHBhcnNlZENvbG9yLmFscGhhID09PSAnbnVtYmVyJyA/IHBhcnNlZENvbG9yLmFscGhhIDogMTtcblxuICB2YXIgY29sb3JXaXRoQWxwaGEgPSBfZXh0ZW5kcyh7fSwgcGFyc2VkQ29sb3IsIHtcbiAgICBhbHBoYTogZ3VhcmQoMCwgMSwgKGFscGhhICogMTAwICsgcGFyc2VGbG9hdChhbW91bnQpICogMTAwKSAvIDEwMClcbiAgfSk7XG5cbiAgcmV0dXJuIHJnYmEoY29sb3JXaXRoQWxwaGEpO1xufSAvLyBwcmV0dGllci1pZ25vcmVcblxuXG52YXIgY3VycmllZE9wYWNpZnkgPSAvKiNfX1BVUkVfXyovY3Vycnlcbi8qIDo6PG51bWJlciB8IHN0cmluZywgc3RyaW5nLCBzdHJpbmc+ICovXG4ob3BhY2lmeSk7XG5cbnZhciBkZWZhdWx0UmV0dXJuSWZMaWdodENvbG9yID0gJyMwMDAnO1xudmFyIGRlZmF1bHRSZXR1cm5JZkRhcmtDb2xvciA9ICcjZmZmJztcbi8qKlxuICogUmV0dXJucyBibGFjayBvciB3aGl0ZSAob3Igb3B0aW9uYWwgcGFzc2VkIGNvbG9ycykgZm9yIGJlc3RcbiAqIGNvbnRyYXN0IGRlcGVuZGluZyBvbiB0aGUgbHVtaW5vc2l0eSBvZiB0aGUgZ2l2ZW4gY29sb3IuXG4gKiBXaGVuIHBhc3NpbmcgY3VzdG9tIHJldHVybiBjb2xvcnMsIHN0cmljdCBtb2RlIGVuc3VyZXMgdGhhdCB0aGVcbiAqIHJldHVybiBjb2xvciBhbHdheXMgbWVldHMgb3IgZXhjZWVkcyBXQ0FHIGxldmVsIEFBIG9yIGdyZWF0ZXIuIElmIHRoaXMgdGVzdFxuICogZmFpbHMsIHRoZSBkZWZhdWx0IHJldHVybiBjb2xvciAoYmxhY2sgb3Igd2hpdGUpIGlzIHJldHVybmVkIGluIHBsYWNlIG9mIHRoZVxuICogY3VzdG9tIHJldHVybiBjb2xvci4gWW91IGNhbiBvcHRpb25hbGx5IHR1cm4gb2ZmIHN0cmljdCBtb2RlLlxuICpcbiAqIEZvbGxvd3MgW1czQyBzcGVjcyBmb3IgcmVhZGFiaWxpdHldKGh0dHBzOi8vd3d3LnczLm9yZy9UUi9XQ0FHMjAtVEVDSFMvRzE4Lmh0bWwpLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGNvbG9yOiByZWFkYWJsZUNvbG9yKCcjMDAwJyksXG4gKiAgIGNvbG9yOiByZWFkYWJsZUNvbG9yKCdibGFjaycsICcjMDAxJywgJyNmZjgnKSxcbiAqICAgY29sb3I6IHJlYWRhYmxlQ29sb3IoJ3doaXRlJywgJyMwMDEnLCAnI2ZmOCcpLFxuICogICBjb2xvcjogcmVhZGFibGVDb2xvcigncmVkJywgJyMzMzMnLCAnI2RkZCcsIHRydWUpXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGNvbG9yOiAke3JlYWRhYmxlQ29sb3IoJyMwMDAnKX07XG4gKiAgIGNvbG9yOiAke3JlYWRhYmxlQ29sb3IoJ2JsYWNrJywgJyMwMDEnLCAnI2ZmOCcpfTtcbiAqICAgY29sb3I6ICR7cmVhZGFibGVDb2xvcignd2hpdGUnLCAnIzAwMScsICcjZmY4Jyl9O1xuICogICBjb2xvcjogJHtyZWFkYWJsZUNvbG9yKCdyZWQnLCAnIzMzMycsICcjZGRkJywgdHJ1ZSl9O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqIGVsZW1lbnQge1xuICogICBjb2xvcjogXCIjZmZmXCI7XG4gKiAgIGNvbG9yOiBcIiNmZjhcIjtcbiAqICAgY29sb3I6IFwiIzAwMVwiO1xuICogICBjb2xvcjogXCIjMDAwXCI7XG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gcmVhZGFibGVDb2xvcihjb2xvciwgcmV0dXJuSWZMaWdodENvbG9yLCByZXR1cm5JZkRhcmtDb2xvciwgc3RyaWN0KSB7XG4gIGlmIChyZXR1cm5JZkxpZ2h0Q29sb3IgPT09IHZvaWQgMCkge1xuICAgIHJldHVybklmTGlnaHRDb2xvciA9IGRlZmF1bHRSZXR1cm5JZkxpZ2h0Q29sb3I7XG4gIH1cblxuICBpZiAocmV0dXJuSWZEYXJrQ29sb3IgPT09IHZvaWQgMCkge1xuICAgIHJldHVybklmRGFya0NvbG9yID0gZGVmYXVsdFJldHVybklmRGFya0NvbG9yO1xuICB9XG5cbiAgaWYgKHN0cmljdCA9PT0gdm9pZCAwKSB7XG4gICAgc3RyaWN0ID0gdHJ1ZTtcbiAgfVxuXG4gIHZhciBpc0NvbG9yTGlnaHQgPSBnZXRMdW1pbmFuY2UoY29sb3IpID4gMC4xNzk7XG4gIHZhciBwcmVmZXJyZWRSZXR1cm5Db2xvciA9IGlzQ29sb3JMaWdodCA/IHJldHVybklmTGlnaHRDb2xvciA6IHJldHVybklmRGFya0NvbG9yO1xuXG4gIGlmICghc3RyaWN0IHx8IGdldENvbnRyYXN0KGNvbG9yLCBwcmVmZXJyZWRSZXR1cm5Db2xvcikgPj0gNC41KSB7XG4gICAgcmV0dXJuIHByZWZlcnJlZFJldHVybkNvbG9yO1xuICB9XG5cbiAgcmV0dXJuIGlzQ29sb3JMaWdodCA/IGRlZmF1bHRSZXR1cm5JZkxpZ2h0Q29sb3IgOiBkZWZhdWx0UmV0dXJuSWZEYXJrQ29sb3I7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBSZ2JDb2xvciBvciBSZ2JhQ29sb3Igb2JqZWN0IHRvIGEgY29sb3Igc3RyaW5nLlxuICogVGhpcyB1dGlsIGlzIHVzZWZ1bCBpbiBjYXNlIHlvdSBvbmx5IGtub3cgb24gcnVudGltZSB3aGljaCBjb2xvciBvYmplY3QgaXNcbiAqIHVzZWQuIE90aGVyd2lzZSB3ZSByZWNvbW1lbmQgdG8gcmVseSBvbiBgcmdiYCBvciBgcmdiYWAuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgYmFja2dyb3VuZDogcmdiVG9Db2xvclN0cmluZyh7IHJlZDogMjU1LCBncmVlbjogMjA1LCBibHVlOiAxMDAgfSksXG4gKiAgIGJhY2tncm91bmQ6IHJnYlRvQ29sb3JTdHJpbmcoeyByZWQ6IDI1NSwgZ3JlZW46IDIwNSwgYmx1ZTogMTAwLCBhbHBoYTogMC43MiB9KSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZDogJHtyZ2JUb0NvbG9yU3RyaW5nKHsgcmVkOiAyNTUsIGdyZWVuOiAyMDUsIGJsdWU6IDEwMCB9KX07XG4gKiAgIGJhY2tncm91bmQ6ICR7cmdiVG9Db2xvclN0cmluZyh7IHJlZDogMjU1LCBncmVlbjogMjA1LCBibHVlOiAxMDAsIGFscGhhOiAwLjcyIH0pfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKiBlbGVtZW50IHtcbiAqICAgYmFja2dyb3VuZDogXCIjZmZjZDY0XCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgyNTUsMjA1LDEwMCwwLjcyKVwiO1xuICogfVxuICovXG5mdW5jdGlvbiByZ2JUb0NvbG9yU3RyaW5nKGNvbG9yKSB7XG4gIGlmICh0eXBlb2YgY29sb3IgPT09ICdvYmplY3QnICYmIHR5cGVvZiBjb2xvci5yZWQgPT09ICdudW1iZXInICYmIHR5cGVvZiBjb2xvci5ncmVlbiA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNvbG9yLmJsdWUgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKHR5cGVvZiBjb2xvci5hbHBoYSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiByZ2JhKHtcbiAgICAgICAgcmVkOiBjb2xvci5yZWQsXG4gICAgICAgIGdyZWVuOiBjb2xvci5ncmVlbixcbiAgICAgICAgYmx1ZTogY29sb3IuYmx1ZSxcbiAgICAgICAgYWxwaGE6IGNvbG9yLmFscGhhXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmdiKHtcbiAgICAgIHJlZDogY29sb3IucmVkLFxuICAgICAgZ3JlZW46IGNvbG9yLmdyZWVuLFxuICAgICAgYmx1ZTogY29sb3IuYmx1ZVxuICAgIH0pO1xuICB9XG5cbiAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNDYpO1xufVxuXG4vKipcbiAqIEluY3JlYXNlcyB0aGUgaW50ZW5zaXR5IG9mIGEgY29sb3IuIEl0cyByYW5nZSBpcyBiZXR3ZWVuIDAgdG8gMS4gVGhlIGZpcnN0XG4gKiBhcmd1bWVudCBvZiB0aGUgc2F0dXJhdGUgZnVuY3Rpb24gaXMgdGhlIGFtb3VudCBieSBob3cgbXVjaCB0aGUgY29sb3JcbiAqIGludGVuc2l0eSBzaG91bGQgYmUgaW5jcmVhc2VkLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGJhY2tncm91bmQ6IHNhdHVyYXRlKDAuMiwgJyNDQ0NENjQnKSxcbiAqICAgYmFja2dyb3VuZDogc2F0dXJhdGUoJzAuMicsICdyZ2JhKDIwNCwyMDUsMTAwLDAuNyknKSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZDogJHtzYXR1cmF0ZSgwLjIsICcjRkZDRDY0Jyl9O1xuICogICBiYWNrZ3JvdW5kOiAke3NhdHVyYXRlKCcwLjInLCAncmdiYSgyMDQsMjA1LDEwMCwwLjcpJyl9O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgYmFja2dyb3VuZDogXCIjZTBlMjUwXCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgyMjQsMjI2LDgwLDAuNylcIjtcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBzYXR1cmF0ZShhbW91bnQsIGNvbG9yKSB7XG4gIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIGNvbG9yO1xuICB2YXIgaHNsQ29sb3IgPSBwYXJzZVRvSHNsKGNvbG9yKTtcbiAgcmV0dXJuIHRvQ29sb3JTdHJpbmcoX2V4dGVuZHMoe30sIGhzbENvbG9yLCB7XG4gICAgc2F0dXJhdGlvbjogZ3VhcmQoMCwgMSwgaHNsQ29sb3Iuc2F0dXJhdGlvbiArIHBhcnNlRmxvYXQoYW1vdW50KSlcbiAgfSkpO1xufSAvLyBwcmV0dGllci1pZ25vcmVcblxuXG52YXIgY3VycmllZFNhdHVyYXRlID0gLyojX19QVVJFX18qL2N1cnJ5XG4vKiA6OjxudW1iZXIgfCBzdHJpbmcsIHN0cmluZywgc3RyaW5nPiAqL1xuKHNhdHVyYXRlKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBodWUgb2YgYSBjb2xvciB0byB0aGUgcHJvdmlkZWQgdmFsdWUuIFRoZSBodWUgcmFuZ2UgY2FuIGJlXG4gKiBmcm9tIDAgYW5kIDM1OS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiBzZXRIdWUoNDIsICcjQ0NDRDY0JyksXG4gKiAgIGJhY2tncm91bmQ6IHNldEh1ZSgnMjQ0JywgJ3JnYmEoMjA0LDIwNSwxMDAsMC43KScpLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke3NldEh1ZSg0MiwgJyNDQ0NENjQnKX07XG4gKiAgIGJhY2tncm91bmQ6ICR7c2V0SHVlKCcyNDQnLCAncmdiYSgyMDQsMjA1LDEwMCwwLjcpJyl9O1xuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqIGVsZW1lbnQge1xuICogICBiYWNrZ3JvdW5kOiBcIiNjZGFlNjRcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDEwNywxMDAsMjA1LDAuNylcIjtcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBzZXRIdWUoaHVlLCBjb2xvcikge1xuICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiBjb2xvcjtcbiAgcmV0dXJuIHRvQ29sb3JTdHJpbmcoX2V4dGVuZHMoe30sIHBhcnNlVG9Ic2woY29sb3IpLCB7XG4gICAgaHVlOiBwYXJzZUZsb2F0KGh1ZSlcbiAgfSkpO1xufSAvLyBwcmV0dGllci1pZ25vcmVcblxuXG52YXIgY3VycmllZFNldEh1ZSA9IC8qI19fUFVSRV9fKi9jdXJyeVxuLyogOjo8bnVtYmVyIHwgc3RyaW5nLCBzdHJpbmcsIHN0cmluZz4gKi9cbihzZXRIdWUpO1xuXG4vKipcbiAqIFNldHMgdGhlIGxpZ2h0bmVzcyBvZiBhIGNvbG9yIHRvIHRoZSBwcm92aWRlZCB2YWx1ZS4gVGhlIGxpZ2h0bmVzcyByYW5nZSBjYW4gYmVcbiAqIGZyb20gMCBhbmQgMS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiBzZXRMaWdodG5lc3MoMC4yLCAnI0NDQ0Q2NCcpLFxuICogICBiYWNrZ3JvdW5kOiBzZXRMaWdodG5lc3MoJzAuNzUnLCAncmdiYSgyMDQsMjA1LDEwMCwwLjcpJyksXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7c2V0TGlnaHRuZXNzKDAuMiwgJyNDQ0NENjQnKX07XG4gKiAgIGJhY2tncm91bmQ6ICR7c2V0TGlnaHRuZXNzKCcwLjc1JywgJ3JnYmEoMjA0LDIwNSwxMDAsMC43KScpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKiBlbGVtZW50IHtcbiAqICAgYmFja2dyb3VuZDogXCIjNGQ0ZDE5XCI7XG4gKiAgIGJhY2tncm91bmQ6IFwicmdiYSgyMjMsMjI0LDE1OSwwLjcpXCI7XG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gc2V0TGlnaHRuZXNzKGxpZ2h0bmVzcywgY29sb3IpIHtcbiAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gY29sb3I7XG4gIHJldHVybiB0b0NvbG9yU3RyaW5nKF9leHRlbmRzKHt9LCBwYXJzZVRvSHNsKGNvbG9yKSwge1xuICAgIGxpZ2h0bmVzczogcGFyc2VGbG9hdChsaWdodG5lc3MpXG4gIH0pKTtcbn0gLy8gcHJldHRpZXItaWdub3JlXG5cblxudmFyIGN1cnJpZWRTZXRMaWdodG5lc3MgPSAvKiNfX1BVUkVfXyovY3Vycnlcbi8qIDo6PG51bWJlciB8IHN0cmluZywgc3RyaW5nLCBzdHJpbmc+ICovXG4oc2V0TGlnaHRuZXNzKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBzYXR1cmF0aW9uIG9mIGEgY29sb3IgdG8gdGhlIHByb3ZpZGVkIHZhbHVlLiBUaGUgc2F0dXJhdGlvbiByYW5nZSBjYW4gYmVcbiAqIGZyb20gMCBhbmQgMS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiBzZXRTYXR1cmF0aW9uKDAuMiwgJyNDQ0NENjQnKSxcbiAqICAgYmFja2dyb3VuZDogc2V0U2F0dXJhdGlvbignMC43NScsICdyZ2JhKDIwNCwyMDUsMTAwLDAuNyknKSxcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZDogJHtzZXRTYXR1cmF0aW9uKDAuMiwgJyNDQ0NENjQnKX07XG4gKiAgIGJhY2tncm91bmQ6ICR7c2V0U2F0dXJhdGlvbignMC43NScsICdyZ2JhKDIwNCwyMDUsMTAwLDAuNyknKX07XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiI2FkYWQ4NFwiO1xuICogICBiYWNrZ3JvdW5kOiBcInJnYmEoMjI4LDIyOSw3NiwwLjcpXCI7XG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gc2V0U2F0dXJhdGlvbihzYXR1cmF0aW9uLCBjb2xvcikge1xuICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHJldHVybiBjb2xvcjtcbiAgcmV0dXJuIHRvQ29sb3JTdHJpbmcoX2V4dGVuZHMoe30sIHBhcnNlVG9Ic2woY29sb3IpLCB7XG4gICAgc2F0dXJhdGlvbjogcGFyc2VGbG9hdChzYXR1cmF0aW9uKVxuICB9KSk7XG59IC8vIHByZXR0aWVyLWlnbm9yZVxuXG5cbnZhciBjdXJyaWVkU2V0U2F0dXJhdGlvbiA9IC8qI19fUFVSRV9fKi9jdXJyeVxuLyogOjo8bnVtYmVyIHwgc3RyaW5nLCBzdHJpbmcsIHN0cmluZz4gKi9cbihzZXRTYXR1cmF0aW9uKTtcblxuLyoqXG4gKiBTaGFkZXMgYSBjb2xvciBieSBtaXhpbmcgaXQgd2l0aCBibGFjay4gYHNoYWRlYCBjYW4gcHJvZHVjZVxuICogaHVlIHNoaWZ0cywgd2hlcmUgYXMgYGRhcmtlbmAgbWFuaXB1bGF0ZXMgdGhlIGx1bWluYW5jZSBjaGFubmVsIGFuZCB0aGVyZWZvcmVcbiAqIGRvZXNuJ3QgcHJvZHVjZSBodWUgc2hpZnRzLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIGJhY2tncm91bmQ6IHNoYWRlKDAuMjUsICcjMDBmJylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgYmFja2dyb3VuZDogJHtzaGFkZSgwLjI1LCAnIzAwZicpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKlxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiIzAwMDAzZlwiO1xuICogfVxuICovXG5cbmZ1bmN0aW9uIHNoYWRlKHBlcmNlbnRhZ2UsIGNvbG9yKSB7XG4gIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50JykgcmV0dXJuIGNvbG9yO1xuICByZXR1cm4gY3VycmllZE1peChwYXJzZUZsb2F0KHBlcmNlbnRhZ2UpLCAncmdiKDAsIDAsIDApJywgY29sb3IpO1xufSAvLyBwcmV0dGllci1pZ25vcmVcblxuXG52YXIgY3VycmllZFNoYWRlID0gLyojX19QVVJFX18qL2N1cnJ5XG4vKiA6OjxudW1iZXIgfCBzdHJpbmcsIHN0cmluZywgc3RyaW5nPiAqL1xuKHNoYWRlKTtcblxuLyoqXG4gKiBUaW50cyBhIGNvbG9yIGJ5IG1peGluZyBpdCB3aXRoIHdoaXRlLiBgdGludGAgY2FuIHByb2R1Y2VcbiAqIGh1ZSBzaGlmdHMsIHdoZXJlIGFzIGBsaWdodGVuYCBtYW5pcHVsYXRlcyB0aGUgbHVtaW5hbmNlIGNoYW5uZWwgYW5kIHRoZXJlZm9yZVxuICogZG9lc24ndCBwcm9kdWNlIGh1ZSBzaGlmdHMuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgYmFja2dyb3VuZDogdGludCgwLjI1LCAnIzAwZicpXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgIGJhY2tncm91bmQ6ICR7dGludCgwLjI1LCAnIzAwZicpfTtcbiAqIGBcbiAqXG4gKiAvLyBDU1MgaW4gSlMgT3V0cHV0XG4gKlxuICogZWxlbWVudCB7XG4gKiAgIGJhY2tncm91bmQ6IFwiI2JmYmZmZlwiO1xuICogfVxuICovXG5cbmZ1bmN0aW9uIHRpbnQocGVyY2VudGFnZSwgY29sb3IpIHtcbiAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gY29sb3I7XG4gIHJldHVybiBjdXJyaWVkTWl4KHBhcnNlRmxvYXQocGVyY2VudGFnZSksICdyZ2IoMjU1LCAyNTUsIDI1NSknLCBjb2xvcik7XG59IC8vIHByZXR0aWVyLWlnbm9yZVxuXG5cbnZhciBjdXJyaWVkVGludCA9IC8qI19fUFVSRV9fKi9jdXJyeVxuLyogOjo8bnVtYmVyIHwgc3RyaW5nLCBzdHJpbmcsIHN0cmluZz4gKi9cbih0aW50KTtcblxuLyoqXG4gKiBEZWNyZWFzZXMgdGhlIG9wYWNpdHkgb2YgYSBjb2xvci4gSXRzIHJhbmdlIGZvciB0aGUgYW1vdW50IGlzIGJldHdlZW4gMCB0byAxLlxuICpcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudGl6ZSgwLjEsICcjZmZmJyk7XG4gKiAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50aXplKDAuMiwgJ2hzbCgwLCAwJSwgMTAwJSknKSxcbiAqICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnRpemUoJzAuNScsICdyZ2JhKDI1NSwgMCwgMCwgMC44KScpLFxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICBiYWNrZ3JvdW5kOiAke3RyYW5zcGFyZW50aXplKDAuMSwgJyNmZmYnKX07XG4gKiAgIGJhY2tncm91bmQ6ICR7dHJhbnNwYXJlbnRpemUoMC4yLCAnaHNsKDAsIDAlLCAxMDAlKScpfSxcbiAqICAgYmFja2dyb3VuZDogJHt0cmFuc3BhcmVudGl6ZSgnMC41JywgJ3JnYmEoMjU1LCAwLCAwLCAwLjgpJyl9LFxuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiBlbGVtZW50IHtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDI1NSwyNTUsMjU1LDAuOSlcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDI1NSwyNTUsMjU1LDAuOClcIjtcbiAqICAgYmFja2dyb3VuZDogXCJyZ2JhKDI1NSwwLDAsMC4zKVwiO1xuICogfVxuICovXG5cbmZ1bmN0aW9uIHRyYW5zcGFyZW50aXplKGFtb3VudCwgY29sb3IpIHtcbiAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSByZXR1cm4gY29sb3I7XG4gIHZhciBwYXJzZWRDb2xvciA9IHBhcnNlVG9SZ2IoY29sb3IpO1xuICB2YXIgYWxwaGEgPSB0eXBlb2YgcGFyc2VkQ29sb3IuYWxwaGEgPT09ICdudW1iZXInID8gcGFyc2VkQ29sb3IuYWxwaGEgOiAxO1xuXG4gIHZhciBjb2xvcldpdGhBbHBoYSA9IF9leHRlbmRzKHt9LCBwYXJzZWRDb2xvciwge1xuICAgIGFscGhhOiBndWFyZCgwLCAxLCArKGFscGhhICogMTAwIC0gcGFyc2VGbG9hdChhbW91bnQpICogMTAwKS50b0ZpeGVkKDIpIC8gMTAwKVxuICB9KTtcblxuICByZXR1cm4gcmdiYShjb2xvcldpdGhBbHBoYSk7XG59IC8vIHByZXR0aWVyLWlnbm9yZVxuXG5cbnZhciBjdXJyaWVkVHJhbnNwYXJlbnRpemUgPSAvKiNfX1BVUkVfXyovY3Vycnlcbi8qIDo6PG51bWJlciB8IHN0cmluZywgc3RyaW5nLCBzdHJpbmc+ICovXG4odHJhbnNwYXJlbnRpemUpO1xuXG4vKipcbiAqIFNob3J0aGFuZCBmb3IgZWFzaWx5IHNldHRpbmcgdGhlIGFuaW1hdGlvbiBwcm9wZXJ0eS4gQWxsb3dzIGVpdGhlciBtdWx0aXBsZSBhcnJheXMgd2l0aCBhbmltYXRpb25zXG4gKiBvciBhIHNpbmdsZSBhbmltYXRpb24gc3ByZWFkIG92ZXIgdGhlIGFyZ3VtZW50cy5cbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIC4uLmFuaW1hdGlvbihbJ3JvdGF0ZScsICcxcycsICdlYXNlLWluLW91dCddLCBbJ2NvbG9yY2hhbmdlJywgJzJzJ10pXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgICR7YW5pbWF0aW9uKFsncm90YXRlJywgJzFzJywgJ2Vhc2UtaW4tb3V0J10sIFsnY29sb3JjaGFuZ2UnLCAnMnMnXSl9XG4gKiBgXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICpcbiAqIGRpdiB7XG4gKiAgICdhbmltYXRpb24nOiAncm90YXRlIDFzIGVhc2UtaW4tb3V0LCBjb2xvcmNoYW5nZSAycydcbiAqIH1cbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIC4uLmFuaW1hdGlvbigncm90YXRlJywgJzFzJywgJ2Vhc2UtaW4tb3V0JylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgJHthbmltYXRpb24oJ3JvdGF0ZScsICcxcycsICdlYXNlLWluLW91dCcpfVxuICogYFxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiBkaXYge1xuICogICAnYW5pbWF0aW9uJzogJ3JvdGF0ZSAxcyBlYXNlLWluLW91dCdcbiAqIH1cbiAqL1xuZnVuY3Rpb24gYW5pbWF0aW9uKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgLy8gQWxsb3cgc2luZ2xlIG9yIG11bHRpcGxlIGFuaW1hdGlvbnMgcGFzc2VkXG4gIHZhciBtdWx0aU1vZGUgPSBBcnJheS5pc0FycmF5KGFyZ3NbMF0pO1xuXG4gIGlmICghbXVsdGlNb2RlICYmIGFyZ3MubGVuZ3RoID4gOCkge1xuICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDY0KTtcbiAgfVxuXG4gIHZhciBjb2RlID0gYXJncy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgIGlmIChtdWx0aU1vZGUgJiYgIUFycmF5LmlzQXJyYXkoYXJnKSB8fCAhbXVsdGlNb2RlICYmIEFycmF5LmlzQXJyYXkoYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNjUpO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykgJiYgYXJnLmxlbmd0aCA+IDgpIHtcbiAgICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDY2KTtcbiAgICB9XG5cbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhcmcpID8gYXJnLmpvaW4oJyAnKSA6IGFyZztcbiAgfSkuam9pbignLCAnKTtcbiAgcmV0dXJuIHtcbiAgICBhbmltYXRpb246IGNvZGVcbiAgfTtcbn1cblxuLyoqXG4gKiBTaG9ydGhhbmQgdGhhdCBhY2NlcHRzIGFueSBudW1iZXIgb2YgYmFja2dyb3VuZEltYWdlIHZhbHVlcyBhcyBwYXJhbWV0ZXJzIGZvciBjcmVhdGluZyBhIHNpbmdsZSBiYWNrZ3JvdW5kIHN0YXRlbWVudC5cbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIC4uLmJhY2tncm91bmRJbWFnZXMoJ3VybChcIi9pbWFnZS9iYWNrZ3JvdW5kLmpwZ1wiKScsICdsaW5lYXItZ3JhZGllbnQocmVkLCBncmVlbiknKVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICAke2JhY2tncm91bmRJbWFnZXMoJ3VybChcIi9pbWFnZS9iYWNrZ3JvdW5kLmpwZ1wiKScsICdsaW5lYXItZ3JhZGllbnQocmVkLCBncmVlbiknKX1cbiAqIGBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogZGl2IHtcbiAqICAgJ2JhY2tncm91bmRJbWFnZSc6ICd1cmwoXCIvaW1hZ2UvYmFja2dyb3VuZC5qcGdcIiksIGxpbmVhci1ncmFkaWVudChyZWQsIGdyZWVuKSdcbiAqIH1cbiAqL1xuZnVuY3Rpb24gYmFja2dyb3VuZEltYWdlcygpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHByb3BlcnRpZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgcHJvcGVydGllc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYmFja2dyb3VuZEltYWdlOiBwcm9wZXJ0aWVzLmpvaW4oJywgJylcbiAgfTtcbn1cblxuLyoqXG4gKiBTaG9ydGhhbmQgdGhhdCBhY2NlcHRzIGFueSBudW1iZXIgb2YgYmFja2dyb3VuZCB2YWx1ZXMgYXMgcGFyYW1ldGVycyBmb3IgY3JlYXRpbmcgYSBzaW5nbGUgYmFja2dyb3VuZCBzdGF0ZW1lbnQuXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAuLi5iYWNrZ3JvdW5kcygndXJsKFwiL2ltYWdlL2JhY2tncm91bmQuanBnXCIpJywgJ2xpbmVhci1ncmFkaWVudChyZWQsIGdyZWVuKScsICdjZW50ZXIgbm8tcmVwZWF0JylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgJHtiYWNrZ3JvdW5kcygndXJsKFwiL2ltYWdlL2JhY2tncm91bmQuanBnXCIpJywgJ2xpbmVhci1ncmFkaWVudChyZWQsIGdyZWVuKScsICdjZW50ZXIgbm8tcmVwZWF0Jyl9XG4gKiBgXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICpcbiAqIGRpdiB7XG4gKiAgICdiYWNrZ3JvdW5kJzogJ3VybChcIi9pbWFnZS9iYWNrZ3JvdW5kLmpwZ1wiKSwgbGluZWFyLWdyYWRpZW50KHJlZCwgZ3JlZW4pLCBjZW50ZXIgbm8tcmVwZWF0J1xuICogfVxuICovXG5mdW5jdGlvbiBiYWNrZ3JvdW5kcygpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHByb3BlcnRpZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgcHJvcGVydGllc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYmFja2dyb3VuZDogcHJvcGVydGllcy5qb2luKCcsICcpXG4gIH07XG59XG5cbnZhciBzaWRlTWFwID0gWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXTtcbi8qKlxuICogU2hvcnRoYW5kIGZvciB0aGUgYm9yZGVyIHByb3BlcnR5IHRoYXQgc3BsaXRzIG91dCBpbmRpdmlkdWFsIHByb3BlcnRpZXMgZm9yIHVzZSB3aXRoIHRvb2xzIGxpa2UgRmVsYSBhbmQgU3R5bGV0cm9uLiBBIHNpZGUga2V5d29yZCBjYW4gb3B0aW9uYWxseSBiZSBwYXNzZWQgdG8gdGFyZ2V0IG9ubHkgb25lIHNpZGUncyBib3JkZXIgcHJvcGVydGllcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAuLi5ib3JkZXIoJzFweCcsICdzb2xpZCcsICdyZWQnKVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICAke2JvcmRlcignMXB4JywgJ3NvbGlkJywgJ3JlZCcpfVxuICogYFxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiBkaXYge1xuICogICAnYm9yZGVyQ29sb3InOiAncmVkJyxcbiAqICAgJ2JvcmRlclN0eWxlJzogJ3NvbGlkJyxcbiAqICAgJ2JvcmRlcldpZHRoJzogYDFweGAsXG4gKiB9XG4gKlxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAuLi5ib3JkZXIoJ3RvcCcsICcxcHgnLCAnc29saWQnLCAncmVkJylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgJHtib3JkZXIoJ3RvcCcsICcxcHgnLCAnc29saWQnLCAncmVkJyl9XG4gKiBgXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICpcbiAqIGRpdiB7XG4gKiAgICdib3JkZXJUb3BDb2xvcic6ICdyZWQnLFxuICogICAnYm9yZGVyVG9wU3R5bGUnOiAnc29saWQnLFxuICogICAnYm9yZGVyVG9wV2lkdGgnOiBgMXB4YCxcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiBib3JkZXIoc2lkZUtleXdvcmQpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHZhbHVlcyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgdmFsdWVzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc2lkZUtleXdvcmQgPT09ICdzdHJpbmcnICYmIHNpZGVNYXAuaW5kZXhPZihzaWRlS2V5d29yZCkgPj0gMCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgcmV0dXJuIF9yZWYgPSB7fSwgX3JlZltcImJvcmRlclwiICsgY2FwaXRhbGl6ZVN0cmluZyhzaWRlS2V5d29yZCkgKyBcIldpZHRoXCJdID0gdmFsdWVzWzBdLCBfcmVmW1wiYm9yZGVyXCIgKyBjYXBpdGFsaXplU3RyaW5nKHNpZGVLZXl3b3JkKSArIFwiU3R5bGVcIl0gPSB2YWx1ZXNbMV0sIF9yZWZbXCJib3JkZXJcIiArIGNhcGl0YWxpemVTdHJpbmcoc2lkZUtleXdvcmQpICsgXCJDb2xvclwiXSA9IHZhbHVlc1syXSwgX3JlZjtcbiAgfSBlbHNlIHtcbiAgICB2YWx1ZXMudW5zaGlmdChzaWRlS2V5d29yZCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJvcmRlcldpZHRoOiB2YWx1ZXNbMF0sXG4gICAgICBib3JkZXJTdHlsZTogdmFsdWVzWzFdLFxuICAgICAgYm9yZGVyQ29sb3I6IHZhbHVlc1syXVxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBTaG9ydGhhbmQgdGhhdCBhY2NlcHRzIHVwIHRvIGZvdXIgdmFsdWVzLCBpbmNsdWRpbmcgbnVsbCB0byBza2lwIGEgdmFsdWUsIGFuZCBtYXBzIHRoZW0gdG8gdGhlaXIgcmVzcGVjdGl2ZSBkaXJlY3Rpb25zLlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgLi4uYm9yZGVyQ29sb3IoJ3JlZCcsICdncmVlbicsICdibHVlJywgJ3llbGxvdycpXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgICR7Ym9yZGVyQ29sb3IoJ3JlZCcsICdncmVlbicsICdibHVlJywgJ3llbGxvdycpfVxuICogYFxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiBkaXYge1xuICogICAnYm9yZGVyVG9wQ29sb3InOiAncmVkJyxcbiAqICAgJ2JvcmRlclJpZ2h0Q29sb3InOiAnZ3JlZW4nLFxuICogICAnYm9yZGVyQm90dG9tQ29sb3InOiAnYmx1ZScsXG4gKiAgICdib3JkZXJMZWZ0Q29sb3InOiAneWVsbG93J1xuICogfVxuICovXG5mdW5jdGlvbiBib3JkZXJDb2xvcigpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHZhbHVlcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICB2YWx1ZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZGlyZWN0aW9uYWxQcm9wZXJ0eS5hcHBseSh2b2lkIDAsIFsnYm9yZGVyQ29sb3InXS5jb25jYXQodmFsdWVzKSk7XG59XG5cbi8qKlxuICogU2hvcnRoYW5kIHRoYXQgYWNjZXB0cyBhIHZhbHVlIGZvciBzaWRlIGFuZCBhIHZhbHVlIGZvciByYWRpdXMgYW5kIGFwcGxpZXMgdGhlIHJhZGl1cyB2YWx1ZSB0byBib3RoIGNvcm5lcnMgb2YgdGhlIHNpZGUuXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAuLi5ib3JkZXJSYWRpdXMoJ3RvcCcsICc1cHgnKVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICAke2JvcmRlclJhZGl1cygndG9wJywgJzVweCcpfVxuICogYFxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiBkaXYge1xuICogICAnYm9yZGVyVG9wUmlnaHRSYWRpdXMnOiAnNXB4JyxcbiAqICAgJ2JvcmRlclRvcExlZnRSYWRpdXMnOiAnNXB4JyxcbiAqIH1cbiAqL1xuZnVuY3Rpb24gYm9yZGVyUmFkaXVzKHNpZGUsIHJhZGl1cykge1xuICB2YXIgdXBwZXJjYXNlU2lkZSA9IGNhcGl0YWxpemVTdHJpbmcoc2lkZSk7XG5cbiAgaWYgKCFyYWRpdXMgJiYgcmFkaXVzICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNjIpO1xuICB9XG5cbiAgaWYgKHVwcGVyY2FzZVNpZGUgPT09ICdUb3AnIHx8IHVwcGVyY2FzZVNpZGUgPT09ICdCb3R0b20nKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICByZXR1cm4gX3JlZiA9IHt9LCBfcmVmW1wiYm9yZGVyXCIgKyB1cHBlcmNhc2VTaWRlICsgXCJSaWdodFJhZGl1c1wiXSA9IHJhZGl1cywgX3JlZltcImJvcmRlclwiICsgdXBwZXJjYXNlU2lkZSArIFwiTGVmdFJhZGl1c1wiXSA9IHJhZGl1cywgX3JlZjtcbiAgfVxuXG4gIGlmICh1cHBlcmNhc2VTaWRlID09PSAnTGVmdCcgfHwgdXBwZXJjYXNlU2lkZSA9PT0gJ1JpZ2h0Jykge1xuICAgIHZhciBfcmVmMjtcblxuICAgIHJldHVybiBfcmVmMiA9IHt9LCBfcmVmMltcImJvcmRlclRvcFwiICsgdXBwZXJjYXNlU2lkZSArIFwiUmFkaXVzXCJdID0gcmFkaXVzLCBfcmVmMltcImJvcmRlckJvdHRvbVwiICsgdXBwZXJjYXNlU2lkZSArIFwiUmFkaXVzXCJdID0gcmFkaXVzLCBfcmVmMjtcbiAgfVxuXG4gIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDYzKTtcbn1cblxuLyoqXG4gKiBTaG9ydGhhbmQgdGhhdCBhY2NlcHRzIHVwIHRvIGZvdXIgdmFsdWVzLCBpbmNsdWRpbmcgbnVsbCB0byBza2lwIGEgdmFsdWUsIGFuZCBtYXBzIHRoZW0gdG8gdGhlaXIgcmVzcGVjdGl2ZSBkaXJlY3Rpb25zLlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgLi4uYm9yZGVyU3R5bGUoJ3NvbGlkJywgJ2Rhc2hlZCcsICdkb3R0ZWQnLCAnZG91YmxlJylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgJHtib3JkZXJTdHlsZSgnc29saWQnLCAnZGFzaGVkJywgJ2RvdHRlZCcsICdkb3VibGUnKX1cbiAqIGBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogZGl2IHtcbiAqICAgJ2JvcmRlclRvcFN0eWxlJzogJ3NvbGlkJyxcbiAqICAgJ2JvcmRlclJpZ2h0U3R5bGUnOiAnZGFzaGVkJyxcbiAqICAgJ2JvcmRlckJvdHRvbVN0eWxlJzogJ2RvdHRlZCcsXG4gKiAgICdib3JkZXJMZWZ0U3R5bGUnOiAnZG91YmxlJ1xuICogfVxuICovXG5mdW5jdGlvbiBib3JkZXJTdHlsZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHZhbHVlcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICB2YWx1ZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZGlyZWN0aW9uYWxQcm9wZXJ0eS5hcHBseSh2b2lkIDAsIFsnYm9yZGVyU3R5bGUnXS5jb25jYXQodmFsdWVzKSk7XG59XG5cbi8qKlxuICogU2hvcnRoYW5kIHRoYXQgYWNjZXB0cyB1cCB0byBmb3VyIHZhbHVlcywgaW5jbHVkaW5nIG51bGwgdG8gc2tpcCBhIHZhbHVlLCBhbmQgbWFwcyB0aGVtIHRvIHRoZWlyIHJlc3BlY3RpdmUgZGlyZWN0aW9ucy5cbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIC4uLmJvcmRlcldpZHRoKCcxMnB4JywgJzI0cHgnLCAnMzZweCcsICc0OHB4JylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgJHtib3JkZXJXaWR0aCgnMTJweCcsICcyNHB4JywgJzM2cHgnLCAnNDhweCcpfVxuICogYFxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiBkaXYge1xuICogICAnYm9yZGVyVG9wV2lkdGgnOiAnMTJweCcsXG4gKiAgICdib3JkZXJSaWdodFdpZHRoJzogJzI0cHgnLFxuICogICAnYm9yZGVyQm90dG9tV2lkdGgnOiAnMzZweCcsXG4gKiAgICdib3JkZXJMZWZ0V2lkdGgnOiAnNDhweCdcbiAqIH1cbiAqL1xuZnVuY3Rpb24gYm9yZGVyV2lkdGgoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCB2YWx1ZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgdmFsdWVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGRpcmVjdGlvbmFsUHJvcGVydHkuYXBwbHkodm9pZCAwLCBbJ2JvcmRlcldpZHRoJ10uY29uY2F0KHZhbHVlcykpO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVNlbGVjdG9ycyh0ZW1wbGF0ZSwgc3RhdGUpIHtcbiAgdmFyIHN0YXRlU3VmZml4ID0gc3RhdGUgPyBcIjpcIiArIHN0YXRlIDogJyc7XG4gIHJldHVybiB0ZW1wbGF0ZShzdGF0ZVN1ZmZpeCk7XG59XG4vKipcbiAqIEZ1bmN0aW9uIGhlbHBlciB0aGF0IGFkZHMgYW4gYXJyYXkgb2Ygc3RhdGVzIHRvIGEgdGVtcGxhdGUgb2Ygc2VsZWN0b3JzLiBVc2VkIGluIHRleHRJbnB1dHMgYW5kIGJ1dHRvbnMuXG4gKiBAcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gc3RhdGVmdWxTZWxlY3RvcnMoc3RhdGVzLCB0ZW1wbGF0ZSwgc3RhdGVNYXApIHtcbiAgaWYgKCF0ZW1wbGF0ZSkgdGhyb3cgbmV3IFBvbGlzaGVkRXJyb3IoNjcpO1xuICBpZiAoc3RhdGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGdlbmVyYXRlU2VsZWN0b3JzKHRlbXBsYXRlLCBudWxsKTtcbiAgdmFyIHNlbGVjdG9ycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKHN0YXRlTWFwICYmIHN0YXRlTWFwLmluZGV4T2Yoc3RhdGVzW2ldKSA8IDApIHtcbiAgICAgIHRocm93IG5ldyBQb2xpc2hlZEVycm9yKDY4KTtcbiAgICB9XG5cbiAgICBzZWxlY3RvcnMucHVzaChnZW5lcmF0ZVNlbGVjdG9ycyh0ZW1wbGF0ZSwgc3RhdGVzW2ldKSk7XG4gIH1cblxuICBzZWxlY3RvcnMgPSBzZWxlY3RvcnMuam9pbignLCcpO1xuICByZXR1cm4gc2VsZWN0b3JzO1xufVxuXG52YXIgc3RhdGVNYXAkMSA9IFt1bmRlZmluZWQsIG51bGwsICdhY3RpdmUnLCAnZm9jdXMnLCAnaG92ZXInXTtcblxuZnVuY3Rpb24gdGVtcGxhdGUkMShzdGF0ZSkge1xuICByZXR1cm4gXCJidXR0b25cIiArIHN0YXRlICsgXCIsXFxuICBpbnB1dFt0eXBlPVxcXCJidXR0b25cXFwiXVwiICsgc3RhdGUgKyBcIixcXG4gIGlucHV0W3R5cGU9XFxcInJlc2V0XFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICBpbnB1dFt0eXBlPVxcXCJzdWJtaXRcXFwiXVwiICsgc3RhdGU7XG59XG4vKipcbiAqIFBvcHVsYXRlcyBzZWxlY3RvcnMgdGhhdCB0YXJnZXQgYWxsIGJ1dHRvbnMuIFlvdSBjYW4gcGFzcyBvcHRpb25hbCBzdGF0ZXMgdG8gYXBwZW5kIHRvIHRoZSBzZWxlY3RvcnMuXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICBbYnV0dG9ucygnYWN0aXZlJyldOiB7XG4gKiAgICAgJ2JvcmRlcic6ICdub25lJ1xuICogICB9XG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgID4gJHtidXR0b25zKCdhY3RpdmUnKX0ge1xuICogICAgIGJvcmRlcjogbm9uZTtcbiAqICAgfVxuICogYFxuICpcbiAqIC8vIENTUyBpbiBKUyBPdXRwdXRcbiAqXG4gKiAgJ2J1dHRvbjphY3RpdmUsXG4gKiAgJ2lucHV0W3R5cGU9XCJidXR0b25cIl06YWN0aXZlLFxuICogICdpbnB1dFt0eXBlPVxcXCJyZXNldFxcXCJdOmFjdGl2ZSxcbiAqICAnaW5wdXRbdHlwZT1cXFwic3VibWl0XFxcIl06YWN0aXZlOiB7XG4gKiAgICdib3JkZXInOiAnbm9uZSdcbiAqIH1cbiAqL1xuXG5cbmZ1bmN0aW9uIGJ1dHRvbnMoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzdGF0ZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgc3RhdGVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlZnVsU2VsZWN0b3JzKHN0YXRlcywgdGVtcGxhdGUkMSwgc3RhdGVNYXAkMSk7XG59XG5cbi8qKlxuICogU2hvcnRoYW5kIHRoYXQgYWNjZXB0cyB1cCB0byBmb3VyIHZhbHVlcywgaW5jbHVkaW5nIG51bGwgdG8gc2tpcCBhIHZhbHVlLCBhbmQgbWFwcyB0aGVtIHRvIHRoZWlyIHJlc3BlY3RpdmUgZGlyZWN0aW9ucy5cbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIC4uLm1hcmdpbignMTJweCcsICcyNHB4JywgJzM2cHgnLCAnNDhweCcpXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgICR7bWFyZ2luKCcxMnB4JywgJzI0cHgnLCAnMzZweCcsICc0OHB4Jyl9XG4gKiBgXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICpcbiAqIGRpdiB7XG4gKiAgICdtYXJnaW5Ub3AnOiAnMTJweCcsXG4gKiAgICdtYXJnaW5SaWdodCc6ICcyNHB4JyxcbiAqICAgJ21hcmdpbkJvdHRvbSc6ICczNnB4JyxcbiAqICAgJ21hcmdpbkxlZnQnOiAnNDhweCdcbiAqIH1cbiAqL1xuZnVuY3Rpb24gbWFyZ2luKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgdmFsdWVzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHZhbHVlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBkaXJlY3Rpb25hbFByb3BlcnR5LmFwcGx5KHZvaWQgMCwgWydtYXJnaW4nXS5jb25jYXQodmFsdWVzKSk7XG59XG5cbi8qKlxuICogU2hvcnRoYW5kIHRoYXQgYWNjZXB0cyB1cCB0byBmb3VyIHZhbHVlcywgaW5jbHVkaW5nIG51bGwgdG8gc2tpcCBhIHZhbHVlLCBhbmQgbWFwcyB0aGVtIHRvIHRoZWlyIHJlc3BlY3RpdmUgZGlyZWN0aW9ucy5cbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIC4uLnBhZGRpbmcoJzEycHgnLCAnMjRweCcsICczNnB4JywgJzQ4cHgnKVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICAke3BhZGRpbmcoJzEycHgnLCAnMjRweCcsICczNnB4JywgJzQ4cHgnKX1cbiAqIGBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogZGl2IHtcbiAqICAgJ3BhZGRpbmdUb3AnOiAnMTJweCcsXG4gKiAgICdwYWRkaW5nUmlnaHQnOiAnMjRweCcsXG4gKiAgICdwYWRkaW5nQm90dG9tJzogJzM2cHgnLFxuICogICAncGFkZGluZ0xlZnQnOiAnNDhweCdcbiAqIH1cbiAqL1xuZnVuY3Rpb24gcGFkZGluZygpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHZhbHVlcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICB2YWx1ZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZGlyZWN0aW9uYWxQcm9wZXJ0eS5hcHBseSh2b2lkIDAsIFsncGFkZGluZyddLmNvbmNhdCh2YWx1ZXMpKTtcbn1cblxudmFyIHBvc2l0aW9uTWFwID0gWydhYnNvbHV0ZScsICdmaXhlZCcsICdyZWxhdGl2ZScsICdzdGF0aWMnLCAnc3RpY2t5J107XG4vKipcbiAqIFNob3J0aGFuZCBhY2NlcHRzIHVwIHRvIGZpdmUgdmFsdWVzLCBpbmNsdWRpbmcgbnVsbCB0byBza2lwIGEgdmFsdWUsIGFuZCBtYXBzIHRoZW0gdG8gdGhlaXIgcmVzcGVjdGl2ZSBkaXJlY3Rpb25zLiBUaGUgZmlyc3QgdmFsdWUgY2FuIG9wdGlvbmFsbHkgYmUgYSBwb3NpdGlvbiBrZXl3b3JkLlxuICogQGV4YW1wbGVcbiAqIC8vIFN0eWxlcyBhcyBvYmplY3QgdXNhZ2VcbiAqIGNvbnN0IHN0eWxlcyA9IHtcbiAqICAgLi4ucG9zaXRpb24oJzEycHgnLCAnMjRweCcsICczNnB4JywgJzQ4cHgnKVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICAke3Bvc2l0aW9uKCcxMnB4JywgJzI0cHgnLCAnMzZweCcsICc0OHB4Jyl9XG4gKiBgXG4gKlxuICogLy8gQ1NTIGFzIEpTIE91dHB1dFxuICpcbiAqIGRpdiB7XG4gKiAgICd0b3AnOiAnMTJweCcsXG4gKiAgICdyaWdodCc6ICcyNHB4JyxcbiAqICAgJ2JvdHRvbSc6ICczNnB4JyxcbiAqICAgJ2xlZnQnOiAnNDhweCdcbiAqIH1cbiAqXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIC4uLnBvc2l0aW9uKCdhYnNvbHV0ZScsICcxMnB4JywgJzI0cHgnLCAnMzZweCcsICc0OHB4JylcbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgJHtwb3NpdGlvbignYWJzb2x1dGUnLCAnMTJweCcsICcyNHB4JywgJzM2cHgnLCAnNDhweCcpfVxuICogYFxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiBkaXYge1xuICogICAncG9zaXRpb24nOiAnYWJzb2x1dGUnLFxuICogICAndG9wJzogJzEycHgnLFxuICogICAncmlnaHQnOiAnMjRweCcsXG4gKiAgICdib3R0b20nOiAnMzZweCcsXG4gKiAgICdsZWZ0JzogJzQ4cHgnXG4gKiB9XG4gKi9cblxuZnVuY3Rpb24gcG9zaXRpb24oZmlyc3RWYWx1ZSkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgdmFsdWVzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICB2YWx1ZXNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgaWYgKHBvc2l0aW9uTWFwLmluZGV4T2YoZmlyc3RWYWx1ZSkgPj0gMCAmJiBmaXJzdFZhbHVlKSB7XG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBkaXJlY3Rpb25hbFByb3BlcnR5LmFwcGx5KHZvaWQgMCwgWycnXS5jb25jYXQodmFsdWVzKSksIHtcbiAgICAgIHBvc2l0aW9uOiBmaXJzdFZhbHVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGRpcmVjdGlvbmFsUHJvcGVydHkuYXBwbHkodm9pZCAwLCBbJycsIGZpcnN0VmFsdWVdLmNvbmNhdCh2YWx1ZXMpKTtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0aGFuZCB0byBzZXQgdGhlIGhlaWdodCBhbmQgd2lkdGggcHJvcGVydGllcyBpbiBhIHNpbmdsZSBzdGF0ZW1lbnQuXG4gKiBAZXhhbXBsZVxuICogLy8gU3R5bGVzIGFzIG9iamVjdCB1c2FnZVxuICogY29uc3Qgc3R5bGVzID0ge1xuICogICAuLi5zaXplKCczMDBweCcsICcyNTBweCcpXG4gKiB9XG4gKlxuICogLy8gc3R5bGVkLWNvbXBvbmVudHMgdXNhZ2VcbiAqIGNvbnN0IGRpdiA9IHN0eWxlZC5kaXZgXG4gKiAgICR7c2l6ZSgnMzAwcHgnLCAnMjUwcHgnKX1cbiAqIGBcbiAqXG4gKiAvLyBDU1MgYXMgSlMgT3V0cHV0XG4gKlxuICogZGl2IHtcbiAqICAgJ2hlaWdodCc6ICczMDBweCcsXG4gKiAgICd3aWR0aCc6ICcyNTBweCcsXG4gKiB9XG4gKi9cbmZ1bmN0aW9uIHNpemUoaGVpZ2h0LCB3aWR0aCkge1xuICBpZiAod2lkdGggPT09IHZvaWQgMCkge1xuICAgIHdpZHRoID0gaGVpZ2h0O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB3aWR0aDogd2lkdGhcbiAgfTtcbn1cblxudmFyIHN0YXRlTWFwID0gW3VuZGVmaW5lZCwgbnVsbCwgJ2FjdGl2ZScsICdmb2N1cycsICdob3ZlciddO1xuXG5mdW5jdGlvbiB0ZW1wbGF0ZShzdGF0ZSkge1xuICByZXR1cm4gXCJpbnB1dFt0eXBlPVxcXCJjb2xvclxcXCJdXCIgKyBzdGF0ZSArIFwiLFxcbiAgICBpbnB1dFt0eXBlPVxcXCJkYXRlXFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICAgIGlucHV0W3R5cGU9XFxcImRhdGV0aW1lXFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICAgIGlucHV0W3R5cGU9XFxcImRhdGV0aW1lLWxvY2FsXFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICAgIGlucHV0W3R5cGU9XFxcImVtYWlsXFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICAgIGlucHV0W3R5cGU9XFxcIm1vbnRoXFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICAgIGlucHV0W3R5cGU9XFxcIm51bWJlclxcXCJdXCIgKyBzdGF0ZSArIFwiLFxcbiAgICBpbnB1dFt0eXBlPVxcXCJwYXNzd29yZFxcXCJdXCIgKyBzdGF0ZSArIFwiLFxcbiAgICBpbnB1dFt0eXBlPVxcXCJzZWFyY2hcXFwiXVwiICsgc3RhdGUgKyBcIixcXG4gICAgaW5wdXRbdHlwZT1cXFwidGVsXFxcIl1cIiArIHN0YXRlICsgXCIsXFxuICAgIGlucHV0W3R5cGU9XFxcInRleHRcXFwiXVwiICsgc3RhdGUgKyBcIixcXG4gICAgaW5wdXRbdHlwZT1cXFwidGltZVxcXCJdXCIgKyBzdGF0ZSArIFwiLFxcbiAgICBpbnB1dFt0eXBlPVxcXCJ1cmxcXFwiXVwiICsgc3RhdGUgKyBcIixcXG4gICAgaW5wdXRbdHlwZT1cXFwid2Vla1xcXCJdXCIgKyBzdGF0ZSArIFwiLFxcbiAgICBpbnB1dDpub3QoW3R5cGVdKVwiICsgc3RhdGUgKyBcIixcXG4gICAgdGV4dGFyZWFcIiArIHN0YXRlO1xufVxuLyoqXG4gKiBQb3B1bGF0ZXMgc2VsZWN0b3JzIHRoYXQgdGFyZ2V0IGFsbCB0ZXh0IGlucHV0cy4gWW91IGNhbiBwYXNzIG9wdGlvbmFsIHN0YXRlcyB0byBhcHBlbmQgdG8gdGhlIHNlbGVjdG9ycy5cbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIFt0ZXh0SW5wdXRzKCdhY3RpdmUnKV06IHtcbiAqICAgICAnYm9yZGVyJzogJ25vbmUnXG4gKiAgIH1cbiAqIH1cbiAqXG4gKiAvLyBzdHlsZWQtY29tcG9uZW50cyB1c2FnZVxuICogY29uc3QgZGl2ID0gc3R5bGVkLmRpdmBcbiAqICAgPiAke3RleHRJbnB1dHMoJ2FjdGl2ZScpfSB7XG4gKiAgICAgYm9yZGVyOiBub25lO1xuICogICB9XG4gKiBgXG4gKlxuICogLy8gQ1NTIGluIEpTIE91dHB1dFxuICpcbiAqICAnaW5wdXRbdHlwZT1cImNvbG9yXCJdOmFjdGl2ZSxcbiAqICBpbnB1dFt0eXBlPVwiZGF0ZVwiXTphY3RpdmUsXG4gKiAgaW5wdXRbdHlwZT1cImRhdGV0aW1lXCJdOmFjdGl2ZSxcbiAqICBpbnB1dFt0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIl06YWN0aXZlLFxuICogIGlucHV0W3R5cGU9XCJlbWFpbFwiXTphY3RpdmUsXG4gKiAgaW5wdXRbdHlwZT1cIm1vbnRoXCJdOmFjdGl2ZSxcbiAqICBpbnB1dFt0eXBlPVwibnVtYmVyXCJdOmFjdGl2ZSxcbiAqICBpbnB1dFt0eXBlPVwicGFzc3dvcmRcIl06YWN0aXZlLFxuICogIGlucHV0W3R5cGU9XCJzZWFyY2hcIl06YWN0aXZlLFxuICogIGlucHV0W3R5cGU9XCJ0ZWxcIl06YWN0aXZlLFxuICogIGlucHV0W3R5cGU9XCJ0ZXh0XCJdOmFjdGl2ZSxcbiAqICBpbnB1dFt0eXBlPVwidGltZVwiXTphY3RpdmUsXG4gKiAgaW5wdXRbdHlwZT1cInVybFwiXTphY3RpdmUsXG4gKiAgaW5wdXRbdHlwZT1cIndlZWtcIl06YWN0aXZlLFxuICogIGlucHV0Om5vdChbdHlwZV0pOmFjdGl2ZSxcbiAqICB0ZXh0YXJlYTphY3RpdmUnOiB7XG4gKiAgICdib3JkZXInOiAnbm9uZSdcbiAqIH1cbiAqL1xuXG5cbmZ1bmN0aW9uIHRleHRJbnB1dHMoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzdGF0ZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgc3RhdGVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlZnVsU2VsZWN0b3JzKHN0YXRlcywgdGVtcGxhdGUsIHN0YXRlTWFwKTtcbn1cblxuLyoqXG4gKiBBY2NlcHRzIGFueSBudW1iZXIgb2YgdHJhbnNpdGlvbiB2YWx1ZXMgYXMgcGFyYW1ldGVycyBmb3IgY3JlYXRpbmcgYSBzaW5nbGUgdHJhbnNpdGlvbiBzdGF0ZW1lbnQuIFlvdSBtYXkgYWxzbyBwYXNzIGFuIGFycmF5IG9mIHByb3BlcnRpZXMgYXMgdGhlIGZpcnN0IHBhcmFtZXRlciB0aGF0IHlvdSB3b3VsZCBsaWtlIHRvIGFwcGx5IHRoZSBzYW1lIHRyYW5zaXRpb24gdmFsdWVzIHRvIChzZWNvbmQgcGFyYW1ldGVyKS5cbiAqIEBleGFtcGxlXG4gKiAvLyBTdHlsZXMgYXMgb2JqZWN0IHVzYWdlXG4gKiBjb25zdCBzdHlsZXMgPSB7XG4gKiAgIC4uLnRyYW5zaXRpb25zKCdvcGFjaXR5IDEuMHMgZWFzZS1pbiAwcycsICd3aWR0aCAyLjBzIGVhc2UtaW4gMnMnKSxcbiAqICAgLi4udHJhbnNpdGlvbnMoWydjb2xvcicsICdiYWNrZ3JvdW5kLWNvbG9yJ10sICcyLjBzIGVhc2UtaW4gMnMnKVxuICogfVxuICpcbiAqIC8vIHN0eWxlZC1jb21wb25lbnRzIHVzYWdlXG4gKiBjb25zdCBkaXYgPSBzdHlsZWQuZGl2YFxuICogICAke3RyYW5zaXRpb25zKCdvcGFjaXR5IDEuMHMgZWFzZS1pbiAwcycsICd3aWR0aCAyLjBzIGVhc2UtaW4gMnMnKX07XG4gKiAgICR7dHJhbnNpdGlvbnMoWydjb2xvcicsICdiYWNrZ3JvdW5kLWNvbG9yJ10sICcyLjBzIGVhc2UtaW4gMnMnKSx9O1xuICogYFxuICpcbiAqIC8vIENTUyBhcyBKUyBPdXRwdXRcbiAqXG4gKiBkaXYge1xuICogICAndHJhbnNpdGlvbic6ICdvcGFjaXR5IDEuMHMgZWFzZS1pbiAwcywgd2lkdGggMi4wcyBlYXNlLWluIDJzJ1xuICogICAndHJhbnNpdGlvbic6ICdjb2xvciAyLjBzIGVhc2UtaW4gMnMsIGJhY2tncm91bmQtY29sb3IgMi4wcyBlYXNlLWluIDJzJyxcbiAqIH1cbiAqL1xuXG5mdW5jdGlvbiB0cmFuc2l0aW9ucygpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHByb3BlcnRpZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgcHJvcGVydGllc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnRpZXNbMF0pICYmIHByb3BlcnRpZXMubGVuZ3RoID09PSAyKSB7XG4gICAgdmFyIHZhbHVlID0gcHJvcGVydGllc1sxXTtcblxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgUG9saXNoZWRFcnJvcig2MSk7XG4gICAgfVxuXG4gICAgdmFyIHRyYW5zaXRpb25zU3RyaW5nID0gcHJvcGVydGllc1swXS5tYXAoZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gcHJvcGVydHkgKyBcIiBcIiArIHZhbHVlO1xuICAgIH0pLmpvaW4oJywgJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRyYW5zaXRpb246IHRyYW5zaXRpb25zU3RyaW5nXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHJhbnNpdGlvbjogcHJvcGVydGllcy5qb2luKCcsICcpXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgeyBjdXJyaWVkQWRqdXN0SHVlIGFzIGFkanVzdEh1ZSwgYW5pbWF0aW9uLCBiYWNrZ3JvdW5kSW1hZ2VzLCBiYWNrZ3JvdW5kcywgYmV0d2VlbiwgYm9yZGVyLCBib3JkZXJDb2xvciwgYm9yZGVyUmFkaXVzLCBib3JkZXJTdHlsZSwgYm9yZGVyV2lkdGgsIGJ1dHRvbnMsIGNsZWFyRml4LCBjb21wbGVtZW50LCBjb3ZlciwgY3NzVmFyLCBjdXJyaWVkRGFya2VuIGFzIGRhcmtlbiwgY3VycmllZERlc2F0dXJhdGUgYXMgZGVzYXR1cmF0ZSwgZGlyZWN0aW9uYWxQcm9wZXJ0eSwgZWFzZUluLCBlYXNlSW5PdXQsIGVhc2VPdXQsIGVsbGlwc2lzLCBlbSwgZmx1aWRSYW5nZSwgZm9udEZhY2UsIGdldENvbnRyYXN0LCBnZXRMdW1pbmFuY2UsIGdldFZhbHVlQW5kVW5pdCwgZ3JheXNjYWxlLCBoaURQSSwgaGlkZVRleHQsIGhpZGVWaXN1YWxseSwgaHNsLCBoc2xUb0NvbG9yU3RyaW5nLCBoc2xhLCBpbXBvcnRhbnQsIGludmVydCwgY3VycmllZExpZ2h0ZW4gYXMgbGlnaHRlbiwgbGluZWFyR3JhZGllbnQsIG1hcmdpbiwgbWF0aCwgbWVldHNDb250cmFzdEd1aWRlbGluZXMsIGN1cnJpZWRNaXggYXMgbWl4LCBtb2R1bGFyU2NhbGUsIG5vcm1hbGl6ZSwgY3VycmllZE9wYWNpZnkgYXMgb3BhY2lmeSwgcGFkZGluZywgcGFyc2VUb0hzbCwgcGFyc2VUb1JnYiwgcG9zaXRpb24sIHJhZGlhbEdyYWRpZW50LCByZWFkYWJsZUNvbG9yLCByZW0sIHJlbVRvUHgsIHJldGluYUltYWdlLCByZ2IsIHJnYlRvQ29sb3JTdHJpbmcsIHJnYmEsIGN1cnJpZWRTYXR1cmF0ZSBhcyBzYXR1cmF0ZSwgY3VycmllZFNldEh1ZSBhcyBzZXRIdWUsIGN1cnJpZWRTZXRMaWdodG5lc3MgYXMgc2V0TGlnaHRuZXNzLCBjdXJyaWVkU2V0U2F0dXJhdGlvbiBhcyBzZXRTYXR1cmF0aW9uLCBjdXJyaWVkU2hhZGUgYXMgc2hhZGUsIHNpemUsIHN0cmlwVW5pdCwgdGV4dElucHV0cywgdGltaW5nRnVuY3Rpb25zLCBjdXJyaWVkVGludCBhcyB0aW50LCB0b0NvbG9yU3RyaW5nLCB0cmFuc2l0aW9ucywgY3VycmllZFRyYW5zcGFyZW50aXplIGFzIHRyYW5zcGFyZW50aXplLCB0cmlhbmdsZSwgd29yZFdyYXAgfTtcbiIsInZhciByYWZTY2hkID0gZnVuY3Rpb24gcmFmU2NoZChmbikge1xuICB2YXIgbGFzdEFyZ3MgPSBbXTtcbiAgdmFyIGZyYW1lSWQgPSBudWxsO1xuXG4gIHZhciB3cmFwcGVyRm4gPSBmdW5jdGlvbiB3cmFwcGVyRm4oKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGxhc3RBcmdzID0gYXJncztcblxuICAgIGlmIChmcmFtZUlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZnJhbWVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICBmcmFtZUlkID0gbnVsbDtcbiAgICAgIGZuLmFwcGx5KHZvaWQgMCwgbGFzdEFyZ3MpO1xuICAgIH0pO1xuICB9O1xuXG4gIHdyYXBwZXJGbi5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFmcmFtZUlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWVJZCk7XG4gICAgZnJhbWVJZCA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIHdyYXBwZXJGbjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHJhZlNjaGQ7XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlTGF5b3V0RWZmZWN0LCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUsIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgX2luaGVyaXRzTG9vc2UgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNMb29zZSc7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgeyBjcmVhdGVTdG9yZSBhcyBjcmVhdGVTdG9yZSQxLCBhcHBseU1pZGRsZXdhcmUsIGNvbXBvc2UsIGJpbmRBY3Rpb25DcmVhdG9ycyB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB7IFByb3ZpZGVyLCBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgdXNlTWVtbywgdXNlQ2FsbGJhY2sgfSBmcm9tICd1c2UtbWVtby1vbmUnO1xuaW1wb3J0IHsgZ2V0UmVjdCwgZXhwYW5kLCBvZmZzZXQsIHdpdGhTY3JvbGwsIGdldEJveCwgY3JlYXRlQm94LCBjYWxjdWxhdGVCb3ggfSBmcm9tICdjc3MtYm94LW1vZGVsJztcbmltcG9ydCBtZW1vaXplT25lIGZyb20gJ21lbW9pemUtb25lJztcbmltcG9ydCByYWZTY2hkIGZyb20gJ3JhZi1zY2hkJztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG52YXIgaXNQcm9kdWN0aW9uID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJztcbnZhciBzcGFjZXNBbmRUYWJzID0gL1sgXFx0XXsyLH0vZztcbnZhciBsaW5lU3RhcnRXaXRoU3BhY2VzID0gL15bIFxcdF0qL2dtO1xuXG52YXIgY2xlYW4gPSBmdW5jdGlvbiBjbGVhbih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUucmVwbGFjZShzcGFjZXNBbmRUYWJzLCAnICcpLnJlcGxhY2UobGluZVN0YXJ0V2l0aFNwYWNlcywgJycpLnRyaW0oKTtcbn07XG5cbnZhciBnZXREZXZNZXNzYWdlID0gZnVuY3Rpb24gZ2V0RGV2TWVzc2FnZShtZXNzYWdlKSB7XG4gIHJldHVybiBjbGVhbihcIlxcbiAgJWNyZWFjdC1iZWF1dGlmdWwtZG5kXFxuXFxuICAlY1wiICsgY2xlYW4obWVzc2FnZSkgKyBcIlxcblxcbiAgJWNcXHVEODNEXFx1REM3N1xcdTIwMEQgVGhpcyBpcyBhIGRldmVsb3BtZW50IG9ubHkgbWVzc2FnZS4gSXQgd2lsbCBiZSByZW1vdmVkIGluIHByb2R1Y3Rpb24gYnVpbGRzLlxcblwiKTtcbn07XG5cbnZhciBnZXRGb3JtYXR0ZWRNZXNzYWdlID0gZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkTWVzc2FnZShtZXNzYWdlKSB7XG4gIHJldHVybiBbZ2V0RGV2TWVzc2FnZShtZXNzYWdlKSwgJ2NvbG9yOiAjMDBDNTg0OyBmb250LXNpemU6IDEuMmVtOyBmb250LXdlaWdodDogYm9sZDsnLCAnbGluZS1oZWlnaHQ6IDEuNScsICdjb2xvcjogIzcyMzg3NDsnXTtcbn07XG52YXIgaXNEaXNhYmxlZEZsYWcgPSAnX19yZWFjdC1iZWF1dGlmdWwtZG5kLWRpc2FibGUtZGV2LXdhcm5pbmdzJztcbmZ1bmN0aW9uIGxvZyh0eXBlLCBtZXNzYWdlKSB7XG4gIHZhciBfY29uc29sZTtcblxuICBpZiAoaXNQcm9kdWN0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvd1tpc0Rpc2FibGVkRmxhZ10pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAoX2NvbnNvbGUgPSBjb25zb2xlKVt0eXBlXS5hcHBseShfY29uc29sZSwgZ2V0Rm9ybWF0dGVkTWVzc2FnZShtZXNzYWdlKSk7XG59XG52YXIgd2FybmluZyA9IGxvZy5iaW5kKG51bGwsICd3YXJuJyk7XG52YXIgZXJyb3IgPSBsb2cuYmluZChudWxsLCAnZXJyb3InKTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmZ1bmN0aW9uIGdldE9wdGlvbnMoc2hhcmVkLCBmcm9tQmluZGluZykge1xuICByZXR1cm4gX2V4dGVuZHMoe30sIHNoYXJlZCwge30sIGZyb21CaW5kaW5nKTtcbn1cblxuZnVuY3Rpb24gYmluZEV2ZW50cyhlbCwgYmluZGluZ3MsIHNoYXJlZE9wdGlvbnMpIHtcbiAgdmFyIHVuYmluZGluZ3MgPSBiaW5kaW5ncy5tYXAoZnVuY3Rpb24gKGJpbmRpbmcpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGdldE9wdGlvbnMoc2hhcmVkT3B0aW9ucywgYmluZGluZy5vcHRpb25zKTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKGJpbmRpbmcuZXZlbnROYW1lLCBiaW5kaW5nLmZuLCBvcHRpb25zKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gdW5iaW5kKCkge1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihiaW5kaW5nLmV2ZW50TmFtZSwgYmluZGluZy5mbiwgb3B0aW9ucyk7XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiBmdW5jdGlvbiB1bmJpbmRBbGwoKSB7XG4gICAgdW5iaW5kaW5ncy5mb3JFYWNoKGZ1bmN0aW9uICh1bmJpbmQpIHtcbiAgICAgIHVuYmluZCgpO1xuICAgIH0pO1xuICB9O1xufVxuXG52YXIgaXNQcm9kdWN0aW9uJDEgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nO1xudmFyIHByZWZpeCA9ICdJbnZhcmlhbnQgZmFpbGVkJztcbmZ1bmN0aW9uIFJiZEludmFyaWFudChtZXNzYWdlKSB7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG59XG5cblJiZEludmFyaWFudC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuIHRoaXMubWVzc2FnZTtcbn07XG5cbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgaWYgKGNvbmRpdGlvbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpc1Byb2R1Y3Rpb24kMSkge1xuICAgIHRocm93IG5ldyBSYmRJbnZhcmlhbnQocHJlZml4KTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgUmJkSW52YXJpYW50KHByZWZpeCArIFwiOiBcIiArIChtZXNzYWdlIHx8ICcnKSk7XG4gIH1cbn1cblxudmFyIEVycm9yQm91bmRhcnkgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShFcnJvckJvdW5kYXJ5LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBFcnJvckJvdW5kYXJ5KCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuICAgIF90aGlzLmNhbGxiYWNrcyA9IG51bGw7XG4gICAgX3RoaXMudW5iaW5kID0gbm9vcDtcblxuICAgIF90aGlzLm9uV2luZG93RXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBjYWxsYmFja3MgPSBfdGhpcy5nZXRDYWxsYmFja3MoKTtcblxuICAgICAgaWYgKGNhbGxiYWNrcy5pc0RyYWdnaW5nKCkpIHtcbiAgICAgICAgY2FsbGJhY2tzLnRyeUFib3J0KCk7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoXCJcXG4gICAgICAgIEFuIGVycm9yIHdhcyBjYXVnaHQgYnkgb3VyIHdpbmRvdyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHdoaWxlIGEgZHJhZyB3YXMgb2NjdXJyaW5nLlxcbiAgICAgICAgVGhlIGFjdGl2ZSBkcmFnIGhhcyBiZWVuIGFib3J0ZWQuXFxuICAgICAgXCIpIDogdm9pZCAwO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXJyID0gZXZlbnQuZXJyb3I7XG5cbiAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBSYmRJbnZhcmlhbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5nZXRDYWxsYmFja3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIV90aGlzLmNhbGxiYWNrcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBmaW5kIEFwcENhbGxiYWNrcyBpbiA8RXJyb3JCb3VuZGFyeS8+Jyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcy5jYWxsYmFja3M7XG4gICAgfTtcblxuICAgIF90aGlzLnNldENhbGxiYWNrcyA9IGZ1bmN0aW9uIChjYWxsYmFja3MpIHtcbiAgICAgIF90aGlzLmNhbGxiYWNrcyA9IGNhbGxiYWNrcztcbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IEVycm9yQm91bmRhcnkucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMudW5iaW5kID0gYmluZEV2ZW50cyh3aW5kb3csIFt7XG4gICAgICBldmVudE5hbWU6ICdlcnJvcicsXG4gICAgICBmbjogdGhpcy5vbldpbmRvd0Vycm9yXG4gICAgfV0pO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRDYXRjaCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZENhdGNoKGVycikge1xuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBSYmRJbnZhcmlhbnQpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7fSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhyb3cgZXJyO1xuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMudW5iaW5kKCk7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbih0aGlzLnNldENhbGxiYWNrcyk7XG4gIH07XG5cbiAgcmV0dXJuIEVycm9yQm91bmRhcnk7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBkcmFnSGFuZGxlVXNhZ2VJbnN0cnVjdGlvbnMgPSBcIlxcbiAgUHJlc3Mgc3BhY2UgYmFyIHRvIHN0YXJ0IGEgZHJhZy5cXG4gIFdoZW4gZHJhZ2dpbmcgeW91IGNhbiB1c2UgdGhlIGFycm93IGtleXMgdG8gbW92ZSB0aGUgaXRlbSBhcm91bmQgYW5kIGVzY2FwZSB0byBjYW5jZWwuXFxuICBTb21lIHNjcmVlbiByZWFkZXJzIG1heSByZXF1aXJlIHlvdSB0byBiZSBpbiBmb2N1cyBtb2RlIG9yIHRvIHVzZSB5b3VyIHBhc3MgdGhyb3VnaCBrZXlcXG5cIjtcblxudmFyIHBvc2l0aW9uID0gZnVuY3Rpb24gcG9zaXRpb24oaW5kZXgpIHtcbiAgcmV0dXJuIGluZGV4ICsgMTtcbn07XG5cbnZhciBvbkRyYWdTdGFydCA9IGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KHN0YXJ0KSB7XG4gIHJldHVybiBcIlxcbiAgWW91IGhhdmUgbGlmdGVkIGFuIGl0ZW0gaW4gcG9zaXRpb24gXCIgKyBwb3NpdGlvbihzdGFydC5zb3VyY2UuaW5kZXgpICsgXCJcXG5cIjtcbn07XG5cbnZhciB3aXRoTG9jYXRpb24gPSBmdW5jdGlvbiB3aXRoTG9jYXRpb24oc291cmNlLCBkZXN0aW5hdGlvbikge1xuICB2YXIgaXNJbkhvbWVMaXN0ID0gc291cmNlLmRyb3BwYWJsZUlkID09PSBkZXN0aW5hdGlvbi5kcm9wcGFibGVJZDtcbiAgdmFyIHN0YXJ0UG9zaXRpb24gPSBwb3NpdGlvbihzb3VyY2UuaW5kZXgpO1xuICB2YXIgZW5kUG9zaXRpb24gPSBwb3NpdGlvbihkZXN0aW5hdGlvbi5pbmRleCk7XG5cbiAgaWYgKGlzSW5Ib21lTGlzdCkge1xuICAgIHJldHVybiBcIlxcbiAgICAgIFlvdSBoYXZlIG1vdmVkIHRoZSBpdGVtIGZyb20gcG9zaXRpb24gXCIgKyBzdGFydFBvc2l0aW9uICsgXCJcXG4gICAgICB0byBwb3NpdGlvbiBcIiArIGVuZFBvc2l0aW9uICsgXCJcXG4gICAgXCI7XG4gIH1cblxuICByZXR1cm4gXCJcXG4gICAgWW91IGhhdmUgbW92ZWQgdGhlIGl0ZW0gZnJvbSBwb3NpdGlvbiBcIiArIHN0YXJ0UG9zaXRpb24gKyBcIlxcbiAgICBpbiBsaXN0IFwiICsgc291cmNlLmRyb3BwYWJsZUlkICsgXCJcXG4gICAgdG8gbGlzdCBcIiArIGRlc3RpbmF0aW9uLmRyb3BwYWJsZUlkICsgXCJcXG4gICAgaW4gcG9zaXRpb24gXCIgKyBlbmRQb3NpdGlvbiArIFwiXFxuICBcIjtcbn07XG5cbnZhciB3aXRoQ29tYmluZSA9IGZ1bmN0aW9uIHdpdGhDb21iaW5lKGlkLCBzb3VyY2UsIGNvbWJpbmUpIHtcbiAgdmFyIGluSG9tZUxpc3QgPSBzb3VyY2UuZHJvcHBhYmxlSWQgPT09IGNvbWJpbmUuZHJvcHBhYmxlSWQ7XG5cbiAgaWYgKGluSG9tZUxpc3QpIHtcbiAgICByZXR1cm4gXCJcXG4gICAgICBUaGUgaXRlbSBcIiArIGlkICsgXCJcXG4gICAgICBoYXMgYmVlbiBjb21iaW5lZCB3aXRoIFwiICsgY29tYmluZS5kcmFnZ2FibGVJZDtcbiAgfVxuXG4gIHJldHVybiBcIlxcbiAgICAgIFRoZSBpdGVtIFwiICsgaWQgKyBcIlxcbiAgICAgIGluIGxpc3QgXCIgKyBzb3VyY2UuZHJvcHBhYmxlSWQgKyBcIlxcbiAgICAgIGhhcyBiZWVuIGNvbWJpbmVkIHdpdGggXCIgKyBjb21iaW5lLmRyYWdnYWJsZUlkICsgXCJcXG4gICAgICBpbiBsaXN0IFwiICsgY29tYmluZS5kcm9wcGFibGVJZCArIFwiXFxuICAgIFwiO1xufTtcblxudmFyIG9uRHJhZ1VwZGF0ZSA9IGZ1bmN0aW9uIG9uRHJhZ1VwZGF0ZSh1cGRhdGUpIHtcbiAgdmFyIGxvY2F0aW9uID0gdXBkYXRlLmRlc3RpbmF0aW9uO1xuXG4gIGlmIChsb2NhdGlvbikge1xuICAgIHJldHVybiB3aXRoTG9jYXRpb24odXBkYXRlLnNvdXJjZSwgbG9jYXRpb24pO1xuICB9XG5cbiAgdmFyIGNvbWJpbmUgPSB1cGRhdGUuY29tYmluZTtcblxuICBpZiAoY29tYmluZSkge1xuICAgIHJldHVybiB3aXRoQ29tYmluZSh1cGRhdGUuZHJhZ2dhYmxlSWQsIHVwZGF0ZS5zb3VyY2UsIGNvbWJpbmUpO1xuICB9XG5cbiAgcmV0dXJuICdZb3UgYXJlIG92ZXIgYW4gYXJlYSB0aGF0IGNhbm5vdCBiZSBkcm9wcGVkIG9uJztcbn07XG5cbnZhciByZXR1cm5lZFRvU3RhcnQgPSBmdW5jdGlvbiByZXR1cm5lZFRvU3RhcnQoc291cmNlKSB7XG4gIHJldHVybiBcIlxcbiAgVGhlIGl0ZW0gaGFzIHJldHVybmVkIHRvIGl0cyBzdGFydGluZyBwb3NpdGlvblxcbiAgb2YgXCIgKyBwb3NpdGlvbihzb3VyY2UuaW5kZXgpICsgXCJcXG5cIjtcbn07XG5cbnZhciBvbkRyYWdFbmQgPSBmdW5jdGlvbiBvbkRyYWdFbmQocmVzdWx0KSB7XG4gIGlmIChyZXN1bHQucmVhc29uID09PSAnQ0FOQ0VMJykge1xuICAgIHJldHVybiBcIlxcbiAgICAgIE1vdmVtZW50IGNhbmNlbGxlZC5cXG4gICAgICBcIiArIHJldHVybmVkVG9TdGFydChyZXN1bHQuc291cmNlKSArIFwiXFxuICAgIFwiO1xuICB9XG5cbiAgdmFyIGxvY2F0aW9uID0gcmVzdWx0LmRlc3RpbmF0aW9uO1xuICB2YXIgY29tYmluZSA9IHJlc3VsdC5jb21iaW5lO1xuXG4gIGlmIChsb2NhdGlvbikge1xuICAgIHJldHVybiBcIlxcbiAgICAgIFlvdSBoYXZlIGRyb3BwZWQgdGhlIGl0ZW0uXFxuICAgICAgXCIgKyB3aXRoTG9jYXRpb24ocmVzdWx0LnNvdXJjZSwgbG9jYXRpb24pICsgXCJcXG4gICAgXCI7XG4gIH1cblxuICBpZiAoY29tYmluZSkge1xuICAgIHJldHVybiBcIlxcbiAgICAgIFlvdSBoYXZlIGRyb3BwZWQgdGhlIGl0ZW0uXFxuICAgICAgXCIgKyB3aXRoQ29tYmluZShyZXN1bHQuZHJhZ2dhYmxlSWQsIHJlc3VsdC5zb3VyY2UsIGNvbWJpbmUpICsgXCJcXG4gICAgXCI7XG4gIH1cblxuICByZXR1cm4gXCJcXG4gICAgVGhlIGl0ZW0gaGFzIGJlZW4gZHJvcHBlZCB3aGlsZSBub3Qgb3ZlciBhIGRyb3AgYXJlYS5cXG4gICAgXCIgKyByZXR1cm5lZFRvU3RhcnQocmVzdWx0LnNvdXJjZSkgKyBcIlxcbiAgXCI7XG59O1xuXG52YXIgcHJlc2V0ID0ge1xuICBkcmFnSGFuZGxlVXNhZ2VJbnN0cnVjdGlvbnM6IGRyYWdIYW5kbGVVc2FnZUluc3RydWN0aW9ucyxcbiAgb25EcmFnU3RhcnQ6IG9uRHJhZ1N0YXJ0LFxuICBvbkRyYWdVcGRhdGU6IG9uRHJhZ1VwZGF0ZSxcbiAgb25EcmFnRW5kOiBvbkRyYWdFbmRcbn07XG5cbnZhciBvcmlnaW4gPSB7XG4gIHg6IDAsXG4gIHk6IDBcbn07XG52YXIgYWRkID0gZnVuY3Rpb24gYWRkKHBvaW50MSwgcG9pbnQyKSB7XG4gIHJldHVybiB7XG4gICAgeDogcG9pbnQxLnggKyBwb2ludDIueCxcbiAgICB5OiBwb2ludDEueSArIHBvaW50Mi55XG4gIH07XG59O1xudmFyIHN1YnRyYWN0ID0gZnVuY3Rpb24gc3VidHJhY3QocG9pbnQxLCBwb2ludDIpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBwb2ludDEueCAtIHBvaW50Mi54LFxuICAgIHk6IHBvaW50MS55IC0gcG9pbnQyLnlcbiAgfTtcbn07XG52YXIgaXNFcXVhbCA9IGZ1bmN0aW9uIGlzRXF1YWwocG9pbnQxLCBwb2ludDIpIHtcbiAgcmV0dXJuIHBvaW50MS54ID09PSBwb2ludDIueCAmJiBwb2ludDEueSA9PT0gcG9pbnQyLnk7XG59O1xudmFyIG5lZ2F0ZSA9IGZ1bmN0aW9uIG5lZ2F0ZShwb2ludCkge1xuICByZXR1cm4ge1xuICAgIHg6IHBvaW50LnggIT09IDAgPyAtcG9pbnQueCA6IDAsXG4gICAgeTogcG9pbnQueSAhPT0gMCA/IC1wb2ludC55IDogMFxuICB9O1xufTtcbnZhciBwYXRjaCA9IGZ1bmN0aW9uIHBhdGNoKGxpbmUsIHZhbHVlLCBvdGhlclZhbHVlKSB7XG4gIHZhciBfcmVmO1xuXG4gIGlmIChvdGhlclZhbHVlID09PSB2b2lkIDApIHtcbiAgICBvdGhlclZhbHVlID0gMDtcbiAgfVxuXG4gIHJldHVybiBfcmVmID0ge30sIF9yZWZbbGluZV0gPSB2YWx1ZSwgX3JlZltsaW5lID09PSAneCcgPyAneScgOiAneCddID0gb3RoZXJWYWx1ZSwgX3JlZjtcbn07XG52YXIgZGlzdGFuY2UgPSBmdW5jdGlvbiBkaXN0YW5jZShwb2ludDEsIHBvaW50Mikge1xuICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHBvaW50Mi54IC0gcG9pbnQxLngsIDIpICsgTWF0aC5wb3cocG9pbnQyLnkgLSBwb2ludDEueSwgMikpO1xufTtcbnZhciBjbG9zZXN0ID0gZnVuY3Rpb24gY2xvc2VzdCh0YXJnZXQsIHBvaW50cykge1xuICByZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCwgcG9pbnRzLm1hcChmdW5jdGlvbiAocG9pbnQpIHtcbiAgICByZXR1cm4gZGlzdGFuY2UodGFyZ2V0LCBwb2ludCk7XG4gIH0pKTtcbn07XG52YXIgYXBwbHkgPSBmdW5jdGlvbiBhcHBseShmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IGZuKHBvaW50LngpLFxuICAgICAgeTogZm4ocG9pbnQueSlcbiAgICB9O1xuICB9O1xufTtcblxudmFyIGV4ZWN1dGVDbGlwID0gKGZ1bmN0aW9uIChmcmFtZSwgc3ViamVjdCkge1xuICB2YXIgcmVzdWx0ID0gZ2V0UmVjdCh7XG4gICAgdG9wOiBNYXRoLm1heChzdWJqZWN0LnRvcCwgZnJhbWUudG9wKSxcbiAgICByaWdodDogTWF0aC5taW4oc3ViamVjdC5yaWdodCwgZnJhbWUucmlnaHQpLFxuICAgIGJvdHRvbTogTWF0aC5taW4oc3ViamVjdC5ib3R0b20sIGZyYW1lLmJvdHRvbSksXG4gICAgbGVmdDogTWF0aC5tYXgoc3ViamVjdC5sZWZ0LCBmcmFtZS5sZWZ0KVxuICB9KTtcblxuICBpZiAocmVzdWx0LndpZHRoIDw9IDAgfHwgcmVzdWx0LmhlaWdodCA8PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufSk7XG5cbnZhciBvZmZzZXRCeVBvc2l0aW9uID0gZnVuY3Rpb24gb2Zmc2V0QnlQb3NpdGlvbihzcGFjaW5nLCBwb2ludCkge1xuICByZXR1cm4ge1xuICAgIHRvcDogc3BhY2luZy50b3AgKyBwb2ludC55LFxuICAgIGxlZnQ6IHNwYWNpbmcubGVmdCArIHBvaW50LngsXG4gICAgYm90dG9tOiBzcGFjaW5nLmJvdHRvbSArIHBvaW50LnksXG4gICAgcmlnaHQ6IHNwYWNpbmcucmlnaHQgKyBwb2ludC54XG4gIH07XG59O1xudmFyIGdldENvcm5lcnMgPSBmdW5jdGlvbiBnZXRDb3JuZXJzKHNwYWNpbmcpIHtcbiAgcmV0dXJuIFt7XG4gICAgeDogc3BhY2luZy5sZWZ0LFxuICAgIHk6IHNwYWNpbmcudG9wXG4gIH0sIHtcbiAgICB4OiBzcGFjaW5nLnJpZ2h0LFxuICAgIHk6IHNwYWNpbmcudG9wXG4gIH0sIHtcbiAgICB4OiBzcGFjaW5nLmxlZnQsXG4gICAgeTogc3BhY2luZy5ib3R0b21cbiAgfSwge1xuICAgIHg6IHNwYWNpbmcucmlnaHQsXG4gICAgeTogc3BhY2luZy5ib3R0b21cbiAgfV07XG59O1xudmFyIG5vU3BhY2luZyA9IHtcbiAgdG9wOiAwLFxuICByaWdodDogMCxcbiAgYm90dG9tOiAwLFxuICBsZWZ0OiAwXG59O1xuXG52YXIgc2Nyb2xsID0gZnVuY3Rpb24gc2Nyb2xsKHRhcmdldCwgZnJhbWUpIHtcbiAgaWYgKCFmcmFtZSkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICByZXR1cm4gb2Zmc2V0QnlQb3NpdGlvbih0YXJnZXQsIGZyYW1lLnNjcm9sbC5kaWZmLmRpc3BsYWNlbWVudCk7XG59O1xuXG52YXIgaW5jcmVhc2UgPSBmdW5jdGlvbiBpbmNyZWFzZSh0YXJnZXQsIGF4aXMsIHdpdGhQbGFjZWhvbGRlcikge1xuICBpZiAod2l0aFBsYWNlaG9sZGVyICYmIHdpdGhQbGFjZWhvbGRlci5pbmNyZWFzZWRCeSkge1xuICAgIHZhciBfZXh0ZW5kczI7XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIHRhcmdldCwgKF9leHRlbmRzMiA9IHt9LCBfZXh0ZW5kczJbYXhpcy5lbmRdID0gdGFyZ2V0W2F4aXMuZW5kXSArIHdpdGhQbGFjZWhvbGRlci5pbmNyZWFzZWRCeVtheGlzLmxpbmVdLCBfZXh0ZW5kczIpKTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG52YXIgY2xpcCA9IGZ1bmN0aW9uIGNsaXAodGFyZ2V0LCBmcmFtZSkge1xuICBpZiAoZnJhbWUgJiYgZnJhbWUuc2hvdWxkQ2xpcFN1YmplY3QpIHtcbiAgICByZXR1cm4gZXhlY3V0ZUNsaXAoZnJhbWUucGFnZU1hcmdpbkJveCwgdGFyZ2V0KTtcbiAgfVxuXG4gIHJldHVybiBnZXRSZWN0KHRhcmdldCk7XG59O1xuXG52YXIgZ2V0U3ViamVjdCA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgcGFnZSA9IF9yZWYucGFnZSxcbiAgICAgIHdpdGhQbGFjZWhvbGRlciA9IF9yZWYud2l0aFBsYWNlaG9sZGVyLFxuICAgICAgYXhpcyA9IF9yZWYuYXhpcyxcbiAgICAgIGZyYW1lID0gX3JlZi5mcmFtZTtcbiAgdmFyIHNjcm9sbGVkID0gc2Nyb2xsKHBhZ2UubWFyZ2luQm94LCBmcmFtZSk7XG4gIHZhciBpbmNyZWFzZWQgPSBpbmNyZWFzZShzY3JvbGxlZCwgYXhpcywgd2l0aFBsYWNlaG9sZGVyKTtcbiAgdmFyIGNsaXBwZWQgPSBjbGlwKGluY3JlYXNlZCwgZnJhbWUpO1xuICByZXR1cm4ge1xuICAgIHBhZ2U6IHBhZ2UsXG4gICAgd2l0aFBsYWNlaG9sZGVyOiB3aXRoUGxhY2Vob2xkZXIsXG4gICAgYWN0aXZlOiBjbGlwcGVkXG4gIH07XG59KTtcblxudmFyIHNjcm9sbERyb3BwYWJsZSA9IChmdW5jdGlvbiAoZHJvcHBhYmxlLCBuZXdTY3JvbGwpIHtcbiAgIWRyb3BwYWJsZS5mcmFtZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB2YXIgc2Nyb2xsYWJsZSA9IGRyb3BwYWJsZS5mcmFtZTtcbiAgdmFyIHNjcm9sbERpZmYgPSBzdWJ0cmFjdChuZXdTY3JvbGwsIHNjcm9sbGFibGUuc2Nyb2xsLmluaXRpYWwpO1xuICB2YXIgc2Nyb2xsRGlzcGxhY2VtZW50ID0gbmVnYXRlKHNjcm9sbERpZmYpO1xuXG4gIHZhciBmcmFtZSA9IF9leHRlbmRzKHt9LCBzY3JvbGxhYmxlLCB7XG4gICAgc2Nyb2xsOiB7XG4gICAgICBpbml0aWFsOiBzY3JvbGxhYmxlLnNjcm9sbC5pbml0aWFsLFxuICAgICAgY3VycmVudDogbmV3U2Nyb2xsLFxuICAgICAgZGlmZjoge1xuICAgICAgICB2YWx1ZTogc2Nyb2xsRGlmZixcbiAgICAgICAgZGlzcGxhY2VtZW50OiBzY3JvbGxEaXNwbGFjZW1lbnRcbiAgICAgIH0sXG4gICAgICBtYXg6IHNjcm9sbGFibGUuc2Nyb2xsLm1heFxuICAgIH1cbiAgfSk7XG5cbiAgdmFyIHN1YmplY3QgPSBnZXRTdWJqZWN0KHtcbiAgICBwYWdlOiBkcm9wcGFibGUuc3ViamVjdC5wYWdlLFxuICAgIHdpdGhQbGFjZWhvbGRlcjogZHJvcHBhYmxlLnN1YmplY3Qud2l0aFBsYWNlaG9sZGVyLFxuICAgIGF4aXM6IGRyb3BwYWJsZS5heGlzLFxuICAgIGZyYW1lOiBmcmFtZVxuICB9KTtcblxuICB2YXIgcmVzdWx0ID0gX2V4dGVuZHMoe30sIGRyb3BwYWJsZSwge1xuICAgIGZyYW1lOiBmcmFtZSxcbiAgICBzdWJqZWN0OiBzdWJqZWN0XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxuZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG4gIGlmIChOdW1iZXIuaXNJbnRlZ2VyKSB7XG4gICAgcmV0dXJuIE51bWJlci5pc0ludGVnZXIodmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsdWUpICYmIE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHZhbHVlcyhtYXApIHtcbiAgaWYgKE9iamVjdC52YWx1ZXMpIHtcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhtYXApO1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5rZXlzKG1hcCkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gbWFwW2tleV07XG4gIH0pO1xufVxuZnVuY3Rpb24gZmluZEluZGV4KGxpc3QsIHByZWRpY2F0ZSkge1xuICBpZiAobGlzdC5maW5kSW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdC5maW5kSW5kZXgocHJlZGljYXRlKTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIGlmIChwcmVkaWNhdGUobGlzdFtpXSkpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMTtcbn1cbmZ1bmN0aW9uIGZpbmQobGlzdCwgcHJlZGljYXRlKSB7XG4gIGlmIChsaXN0LmZpbmQpIHtcbiAgICByZXR1cm4gbGlzdC5maW5kKHByZWRpY2F0ZSk7XG4gIH1cblxuICB2YXIgaW5kZXggPSBmaW5kSW5kZXgobGlzdCwgcHJlZGljYXRlKTtcblxuICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgcmV0dXJuIGxpc3RbaW5kZXhdO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIHRvQXJyYXkobGlzdCkge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobGlzdCk7XG59XG5cbnZhciB0b0Ryb3BwYWJsZU1hcCA9IG1lbW9pemVPbmUoZnVuY3Rpb24gKGRyb3BwYWJsZXMpIHtcbiAgcmV0dXJuIGRyb3BwYWJsZXMucmVkdWNlKGZ1bmN0aW9uIChwcmV2aW91cywgY3VycmVudCkge1xuICAgIHByZXZpb3VzW2N1cnJlbnQuZGVzY3JpcHRvci5pZF0gPSBjdXJyZW50O1xuICAgIHJldHVybiBwcmV2aW91cztcbiAgfSwge30pO1xufSk7XG52YXIgdG9EcmFnZ2FibGVNYXAgPSBtZW1vaXplT25lKGZ1bmN0aW9uIChkcmFnZ2FibGVzKSB7XG4gIHJldHVybiBkcmFnZ2FibGVzLnJlZHVjZShmdW5jdGlvbiAocHJldmlvdXMsIGN1cnJlbnQpIHtcbiAgICBwcmV2aW91c1tjdXJyZW50LmRlc2NyaXB0b3IuaWRdID0gY3VycmVudDtcbiAgICByZXR1cm4gcHJldmlvdXM7XG4gIH0sIHt9KTtcbn0pO1xudmFyIHRvRHJvcHBhYmxlTGlzdCA9IG1lbW9pemVPbmUoZnVuY3Rpb24gKGRyb3BwYWJsZXMpIHtcbiAgcmV0dXJuIHZhbHVlcyhkcm9wcGFibGVzKTtcbn0pO1xudmFyIHRvRHJhZ2dhYmxlTGlzdCA9IG1lbW9pemVPbmUoZnVuY3Rpb24gKGRyYWdnYWJsZXMpIHtcbiAgcmV0dXJuIHZhbHVlcyhkcmFnZ2FibGVzKTtcbn0pO1xuXG52YXIgZ2V0RHJhZ2dhYmxlc0luc2lkZURyb3BwYWJsZSA9IG1lbW9pemVPbmUoZnVuY3Rpb24gKGRyb3BwYWJsZUlkLCBkcmFnZ2FibGVzKSB7XG4gIHZhciByZXN1bHQgPSB0b0RyYWdnYWJsZUxpc3QoZHJhZ2dhYmxlcykuZmlsdGVyKGZ1bmN0aW9uIChkcmFnZ2FibGUpIHtcbiAgICByZXR1cm4gZHJvcHBhYmxlSWQgPT09IGRyYWdnYWJsZS5kZXNjcmlwdG9yLmRyb3BwYWJsZUlkO1xuICB9KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIGEuZGVzY3JpcHRvci5pbmRleCAtIGIuZGVzY3JpcHRvci5pbmRleDtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxuZnVuY3Rpb24gdHJ5R2V0RGVzdGluYXRpb24oaW1wYWN0KSB7XG4gIGlmIChpbXBhY3QuYXQgJiYgaW1wYWN0LmF0LnR5cGUgPT09ICdSRU9SREVSJykge1xuICAgIHJldHVybiBpbXBhY3QuYXQuZGVzdGluYXRpb247XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIHRyeUdldENvbWJpbmUoaW1wYWN0KSB7XG4gIGlmIChpbXBhY3QuYXQgJiYgaW1wYWN0LmF0LnR5cGUgPT09ICdDT01CSU5FJykge1xuICAgIHJldHVybiBpbXBhY3QuYXQuY29tYmluZTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG52YXIgcmVtb3ZlRHJhZ2dhYmxlRnJvbUxpc3QgPSBtZW1vaXplT25lKGZ1bmN0aW9uIChyZW1vdmUsIGxpc3QpIHtcbiAgcmV0dXJuIGxpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0uZGVzY3JpcHRvci5pZCAhPT0gcmVtb3ZlLmRlc2NyaXB0b3IuaWQ7XG4gIH0pO1xufSk7XG5cbnZhciBtb3ZlVG9OZXh0Q29tYmluZSA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgaXNNb3ZpbmdGb3J3YXJkID0gX3JlZi5pc01vdmluZ0ZvcndhcmQsXG4gICAgICBkcmFnZ2FibGUgPSBfcmVmLmRyYWdnYWJsZSxcbiAgICAgIGRlc3RpbmF0aW9uID0gX3JlZi5kZXN0aW5hdGlvbixcbiAgICAgIGluc2lkZURlc3RpbmF0aW9uID0gX3JlZi5pbnNpZGVEZXN0aW5hdGlvbixcbiAgICAgIHByZXZpb3VzSW1wYWN0ID0gX3JlZi5wcmV2aW91c0ltcGFjdDtcblxuICBpZiAoIWRlc3RpbmF0aW9uLmlzQ29tYmluZUVuYWJsZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBsb2NhdGlvbiA9IHRyeUdldERlc3RpbmF0aW9uKHByZXZpb3VzSW1wYWN0KTtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJbXBhY3QodGFyZ2V0KSB7XG4gICAgdmFyIGF0ID0ge1xuICAgICAgdHlwZTogJ0NPTUJJTkUnLFxuICAgICAgY29tYmluZToge1xuICAgICAgICBkcmFnZ2FibGVJZDogdGFyZ2V0LFxuICAgICAgICBkcm9wcGFibGVJZDogZGVzdGluYXRpb24uZGVzY3JpcHRvci5pZFxuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBwcmV2aW91c0ltcGFjdCwge1xuICAgICAgYXQ6IGF0XG4gICAgfSk7XG4gIH1cblxuICB2YXIgYWxsID0gcHJldmlvdXNJbXBhY3QuZGlzcGxhY2VkLmFsbDtcbiAgdmFyIGNsb3Nlc3RJZCA9IGFsbC5sZW5ndGggPyBhbGxbMF0gOiBudWxsO1xuXG4gIGlmIChpc01vdmluZ0ZvcndhcmQpIHtcbiAgICByZXR1cm4gY2xvc2VzdElkID8gZ2V0SW1wYWN0KGNsb3Nlc3RJZCkgOiBudWxsO1xuICB9XG5cbiAgdmFyIHdpdGhvdXREcmFnZ2FibGUgPSByZW1vdmVEcmFnZ2FibGVGcm9tTGlzdChkcmFnZ2FibGUsIGluc2lkZURlc3RpbmF0aW9uKTtcblxuICBpZiAoIWNsb3Nlc3RJZCkge1xuICAgIGlmICghd2l0aG91dERyYWdnYWJsZS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBsYXN0ID0gd2l0aG91dERyYWdnYWJsZVt3aXRob3V0RHJhZ2dhYmxlLmxlbmd0aCAtIDFdO1xuICAgIHJldHVybiBnZXRJbXBhY3QobGFzdC5kZXNjcmlwdG9yLmlkKTtcbiAgfVxuXG4gIHZhciBpbmRleE9mQ2xvc2VzdCA9IGZpbmRJbmRleCh3aXRob3V0RHJhZ2dhYmxlLCBmdW5jdGlvbiAoZCkge1xuICAgIHJldHVybiBkLmRlc2NyaXB0b3IuaWQgPT09IGNsb3Nlc3RJZDtcbiAgfSk7XG4gICEoaW5kZXhPZkNsb3Nlc3QgIT09IC0xKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0NvdWxkIG5vdCBmaW5kIGRpc3BsYWNlZCBpdGVtIGluIHNldCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgdmFyIHByb3Bvc2VkSW5kZXggPSBpbmRleE9mQ2xvc2VzdCAtIDE7XG5cbiAgaWYgKHByb3Bvc2VkSW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgYmVmb3JlID0gd2l0aG91dERyYWdnYWJsZVtwcm9wb3NlZEluZGV4XTtcbiAgcmV0dXJuIGdldEltcGFjdChiZWZvcmUuZGVzY3JpcHRvci5pZCk7XG59KTtcblxudmFyIGlzSG9tZU9mID0gKGZ1bmN0aW9uIChkcmFnZ2FibGUsIGRlc3RpbmF0aW9uKSB7XG4gIHJldHVybiBkcmFnZ2FibGUuZGVzY3JpcHRvci5kcm9wcGFibGVJZCA9PT0gZGVzdGluYXRpb24uZGVzY3JpcHRvci5pZDtcbn0pO1xuXG52YXIgbm9EaXNwbGFjZWRCeSA9IHtcbiAgcG9pbnQ6IG9yaWdpbixcbiAgdmFsdWU6IDBcbn07XG52YXIgZW1wdHlHcm91cHMgPSB7XG4gIGludmlzaWJsZToge30sXG4gIHZpc2libGU6IHt9LFxuICBhbGw6IFtdXG59O1xudmFyIG5vSW1wYWN0ID0ge1xuICBkaXNwbGFjZWQ6IGVtcHR5R3JvdXBzLFxuICBkaXNwbGFjZWRCeTogbm9EaXNwbGFjZWRCeSxcbiAgYXQ6IG51bGxcbn07XG5cbnZhciBpc1dpdGhpbiA9IChmdW5jdGlvbiAobG93ZXJCb3VuZCwgdXBwZXJCb3VuZCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIGxvd2VyQm91bmQgPD0gdmFsdWUgJiYgdmFsdWUgPD0gdXBwZXJCb3VuZDtcbiAgfTtcbn0pO1xuXG52YXIgaXNQYXJ0aWFsbHlWaXNpYmxlVGhyb3VnaEZyYW1lID0gKGZ1bmN0aW9uIChmcmFtZSkge1xuICB2YXIgaXNXaXRoaW5WZXJ0aWNhbCA9IGlzV2l0aGluKGZyYW1lLnRvcCwgZnJhbWUuYm90dG9tKTtcbiAgdmFyIGlzV2l0aGluSG9yaXpvbnRhbCA9IGlzV2l0aGluKGZyYW1lLmxlZnQsIGZyYW1lLnJpZ2h0KTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChzdWJqZWN0KSB7XG4gICAgdmFyIGlzQ29udGFpbmVkID0gaXNXaXRoaW5WZXJ0aWNhbChzdWJqZWN0LnRvcCkgJiYgaXNXaXRoaW5WZXJ0aWNhbChzdWJqZWN0LmJvdHRvbSkgJiYgaXNXaXRoaW5Ib3Jpem9udGFsKHN1YmplY3QubGVmdCkgJiYgaXNXaXRoaW5Ib3Jpem9udGFsKHN1YmplY3QucmlnaHQpO1xuXG4gICAgaWYgKGlzQ29udGFpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgaXNQYXJ0aWFsbHlWaXNpYmxlVmVydGljYWxseSA9IGlzV2l0aGluVmVydGljYWwoc3ViamVjdC50b3ApIHx8IGlzV2l0aGluVmVydGljYWwoc3ViamVjdC5ib3R0b20pO1xuICAgIHZhciBpc1BhcnRpYWxseVZpc2libGVIb3Jpem9udGFsbHkgPSBpc1dpdGhpbkhvcml6b250YWwoc3ViamVjdC5sZWZ0KSB8fCBpc1dpdGhpbkhvcml6b250YWwoc3ViamVjdC5yaWdodCk7XG4gICAgdmFyIGlzUGFydGlhbGx5Q29udGFpbmVkID0gaXNQYXJ0aWFsbHlWaXNpYmxlVmVydGljYWxseSAmJiBpc1BhcnRpYWxseVZpc2libGVIb3Jpem9udGFsbHk7XG5cbiAgICBpZiAoaXNQYXJ0aWFsbHlDb250YWluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBpc0JpZ2dlclZlcnRpY2FsbHkgPSBzdWJqZWN0LnRvcCA8IGZyYW1lLnRvcCAmJiBzdWJqZWN0LmJvdHRvbSA+IGZyYW1lLmJvdHRvbTtcbiAgICB2YXIgaXNCaWdnZXJIb3Jpem9udGFsbHkgPSBzdWJqZWN0LmxlZnQgPCBmcmFtZS5sZWZ0ICYmIHN1YmplY3QucmlnaHQgPiBmcmFtZS5yaWdodDtcbiAgICB2YXIgaXNUYXJnZXRCaWdnZXJUaGFuRnJhbWUgPSBpc0JpZ2dlclZlcnRpY2FsbHkgJiYgaXNCaWdnZXJIb3Jpem9udGFsbHk7XG5cbiAgICBpZiAoaXNUYXJnZXRCaWdnZXJUaGFuRnJhbWUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBpc1RhcmdldEJpZ2dlck9uT25lQXhpcyA9IGlzQmlnZ2VyVmVydGljYWxseSAmJiBpc1BhcnRpYWxseVZpc2libGVIb3Jpem9udGFsbHkgfHwgaXNCaWdnZXJIb3Jpem9udGFsbHkgJiYgaXNQYXJ0aWFsbHlWaXNpYmxlVmVydGljYWxseTtcbiAgICByZXR1cm4gaXNUYXJnZXRCaWdnZXJPbk9uZUF4aXM7XG4gIH07XG59KTtcblxudmFyIGlzVG90YWxseVZpc2libGVUaHJvdWdoRnJhbWUgPSAoZnVuY3Rpb24gKGZyYW1lKSB7XG4gIHZhciBpc1dpdGhpblZlcnRpY2FsID0gaXNXaXRoaW4oZnJhbWUudG9wLCBmcmFtZS5ib3R0b20pO1xuICB2YXIgaXNXaXRoaW5Ib3Jpem9udGFsID0gaXNXaXRoaW4oZnJhbWUubGVmdCwgZnJhbWUucmlnaHQpO1xuICByZXR1cm4gZnVuY3Rpb24gKHN1YmplY3QpIHtcbiAgICB2YXIgaXNDb250YWluZWQgPSBpc1dpdGhpblZlcnRpY2FsKHN1YmplY3QudG9wKSAmJiBpc1dpdGhpblZlcnRpY2FsKHN1YmplY3QuYm90dG9tKSAmJiBpc1dpdGhpbkhvcml6b250YWwoc3ViamVjdC5sZWZ0KSAmJiBpc1dpdGhpbkhvcml6b250YWwoc3ViamVjdC5yaWdodCk7XG4gICAgcmV0dXJuIGlzQ29udGFpbmVkO1xuICB9O1xufSk7XG5cbnZhciB2ZXJ0aWNhbCA9IHtcbiAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxuICBsaW5lOiAneScsXG4gIGNyb3NzQXhpc0xpbmU6ICd4JyxcbiAgc3RhcnQ6ICd0b3AnLFxuICBlbmQ6ICdib3R0b20nLFxuICBzaXplOiAnaGVpZ2h0JyxcbiAgY3Jvc3NBeGlzU3RhcnQ6ICdsZWZ0JyxcbiAgY3Jvc3NBeGlzRW5kOiAncmlnaHQnLFxuICBjcm9zc0F4aXNTaXplOiAnd2lkdGgnXG59O1xudmFyIGhvcml6b250YWwgPSB7XG4gIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICBsaW5lOiAneCcsXG4gIGNyb3NzQXhpc0xpbmU6ICd5JyxcbiAgc3RhcnQ6ICdsZWZ0JyxcbiAgZW5kOiAncmlnaHQnLFxuICBzaXplOiAnd2lkdGgnLFxuICBjcm9zc0F4aXNTdGFydDogJ3RvcCcsXG4gIGNyb3NzQXhpc0VuZDogJ2JvdHRvbScsXG4gIGNyb3NzQXhpc1NpemU6ICdoZWlnaHQnXG59O1xuXG52YXIgaXNUb3RhbGx5VmlzaWJsZVRocm91Z2hGcmFtZU9uQXhpcyA9IChmdW5jdGlvbiAoYXhpcykge1xuICByZXR1cm4gZnVuY3Rpb24gKGZyYW1lKSB7XG4gICAgdmFyIGlzV2l0aGluVmVydGljYWwgPSBpc1dpdGhpbihmcmFtZS50b3AsIGZyYW1lLmJvdHRvbSk7XG4gICAgdmFyIGlzV2l0aGluSG9yaXpvbnRhbCA9IGlzV2l0aGluKGZyYW1lLmxlZnQsIGZyYW1lLnJpZ2h0KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YmplY3QpIHtcbiAgICAgIGlmIChheGlzID09PSB2ZXJ0aWNhbCkge1xuICAgICAgICByZXR1cm4gaXNXaXRoaW5WZXJ0aWNhbChzdWJqZWN0LnRvcCkgJiYgaXNXaXRoaW5WZXJ0aWNhbChzdWJqZWN0LmJvdHRvbSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc1dpdGhpbkhvcml6b250YWwoc3ViamVjdC5sZWZ0KSAmJiBpc1dpdGhpbkhvcml6b250YWwoc3ViamVjdC5yaWdodCk7XG4gICAgfTtcbiAgfTtcbn0pO1xuXG52YXIgZ2V0RHJvcHBhYmxlRGlzcGxhY2VkID0gZnVuY3Rpb24gZ2V0RHJvcHBhYmxlRGlzcGxhY2VkKHRhcmdldCwgZGVzdGluYXRpb24pIHtcbiAgdmFyIGRpc3BsYWNlbWVudCA9IGRlc3RpbmF0aW9uLmZyYW1lID8gZGVzdGluYXRpb24uZnJhbWUuc2Nyb2xsLmRpZmYuZGlzcGxhY2VtZW50IDogb3JpZ2luO1xuICByZXR1cm4gb2Zmc2V0QnlQb3NpdGlvbih0YXJnZXQsIGRpc3BsYWNlbWVudCk7XG59O1xuXG52YXIgaXNWaXNpYmxlSW5Ecm9wcGFibGUgPSBmdW5jdGlvbiBpc1Zpc2libGVJbkRyb3BwYWJsZSh0YXJnZXQsIGRlc3RpbmF0aW9uLCBpc1Zpc2libGVUaHJvdWdoRnJhbWVGbikge1xuICBpZiAoIWRlc3RpbmF0aW9uLnN1YmplY3QuYWN0aXZlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGlzVmlzaWJsZVRocm91Z2hGcmFtZUZuKGRlc3RpbmF0aW9uLnN1YmplY3QuYWN0aXZlKSh0YXJnZXQpO1xufTtcblxudmFyIGlzVmlzaWJsZUluVmlld3BvcnQgPSBmdW5jdGlvbiBpc1Zpc2libGVJblZpZXdwb3J0KHRhcmdldCwgdmlld3BvcnQsIGlzVmlzaWJsZVRocm91Z2hGcmFtZUZuKSB7XG4gIHJldHVybiBpc1Zpc2libGVUaHJvdWdoRnJhbWVGbih2aWV3cG9ydCkodGFyZ2V0KTtcbn07XG5cbnZhciBpc1Zpc2libGUgPSBmdW5jdGlvbiBpc1Zpc2libGUoX3JlZikge1xuICB2YXIgdG9CZURpc3BsYWNlZCA9IF9yZWYudGFyZ2V0LFxuICAgICAgZGVzdGluYXRpb24gPSBfcmVmLmRlc3RpbmF0aW9uLFxuICAgICAgdmlld3BvcnQgPSBfcmVmLnZpZXdwb3J0LFxuICAgICAgd2l0aERyb3BwYWJsZURpc3BsYWNlbWVudCA9IF9yZWYud2l0aERyb3BwYWJsZURpc3BsYWNlbWVudCxcbiAgICAgIGlzVmlzaWJsZVRocm91Z2hGcmFtZUZuID0gX3JlZi5pc1Zpc2libGVUaHJvdWdoRnJhbWVGbjtcbiAgdmFyIGRpc3BsYWNlZFRhcmdldCA9IHdpdGhEcm9wcGFibGVEaXNwbGFjZW1lbnQgPyBnZXREcm9wcGFibGVEaXNwbGFjZWQodG9CZURpc3BsYWNlZCwgZGVzdGluYXRpb24pIDogdG9CZURpc3BsYWNlZDtcbiAgcmV0dXJuIGlzVmlzaWJsZUluRHJvcHBhYmxlKGRpc3BsYWNlZFRhcmdldCwgZGVzdGluYXRpb24sIGlzVmlzaWJsZVRocm91Z2hGcmFtZUZuKSAmJiBpc1Zpc2libGVJblZpZXdwb3J0KGRpc3BsYWNlZFRhcmdldCwgdmlld3BvcnQsIGlzVmlzaWJsZVRocm91Z2hGcmFtZUZuKTtcbn07XG5cbnZhciBpc1BhcnRpYWxseVZpc2libGUgPSBmdW5jdGlvbiBpc1BhcnRpYWxseVZpc2libGUoYXJncykge1xuICByZXR1cm4gaXNWaXNpYmxlKF9leHRlbmRzKHt9LCBhcmdzLCB7XG4gICAgaXNWaXNpYmxlVGhyb3VnaEZyYW1lRm46IGlzUGFydGlhbGx5VmlzaWJsZVRocm91Z2hGcmFtZVxuICB9KSk7XG59O1xudmFyIGlzVG90YWxseVZpc2libGUgPSBmdW5jdGlvbiBpc1RvdGFsbHlWaXNpYmxlKGFyZ3MpIHtcbiAgcmV0dXJuIGlzVmlzaWJsZShfZXh0ZW5kcyh7fSwgYXJncywge1xuICAgIGlzVmlzaWJsZVRocm91Z2hGcmFtZUZuOiBpc1RvdGFsbHlWaXNpYmxlVGhyb3VnaEZyYW1lXG4gIH0pKTtcbn07XG52YXIgaXNUb3RhbGx5VmlzaWJsZU9uQXhpcyA9IGZ1bmN0aW9uIGlzVG90YWxseVZpc2libGVPbkF4aXMoYXJncykge1xuICByZXR1cm4gaXNWaXNpYmxlKF9leHRlbmRzKHt9LCBhcmdzLCB7XG4gICAgaXNWaXNpYmxlVGhyb3VnaEZyYW1lRm46IGlzVG90YWxseVZpc2libGVUaHJvdWdoRnJhbWVPbkF4aXMoYXJncy5kZXN0aW5hdGlvbi5heGlzKVxuICB9KSk7XG59O1xuXG52YXIgZ2V0U2hvdWxkQW5pbWF0ZSA9IGZ1bmN0aW9uIGdldFNob3VsZEFuaW1hdGUoaWQsIGxhc3QsIGZvcmNlU2hvdWxkQW5pbWF0ZSkge1xuICBpZiAodHlwZW9mIGZvcmNlU2hvdWxkQW5pbWF0ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIGZvcmNlU2hvdWxkQW5pbWF0ZTtcbiAgfVxuXG4gIGlmICghbGFzdCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFyIGludmlzaWJsZSA9IGxhc3QuaW52aXNpYmxlLFxuICAgICAgdmlzaWJsZSA9IGxhc3QudmlzaWJsZTtcblxuICBpZiAoaW52aXNpYmxlW2lkXSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBwcmV2aW91cyA9IHZpc2libGVbaWRdO1xuICByZXR1cm4gcHJldmlvdXMgPyBwcmV2aW91cy5zaG91bGRBbmltYXRlIDogdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIGdldFRhcmdldChkcmFnZ2FibGUsIGRpc3BsYWNlZEJ5KSB7XG4gIHZhciBtYXJnaW5Cb3ggPSBkcmFnZ2FibGUucGFnZS5tYXJnaW5Cb3g7XG4gIHZhciBleHBhbmRCeSA9IHtcbiAgICB0b3A6IGRpc3BsYWNlZEJ5LnBvaW50LnksXG4gICAgcmlnaHQ6IDAsXG4gICAgYm90dG9tOiAwLFxuICAgIGxlZnQ6IGRpc3BsYWNlZEJ5LnBvaW50LnhcbiAgfTtcbiAgcmV0dXJuIGdldFJlY3QoZXhwYW5kKG1hcmdpbkJveCwgZXhwYW5kQnkpKTtcbn1cblxuZnVuY3Rpb24gZ2V0RGlzcGxhY2VtZW50R3JvdXBzKF9yZWYpIHtcbiAgdmFyIGFmdGVyRHJhZ2dpbmcgPSBfcmVmLmFmdGVyRHJhZ2dpbmcsXG4gICAgICBkZXN0aW5hdGlvbiA9IF9yZWYuZGVzdGluYXRpb24sXG4gICAgICBkaXNwbGFjZWRCeSA9IF9yZWYuZGlzcGxhY2VkQnksXG4gICAgICB2aWV3cG9ydCA9IF9yZWYudmlld3BvcnQsXG4gICAgICBmb3JjZVNob3VsZEFuaW1hdGUgPSBfcmVmLmZvcmNlU2hvdWxkQW5pbWF0ZSxcbiAgICAgIGxhc3QgPSBfcmVmLmxhc3Q7XG4gIHJldHVybiBhZnRlckRyYWdnaW5nLnJlZHVjZShmdW5jdGlvbiBwcm9jZXNzKGdyb3VwcywgZHJhZ2dhYmxlKSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChkcmFnZ2FibGUsIGRpc3BsYWNlZEJ5KTtcbiAgICB2YXIgaWQgPSBkcmFnZ2FibGUuZGVzY3JpcHRvci5pZDtcbiAgICBncm91cHMuYWxsLnB1c2goaWQpO1xuICAgIHZhciBpc1Zpc2libGUgPSBpc1BhcnRpYWxseVZpc2libGUoe1xuICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgICB2aWV3cG9ydDogdmlld3BvcnQsXG4gICAgICB3aXRoRHJvcHBhYmxlRGlzcGxhY2VtZW50OiB0cnVlXG4gICAgfSk7XG5cbiAgICBpZiAoIWlzVmlzaWJsZSkge1xuICAgICAgZ3JvdXBzLmludmlzaWJsZVtkcmFnZ2FibGUuZGVzY3JpcHRvci5pZF0gPSB0cnVlO1xuICAgICAgcmV0dXJuIGdyb3VwcztcbiAgICB9XG5cbiAgICB2YXIgc2hvdWxkQW5pbWF0ZSA9IGdldFNob3VsZEFuaW1hdGUoaWQsIGxhc3QsIGZvcmNlU2hvdWxkQW5pbWF0ZSk7XG4gICAgdmFyIGRpc3BsYWNlbWVudCA9IHtcbiAgICAgIGRyYWdnYWJsZUlkOiBpZCxcbiAgICAgIHNob3VsZEFuaW1hdGU6IHNob3VsZEFuaW1hdGVcbiAgICB9O1xuICAgIGdyb3Vwcy52aXNpYmxlW2lkXSA9IGRpc3BsYWNlbWVudDtcbiAgICByZXR1cm4gZ3JvdXBzO1xuICB9LCB7XG4gICAgYWxsOiBbXSxcbiAgICB2aXNpYmxlOiB7fSxcbiAgICBpbnZpc2libGU6IHt9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRJbmRleE9mTGFzdEl0ZW0oZHJhZ2dhYmxlcywgb3B0aW9ucykge1xuICBpZiAoIWRyYWdnYWJsZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICB2YXIgaW5kZXhPZkxhc3RJdGVtID0gZHJhZ2dhYmxlc1tkcmFnZ2FibGVzLmxlbmd0aCAtIDFdLmRlc2NyaXB0b3IuaW5kZXg7XG4gIHJldHVybiBvcHRpb25zLmluSG9tZUxpc3QgPyBpbmRleE9mTGFzdEl0ZW0gOiBpbmRleE9mTGFzdEl0ZW0gKyAxO1xufVxuXG5mdW5jdGlvbiBnb0F0RW5kKF9yZWYpIHtcbiAgdmFyIGluc2lkZURlc3RpbmF0aW9uID0gX3JlZi5pbnNpZGVEZXN0aW5hdGlvbixcbiAgICAgIGluSG9tZUxpc3QgPSBfcmVmLmluSG9tZUxpc3QsXG4gICAgICBkaXNwbGFjZWRCeSA9IF9yZWYuZGlzcGxhY2VkQnksXG4gICAgICBkZXN0aW5hdGlvbiA9IF9yZWYuZGVzdGluYXRpb247XG4gIHZhciBuZXdJbmRleCA9IGdldEluZGV4T2ZMYXN0SXRlbShpbnNpZGVEZXN0aW5hdGlvbiwge1xuICAgIGluSG9tZUxpc3Q6IGluSG9tZUxpc3RcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgZGlzcGxhY2VkOiBlbXB0eUdyb3VwcyxcbiAgICBkaXNwbGFjZWRCeTogZGlzcGxhY2VkQnksXG4gICAgYXQ6IHtcbiAgICAgIHR5cGU6ICdSRU9SREVSJyxcbiAgICAgIGRlc3RpbmF0aW9uOiB7XG4gICAgICAgIGRyb3BwYWJsZUlkOiBkZXN0aW5hdGlvbi5kZXNjcmlwdG9yLmlkLFxuICAgICAgICBpbmRleDogbmV3SW5kZXhcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVJlb3JkZXJJbXBhY3QoX3JlZjIpIHtcbiAgdmFyIGRyYWdnYWJsZSA9IF9yZWYyLmRyYWdnYWJsZSxcbiAgICAgIGluc2lkZURlc3RpbmF0aW9uID0gX3JlZjIuaW5zaWRlRGVzdGluYXRpb24sXG4gICAgICBkZXN0aW5hdGlvbiA9IF9yZWYyLmRlc3RpbmF0aW9uLFxuICAgICAgdmlld3BvcnQgPSBfcmVmMi52aWV3cG9ydCxcbiAgICAgIGRpc3BsYWNlZEJ5ID0gX3JlZjIuZGlzcGxhY2VkQnksXG4gICAgICBsYXN0ID0gX3JlZjIubGFzdCxcbiAgICAgIGluZGV4ID0gX3JlZjIuaW5kZXgsXG4gICAgICBmb3JjZVNob3VsZEFuaW1hdGUgPSBfcmVmMi5mb3JjZVNob3VsZEFuaW1hdGU7XG4gIHZhciBpbkhvbWVMaXN0ID0gaXNIb21lT2YoZHJhZ2dhYmxlLCBkZXN0aW5hdGlvbik7XG5cbiAgaWYgKGluZGV4ID09IG51bGwpIHtcbiAgICByZXR1cm4gZ29BdEVuZCh7XG4gICAgICBpbnNpZGVEZXN0aW5hdGlvbjogaW5zaWRlRGVzdGluYXRpb24sXG4gICAgICBpbkhvbWVMaXN0OiBpbkhvbWVMaXN0LFxuICAgICAgZGlzcGxhY2VkQnk6IGRpc3BsYWNlZEJ5LFxuICAgICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uXG4gICAgfSk7XG4gIH1cblxuICB2YXIgbWF0Y2ggPSBmaW5kKGluc2lkZURlc3RpbmF0aW9uLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgIHJldHVybiBpdGVtLmRlc2NyaXB0b3IuaW5kZXggPT09IGluZGV4O1xuICB9KTtcblxuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuIGdvQXRFbmQoe1xuICAgICAgaW5zaWRlRGVzdGluYXRpb246IGluc2lkZURlc3RpbmF0aW9uLFxuICAgICAgaW5Ib21lTGlzdDogaW5Ib21lTGlzdCxcbiAgICAgIGRpc3BsYWNlZEJ5OiBkaXNwbGFjZWRCeSxcbiAgICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvblxuICAgIH0pO1xuICB9XG5cbiAgdmFyIHdpdGhvdXREcmFnZ2luZyA9IHJlbW92ZURyYWdnYWJsZUZyb21MaXN0KGRyYWdnYWJsZSwgaW5zaWRlRGVzdGluYXRpb24pO1xuICB2YXIgc2xpY2VGcm9tID0gaW5zaWRlRGVzdGluYXRpb24uaW5kZXhPZihtYXRjaCk7XG4gIHZhciBpbXBhY3RlZCA9IHdpdGhvdXREcmFnZ2luZy5zbGljZShzbGljZUZyb20pO1xuICB2YXIgZGlzcGxhY2VkID0gZ2V0RGlzcGxhY2VtZW50R3JvdXBzKHtcbiAgICBhZnRlckRyYWdnaW5nOiBpbXBhY3RlZCxcbiAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgZGlzcGxhY2VkQnk6IGRpc3BsYWNlZEJ5LFxuICAgIGxhc3Q6IGxhc3QsXG4gICAgdmlld3BvcnQ6IHZpZXdwb3J0LmZyYW1lLFxuICAgIGZvcmNlU2hvdWxkQW5pbWF0ZTogZm9yY2VTaG91bGRBbmltYXRlXG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGRpc3BsYWNlZDogZGlzcGxhY2VkLFxuICAgIGRpc3BsYWNlZEJ5OiBkaXNwbGFjZWRCeSxcbiAgICBhdDoge1xuICAgICAgdHlwZTogJ1JFT1JERVInLFxuICAgICAgZGVzdGluYXRpb246IHtcbiAgICAgICAgZHJvcHBhYmxlSWQ6IGRlc3RpbmF0aW9uLmRlc2NyaXB0b3IuaWQsXG4gICAgICAgIGluZGV4OiBpbmRleFxuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gZGlkU3RhcnRBZnRlckNyaXRpY2FsKGRyYWdnYWJsZUlkLCBhZnRlckNyaXRpY2FsKSB7XG4gIHJldHVybiBCb29sZWFuKGFmdGVyQ3JpdGljYWwuZWZmZWN0ZWRbZHJhZ2dhYmxlSWRdKTtcbn1cblxudmFyIGZyb21Db21iaW5lID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBpc01vdmluZ0ZvcndhcmQgPSBfcmVmLmlzTW92aW5nRm9yd2FyZCxcbiAgICAgIGRlc3RpbmF0aW9uID0gX3JlZi5kZXN0aW5hdGlvbixcbiAgICAgIGRyYWdnYWJsZXMgPSBfcmVmLmRyYWdnYWJsZXMsXG4gICAgICBjb21iaW5lID0gX3JlZi5jb21iaW5lLFxuICAgICAgYWZ0ZXJDcml0aWNhbCA9IF9yZWYuYWZ0ZXJDcml0aWNhbDtcblxuICBpZiAoIWRlc3RpbmF0aW9uLmlzQ29tYmluZUVuYWJsZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBjb21iaW5lSWQgPSBjb21iaW5lLmRyYWdnYWJsZUlkO1xuICB2YXIgY29tYmluZVdpdGggPSBkcmFnZ2FibGVzW2NvbWJpbmVJZF07XG4gIHZhciBjb21iaW5lV2l0aEluZGV4ID0gY29tYmluZVdpdGguZGVzY3JpcHRvci5pbmRleDtcbiAgdmFyIGRpZENvbWJpbmVXaXRoU3RhcnRBZnRlckNyaXRpY2FsID0gZGlkU3RhcnRBZnRlckNyaXRpY2FsKGNvbWJpbmVJZCwgYWZ0ZXJDcml0aWNhbCk7XG5cbiAgaWYgKGRpZENvbWJpbmVXaXRoU3RhcnRBZnRlckNyaXRpY2FsKSB7XG4gICAgaWYgKGlzTW92aW5nRm9yd2FyZCkge1xuICAgICAgcmV0dXJuIGNvbWJpbmVXaXRoSW5kZXg7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbWJpbmVXaXRoSW5kZXggLSAxO1xuICB9XG5cbiAgaWYgKGlzTW92aW5nRm9yd2FyZCkge1xuICAgIHJldHVybiBjb21iaW5lV2l0aEluZGV4ICsgMTtcbiAgfVxuXG4gIHJldHVybiBjb21iaW5lV2l0aEluZGV4O1xufSk7XG5cbnZhciBmcm9tUmVvcmRlciA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgaXNNb3ZpbmdGb3J3YXJkID0gX3JlZi5pc01vdmluZ0ZvcndhcmQsXG4gICAgICBpc0luSG9tZUxpc3QgPSBfcmVmLmlzSW5Ib21lTGlzdCxcbiAgICAgIGluc2lkZURlc3RpbmF0aW9uID0gX3JlZi5pbnNpZGVEZXN0aW5hdGlvbixcbiAgICAgIGxvY2F0aW9uID0gX3JlZi5sb2NhdGlvbjtcblxuICBpZiAoIWluc2lkZURlc3RpbmF0aW9uLmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRJbmRleCA9IGxvY2F0aW9uLmluZGV4O1xuICB2YXIgcHJvcG9zZWRJbmRleCA9IGlzTW92aW5nRm9yd2FyZCA/IGN1cnJlbnRJbmRleCArIDEgOiBjdXJyZW50SW5kZXggLSAxO1xuICB2YXIgZmlyc3RJbmRleCA9IGluc2lkZURlc3RpbmF0aW9uWzBdLmRlc2NyaXB0b3IuaW5kZXg7XG4gIHZhciBsYXN0SW5kZXggPSBpbnNpZGVEZXN0aW5hdGlvbltpbnNpZGVEZXN0aW5hdGlvbi5sZW5ndGggLSAxXS5kZXNjcmlwdG9yLmluZGV4O1xuICB2YXIgdXBwZXJCb3VuZCA9IGlzSW5Ib21lTGlzdCA/IGxhc3RJbmRleCA6IGxhc3RJbmRleCArIDE7XG5cbiAgaWYgKHByb3Bvc2VkSW5kZXggPCBmaXJzdEluZGV4KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAocHJvcG9zZWRJbmRleCA+IHVwcGVyQm91bmQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBwcm9wb3NlZEluZGV4O1xufSk7XG5cbnZhciBtb3ZlVG9OZXh0SW5kZXggPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGlzTW92aW5nRm9yd2FyZCA9IF9yZWYuaXNNb3ZpbmdGb3J3YXJkLFxuICAgICAgaXNJbkhvbWVMaXN0ID0gX3JlZi5pc0luSG9tZUxpc3QsXG4gICAgICBkcmFnZ2FibGUgPSBfcmVmLmRyYWdnYWJsZSxcbiAgICAgIGRyYWdnYWJsZXMgPSBfcmVmLmRyYWdnYWJsZXMsXG4gICAgICBkZXN0aW5hdGlvbiA9IF9yZWYuZGVzdGluYXRpb24sXG4gICAgICBpbnNpZGVEZXN0aW5hdGlvbiA9IF9yZWYuaW5zaWRlRGVzdGluYXRpb24sXG4gICAgICBwcmV2aW91c0ltcGFjdCA9IF9yZWYucHJldmlvdXNJbXBhY3QsXG4gICAgICB2aWV3cG9ydCA9IF9yZWYudmlld3BvcnQsXG4gICAgICBhZnRlckNyaXRpY2FsID0gX3JlZi5hZnRlckNyaXRpY2FsO1xuICB2YXIgd2FzQXQgPSBwcmV2aW91c0ltcGFjdC5hdDtcbiAgIXdhc0F0ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IG1vdmUgaW4gZGlyZWN0aW9uIHdpdGhvdXQgcHJldmlvdXMgaW1wYWN0IGxvY2F0aW9uJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuXG4gIGlmICh3YXNBdC50eXBlID09PSAnUkVPUkRFUicpIHtcbiAgICB2YXIgX25ld0luZGV4ID0gZnJvbVJlb3JkZXIoe1xuICAgICAgaXNNb3ZpbmdGb3J3YXJkOiBpc01vdmluZ0ZvcndhcmQsXG4gICAgICBpc0luSG9tZUxpc3Q6IGlzSW5Ib21lTGlzdCxcbiAgICAgIGxvY2F0aW9uOiB3YXNBdC5kZXN0aW5hdGlvbixcbiAgICAgIGluc2lkZURlc3RpbmF0aW9uOiBpbnNpZGVEZXN0aW5hdGlvblxuICAgIH0pO1xuXG4gICAgaWYgKF9uZXdJbmRleCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY2FsY3VsYXRlUmVvcmRlckltcGFjdCh7XG4gICAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICAgIGluc2lkZURlc3RpbmF0aW9uOiBpbnNpZGVEZXN0aW5hdGlvbixcbiAgICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbixcbiAgICAgIHZpZXdwb3J0OiB2aWV3cG9ydCxcbiAgICAgIGxhc3Q6IHByZXZpb3VzSW1wYWN0LmRpc3BsYWNlZCxcbiAgICAgIGRpc3BsYWNlZEJ5OiBwcmV2aW91c0ltcGFjdC5kaXNwbGFjZWRCeSxcbiAgICAgIGluZGV4OiBfbmV3SW5kZXhcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBuZXdJbmRleCA9IGZyb21Db21iaW5lKHtcbiAgICBpc01vdmluZ0ZvcndhcmQ6IGlzTW92aW5nRm9yd2FyZCxcbiAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgZGlzcGxhY2VkOiBwcmV2aW91c0ltcGFjdC5kaXNwbGFjZWQsXG4gICAgZHJhZ2dhYmxlczogZHJhZ2dhYmxlcyxcbiAgICBjb21iaW5lOiB3YXNBdC5jb21iaW5lLFxuICAgIGFmdGVyQ3JpdGljYWw6IGFmdGVyQ3JpdGljYWxcbiAgfSk7XG5cbiAgaWYgKG5ld0luZGV4ID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBjYWxjdWxhdGVSZW9yZGVySW1wYWN0KHtcbiAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICBpbnNpZGVEZXN0aW5hdGlvbjogaW5zaWRlRGVzdGluYXRpb24sXG4gICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uLFxuICAgIHZpZXdwb3J0OiB2aWV3cG9ydCxcbiAgICBsYXN0OiBwcmV2aW91c0ltcGFjdC5kaXNwbGFjZWQsXG4gICAgZGlzcGxhY2VkQnk6IHByZXZpb3VzSW1wYWN0LmRpc3BsYWNlZEJ5LFxuICAgIGluZGV4OiBuZXdJbmRleFxuICB9KTtcbn0pO1xuXG52YXIgZ2V0Q29tYmluZWRJdGVtRGlzcGxhY2VtZW50ID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBkaXNwbGFjZWQgPSBfcmVmLmRpc3BsYWNlZCxcbiAgICAgIGFmdGVyQ3JpdGljYWwgPSBfcmVmLmFmdGVyQ3JpdGljYWwsXG4gICAgICBjb21iaW5lV2l0aCA9IF9yZWYuY29tYmluZVdpdGgsXG4gICAgICBkaXNwbGFjZWRCeSA9IF9yZWYuZGlzcGxhY2VkQnk7XG4gIHZhciBpc0Rpc3BsYWNlZCA9IEJvb2xlYW4oZGlzcGxhY2VkLnZpc2libGVbY29tYmluZVdpdGhdIHx8IGRpc3BsYWNlZC5pbnZpc2libGVbY29tYmluZVdpdGhdKTtcblxuICBpZiAoZGlkU3RhcnRBZnRlckNyaXRpY2FsKGNvbWJpbmVXaXRoLCBhZnRlckNyaXRpY2FsKSkge1xuICAgIHJldHVybiBpc0Rpc3BsYWNlZCA/IG9yaWdpbiA6IG5lZ2F0ZShkaXNwbGFjZWRCeS5wb2ludCk7XG4gIH1cblxuICByZXR1cm4gaXNEaXNwbGFjZWQgPyBkaXNwbGFjZWRCeS5wb2ludCA6IG9yaWdpbjtcbn0pO1xuXG52YXIgd2hlbkNvbWJpbmluZyA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgYWZ0ZXJDcml0aWNhbCA9IF9yZWYuYWZ0ZXJDcml0aWNhbCxcbiAgICAgIGltcGFjdCA9IF9yZWYuaW1wYWN0LFxuICAgICAgZHJhZ2dhYmxlcyA9IF9yZWYuZHJhZ2dhYmxlcztcbiAgdmFyIGNvbWJpbmUgPSB0cnlHZXRDb21iaW5lKGltcGFjdCk7XG4gICFjb21iaW5lID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIHZhciBjb21iaW5lV2l0aCA9IGNvbWJpbmUuZHJhZ2dhYmxlSWQ7XG4gIHZhciBjZW50ZXIgPSBkcmFnZ2FibGVzW2NvbWJpbmVXaXRoXS5wYWdlLmJvcmRlckJveC5jZW50ZXI7XG4gIHZhciBkaXNwbGFjZUJ5ID0gZ2V0Q29tYmluZWRJdGVtRGlzcGxhY2VtZW50KHtcbiAgICBkaXNwbGFjZWQ6IGltcGFjdC5kaXNwbGFjZWQsXG4gICAgYWZ0ZXJDcml0aWNhbDogYWZ0ZXJDcml0aWNhbCxcbiAgICBjb21iaW5lV2l0aDogY29tYmluZVdpdGgsXG4gICAgZGlzcGxhY2VkQnk6IGltcGFjdC5kaXNwbGFjZWRCeVxuICB9KTtcbiAgcmV0dXJuIGFkZChjZW50ZXIsIGRpc3BsYWNlQnkpO1xufSk7XG5cbnZhciBkaXN0YW5jZUZyb21TdGFydFRvQm9yZGVyQm94Q2VudGVyID0gZnVuY3Rpb24gZGlzdGFuY2VGcm9tU3RhcnRUb0JvcmRlckJveENlbnRlcihheGlzLCBib3gpIHtcbiAgcmV0dXJuIGJveC5tYXJnaW5bYXhpcy5zdGFydF0gKyBib3guYm9yZGVyQm94W2F4aXMuc2l6ZV0gLyAyO1xufTtcblxudmFyIGRpc3RhbmNlRnJvbUVuZFRvQm9yZGVyQm94Q2VudGVyID0gZnVuY3Rpb24gZGlzdGFuY2VGcm9tRW5kVG9Cb3JkZXJCb3hDZW50ZXIoYXhpcywgYm94KSB7XG4gIHJldHVybiBib3gubWFyZ2luW2F4aXMuZW5kXSArIGJveC5ib3JkZXJCb3hbYXhpcy5zaXplXSAvIDI7XG59O1xuXG52YXIgZ2V0Q3Jvc3NBeGlzQm9yZGVyQm94Q2VudGVyID0gZnVuY3Rpb24gZ2V0Q3Jvc3NBeGlzQm9yZGVyQm94Q2VudGVyKGF4aXMsIHRhcmdldCwgaXNNb3ZpbmcpIHtcbiAgcmV0dXJuIHRhcmdldFtheGlzLmNyb3NzQXhpc1N0YXJ0XSArIGlzTW92aW5nLm1hcmdpbltheGlzLmNyb3NzQXhpc1N0YXJ0XSArIGlzTW92aW5nLmJvcmRlckJveFtheGlzLmNyb3NzQXhpc1NpemVdIC8gMjtcbn07XG5cbnZhciBnb0FmdGVyID0gZnVuY3Rpb24gZ29BZnRlcihfcmVmKSB7XG4gIHZhciBheGlzID0gX3JlZi5heGlzLFxuICAgICAgbW92ZVJlbGF0aXZlVG8gPSBfcmVmLm1vdmVSZWxhdGl2ZVRvLFxuICAgICAgaXNNb3ZpbmcgPSBfcmVmLmlzTW92aW5nO1xuICByZXR1cm4gcGF0Y2goYXhpcy5saW5lLCBtb3ZlUmVsYXRpdmVUby5tYXJnaW5Cb3hbYXhpcy5lbmRdICsgZGlzdGFuY2VGcm9tU3RhcnRUb0JvcmRlckJveENlbnRlcihheGlzLCBpc01vdmluZyksIGdldENyb3NzQXhpc0JvcmRlckJveENlbnRlcihheGlzLCBtb3ZlUmVsYXRpdmVUby5tYXJnaW5Cb3gsIGlzTW92aW5nKSk7XG59O1xudmFyIGdvQmVmb3JlID0gZnVuY3Rpb24gZ29CZWZvcmUoX3JlZjIpIHtcbiAgdmFyIGF4aXMgPSBfcmVmMi5heGlzLFxuICAgICAgbW92ZVJlbGF0aXZlVG8gPSBfcmVmMi5tb3ZlUmVsYXRpdmVUbyxcbiAgICAgIGlzTW92aW5nID0gX3JlZjIuaXNNb3Zpbmc7XG4gIHJldHVybiBwYXRjaChheGlzLmxpbmUsIG1vdmVSZWxhdGl2ZVRvLm1hcmdpbkJveFtheGlzLnN0YXJ0XSAtIGRpc3RhbmNlRnJvbUVuZFRvQm9yZGVyQm94Q2VudGVyKGF4aXMsIGlzTW92aW5nKSwgZ2V0Q3Jvc3NBeGlzQm9yZGVyQm94Q2VudGVyKGF4aXMsIG1vdmVSZWxhdGl2ZVRvLm1hcmdpbkJveCwgaXNNb3ZpbmcpKTtcbn07XG52YXIgZ29JbnRvU3RhcnQgPSBmdW5jdGlvbiBnb0ludG9TdGFydChfcmVmMykge1xuICB2YXIgYXhpcyA9IF9yZWYzLmF4aXMsXG4gICAgICBtb3ZlSW50byA9IF9yZWYzLm1vdmVJbnRvLFxuICAgICAgaXNNb3ZpbmcgPSBfcmVmMy5pc01vdmluZztcbiAgcmV0dXJuIHBhdGNoKGF4aXMubGluZSwgbW92ZUludG8uY29udGVudEJveFtheGlzLnN0YXJ0XSArIGRpc3RhbmNlRnJvbVN0YXJ0VG9Cb3JkZXJCb3hDZW50ZXIoYXhpcywgaXNNb3ZpbmcpLCBnZXRDcm9zc0F4aXNCb3JkZXJCb3hDZW50ZXIoYXhpcywgbW92ZUludG8uY29udGVudEJveCwgaXNNb3ZpbmcpKTtcbn07XG5cbnZhciB3aGVuUmVvcmRlcmluZyA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgaW1wYWN0ID0gX3JlZi5pbXBhY3QsXG4gICAgICBkcmFnZ2FibGUgPSBfcmVmLmRyYWdnYWJsZSxcbiAgICAgIGRyYWdnYWJsZXMgPSBfcmVmLmRyYWdnYWJsZXMsXG4gICAgICBkcm9wcGFibGUgPSBfcmVmLmRyb3BwYWJsZSxcbiAgICAgIGFmdGVyQ3JpdGljYWwgPSBfcmVmLmFmdGVyQ3JpdGljYWw7XG4gIHZhciBpbnNpZGVEZXN0aW5hdGlvbiA9IGdldERyYWdnYWJsZXNJbnNpZGVEcm9wcGFibGUoZHJvcHBhYmxlLmRlc2NyaXB0b3IuaWQsIGRyYWdnYWJsZXMpO1xuICB2YXIgZHJhZ2dhYmxlUGFnZSA9IGRyYWdnYWJsZS5wYWdlO1xuICB2YXIgYXhpcyA9IGRyb3BwYWJsZS5heGlzO1xuXG4gIGlmICghaW5zaWRlRGVzdGluYXRpb24ubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGdvSW50b1N0YXJ0KHtcbiAgICAgIGF4aXM6IGF4aXMsXG4gICAgICBtb3ZlSW50bzogZHJvcHBhYmxlLnBhZ2UsXG4gICAgICBpc01vdmluZzogZHJhZ2dhYmxlUGFnZVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIGRpc3BsYWNlZCA9IGltcGFjdC5kaXNwbGFjZWQsXG4gICAgICBkaXNwbGFjZWRCeSA9IGltcGFjdC5kaXNwbGFjZWRCeTtcbiAgdmFyIGNsb3Nlc3RBZnRlciA9IGRpc3BsYWNlZC5hbGxbMF07XG5cbiAgaWYgKGNsb3Nlc3RBZnRlcikge1xuICAgIHZhciBjbG9zZXN0ID0gZHJhZ2dhYmxlc1tjbG9zZXN0QWZ0ZXJdO1xuXG4gICAgaWYgKGRpZFN0YXJ0QWZ0ZXJDcml0aWNhbChjbG9zZXN0QWZ0ZXIsIGFmdGVyQ3JpdGljYWwpKSB7XG4gICAgICByZXR1cm4gZ29CZWZvcmUoe1xuICAgICAgICBheGlzOiBheGlzLFxuICAgICAgICBtb3ZlUmVsYXRpdmVUbzogY2xvc2VzdC5wYWdlLFxuICAgICAgICBpc01vdmluZzogZHJhZ2dhYmxlUGFnZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIHdpdGhEaXNwbGFjZW1lbnQgPSBvZmZzZXQoY2xvc2VzdC5wYWdlLCBkaXNwbGFjZWRCeS5wb2ludCk7XG4gICAgcmV0dXJuIGdvQmVmb3JlKHtcbiAgICAgIGF4aXM6IGF4aXMsXG4gICAgICBtb3ZlUmVsYXRpdmVUbzogd2l0aERpc3BsYWNlbWVudCxcbiAgICAgIGlzTW92aW5nOiBkcmFnZ2FibGVQYWdlXG4gICAgfSk7XG4gIH1cblxuICB2YXIgbGFzdCA9IGluc2lkZURlc3RpbmF0aW9uW2luc2lkZURlc3RpbmF0aW9uLmxlbmd0aCAtIDFdO1xuXG4gIGlmIChsYXN0LmRlc2NyaXB0b3IuaWQgPT09IGRyYWdnYWJsZS5kZXNjcmlwdG9yLmlkKSB7XG4gICAgcmV0dXJuIGRyYWdnYWJsZVBhZ2UuYm9yZGVyQm94LmNlbnRlcjtcbiAgfVxuXG4gIGlmIChkaWRTdGFydEFmdGVyQ3JpdGljYWwobGFzdC5kZXNjcmlwdG9yLmlkLCBhZnRlckNyaXRpY2FsKSkge1xuICAgIHZhciBwYWdlID0gb2Zmc2V0KGxhc3QucGFnZSwgbmVnYXRlKGFmdGVyQ3JpdGljYWwuZGlzcGxhY2VkQnkucG9pbnQpKTtcbiAgICByZXR1cm4gZ29BZnRlcih7XG4gICAgICBheGlzOiBheGlzLFxuICAgICAgbW92ZVJlbGF0aXZlVG86IHBhZ2UsXG4gICAgICBpc01vdmluZzogZHJhZ2dhYmxlUGFnZVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGdvQWZ0ZXIoe1xuICAgIGF4aXM6IGF4aXMsXG4gICAgbW92ZVJlbGF0aXZlVG86IGxhc3QucGFnZSxcbiAgICBpc01vdmluZzogZHJhZ2dhYmxlUGFnZVxuICB9KTtcbn0pO1xuXG52YXIgd2l0aERyb3BwYWJsZURpc3BsYWNlbWVudCA9IChmdW5jdGlvbiAoZHJvcHBhYmxlLCBwb2ludCkge1xuICB2YXIgZnJhbWUgPSBkcm9wcGFibGUuZnJhbWU7XG5cbiAgaWYgKCFmcmFtZSkge1xuICAgIHJldHVybiBwb2ludDtcbiAgfVxuXG4gIHJldHVybiBhZGQocG9pbnQsIGZyYW1lLnNjcm9sbC5kaWZmLmRpc3BsYWNlbWVudCk7XG59KTtcblxudmFyIGdldFJlc3VsdFdpdGhvdXREcm9wcGFibGVEaXNwbGFjZW1lbnQgPSBmdW5jdGlvbiBnZXRSZXN1bHRXaXRob3V0RHJvcHBhYmxlRGlzcGxhY2VtZW50KF9yZWYpIHtcbiAgdmFyIGltcGFjdCA9IF9yZWYuaW1wYWN0LFxuICAgICAgZHJhZ2dhYmxlID0gX3JlZi5kcmFnZ2FibGUsXG4gICAgICBkcm9wcGFibGUgPSBfcmVmLmRyb3BwYWJsZSxcbiAgICAgIGRyYWdnYWJsZXMgPSBfcmVmLmRyYWdnYWJsZXMsXG4gICAgICBhZnRlckNyaXRpY2FsID0gX3JlZi5hZnRlckNyaXRpY2FsO1xuICB2YXIgb3JpZ2luYWwgPSBkcmFnZ2FibGUucGFnZS5ib3JkZXJCb3guY2VudGVyO1xuICB2YXIgYXQgPSBpbXBhY3QuYXQ7XG5cbiAgaWYgKCFkcm9wcGFibGUpIHtcbiAgICByZXR1cm4gb3JpZ2luYWw7XG4gIH1cblxuICBpZiAoIWF0KSB7XG4gICAgcmV0dXJuIG9yaWdpbmFsO1xuICB9XG5cbiAgaWYgKGF0LnR5cGUgPT09ICdSRU9SREVSJykge1xuICAgIHJldHVybiB3aGVuUmVvcmRlcmluZyh7XG4gICAgICBpbXBhY3Q6IGltcGFjdCxcbiAgICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgICAgZHJhZ2dhYmxlczogZHJhZ2dhYmxlcyxcbiAgICAgIGRyb3BwYWJsZTogZHJvcHBhYmxlLFxuICAgICAgYWZ0ZXJDcml0aWNhbDogYWZ0ZXJDcml0aWNhbFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHdoZW5Db21iaW5pbmcoe1xuICAgIGltcGFjdDogaW1wYWN0LFxuICAgIGRyYWdnYWJsZXM6IGRyYWdnYWJsZXMsXG4gICAgYWZ0ZXJDcml0aWNhbDogYWZ0ZXJDcml0aWNhbFxuICB9KTtcbn07XG5cbnZhciBnZXRQYWdlQm9yZGVyQm94Q2VudGVyRnJvbUltcGFjdCA9IChmdW5jdGlvbiAoYXJncykge1xuICB2YXIgd2l0aG91dERpc3BsYWNlbWVudCA9IGdldFJlc3VsdFdpdGhvdXREcm9wcGFibGVEaXNwbGFjZW1lbnQoYXJncyk7XG4gIHZhciBkcm9wcGFibGUgPSBhcmdzLmRyb3BwYWJsZTtcbiAgdmFyIHdpdGhEaXNwbGFjZW1lbnQgPSBkcm9wcGFibGUgPyB3aXRoRHJvcHBhYmxlRGlzcGxhY2VtZW50KGRyb3BwYWJsZSwgd2l0aG91dERpc3BsYWNlbWVudCkgOiB3aXRob3V0RGlzcGxhY2VtZW50O1xuICByZXR1cm4gd2l0aERpc3BsYWNlbWVudDtcbn0pO1xuXG52YXIgc2Nyb2xsVmlld3BvcnQgPSAoZnVuY3Rpb24gKHZpZXdwb3J0LCBuZXdTY3JvbGwpIHtcbiAgdmFyIGRpZmYgPSBzdWJ0cmFjdChuZXdTY3JvbGwsIHZpZXdwb3J0LnNjcm9sbC5pbml0aWFsKTtcbiAgdmFyIGRpc3BsYWNlbWVudCA9IG5lZ2F0ZShkaWZmKTtcbiAgdmFyIGZyYW1lID0gZ2V0UmVjdCh7XG4gICAgdG9wOiBuZXdTY3JvbGwueSxcbiAgICBib3R0b206IG5ld1Njcm9sbC55ICsgdmlld3BvcnQuZnJhbWUuaGVpZ2h0LFxuICAgIGxlZnQ6IG5ld1Njcm9sbC54LFxuICAgIHJpZ2h0OiBuZXdTY3JvbGwueCArIHZpZXdwb3J0LmZyYW1lLndpZHRoXG4gIH0pO1xuICB2YXIgdXBkYXRlZCA9IHtcbiAgICBmcmFtZTogZnJhbWUsXG4gICAgc2Nyb2xsOiB7XG4gICAgICBpbml0aWFsOiB2aWV3cG9ydC5zY3JvbGwuaW5pdGlhbCxcbiAgICAgIG1heDogdmlld3BvcnQuc2Nyb2xsLm1heCxcbiAgICAgIGN1cnJlbnQ6IG5ld1Njcm9sbCxcbiAgICAgIGRpZmY6IHtcbiAgICAgICAgdmFsdWU6IGRpZmYsXG4gICAgICAgIGRpc3BsYWNlbWVudDogZGlzcGxhY2VtZW50XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlZDtcbn0pO1xuXG5mdW5jdGlvbiBnZXREcmFnZ2FibGVzKGlkcywgZHJhZ2dhYmxlcykge1xuICByZXR1cm4gaWRzLm1hcChmdW5jdGlvbiAoaWQpIHtcbiAgICByZXR1cm4gZHJhZ2dhYmxlc1tpZF07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB0cnlHZXRWaXNpYmxlKGlkLCBncm91cHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBncm91cHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGlzcGxhY2VtZW50ID0gZ3JvdXBzW2ldLnZpc2libGVbaWRdO1xuXG4gICAgaWYgKGRpc3BsYWNlbWVudCkge1xuICAgICAgcmV0dXJuIGRpc3BsYWNlbWVudDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxudmFyIHNwZWN1bGF0aXZlbHlJbmNyZWFzZSA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgaW1wYWN0ID0gX3JlZi5pbXBhY3QsXG4gICAgICB2aWV3cG9ydCA9IF9yZWYudmlld3BvcnQsXG4gICAgICBkZXN0aW5hdGlvbiA9IF9yZWYuZGVzdGluYXRpb24sXG4gICAgICBkcmFnZ2FibGVzID0gX3JlZi5kcmFnZ2FibGVzLFxuICAgICAgbWF4U2Nyb2xsQ2hhbmdlID0gX3JlZi5tYXhTY3JvbGxDaGFuZ2U7XG4gIHZhciBzY3JvbGxlZFZpZXdwb3J0ID0gc2Nyb2xsVmlld3BvcnQodmlld3BvcnQsIGFkZCh2aWV3cG9ydC5zY3JvbGwuY3VycmVudCwgbWF4U2Nyb2xsQ2hhbmdlKSk7XG4gIHZhciBzY3JvbGxlZERyb3BwYWJsZSA9IGRlc3RpbmF0aW9uLmZyYW1lID8gc2Nyb2xsRHJvcHBhYmxlKGRlc3RpbmF0aW9uLCBhZGQoZGVzdGluYXRpb24uZnJhbWUuc2Nyb2xsLmN1cnJlbnQsIG1heFNjcm9sbENoYW5nZSkpIDogZGVzdGluYXRpb247XG4gIHZhciBsYXN0ID0gaW1wYWN0LmRpc3BsYWNlZDtcbiAgdmFyIHdpdGhWaWV3cG9ydFNjcm9sbCA9IGdldERpc3BsYWNlbWVudEdyb3Vwcyh7XG4gICAgYWZ0ZXJEcmFnZ2luZzogZ2V0RHJhZ2dhYmxlcyhsYXN0LmFsbCwgZHJhZ2dhYmxlcyksXG4gICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uLFxuICAgIGRpc3BsYWNlZEJ5OiBpbXBhY3QuZGlzcGxhY2VkQnksXG4gICAgdmlld3BvcnQ6IHNjcm9sbGVkVmlld3BvcnQuZnJhbWUsXG4gICAgbGFzdDogbGFzdCxcbiAgICBmb3JjZVNob3VsZEFuaW1hdGU6IGZhbHNlXG4gIH0pO1xuICB2YXIgd2l0aERyb3BwYWJsZVNjcm9sbCA9IGdldERpc3BsYWNlbWVudEdyb3Vwcyh7XG4gICAgYWZ0ZXJEcmFnZ2luZzogZ2V0RHJhZ2dhYmxlcyhsYXN0LmFsbCwgZHJhZ2dhYmxlcyksXG4gICAgZGVzdGluYXRpb246IHNjcm9sbGVkRHJvcHBhYmxlLFxuICAgIGRpc3BsYWNlZEJ5OiBpbXBhY3QuZGlzcGxhY2VkQnksXG4gICAgdmlld3BvcnQ6IHZpZXdwb3J0LmZyYW1lLFxuICAgIGxhc3Q6IGxhc3QsXG4gICAgZm9yY2VTaG91bGRBbmltYXRlOiBmYWxzZVxuICB9KTtcbiAgdmFyIGludmlzaWJsZSA9IHt9O1xuICB2YXIgdmlzaWJsZSA9IHt9O1xuICB2YXIgZ3JvdXBzID0gW2xhc3QsIHdpdGhWaWV3cG9ydFNjcm9sbCwgd2l0aERyb3BwYWJsZVNjcm9sbF07XG4gIGxhc3QuYWxsLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgdmFyIGRpc3BsYWNlbWVudCA9IHRyeUdldFZpc2libGUoaWQsIGdyb3Vwcyk7XG5cbiAgICBpZiAoZGlzcGxhY2VtZW50KSB7XG4gICAgICB2aXNpYmxlW2lkXSA9IGRpc3BsYWNlbWVudDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpbnZpc2libGVbaWRdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgdmFyIG5ld0ltcGFjdCA9IF9leHRlbmRzKHt9LCBpbXBhY3QsIHtcbiAgICBkaXNwbGFjZWQ6IHtcbiAgICAgIGFsbDogbGFzdC5hbGwsXG4gICAgICBpbnZpc2libGU6IGludmlzaWJsZSxcbiAgICAgIHZpc2libGU6IHZpc2libGVcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBuZXdJbXBhY3Q7XG59KTtcblxudmFyIHdpdGhWaWV3cG9ydERpc3BsYWNlbWVudCA9IChmdW5jdGlvbiAodmlld3BvcnQsIHBvaW50KSB7XG4gIHJldHVybiBhZGQodmlld3BvcnQuc2Nyb2xsLmRpZmYuZGlzcGxhY2VtZW50LCBwb2ludCk7XG59KTtcblxudmFyIGdldENsaWVudEZyb21QYWdlQm9yZGVyQm94Q2VudGVyID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBwYWdlQm9yZGVyQm94Q2VudGVyID0gX3JlZi5wYWdlQm9yZGVyQm94Q2VudGVyLFxuICAgICAgZHJhZ2dhYmxlID0gX3JlZi5kcmFnZ2FibGUsXG4gICAgICB2aWV3cG9ydCA9IF9yZWYudmlld3BvcnQ7XG4gIHZhciB3aXRob3V0UGFnZVNjcm9sbENoYW5nZSA9IHdpdGhWaWV3cG9ydERpc3BsYWNlbWVudCh2aWV3cG9ydCwgcGFnZUJvcmRlckJveENlbnRlcik7XG4gIHZhciBvZmZzZXQgPSBzdWJ0cmFjdCh3aXRob3V0UGFnZVNjcm9sbENoYW5nZSwgZHJhZ2dhYmxlLnBhZ2UuYm9yZGVyQm94LmNlbnRlcik7XG4gIHJldHVybiBhZGQoZHJhZ2dhYmxlLmNsaWVudC5ib3JkZXJCb3guY2VudGVyLCBvZmZzZXQpO1xufSk7XG5cbnZhciBpc1RvdGFsbHlWaXNpYmxlSW5OZXdMb2NhdGlvbiA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgZHJhZ2dhYmxlID0gX3JlZi5kcmFnZ2FibGUsXG4gICAgICBkZXN0aW5hdGlvbiA9IF9yZWYuZGVzdGluYXRpb24sXG4gICAgICBuZXdQYWdlQm9yZGVyQm94Q2VudGVyID0gX3JlZi5uZXdQYWdlQm9yZGVyQm94Q2VudGVyLFxuICAgICAgdmlld3BvcnQgPSBfcmVmLnZpZXdwb3J0LFxuICAgICAgd2l0aERyb3BwYWJsZURpc3BsYWNlbWVudCA9IF9yZWYud2l0aERyb3BwYWJsZURpc3BsYWNlbWVudCxcbiAgICAgIF9yZWYkb25seU9uTWFpbkF4aXMgPSBfcmVmLm9ubHlPbk1haW5BeGlzLFxuICAgICAgb25seU9uTWFpbkF4aXMgPSBfcmVmJG9ubHlPbk1haW5BeGlzID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkb25seU9uTWFpbkF4aXM7XG4gIHZhciBjaGFuZ2VOZWVkZWQgPSBzdWJ0cmFjdChuZXdQYWdlQm9yZGVyQm94Q2VudGVyLCBkcmFnZ2FibGUucGFnZS5ib3JkZXJCb3guY2VudGVyKTtcbiAgdmFyIHNoaWZ0ZWQgPSBvZmZzZXRCeVBvc2l0aW9uKGRyYWdnYWJsZS5wYWdlLmJvcmRlckJveCwgY2hhbmdlTmVlZGVkKTtcbiAgdmFyIGFyZ3MgPSB7XG4gICAgdGFyZ2V0OiBzaGlmdGVkLFxuICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbixcbiAgICB3aXRoRHJvcHBhYmxlRGlzcGxhY2VtZW50OiB3aXRoRHJvcHBhYmxlRGlzcGxhY2VtZW50LFxuICAgIHZpZXdwb3J0OiB2aWV3cG9ydFxuICB9O1xuICByZXR1cm4gb25seU9uTWFpbkF4aXMgPyBpc1RvdGFsbHlWaXNpYmxlT25BeGlzKGFyZ3MpIDogaXNUb3RhbGx5VmlzaWJsZShhcmdzKTtcbn0pO1xuXG52YXIgbW92ZVRvTmV4dFBsYWNlID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBpc01vdmluZ0ZvcndhcmQgPSBfcmVmLmlzTW92aW5nRm9yd2FyZCxcbiAgICAgIGRyYWdnYWJsZSA9IF9yZWYuZHJhZ2dhYmxlLFxuICAgICAgZGVzdGluYXRpb24gPSBfcmVmLmRlc3RpbmF0aW9uLFxuICAgICAgZHJhZ2dhYmxlcyA9IF9yZWYuZHJhZ2dhYmxlcyxcbiAgICAgIHByZXZpb3VzSW1wYWN0ID0gX3JlZi5wcmV2aW91c0ltcGFjdCxcbiAgICAgIHZpZXdwb3J0ID0gX3JlZi52aWV3cG9ydCxcbiAgICAgIHByZXZpb3VzUGFnZUJvcmRlckJveENlbnRlciA9IF9yZWYucHJldmlvdXNQYWdlQm9yZGVyQm94Q2VudGVyLFxuICAgICAgcHJldmlvdXNDbGllbnRTZWxlY3Rpb24gPSBfcmVmLnByZXZpb3VzQ2xpZW50U2VsZWN0aW9uLFxuICAgICAgYWZ0ZXJDcml0aWNhbCA9IF9yZWYuYWZ0ZXJDcml0aWNhbDtcblxuICBpZiAoIWRlc3RpbmF0aW9uLmlzRW5hYmxlZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIGluc2lkZURlc3RpbmF0aW9uID0gZ2V0RHJhZ2dhYmxlc0luc2lkZURyb3BwYWJsZShkZXN0aW5hdGlvbi5kZXNjcmlwdG9yLmlkLCBkcmFnZ2FibGVzKTtcbiAgdmFyIGlzSW5Ib21lTGlzdCA9IGlzSG9tZU9mKGRyYWdnYWJsZSwgZGVzdGluYXRpb24pO1xuICB2YXIgaW1wYWN0ID0gbW92ZVRvTmV4dENvbWJpbmUoe1xuICAgIGlzTW92aW5nRm9yd2FyZDogaXNNb3ZpbmdGb3J3YXJkLFxuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbixcbiAgICBpbnNpZGVEZXN0aW5hdGlvbjogaW5zaWRlRGVzdGluYXRpb24sXG4gICAgcHJldmlvdXNJbXBhY3Q6IHByZXZpb3VzSW1wYWN0XG4gIH0pIHx8IG1vdmVUb05leHRJbmRleCh7XG4gICAgaXNNb3ZpbmdGb3J3YXJkOiBpc01vdmluZ0ZvcndhcmQsXG4gICAgaXNJbkhvbWVMaXN0OiBpc0luSG9tZUxpc3QsXG4gICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgZHJhZ2dhYmxlczogZHJhZ2dhYmxlcyxcbiAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgaW5zaWRlRGVzdGluYXRpb246IGluc2lkZURlc3RpbmF0aW9uLFxuICAgIHByZXZpb3VzSW1wYWN0OiBwcmV2aW91c0ltcGFjdCxcbiAgICB2aWV3cG9ydDogdmlld3BvcnQsXG4gICAgYWZ0ZXJDcml0aWNhbDogYWZ0ZXJDcml0aWNhbFxuICB9KTtcblxuICBpZiAoIWltcGFjdCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHBhZ2VCb3JkZXJCb3hDZW50ZXIgPSBnZXRQYWdlQm9yZGVyQm94Q2VudGVyRnJvbUltcGFjdCh7XG4gICAgaW1wYWN0OiBpbXBhY3QsXG4gICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgZHJvcHBhYmxlOiBkZXN0aW5hdGlvbixcbiAgICBkcmFnZ2FibGVzOiBkcmFnZ2FibGVzLFxuICAgIGFmdGVyQ3JpdGljYWw6IGFmdGVyQ3JpdGljYWxcbiAgfSk7XG4gIHZhciBpc1Zpc2libGVJbk5ld0xvY2F0aW9uID0gaXNUb3RhbGx5VmlzaWJsZUluTmV3TG9jYXRpb24oe1xuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbixcbiAgICBuZXdQYWdlQm9yZGVyQm94Q2VudGVyOiBwYWdlQm9yZGVyQm94Q2VudGVyLFxuICAgIHZpZXdwb3J0OiB2aWV3cG9ydC5mcmFtZSxcbiAgICB3aXRoRHJvcHBhYmxlRGlzcGxhY2VtZW50OiBmYWxzZSxcbiAgICBvbmx5T25NYWluQXhpczogdHJ1ZVxuICB9KTtcblxuICBpZiAoaXNWaXNpYmxlSW5OZXdMb2NhdGlvbikge1xuICAgIHZhciBjbGllbnRTZWxlY3Rpb24gPSBnZXRDbGllbnRGcm9tUGFnZUJvcmRlckJveENlbnRlcih7XG4gICAgICBwYWdlQm9yZGVyQm94Q2VudGVyOiBwYWdlQm9yZGVyQm94Q2VudGVyLFxuICAgICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgICB2aWV3cG9ydDogdmlld3BvcnRcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgY2xpZW50U2VsZWN0aW9uOiBjbGllbnRTZWxlY3Rpb24sXG4gICAgICBpbXBhY3Q6IGltcGFjdCxcbiAgICAgIHNjcm9sbEp1bXBSZXF1ZXN0OiBudWxsXG4gICAgfTtcbiAgfVxuXG4gIHZhciBkaXN0YW5jZSA9IHN1YnRyYWN0KHBhZ2VCb3JkZXJCb3hDZW50ZXIsIHByZXZpb3VzUGFnZUJvcmRlckJveENlbnRlcik7XG4gIHZhciBjYXV0aW91cyA9IHNwZWN1bGF0aXZlbHlJbmNyZWFzZSh7XG4gICAgaW1wYWN0OiBpbXBhY3QsXG4gICAgdmlld3BvcnQ6IHZpZXdwb3J0LFxuICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbixcbiAgICBkcmFnZ2FibGVzOiBkcmFnZ2FibGVzLFxuICAgIG1heFNjcm9sbENoYW5nZTogZGlzdGFuY2VcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgY2xpZW50U2VsZWN0aW9uOiBwcmV2aW91c0NsaWVudFNlbGVjdGlvbixcbiAgICBpbXBhY3Q6IGNhdXRpb3VzLFxuICAgIHNjcm9sbEp1bXBSZXF1ZXN0OiBkaXN0YW5jZVxuICB9O1xufSk7XG5cbnZhciBnZXRLbm93bkFjdGl2ZSA9IGZ1bmN0aW9uIGdldEtub3duQWN0aXZlKGRyb3BwYWJsZSkge1xuICB2YXIgcmVjdCA9IGRyb3BwYWJsZS5zdWJqZWN0LmFjdGl2ZTtcbiAgIXJlY3QgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgZ2V0IGNsaXBwZWQgYXJlYSBmcm9tIGRyb3BwYWJsZScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgcmV0dXJuIHJlY3Q7XG59O1xuXG52YXIgZ2V0QmVzdENyb3NzQXhpc0Ryb3BwYWJsZSA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgaXNNb3ZpbmdGb3J3YXJkID0gX3JlZi5pc01vdmluZ0ZvcndhcmQsXG4gICAgICBwYWdlQm9yZGVyQm94Q2VudGVyID0gX3JlZi5wYWdlQm9yZGVyQm94Q2VudGVyLFxuICAgICAgc291cmNlID0gX3JlZi5zb3VyY2UsXG4gICAgICBkcm9wcGFibGVzID0gX3JlZi5kcm9wcGFibGVzLFxuICAgICAgdmlld3BvcnQgPSBfcmVmLnZpZXdwb3J0O1xuICB2YXIgYWN0aXZlID0gc291cmNlLnN1YmplY3QuYWN0aXZlO1xuXG4gIGlmICghYWN0aXZlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgYXhpcyA9IHNvdXJjZS5heGlzO1xuICB2YXIgaXNCZXR3ZWVuU291cmNlQ2xpcHBlZCA9IGlzV2l0aGluKGFjdGl2ZVtheGlzLnN0YXJ0XSwgYWN0aXZlW2F4aXMuZW5kXSk7XG4gIHZhciBjYW5kaWRhdGVzID0gdG9Ecm9wcGFibGVMaXN0KGRyb3BwYWJsZXMpLmZpbHRlcihmdW5jdGlvbiAoZHJvcHBhYmxlKSB7XG4gICAgcmV0dXJuIGRyb3BwYWJsZSAhPT0gc291cmNlO1xuICB9KS5maWx0ZXIoZnVuY3Rpb24gKGRyb3BwYWJsZSkge1xuICAgIHJldHVybiBkcm9wcGFibGUuaXNFbmFibGVkO1xuICB9KS5maWx0ZXIoZnVuY3Rpb24gKGRyb3BwYWJsZSkge1xuICAgIHJldHVybiBCb29sZWFuKGRyb3BwYWJsZS5zdWJqZWN0LmFjdGl2ZSk7XG4gIH0pLmZpbHRlcihmdW5jdGlvbiAoZHJvcHBhYmxlKSB7XG4gICAgcmV0dXJuIGlzUGFydGlhbGx5VmlzaWJsZVRocm91Z2hGcmFtZSh2aWV3cG9ydC5mcmFtZSkoZ2V0S25vd25BY3RpdmUoZHJvcHBhYmxlKSk7XG4gIH0pLmZpbHRlcihmdW5jdGlvbiAoZHJvcHBhYmxlKSB7XG4gICAgdmFyIGFjdGl2ZU9mVGFyZ2V0ID0gZ2V0S25vd25BY3RpdmUoZHJvcHBhYmxlKTtcblxuICAgIGlmIChpc01vdmluZ0ZvcndhcmQpIHtcbiAgICAgIHJldHVybiBhY3RpdmVbYXhpcy5jcm9zc0F4aXNFbmRdIDwgYWN0aXZlT2ZUYXJnZXRbYXhpcy5jcm9zc0F4aXNFbmRdO1xuICAgIH1cblxuICAgIHJldHVybiBhY3RpdmVPZlRhcmdldFtheGlzLmNyb3NzQXhpc1N0YXJ0XSA8IGFjdGl2ZVtheGlzLmNyb3NzQXhpc1N0YXJ0XTtcbiAgfSkuZmlsdGVyKGZ1bmN0aW9uIChkcm9wcGFibGUpIHtcbiAgICB2YXIgYWN0aXZlT2ZUYXJnZXQgPSBnZXRLbm93bkFjdGl2ZShkcm9wcGFibGUpO1xuICAgIHZhciBpc0JldHdlZW5EZXN0aW5hdGlvbkNsaXBwZWQgPSBpc1dpdGhpbihhY3RpdmVPZlRhcmdldFtheGlzLnN0YXJ0XSwgYWN0aXZlT2ZUYXJnZXRbYXhpcy5lbmRdKTtcbiAgICByZXR1cm4gaXNCZXR3ZWVuU291cmNlQ2xpcHBlZChhY3RpdmVPZlRhcmdldFtheGlzLnN0YXJ0XSkgfHwgaXNCZXR3ZWVuU291cmNlQ2xpcHBlZChhY3RpdmVPZlRhcmdldFtheGlzLmVuZF0pIHx8IGlzQmV0d2VlbkRlc3RpbmF0aW9uQ2xpcHBlZChhY3RpdmVbYXhpcy5zdGFydF0pIHx8IGlzQmV0d2VlbkRlc3RpbmF0aW9uQ2xpcHBlZChhY3RpdmVbYXhpcy5lbmRdKTtcbiAgfSkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciBmaXJzdCA9IGdldEtub3duQWN0aXZlKGEpW2F4aXMuY3Jvc3NBeGlzU3RhcnRdO1xuICAgIHZhciBzZWNvbmQgPSBnZXRLbm93bkFjdGl2ZShiKVtheGlzLmNyb3NzQXhpc1N0YXJ0XTtcblxuICAgIGlmIChpc01vdmluZ0ZvcndhcmQpIHtcbiAgICAgIHJldHVybiBmaXJzdCAtIHNlY29uZDtcbiAgICB9XG5cbiAgICByZXR1cm4gc2Vjb25kIC0gZmlyc3Q7XG4gIH0pLmZpbHRlcihmdW5jdGlvbiAoZHJvcHBhYmxlLCBpbmRleCwgYXJyYXkpIHtcbiAgICByZXR1cm4gZ2V0S25vd25BY3RpdmUoZHJvcHBhYmxlKVtheGlzLmNyb3NzQXhpc1N0YXJ0XSA9PT0gZ2V0S25vd25BY3RpdmUoYXJyYXlbMF0pW2F4aXMuY3Jvc3NBeGlzU3RhcnRdO1xuICB9KTtcblxuICBpZiAoIWNhbmRpZGF0ZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoY2FuZGlkYXRlcy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gY2FuZGlkYXRlc1swXTtcbiAgfVxuXG4gIHZhciBjb250YWlucyA9IGNhbmRpZGF0ZXMuZmlsdGVyKGZ1bmN0aW9uIChkcm9wcGFibGUpIHtcbiAgICB2YXIgaXNXaXRoaW5Ecm9wcGFibGUgPSBpc1dpdGhpbihnZXRLbm93bkFjdGl2ZShkcm9wcGFibGUpW2F4aXMuc3RhcnRdLCBnZXRLbm93bkFjdGl2ZShkcm9wcGFibGUpW2F4aXMuZW5kXSk7XG4gICAgcmV0dXJuIGlzV2l0aGluRHJvcHBhYmxlKHBhZ2VCb3JkZXJCb3hDZW50ZXJbYXhpcy5saW5lXSk7XG4gIH0pO1xuXG4gIGlmIChjb250YWlucy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gY29udGFpbnNbMF07XG4gIH1cblxuICBpZiAoY29udGFpbnMubGVuZ3RoID4gMSkge1xuICAgIHJldHVybiBjb250YWlucy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gZ2V0S25vd25BY3RpdmUoYSlbYXhpcy5zdGFydF0gLSBnZXRLbm93bkFjdGl2ZShiKVtheGlzLnN0YXJ0XTtcbiAgICB9KVswXTtcbiAgfVxuXG4gIHJldHVybiBjYW5kaWRhdGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICB2YXIgZmlyc3QgPSBjbG9zZXN0KHBhZ2VCb3JkZXJCb3hDZW50ZXIsIGdldENvcm5lcnMoZ2V0S25vd25BY3RpdmUoYSkpKTtcbiAgICB2YXIgc2Vjb25kID0gY2xvc2VzdChwYWdlQm9yZGVyQm94Q2VudGVyLCBnZXRDb3JuZXJzKGdldEtub3duQWN0aXZlKGIpKSk7XG5cbiAgICBpZiAoZmlyc3QgIT09IHNlY29uZCkge1xuICAgICAgcmV0dXJuIGZpcnN0IC0gc2Vjb25kO1xuICAgIH1cblxuICAgIHJldHVybiBnZXRLbm93bkFjdGl2ZShhKVtheGlzLnN0YXJ0XSAtIGdldEtub3duQWN0aXZlKGIpW2F4aXMuc3RhcnRdO1xuICB9KVswXTtcbn0pO1xuXG52YXIgZ2V0Q3VycmVudFBhZ2VCb3JkZXJCb3hDZW50ZXIgPSBmdW5jdGlvbiBnZXRDdXJyZW50UGFnZUJvcmRlckJveENlbnRlcihkcmFnZ2FibGUsIGFmdGVyQ3JpdGljYWwpIHtcbiAgdmFyIG9yaWdpbmFsID0gZHJhZ2dhYmxlLnBhZ2UuYm9yZGVyQm94LmNlbnRlcjtcbiAgcmV0dXJuIGRpZFN0YXJ0QWZ0ZXJDcml0aWNhbChkcmFnZ2FibGUuZGVzY3JpcHRvci5pZCwgYWZ0ZXJDcml0aWNhbCkgPyBzdWJ0cmFjdChvcmlnaW5hbCwgYWZ0ZXJDcml0aWNhbC5kaXNwbGFjZWRCeS5wb2ludCkgOiBvcmlnaW5hbDtcbn07XG52YXIgZ2V0Q3VycmVudFBhZ2VCb3JkZXJCb3ggPSBmdW5jdGlvbiBnZXRDdXJyZW50UGFnZUJvcmRlckJveChkcmFnZ2FibGUsIGFmdGVyQ3JpdGljYWwpIHtcbiAgdmFyIG9yaWdpbmFsID0gZHJhZ2dhYmxlLnBhZ2UuYm9yZGVyQm94O1xuICByZXR1cm4gZGlkU3RhcnRBZnRlckNyaXRpY2FsKGRyYWdnYWJsZS5kZXNjcmlwdG9yLmlkLCBhZnRlckNyaXRpY2FsKSA/IG9mZnNldEJ5UG9zaXRpb24ob3JpZ2luYWwsIG5lZ2F0ZShhZnRlckNyaXRpY2FsLmRpc3BsYWNlZEJ5LnBvaW50KSkgOiBvcmlnaW5hbDtcbn07XG5cbnZhciBnZXRDbG9zZXN0RHJhZ2dhYmxlID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBwYWdlQm9yZGVyQm94Q2VudGVyID0gX3JlZi5wYWdlQm9yZGVyQm94Q2VudGVyLFxuICAgICAgdmlld3BvcnQgPSBfcmVmLnZpZXdwb3J0LFxuICAgICAgZGVzdGluYXRpb24gPSBfcmVmLmRlc3RpbmF0aW9uLFxuICAgICAgaW5zaWRlRGVzdGluYXRpb24gPSBfcmVmLmluc2lkZURlc3RpbmF0aW9uLFxuICAgICAgYWZ0ZXJDcml0aWNhbCA9IF9yZWYuYWZ0ZXJDcml0aWNhbDtcbiAgdmFyIHNvcnRlZCA9IGluc2lkZURlc3RpbmF0aW9uLmZpbHRlcihmdW5jdGlvbiAoZHJhZ2dhYmxlKSB7XG4gICAgcmV0dXJuIGlzVG90YWxseVZpc2libGUoe1xuICAgICAgdGFyZ2V0OiBnZXRDdXJyZW50UGFnZUJvcmRlckJveChkcmFnZ2FibGUsIGFmdGVyQ3JpdGljYWwpLFxuICAgICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uLFxuICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0LmZyYW1lLFxuICAgICAgd2l0aERyb3BwYWJsZURpc3BsYWNlbWVudDogdHJ1ZVxuICAgIH0pO1xuICB9KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIGRpc3RhbmNlVG9BID0gZGlzdGFuY2UocGFnZUJvcmRlckJveENlbnRlciwgd2l0aERyb3BwYWJsZURpc3BsYWNlbWVudChkZXN0aW5hdGlvbiwgZ2V0Q3VycmVudFBhZ2VCb3JkZXJCb3hDZW50ZXIoYSwgYWZ0ZXJDcml0aWNhbCkpKTtcbiAgICB2YXIgZGlzdGFuY2VUb0IgPSBkaXN0YW5jZShwYWdlQm9yZGVyQm94Q2VudGVyLCB3aXRoRHJvcHBhYmxlRGlzcGxhY2VtZW50KGRlc3RpbmF0aW9uLCBnZXRDdXJyZW50UGFnZUJvcmRlckJveENlbnRlcihiLCBhZnRlckNyaXRpY2FsKSkpO1xuXG4gICAgaWYgKGRpc3RhbmNlVG9BIDwgZGlzdGFuY2VUb0IpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICBpZiAoZGlzdGFuY2VUb0IgPCBkaXN0YW5jZVRvQSkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGEuZGVzY3JpcHRvci5pbmRleCAtIGIuZGVzY3JpcHRvci5pbmRleDtcbiAgfSk7XG4gIHJldHVybiBzb3J0ZWRbMF0gfHwgbnVsbDtcbn0pO1xuXG52YXIgZ2V0RGlzcGxhY2VkQnkgPSBtZW1vaXplT25lKGZ1bmN0aW9uIGdldERpc3BsYWNlZEJ5KGF4aXMsIGRpc3BsYWNlQnkpIHtcbiAgdmFyIGRpc3BsYWNlbWVudCA9IGRpc3BsYWNlQnlbYXhpcy5saW5lXTtcbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogZGlzcGxhY2VtZW50LFxuICAgIHBvaW50OiBwYXRjaChheGlzLmxpbmUsIGRpc3BsYWNlbWVudClcbiAgfTtcbn0pO1xuXG52YXIgZ2V0UmVxdWlyZWRHcm93dGhGb3JQbGFjZWhvbGRlciA9IGZ1bmN0aW9uIGdldFJlcXVpcmVkR3Jvd3RoRm9yUGxhY2Vob2xkZXIoZHJvcHBhYmxlLCBwbGFjZWhvbGRlclNpemUsIGRyYWdnYWJsZXMpIHtcbiAgdmFyIGF4aXMgPSBkcm9wcGFibGUuYXhpcztcblxuICBpZiAoZHJvcHBhYmxlLmRlc2NyaXB0b3IubW9kZSA9PT0gJ3ZpcnR1YWwnKSB7XG4gICAgcmV0dXJuIHBhdGNoKGF4aXMubGluZSwgcGxhY2Vob2xkZXJTaXplW2F4aXMubGluZV0pO1xuICB9XG5cbiAgdmFyIGF2YWlsYWJsZVNwYWNlID0gZHJvcHBhYmxlLnN1YmplY3QucGFnZS5jb250ZW50Qm94W2F4aXMuc2l6ZV07XG4gIHZhciBpbnNpZGVEcm9wcGFibGUgPSBnZXREcmFnZ2FibGVzSW5zaWRlRHJvcHBhYmxlKGRyb3BwYWJsZS5kZXNjcmlwdG9yLmlkLCBkcmFnZ2FibGVzKTtcbiAgdmFyIHNwYWNlVXNlZCA9IGluc2lkZURyb3BwYWJsZS5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgZGltZW5zaW9uKSB7XG4gICAgcmV0dXJuIHN1bSArIGRpbWVuc2lvbi5jbGllbnQubWFyZ2luQm94W2F4aXMuc2l6ZV07XG4gIH0sIDApO1xuICB2YXIgcmVxdWlyZWRTcGFjZSA9IHNwYWNlVXNlZCArIHBsYWNlaG9sZGVyU2l6ZVtheGlzLmxpbmVdO1xuICB2YXIgbmVlZHNUb0dyb3dCeSA9IHJlcXVpcmVkU3BhY2UgLSBhdmFpbGFibGVTcGFjZTtcblxuICBpZiAobmVlZHNUb0dyb3dCeSA8PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gcGF0Y2goYXhpcy5saW5lLCBuZWVkc1RvR3Jvd0J5KTtcbn07XG5cbnZhciB3aXRoTWF4U2Nyb2xsID0gZnVuY3Rpb24gd2l0aE1heFNjcm9sbChmcmFtZSwgbWF4KSB7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgZnJhbWUsIHtcbiAgICBzY3JvbGw6IF9leHRlbmRzKHt9LCBmcmFtZS5zY3JvbGwsIHtcbiAgICAgIG1heDogbWF4XG4gICAgfSlcbiAgfSk7XG59O1xuXG52YXIgYWRkUGxhY2Vob2xkZXIgPSBmdW5jdGlvbiBhZGRQbGFjZWhvbGRlcihkcm9wcGFibGUsIGRyYWdnYWJsZSwgZHJhZ2dhYmxlcykge1xuICB2YXIgZnJhbWUgPSBkcm9wcGFibGUuZnJhbWU7XG4gICEhaXNIb21lT2YoZHJhZ2dhYmxlLCBkcm9wcGFibGUpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnU2hvdWxkIG5vdCBhZGQgcGxhY2Vob2xkZXIgc3BhY2UgdG8gaG9tZSBsaXN0JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAhIWRyb3BwYWJsZS5zdWJqZWN0LndpdGhQbGFjZWhvbGRlciA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBhZGQgcGxhY2Vob2xkZXIgc2l6ZSB0byBhIHN1YmplY3Qgd2hlbiBpdCBhbHJlYWR5IGhhcyBvbmUnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIHZhciBwbGFjZWhvbGRlclNpemUgPSBnZXREaXNwbGFjZWRCeShkcm9wcGFibGUuYXhpcywgZHJhZ2dhYmxlLmRpc3BsYWNlQnkpLnBvaW50O1xuICB2YXIgcmVxdWlyZWRHcm93dGggPSBnZXRSZXF1aXJlZEdyb3d0aEZvclBsYWNlaG9sZGVyKGRyb3BwYWJsZSwgcGxhY2Vob2xkZXJTaXplLCBkcmFnZ2FibGVzKTtcbiAgdmFyIGFkZGVkID0ge1xuICAgIHBsYWNlaG9sZGVyU2l6ZTogcGxhY2Vob2xkZXJTaXplLFxuICAgIGluY3JlYXNlZEJ5OiByZXF1aXJlZEdyb3d0aCxcbiAgICBvbGRGcmFtZU1heFNjcm9sbDogZHJvcHBhYmxlLmZyYW1lID8gZHJvcHBhYmxlLmZyYW1lLnNjcm9sbC5tYXggOiBudWxsXG4gIH07XG5cbiAgaWYgKCFmcmFtZSkge1xuICAgIHZhciBfc3ViamVjdCA9IGdldFN1YmplY3Qoe1xuICAgICAgcGFnZTogZHJvcHBhYmxlLnN1YmplY3QucGFnZSxcbiAgICAgIHdpdGhQbGFjZWhvbGRlcjogYWRkZWQsXG4gICAgICBheGlzOiBkcm9wcGFibGUuYXhpcyxcbiAgICAgIGZyYW1lOiBkcm9wcGFibGUuZnJhbWVcbiAgICB9KTtcblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgZHJvcHBhYmxlLCB7XG4gICAgICBzdWJqZWN0OiBfc3ViamVjdFxuICAgIH0pO1xuICB9XG5cbiAgdmFyIG1heFNjcm9sbCA9IHJlcXVpcmVkR3Jvd3RoID8gYWRkKGZyYW1lLnNjcm9sbC5tYXgsIHJlcXVpcmVkR3Jvd3RoKSA6IGZyYW1lLnNjcm9sbC5tYXg7XG4gIHZhciBuZXdGcmFtZSA9IHdpdGhNYXhTY3JvbGwoZnJhbWUsIG1heFNjcm9sbCk7XG4gIHZhciBzdWJqZWN0ID0gZ2V0U3ViamVjdCh7XG4gICAgcGFnZTogZHJvcHBhYmxlLnN1YmplY3QucGFnZSxcbiAgICB3aXRoUGxhY2Vob2xkZXI6IGFkZGVkLFxuICAgIGF4aXM6IGRyb3BwYWJsZS5heGlzLFxuICAgIGZyYW1lOiBuZXdGcmFtZVxuICB9KTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBkcm9wcGFibGUsIHtcbiAgICBzdWJqZWN0OiBzdWJqZWN0LFxuICAgIGZyYW1lOiBuZXdGcmFtZVxuICB9KTtcbn07XG52YXIgcmVtb3ZlUGxhY2Vob2xkZXIgPSBmdW5jdGlvbiByZW1vdmVQbGFjZWhvbGRlcihkcm9wcGFibGUpIHtcbiAgdmFyIGFkZGVkID0gZHJvcHBhYmxlLnN1YmplY3Qud2l0aFBsYWNlaG9sZGVyO1xuICAhYWRkZWQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgcmVtb3ZlIHBsYWNlaG9sZGVyIGZvcm0gc3ViamVjdCB3aGVuIHRoZXJlIHdhcyBub25lJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB2YXIgZnJhbWUgPSBkcm9wcGFibGUuZnJhbWU7XG5cbiAgaWYgKCFmcmFtZSkge1xuICAgIHZhciBfc3ViamVjdDIgPSBnZXRTdWJqZWN0KHtcbiAgICAgIHBhZ2U6IGRyb3BwYWJsZS5zdWJqZWN0LnBhZ2UsXG4gICAgICBheGlzOiBkcm9wcGFibGUuYXhpcyxcbiAgICAgIGZyYW1lOiBudWxsLFxuICAgICAgd2l0aFBsYWNlaG9sZGVyOiBudWxsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIGRyb3BwYWJsZSwge1xuICAgICAgc3ViamVjdDogX3N1YmplY3QyXG4gICAgfSk7XG4gIH1cblxuICB2YXIgb2xkTWF4U2Nyb2xsID0gYWRkZWQub2xkRnJhbWVNYXhTY3JvbGw7XG4gICFvbGRNYXhTY3JvbGwgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBkcm9wcGFibGUgd2l0aCBmcmFtZSB0byBoYXZlIG9sZCBtYXggZnJhbWUgc2Nyb2xsIHdoZW4gcmVtb3ZpbmcgcGxhY2Vob2xkZXInKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIHZhciBuZXdGcmFtZSA9IHdpdGhNYXhTY3JvbGwoZnJhbWUsIG9sZE1heFNjcm9sbCk7XG4gIHZhciBzdWJqZWN0ID0gZ2V0U3ViamVjdCh7XG4gICAgcGFnZTogZHJvcHBhYmxlLnN1YmplY3QucGFnZSxcbiAgICBheGlzOiBkcm9wcGFibGUuYXhpcyxcbiAgICBmcmFtZTogbmV3RnJhbWUsXG4gICAgd2l0aFBsYWNlaG9sZGVyOiBudWxsXG4gIH0pO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIGRyb3BwYWJsZSwge1xuICAgIHN1YmplY3Q6IHN1YmplY3QsXG4gICAgZnJhbWU6IG5ld0ZyYW1lXG4gIH0pO1xufTtcblxudmFyIG1vdmVUb05ld0Ryb3BwYWJsZSA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgcHJldmlvdXNQYWdlQm9yZGVyQm94Q2VudGVyID0gX3JlZi5wcmV2aW91c1BhZ2VCb3JkZXJCb3hDZW50ZXIsXG4gICAgICBtb3ZlUmVsYXRpdmVUbyA9IF9yZWYubW92ZVJlbGF0aXZlVG8sXG4gICAgICBpbnNpZGVEZXN0aW5hdGlvbiA9IF9yZWYuaW5zaWRlRGVzdGluYXRpb24sXG4gICAgICBkcmFnZ2FibGUgPSBfcmVmLmRyYWdnYWJsZSxcbiAgICAgIGRyYWdnYWJsZXMgPSBfcmVmLmRyYWdnYWJsZXMsXG4gICAgICBkZXN0aW5hdGlvbiA9IF9yZWYuZGVzdGluYXRpb24sXG4gICAgICB2aWV3cG9ydCA9IF9yZWYudmlld3BvcnQsXG4gICAgICBhZnRlckNyaXRpY2FsID0gX3JlZi5hZnRlckNyaXRpY2FsO1xuXG4gIGlmICghbW92ZVJlbGF0aXZlVG8pIHtcbiAgICBpZiAoaW5zaWRlRGVzdGluYXRpb24ubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgcHJvcG9zZWQgPSB7XG4gICAgICBkaXNwbGFjZWQ6IGVtcHR5R3JvdXBzLFxuICAgICAgZGlzcGxhY2VkQnk6IG5vRGlzcGxhY2VkQnksXG4gICAgICBhdDoge1xuICAgICAgICB0eXBlOiAnUkVPUkRFUicsXG4gICAgICAgIGRlc3RpbmF0aW9uOiB7XG4gICAgICAgICAgZHJvcHBhYmxlSWQ6IGRlc3RpbmF0aW9uLmRlc2NyaXB0b3IuaWQsXG4gICAgICAgICAgaW5kZXg6IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHByb3Bvc2VkUGFnZUJvcmRlckJveENlbnRlciA9IGdldFBhZ2VCb3JkZXJCb3hDZW50ZXJGcm9tSW1wYWN0KHtcbiAgICAgIGltcGFjdDogcHJvcG9zZWQsXG4gICAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICAgIGRyb3BwYWJsZTogZGVzdGluYXRpb24sXG4gICAgICBkcmFnZ2FibGVzOiBkcmFnZ2FibGVzLFxuICAgICAgYWZ0ZXJDcml0aWNhbDogYWZ0ZXJDcml0aWNhbFxuICAgIH0pO1xuICAgIHZhciB3aXRoUGxhY2Vob2xkZXIgPSBpc0hvbWVPZihkcmFnZ2FibGUsIGRlc3RpbmF0aW9uKSA/IGRlc3RpbmF0aW9uIDogYWRkUGxhY2Vob2xkZXIoZGVzdGluYXRpb24sIGRyYWdnYWJsZSwgZHJhZ2dhYmxlcyk7XG4gICAgdmFyIGlzVmlzaWJsZUluTmV3TG9jYXRpb24gPSBpc1RvdGFsbHlWaXNpYmxlSW5OZXdMb2NhdGlvbih7XG4gICAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICAgIGRlc3RpbmF0aW9uOiB3aXRoUGxhY2Vob2xkZXIsXG4gICAgICBuZXdQYWdlQm9yZGVyQm94Q2VudGVyOiBwcm9wb3NlZFBhZ2VCb3JkZXJCb3hDZW50ZXIsXG4gICAgICB2aWV3cG9ydDogdmlld3BvcnQuZnJhbWUsXG4gICAgICB3aXRoRHJvcHBhYmxlRGlzcGxhY2VtZW50OiBmYWxzZSxcbiAgICAgIG9ubHlPbk1haW5BeGlzOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIGlzVmlzaWJsZUluTmV3TG9jYXRpb24gPyBwcm9wb3NlZCA6IG51bGw7XG4gIH1cblxuICB2YXIgaXNHb2luZ0JlZm9yZVRhcmdldCA9IEJvb2xlYW4ocHJldmlvdXNQYWdlQm9yZGVyQm94Q2VudGVyW2Rlc3RpbmF0aW9uLmF4aXMubGluZV0gPD0gbW92ZVJlbGF0aXZlVG8ucGFnZS5ib3JkZXJCb3guY2VudGVyW2Rlc3RpbmF0aW9uLmF4aXMubGluZV0pO1xuXG4gIHZhciBwcm9wb3NlZEluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZWxhdGl2ZVRvID0gbW92ZVJlbGF0aXZlVG8uZGVzY3JpcHRvci5pbmRleDtcblxuICAgIGlmIChtb3ZlUmVsYXRpdmVUby5kZXNjcmlwdG9yLmlkID09PSBkcmFnZ2FibGUuZGVzY3JpcHRvci5pZCkge1xuICAgICAgcmV0dXJuIHJlbGF0aXZlVG87XG4gICAgfVxuXG4gICAgaWYgKGlzR29pbmdCZWZvcmVUYXJnZXQpIHtcbiAgICAgIHJldHVybiByZWxhdGl2ZVRvO1xuICAgIH1cblxuICAgIHJldHVybiByZWxhdGl2ZVRvICsgMTtcbiAgfSgpO1xuXG4gIHZhciBkaXNwbGFjZWRCeSA9IGdldERpc3BsYWNlZEJ5KGRlc3RpbmF0aW9uLmF4aXMsIGRyYWdnYWJsZS5kaXNwbGFjZUJ5KTtcbiAgcmV0dXJuIGNhbGN1bGF0ZVJlb3JkZXJJbXBhY3Qoe1xuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgIGluc2lkZURlc3RpbmF0aW9uOiBpbnNpZGVEZXN0aW5hdGlvbixcbiAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgdmlld3BvcnQ6IHZpZXdwb3J0LFxuICAgIGRpc3BsYWNlZEJ5OiBkaXNwbGFjZWRCeSxcbiAgICBsYXN0OiBlbXB0eUdyb3VwcyxcbiAgICBpbmRleDogcHJvcG9zZWRJbmRleFxuICB9KTtcbn0pO1xuXG52YXIgbW92ZUNyb3NzQXhpcyA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgaXNNb3ZpbmdGb3J3YXJkID0gX3JlZi5pc01vdmluZ0ZvcndhcmQsXG4gICAgICBwcmV2aW91c1BhZ2VCb3JkZXJCb3hDZW50ZXIgPSBfcmVmLnByZXZpb3VzUGFnZUJvcmRlckJveENlbnRlcixcbiAgICAgIGRyYWdnYWJsZSA9IF9yZWYuZHJhZ2dhYmxlLFxuICAgICAgaXNPdmVyID0gX3JlZi5pc092ZXIsXG4gICAgICBkcmFnZ2FibGVzID0gX3JlZi5kcmFnZ2FibGVzLFxuICAgICAgZHJvcHBhYmxlcyA9IF9yZWYuZHJvcHBhYmxlcyxcbiAgICAgIHZpZXdwb3J0ID0gX3JlZi52aWV3cG9ydCxcbiAgICAgIGFmdGVyQ3JpdGljYWwgPSBfcmVmLmFmdGVyQ3JpdGljYWw7XG4gIHZhciBkZXN0aW5hdGlvbiA9IGdldEJlc3RDcm9zc0F4aXNEcm9wcGFibGUoe1xuICAgIGlzTW92aW5nRm9yd2FyZDogaXNNb3ZpbmdGb3J3YXJkLFxuICAgIHBhZ2VCb3JkZXJCb3hDZW50ZXI6IHByZXZpb3VzUGFnZUJvcmRlckJveENlbnRlcixcbiAgICBzb3VyY2U6IGlzT3ZlcixcbiAgICBkcm9wcGFibGVzOiBkcm9wcGFibGVzLFxuICAgIHZpZXdwb3J0OiB2aWV3cG9ydFxuICB9KTtcblxuICBpZiAoIWRlc3RpbmF0aW9uKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgaW5zaWRlRGVzdGluYXRpb24gPSBnZXREcmFnZ2FibGVzSW5zaWRlRHJvcHBhYmxlKGRlc3RpbmF0aW9uLmRlc2NyaXB0b3IuaWQsIGRyYWdnYWJsZXMpO1xuICB2YXIgbW92ZVJlbGF0aXZlVG8gPSBnZXRDbG9zZXN0RHJhZ2dhYmxlKHtcbiAgICBwYWdlQm9yZGVyQm94Q2VudGVyOiBwcmV2aW91c1BhZ2VCb3JkZXJCb3hDZW50ZXIsXG4gICAgdmlld3BvcnQ6IHZpZXdwb3J0LFxuICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbixcbiAgICBpbnNpZGVEZXN0aW5hdGlvbjogaW5zaWRlRGVzdGluYXRpb24sXG4gICAgYWZ0ZXJDcml0aWNhbDogYWZ0ZXJDcml0aWNhbFxuICB9KTtcbiAgdmFyIGltcGFjdCA9IG1vdmVUb05ld0Ryb3BwYWJsZSh7XG4gICAgcHJldmlvdXNQYWdlQm9yZGVyQm94Q2VudGVyOiBwcmV2aW91c1BhZ2VCb3JkZXJCb3hDZW50ZXIsXG4gICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uLFxuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgIGRyYWdnYWJsZXM6IGRyYWdnYWJsZXMsXG4gICAgbW92ZVJlbGF0aXZlVG86IG1vdmVSZWxhdGl2ZVRvLFxuICAgIGluc2lkZURlc3RpbmF0aW9uOiBpbnNpZGVEZXN0aW5hdGlvbixcbiAgICB2aWV3cG9ydDogdmlld3BvcnQsXG4gICAgYWZ0ZXJDcml0aWNhbDogYWZ0ZXJDcml0aWNhbFxuICB9KTtcblxuICBpZiAoIWltcGFjdCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHBhZ2VCb3JkZXJCb3hDZW50ZXIgPSBnZXRQYWdlQm9yZGVyQm94Q2VudGVyRnJvbUltcGFjdCh7XG4gICAgaW1wYWN0OiBpbXBhY3QsXG4gICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgZHJvcHBhYmxlOiBkZXN0aW5hdGlvbixcbiAgICBkcmFnZ2FibGVzOiBkcmFnZ2FibGVzLFxuICAgIGFmdGVyQ3JpdGljYWw6IGFmdGVyQ3JpdGljYWxcbiAgfSk7XG4gIHZhciBjbGllbnRTZWxlY3Rpb24gPSBnZXRDbGllbnRGcm9tUGFnZUJvcmRlckJveENlbnRlcih7XG4gICAgcGFnZUJvcmRlckJveENlbnRlcjogcGFnZUJvcmRlckJveENlbnRlcixcbiAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICB2aWV3cG9ydDogdmlld3BvcnRcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgY2xpZW50U2VsZWN0aW9uOiBjbGllbnRTZWxlY3Rpb24sXG4gICAgaW1wYWN0OiBpbXBhY3QsXG4gICAgc2Nyb2xsSnVtcFJlcXVlc3Q6IG51bGxcbiAgfTtcbn0pO1xuXG52YXIgd2hhdElzRHJhZ2dlZE92ZXIgPSAoZnVuY3Rpb24gKGltcGFjdCkge1xuICB2YXIgYXQgPSBpbXBhY3QuYXQ7XG5cbiAgaWYgKCFhdCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKGF0LnR5cGUgPT09ICdSRU9SREVSJykge1xuICAgIHJldHVybiBhdC5kZXN0aW5hdGlvbi5kcm9wcGFibGVJZDtcbiAgfVxuXG4gIHJldHVybiBhdC5jb21iaW5lLmRyb3BwYWJsZUlkO1xufSk7XG5cbnZhciBnZXREcm9wcGFibGVPdmVyID0gZnVuY3Rpb24gZ2V0RHJvcHBhYmxlT3ZlcihpbXBhY3QsIGRyb3BwYWJsZXMpIHtcbiAgdmFyIGlkID0gd2hhdElzRHJhZ2dlZE92ZXIoaW1wYWN0KTtcbiAgcmV0dXJuIGlkID8gZHJvcHBhYmxlc1tpZF0gOiBudWxsO1xufTtcblxudmFyIG1vdmVJbkRpcmVjdGlvbiA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLFxuICAgICAgdHlwZSA9IF9yZWYudHlwZTtcbiAgdmFyIGlzQWN0dWFsbHlPdmVyID0gZ2V0RHJvcHBhYmxlT3ZlcihzdGF0ZS5pbXBhY3QsIHN0YXRlLmRpbWVuc2lvbnMuZHJvcHBhYmxlcyk7XG4gIHZhciBpc01haW5BeGlzTW92ZW1lbnRBbGxvd2VkID0gQm9vbGVhbihpc0FjdHVhbGx5T3Zlcik7XG4gIHZhciBob21lID0gc3RhdGUuZGltZW5zaW9ucy5kcm9wcGFibGVzW3N0YXRlLmNyaXRpY2FsLmRyb3BwYWJsZS5pZF07XG4gIHZhciBpc092ZXIgPSBpc0FjdHVhbGx5T3ZlciB8fCBob21lO1xuICB2YXIgZGlyZWN0aW9uID0gaXNPdmVyLmF4aXMuZGlyZWN0aW9uO1xuICB2YXIgaXNNb3ZpbmdPbk1haW5BeGlzID0gZGlyZWN0aW9uID09PSAndmVydGljYWwnICYmICh0eXBlID09PSAnTU9WRV9VUCcgfHwgdHlwZSA9PT0gJ01PVkVfRE9XTicpIHx8IGRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnICYmICh0eXBlID09PSAnTU9WRV9MRUZUJyB8fCB0eXBlID09PSAnTU9WRV9SSUdIVCcpO1xuXG4gIGlmIChpc01vdmluZ09uTWFpbkF4aXMgJiYgIWlzTWFpbkF4aXNNb3ZlbWVudEFsbG93ZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBpc01vdmluZ0ZvcndhcmQgPSB0eXBlID09PSAnTU9WRV9ET1dOJyB8fCB0eXBlID09PSAnTU9WRV9SSUdIVCc7XG4gIHZhciBkcmFnZ2FibGUgPSBzdGF0ZS5kaW1lbnNpb25zLmRyYWdnYWJsZXNbc3RhdGUuY3JpdGljYWwuZHJhZ2dhYmxlLmlkXTtcbiAgdmFyIHByZXZpb3VzUGFnZUJvcmRlckJveENlbnRlciA9IHN0YXRlLmN1cnJlbnQucGFnZS5ib3JkZXJCb3hDZW50ZXI7XG4gIHZhciBfc3RhdGUkZGltZW5zaW9ucyA9IHN0YXRlLmRpbWVuc2lvbnMsXG4gICAgICBkcmFnZ2FibGVzID0gX3N0YXRlJGRpbWVuc2lvbnMuZHJhZ2dhYmxlcyxcbiAgICAgIGRyb3BwYWJsZXMgPSBfc3RhdGUkZGltZW5zaW9ucy5kcm9wcGFibGVzO1xuICByZXR1cm4gaXNNb3ZpbmdPbk1haW5BeGlzID8gbW92ZVRvTmV4dFBsYWNlKHtcbiAgICBpc01vdmluZ0ZvcndhcmQ6IGlzTW92aW5nRm9yd2FyZCxcbiAgICBwcmV2aW91c1BhZ2VCb3JkZXJCb3hDZW50ZXI6IHByZXZpb3VzUGFnZUJvcmRlckJveENlbnRlcixcbiAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICBkZXN0aW5hdGlvbjogaXNPdmVyLFxuICAgIGRyYWdnYWJsZXM6IGRyYWdnYWJsZXMsXG4gICAgdmlld3BvcnQ6IHN0YXRlLnZpZXdwb3J0LFxuICAgIHByZXZpb3VzQ2xpZW50U2VsZWN0aW9uOiBzdGF0ZS5jdXJyZW50LmNsaWVudC5zZWxlY3Rpb24sXG4gICAgcHJldmlvdXNJbXBhY3Q6IHN0YXRlLmltcGFjdCxcbiAgICBhZnRlckNyaXRpY2FsOiBzdGF0ZS5hZnRlckNyaXRpY2FsXG4gIH0pIDogbW92ZUNyb3NzQXhpcyh7XG4gICAgaXNNb3ZpbmdGb3J3YXJkOiBpc01vdmluZ0ZvcndhcmQsXG4gICAgcHJldmlvdXNQYWdlQm9yZGVyQm94Q2VudGVyOiBwcmV2aW91c1BhZ2VCb3JkZXJCb3hDZW50ZXIsXG4gICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgaXNPdmVyOiBpc092ZXIsXG4gICAgZHJhZ2dhYmxlczogZHJhZ2dhYmxlcyxcbiAgICBkcm9wcGFibGVzOiBkcm9wcGFibGVzLFxuICAgIHZpZXdwb3J0OiBzdGF0ZS52aWV3cG9ydCxcbiAgICBhZnRlckNyaXRpY2FsOiBzdGF0ZS5hZnRlckNyaXRpY2FsXG4gIH0pO1xufSk7XG5cbmZ1bmN0aW9uIGlzTW92ZW1lbnRBbGxvd2VkKHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS5waGFzZSA9PT0gJ0RSQUdHSU5HJyB8fCBzdGF0ZS5waGFzZSA9PT0gJ0NPTExFQ1RJTkcnO1xufVxuXG5mdW5jdGlvbiBpc1Bvc2l0aW9uSW5GcmFtZShmcmFtZSkge1xuICB2YXIgaXNXaXRoaW5WZXJ0aWNhbCA9IGlzV2l0aGluKGZyYW1lLnRvcCwgZnJhbWUuYm90dG9tKTtcbiAgdmFyIGlzV2l0aGluSG9yaXpvbnRhbCA9IGlzV2l0aGluKGZyYW1lLmxlZnQsIGZyYW1lLnJpZ2h0KTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJ1bihwb2ludCkge1xuICAgIHJldHVybiBpc1dpdGhpblZlcnRpY2FsKHBvaW50LnkpICYmIGlzV2l0aGluSG9yaXpvbnRhbChwb2ludC54KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0SGFzT3ZlcmxhcChmaXJzdCwgc2Vjb25kKSB7XG4gIHJldHVybiBmaXJzdC5sZWZ0IDwgc2Vjb25kLnJpZ2h0ICYmIGZpcnN0LnJpZ2h0ID4gc2Vjb25kLmxlZnQgJiYgZmlyc3QudG9wIDwgc2Vjb25kLmJvdHRvbSAmJiBmaXJzdC5ib3R0b20gPiBzZWNvbmQudG9wO1xufVxuXG5mdW5jdGlvbiBnZXRGdXJ0aGVzdEF3YXkoX3JlZikge1xuICB2YXIgcGFnZUJvcmRlckJveCA9IF9yZWYucGFnZUJvcmRlckJveCxcbiAgICAgIGRyYWdnYWJsZSA9IF9yZWYuZHJhZ2dhYmxlLFxuICAgICAgY2FuZGlkYXRlcyA9IF9yZWYuY2FuZGlkYXRlcztcbiAgdmFyIHN0YXJ0Q2VudGVyID0gZHJhZ2dhYmxlLnBhZ2UuYm9yZGVyQm94LmNlbnRlcjtcbiAgdmFyIHNvcnRlZCA9IGNhbmRpZGF0ZXMubWFwKGZ1bmN0aW9uIChjYW5kaWRhdGUpIHtcbiAgICB2YXIgYXhpcyA9IGNhbmRpZGF0ZS5heGlzO1xuICAgIHZhciB0YXJnZXQgPSBwYXRjaChjYW5kaWRhdGUuYXhpcy5saW5lLCBwYWdlQm9yZGVyQm94LmNlbnRlcltheGlzLmxpbmVdLCBjYW5kaWRhdGUucGFnZS5ib3JkZXJCb3guY2VudGVyW2F4aXMuY3Jvc3NBeGlzTGluZV0pO1xuICAgIHJldHVybiB7XG4gICAgICBpZDogY2FuZGlkYXRlLmRlc2NyaXB0b3IuaWQsXG4gICAgICBkaXN0YW5jZTogZGlzdGFuY2Uoc3RhcnRDZW50ZXIsIHRhcmdldClcbiAgICB9O1xuICB9KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIGIuZGlzdGFuY2UgLSBhLmRpc3RhbmNlO1xuICB9KTtcbiAgcmV0dXJuIHNvcnRlZFswXSA/IHNvcnRlZFswXS5pZCA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldERyb3BwYWJsZU92ZXIkMShfcmVmMikge1xuICB2YXIgcGFnZUJvcmRlckJveCA9IF9yZWYyLnBhZ2VCb3JkZXJCb3gsXG4gICAgICBkcmFnZ2FibGUgPSBfcmVmMi5kcmFnZ2FibGUsXG4gICAgICBkcm9wcGFibGVzID0gX3JlZjIuZHJvcHBhYmxlcztcbiAgdmFyIGNhbmRpZGF0ZXMgPSB0b0Ryb3BwYWJsZUxpc3QoZHJvcHBhYmxlcykuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaWYgKCFpdGVtLmlzRW5hYmxlZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBhY3RpdmUgPSBpdGVtLnN1YmplY3QuYWN0aXZlO1xuXG4gICAgaWYgKCFhY3RpdmUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIWdldEhhc092ZXJsYXAocGFnZUJvcmRlckJveCwgYWN0aXZlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChpc1Bvc2l0aW9uSW5GcmFtZShhY3RpdmUpKHBhZ2VCb3JkZXJCb3guY2VudGVyKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGF4aXMgPSBpdGVtLmF4aXM7XG4gICAgdmFyIGNoaWxkQ2VudGVyID0gYWN0aXZlLmNlbnRlcltheGlzLmNyb3NzQXhpc0xpbmVdO1xuICAgIHZhciBjcm9zc0F4aXNTdGFydCA9IHBhZ2VCb3JkZXJCb3hbYXhpcy5jcm9zc0F4aXNTdGFydF07XG4gICAgdmFyIGNyb3NzQXhpc0VuZCA9IHBhZ2VCb3JkZXJCb3hbYXhpcy5jcm9zc0F4aXNFbmRdO1xuICAgIHZhciBpc0NvbnRhaW5lZCA9IGlzV2l0aGluKGFjdGl2ZVtheGlzLmNyb3NzQXhpc1N0YXJ0XSwgYWN0aXZlW2F4aXMuY3Jvc3NBeGlzRW5kXSk7XG4gICAgdmFyIGlzU3RhcnRDb250YWluZWQgPSBpc0NvbnRhaW5lZChjcm9zc0F4aXNTdGFydCk7XG4gICAgdmFyIGlzRW5kQ29udGFpbmVkID0gaXNDb250YWluZWQoY3Jvc3NBeGlzRW5kKTtcblxuICAgIGlmICghaXNTdGFydENvbnRhaW5lZCAmJiAhaXNFbmRDb250YWluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChpc1N0YXJ0Q29udGFpbmVkKSB7XG4gICAgICByZXR1cm4gY3Jvc3NBeGlzU3RhcnQgPCBjaGlsZENlbnRlcjtcbiAgICB9XG5cbiAgICByZXR1cm4gY3Jvc3NBeGlzRW5kID4gY2hpbGRDZW50ZXI7XG4gIH0pO1xuXG4gIGlmICghY2FuZGlkYXRlcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChjYW5kaWRhdGVzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBjYW5kaWRhdGVzWzBdLmRlc2NyaXB0b3IuaWQ7XG4gIH1cblxuICByZXR1cm4gZ2V0RnVydGhlc3RBd2F5KHtcbiAgICBwYWdlQm9yZGVyQm94OiBwYWdlQm9yZGVyQm94LFxuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgIGNhbmRpZGF0ZXM6IGNhbmRpZGF0ZXNcbiAgfSk7XG59XG5cbnZhciBvZmZzZXRSZWN0QnlQb3NpdGlvbiA9IGZ1bmN0aW9uIG9mZnNldFJlY3RCeVBvc2l0aW9uKHJlY3QsIHBvaW50KSB7XG4gIHJldHVybiBnZXRSZWN0KG9mZnNldEJ5UG9zaXRpb24ocmVjdCwgcG9pbnQpKTtcbn07XG5cbnZhciB3aXRoRHJvcHBhYmxlU2Nyb2xsID0gKGZ1bmN0aW9uIChkcm9wcGFibGUsIGFyZWEpIHtcbiAgdmFyIGZyYW1lID0gZHJvcHBhYmxlLmZyYW1lO1xuXG4gIGlmICghZnJhbWUpIHtcbiAgICByZXR1cm4gYXJlYTtcbiAgfVxuXG4gIHJldHVybiBvZmZzZXRSZWN0QnlQb3NpdGlvbihhcmVhLCBmcmFtZS5zY3JvbGwuZGlmZi52YWx1ZSk7XG59KTtcblxuZnVuY3Rpb24gZ2V0SXNEaXNwbGFjZWQoX3JlZikge1xuICB2YXIgZGlzcGxhY2VkID0gX3JlZi5kaXNwbGFjZWQsXG4gICAgICBpZCA9IF9yZWYuaWQ7XG4gIHJldHVybiBCb29sZWFuKGRpc3BsYWNlZC52aXNpYmxlW2lkXSB8fCBkaXNwbGFjZWQuaW52aXNpYmxlW2lkXSk7XG59XG5cbmZ1bmN0aW9uIGF0SW5kZXgoX3JlZikge1xuICB2YXIgZHJhZ2dhYmxlID0gX3JlZi5kcmFnZ2FibGUsXG4gICAgICBjbG9zZXN0ID0gX3JlZi5jbG9zZXN0LFxuICAgICAgaW5Ib21lTGlzdCA9IF9yZWYuaW5Ib21lTGlzdDtcblxuICBpZiAoIWNsb3Nlc3QpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmICghaW5Ib21lTGlzdCkge1xuICAgIHJldHVybiBjbG9zZXN0LmRlc2NyaXB0b3IuaW5kZXg7XG4gIH1cblxuICBpZiAoY2xvc2VzdC5kZXNjcmlwdG9yLmluZGV4ID4gZHJhZ2dhYmxlLmRlc2NyaXB0b3IuaW5kZXgpIHtcbiAgICByZXR1cm4gY2xvc2VzdC5kZXNjcmlwdG9yLmluZGV4IC0gMTtcbiAgfVxuXG4gIHJldHVybiBjbG9zZXN0LmRlc2NyaXB0b3IuaW5kZXg7XG59XG5cbnZhciBnZXRSZW9yZGVySW1wYWN0ID0gKGZ1bmN0aW9uIChfcmVmMikge1xuICB2YXIgdGFyZ2V0UmVjdCA9IF9yZWYyLnBhZ2VCb3JkZXJCb3hXaXRoRHJvcHBhYmxlU2Nyb2xsLFxuICAgICAgZHJhZ2dhYmxlID0gX3JlZjIuZHJhZ2dhYmxlLFxuICAgICAgZGVzdGluYXRpb24gPSBfcmVmMi5kZXN0aW5hdGlvbixcbiAgICAgIGluc2lkZURlc3RpbmF0aW9uID0gX3JlZjIuaW5zaWRlRGVzdGluYXRpb24sXG4gICAgICBsYXN0ID0gX3JlZjIubGFzdCxcbiAgICAgIHZpZXdwb3J0ID0gX3JlZjIudmlld3BvcnQsXG4gICAgICBhZnRlckNyaXRpY2FsID0gX3JlZjIuYWZ0ZXJDcml0aWNhbDtcbiAgdmFyIGF4aXMgPSBkZXN0aW5hdGlvbi5heGlzO1xuICB2YXIgZGlzcGxhY2VkQnkgPSBnZXREaXNwbGFjZWRCeShkZXN0aW5hdGlvbi5heGlzLCBkcmFnZ2FibGUuZGlzcGxhY2VCeSk7XG4gIHZhciBkaXNwbGFjZW1lbnQgPSBkaXNwbGFjZWRCeS52YWx1ZTtcbiAgdmFyIHRhcmdldFN0YXJ0ID0gdGFyZ2V0UmVjdFtheGlzLnN0YXJ0XTtcbiAgdmFyIHRhcmdldEVuZCA9IHRhcmdldFJlY3RbYXhpcy5lbmRdO1xuICB2YXIgd2l0aG91dERyYWdnaW5nID0gcmVtb3ZlRHJhZ2dhYmxlRnJvbUxpc3QoZHJhZ2dhYmxlLCBpbnNpZGVEZXN0aW5hdGlvbik7XG4gIHZhciBjbG9zZXN0ID0gZmluZCh3aXRob3V0RHJhZ2dpbmcsIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIHZhciBpZCA9IGNoaWxkLmRlc2NyaXB0b3IuaWQ7XG4gICAgdmFyIGNoaWxkQ2VudGVyID0gY2hpbGQucGFnZS5ib3JkZXJCb3guY2VudGVyW2F4aXMubGluZV07XG4gICAgdmFyIGRpZFN0YXJ0QWZ0ZXJDcml0aWNhbCQxID0gZGlkU3RhcnRBZnRlckNyaXRpY2FsKGlkLCBhZnRlckNyaXRpY2FsKTtcbiAgICB2YXIgaXNEaXNwbGFjZWQgPSBnZXRJc0Rpc3BsYWNlZCh7XG4gICAgICBkaXNwbGFjZWQ6IGxhc3QsXG4gICAgICBpZDogaWRcbiAgICB9KTtcblxuICAgIGlmIChkaWRTdGFydEFmdGVyQ3JpdGljYWwkMSkge1xuICAgICAgaWYgKGlzRGlzcGxhY2VkKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXRFbmQgPD0gY2hpbGRDZW50ZXI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YXJnZXRTdGFydCA8IGNoaWxkQ2VudGVyIC0gZGlzcGxhY2VtZW50O1xuICAgIH1cblxuICAgIGlmIChpc0Rpc3BsYWNlZCkge1xuICAgICAgcmV0dXJuIHRhcmdldEVuZCA8PSBjaGlsZENlbnRlciArIGRpc3BsYWNlbWVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0U3RhcnQgPCBjaGlsZENlbnRlcjtcbiAgfSk7XG4gIHZhciBuZXdJbmRleCA9IGF0SW5kZXgoe1xuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgIGNsb3Nlc3Q6IGNsb3Nlc3QsXG4gICAgaW5Ib21lTGlzdDogaXNIb21lT2YoZHJhZ2dhYmxlLCBkZXN0aW5hdGlvbilcbiAgfSk7XG4gIHJldHVybiBjYWxjdWxhdGVSZW9yZGVySW1wYWN0KHtcbiAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICBpbnNpZGVEZXN0aW5hdGlvbjogaW5zaWRlRGVzdGluYXRpb24sXG4gICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uLFxuICAgIHZpZXdwb3J0OiB2aWV3cG9ydCxcbiAgICBsYXN0OiBsYXN0LFxuICAgIGRpc3BsYWNlZEJ5OiBkaXNwbGFjZWRCeSxcbiAgICBpbmRleDogbmV3SW5kZXhcbiAgfSk7XG59KTtcblxudmFyIGNvbWJpbmVUaHJlc2hvbGREaXZpc29yID0gNDtcbnZhciBnZXRDb21iaW5lSW1wYWN0ID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBkcmFnZ2FibGUgPSBfcmVmLmRyYWdnYWJsZSxcbiAgICAgIHRhcmdldFJlY3QgPSBfcmVmLnBhZ2VCb3JkZXJCb3hXaXRoRHJvcHBhYmxlU2Nyb2xsLFxuICAgICAgcHJldmlvdXNJbXBhY3QgPSBfcmVmLnByZXZpb3VzSW1wYWN0LFxuICAgICAgZGVzdGluYXRpb24gPSBfcmVmLmRlc3RpbmF0aW9uLFxuICAgICAgaW5zaWRlRGVzdGluYXRpb24gPSBfcmVmLmluc2lkZURlc3RpbmF0aW9uLFxuICAgICAgYWZ0ZXJDcml0aWNhbCA9IF9yZWYuYWZ0ZXJDcml0aWNhbDtcblxuICBpZiAoIWRlc3RpbmF0aW9uLmlzQ29tYmluZUVuYWJsZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBheGlzID0gZGVzdGluYXRpb24uYXhpcztcbiAgdmFyIGRpc3BsYWNlZEJ5ID0gZ2V0RGlzcGxhY2VkQnkoZGVzdGluYXRpb24uYXhpcywgZHJhZ2dhYmxlLmRpc3BsYWNlQnkpO1xuICB2YXIgZGlzcGxhY2VtZW50ID0gZGlzcGxhY2VkQnkudmFsdWU7XG4gIHZhciB0YXJnZXRTdGFydCA9IHRhcmdldFJlY3RbYXhpcy5zdGFydF07XG4gIHZhciB0YXJnZXRFbmQgPSB0YXJnZXRSZWN0W2F4aXMuZW5kXTtcbiAgdmFyIHdpdGhvdXREcmFnZ2luZyA9IHJlbW92ZURyYWdnYWJsZUZyb21MaXN0KGRyYWdnYWJsZSwgaW5zaWRlRGVzdGluYXRpb24pO1xuICB2YXIgY29tYmluZVdpdGggPSBmaW5kKHdpdGhvdXREcmFnZ2luZywgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgdmFyIGlkID0gY2hpbGQuZGVzY3JpcHRvci5pZDtcbiAgICB2YXIgY2hpbGRSZWN0ID0gY2hpbGQucGFnZS5ib3JkZXJCb3g7XG4gICAgdmFyIGNoaWxkU2l6ZSA9IGNoaWxkUmVjdFtheGlzLnNpemVdO1xuICAgIHZhciB0aHJlc2hvbGQgPSBjaGlsZFNpemUgLyBjb21iaW5lVGhyZXNob2xkRGl2aXNvcjtcbiAgICB2YXIgZGlkU3RhcnRBZnRlckNyaXRpY2FsJDEgPSBkaWRTdGFydEFmdGVyQ3JpdGljYWwoaWQsIGFmdGVyQ3JpdGljYWwpO1xuICAgIHZhciBpc0Rpc3BsYWNlZCA9IGdldElzRGlzcGxhY2VkKHtcbiAgICAgIGRpc3BsYWNlZDogcHJldmlvdXNJbXBhY3QuZGlzcGxhY2VkLFxuICAgICAgaWQ6IGlkXG4gICAgfSk7XG5cbiAgICBpZiAoZGlkU3RhcnRBZnRlckNyaXRpY2FsJDEpIHtcbiAgICAgIGlmIChpc0Rpc3BsYWNlZCkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0RW5kID4gY2hpbGRSZWN0W2F4aXMuc3RhcnRdICsgdGhyZXNob2xkICYmIHRhcmdldEVuZCA8IGNoaWxkUmVjdFtheGlzLmVuZF0gLSB0aHJlc2hvbGQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YXJnZXRTdGFydCA+IGNoaWxkUmVjdFtheGlzLnN0YXJ0XSAtIGRpc3BsYWNlbWVudCArIHRocmVzaG9sZCAmJiB0YXJnZXRTdGFydCA8IGNoaWxkUmVjdFtheGlzLmVuZF0gLSBkaXNwbGFjZW1lbnQgLSB0aHJlc2hvbGQ7XG4gICAgfVxuXG4gICAgaWYgKGlzRGlzcGxhY2VkKSB7XG4gICAgICByZXR1cm4gdGFyZ2V0RW5kID4gY2hpbGRSZWN0W2F4aXMuc3RhcnRdICsgZGlzcGxhY2VtZW50ICsgdGhyZXNob2xkICYmIHRhcmdldEVuZCA8IGNoaWxkUmVjdFtheGlzLmVuZF0gKyBkaXNwbGFjZW1lbnQgLSB0aHJlc2hvbGQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldFN0YXJ0ID4gY2hpbGRSZWN0W2F4aXMuc3RhcnRdICsgdGhyZXNob2xkICYmIHRhcmdldFN0YXJ0IDwgY2hpbGRSZWN0W2F4aXMuZW5kXSAtIHRocmVzaG9sZDtcbiAgfSk7XG5cbiAgaWYgKCFjb21iaW5lV2l0aCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIGltcGFjdCA9IHtcbiAgICBkaXNwbGFjZWRCeTogZGlzcGxhY2VkQnksXG4gICAgZGlzcGxhY2VkOiBwcmV2aW91c0ltcGFjdC5kaXNwbGFjZWQsXG4gICAgYXQ6IHtcbiAgICAgIHR5cGU6ICdDT01CSU5FJyxcbiAgICAgIGNvbWJpbmU6IHtcbiAgICAgICAgZHJhZ2dhYmxlSWQ6IGNvbWJpbmVXaXRoLmRlc2NyaXB0b3IuaWQsXG4gICAgICAgIGRyb3BwYWJsZUlkOiBkZXN0aW5hdGlvbi5kZXNjcmlwdG9yLmlkXG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gaW1wYWN0O1xufSk7XG5cbnZhciBnZXREcmFnSW1wYWN0ID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBwYWdlT2Zmc2V0ID0gX3JlZi5wYWdlT2Zmc2V0LFxuICAgICAgZHJhZ2dhYmxlID0gX3JlZi5kcmFnZ2FibGUsXG4gICAgICBkcmFnZ2FibGVzID0gX3JlZi5kcmFnZ2FibGVzLFxuICAgICAgZHJvcHBhYmxlcyA9IF9yZWYuZHJvcHBhYmxlcyxcbiAgICAgIHByZXZpb3VzSW1wYWN0ID0gX3JlZi5wcmV2aW91c0ltcGFjdCxcbiAgICAgIHZpZXdwb3J0ID0gX3JlZi52aWV3cG9ydCxcbiAgICAgIGFmdGVyQ3JpdGljYWwgPSBfcmVmLmFmdGVyQ3JpdGljYWw7XG4gIHZhciBwYWdlQm9yZGVyQm94ID0gb2Zmc2V0UmVjdEJ5UG9zaXRpb24oZHJhZ2dhYmxlLnBhZ2UuYm9yZGVyQm94LCBwYWdlT2Zmc2V0KTtcbiAgdmFyIGRlc3RpbmF0aW9uSWQgPSBnZXREcm9wcGFibGVPdmVyJDEoe1xuICAgIHBhZ2VCb3JkZXJCb3g6IHBhZ2VCb3JkZXJCb3gsXG4gICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgZHJvcHBhYmxlczogZHJvcHBhYmxlc1xuICB9KTtcblxuICBpZiAoIWRlc3RpbmF0aW9uSWQpIHtcbiAgICByZXR1cm4gbm9JbXBhY3Q7XG4gIH1cblxuICB2YXIgZGVzdGluYXRpb24gPSBkcm9wcGFibGVzW2Rlc3RpbmF0aW9uSWRdO1xuICB2YXIgaW5zaWRlRGVzdGluYXRpb24gPSBnZXREcmFnZ2FibGVzSW5zaWRlRHJvcHBhYmxlKGRlc3RpbmF0aW9uLmRlc2NyaXB0b3IuaWQsIGRyYWdnYWJsZXMpO1xuICB2YXIgcGFnZUJvcmRlckJveFdpdGhEcm9wcGFibGVTY3JvbGwgPSB3aXRoRHJvcHBhYmxlU2Nyb2xsKGRlc3RpbmF0aW9uLCBwYWdlQm9yZGVyQm94KTtcbiAgcmV0dXJuIGdldENvbWJpbmVJbXBhY3Qoe1xuICAgIHBhZ2VCb3JkZXJCb3hXaXRoRHJvcHBhYmxlU2Nyb2xsOiBwYWdlQm9yZGVyQm94V2l0aERyb3BwYWJsZVNjcm9sbCxcbiAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICBwcmV2aW91c0ltcGFjdDogcHJldmlvdXNJbXBhY3QsXG4gICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uLFxuICAgIGluc2lkZURlc3RpbmF0aW9uOiBpbnNpZGVEZXN0aW5hdGlvbixcbiAgICBhZnRlckNyaXRpY2FsOiBhZnRlckNyaXRpY2FsXG4gIH0pIHx8IGdldFJlb3JkZXJJbXBhY3Qoe1xuICAgIHBhZ2VCb3JkZXJCb3hXaXRoRHJvcHBhYmxlU2Nyb2xsOiBwYWdlQm9yZGVyQm94V2l0aERyb3BwYWJsZVNjcm9sbCxcbiAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgaW5zaWRlRGVzdGluYXRpb246IGluc2lkZURlc3RpbmF0aW9uLFxuICAgIGxhc3Q6IHByZXZpb3VzSW1wYWN0LmRpc3BsYWNlZCxcbiAgICB2aWV3cG9ydDogdmlld3BvcnQsXG4gICAgYWZ0ZXJDcml0aWNhbDogYWZ0ZXJDcml0aWNhbFxuICB9KTtcbn0pO1xuXG52YXIgcGF0Y2hEcm9wcGFibGVNYXAgPSAoZnVuY3Rpb24gKGRyb3BwYWJsZXMsIHVwZGF0ZWQpIHtcbiAgdmFyIF9leHRlbmRzMjtcblxuICByZXR1cm4gX2V4dGVuZHMoe30sIGRyb3BwYWJsZXMsIChfZXh0ZW5kczIgPSB7fSwgX2V4dGVuZHMyW3VwZGF0ZWQuZGVzY3JpcHRvci5pZF0gPSB1cGRhdGVkLCBfZXh0ZW5kczIpKTtcbn0pO1xuXG52YXIgY2xlYXJVbnVzZWRQbGFjZWhvbGRlciA9IGZ1bmN0aW9uIGNsZWFyVW51c2VkUGxhY2Vob2xkZXIoX3JlZikge1xuICB2YXIgcHJldmlvdXNJbXBhY3QgPSBfcmVmLnByZXZpb3VzSW1wYWN0LFxuICAgICAgaW1wYWN0ID0gX3JlZi5pbXBhY3QsXG4gICAgICBkcm9wcGFibGVzID0gX3JlZi5kcm9wcGFibGVzO1xuICB2YXIgbGFzdCA9IHdoYXRJc0RyYWdnZWRPdmVyKHByZXZpb3VzSW1wYWN0KTtcbiAgdmFyIG5vdyA9IHdoYXRJc0RyYWdnZWRPdmVyKGltcGFjdCk7XG5cbiAgaWYgKCFsYXN0KSB7XG4gICAgcmV0dXJuIGRyb3BwYWJsZXM7XG4gIH1cblxuICBpZiAobGFzdCA9PT0gbm93KSB7XG4gICAgcmV0dXJuIGRyb3BwYWJsZXM7XG4gIH1cblxuICB2YXIgbGFzdERyb3BwYWJsZSA9IGRyb3BwYWJsZXNbbGFzdF07XG5cbiAgaWYgKCFsYXN0RHJvcHBhYmxlLnN1YmplY3Qud2l0aFBsYWNlaG9sZGVyKSB7XG4gICAgcmV0dXJuIGRyb3BwYWJsZXM7XG4gIH1cblxuICB2YXIgdXBkYXRlZCA9IHJlbW92ZVBsYWNlaG9sZGVyKGxhc3REcm9wcGFibGUpO1xuICByZXR1cm4gcGF0Y2hEcm9wcGFibGVNYXAoZHJvcHBhYmxlcywgdXBkYXRlZCk7XG59O1xuXG52YXIgcmVjb21wdXRlUGxhY2Vob2xkZXJzID0gKGZ1bmN0aW9uIChfcmVmMikge1xuICB2YXIgZHJhZ2dhYmxlID0gX3JlZjIuZHJhZ2dhYmxlLFxuICAgICAgZHJhZ2dhYmxlcyA9IF9yZWYyLmRyYWdnYWJsZXMsXG4gICAgICBkcm9wcGFibGVzID0gX3JlZjIuZHJvcHBhYmxlcyxcbiAgICAgIHByZXZpb3VzSW1wYWN0ID0gX3JlZjIucHJldmlvdXNJbXBhY3QsXG4gICAgICBpbXBhY3QgPSBfcmVmMi5pbXBhY3Q7XG4gIHZhciBjbGVhbmVkID0gY2xlYXJVbnVzZWRQbGFjZWhvbGRlcih7XG4gICAgcHJldmlvdXNJbXBhY3Q6IHByZXZpb3VzSW1wYWN0LFxuICAgIGltcGFjdDogaW1wYWN0LFxuICAgIGRyb3BwYWJsZXM6IGRyb3BwYWJsZXNcbiAgfSk7XG4gIHZhciBpc092ZXIgPSB3aGF0SXNEcmFnZ2VkT3ZlcihpbXBhY3QpO1xuXG4gIGlmICghaXNPdmVyKSB7XG4gICAgcmV0dXJuIGNsZWFuZWQ7XG4gIH1cblxuICB2YXIgZHJvcHBhYmxlID0gZHJvcHBhYmxlc1tpc092ZXJdO1xuXG4gIGlmIChpc0hvbWVPZihkcmFnZ2FibGUsIGRyb3BwYWJsZSkpIHtcbiAgICByZXR1cm4gY2xlYW5lZDtcbiAgfVxuXG4gIGlmIChkcm9wcGFibGUuc3ViamVjdC53aXRoUGxhY2Vob2xkZXIpIHtcbiAgICByZXR1cm4gY2xlYW5lZDtcbiAgfVxuXG4gIHZhciBwYXRjaGVkID0gYWRkUGxhY2Vob2xkZXIoZHJvcHBhYmxlLCBkcmFnZ2FibGUsIGRyYWdnYWJsZXMpO1xuICByZXR1cm4gcGF0Y2hEcm9wcGFibGVNYXAoY2xlYW5lZCwgcGF0Y2hlZCk7XG59KTtcblxudmFyIHVwZGF0ZSA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLFxuICAgICAgZm9yY2VkQ2xpZW50U2VsZWN0aW9uID0gX3JlZi5jbGllbnRTZWxlY3Rpb24sXG4gICAgICBmb3JjZWREaW1lbnNpb25zID0gX3JlZi5kaW1lbnNpb25zLFxuICAgICAgZm9yY2VkVmlld3BvcnQgPSBfcmVmLnZpZXdwb3J0LFxuICAgICAgZm9yY2VkSW1wYWN0ID0gX3JlZi5pbXBhY3QsXG4gICAgICBzY3JvbGxKdW1wUmVxdWVzdCA9IF9yZWYuc2Nyb2xsSnVtcFJlcXVlc3Q7XG4gIHZhciB2aWV3cG9ydCA9IGZvcmNlZFZpZXdwb3J0IHx8IHN0YXRlLnZpZXdwb3J0O1xuICB2YXIgZGltZW5zaW9ucyA9IGZvcmNlZERpbWVuc2lvbnMgfHwgc3RhdGUuZGltZW5zaW9ucztcbiAgdmFyIGNsaWVudFNlbGVjdGlvbiA9IGZvcmNlZENsaWVudFNlbGVjdGlvbiB8fCBzdGF0ZS5jdXJyZW50LmNsaWVudC5zZWxlY3Rpb247XG4gIHZhciBvZmZzZXQgPSBzdWJ0cmFjdChjbGllbnRTZWxlY3Rpb24sIHN0YXRlLmluaXRpYWwuY2xpZW50LnNlbGVjdGlvbik7XG4gIHZhciBjbGllbnQgPSB7XG4gICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgc2VsZWN0aW9uOiBjbGllbnRTZWxlY3Rpb24sXG4gICAgYm9yZGVyQm94Q2VudGVyOiBhZGQoc3RhdGUuaW5pdGlhbC5jbGllbnQuYm9yZGVyQm94Q2VudGVyLCBvZmZzZXQpXG4gIH07XG4gIHZhciBwYWdlID0ge1xuICAgIHNlbGVjdGlvbjogYWRkKGNsaWVudC5zZWxlY3Rpb24sIHZpZXdwb3J0LnNjcm9sbC5jdXJyZW50KSxcbiAgICBib3JkZXJCb3hDZW50ZXI6IGFkZChjbGllbnQuYm9yZGVyQm94Q2VudGVyLCB2aWV3cG9ydC5zY3JvbGwuY3VycmVudCksXG4gICAgb2Zmc2V0OiBhZGQoY2xpZW50Lm9mZnNldCwgdmlld3BvcnQuc2Nyb2xsLmRpZmYudmFsdWUpXG4gIH07XG4gIHZhciBjdXJyZW50ID0ge1xuICAgIGNsaWVudDogY2xpZW50LFxuICAgIHBhZ2U6IHBhZ2VcbiAgfTtcblxuICBpZiAoc3RhdGUucGhhc2UgPT09ICdDT0xMRUNUSU5HJykge1xuICAgIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgICBwaGFzZTogJ0NPTExFQ1RJTkcnXG4gICAgfSwgc3RhdGUsIHtcbiAgICAgIGRpbWVuc2lvbnM6IGRpbWVuc2lvbnMsXG4gICAgICB2aWV3cG9ydDogdmlld3BvcnQsXG4gICAgICBjdXJyZW50OiBjdXJyZW50XG4gICAgfSk7XG4gIH1cblxuICB2YXIgZHJhZ2dhYmxlID0gZGltZW5zaW9ucy5kcmFnZ2FibGVzW3N0YXRlLmNyaXRpY2FsLmRyYWdnYWJsZS5pZF07XG4gIHZhciBuZXdJbXBhY3QgPSBmb3JjZWRJbXBhY3QgfHwgZ2V0RHJhZ0ltcGFjdCh7XG4gICAgcGFnZU9mZnNldDogcGFnZS5vZmZzZXQsXG4gICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgZHJhZ2dhYmxlczogZGltZW5zaW9ucy5kcmFnZ2FibGVzLFxuICAgIGRyb3BwYWJsZXM6IGRpbWVuc2lvbnMuZHJvcHBhYmxlcyxcbiAgICBwcmV2aW91c0ltcGFjdDogc3RhdGUuaW1wYWN0LFxuICAgIHZpZXdwb3J0OiB2aWV3cG9ydCxcbiAgICBhZnRlckNyaXRpY2FsOiBzdGF0ZS5hZnRlckNyaXRpY2FsXG4gIH0pO1xuICB2YXIgd2l0aFVwZGF0ZWRQbGFjZWhvbGRlcnMgPSByZWNvbXB1dGVQbGFjZWhvbGRlcnMoe1xuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgIGltcGFjdDogbmV3SW1wYWN0LFxuICAgIHByZXZpb3VzSW1wYWN0OiBzdGF0ZS5pbXBhY3QsXG4gICAgZHJhZ2dhYmxlczogZGltZW5zaW9ucy5kcmFnZ2FibGVzLFxuICAgIGRyb3BwYWJsZXM6IGRpbWVuc2lvbnMuZHJvcHBhYmxlc1xuICB9KTtcblxuICB2YXIgcmVzdWx0ID0gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgY3VycmVudDogY3VycmVudCxcbiAgICBkaW1lbnNpb25zOiB7XG4gICAgICBkcmFnZ2FibGVzOiBkaW1lbnNpb25zLmRyYWdnYWJsZXMsXG4gICAgICBkcm9wcGFibGVzOiB3aXRoVXBkYXRlZFBsYWNlaG9sZGVyc1xuICAgIH0sXG4gICAgaW1wYWN0OiBuZXdJbXBhY3QsXG4gICAgdmlld3BvcnQ6IHZpZXdwb3J0LFxuICAgIHNjcm9sbEp1bXBSZXF1ZXN0OiBzY3JvbGxKdW1wUmVxdWVzdCB8fCBudWxsLFxuICAgIGZvcmNlU2hvdWxkQW5pbWF0ZTogc2Nyb2xsSnVtcFJlcXVlc3QgPyBmYWxzZSA6IG51bGxcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn0pO1xuXG5mdW5jdGlvbiBnZXREcmFnZ2FibGVzJDEoaWRzLCBkcmFnZ2FibGVzKSB7XG4gIHJldHVybiBpZHMubWFwKGZ1bmN0aW9uIChpZCkge1xuICAgIHJldHVybiBkcmFnZ2FibGVzW2lkXTtcbiAgfSk7XG59XG5cbnZhciByZWNvbXB1dGUgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGltcGFjdCA9IF9yZWYuaW1wYWN0LFxuICAgICAgdmlld3BvcnQgPSBfcmVmLnZpZXdwb3J0LFxuICAgICAgZHJhZ2dhYmxlcyA9IF9yZWYuZHJhZ2dhYmxlcyxcbiAgICAgIGRlc3RpbmF0aW9uID0gX3JlZi5kZXN0aW5hdGlvbixcbiAgICAgIGZvcmNlU2hvdWxkQW5pbWF0ZSA9IF9yZWYuZm9yY2VTaG91bGRBbmltYXRlO1xuICB2YXIgbGFzdCA9IGltcGFjdC5kaXNwbGFjZWQ7XG4gIHZhciBhZnRlckRyYWdnaW5nID0gZ2V0RHJhZ2dhYmxlcyQxKGxhc3QuYWxsLCBkcmFnZ2FibGVzKTtcbiAgdmFyIGRpc3BsYWNlZCA9IGdldERpc3BsYWNlbWVudEdyb3Vwcyh7XG4gICAgYWZ0ZXJEcmFnZ2luZzogYWZ0ZXJEcmFnZ2luZyxcbiAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgZGlzcGxhY2VkQnk6IGltcGFjdC5kaXNwbGFjZWRCeSxcbiAgICB2aWV3cG9ydDogdmlld3BvcnQuZnJhbWUsXG4gICAgZm9yY2VTaG91bGRBbmltYXRlOiBmb3JjZVNob3VsZEFuaW1hdGUsXG4gICAgbGFzdDogbGFzdFxuICB9KTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBpbXBhY3QsIHtcbiAgICBkaXNwbGFjZWQ6IGRpc3BsYWNlZFxuICB9KTtcbn0pO1xuXG52YXIgZ2V0Q2xpZW50Qm9yZGVyQm94Q2VudGVyID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBpbXBhY3QgPSBfcmVmLmltcGFjdCxcbiAgICAgIGRyYWdnYWJsZSA9IF9yZWYuZHJhZ2dhYmxlLFxuICAgICAgZHJvcHBhYmxlID0gX3JlZi5kcm9wcGFibGUsXG4gICAgICBkcmFnZ2FibGVzID0gX3JlZi5kcmFnZ2FibGVzLFxuICAgICAgdmlld3BvcnQgPSBfcmVmLnZpZXdwb3J0LFxuICAgICAgYWZ0ZXJDcml0aWNhbCA9IF9yZWYuYWZ0ZXJDcml0aWNhbDtcbiAgdmFyIHBhZ2VCb3JkZXJCb3hDZW50ZXIgPSBnZXRQYWdlQm9yZGVyQm94Q2VudGVyRnJvbUltcGFjdCh7XG4gICAgaW1wYWN0OiBpbXBhY3QsXG4gICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgZHJhZ2dhYmxlczogZHJhZ2dhYmxlcyxcbiAgICBkcm9wcGFibGU6IGRyb3BwYWJsZSxcbiAgICBhZnRlckNyaXRpY2FsOiBhZnRlckNyaXRpY2FsXG4gIH0pO1xuICByZXR1cm4gZ2V0Q2xpZW50RnJvbVBhZ2VCb3JkZXJCb3hDZW50ZXIoe1xuICAgIHBhZ2VCb3JkZXJCb3hDZW50ZXI6IHBhZ2VCb3JkZXJCb3hDZW50ZXIsXG4gICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgdmlld3BvcnQ6IHZpZXdwb3J0XG4gIH0pO1xufSk7XG5cbnZhciByZWZyZXNoU25hcCA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLFxuICAgICAgZm9yY2VkRGltZW5zaW9ucyA9IF9yZWYuZGltZW5zaW9ucyxcbiAgICAgIGZvcmNlZFZpZXdwb3J0ID0gX3JlZi52aWV3cG9ydDtcbiAgIShzdGF0ZS5tb3ZlbWVudE1vZGUgPT09ICdTTkFQJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgdmFyIG5lZWRzVmlzaWJpbGl0eUNoZWNrID0gc3RhdGUuaW1wYWN0O1xuICB2YXIgdmlld3BvcnQgPSBmb3JjZWRWaWV3cG9ydCB8fCBzdGF0ZS52aWV3cG9ydDtcbiAgdmFyIGRpbWVuc2lvbnMgPSBmb3JjZWREaW1lbnNpb25zIHx8IHN0YXRlLmRpbWVuc2lvbnM7XG4gIHZhciBkcmFnZ2FibGVzID0gZGltZW5zaW9ucy5kcmFnZ2FibGVzLFxuICAgICAgZHJvcHBhYmxlcyA9IGRpbWVuc2lvbnMuZHJvcHBhYmxlcztcbiAgdmFyIGRyYWdnYWJsZSA9IGRyYWdnYWJsZXNbc3RhdGUuY3JpdGljYWwuZHJhZ2dhYmxlLmlkXTtcbiAgdmFyIGlzT3ZlciA9IHdoYXRJc0RyYWdnZWRPdmVyKG5lZWRzVmlzaWJpbGl0eUNoZWNrKTtcbiAgIWlzT3ZlciA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ011c3QgYmUgb3ZlciBhIGRlc3RpbmF0aW9uIGluIFNOQVAgbW92ZW1lbnQgbW9kZScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgdmFyIGRlc3RpbmF0aW9uID0gZHJvcHBhYmxlc1tpc092ZXJdO1xuICB2YXIgaW1wYWN0ID0gcmVjb21wdXRlKHtcbiAgICBpbXBhY3Q6IG5lZWRzVmlzaWJpbGl0eUNoZWNrLFxuICAgIHZpZXdwb3J0OiB2aWV3cG9ydCxcbiAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgZHJhZ2dhYmxlczogZHJhZ2dhYmxlc1xuICB9KTtcbiAgdmFyIGNsaWVudFNlbGVjdGlvbiA9IGdldENsaWVudEJvcmRlckJveENlbnRlcih7XG4gICAgaW1wYWN0OiBpbXBhY3QsXG4gICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgZHJvcHBhYmxlOiBkZXN0aW5hdGlvbixcbiAgICBkcmFnZ2FibGVzOiBkcmFnZ2FibGVzLFxuICAgIHZpZXdwb3J0OiB2aWV3cG9ydCxcbiAgICBhZnRlckNyaXRpY2FsOiBzdGF0ZS5hZnRlckNyaXRpY2FsXG4gIH0pO1xuICByZXR1cm4gdXBkYXRlKHtcbiAgICBpbXBhY3Q6IGltcGFjdCxcbiAgICBjbGllbnRTZWxlY3Rpb246IGNsaWVudFNlbGVjdGlvbixcbiAgICBzdGF0ZTogc3RhdGUsXG4gICAgZGltZW5zaW9uczogZGltZW5zaW9ucyxcbiAgICB2aWV3cG9ydDogdmlld3BvcnRcbiAgfSk7XG59KTtcblxudmFyIGdldEhvbWVMb2NhdGlvbiA9IChmdW5jdGlvbiAoZGVzY3JpcHRvcikge1xuICByZXR1cm4ge1xuICAgIGluZGV4OiBkZXNjcmlwdG9yLmluZGV4LFxuICAgIGRyb3BwYWJsZUlkOiBkZXNjcmlwdG9yLmRyb3BwYWJsZUlkXG4gIH07XG59KTtcblxudmFyIGdldExpZnRFZmZlY3QgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGRyYWdnYWJsZSA9IF9yZWYuZHJhZ2dhYmxlLFxuICAgICAgaG9tZSA9IF9yZWYuaG9tZSxcbiAgICAgIGRyYWdnYWJsZXMgPSBfcmVmLmRyYWdnYWJsZXMsXG4gICAgICB2aWV3cG9ydCA9IF9yZWYudmlld3BvcnQ7XG4gIHZhciBkaXNwbGFjZWRCeSA9IGdldERpc3BsYWNlZEJ5KGhvbWUuYXhpcywgZHJhZ2dhYmxlLmRpc3BsYWNlQnkpO1xuICB2YXIgaW5zaWRlSG9tZSA9IGdldERyYWdnYWJsZXNJbnNpZGVEcm9wcGFibGUoaG9tZS5kZXNjcmlwdG9yLmlkLCBkcmFnZ2FibGVzKTtcbiAgdmFyIHJhd0luZGV4ID0gaW5zaWRlSG9tZS5pbmRleE9mKGRyYWdnYWJsZSk7XG4gICEocmF3SW5kZXggIT09IC0xKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIGRyYWdnYWJsZSB0byBiZSBpbnNpZGUgaG9tZSBsaXN0JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB2YXIgYWZ0ZXJEcmFnZ2luZyA9IGluc2lkZUhvbWUuc2xpY2UocmF3SW5kZXggKyAxKTtcbiAgdmFyIGVmZmVjdGVkID0gYWZ0ZXJEcmFnZ2luZy5yZWR1Y2UoZnVuY3Rpb24gKHByZXZpb3VzLCBpdGVtKSB7XG4gICAgcHJldmlvdXNbaXRlbS5kZXNjcmlwdG9yLmlkXSA9IHRydWU7XG4gICAgcmV0dXJuIHByZXZpb3VzO1xuICB9LCB7fSk7XG4gIHZhciBhZnRlckNyaXRpY2FsID0ge1xuICAgIGluVmlydHVhbExpc3Q6IGhvbWUuZGVzY3JpcHRvci5tb2RlID09PSAndmlydHVhbCcsXG4gICAgZGlzcGxhY2VkQnk6IGRpc3BsYWNlZEJ5LFxuICAgIGVmZmVjdGVkOiBlZmZlY3RlZFxuICB9O1xuICB2YXIgZGlzcGxhY2VkID0gZ2V0RGlzcGxhY2VtZW50R3JvdXBzKHtcbiAgICBhZnRlckRyYWdnaW5nOiBhZnRlckRyYWdnaW5nLFxuICAgIGRlc3RpbmF0aW9uOiBob21lLFxuICAgIGRpc3BsYWNlZEJ5OiBkaXNwbGFjZWRCeSxcbiAgICBsYXN0OiBudWxsLFxuICAgIHZpZXdwb3J0OiB2aWV3cG9ydC5mcmFtZSxcbiAgICBmb3JjZVNob3VsZEFuaW1hdGU6IGZhbHNlXG4gIH0pO1xuICB2YXIgaW1wYWN0ID0ge1xuICAgIGRpc3BsYWNlZDogZGlzcGxhY2VkLFxuICAgIGRpc3BsYWNlZEJ5OiBkaXNwbGFjZWRCeSxcbiAgICBhdDoge1xuICAgICAgdHlwZTogJ1JFT1JERVInLFxuICAgICAgZGVzdGluYXRpb246IGdldEhvbWVMb2NhdGlvbihkcmFnZ2FibGUuZGVzY3JpcHRvcilcbiAgICB9XG4gIH07XG4gIHJldHVybiB7XG4gICAgaW1wYWN0OiBpbXBhY3QsXG4gICAgYWZ0ZXJDcml0aWNhbDogYWZ0ZXJDcml0aWNhbFxuICB9O1xufSk7XG5cbnZhciBwYXRjaERpbWVuc2lvbk1hcCA9IChmdW5jdGlvbiAoZGltZW5zaW9ucywgdXBkYXRlZCkge1xuICByZXR1cm4ge1xuICAgIGRyYWdnYWJsZXM6IGRpbWVuc2lvbnMuZHJhZ2dhYmxlcyxcbiAgICBkcm9wcGFibGVzOiBwYXRjaERyb3BwYWJsZU1hcChkaW1lbnNpb25zLmRyb3BwYWJsZXMsIHVwZGF0ZWQpXG4gIH07XG59KTtcblxudmFyIHN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQoa2V5KSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxufTtcbnZhciBmaW5pc2ggPSBmdW5jdGlvbiBmaW5pc2goa2V5KSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxufTtcblxudmFyIG9mZnNldERyYWdnYWJsZSA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgZHJhZ2dhYmxlID0gX3JlZi5kcmFnZ2FibGUsXG4gICAgICBvZmZzZXQkMSA9IF9yZWYub2Zmc2V0LFxuICAgICAgaW5pdGlhbFdpbmRvd1Njcm9sbCA9IF9yZWYuaW5pdGlhbFdpbmRvd1Njcm9sbDtcbiAgdmFyIGNsaWVudCA9IG9mZnNldChkcmFnZ2FibGUuY2xpZW50LCBvZmZzZXQkMSk7XG4gIHZhciBwYWdlID0gd2l0aFNjcm9sbChjbGllbnQsIGluaXRpYWxXaW5kb3dTY3JvbGwpO1xuXG4gIHZhciBtb3ZlZCA9IF9leHRlbmRzKHt9LCBkcmFnZ2FibGUsIHtcbiAgICBwbGFjZWhvbGRlcjogX2V4dGVuZHMoe30sIGRyYWdnYWJsZS5wbGFjZWhvbGRlciwge1xuICAgICAgY2xpZW50OiBjbGllbnRcbiAgICB9KSxcbiAgICBjbGllbnQ6IGNsaWVudCxcbiAgICBwYWdlOiBwYWdlXG4gIH0pO1xuXG4gIHJldHVybiBtb3ZlZDtcbn0pO1xuXG52YXIgZ2V0RnJhbWUgPSAoZnVuY3Rpb24gKGRyb3BwYWJsZSkge1xuICB2YXIgZnJhbWUgPSBkcm9wcGFibGUuZnJhbWU7XG4gICFmcmFtZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIERyb3BwYWJsZSB0byBoYXZlIGEgZnJhbWUnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIHJldHVybiBmcmFtZTtcbn0pO1xuXG52YXIgYWRqdXN0QWRkaXRpb25zRm9yU2Nyb2xsQ2hhbmdlcyA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgYWRkaXRpb25zID0gX3JlZi5hZGRpdGlvbnMsXG4gICAgICB1cGRhdGVkRHJvcHBhYmxlcyA9IF9yZWYudXBkYXRlZERyb3BwYWJsZXMsXG4gICAgICB2aWV3cG9ydCA9IF9yZWYudmlld3BvcnQ7XG4gIHZhciB3aW5kb3dTY3JvbGxDaGFuZ2UgPSB2aWV3cG9ydC5zY3JvbGwuZGlmZi52YWx1ZTtcbiAgcmV0dXJuIGFkZGl0aW9ucy5tYXAoZnVuY3Rpb24gKGRyYWdnYWJsZSkge1xuICAgIHZhciBkcm9wcGFibGVJZCA9IGRyYWdnYWJsZS5kZXNjcmlwdG9yLmRyb3BwYWJsZUlkO1xuICAgIHZhciBtb2RpZmllZCA9IHVwZGF0ZWREcm9wcGFibGVzW2Ryb3BwYWJsZUlkXTtcbiAgICB2YXIgZnJhbWUgPSBnZXRGcmFtZShtb2RpZmllZCk7XG4gICAgdmFyIGRyb3BwYWJsZVNjcm9sbENoYW5nZSA9IGZyYW1lLnNjcm9sbC5kaWZmLnZhbHVlO1xuICAgIHZhciB0b3RhbENoYW5nZSA9IGFkZCh3aW5kb3dTY3JvbGxDaGFuZ2UsIGRyb3BwYWJsZVNjcm9sbENoYW5nZSk7XG4gICAgdmFyIG1vdmVkID0gb2Zmc2V0RHJhZ2dhYmxlKHtcbiAgICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgICAgb2Zmc2V0OiB0b3RhbENoYW5nZSxcbiAgICAgIGluaXRpYWxXaW5kb3dTY3JvbGw6IHZpZXdwb3J0LnNjcm9sbC5pbml0aWFsXG4gICAgfSk7XG4gICAgcmV0dXJuIG1vdmVkO1xuICB9KTtcbn0pO1xuXG52YXIgcHVibGlzaFdoaWxlRHJhZ2dpbmdJblZpcnR1YWwgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIHB1Ymxpc2hlZCA9IF9yZWYucHVibGlzaGVkO1xuICBzdGFydCgpO1xuICB2YXIgd2l0aFNjcm9sbENoYW5nZSA9IHB1Ymxpc2hlZC5tb2RpZmllZC5tYXAoZnVuY3Rpb24gKHVwZGF0ZSkge1xuICAgIHZhciBleGlzdGluZyA9IHN0YXRlLmRpbWVuc2lvbnMuZHJvcHBhYmxlc1t1cGRhdGUuZHJvcHBhYmxlSWRdO1xuICAgIHZhciBzY3JvbGxlZCA9IHNjcm9sbERyb3BwYWJsZShleGlzdGluZywgdXBkYXRlLnNjcm9sbCk7XG4gICAgcmV0dXJuIHNjcm9sbGVkO1xuICB9KTtcblxuICB2YXIgZHJvcHBhYmxlcyA9IF9leHRlbmRzKHt9LCBzdGF0ZS5kaW1lbnNpb25zLmRyb3BwYWJsZXMsIHt9LCB0b0Ryb3BwYWJsZU1hcCh3aXRoU2Nyb2xsQ2hhbmdlKSk7XG5cbiAgdmFyIHVwZGF0ZWRBZGRpdGlvbnMgPSB0b0RyYWdnYWJsZU1hcChhZGp1c3RBZGRpdGlvbnNGb3JTY3JvbGxDaGFuZ2VzKHtcbiAgICBhZGRpdGlvbnM6IHB1Ymxpc2hlZC5hZGRpdGlvbnMsXG4gICAgdXBkYXRlZERyb3BwYWJsZXM6IGRyb3BwYWJsZXMsXG4gICAgdmlld3BvcnQ6IHN0YXRlLnZpZXdwb3J0XG4gIH0pKTtcblxuICB2YXIgZHJhZ2dhYmxlcyA9IF9leHRlbmRzKHt9LCBzdGF0ZS5kaW1lbnNpb25zLmRyYWdnYWJsZXMsIHt9LCB1cGRhdGVkQWRkaXRpb25zKTtcblxuICBwdWJsaXNoZWQucmVtb3ZhbHMuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcbiAgICBkZWxldGUgZHJhZ2dhYmxlc1tpZF07XG4gIH0pO1xuICB2YXIgZGltZW5zaW9ucyA9IHtcbiAgICBkcm9wcGFibGVzOiBkcm9wcGFibGVzLFxuICAgIGRyYWdnYWJsZXM6IGRyYWdnYWJsZXNcbiAgfTtcbiAgdmFyIHdhc092ZXJJZCA9IHdoYXRJc0RyYWdnZWRPdmVyKHN0YXRlLmltcGFjdCk7XG4gIHZhciB3YXNPdmVyID0gd2FzT3ZlcklkID8gZGltZW5zaW9ucy5kcm9wcGFibGVzW3dhc092ZXJJZF0gOiBudWxsO1xuICB2YXIgZHJhZ2dhYmxlID0gZGltZW5zaW9ucy5kcmFnZ2FibGVzW3N0YXRlLmNyaXRpY2FsLmRyYWdnYWJsZS5pZF07XG4gIHZhciBob21lID0gZGltZW5zaW9ucy5kcm9wcGFibGVzW3N0YXRlLmNyaXRpY2FsLmRyb3BwYWJsZS5pZF07XG5cbiAgdmFyIF9nZXRMaWZ0RWZmZWN0ID0gZ2V0TGlmdEVmZmVjdCh7XG4gICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgaG9tZTogaG9tZSxcbiAgICBkcmFnZ2FibGVzOiBkcmFnZ2FibGVzLFxuICAgIHZpZXdwb3J0OiBzdGF0ZS52aWV3cG9ydFxuICB9KSxcbiAgICAgIG9uTGlmdEltcGFjdCA9IF9nZXRMaWZ0RWZmZWN0LmltcGFjdCxcbiAgICAgIGFmdGVyQ3JpdGljYWwgPSBfZ2V0TGlmdEVmZmVjdC5hZnRlckNyaXRpY2FsO1xuXG4gIHZhciBwcmV2aW91c0ltcGFjdCA9IHdhc092ZXIgJiYgd2FzT3Zlci5pc0NvbWJpbmVFbmFibGVkID8gc3RhdGUuaW1wYWN0IDogb25MaWZ0SW1wYWN0O1xuICB2YXIgaW1wYWN0ID0gZ2V0RHJhZ0ltcGFjdCh7XG4gICAgcGFnZU9mZnNldDogc3RhdGUuY3VycmVudC5wYWdlLm9mZnNldCxcbiAgICBkcmFnZ2FibGU6IGRpbWVuc2lvbnMuZHJhZ2dhYmxlc1tzdGF0ZS5jcml0aWNhbC5kcmFnZ2FibGUuaWRdLFxuICAgIGRyYWdnYWJsZXM6IGRpbWVuc2lvbnMuZHJhZ2dhYmxlcyxcbiAgICBkcm9wcGFibGVzOiBkaW1lbnNpb25zLmRyb3BwYWJsZXMsXG4gICAgcHJldmlvdXNJbXBhY3Q6IHByZXZpb3VzSW1wYWN0LFxuICAgIHZpZXdwb3J0OiBzdGF0ZS52aWV3cG9ydCxcbiAgICBhZnRlckNyaXRpY2FsOiBhZnRlckNyaXRpY2FsXG4gIH0pO1xuICBmaW5pc2goKTtcblxuICB2YXIgZHJhZ2dpbmdTdGF0ZSA9IF9leHRlbmRzKHtcbiAgICBwaGFzZTogJ0RSQUdHSU5HJ1xuICB9LCBzdGF0ZSwge1xuICAgIHBoYXNlOiAnRFJBR0dJTkcnLFxuICAgIGltcGFjdDogaW1wYWN0LFxuICAgIG9uTGlmdEltcGFjdDogb25MaWZ0SW1wYWN0LFxuICAgIGRpbWVuc2lvbnM6IGRpbWVuc2lvbnMsXG4gICAgYWZ0ZXJDcml0aWNhbDogYWZ0ZXJDcml0aWNhbCxcbiAgICBmb3JjZVNob3VsZEFuaW1hdGU6IGZhbHNlXG4gIH0pO1xuXG4gIGlmIChzdGF0ZS5waGFzZSA9PT0gJ0NPTExFQ1RJTkcnKSB7XG4gICAgcmV0dXJuIGRyYWdnaW5nU3RhdGU7XG4gIH1cblxuICB2YXIgZHJvcFBlbmRpbmcgPSBfZXh0ZW5kcyh7XG4gICAgcGhhc2U6ICdEUk9QX1BFTkRJTkcnXG4gIH0sIGRyYWdnaW5nU3RhdGUsIHtcbiAgICBwaGFzZTogJ0RST1BfUEVORElORycsXG4gICAgcmVhc29uOiBzdGF0ZS5yZWFzb24sXG4gICAgaXNXYWl0aW5nOiBmYWxzZVxuICB9KTtcblxuICByZXR1cm4gZHJvcFBlbmRpbmc7XG59KTtcblxudmFyIGlzU25hcHBpbmcgPSBmdW5jdGlvbiBpc1NuYXBwaW5nKHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS5tb3ZlbWVudE1vZGUgPT09ICdTTkFQJztcbn07XG5cbnZhciBwb3N0RHJvcHBhYmxlQ2hhbmdlID0gZnVuY3Rpb24gcG9zdERyb3BwYWJsZUNoYW5nZShzdGF0ZSwgdXBkYXRlZCwgaXNFbmFibGVkQ2hhbmdpbmcpIHtcbiAgdmFyIGRpbWVuc2lvbnMgPSBwYXRjaERpbWVuc2lvbk1hcChzdGF0ZS5kaW1lbnNpb25zLCB1cGRhdGVkKTtcblxuICBpZiAoIWlzU25hcHBpbmcoc3RhdGUpIHx8IGlzRW5hYmxlZENoYW5naW5nKSB7XG4gICAgcmV0dXJuIHVwZGF0ZSh7XG4gICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICBkaW1lbnNpb25zOiBkaW1lbnNpb25zXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcmVmcmVzaFNuYXAoe1xuICAgIHN0YXRlOiBzdGF0ZSxcbiAgICBkaW1lbnNpb25zOiBkaW1lbnNpb25zXG4gIH0pO1xufTtcblxuZnVuY3Rpb24gcmVtb3ZlU2Nyb2xsSnVtcFJlcXVlc3Qoc3RhdGUpIHtcbiAgaWYgKHN0YXRlLmlzRHJhZ2dpbmcgJiYgc3RhdGUubW92ZW1lbnRNb2RlID09PSAnU05BUCcpIHtcbiAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgcGhhc2U6ICdEUkFHR0lORydcbiAgICB9LCBzdGF0ZSwge1xuICAgICAgc2Nyb2xsSnVtcFJlcXVlc3Q6IG51bGxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBzdGF0ZTtcbn1cblxudmFyIGlkbGUgPSB7XG4gIHBoYXNlOiAnSURMRScsXG4gIGNvbXBsZXRlZDogbnVsbCxcbiAgc2hvdWxkRmx1c2g6IGZhbHNlXG59O1xudmFyIHJlZHVjZXIgPSAoZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgaWYgKHN0YXRlID09PSB2b2lkIDApIHtcbiAgICBzdGF0ZSA9IGlkbGU7XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09ICdGTFVTSCcpIHtcbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIGlkbGUsIHtcbiAgICAgIHNob3VsZEZsdXNoOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09ICdJTklUSUFMX1BVQkxJU0gnKSB7XG4gICAgIShzdGF0ZS5waGFzZSA9PT0gJ0lETEUnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0lOSVRJQUxfUFVCTElTSCBtdXN0IGNvbWUgYWZ0ZXIgYSBJRExFIHBoYXNlJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBfYWN0aW9uJHBheWxvYWQgPSBhY3Rpb24ucGF5bG9hZCxcbiAgICAgICAgY3JpdGljYWwgPSBfYWN0aW9uJHBheWxvYWQuY3JpdGljYWwsXG4gICAgICAgIGNsaWVudFNlbGVjdGlvbiA9IF9hY3Rpb24kcGF5bG9hZC5jbGllbnRTZWxlY3Rpb24sXG4gICAgICAgIHZpZXdwb3J0ID0gX2FjdGlvbiRwYXlsb2FkLnZpZXdwb3J0LFxuICAgICAgICBkaW1lbnNpb25zID0gX2FjdGlvbiRwYXlsb2FkLmRpbWVuc2lvbnMsXG4gICAgICAgIG1vdmVtZW50TW9kZSA9IF9hY3Rpb24kcGF5bG9hZC5tb3ZlbWVudE1vZGU7XG4gICAgdmFyIGRyYWdnYWJsZSA9IGRpbWVuc2lvbnMuZHJhZ2dhYmxlc1tjcml0aWNhbC5kcmFnZ2FibGUuaWRdO1xuICAgIHZhciBob21lID0gZGltZW5zaW9ucy5kcm9wcGFibGVzW2NyaXRpY2FsLmRyb3BwYWJsZS5pZF07XG4gICAgdmFyIGNsaWVudCA9IHtcbiAgICAgIHNlbGVjdGlvbjogY2xpZW50U2VsZWN0aW9uLFxuICAgICAgYm9yZGVyQm94Q2VudGVyOiBkcmFnZ2FibGUuY2xpZW50LmJvcmRlckJveC5jZW50ZXIsXG4gICAgICBvZmZzZXQ6IG9yaWdpblxuICAgIH07XG4gICAgdmFyIGluaXRpYWwgPSB7XG4gICAgICBjbGllbnQ6IGNsaWVudCxcbiAgICAgIHBhZ2U6IHtcbiAgICAgICAgc2VsZWN0aW9uOiBhZGQoY2xpZW50LnNlbGVjdGlvbiwgdmlld3BvcnQuc2Nyb2xsLmluaXRpYWwpLFxuICAgICAgICBib3JkZXJCb3hDZW50ZXI6IGFkZChjbGllbnQuc2VsZWN0aW9uLCB2aWV3cG9ydC5zY3JvbGwuaW5pdGlhbCksXG4gICAgICAgIG9mZnNldDogYWRkKGNsaWVudC5zZWxlY3Rpb24sIHZpZXdwb3J0LnNjcm9sbC5kaWZmLnZhbHVlKVxuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGlzV2luZG93U2Nyb2xsQWxsb3dlZCA9IHRvRHJvcHBhYmxlTGlzdChkaW1lbnNpb25zLmRyb3BwYWJsZXMpLmV2ZXJ5KGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gIWl0ZW0uaXNGaXhlZE9uUGFnZTtcbiAgICB9KTtcblxuICAgIHZhciBfZ2V0TGlmdEVmZmVjdCA9IGdldExpZnRFZmZlY3Qoe1xuICAgICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgICBob21lOiBob21lLFxuICAgICAgZHJhZ2dhYmxlczogZGltZW5zaW9ucy5kcmFnZ2FibGVzLFxuICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0XG4gICAgfSksXG4gICAgICAgIGltcGFjdCA9IF9nZXRMaWZ0RWZmZWN0LmltcGFjdCxcbiAgICAgICAgYWZ0ZXJDcml0aWNhbCA9IF9nZXRMaWZ0RWZmZWN0LmFmdGVyQ3JpdGljYWw7XG5cbiAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgcGhhc2U6ICdEUkFHR0lORycsXG4gICAgICBpc0RyYWdnaW5nOiB0cnVlLFxuICAgICAgY3JpdGljYWw6IGNyaXRpY2FsLFxuICAgICAgbW92ZW1lbnRNb2RlOiBtb3ZlbWVudE1vZGUsXG4gICAgICBkaW1lbnNpb25zOiBkaW1lbnNpb25zLFxuICAgICAgaW5pdGlhbDogaW5pdGlhbCxcbiAgICAgIGN1cnJlbnQ6IGluaXRpYWwsXG4gICAgICBpc1dpbmRvd1Njcm9sbEFsbG93ZWQ6IGlzV2luZG93U2Nyb2xsQWxsb3dlZCxcbiAgICAgIGltcGFjdDogaW1wYWN0LFxuICAgICAgYWZ0ZXJDcml0aWNhbDogYWZ0ZXJDcml0aWNhbCxcbiAgICAgIG9uTGlmdEltcGFjdDogaW1wYWN0LFxuICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0LFxuICAgICAgc2Nyb2xsSnVtcFJlcXVlc3Q6IG51bGwsXG4gICAgICBmb3JjZVNob3VsZEFuaW1hdGU6IG51bGxcbiAgICB9O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09ICdDT0xMRUNUSU9OX1NUQVJUSU5HJykge1xuICAgIGlmIChzdGF0ZS5waGFzZSA9PT0gJ0NPTExFQ1RJTkcnIHx8IHN0YXRlLnBoYXNlID09PSAnRFJPUF9QRU5ESU5HJykge1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgICEoc3RhdGUucGhhc2UgPT09ICdEUkFHR0lORycpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIkNvbGxlY3Rpb24gY2Fubm90IHN0YXJ0IGZyb20gcGhhc2UgXCIgKyBzdGF0ZS5waGFzZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuXG4gICAgdmFyIF9yZXN1bHQgPSBfZXh0ZW5kcyh7XG4gICAgICBwaGFzZTogJ0NPTExFQ1RJTkcnXG4gICAgfSwgc3RhdGUsIHtcbiAgICAgIHBoYXNlOiAnQ09MTEVDVElORydcbiAgICB9KTtcblxuICAgIHJldHVybiBfcmVzdWx0O1xuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSAnUFVCTElTSF9XSElMRV9EUkFHR0lORycpIHtcbiAgICAhKHN0YXRlLnBoYXNlID09PSAnQ09MTEVDVElORycgfHwgc3RhdGUucGhhc2UgPT09ICdEUk9QX1BFTkRJTkcnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJVbmV4cGVjdGVkIFwiICsgYWN0aW9uLnR5cGUgKyBcIiByZWNlaXZlZCBpbiBwaGFzZSBcIiArIHN0YXRlLnBoYXNlKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgcmV0dXJuIHB1Ymxpc2hXaGlsZURyYWdnaW5nSW5WaXJ0dWFsKHtcbiAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgIHB1Ymxpc2hlZDogYWN0aW9uLnBheWxvYWRcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gJ01PVkUnKSB7XG4gICAgaWYgKHN0YXRlLnBoYXNlID09PSAnRFJPUF9QRU5ESU5HJykge1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgICFpc01vdmVtZW50QWxsb3dlZChzdGF0ZSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIGFjdGlvbi50eXBlICsgXCIgbm90IHBlcm1pdHRlZCBpbiBwaGFzZSBcIiArIHN0YXRlLnBoYXNlKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIF9jbGllbnRTZWxlY3Rpb24gPSBhY3Rpb24ucGF5bG9hZC5jbGllbnQ7XG5cbiAgICBpZiAoaXNFcXVhbChfY2xpZW50U2VsZWN0aW9uLCBzdGF0ZS5jdXJyZW50LmNsaWVudC5zZWxlY3Rpb24pKSB7XG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVwZGF0ZSh7XG4gICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICBjbGllbnRTZWxlY3Rpb246IF9jbGllbnRTZWxlY3Rpb24sXG4gICAgICBpbXBhY3Q6IGlzU25hcHBpbmcoc3RhdGUpID8gc3RhdGUuaW1wYWN0IDogbnVsbFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSAnVVBEQVRFX0RST1BQQUJMRV9TQ1JPTEwnKSB7XG4gICAgaWYgKHN0YXRlLnBoYXNlID09PSAnRFJPUF9QRU5ESU5HJykge1xuICAgICAgcmV0dXJuIHJlbW92ZVNjcm9sbEp1bXBSZXF1ZXN0KHN0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUucGhhc2UgPT09ICdDT0xMRUNUSU5HJykge1xuICAgICAgcmV0dXJuIHJlbW92ZVNjcm9sbEp1bXBSZXF1ZXN0KHN0YXRlKTtcbiAgICB9XG5cbiAgICAhaXNNb3ZlbWVudEFsbG93ZWQoc3RhdGUpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBhY3Rpb24udHlwZSArIFwiIG5vdCBwZXJtaXR0ZWQgaW4gcGhhc2UgXCIgKyBzdGF0ZS5waGFzZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBfYWN0aW9uJHBheWxvYWQyID0gYWN0aW9uLnBheWxvYWQsXG4gICAgICAgIGlkID0gX2FjdGlvbiRwYXlsb2FkMi5pZCxcbiAgICAgICAgbmV3U2Nyb2xsID0gX2FjdGlvbiRwYXlsb2FkMi5uZXdTY3JvbGw7XG4gICAgdmFyIHRhcmdldCA9IHN0YXRlLmRpbWVuc2lvbnMuZHJvcHBhYmxlc1tpZF07XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgIHZhciBzY3JvbGxlZCA9IHNjcm9sbERyb3BwYWJsZSh0YXJnZXQsIG5ld1Njcm9sbCk7XG4gICAgcmV0dXJuIHBvc3REcm9wcGFibGVDaGFuZ2Uoc3RhdGUsIHNjcm9sbGVkLCBmYWxzZSk7XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09ICdVUERBVEVfRFJPUFBBQkxFX0lTX0VOQUJMRUQnKSB7XG4gICAgaWYgKHN0YXRlLnBoYXNlID09PSAnRFJPUF9QRU5ESU5HJykge1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgICFpc01vdmVtZW50QWxsb3dlZChzdGF0ZSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiQXR0ZW1wdGluZyB0byBtb3ZlIGluIGFuIHVuc3VwcG9ydGVkIHBoYXNlIFwiICsgc3RhdGUucGhhc2UpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgX2FjdGlvbiRwYXlsb2FkMyA9IGFjdGlvbi5wYXlsb2FkLFxuICAgICAgICBfaWQgPSBfYWN0aW9uJHBheWxvYWQzLmlkLFxuICAgICAgICBpc0VuYWJsZWQgPSBfYWN0aW9uJHBheWxvYWQzLmlzRW5hYmxlZDtcbiAgICB2YXIgX3RhcmdldCA9IHN0YXRlLmRpbWVuc2lvbnMuZHJvcHBhYmxlc1tfaWRdO1xuICAgICFfdGFyZ2V0ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIkNhbm5vdCBmaW5kIERyb3BwYWJsZVtpZDogXCIgKyBfaWQgKyBcIl0gdG8gdG9nZ2xlIGl0cyBlbmFibGVkIHN0YXRlXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAhKF90YXJnZXQuaXNFbmFibGVkICE9PSBpc0VuYWJsZWQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIlRyeWluZyB0byBzZXQgZHJvcHBhYmxlIGlzRW5hYmxlZCB0byBcIiArIFN0cmluZyhpc0VuYWJsZWQpICsgXCJcXG4gICAgICBidXQgaXQgaXMgYWxyZWFkeSBcIiArIFN0cmluZyhfdGFyZ2V0LmlzRW5hYmxlZCkpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcblxuICAgIHZhciB1cGRhdGVkID0gX2V4dGVuZHMoe30sIF90YXJnZXQsIHtcbiAgICAgIGlzRW5hYmxlZDogaXNFbmFibGVkXG4gICAgfSk7XG5cbiAgICByZXR1cm4gcG9zdERyb3BwYWJsZUNoYW5nZShzdGF0ZSwgdXBkYXRlZCwgdHJ1ZSk7XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09ICdVUERBVEVfRFJPUFBBQkxFX0lTX0NPTUJJTkVfRU5BQkxFRCcpIHtcbiAgICBpZiAoc3RhdGUucGhhc2UgPT09ICdEUk9QX1BFTkRJTkcnKSB7XG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgIWlzTW92ZW1lbnRBbGxvd2VkKHN0YXRlKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJBdHRlbXB0aW5nIHRvIG1vdmUgaW4gYW4gdW5zdXBwb3J0ZWQgcGhhc2UgXCIgKyBzdGF0ZS5waGFzZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBfYWN0aW9uJHBheWxvYWQ0ID0gYWN0aW9uLnBheWxvYWQsXG4gICAgICAgIF9pZDIgPSBfYWN0aW9uJHBheWxvYWQ0LmlkLFxuICAgICAgICBpc0NvbWJpbmVFbmFibGVkID0gX2FjdGlvbiRwYXlsb2FkNC5pc0NvbWJpbmVFbmFibGVkO1xuICAgIHZhciBfdGFyZ2V0MiA9IHN0YXRlLmRpbWVuc2lvbnMuZHJvcHBhYmxlc1tfaWQyXTtcbiAgICAhX3RhcmdldDIgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiQ2Fubm90IGZpbmQgRHJvcHBhYmxlW2lkOiBcIiArIF9pZDIgKyBcIl0gdG8gdG9nZ2xlIGl0cyBpc0NvbWJpbmVFbmFibGVkIHN0YXRlXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAhKF90YXJnZXQyLmlzQ29tYmluZUVuYWJsZWQgIT09IGlzQ29tYmluZUVuYWJsZWQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIlRyeWluZyB0byBzZXQgZHJvcHBhYmxlIGlzQ29tYmluZUVuYWJsZWQgdG8gXCIgKyBTdHJpbmcoaXNDb21iaW5lRW5hYmxlZCkgKyBcIlxcbiAgICAgIGJ1dCBpdCBpcyBhbHJlYWR5IFwiICsgU3RyaW5nKF90YXJnZXQyLmlzQ29tYmluZUVuYWJsZWQpKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG5cbiAgICB2YXIgX3VwZGF0ZWQgPSBfZXh0ZW5kcyh7fSwgX3RhcmdldDIsIHtcbiAgICAgIGlzQ29tYmluZUVuYWJsZWQ6IGlzQ29tYmluZUVuYWJsZWRcbiAgICB9KTtcblxuICAgIHJldHVybiBwb3N0RHJvcHBhYmxlQ2hhbmdlKHN0YXRlLCBfdXBkYXRlZCwgdHJ1ZSk7XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09ICdNT1ZFX0JZX1dJTkRPV19TQ1JPTEwnKSB7XG4gICAgaWYgKHN0YXRlLnBoYXNlID09PSAnRFJPUF9QRU5ESU5HJyB8fCBzdGF0ZS5waGFzZSA9PT0gJ0RST1BfQU5JTUFUSU5HJykge1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgICFpc01vdmVtZW50QWxsb3dlZChzdGF0ZSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiQ2Fubm90IG1vdmUgYnkgd2luZG93IGluIHBoYXNlIFwiICsgc3RhdGUucGhhc2UpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAhc3RhdGUuaXNXaW5kb3dTY3JvbGxBbGxvd2VkID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnV2luZG93IHNjcm9sbGluZyBpcyBjdXJyZW50bHkgbm90IHN1cHBvcnRlZCBmb3IgZml4ZWQgbGlzdHMnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIF9uZXdTY3JvbGwgPSBhY3Rpb24ucGF5bG9hZC5uZXdTY3JvbGw7XG5cbiAgICBpZiAoaXNFcXVhbChzdGF0ZS52aWV3cG9ydC5zY3JvbGwuY3VycmVudCwgX25ld1Njcm9sbCkpIHtcbiAgICAgIHJldHVybiByZW1vdmVTY3JvbGxKdW1wUmVxdWVzdChzdGF0ZSk7XG4gICAgfVxuXG4gICAgdmFyIF92aWV3cG9ydCA9IHNjcm9sbFZpZXdwb3J0KHN0YXRlLnZpZXdwb3J0LCBfbmV3U2Nyb2xsKTtcblxuICAgIGlmIChpc1NuYXBwaW5nKHN0YXRlKSkge1xuICAgICAgcmV0dXJuIHJlZnJlc2hTbmFwKHtcbiAgICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgICB2aWV3cG9ydDogX3ZpZXdwb3J0XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXBkYXRlKHtcbiAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgIHZpZXdwb3J0OiBfdmlld3BvcnRcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gJ1VQREFURV9WSUVXUE9SVF9NQVhfU0NST0xMJykge1xuICAgIGlmICghaXNNb3ZlbWVudEFsbG93ZWQoc3RhdGUpKSB7XG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgdmFyIG1heFNjcm9sbCA9IGFjdGlvbi5wYXlsb2FkLm1heFNjcm9sbDtcblxuICAgIGlmIChpc0VxdWFsKG1heFNjcm9sbCwgc3RhdGUudmlld3BvcnQuc2Nyb2xsLm1heCkpIHtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG5cbiAgICB2YXIgd2l0aE1heFNjcm9sbCA9IF9leHRlbmRzKHt9LCBzdGF0ZS52aWV3cG9ydCwge1xuICAgICAgc2Nyb2xsOiBfZXh0ZW5kcyh7fSwgc3RhdGUudmlld3BvcnQuc2Nyb2xsLCB7XG4gICAgICAgIG1heDogbWF4U2Nyb2xsXG4gICAgICB9KVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgIHBoYXNlOiAnRFJBR0dJTkcnXG4gICAgfSwgc3RhdGUsIHtcbiAgICAgIHZpZXdwb3J0OiB3aXRoTWF4U2Nyb2xsXG4gICAgfSk7XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09ICdNT1ZFX1VQJyB8fCBhY3Rpb24udHlwZSA9PT0gJ01PVkVfRE9XTicgfHwgYWN0aW9uLnR5cGUgPT09ICdNT1ZFX0xFRlQnIHx8IGFjdGlvbi50eXBlID09PSAnTU9WRV9SSUdIVCcpIHtcbiAgICBpZiAoc3RhdGUucGhhc2UgPT09ICdDT0xMRUNUSU5HJyB8fCBzdGF0ZS5waGFzZSA9PT0gJ0RST1BfUEVORElORycpIHtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG5cbiAgICAhKHN0YXRlLnBoYXNlID09PSAnRFJBR0dJTkcnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgYWN0aW9uLnR5cGUgKyBcIiByZWNlaXZlZCB3aGlsZSBub3QgaW4gRFJBR0dJTkcgcGhhc2VcIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuXG4gICAgdmFyIF9yZXN1bHQyID0gbW92ZUluRGlyZWN0aW9uKHtcbiAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgIHR5cGU6IGFjdGlvbi50eXBlXG4gICAgfSk7XG5cbiAgICBpZiAoIV9yZXN1bHQyKSB7XG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVwZGF0ZSh7XG4gICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICBpbXBhY3Q6IF9yZXN1bHQyLmltcGFjdCxcbiAgICAgIGNsaWVudFNlbGVjdGlvbjogX3Jlc3VsdDIuY2xpZW50U2VsZWN0aW9uLFxuICAgICAgc2Nyb2xsSnVtcFJlcXVlc3Q6IF9yZXN1bHQyLnNjcm9sbEp1bXBSZXF1ZXN0XG4gICAgfSk7XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09ICdEUk9QX1BFTkRJTkcnKSB7XG4gICAgdmFyIHJlYXNvbiA9IGFjdGlvbi5wYXlsb2FkLnJlYXNvbjtcbiAgICAhKHN0YXRlLnBoYXNlID09PSAnQ09MTEVDVElORycpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2FuIG9ubHkgbW92ZSBpbnRvIHRoZSBEUk9QX1BFTkRJTkcgcGhhc2UgZnJvbSB0aGUgQ09MTEVDVElORyBwaGFzZScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcblxuICAgIHZhciBuZXdTdGF0ZSA9IF9leHRlbmRzKHtcbiAgICAgIHBoYXNlOiAnRFJPUF9QRU5ESU5HJ1xuICAgIH0sIHN0YXRlLCB7XG4gICAgICBwaGFzZTogJ0RST1BfUEVORElORycsXG4gICAgICBpc1dhaXRpbmc6IHRydWUsXG4gICAgICByZWFzb246IHJlYXNvblxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5ld1N0YXRlO1xuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSAnRFJPUF9BTklNQVRFJykge1xuICAgIHZhciBfYWN0aW9uJHBheWxvYWQ1ID0gYWN0aW9uLnBheWxvYWQsXG4gICAgICAgIGNvbXBsZXRlZCA9IF9hY3Rpb24kcGF5bG9hZDUuY29tcGxldGVkLFxuICAgICAgICBkcm9wRHVyYXRpb24gPSBfYWN0aW9uJHBheWxvYWQ1LmRyb3BEdXJhdGlvbixcbiAgICAgICAgbmV3SG9tZUNsaWVudE9mZnNldCA9IF9hY3Rpb24kcGF5bG9hZDUubmV3SG9tZUNsaWVudE9mZnNldDtcbiAgICAhKHN0YXRlLnBoYXNlID09PSAnRFJBR0dJTkcnIHx8IHN0YXRlLnBoYXNlID09PSAnRFJPUF9QRU5ESU5HJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiQ2Fubm90IGFuaW1hdGUgZHJvcCBmcm9tIHBoYXNlIFwiICsgc3RhdGUucGhhc2UpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgX3Jlc3VsdDMgPSB7XG4gICAgICBwaGFzZTogJ0RST1BfQU5JTUFUSU5HJyxcbiAgICAgIGNvbXBsZXRlZDogY29tcGxldGVkLFxuICAgICAgZHJvcER1cmF0aW9uOiBkcm9wRHVyYXRpb24sXG4gICAgICBuZXdIb21lQ2xpZW50T2Zmc2V0OiBuZXdIb21lQ2xpZW50T2Zmc2V0LFxuICAgICAgZGltZW5zaW9uczogc3RhdGUuZGltZW5zaW9uc1xuICAgIH07XG4gICAgcmV0dXJuIF9yZXN1bHQzO1xuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSAnRFJPUF9DT01QTEVURScpIHtcbiAgICB2YXIgX2NvbXBsZXRlZCA9IGFjdGlvbi5wYXlsb2FkLmNvbXBsZXRlZDtcbiAgICByZXR1cm4ge1xuICAgICAgcGhhc2U6ICdJRExFJyxcbiAgICAgIGNvbXBsZXRlZDogX2NvbXBsZXRlZCxcbiAgICAgIHNob3VsZEZsdXNoOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICByZXR1cm4gc3RhdGU7XG59KTtcblxudmFyIGJlZm9yZUluaXRpYWxDYXB0dXJlID0gZnVuY3Rpb24gYmVmb3JlSW5pdGlhbENhcHR1cmUoYXJncykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCRUZPUkVfSU5JVElBTF9DQVBUVVJFJyxcbiAgICBwYXlsb2FkOiBhcmdzXG4gIH07XG59O1xudmFyIGxpZnQgPSBmdW5jdGlvbiBsaWZ0KGFyZ3MpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnTElGVCcsXG4gICAgcGF5bG9hZDogYXJnc1xuICB9O1xufTtcbnZhciBpbml0aWFsUHVibGlzaCA9IGZ1bmN0aW9uIGluaXRpYWxQdWJsaXNoKGFyZ3MpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnSU5JVElBTF9QVUJMSVNIJyxcbiAgICBwYXlsb2FkOiBhcmdzXG4gIH07XG59O1xudmFyIHB1Ymxpc2hXaGlsZURyYWdnaW5nID0gZnVuY3Rpb24gcHVibGlzaFdoaWxlRHJhZ2dpbmcoYXJncykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdQVUJMSVNIX1dISUxFX0RSQUdHSU5HJyxcbiAgICBwYXlsb2FkOiBhcmdzXG4gIH07XG59O1xudmFyIGNvbGxlY3Rpb25TdGFydGluZyA9IGZ1bmN0aW9uIGNvbGxlY3Rpb25TdGFydGluZygpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnQ09MTEVDVElPTl9TVEFSVElORycsXG4gICAgcGF5bG9hZDogbnVsbFxuICB9O1xufTtcbnZhciB1cGRhdGVEcm9wcGFibGVTY3JvbGwgPSBmdW5jdGlvbiB1cGRhdGVEcm9wcGFibGVTY3JvbGwoYXJncykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdVUERBVEVfRFJPUFBBQkxFX1NDUk9MTCcsXG4gICAgcGF5bG9hZDogYXJnc1xuICB9O1xufTtcbnZhciB1cGRhdGVEcm9wcGFibGVJc0VuYWJsZWQgPSBmdW5jdGlvbiB1cGRhdGVEcm9wcGFibGVJc0VuYWJsZWQoYXJncykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdVUERBVEVfRFJPUFBBQkxFX0lTX0VOQUJMRUQnLFxuICAgIHBheWxvYWQ6IGFyZ3NcbiAgfTtcbn07XG52YXIgdXBkYXRlRHJvcHBhYmxlSXNDb21iaW5lRW5hYmxlZCA9IGZ1bmN0aW9uIHVwZGF0ZURyb3BwYWJsZUlzQ29tYmluZUVuYWJsZWQoYXJncykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdVUERBVEVfRFJPUFBBQkxFX0lTX0NPTUJJTkVfRU5BQkxFRCcsXG4gICAgcGF5bG9hZDogYXJnc1xuICB9O1xufTtcbnZhciBtb3ZlID0gZnVuY3Rpb24gbW92ZShhcmdzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ01PVkUnLFxuICAgIHBheWxvYWQ6IGFyZ3NcbiAgfTtcbn07XG52YXIgbW92ZUJ5V2luZG93U2Nyb2xsID0gZnVuY3Rpb24gbW92ZUJ5V2luZG93U2Nyb2xsKGFyZ3MpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnTU9WRV9CWV9XSU5ET1dfU0NST0xMJyxcbiAgICBwYXlsb2FkOiBhcmdzXG4gIH07XG59O1xudmFyIHVwZGF0ZVZpZXdwb3J0TWF4U2Nyb2xsID0gZnVuY3Rpb24gdXBkYXRlVmlld3BvcnRNYXhTY3JvbGwoYXJncykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdVUERBVEVfVklFV1BPUlRfTUFYX1NDUk9MTCcsXG4gICAgcGF5bG9hZDogYXJnc1xuICB9O1xufTtcbnZhciBtb3ZlVXAgPSBmdW5jdGlvbiBtb3ZlVXAoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ01PVkVfVVAnLFxuICAgIHBheWxvYWQ6IG51bGxcbiAgfTtcbn07XG52YXIgbW92ZURvd24gPSBmdW5jdGlvbiBtb3ZlRG93bigpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnTU9WRV9ET1dOJyxcbiAgICBwYXlsb2FkOiBudWxsXG4gIH07XG59O1xudmFyIG1vdmVSaWdodCA9IGZ1bmN0aW9uIG1vdmVSaWdodCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnTU9WRV9SSUdIVCcsXG4gICAgcGF5bG9hZDogbnVsbFxuICB9O1xufTtcbnZhciBtb3ZlTGVmdCA9IGZ1bmN0aW9uIG1vdmVMZWZ0KCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdNT1ZFX0xFRlQnLFxuICAgIHBheWxvYWQ6IG51bGxcbiAgfTtcbn07XG52YXIgZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnRkxVU0gnLFxuICAgIHBheWxvYWQ6IG51bGxcbiAgfTtcbn07XG52YXIgYW5pbWF0ZURyb3AgPSBmdW5jdGlvbiBhbmltYXRlRHJvcChhcmdzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0RST1BfQU5JTUFURScsXG4gICAgcGF5bG9hZDogYXJnc1xuICB9O1xufTtcbnZhciBjb21wbGV0ZURyb3AgPSBmdW5jdGlvbiBjb21wbGV0ZURyb3AoYXJncykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdEUk9QX0NPTVBMRVRFJyxcbiAgICBwYXlsb2FkOiBhcmdzXG4gIH07XG59O1xudmFyIGRyb3AgPSBmdW5jdGlvbiBkcm9wKGFyZ3MpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnRFJPUCcsXG4gICAgcGF5bG9hZDogYXJnc1xuICB9O1xufTtcbnZhciBkcm9wUGVuZGluZyA9IGZ1bmN0aW9uIGRyb3BQZW5kaW5nKGFyZ3MpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnRFJPUF9QRU5ESU5HJyxcbiAgICBwYXlsb2FkOiBhcmdzXG4gIH07XG59O1xudmFyIGRyb3BBbmltYXRpb25GaW5pc2hlZCA9IGZ1bmN0aW9uIGRyb3BBbmltYXRpb25GaW5pc2hlZCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnRFJPUF9BTklNQVRJT05fRklOSVNIRUQnLFxuICAgIHBheWxvYWQ6IG51bGxcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIGNoZWNrSW5kZXhlcyhpbnNpZGVEZXN0aW5hdGlvbikge1xuICBpZiAoaW5zaWRlRGVzdGluYXRpb24ubGVuZ3RoIDw9IDEpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaW5kZXhlcyA9IGluc2lkZURlc3RpbmF0aW9uLm1hcChmdW5jdGlvbiAoZCkge1xuICAgIHJldHVybiBkLmRlc2NyaXB0b3IuaW5kZXg7XG4gIH0pO1xuICB2YXIgZXJyb3JzID0ge307XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBpbmRleGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBpbmRleGVzW2ldO1xuICAgIHZhciBwcmV2aW91cyA9IGluZGV4ZXNbaSAtIDFdO1xuXG4gICAgaWYgKGN1cnJlbnQgIT09IHByZXZpb3VzICsgMSkge1xuICAgICAgZXJyb3JzW2N1cnJlbnRdID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIU9iamVjdC5rZXlzKGVycm9ycykubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGZvcm1hdHRlZCA9IGluZGV4ZXMubWFwKGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHZhciBoYXNFcnJvciA9IEJvb2xlYW4oZXJyb3JzW2luZGV4XSk7XG4gICAgcmV0dXJuIGhhc0Vycm9yID8gXCJbXFx1RDgzRFxcdUREMjVcIiArIGluZGV4ICsgXCJdXCIgOiBcIlwiICsgaW5kZXg7XG4gIH0pLmpvaW4oJywgJyk7XG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoXCJcXG4gICAgRGV0ZWN0ZWQgbm9uLWNvbnNlY3V0aXZlIDxEcmFnZ2FibGUgLz4gaW5kZXhlcy5cXG5cXG4gICAgKFRoaXMgY2FuIGNhdXNlIHVuZXhwZWN0ZWQgYnVncylcXG5cXG4gICAgXCIgKyBmb3JtYXR0ZWQgKyBcIlxcbiAgXCIpIDogdm9pZCAwO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZURpbWVuc2lvbnMoY3JpdGljYWwsIGRpbWVuc2lvbnMpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgaW5zaWRlRGVzdGluYXRpb24gPSBnZXREcmFnZ2FibGVzSW5zaWRlRHJvcHBhYmxlKGNyaXRpY2FsLmRyb3BwYWJsZS5pZCwgZGltZW5zaW9ucy5kcmFnZ2FibGVzKTtcbiAgICBjaGVja0luZGV4ZXMoaW5zaWRlRGVzdGluYXRpb24pO1xuICB9XG59XG5cbnZhciBsaWZ0JDEgPSAoZnVuY3Rpb24gKG1hcnNoYWwpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIGdldFN0YXRlID0gX3JlZi5nZXRTdGF0ZSxcbiAgICAgICAgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoO1xuICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgaWYgKGFjdGlvbi50eXBlICE9PSAnTElGVCcpIHtcbiAgICAgICAgICBuZXh0KGFjdGlvbik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF9hY3Rpb24kcGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkLFxuICAgICAgICAgICAgaWQgPSBfYWN0aW9uJHBheWxvYWQuaWQsXG4gICAgICAgICAgICBjbGllbnRTZWxlY3Rpb24gPSBfYWN0aW9uJHBheWxvYWQuY2xpZW50U2VsZWN0aW9uLFxuICAgICAgICAgICAgbW92ZW1lbnRNb2RlID0gX2FjdGlvbiRwYXlsb2FkLm1vdmVtZW50TW9kZTtcbiAgICAgICAgdmFyIGluaXRpYWwgPSBnZXRTdGF0ZSgpO1xuXG4gICAgICAgIGlmIChpbml0aWFsLnBoYXNlID09PSAnRFJPUF9BTklNQVRJTkcnKSB7XG4gICAgICAgICAgZGlzcGF0Y2goY29tcGxldGVEcm9wKHtcbiAgICAgICAgICAgIGNvbXBsZXRlZDogaW5pdGlhbC5jb21wbGV0ZWRcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICAhKGdldFN0YXRlKCkucGhhc2UgPT09ICdJRExFJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdVbmV4cGVjdGVkIHBoYXNlIHRvIHN0YXJ0IGEgZHJhZycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgZGlzcGF0Y2goZmx1c2goKSk7XG4gICAgICAgIGRpc3BhdGNoKGJlZm9yZUluaXRpYWxDYXB0dXJlKHtcbiAgICAgICAgICBkcmFnZ2FibGVJZDogaWQsXG4gICAgICAgICAgbW92ZW1lbnRNb2RlOiBtb3ZlbWVudE1vZGVcbiAgICAgICAgfSkpO1xuICAgICAgICB2YXIgc2Nyb2xsT3B0aW9ucyA9IHtcbiAgICAgICAgICBzaG91bGRQdWJsaXNoSW1tZWRpYXRlbHk6IG1vdmVtZW50TW9kZSA9PT0gJ1NOQVAnXG4gICAgICAgIH07XG4gICAgICAgIHZhciByZXF1ZXN0ID0ge1xuICAgICAgICAgIGRyYWdnYWJsZUlkOiBpZCxcbiAgICAgICAgICBzY3JvbGxPcHRpb25zOiBzY3JvbGxPcHRpb25zXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIF9tYXJzaGFsJHN0YXJ0UHVibGlzaCA9IG1hcnNoYWwuc3RhcnRQdWJsaXNoaW5nKHJlcXVlc3QpLFxuICAgICAgICAgICAgY3JpdGljYWwgPSBfbWFyc2hhbCRzdGFydFB1Ymxpc2guY3JpdGljYWwsXG4gICAgICAgICAgICBkaW1lbnNpb25zID0gX21hcnNoYWwkc3RhcnRQdWJsaXNoLmRpbWVuc2lvbnMsXG4gICAgICAgICAgICB2aWV3cG9ydCA9IF9tYXJzaGFsJHN0YXJ0UHVibGlzaC52aWV3cG9ydDtcblxuICAgICAgICB2YWxpZGF0ZURpbWVuc2lvbnMoY3JpdGljYWwsIGRpbWVuc2lvbnMpO1xuICAgICAgICBkaXNwYXRjaChpbml0aWFsUHVibGlzaCh7XG4gICAgICAgICAgY3JpdGljYWw6IGNyaXRpY2FsLFxuICAgICAgICAgIGRpbWVuc2lvbnM6IGRpbWVuc2lvbnMsXG4gICAgICAgICAgY2xpZW50U2VsZWN0aW9uOiBjbGllbnRTZWxlY3Rpb24sXG4gICAgICAgICAgbW92ZW1lbnRNb2RlOiBtb3ZlbWVudE1vZGUsXG4gICAgICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0XG4gICAgICAgIH0pKTtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcbn0pO1xuXG52YXIgc3R5bGUgPSAoZnVuY3Rpb24gKG1hcnNoYWwpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gJ0lOSVRJQUxfUFVCTElTSCcpIHtcbiAgICAgICAgICBtYXJzaGFsLmRyYWdnaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT09ICdEUk9QX0FOSU1BVEUnKSB7XG4gICAgICAgICAgbWFyc2hhbC5kcm9wcGluZyhhY3Rpb24ucGF5bG9hZC5jb21wbGV0ZWQucmVzdWx0LnJlYXNvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT09ICdGTFVTSCcgfHwgYWN0aW9uLnR5cGUgPT09ICdEUk9QX0NPTVBMRVRFJykge1xuICAgICAgICAgIG1hcnNoYWwucmVzdGluZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV4dChhY3Rpb24pO1xuICAgICAgfTtcbiAgICB9O1xuICB9O1xufSk7XG5cbnZhciBjdXJ2ZXMgPSB7XG4gIG91dE9mVGhlV2F5OiAnY3ViaWMtYmV6aWVyKDAuMiwgMCwgMCwgMSknLFxuICBkcm9wOiAnY3ViaWMtYmV6aWVyKC4yLDEsLjEsMSknXG59O1xudmFyIGNvbWJpbmUgPSB7XG4gIG9wYWNpdHk6IHtcbiAgICBkcm9wOiAwLFxuICAgIGNvbWJpbmluZzogMC43XG4gIH0sXG4gIHNjYWxlOiB7XG4gICAgZHJvcDogMC43NVxuICB9XG59O1xudmFyIHRpbWluZ3MgPSB7XG4gIG91dE9mVGhlV2F5OiAwLjIsXG4gIG1pbkRyb3BUaW1lOiAwLjMzLFxuICBtYXhEcm9wVGltZTogMC41NVxufTtcbnZhciBvdXRPZlRoZVdheVRpbWluZyA9IHRpbWluZ3Mub3V0T2ZUaGVXYXkgKyBcInMgXCIgKyBjdXJ2ZXMub3V0T2ZUaGVXYXk7XG52YXIgdHJhbnNpdGlvbnMgPSB7XG4gIGZsdWlkOiBcIm9wYWNpdHkgXCIgKyBvdXRPZlRoZVdheVRpbWluZyxcbiAgc25hcDogXCJ0cmFuc2Zvcm0gXCIgKyBvdXRPZlRoZVdheVRpbWluZyArIFwiLCBvcGFjaXR5IFwiICsgb3V0T2ZUaGVXYXlUaW1pbmcsXG4gIGRyb3A6IGZ1bmN0aW9uIGRyb3AoZHVyYXRpb24pIHtcbiAgICB2YXIgdGltaW5nID0gZHVyYXRpb24gKyBcInMgXCIgKyBjdXJ2ZXMuZHJvcDtcbiAgICByZXR1cm4gXCJ0cmFuc2Zvcm0gXCIgKyB0aW1pbmcgKyBcIiwgb3BhY2l0eSBcIiArIHRpbWluZztcbiAgfSxcbiAgb3V0T2ZUaGVXYXk6IFwidHJhbnNmb3JtIFwiICsgb3V0T2ZUaGVXYXlUaW1pbmcsXG4gIHBsYWNlaG9sZGVyOiBcImhlaWdodCBcIiArIG91dE9mVGhlV2F5VGltaW5nICsgXCIsIHdpZHRoIFwiICsgb3V0T2ZUaGVXYXlUaW1pbmcgKyBcIiwgbWFyZ2luIFwiICsgb3V0T2ZUaGVXYXlUaW1pbmdcbn07XG5cbnZhciBtb3ZlVG8gPSBmdW5jdGlvbiBtb3ZlVG8ob2Zmc2V0KSB7XG4gIHJldHVybiBpc0VxdWFsKG9mZnNldCwgb3JpZ2luKSA/IG51bGwgOiBcInRyYW5zbGF0ZShcIiArIG9mZnNldC54ICsgXCJweCwgXCIgKyBvZmZzZXQueSArIFwicHgpXCI7XG59O1xuXG52YXIgdHJhbnNmb3JtcyA9IHtcbiAgbW92ZVRvOiBtb3ZlVG8sXG4gIGRyb3A6IGZ1bmN0aW9uIGRyb3Aob2Zmc2V0LCBpc0NvbWJpbmluZykge1xuICAgIHZhciB0cmFuc2xhdGUgPSBtb3ZlVG8ob2Zmc2V0KTtcblxuICAgIGlmICghdHJhbnNsYXRlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIWlzQ29tYmluaW5nKSB7XG4gICAgICByZXR1cm4gdHJhbnNsYXRlO1xuICAgIH1cblxuICAgIHJldHVybiB0cmFuc2xhdGUgKyBcIiBzY2FsZShcIiArIGNvbWJpbmUuc2NhbGUuZHJvcCArIFwiKVwiO1xuICB9XG59O1xuXG52YXIgbWluRHJvcFRpbWUgPSB0aW1pbmdzLm1pbkRyb3BUaW1lLFxuICAgIG1heERyb3BUaW1lID0gdGltaW5ncy5tYXhEcm9wVGltZTtcbnZhciBkcm9wVGltZVJhbmdlID0gbWF4RHJvcFRpbWUgLSBtaW5Ecm9wVGltZTtcbnZhciBtYXhEcm9wVGltZUF0RGlzdGFuY2UgPSAxNTAwO1xudmFyIGNhbmNlbERyb3BNb2RpZmllciA9IDAuNjtcbnZhciBnZXREcm9wRHVyYXRpb24gPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGN1cnJlbnQgPSBfcmVmLmN1cnJlbnQsXG4gICAgICBkZXN0aW5hdGlvbiA9IF9yZWYuZGVzdGluYXRpb24sXG4gICAgICByZWFzb24gPSBfcmVmLnJlYXNvbjtcbiAgdmFyIGRpc3RhbmNlJDEgPSBkaXN0YW5jZShjdXJyZW50LCBkZXN0aW5hdGlvbik7XG5cbiAgaWYgKGRpc3RhbmNlJDEgPD0gMCkge1xuICAgIHJldHVybiBtaW5Ecm9wVGltZTtcbiAgfVxuXG4gIGlmIChkaXN0YW5jZSQxID49IG1heERyb3BUaW1lQXREaXN0YW5jZSkge1xuICAgIHJldHVybiBtYXhEcm9wVGltZTtcbiAgfVxuXG4gIHZhciBwZXJjZW50YWdlID0gZGlzdGFuY2UkMSAvIG1heERyb3BUaW1lQXREaXN0YW5jZTtcbiAgdmFyIGR1cmF0aW9uID0gbWluRHJvcFRpbWUgKyBkcm9wVGltZVJhbmdlICogcGVyY2VudGFnZTtcbiAgdmFyIHdpdGhEdXJhdGlvbiA9IHJlYXNvbiA9PT0gJ0NBTkNFTCcgPyBkdXJhdGlvbiAqIGNhbmNlbERyb3BNb2RpZmllciA6IGR1cmF0aW9uO1xuICByZXR1cm4gTnVtYmVyKHdpdGhEdXJhdGlvbi50b0ZpeGVkKDIpKTtcbn0pO1xuXG52YXIgZ2V0TmV3SG9tZUNsaWVudE9mZnNldCA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgaW1wYWN0ID0gX3JlZi5pbXBhY3QsXG4gICAgICBkcmFnZ2FibGUgPSBfcmVmLmRyYWdnYWJsZSxcbiAgICAgIGRpbWVuc2lvbnMgPSBfcmVmLmRpbWVuc2lvbnMsXG4gICAgICB2aWV3cG9ydCA9IF9yZWYudmlld3BvcnQsXG4gICAgICBhZnRlckNyaXRpY2FsID0gX3JlZi5hZnRlckNyaXRpY2FsO1xuICB2YXIgZHJhZ2dhYmxlcyA9IGRpbWVuc2lvbnMuZHJhZ2dhYmxlcyxcbiAgICAgIGRyb3BwYWJsZXMgPSBkaW1lbnNpb25zLmRyb3BwYWJsZXM7XG4gIHZhciBkcm9wcGFibGVJZCA9IHdoYXRJc0RyYWdnZWRPdmVyKGltcGFjdCk7XG4gIHZhciBkZXN0aW5hdGlvbiA9IGRyb3BwYWJsZUlkID8gZHJvcHBhYmxlc1tkcm9wcGFibGVJZF0gOiBudWxsO1xuICB2YXIgaG9tZSA9IGRyb3BwYWJsZXNbZHJhZ2dhYmxlLmRlc2NyaXB0b3IuZHJvcHBhYmxlSWRdO1xuICB2YXIgbmV3Q2xpZW50Q2VudGVyID0gZ2V0Q2xpZW50Qm9yZGVyQm94Q2VudGVyKHtcbiAgICBpbXBhY3Q6IGltcGFjdCxcbiAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICBkcmFnZ2FibGVzOiBkcmFnZ2FibGVzLFxuICAgIGFmdGVyQ3JpdGljYWw6IGFmdGVyQ3JpdGljYWwsXG4gICAgZHJvcHBhYmxlOiBkZXN0aW5hdGlvbiB8fCBob21lLFxuICAgIHZpZXdwb3J0OiB2aWV3cG9ydFxuICB9KTtcbiAgdmFyIG9mZnNldCA9IHN1YnRyYWN0KG5ld0NsaWVudENlbnRlciwgZHJhZ2dhYmxlLmNsaWVudC5ib3JkZXJCb3guY2VudGVyKTtcbiAgcmV0dXJuIG9mZnNldDtcbn0pO1xuXG52YXIgZ2V0RHJvcEltcGFjdCA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgZHJhZ2dhYmxlcyA9IF9yZWYuZHJhZ2dhYmxlcyxcbiAgICAgIHJlYXNvbiA9IF9yZWYucmVhc29uLFxuICAgICAgbGFzdEltcGFjdCA9IF9yZWYubGFzdEltcGFjdCxcbiAgICAgIGhvbWUgPSBfcmVmLmhvbWUsXG4gICAgICB2aWV3cG9ydCA9IF9yZWYudmlld3BvcnQsXG4gICAgICBvbkxpZnRJbXBhY3QgPSBfcmVmLm9uTGlmdEltcGFjdDtcblxuICBpZiAoIWxhc3RJbXBhY3QuYXQgfHwgcmVhc29uICE9PSAnRFJPUCcpIHtcbiAgICB2YXIgcmVjb21wdXRlZEhvbWVJbXBhY3QgPSByZWNvbXB1dGUoe1xuICAgICAgZHJhZ2dhYmxlczogZHJhZ2dhYmxlcyxcbiAgICAgIGltcGFjdDogb25MaWZ0SW1wYWN0LFxuICAgICAgZGVzdGluYXRpb246IGhvbWUsXG4gICAgICB2aWV3cG9ydDogdmlld3BvcnQsXG4gICAgICBmb3JjZVNob3VsZEFuaW1hdGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgaW1wYWN0OiByZWNvbXB1dGVkSG9tZUltcGFjdCxcbiAgICAgIGRpZERyb3BJbnNpZGVEcm9wcGFibGU6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGlmIChsYXN0SW1wYWN0LmF0LnR5cGUgPT09ICdSRU9SREVSJykge1xuICAgIHJldHVybiB7XG4gICAgICBpbXBhY3Q6IGxhc3RJbXBhY3QsXG4gICAgICBkaWREcm9wSW5zaWRlRHJvcHBhYmxlOiB0cnVlXG4gICAgfTtcbiAgfVxuXG4gIHZhciB3aXRob3V0TW92ZW1lbnQgPSBfZXh0ZW5kcyh7fSwgbGFzdEltcGFjdCwge1xuICAgIGRpc3BsYWNlZDogZW1wdHlHcm91cHNcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBpbXBhY3Q6IHdpdGhvdXRNb3ZlbWVudCxcbiAgICBkaWREcm9wSW5zaWRlRHJvcHBhYmxlOiB0cnVlXG4gIH07XG59KTtcblxudmFyIGRyb3AkMSA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgZ2V0U3RhdGUgPSBfcmVmLmdldFN0YXRlLFxuICAgICAgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoO1xuICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgaWYgKGFjdGlvbi50eXBlICE9PSAnRFJPUCcpIHtcbiAgICAgICAgbmV4dChhY3Rpb24pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgICB2YXIgcmVhc29uID0gYWN0aW9uLnBheWxvYWQucmVhc29uO1xuXG4gICAgICBpZiAoc3RhdGUucGhhc2UgPT09ICdDT0xMRUNUSU5HJykge1xuICAgICAgICBkaXNwYXRjaChkcm9wUGVuZGluZyh7XG4gICAgICAgICAgcmVhc29uOiByZWFzb25cbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZS5waGFzZSA9PT0gJ0lETEUnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGlzV2FpdGluZ0ZvckRyb3AgPSBzdGF0ZS5waGFzZSA9PT0gJ0RST1BfUEVORElORycgJiYgc3RhdGUuaXNXYWl0aW5nO1xuICAgICAgISFpc1dhaXRpbmdGb3JEcm9wID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQSBEUk9QIGFjdGlvbiBvY2N1cnJlZCB3aGlsZSBEUk9QX1BFTkRJTkcgYW5kIHN0aWxsIHdhaXRpbmcnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAhKHN0YXRlLnBoYXNlID09PSAnRFJBR0dJTkcnIHx8IHN0YXRlLnBoYXNlID09PSAnRFJPUF9QRU5ESU5HJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiQ2Fubm90IGRyb3AgaW4gcGhhc2U6IFwiICsgc3RhdGUucGhhc2UpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHZhciBjcml0aWNhbCA9IHN0YXRlLmNyaXRpY2FsO1xuICAgICAgdmFyIGRpbWVuc2lvbnMgPSBzdGF0ZS5kaW1lbnNpb25zO1xuICAgICAgdmFyIGRyYWdnYWJsZSA9IGRpbWVuc2lvbnMuZHJhZ2dhYmxlc1tzdGF0ZS5jcml0aWNhbC5kcmFnZ2FibGUuaWRdO1xuXG4gICAgICB2YXIgX2dldERyb3BJbXBhY3QgPSBnZXREcm9wSW1wYWN0KHtcbiAgICAgICAgcmVhc29uOiByZWFzb24sXG4gICAgICAgIGxhc3RJbXBhY3Q6IHN0YXRlLmltcGFjdCxcbiAgICAgICAgYWZ0ZXJDcml0aWNhbDogc3RhdGUuYWZ0ZXJDcml0aWNhbCxcbiAgICAgICAgb25MaWZ0SW1wYWN0OiBzdGF0ZS5vbkxpZnRJbXBhY3QsXG4gICAgICAgIGhvbWU6IHN0YXRlLmRpbWVuc2lvbnMuZHJvcHBhYmxlc1tzdGF0ZS5jcml0aWNhbC5kcm9wcGFibGUuaWRdLFxuICAgICAgICB2aWV3cG9ydDogc3RhdGUudmlld3BvcnQsXG4gICAgICAgIGRyYWdnYWJsZXM6IHN0YXRlLmRpbWVuc2lvbnMuZHJhZ2dhYmxlc1xuICAgICAgfSksXG4gICAgICAgICAgaW1wYWN0ID0gX2dldERyb3BJbXBhY3QuaW1wYWN0LFxuICAgICAgICAgIGRpZERyb3BJbnNpZGVEcm9wcGFibGUgPSBfZ2V0RHJvcEltcGFjdC5kaWREcm9wSW5zaWRlRHJvcHBhYmxlO1xuXG4gICAgICB2YXIgZGVzdGluYXRpb24gPSBkaWREcm9wSW5zaWRlRHJvcHBhYmxlID8gdHJ5R2V0RGVzdGluYXRpb24oaW1wYWN0KSA6IG51bGw7XG4gICAgICB2YXIgY29tYmluZSA9IGRpZERyb3BJbnNpZGVEcm9wcGFibGUgPyB0cnlHZXRDb21iaW5lKGltcGFjdCkgOiBudWxsO1xuICAgICAgdmFyIHNvdXJjZSA9IHtcbiAgICAgICAgaW5kZXg6IGNyaXRpY2FsLmRyYWdnYWJsZS5pbmRleCxcbiAgICAgICAgZHJvcHBhYmxlSWQ6IGNyaXRpY2FsLmRyb3BwYWJsZS5pZFxuICAgICAgfTtcbiAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgIGRyYWdnYWJsZUlkOiBkcmFnZ2FibGUuZGVzY3JpcHRvci5pZCxcbiAgICAgICAgdHlwZTogZHJhZ2dhYmxlLmRlc2NyaXB0b3IudHlwZSxcbiAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgIHJlYXNvbjogcmVhc29uLFxuICAgICAgICBtb2RlOiBzdGF0ZS5tb3ZlbWVudE1vZGUsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbixcbiAgICAgICAgY29tYmluZTogY29tYmluZVxuICAgICAgfTtcbiAgICAgIHZhciBuZXdIb21lQ2xpZW50T2Zmc2V0ID0gZ2V0TmV3SG9tZUNsaWVudE9mZnNldCh7XG4gICAgICAgIGltcGFjdDogaW1wYWN0LFxuICAgICAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICAgICAgZGltZW5zaW9uczogZGltZW5zaW9ucyxcbiAgICAgICAgdmlld3BvcnQ6IHN0YXRlLnZpZXdwb3J0LFxuICAgICAgICBhZnRlckNyaXRpY2FsOiBzdGF0ZS5hZnRlckNyaXRpY2FsXG4gICAgICB9KTtcbiAgICAgIHZhciBjb21wbGV0ZWQgPSB7XG4gICAgICAgIGNyaXRpY2FsOiBzdGF0ZS5jcml0aWNhbCxcbiAgICAgICAgYWZ0ZXJDcml0aWNhbDogc3RhdGUuYWZ0ZXJDcml0aWNhbCxcbiAgICAgICAgcmVzdWx0OiByZXN1bHQsXG4gICAgICAgIGltcGFjdDogaW1wYWN0XG4gICAgICB9O1xuICAgICAgdmFyIGlzQW5pbWF0aW9uUmVxdWlyZWQgPSAhaXNFcXVhbChzdGF0ZS5jdXJyZW50LmNsaWVudC5vZmZzZXQsIG5ld0hvbWVDbGllbnRPZmZzZXQpIHx8IEJvb2xlYW4ocmVzdWx0LmNvbWJpbmUpO1xuXG4gICAgICBpZiAoIWlzQW5pbWF0aW9uUmVxdWlyZWQpIHtcbiAgICAgICAgZGlzcGF0Y2goY29tcGxldGVEcm9wKHtcbiAgICAgICAgICBjb21wbGV0ZWQ6IGNvbXBsZXRlZFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGRyb3BEdXJhdGlvbiA9IGdldERyb3BEdXJhdGlvbih7XG4gICAgICAgIGN1cnJlbnQ6IHN0YXRlLmN1cnJlbnQuY2xpZW50Lm9mZnNldCxcbiAgICAgICAgZGVzdGluYXRpb246IG5ld0hvbWVDbGllbnRPZmZzZXQsXG4gICAgICAgIHJlYXNvbjogcmVhc29uXG4gICAgICB9KTtcbiAgICAgIHZhciBhcmdzID0ge1xuICAgICAgICBuZXdIb21lQ2xpZW50T2Zmc2V0OiBuZXdIb21lQ2xpZW50T2Zmc2V0LFxuICAgICAgICBkcm9wRHVyYXRpb246IGRyb3BEdXJhdGlvbixcbiAgICAgICAgY29tcGxldGVkOiBjb21wbGV0ZWRcbiAgICAgIH07XG4gICAgICBkaXNwYXRjaChhbmltYXRlRHJvcChhcmdzKSk7XG4gICAgfTtcbiAgfTtcbn0pO1xuXG52YXIgZ2V0V2luZG93U2Nyb2xsID0gKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiB3aW5kb3cucGFnZVhPZmZzZXQsXG4gICAgeTogd2luZG93LnBhZ2VZT2Zmc2V0XG4gIH07XG59KTtcblxuZnVuY3Rpb24gZ2V0V2luZG93U2Nyb2xsQmluZGluZyh1cGRhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICBldmVudE5hbWU6ICdzY3JvbGwnLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICBjYXB0dXJlOiBmYWxzZVxuICAgIH0sXG4gICAgZm46IGZ1bmN0aW9uIGZuKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ICE9PSB3aW5kb3cgJiYgZXZlbnQudGFyZ2V0ICE9PSB3aW5kb3cuZG9jdW1lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUoKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFNjcm9sbExpc3RlbmVyKF9yZWYpIHtcbiAgdmFyIG9uV2luZG93U2Nyb2xsID0gX3JlZi5vbldpbmRvd1Njcm9sbDtcblxuICBmdW5jdGlvbiB1cGRhdGVTY3JvbGwoKSB7XG4gICAgb25XaW5kb3dTY3JvbGwoZ2V0V2luZG93U2Nyb2xsKCkpO1xuICB9XG5cbiAgdmFyIHNjaGVkdWxlZCA9IHJhZlNjaGQodXBkYXRlU2Nyb2xsKTtcbiAgdmFyIGJpbmRpbmcgPSBnZXRXaW5kb3dTY3JvbGxCaW5kaW5nKHNjaGVkdWxlZCk7XG4gIHZhciB1bmJpbmQgPSBub29wO1xuXG4gIGZ1bmN0aW9uIGlzQWN0aXZlKCkge1xuICAgIHJldHVybiB1bmJpbmQgIT09IG5vb3A7XG4gIH1cblxuICBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAhIWlzQWN0aXZlKCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3Qgc3RhcnQgc2Nyb2xsIGxpc3RlbmVyIHdoZW4gYWxyZWFkeSBhY3RpdmUnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdW5iaW5kID0gYmluZEV2ZW50cyh3aW5kb3csIFtiaW5kaW5nXSk7XG4gIH1cblxuICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICFpc0FjdGl2ZSgpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IHN0b3Agc2Nyb2xsIGxpc3RlbmVyIHdoZW4gbm90IGFjdGl2ZScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBzY2hlZHVsZWQuY2FuY2VsKCk7XG4gICAgdW5iaW5kKCk7XG4gICAgdW5iaW5kID0gbm9vcDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IHN0YXJ0LFxuICAgIHN0b3A6IHN0b3AsXG4gICAgaXNBY3RpdmU6IGlzQWN0aXZlXG4gIH07XG59XG5cbnZhciBzaG91bGRFbmQgPSBmdW5jdGlvbiBzaG91bGRFbmQoYWN0aW9uKSB7XG4gIHJldHVybiBhY3Rpb24udHlwZSA9PT0gJ0RST1BfQ09NUExFVEUnIHx8IGFjdGlvbi50eXBlID09PSAnRFJPUF9BTklNQVRFJyB8fCBhY3Rpb24udHlwZSA9PT0gJ0ZMVVNIJztcbn07XG5cbnZhciBzY3JvbGxMaXN0ZW5lciA9IChmdW5jdGlvbiAoc3RvcmUpIHtcbiAgdmFyIGxpc3RlbmVyID0gZ2V0U2Nyb2xsTGlzdGVuZXIoe1xuICAgIG9uV2luZG93U2Nyb2xsOiBmdW5jdGlvbiBvbldpbmRvd1Njcm9sbChuZXdTY3JvbGwpIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKG1vdmVCeVdpbmRvd1Njcm9sbCh7XG4gICAgICAgIG5ld1Njcm9sbDogbmV3U2Nyb2xsXG4gICAgICB9KSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgIGlmICghbGlzdGVuZXIuaXNBY3RpdmUoKSAmJiBhY3Rpb24udHlwZSA9PT0gJ0lOSVRJQUxfUFVCTElTSCcpIHtcbiAgICAgICAgbGlzdGVuZXIuc3RhcnQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxpc3RlbmVyLmlzQWN0aXZlKCkgJiYgc2hvdWxkRW5kKGFjdGlvbikpIHtcbiAgICAgICAgbGlzdGVuZXIuc3RvcCgpO1xuICAgICAgfVxuXG4gICAgICBuZXh0KGFjdGlvbik7XG4gICAgfTtcbiAgfTtcbn0pO1xuXG52YXIgZ2V0RXhwaXJpbmdBbm5vdW5jZSA9IChmdW5jdGlvbiAoYW5ub3VuY2UpIHtcbiAgdmFyIHdhc0NhbGxlZCA9IGZhbHNlO1xuICB2YXIgaXNFeHBpcmVkID0gZmFsc2U7XG4gIHZhciB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBpc0V4cGlyZWQgPSB0cnVlO1xuICB9KTtcblxuICB2YXIgcmVzdWx0ID0gZnVuY3Rpb24gcmVzdWx0KG1lc3NhZ2UpIHtcbiAgICBpZiAod2FzQ2FsbGVkKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCdBbm5vdW5jZW1lbnQgYWxyZWFkeSBtYWRlLiBOb3QgbWFraW5nIGEgc2Vjb25kIGFubm91bmNlbWVudCcpIDogdm9pZCAwO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc0V4cGlyZWQpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoXCJcXG4gICAgICAgIEFubm91bmNlbWVudHMgY2Fubm90IGJlIG1hZGUgYXN5bmNocm9ub3VzbHkuXFxuICAgICAgICBEZWZhdWx0IG1lc3NhZ2UgaGFzIGFscmVhZHkgYmVlbiBhbm5vdW5jZWQuXFxuICAgICAgXCIpIDogdm9pZCAwO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdhc0NhbGxlZCA9IHRydWU7XG4gICAgYW5ub3VuY2UobWVzc2FnZSk7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gIH07XG5cbiAgcmVzdWx0Lndhc0NhbGxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gd2FzQ2FsbGVkO1xuICB9O1xuXG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxudmFyIGdldEFzeW5jTWFyc2hhbCA9IChmdW5jdGlvbiAoKSB7XG4gIHZhciBlbnRyaWVzID0gW107XG5cbiAgdmFyIGV4ZWN1dGUgPSBmdW5jdGlvbiBleGVjdXRlKHRpbWVySWQpIHtcbiAgICB2YXIgaW5kZXggPSBmaW5kSW5kZXgoZW50cmllcywgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLnRpbWVySWQgPT09IHRpbWVySWQ7XG4gICAgfSk7XG4gICAgIShpbmRleCAhPT0gLTEpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ291bGQgbm90IGZpbmQgdGltZXInKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG5cbiAgICB2YXIgX2VudHJpZXMkc3BsaWNlID0gZW50cmllcy5zcGxpY2UoaW5kZXgsIDEpLFxuICAgICAgICBlbnRyeSA9IF9lbnRyaWVzJHNwbGljZVswXTtcblxuICAgIGVudHJ5LmNhbGxiYWNrKCk7XG4gIH07XG5cbiAgdmFyIGFkZCA9IGZ1bmN0aW9uIGFkZChmbikge1xuICAgIHZhciB0aW1lcklkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZXhlY3V0ZSh0aW1lcklkKTtcbiAgICB9KTtcbiAgICB2YXIgZW50cnkgPSB7XG4gICAgICB0aW1lcklkOiB0aW1lcklkLFxuICAgICAgY2FsbGJhY2s6IGZuXG4gICAgfTtcbiAgICBlbnRyaWVzLnB1c2goZW50cnkpO1xuICB9O1xuXG4gIHZhciBmbHVzaCA9IGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIGlmICghZW50cmllcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgc2hhbGxvdyA9IFtdLmNvbmNhdChlbnRyaWVzKTtcbiAgICBlbnRyaWVzLmxlbmd0aCA9IDA7XG4gICAgc2hhbGxvdy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgY2xlYXJUaW1lb3V0KGVudHJ5LnRpbWVySWQpO1xuICAgICAgZW50cnkuY2FsbGJhY2soKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGFkZDogYWRkLFxuICAgIGZsdXNoOiBmbHVzaFxuICB9O1xufSk7XG5cbnZhciBhcmVMb2NhdGlvbnNFcXVhbCA9IGZ1bmN0aW9uIGFyZUxvY2F0aW9uc0VxdWFsKGZpcnN0LCBzZWNvbmQpIHtcbiAgaWYgKGZpcnN0ID09IG51bGwgJiYgc2Vjb25kID09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChmaXJzdCA9PSBudWxsIHx8IHNlY29uZCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGZpcnN0LmRyb3BwYWJsZUlkID09PSBzZWNvbmQuZHJvcHBhYmxlSWQgJiYgZmlyc3QuaW5kZXggPT09IHNlY29uZC5pbmRleDtcbn07XG52YXIgaXNDb21iaW5lRXF1YWwgPSBmdW5jdGlvbiBpc0NvbWJpbmVFcXVhbChmaXJzdCwgc2Vjb25kKSB7XG4gIGlmIChmaXJzdCA9PSBudWxsICYmIHNlY29uZCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoZmlyc3QgPT0gbnVsbCB8fCBzZWNvbmQgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBmaXJzdC5kcmFnZ2FibGVJZCA9PT0gc2Vjb25kLmRyYWdnYWJsZUlkICYmIGZpcnN0LmRyb3BwYWJsZUlkID09PSBzZWNvbmQuZHJvcHBhYmxlSWQ7XG59O1xudmFyIGlzQ3JpdGljYWxFcXVhbCA9IGZ1bmN0aW9uIGlzQ3JpdGljYWxFcXVhbChmaXJzdCwgc2Vjb25kKSB7XG4gIGlmIChmaXJzdCA9PT0gc2Vjb25kKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB2YXIgaXNEcmFnZ2FibGVFcXVhbCA9IGZpcnN0LmRyYWdnYWJsZS5pZCA9PT0gc2Vjb25kLmRyYWdnYWJsZS5pZCAmJiBmaXJzdC5kcmFnZ2FibGUuZHJvcHBhYmxlSWQgPT09IHNlY29uZC5kcmFnZ2FibGUuZHJvcHBhYmxlSWQgJiYgZmlyc3QuZHJhZ2dhYmxlLnR5cGUgPT09IHNlY29uZC5kcmFnZ2FibGUudHlwZSAmJiBmaXJzdC5kcmFnZ2FibGUuaW5kZXggPT09IHNlY29uZC5kcmFnZ2FibGUuaW5kZXg7XG4gIHZhciBpc0Ryb3BwYWJsZUVxdWFsID0gZmlyc3QuZHJvcHBhYmxlLmlkID09PSBzZWNvbmQuZHJvcHBhYmxlLmlkICYmIGZpcnN0LmRyb3BwYWJsZS50eXBlID09PSBzZWNvbmQuZHJvcHBhYmxlLnR5cGU7XG4gIHJldHVybiBpc0RyYWdnYWJsZUVxdWFsICYmIGlzRHJvcHBhYmxlRXF1YWw7XG59O1xuXG52YXIgd2l0aFRpbWluZ3MgPSBmdW5jdGlvbiB3aXRoVGltaW5ncyhrZXksIGZuKSB7XG4gIHN0YXJ0KCk7XG4gIGZuKCk7XG4gIGZpbmlzaCgpO1xufTtcblxudmFyIGdldERyYWdTdGFydCA9IGZ1bmN0aW9uIGdldERyYWdTdGFydChjcml0aWNhbCwgbW9kZSkge1xuICByZXR1cm4ge1xuICAgIGRyYWdnYWJsZUlkOiBjcml0aWNhbC5kcmFnZ2FibGUuaWQsXG4gICAgdHlwZTogY3JpdGljYWwuZHJvcHBhYmxlLnR5cGUsXG4gICAgc291cmNlOiB7XG4gICAgICBkcm9wcGFibGVJZDogY3JpdGljYWwuZHJvcHBhYmxlLmlkLFxuICAgICAgaW5kZXg6IGNyaXRpY2FsLmRyYWdnYWJsZS5pbmRleFxuICAgIH0sXG4gICAgbW9kZTogbW9kZVxuICB9O1xufTtcblxudmFyIGV4ZWN1dGUgPSBmdW5jdGlvbiBleGVjdXRlKHJlc3BvbmRlciwgZGF0YSwgYW5ub3VuY2UsIGdldERlZmF1bHRNZXNzYWdlKSB7XG4gIGlmICghcmVzcG9uZGVyKSB7XG4gICAgYW5ub3VuY2UoZ2V0RGVmYXVsdE1lc3NhZ2UoZGF0YSkpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciB3aWxsRXhwaXJlID0gZ2V0RXhwaXJpbmdBbm5vdW5jZShhbm5vdW5jZSk7XG4gIHZhciBwcm92aWRlZCA9IHtcbiAgICBhbm5vdW5jZTogd2lsbEV4cGlyZVxuICB9O1xuICByZXNwb25kZXIoZGF0YSwgcHJvdmlkZWQpO1xuXG4gIGlmICghd2lsbEV4cGlyZS53YXNDYWxsZWQoKSkge1xuICAgIGFubm91bmNlKGdldERlZmF1bHRNZXNzYWdlKGRhdGEpKTtcbiAgfVxufTtcblxudmFyIGdldFB1Ymxpc2hlciA9IChmdW5jdGlvbiAoZ2V0UmVzcG9uZGVycywgYW5ub3VuY2UpIHtcbiAgdmFyIGFzeW5jTWFyc2hhbCA9IGdldEFzeW5jTWFyc2hhbCgpO1xuICB2YXIgZHJhZ2dpbmcgPSBudWxsO1xuXG4gIHZhciBiZWZvcmVDYXB0dXJlID0gZnVuY3Rpb24gYmVmb3JlQ2FwdHVyZShkcmFnZ2FibGVJZCwgbW9kZSkge1xuICAgICEhZHJhZ2dpbmcgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgZmlyZSBvbkJlZm9yZUNhcHR1cmUgYXMgYSBkcmFnIHN0YXJ0IGhhcyBhbHJlYWR5IGJlZW4gcHVibGlzaGVkJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHdpdGhUaW1pbmdzKCdvbkJlZm9yZUNhcHR1cmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZm4gPSBnZXRSZXNwb25kZXJzKCkub25CZWZvcmVDYXB0dXJlO1xuXG4gICAgICBpZiAoZm4pIHtcbiAgICAgICAgdmFyIGJlZm9yZSA9IHtcbiAgICAgICAgICBkcmFnZ2FibGVJZDogZHJhZ2dhYmxlSWQsXG4gICAgICAgICAgbW9kZTogbW9kZVxuICAgICAgICB9O1xuICAgICAgICBmbihiZWZvcmUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBiZWZvcmVTdGFydCA9IGZ1bmN0aW9uIGJlZm9yZVN0YXJ0KGNyaXRpY2FsLCBtb2RlKSB7XG4gICAgISFkcmFnZ2luZyA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBmaXJlIG9uQmVmb3JlRHJhZ1N0YXJ0IGFzIGEgZHJhZyBzdGFydCBoYXMgYWxyZWFkeSBiZWVuIHB1Ymxpc2hlZCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB3aXRoVGltaW5ncygnb25CZWZvcmVEcmFnU3RhcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZm4gPSBnZXRSZXNwb25kZXJzKCkub25CZWZvcmVEcmFnU3RhcnQ7XG5cbiAgICAgIGlmIChmbikge1xuICAgICAgICBmbihnZXREcmFnU3RhcnQoY3JpdGljYWwsIG1vZGUpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgc3RhcnQgPSBmdW5jdGlvbiBzdGFydChjcml0aWNhbCwgbW9kZSkge1xuICAgICEhZHJhZ2dpbmcgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgZmlyZSBvbkJlZm9yZURyYWdTdGFydCBhcyBhIGRyYWcgc3RhcnQgaGFzIGFscmVhZHkgYmVlbiBwdWJsaXNoZWQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGRhdGEgPSBnZXREcmFnU3RhcnQoY3JpdGljYWwsIG1vZGUpO1xuICAgIGRyYWdnaW5nID0ge1xuICAgICAgbW9kZTogbW9kZSxcbiAgICAgIGxhc3RDcml0aWNhbDogY3JpdGljYWwsXG4gICAgICBsYXN0TG9jYXRpb246IGRhdGEuc291cmNlLFxuICAgICAgbGFzdENvbWJpbmU6IG51bGxcbiAgICB9O1xuICAgIGFzeW5jTWFyc2hhbC5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgd2l0aFRpbWluZ3MoJ29uRHJhZ1N0YXJ0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZXhlY3V0ZShnZXRSZXNwb25kZXJzKCkub25EcmFnU3RhcnQsIGRhdGEsIGFubm91bmNlLCBwcmVzZXQub25EcmFnU3RhcnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShjcml0aWNhbCwgaW1wYWN0KSB7XG4gICAgdmFyIGxvY2F0aW9uID0gdHJ5R2V0RGVzdGluYXRpb24oaW1wYWN0KTtcbiAgICB2YXIgY29tYmluZSA9IHRyeUdldENvbWJpbmUoaW1wYWN0KTtcbiAgICAhZHJhZ2dpbmcgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgZmlyZSBvbkRyYWdNb3ZlIHdoZW4gb25EcmFnU3RhcnQgaGFzIG5vdCBiZWVuIGNhbGxlZCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgaGFzQ3JpdGljYWxDaGFuZ2VkID0gIWlzQ3JpdGljYWxFcXVhbChjcml0aWNhbCwgZHJhZ2dpbmcubGFzdENyaXRpY2FsKTtcblxuICAgIGlmIChoYXNDcml0aWNhbENoYW5nZWQpIHtcbiAgICAgIGRyYWdnaW5nLmxhc3RDcml0aWNhbCA9IGNyaXRpY2FsO1xuICAgIH1cblxuICAgIHZhciBoYXNMb2NhdGlvbkNoYW5nZWQgPSAhYXJlTG9jYXRpb25zRXF1YWwoZHJhZ2dpbmcubGFzdExvY2F0aW9uLCBsb2NhdGlvbik7XG5cbiAgICBpZiAoaGFzTG9jYXRpb25DaGFuZ2VkKSB7XG4gICAgICBkcmFnZ2luZy5sYXN0TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICB9XG5cbiAgICB2YXIgaGFzR3JvdXBpbmdDaGFuZ2VkID0gIWlzQ29tYmluZUVxdWFsKGRyYWdnaW5nLmxhc3RDb21iaW5lLCBjb21iaW5lKTtcblxuICAgIGlmIChoYXNHcm91cGluZ0NoYW5nZWQpIHtcbiAgICAgIGRyYWdnaW5nLmxhc3RDb21iaW5lID0gY29tYmluZTtcbiAgICB9XG5cbiAgICBpZiAoIWhhc0NyaXRpY2FsQ2hhbmdlZCAmJiAhaGFzTG9jYXRpb25DaGFuZ2VkICYmICFoYXNHcm91cGluZ0NoYW5nZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZGF0YSA9IF9leHRlbmRzKHt9LCBnZXREcmFnU3RhcnQoY3JpdGljYWwsIGRyYWdnaW5nLm1vZGUpLCB7XG4gICAgICBjb21iaW5lOiBjb21iaW5lLFxuICAgICAgZGVzdGluYXRpb246IGxvY2F0aW9uXG4gICAgfSk7XG5cbiAgICBhc3luY01hcnNoYWwuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgIHdpdGhUaW1pbmdzKCdvbkRyYWdVcGRhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBleGVjdXRlKGdldFJlc3BvbmRlcnMoKS5vbkRyYWdVcGRhdGUsIGRhdGEsIGFubm91bmNlLCBwcmVzZXQub25EcmFnVXBkYXRlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBmbHVzaCA9IGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICFkcmFnZ2luZyA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0NhbiBvbmx5IGZsdXNoIHJlc3BvbmRlcnMgd2hpbGUgZHJhZ2dpbmcnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgYXN5bmNNYXJzaGFsLmZsdXNoKCk7XG4gIH07XG5cbiAgdmFyIGRyb3AgPSBmdW5jdGlvbiBkcm9wKHJlc3VsdCkge1xuICAgICFkcmFnZ2luZyA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBmaXJlIG9uRHJhZ0VuZCB3aGVuIHRoZXJlIGlzIG5vIG1hdGNoaW5nIG9uRHJhZ1N0YXJ0JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGRyYWdnaW5nID0gbnVsbDtcbiAgICB3aXRoVGltaW5ncygnb25EcmFnRW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGV4ZWN1dGUoZ2V0UmVzcG9uZGVycygpLm9uRHJhZ0VuZCwgcmVzdWx0LCBhbm5vdW5jZSwgcHJlc2V0Lm9uRHJhZ0VuZCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGFib3J0ID0gZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgaWYgKCFkcmFnZ2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciByZXN1bHQgPSBfZXh0ZW5kcyh7fSwgZ2V0RHJhZ1N0YXJ0KGRyYWdnaW5nLmxhc3RDcml0aWNhbCwgZHJhZ2dpbmcubW9kZSksIHtcbiAgICAgIGNvbWJpbmU6IG51bGwsXG4gICAgICBkZXN0aW5hdGlvbjogbnVsbCxcbiAgICAgIHJlYXNvbjogJ0NBTkNFTCdcbiAgICB9KTtcblxuICAgIGRyb3AocmVzdWx0KTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGJlZm9yZUNhcHR1cmU6IGJlZm9yZUNhcHR1cmUsXG4gICAgYmVmb3JlU3RhcnQ6IGJlZm9yZVN0YXJ0LFxuICAgIHN0YXJ0OiBzdGFydCxcbiAgICB1cGRhdGU6IHVwZGF0ZSxcbiAgICBmbHVzaDogZmx1c2gsXG4gICAgZHJvcDogZHJvcCxcbiAgICBhYm9ydDogYWJvcnRcbiAgfTtcbn0pO1xuXG52YXIgcmVzcG9uZGVycyA9IChmdW5jdGlvbiAoZ2V0UmVzcG9uZGVycywgYW5ub3VuY2UpIHtcbiAgdmFyIHB1Ymxpc2hlciA9IGdldFB1Ymxpc2hlcihnZXRSZXNwb25kZXJzLCBhbm5vdW5jZSk7XG4gIHJldHVybiBmdW5jdGlvbiAoc3RvcmUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gJ0JFRk9SRV9JTklUSUFMX0NBUFRVUkUnKSB7XG4gICAgICAgICAgcHVibGlzaGVyLmJlZm9yZUNhcHR1cmUoYWN0aW9uLnBheWxvYWQuZHJhZ2dhYmxlSWQsIGFjdGlvbi5wYXlsb2FkLm1vdmVtZW50TW9kZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFjdGlvbi50eXBlID09PSAnSU5JVElBTF9QVUJMSVNIJykge1xuICAgICAgICAgIHZhciBjcml0aWNhbCA9IGFjdGlvbi5wYXlsb2FkLmNyaXRpY2FsO1xuICAgICAgICAgIHB1Ymxpc2hlci5iZWZvcmVTdGFydChjcml0aWNhbCwgYWN0aW9uLnBheWxvYWQubW92ZW1lbnRNb2RlKTtcbiAgICAgICAgICBuZXh0KGFjdGlvbik7XG4gICAgICAgICAgcHVibGlzaGVyLnN0YXJ0KGNyaXRpY2FsLCBhY3Rpb24ucGF5bG9hZC5tb3ZlbWVudE1vZGUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gJ0RST1BfQ09NUExFVEUnKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGFjdGlvbi5wYXlsb2FkLmNvbXBsZXRlZC5yZXN1bHQ7XG4gICAgICAgICAgcHVibGlzaGVyLmZsdXNoKCk7XG4gICAgICAgICAgbmV4dChhY3Rpb24pO1xuICAgICAgICAgIHB1Ymxpc2hlci5kcm9wKHJlc3VsdCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV4dChhY3Rpb24pO1xuXG4gICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gJ0ZMVVNIJykge1xuICAgICAgICAgIHB1Ymxpc2hlci5hYm9ydCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG5cbiAgICAgICAgaWYgKHN0YXRlLnBoYXNlID09PSAnRFJBR0dJTkcnKSB7XG4gICAgICAgICAgcHVibGlzaGVyLnVwZGF0ZShzdGF0ZS5jcml0aWNhbCwgc3RhdGUuaW1wYWN0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuICB9O1xufSk7XG5cbnZhciBkcm9wQW5pbWF0aW9uRmluaXNoID0gKGZ1bmN0aW9uIChzdG9yZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgaWYgKGFjdGlvbi50eXBlICE9PSAnRFJPUF9BTklNQVRJT05fRklOSVNIRUQnKSB7XG4gICAgICAgIG5leHQoYWN0aW9uKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgIShzdGF0ZS5waGFzZSA9PT0gJ0RST1BfQU5JTUFUSU5HJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgZmluaXNoIGEgZHJvcCBhbmltYXRpbmcgd2hlbiBubyBkcm9wIGlzIG9jY3VycmluZycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKGNvbXBsZXRlRHJvcCh7XG4gICAgICAgIGNvbXBsZXRlZDogc3RhdGUuY29tcGxldGVkXG4gICAgICB9KSk7XG4gICAgfTtcbiAgfTtcbn0pO1xuXG52YXIgZHJvcEFuaW1hdGlvbkZsdXNoT25TY3JvbGwgPSAoZnVuY3Rpb24gKHN0b3JlKSB7XG4gIHZhciB1bmJpbmQgPSBudWxsO1xuICB2YXIgZnJhbWVJZCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgaWYgKGZyYW1lSWQpIHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGZyYW1lSWQpO1xuICAgICAgZnJhbWVJZCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHVuYmluZCkge1xuICAgICAgdW5iaW5kKCk7XG4gICAgICB1bmJpbmQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICBpZiAoYWN0aW9uLnR5cGUgPT09ICdGTFVTSCcgfHwgYWN0aW9uLnR5cGUgPT09ICdEUk9QX0NPTVBMRVRFJyB8fCBhY3Rpb24udHlwZSA9PT0gJ0RST1BfQU5JTUFUSU9OX0ZJTklTSEVEJykge1xuICAgICAgICBjbGVhcigpO1xuICAgICAgfVxuXG4gICAgICBuZXh0KGFjdGlvbik7XG5cbiAgICAgIGlmIChhY3Rpb24udHlwZSAhPT0gJ0RST1BfQU5JTUFURScpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgYmluZGluZyA9IHtcbiAgICAgICAgZXZlbnROYW1lOiAnc2Nyb2xsJyxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIGNhcHR1cmU6IHRydWUsXG4gICAgICAgICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBmbjogZnVuY3Rpb24gZmx1c2hEcm9wQW5pbWF0aW9uKCkge1xuICAgICAgICAgIHZhciBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG5cbiAgICAgICAgICBpZiAoc3RhdGUucGhhc2UgPT09ICdEUk9QX0FOSU1BVElORycpIHtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKGRyb3BBbmltYXRpb25GaW5pc2hlZCgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBmcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnJhbWVJZCA9IG51bGw7XG4gICAgICAgIHVuYmluZCA9IGJpbmRFdmVudHMod2luZG93LCBbYmluZGluZ10pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcbn0pO1xuXG52YXIgZGltZW5zaW9uTWFyc2hhbFN0b3BwZXIgPSAoZnVuY3Rpb24gKG1hcnNoYWwpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gJ0RST1BfQ09NUExFVEUnIHx8IGFjdGlvbi50eXBlID09PSAnRkxVU0gnIHx8IGFjdGlvbi50eXBlID09PSAnRFJPUF9BTklNQVRFJykge1xuICAgICAgICAgIG1hcnNoYWwuc3RvcFB1Ymxpc2hpbmcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5leHQoYWN0aW9uKTtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcbn0pO1xuXG52YXIgZm9jdXMgPSAoZnVuY3Rpb24gKG1hcnNoYWwpIHtcbiAgdmFyIGlzV2F0Y2hpbmcgPSBmYWxzZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gJ0lOSVRJQUxfUFVCTElTSCcpIHtcbiAgICAgICAgICBpc1dhdGNoaW5nID0gdHJ1ZTtcbiAgICAgICAgICBtYXJzaGFsLnRyeVJlY29yZEZvY3VzKGFjdGlvbi5wYXlsb2FkLmNyaXRpY2FsLmRyYWdnYWJsZS5pZCk7XG4gICAgICAgICAgbmV4dChhY3Rpb24pO1xuICAgICAgICAgIG1hcnNoYWwudHJ5UmVzdG9yZUZvY3VzUmVjb3JkZWQoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0KGFjdGlvbik7XG5cbiAgICAgICAgaWYgKCFpc1dhdGNoaW5nKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFjdGlvbi50eXBlID09PSAnRkxVU0gnKSB7XG4gICAgICAgICAgaXNXYXRjaGluZyA9IGZhbHNlO1xuICAgICAgICAgIG1hcnNoYWwudHJ5UmVzdG9yZUZvY3VzUmVjb3JkZWQoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT09ICdEUk9QX0NPTVBMRVRFJykge1xuICAgICAgICAgIGlzV2F0Y2hpbmcgPSBmYWxzZTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gYWN0aW9uLnBheWxvYWQuY29tcGxldGVkLnJlc3VsdDtcblxuICAgICAgICAgIGlmIChyZXN1bHQuY29tYmluZSkge1xuICAgICAgICAgICAgbWFyc2hhbC50cnlTaGlmdFJlY29yZChyZXN1bHQuZHJhZ2dhYmxlSWQsIHJlc3VsdC5jb21iaW5lLmRyYWdnYWJsZUlkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBtYXJzaGFsLnRyeVJlc3RvcmVGb2N1c1JlY29yZGVkKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgfTtcbn0pO1xuXG52YXIgc2hvdWxkU3RvcCA9IGZ1bmN0aW9uIHNob3VsZFN0b3AoYWN0aW9uKSB7XG4gIHJldHVybiBhY3Rpb24udHlwZSA9PT0gJ0RST1BfQ09NUExFVEUnIHx8IGFjdGlvbi50eXBlID09PSAnRFJPUF9BTklNQVRFJyB8fCBhY3Rpb24udHlwZSA9PT0gJ0ZMVVNIJztcbn07XG5cbnZhciBhdXRvU2Nyb2xsID0gKGZ1bmN0aW9uIChhdXRvU2Nyb2xsZXIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChzdG9yZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgaWYgKHNob3VsZFN0b3AoYWN0aW9uKSkge1xuICAgICAgICAgIGF1dG9TY3JvbGxlci5zdG9wKCk7XG4gICAgICAgICAgbmV4dChhY3Rpb24pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gJ0lOSVRJQUxfUFVCTElTSCcpIHtcbiAgICAgICAgICBuZXh0KGFjdGlvbik7XG4gICAgICAgICAgdmFyIHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAhKHN0YXRlLnBoYXNlID09PSAnRFJBR0dJTkcnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIHBoYXNlIHRvIGJlIERSQUdHSU5HIGFmdGVyIElOSVRJQUxfUFVCTElTSCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBhdXRvU2Nyb2xsZXIuc3RhcnQoc3RhdGUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG5leHQoYWN0aW9uKTtcbiAgICAgICAgYXV0b1Njcm9sbGVyLnNjcm9sbChzdG9yZS5nZXRTdGF0ZSgpKTtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcbn0pO1xuXG52YXIgcGVuZGluZ0Ryb3AgPSAoZnVuY3Rpb24gKHN0b3JlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICBuZXh0KGFjdGlvbik7XG5cbiAgICAgIGlmIChhY3Rpb24udHlwZSAhPT0gJ1BVQkxJU0hfV0hJTEVfRFJBR0dJTkcnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvc3RBY3Rpb25TdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG5cbiAgICAgIGlmIChwb3N0QWN0aW9uU3RhdGUucGhhc2UgIT09ICdEUk9QX1BFTkRJTkcnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHBvc3RBY3Rpb25TdGF0ZS5pc1dhaXRpbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzdG9yZS5kaXNwYXRjaChkcm9wKHtcbiAgICAgICAgcmVhc29uOiBwb3N0QWN0aW9uU3RhdGUucmVhc29uXG4gICAgICB9KSk7XG4gICAgfTtcbiAgfTtcbn0pO1xuXG52YXIgY29tcG9zZUVuaGFuY2VycyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Ll9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX0NPTVBPU0VfXyA/IHdpbmRvdy5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9DT01QT1NFX18oe1xuICBuYW1lOiAncmVhY3QtYmVhdXRpZnVsLWRuZCdcbn0pIDogY29tcG9zZTtcbnZhciBjcmVhdGVTdG9yZSA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgZGltZW5zaW9uTWFyc2hhbCA9IF9yZWYuZGltZW5zaW9uTWFyc2hhbCxcbiAgICAgIGZvY3VzTWFyc2hhbCA9IF9yZWYuZm9jdXNNYXJzaGFsLFxuICAgICAgc3R5bGVNYXJzaGFsID0gX3JlZi5zdHlsZU1hcnNoYWwsXG4gICAgICBnZXRSZXNwb25kZXJzID0gX3JlZi5nZXRSZXNwb25kZXJzLFxuICAgICAgYW5ub3VuY2UgPSBfcmVmLmFubm91bmNlLFxuICAgICAgYXV0b1Njcm9sbGVyID0gX3JlZi5hdXRvU2Nyb2xsZXI7XG4gIHJldHVybiBjcmVhdGVTdG9yZSQxKHJlZHVjZXIsIGNvbXBvc2VFbmhhbmNlcnMoYXBwbHlNaWRkbGV3YXJlKHN0eWxlKHN0eWxlTWFyc2hhbCksIGRpbWVuc2lvbk1hcnNoYWxTdG9wcGVyKGRpbWVuc2lvbk1hcnNoYWwpLCBsaWZ0JDEoZGltZW5zaW9uTWFyc2hhbCksIGRyb3AkMSwgZHJvcEFuaW1hdGlvbkZpbmlzaCwgZHJvcEFuaW1hdGlvbkZsdXNoT25TY3JvbGwsIHBlbmRpbmdEcm9wLCBhdXRvU2Nyb2xsKGF1dG9TY3JvbGxlciksIHNjcm9sbExpc3RlbmVyLCBmb2N1cyhmb2N1c01hcnNoYWwpLCByZXNwb25kZXJzKGdldFJlc3BvbmRlcnMsIGFubm91bmNlKSkpKTtcbn0pO1xuXG52YXIgY2xlYW4kMSA9IGZ1bmN0aW9uIGNsZWFuKCkge1xuICByZXR1cm4ge1xuICAgIGFkZGl0aW9uczoge30sXG4gICAgcmVtb3ZhbHM6IHt9LFxuICAgIG1vZGlmaWVkOiB7fVxuICB9O1xufTtcbmZ1bmN0aW9uIGNyZWF0ZVB1Ymxpc2hlcihfcmVmKSB7XG4gIHZhciByZWdpc3RyeSA9IF9yZWYucmVnaXN0cnksXG4gICAgICBjYWxsYmFja3MgPSBfcmVmLmNhbGxiYWNrcztcbiAgdmFyIHN0YWdpbmcgPSBjbGVhbiQxKCk7XG4gIHZhciBmcmFtZUlkID0gbnVsbDtcblxuICB2YXIgY29sbGVjdCA9IGZ1bmN0aW9uIGNvbGxlY3QoKSB7XG4gICAgaWYgKGZyYW1lSWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjYWxsYmFja3MuY29sbGVjdGlvblN0YXJ0aW5nKCk7XG4gICAgZnJhbWVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICBmcmFtZUlkID0gbnVsbDtcbiAgICAgIHN0YXJ0KCk7XG4gICAgICB2YXIgX3N0YWdpbmcgPSBzdGFnaW5nLFxuICAgICAgICAgIGFkZGl0aW9ucyA9IF9zdGFnaW5nLmFkZGl0aW9ucyxcbiAgICAgICAgICByZW1vdmFscyA9IF9zdGFnaW5nLnJlbW92YWxzLFxuICAgICAgICAgIG1vZGlmaWVkID0gX3N0YWdpbmcubW9kaWZpZWQ7XG4gICAgICB2YXIgYWRkZWQgPSBPYmplY3Qua2V5cyhhZGRpdGlvbnMpLm1hcChmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIHJlZ2lzdHJ5LmRyYWdnYWJsZS5nZXRCeUlkKGlkKS5nZXREaW1lbnNpb24ob3JpZ2luKTtcbiAgICAgIH0pLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEuZGVzY3JpcHRvci5pbmRleCAtIGIuZGVzY3JpcHRvci5pbmRleDtcbiAgICAgIH0pO1xuICAgICAgdmFyIHVwZGF0ZWQgPSBPYmplY3Qua2V5cyhtb2RpZmllZCkubWFwKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB2YXIgZW50cnkgPSByZWdpc3RyeS5kcm9wcGFibGUuZ2V0QnlJZChpZCk7XG4gICAgICAgIHZhciBzY3JvbGwgPSBlbnRyeS5jYWxsYmFja3MuZ2V0U2Nyb2xsV2hpbGVEcmFnZ2luZygpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRyb3BwYWJsZUlkOiBpZCxcbiAgICAgICAgICBzY3JvbGw6IHNjcm9sbFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICBhZGRpdGlvbnM6IGFkZGVkLFxuICAgICAgICByZW1vdmFsczogT2JqZWN0LmtleXMocmVtb3ZhbHMpLFxuICAgICAgICBtb2RpZmllZDogdXBkYXRlZFxuICAgICAgfTtcbiAgICAgIHN0YWdpbmcgPSBjbGVhbiQxKCk7XG4gICAgICBmaW5pc2goKTtcbiAgICAgIGNhbGxiYWNrcy5wdWJsaXNoKHJlc3VsdCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGFkZCA9IGZ1bmN0aW9uIGFkZChlbnRyeSkge1xuICAgIHZhciBpZCA9IGVudHJ5LmRlc2NyaXB0b3IuaWQ7XG4gICAgc3RhZ2luZy5hZGRpdGlvbnNbaWRdID0gZW50cnk7XG4gICAgc3RhZ2luZy5tb2RpZmllZFtlbnRyeS5kZXNjcmlwdG9yLmRyb3BwYWJsZUlkXSA9IHRydWU7XG5cbiAgICBpZiAoc3RhZ2luZy5yZW1vdmFsc1tpZF0pIHtcbiAgICAgIGRlbGV0ZSBzdGFnaW5nLnJlbW92YWxzW2lkXTtcbiAgICB9XG5cbiAgICBjb2xsZWN0KCk7XG4gIH07XG5cbiAgdmFyIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZShlbnRyeSkge1xuICAgIHZhciBkZXNjcmlwdG9yID0gZW50cnkuZGVzY3JpcHRvcjtcbiAgICBzdGFnaW5nLnJlbW92YWxzW2Rlc2NyaXB0b3IuaWRdID0gdHJ1ZTtcbiAgICBzdGFnaW5nLm1vZGlmaWVkW2Rlc2NyaXB0b3IuZHJvcHBhYmxlSWRdID0gdHJ1ZTtcblxuICAgIGlmIChzdGFnaW5nLmFkZGl0aW9uc1tkZXNjcmlwdG9yLmlkXSkge1xuICAgICAgZGVsZXRlIHN0YWdpbmcuYWRkaXRpb25zW2Rlc2NyaXB0b3IuaWRdO1xuICAgIH1cblxuICAgIGNvbGxlY3QoKTtcbiAgfTtcblxuICB2YXIgc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgaWYgKCFmcmFtZUlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWVJZCk7XG4gICAgZnJhbWVJZCA9IG51bGw7XG4gICAgc3RhZ2luZyA9IGNsZWFuJDEoKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGFkZDogYWRkLFxuICAgIHJlbW92ZTogcmVtb3ZlLFxuICAgIHN0b3A6IHN0b3BcbiAgfTtcbn1cblxudmFyIGdldE1heFNjcm9sbCA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgc2Nyb2xsSGVpZ2h0ID0gX3JlZi5zY3JvbGxIZWlnaHQsXG4gICAgICBzY3JvbGxXaWR0aCA9IF9yZWYuc2Nyb2xsV2lkdGgsXG4gICAgICBoZWlnaHQgPSBfcmVmLmhlaWdodCxcbiAgICAgIHdpZHRoID0gX3JlZi53aWR0aDtcbiAgdmFyIG1heFNjcm9sbCA9IHN1YnRyYWN0KHtcbiAgICB4OiBzY3JvbGxXaWR0aCxcbiAgICB5OiBzY3JvbGxIZWlnaHRcbiAgfSwge1xuICAgIHg6IHdpZHRoLFxuICAgIHk6IGhlaWdodFxuICB9KTtcbiAgdmFyIGFkanVzdGVkTWF4U2Nyb2xsID0ge1xuICAgIHg6IE1hdGgubWF4KDAsIG1heFNjcm9sbC54KSxcbiAgICB5OiBNYXRoLm1heCgwLCBtYXhTY3JvbGwueSlcbiAgfTtcbiAgcmV0dXJuIGFkanVzdGVkTWF4U2Nyb2xsO1xufSk7XG5cbnZhciBnZXREb2N1bWVudEVsZW1lbnQgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgZG9jID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAhZG9jID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IGZpbmQgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICByZXR1cm4gZG9jO1xufSk7XG5cbnZhciBnZXRNYXhXaW5kb3dTY3JvbGwgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgZG9jID0gZ2V0RG9jdW1lbnRFbGVtZW50KCk7XG4gIHZhciBtYXhTY3JvbGwgPSBnZXRNYXhTY3JvbGwoe1xuICAgIHNjcm9sbEhlaWdodDogZG9jLnNjcm9sbEhlaWdodCxcbiAgICBzY3JvbGxXaWR0aDogZG9jLnNjcm9sbFdpZHRoLFxuICAgIHdpZHRoOiBkb2MuY2xpZW50V2lkdGgsXG4gICAgaGVpZ2h0OiBkb2MuY2xpZW50SGVpZ2h0XG4gIH0pO1xuICByZXR1cm4gbWF4U2Nyb2xsO1xufSk7XG5cbnZhciBnZXRWaWV3cG9ydCA9IChmdW5jdGlvbiAoKSB7XG4gIHZhciBzY3JvbGwgPSBnZXRXaW5kb3dTY3JvbGwoKTtcbiAgdmFyIG1heFNjcm9sbCA9IGdldE1heFdpbmRvd1Njcm9sbCgpO1xuICB2YXIgdG9wID0gc2Nyb2xsLnk7XG4gIHZhciBsZWZ0ID0gc2Nyb2xsLng7XG4gIHZhciBkb2MgPSBnZXREb2N1bWVudEVsZW1lbnQoKTtcbiAgdmFyIHdpZHRoID0gZG9jLmNsaWVudFdpZHRoO1xuICB2YXIgaGVpZ2h0ID0gZG9jLmNsaWVudEhlaWdodDtcbiAgdmFyIHJpZ2h0ID0gbGVmdCArIHdpZHRoO1xuICB2YXIgYm90dG9tID0gdG9wICsgaGVpZ2h0O1xuICB2YXIgZnJhbWUgPSBnZXRSZWN0KHtcbiAgICB0b3A6IHRvcCxcbiAgICBsZWZ0OiBsZWZ0LFxuICAgIHJpZ2h0OiByaWdodCxcbiAgICBib3R0b206IGJvdHRvbVxuICB9KTtcbiAgdmFyIHZpZXdwb3J0ID0ge1xuICAgIGZyYW1lOiBmcmFtZSxcbiAgICBzY3JvbGw6IHtcbiAgICAgIGluaXRpYWw6IHNjcm9sbCxcbiAgICAgIGN1cnJlbnQ6IHNjcm9sbCxcbiAgICAgIG1heDogbWF4U2Nyb2xsLFxuICAgICAgZGlmZjoge1xuICAgICAgICB2YWx1ZTogb3JpZ2luLFxuICAgICAgICBkaXNwbGFjZW1lbnQ6IG9yaWdpblxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHZpZXdwb3J0O1xufSk7XG5cbnZhciBnZXRJbml0aWFsUHVibGlzaCA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgY3JpdGljYWwgPSBfcmVmLmNyaXRpY2FsLFxuICAgICAgc2Nyb2xsT3B0aW9ucyA9IF9yZWYuc2Nyb2xsT3B0aW9ucyxcbiAgICAgIHJlZ2lzdHJ5ID0gX3JlZi5yZWdpc3RyeTtcbiAgc3RhcnQoKTtcbiAgdmFyIHZpZXdwb3J0ID0gZ2V0Vmlld3BvcnQoKTtcbiAgdmFyIHdpbmRvd1Njcm9sbCA9IHZpZXdwb3J0LnNjcm9sbC5jdXJyZW50O1xuICB2YXIgaG9tZSA9IGNyaXRpY2FsLmRyb3BwYWJsZTtcbiAgdmFyIGRyb3BwYWJsZXMgPSByZWdpc3RyeS5kcm9wcGFibGUuZ2V0QWxsQnlUeXBlKGhvbWUudHlwZSkubWFwKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgIHJldHVybiBlbnRyeS5jYWxsYmFja3MuZ2V0RGltZW5zaW9uQW5kV2F0Y2hTY3JvbGwod2luZG93U2Nyb2xsLCBzY3JvbGxPcHRpb25zKTtcbiAgfSk7XG4gIHZhciBkcmFnZ2FibGVzID0gcmVnaXN0cnkuZHJhZ2dhYmxlLmdldEFsbEJ5VHlwZShjcml0aWNhbC5kcmFnZ2FibGUudHlwZSkubWFwKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgIHJldHVybiBlbnRyeS5nZXREaW1lbnNpb24od2luZG93U2Nyb2xsKTtcbiAgfSk7XG4gIHZhciBkaW1lbnNpb25zID0ge1xuICAgIGRyYWdnYWJsZXM6IHRvRHJhZ2dhYmxlTWFwKGRyYWdnYWJsZXMpLFxuICAgIGRyb3BwYWJsZXM6IHRvRHJvcHBhYmxlTWFwKGRyb3BwYWJsZXMpXG4gIH07XG4gIGZpbmlzaCgpO1xuICB2YXIgcmVzdWx0ID0ge1xuICAgIGRpbWVuc2lvbnM6IGRpbWVuc2lvbnMsXG4gICAgY3JpdGljYWw6IGNyaXRpY2FsLFxuICAgIHZpZXdwb3J0OiB2aWV3cG9ydFxuICB9O1xuICByZXR1cm4gcmVzdWx0O1xufSk7XG5cbmZ1bmN0aW9uIHNob3VsZFB1Ymxpc2hVcGRhdGUocmVnaXN0cnksIGRyYWdnaW5nLCBlbnRyeSkge1xuICBpZiAoZW50cnkuZGVzY3JpcHRvci5pZCA9PT0gZHJhZ2dpbmcuaWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoZW50cnkuZGVzY3JpcHRvci50eXBlICE9PSBkcmFnZ2luZy50eXBlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGhvbWUgPSByZWdpc3RyeS5kcm9wcGFibGUuZ2V0QnlJZChlbnRyeS5kZXNjcmlwdG9yLmRyb3BwYWJsZUlkKTtcblxuICBpZiAoaG9tZS5kZXNjcmlwdG9yLm1vZGUgIT09ICd2aXJ0dWFsJykge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoXCJcXG4gICAgICBZb3UgYXJlIGF0dGVtcHRpbmcgdG8gYWRkIG9yIHJlbW92ZSBhIERyYWdnYWJsZSBbaWQ6IFwiICsgZW50cnkuZGVzY3JpcHRvci5pZCArIFwiXVxcbiAgICAgIHdoaWxlIGEgZHJhZyBpcyBvY2N1cnJpbmcuIFRoaXMgaXMgb25seSBzdXBwb3J0ZWQgZm9yIHZpcnR1YWwgbGlzdHMuXFxuXFxuICAgICAgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hdGxhc3NpYW4vcmVhY3QtYmVhdXRpZnVsLWRuZC9ibG9iL21hc3Rlci9kb2NzL3BhdHRlcm5zL3ZpcnR1YWwtbGlzdHMubWRcXG4gICAgXCIpIDogdm9pZCAwO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG52YXIgY3JlYXRlRGltZW5zaW9uTWFyc2hhbCA9IChmdW5jdGlvbiAocmVnaXN0cnksIGNhbGxiYWNrcykge1xuICB2YXIgY29sbGVjdGlvbiA9IG51bGw7XG4gIHZhciBwdWJsaXNoZXIgPSBjcmVhdGVQdWJsaXNoZXIoe1xuICAgIGNhbGxiYWNrczoge1xuICAgICAgcHVibGlzaDogY2FsbGJhY2tzLnB1Ymxpc2hXaGlsZURyYWdnaW5nLFxuICAgICAgY29sbGVjdGlvblN0YXJ0aW5nOiBjYWxsYmFja3MuY29sbGVjdGlvblN0YXJ0aW5nXG4gICAgfSxcbiAgICByZWdpc3RyeTogcmVnaXN0cnlcbiAgfSk7XG5cbiAgdmFyIHVwZGF0ZURyb3BwYWJsZUlzRW5hYmxlZCA9IGZ1bmN0aW9uIHVwZGF0ZURyb3BwYWJsZUlzRW5hYmxlZChpZCwgaXNFbmFibGVkKSB7XG4gICAgIXJlZ2lzdHJ5LmRyb3BwYWJsZS5leGlzdHMoaWQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIkNhbm5vdCB1cGRhdGUgaXMgZW5hYmxlZCBmbGFnIG9mIERyb3BwYWJsZSBcIiArIGlkICsgXCIgYXMgaXQgaXMgbm90IHJlZ2lzdGVyZWRcIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuXG4gICAgaWYgKCFjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2FsbGJhY2tzLnVwZGF0ZURyb3BwYWJsZUlzRW5hYmxlZCh7XG4gICAgICBpZDogaWQsXG4gICAgICBpc0VuYWJsZWQ6IGlzRW5hYmxlZFxuICAgIH0pO1xuICB9O1xuXG4gIHZhciB1cGRhdGVEcm9wcGFibGVJc0NvbWJpbmVFbmFibGVkID0gZnVuY3Rpb24gdXBkYXRlRHJvcHBhYmxlSXNDb21iaW5lRW5hYmxlZChpZCwgaXNDb21iaW5lRW5hYmxlZCkge1xuICAgIGlmICghY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgICFyZWdpc3RyeS5kcm9wcGFibGUuZXhpc3RzKGlkKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJDYW5ub3QgdXBkYXRlIGlzQ29tYmluZUVuYWJsZWQgZmxhZyBvZiBEcm9wcGFibGUgXCIgKyBpZCArIFwiIGFzIGl0IGlzIG5vdCByZWdpc3RlcmVkXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBjYWxsYmFja3MudXBkYXRlRHJvcHBhYmxlSXNDb21iaW5lRW5hYmxlZCh7XG4gICAgICBpZDogaWQsXG4gICAgICBpc0NvbWJpbmVFbmFibGVkOiBpc0NvbWJpbmVFbmFibGVkXG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHVwZGF0ZURyb3BwYWJsZVNjcm9sbCA9IGZ1bmN0aW9uIHVwZGF0ZURyb3BwYWJsZVNjcm9sbChpZCwgbmV3U2Nyb2xsKSB7XG4gICAgaWYgKCFjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgIXJlZ2lzdHJ5LmRyb3BwYWJsZS5leGlzdHMoaWQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIkNhbm5vdCB1cGRhdGUgdGhlIHNjcm9sbCBvbiBEcm9wcGFibGUgXCIgKyBpZCArIFwiIGFzIGl0IGlzIG5vdCByZWdpc3RlcmVkXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBjYWxsYmFja3MudXBkYXRlRHJvcHBhYmxlU2Nyb2xsKHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIG5ld1Njcm9sbDogbmV3U2Nyb2xsXG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHNjcm9sbERyb3BwYWJsZSA9IGZ1bmN0aW9uIHNjcm9sbERyb3BwYWJsZShpZCwgY2hhbmdlKSB7XG4gICAgaWYgKCFjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmVnaXN0cnkuZHJvcHBhYmxlLmdldEJ5SWQoaWQpLmNhbGxiYWNrcy5zY3JvbGwoY2hhbmdlKTtcbiAgfTtcblxuICB2YXIgc3RvcFB1Ymxpc2hpbmcgPSBmdW5jdGlvbiBzdG9wUHVibGlzaGluZygpIHtcbiAgICBpZiAoIWNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwdWJsaXNoZXIuc3RvcCgpO1xuICAgIHZhciBob21lID0gY29sbGVjdGlvbi5jcml0aWNhbC5kcm9wcGFibGU7XG4gICAgcmVnaXN0cnkuZHJvcHBhYmxlLmdldEFsbEJ5VHlwZShob21lLnR5cGUpLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICByZXR1cm4gZW50cnkuY2FsbGJhY2tzLmRyYWdTdG9wcGVkKCk7XG4gICAgfSk7XG4gICAgY29sbGVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIGNvbGxlY3Rpb24gPSBudWxsO1xuICB9O1xuXG4gIHZhciBzdWJzY3JpYmVyID0gZnVuY3Rpb24gc3Vic2NyaWJlcihldmVudCkge1xuICAgICFjb2xsZWN0aW9uID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnU2hvdWxkIG9ubHkgYmUgc3Vic2NyaWJlZCB3aGVuIGEgY29sbGVjdGlvbiBpcyBvY2N1cnJpbmcnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGRyYWdnaW5nID0gY29sbGVjdGlvbi5jcml0aWNhbC5kcmFnZ2FibGU7XG5cbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ0FERElUSU9OJykge1xuICAgICAgaWYgKHNob3VsZFB1Ymxpc2hVcGRhdGUocmVnaXN0cnksIGRyYWdnaW5nLCBldmVudC52YWx1ZSkpIHtcbiAgICAgICAgcHVibGlzaGVyLmFkZChldmVudC52YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdSRU1PVkFMJykge1xuICAgICAgaWYgKHNob3VsZFB1Ymxpc2hVcGRhdGUocmVnaXN0cnksIGRyYWdnaW5nLCBldmVudC52YWx1ZSkpIHtcbiAgICAgICAgcHVibGlzaGVyLnJlbW92ZShldmVudC52YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBzdGFydFB1Ymxpc2hpbmcgPSBmdW5jdGlvbiBzdGFydFB1Ymxpc2hpbmcocmVxdWVzdCkge1xuICAgICEhY29sbGVjdGlvbiA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBzdGFydCBjYXB0dXJpbmcgY3JpdGljYWwgZGltZW5zaW9ucyBhcyB0aGVyZSBpcyBhbHJlYWR5IGEgY29sbGVjdGlvbicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgZW50cnkgPSByZWdpc3RyeS5kcmFnZ2FibGUuZ2V0QnlJZChyZXF1ZXN0LmRyYWdnYWJsZUlkKTtcbiAgICB2YXIgaG9tZSA9IHJlZ2lzdHJ5LmRyb3BwYWJsZS5nZXRCeUlkKGVudHJ5LmRlc2NyaXB0b3IuZHJvcHBhYmxlSWQpO1xuICAgIHZhciBjcml0aWNhbCA9IHtcbiAgICAgIGRyYWdnYWJsZTogZW50cnkuZGVzY3JpcHRvcixcbiAgICAgIGRyb3BwYWJsZTogaG9tZS5kZXNjcmlwdG9yXG4gICAgfTtcbiAgICB2YXIgdW5zdWJzY3JpYmUgPSByZWdpc3RyeS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgY29sbGVjdGlvbiA9IHtcbiAgICAgIGNyaXRpY2FsOiBjcml0aWNhbCxcbiAgICAgIHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZVxuICAgIH07XG4gICAgcmV0dXJuIGdldEluaXRpYWxQdWJsaXNoKHtcbiAgICAgIGNyaXRpY2FsOiBjcml0aWNhbCxcbiAgICAgIHJlZ2lzdHJ5OiByZWdpc3RyeSxcbiAgICAgIHNjcm9sbE9wdGlvbnM6IHJlcXVlc3Quc2Nyb2xsT3B0aW9uc1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBtYXJzaGFsID0ge1xuICAgIHVwZGF0ZURyb3BwYWJsZUlzRW5hYmxlZDogdXBkYXRlRHJvcHBhYmxlSXNFbmFibGVkLFxuICAgIHVwZGF0ZURyb3BwYWJsZUlzQ29tYmluZUVuYWJsZWQ6IHVwZGF0ZURyb3BwYWJsZUlzQ29tYmluZUVuYWJsZWQsXG4gICAgc2Nyb2xsRHJvcHBhYmxlOiBzY3JvbGxEcm9wcGFibGUsXG4gICAgdXBkYXRlRHJvcHBhYmxlU2Nyb2xsOiB1cGRhdGVEcm9wcGFibGVTY3JvbGwsXG4gICAgc3RhcnRQdWJsaXNoaW5nOiBzdGFydFB1Ymxpc2hpbmcsXG4gICAgc3RvcFB1Ymxpc2hpbmc6IHN0b3BQdWJsaXNoaW5nXG4gIH07XG4gIHJldHVybiBtYXJzaGFsO1xufSk7XG5cbnZhciBjYW5TdGFydERyYWcgPSAoZnVuY3Rpb24gKHN0YXRlLCBpZCkge1xuICBpZiAoc3RhdGUucGhhc2UgPT09ICdJRExFJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHN0YXRlLnBoYXNlICE9PSAnRFJPUF9BTklNQVRJTkcnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHN0YXRlLmNvbXBsZXRlZC5yZXN1bHQuZHJhZ2dhYmxlSWQgPT09IGlkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlLmNvbXBsZXRlZC5yZXN1bHQucmVhc29uID09PSAnRFJPUCc7XG59KTtcblxudmFyIHNjcm9sbFdpbmRvdyA9IChmdW5jdGlvbiAoY2hhbmdlKSB7XG4gIHdpbmRvdy5zY3JvbGxCeShjaGFuZ2UueCwgY2hhbmdlLnkpO1xufSk7XG5cbnZhciBnZXRTY3JvbGxhYmxlRHJvcHBhYmxlcyA9IG1lbW9pemVPbmUoZnVuY3Rpb24gKGRyb3BwYWJsZXMpIHtcbiAgcmV0dXJuIHRvRHJvcHBhYmxlTGlzdChkcm9wcGFibGVzKS5maWx0ZXIoZnVuY3Rpb24gKGRyb3BwYWJsZSkge1xuICAgIGlmICghZHJvcHBhYmxlLmlzRW5hYmxlZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghZHJvcHBhYmxlLmZyYW1lKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xufSk7XG5cbnZhciBnZXRTY3JvbGxhYmxlRHJvcHBhYmxlT3ZlciA9IGZ1bmN0aW9uIGdldFNjcm9sbGFibGVEcm9wcGFibGVPdmVyKHRhcmdldCwgZHJvcHBhYmxlcykge1xuICB2YXIgbWF5YmUgPSBmaW5kKGdldFNjcm9sbGFibGVEcm9wcGFibGVzKGRyb3BwYWJsZXMpLCBmdW5jdGlvbiAoZHJvcHBhYmxlKSB7XG4gICAgIWRyb3BwYWJsZS5mcmFtZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0ludmFsaWQgcmVzdWx0JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHJldHVybiBpc1Bvc2l0aW9uSW5GcmFtZShkcm9wcGFibGUuZnJhbWUucGFnZU1hcmdpbkJveCkodGFyZ2V0KTtcbiAgfSk7XG4gIHJldHVybiBtYXliZTtcbn07XG5cbnZhciBnZXRCZXN0U2Nyb2xsYWJsZURyb3BwYWJsZSA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgY2VudGVyID0gX3JlZi5jZW50ZXIsXG4gICAgICBkZXN0aW5hdGlvbiA9IF9yZWYuZGVzdGluYXRpb24sXG4gICAgICBkcm9wcGFibGVzID0gX3JlZi5kcm9wcGFibGVzO1xuXG4gIGlmIChkZXN0aW5hdGlvbikge1xuICAgIHZhciBfZGltZW5zaW9uID0gZHJvcHBhYmxlc1tkZXN0aW5hdGlvbl07XG5cbiAgICBpZiAoIV9kaW1lbnNpb24uZnJhbWUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBfZGltZW5zaW9uO1xuICB9XG5cbiAgdmFyIGRpbWVuc2lvbiA9IGdldFNjcm9sbGFibGVEcm9wcGFibGVPdmVyKGNlbnRlciwgZHJvcHBhYmxlcyk7XG4gIHJldHVybiBkaW1lbnNpb247XG59KTtcblxudmFyIGNvbmZpZyA9IHtcbiAgc3RhcnRGcm9tUGVyY2VudGFnZTogMC4yNSxcbiAgbWF4U2Nyb2xsQXRQZXJjZW50YWdlOiAwLjA1LFxuICBtYXhQaXhlbFNjcm9sbDogMjgsXG4gIGVhc2U6IGZ1bmN0aW9uIGVhc2UocGVyY2VudGFnZSkge1xuICAgIHJldHVybiBNYXRoLnBvdyhwZXJjZW50YWdlLCAyKTtcbiAgfSxcbiAgZHVyYXRpb25EYW1wZW5pbmc6IHtcbiAgICBzdG9wRGFtcGVuaW5nQXQ6IDEyMDAsXG4gICAgYWNjZWxlcmF0ZUF0OiAzNjBcbiAgfVxufTtcblxudmFyIGdldERpc3RhbmNlVGhyZXNob2xkcyA9IChmdW5jdGlvbiAoY29udGFpbmVyLCBheGlzKSB7XG4gIHZhciBzdGFydFNjcm9sbGluZ0Zyb20gPSBjb250YWluZXJbYXhpcy5zaXplXSAqIGNvbmZpZy5zdGFydEZyb21QZXJjZW50YWdlO1xuICB2YXIgbWF4U2Nyb2xsVmFsdWVBdCA9IGNvbnRhaW5lcltheGlzLnNpemVdICogY29uZmlnLm1heFNjcm9sbEF0UGVyY2VudGFnZTtcbiAgdmFyIHRocmVzaG9sZHMgPSB7XG4gICAgc3RhcnRTY3JvbGxpbmdGcm9tOiBzdGFydFNjcm9sbGluZ0Zyb20sXG4gICAgbWF4U2Nyb2xsVmFsdWVBdDogbWF4U2Nyb2xsVmFsdWVBdFxuICB9O1xuICByZXR1cm4gdGhyZXNob2xkcztcbn0pO1xuXG52YXIgZ2V0UGVyY2VudGFnZSA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgc3RhcnRPZlJhbmdlID0gX3JlZi5zdGFydE9mUmFuZ2UsXG4gICAgICBlbmRPZlJhbmdlID0gX3JlZi5lbmRPZlJhbmdlLFxuICAgICAgY3VycmVudCA9IF9yZWYuY3VycmVudDtcbiAgdmFyIHJhbmdlID0gZW5kT2ZSYW5nZSAtIHN0YXJ0T2ZSYW5nZTtcblxuICBpZiAocmFuZ2UgPT09IDApIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKFwiXFxuICAgICAgRGV0ZWN0ZWQgZGlzdGFuY2UgcmFuZ2Ugb2YgMCBpbiB0aGUgZmx1aWQgYXV0byBzY3JvbGxlclxcbiAgICAgIFRoaXMgaXMgdW5leHBlY3RlZCBhbmQgd291bGQgY2F1c2UgYSBkaXZpZGUgYnkgMCBpc3N1ZS5cXG4gICAgICBOb3QgYWxsb3dpbmcgYW4gYXV0byBzY3JvbGxcXG4gICAgXCIpIDogdm9pZCAwO1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRJblJhbmdlID0gY3VycmVudCAtIHN0YXJ0T2ZSYW5nZTtcbiAgdmFyIHBlcmNlbnRhZ2UgPSBjdXJyZW50SW5SYW5nZSAvIHJhbmdlO1xuICByZXR1cm4gcGVyY2VudGFnZTtcbn0pO1xuXG52YXIgbWluU2Nyb2xsID0gMTtcblxudmFyIGdldFZhbHVlRnJvbURpc3RhbmNlID0gKGZ1bmN0aW9uIChkaXN0YW5jZVRvRWRnZSwgdGhyZXNob2xkcykge1xuICBpZiAoZGlzdGFuY2VUb0VkZ2UgPiB0aHJlc2hvbGRzLnN0YXJ0U2Nyb2xsaW5nRnJvbSkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgaWYgKGRpc3RhbmNlVG9FZGdlIDw9IHRocmVzaG9sZHMubWF4U2Nyb2xsVmFsdWVBdCkge1xuICAgIHJldHVybiBjb25maWcubWF4UGl4ZWxTY3JvbGw7XG4gIH1cblxuICBpZiAoZGlzdGFuY2VUb0VkZ2UgPT09IHRocmVzaG9sZHMuc3RhcnRTY3JvbGxpbmdGcm9tKSB7XG4gICAgcmV0dXJuIG1pblNjcm9sbDtcbiAgfVxuXG4gIHZhciBwZXJjZW50YWdlRnJvbU1heFNjcm9sbFZhbHVlQXQgPSBnZXRQZXJjZW50YWdlKHtcbiAgICBzdGFydE9mUmFuZ2U6IHRocmVzaG9sZHMubWF4U2Nyb2xsVmFsdWVBdCxcbiAgICBlbmRPZlJhbmdlOiB0aHJlc2hvbGRzLnN0YXJ0U2Nyb2xsaW5nRnJvbSxcbiAgICBjdXJyZW50OiBkaXN0YW5jZVRvRWRnZVxuICB9KTtcbiAgdmFyIHBlcmNlbnRhZ2VGcm9tU3RhcnRTY3JvbGxpbmdGcm9tID0gMSAtIHBlcmNlbnRhZ2VGcm9tTWF4U2Nyb2xsVmFsdWVBdDtcbiAgdmFyIHNjcm9sbCA9IGNvbmZpZy5tYXhQaXhlbFNjcm9sbCAqIGNvbmZpZy5lYXNlKHBlcmNlbnRhZ2VGcm9tU3RhcnRTY3JvbGxpbmdGcm9tKTtcbiAgcmV0dXJuIE1hdGguY2VpbChzY3JvbGwpO1xufSk7XG5cbnZhciBhY2NlbGVyYXRlQXQgPSBjb25maWcuZHVyYXRpb25EYW1wZW5pbmcuYWNjZWxlcmF0ZUF0O1xudmFyIHN0b3BBdCA9IGNvbmZpZy5kdXJhdGlvbkRhbXBlbmluZy5zdG9wRGFtcGVuaW5nQXQ7XG52YXIgZGFtcGVuVmFsdWVCeVRpbWUgPSAoZnVuY3Rpb24gKHByb3Bvc2VkU2Nyb2xsLCBkcmFnU3RhcnRUaW1lKSB7XG4gIHZhciBzdGFydE9mUmFuZ2UgPSBkcmFnU3RhcnRUaW1lO1xuICB2YXIgZW5kT2ZSYW5nZSA9IHN0b3BBdDtcbiAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gIHZhciBydW5UaW1lID0gbm93IC0gc3RhcnRPZlJhbmdlO1xuXG4gIGlmIChydW5UaW1lID49IHN0b3BBdCkge1xuICAgIHJldHVybiBwcm9wb3NlZFNjcm9sbDtcbiAgfVxuXG4gIGlmIChydW5UaW1lIDwgYWNjZWxlcmF0ZUF0KSB7XG4gICAgcmV0dXJuIG1pblNjcm9sbDtcbiAgfVxuXG4gIHZhciBiZXR3ZWVuQWNjZWxlcmF0ZUF0QW5kU3RvcEF0UGVyY2VudGFnZSA9IGdldFBlcmNlbnRhZ2Uoe1xuICAgIHN0YXJ0T2ZSYW5nZTogYWNjZWxlcmF0ZUF0LFxuICAgIGVuZE9mUmFuZ2U6IGVuZE9mUmFuZ2UsXG4gICAgY3VycmVudDogcnVuVGltZVxuICB9KTtcbiAgdmFyIHNjcm9sbCA9IHByb3Bvc2VkU2Nyb2xsICogY29uZmlnLmVhc2UoYmV0d2VlbkFjY2VsZXJhdGVBdEFuZFN0b3BBdFBlcmNlbnRhZ2UpO1xuICByZXR1cm4gTWF0aC5jZWlsKHNjcm9sbCk7XG59KTtcblxudmFyIGdldFZhbHVlID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBkaXN0YW5jZVRvRWRnZSA9IF9yZWYuZGlzdGFuY2VUb0VkZ2UsXG4gICAgICB0aHJlc2hvbGRzID0gX3JlZi50aHJlc2hvbGRzLFxuICAgICAgZHJhZ1N0YXJ0VGltZSA9IF9yZWYuZHJhZ1N0YXJ0VGltZSxcbiAgICAgIHNob3VsZFVzZVRpbWVEYW1wZW5pbmcgPSBfcmVmLnNob3VsZFVzZVRpbWVEYW1wZW5pbmc7XG4gIHZhciBzY3JvbGwgPSBnZXRWYWx1ZUZyb21EaXN0YW5jZShkaXN0YW5jZVRvRWRnZSwgdGhyZXNob2xkcyk7XG5cbiAgaWYgKHNjcm9sbCA9PT0gMCkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgaWYgKCFzaG91bGRVc2VUaW1lRGFtcGVuaW5nKSB7XG4gICAgcmV0dXJuIHNjcm9sbDtcbiAgfVxuXG4gIHJldHVybiBNYXRoLm1heChkYW1wZW5WYWx1ZUJ5VGltZShzY3JvbGwsIGRyYWdTdGFydFRpbWUpLCBtaW5TY3JvbGwpO1xufSk7XG5cbnZhciBnZXRTY3JvbGxPbkF4aXMgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGNvbnRhaW5lciA9IF9yZWYuY29udGFpbmVyLFxuICAgICAgZGlzdGFuY2VUb0VkZ2VzID0gX3JlZi5kaXN0YW5jZVRvRWRnZXMsXG4gICAgICBkcmFnU3RhcnRUaW1lID0gX3JlZi5kcmFnU3RhcnRUaW1lLFxuICAgICAgYXhpcyA9IF9yZWYuYXhpcyxcbiAgICAgIHNob3VsZFVzZVRpbWVEYW1wZW5pbmcgPSBfcmVmLnNob3VsZFVzZVRpbWVEYW1wZW5pbmc7XG4gIHZhciB0aHJlc2hvbGRzID0gZ2V0RGlzdGFuY2VUaHJlc2hvbGRzKGNvbnRhaW5lciwgYXhpcyk7XG4gIHZhciBpc0Nsb3NlclRvRW5kID0gZGlzdGFuY2VUb0VkZ2VzW2F4aXMuZW5kXSA8IGRpc3RhbmNlVG9FZGdlc1theGlzLnN0YXJ0XTtcblxuICBpZiAoaXNDbG9zZXJUb0VuZCkge1xuICAgIHJldHVybiBnZXRWYWx1ZSh7XG4gICAgICBkaXN0YW5jZVRvRWRnZTogZGlzdGFuY2VUb0VkZ2VzW2F4aXMuZW5kXSxcbiAgICAgIHRocmVzaG9sZHM6IHRocmVzaG9sZHMsXG4gICAgICBkcmFnU3RhcnRUaW1lOiBkcmFnU3RhcnRUaW1lLFxuICAgICAgc2hvdWxkVXNlVGltZURhbXBlbmluZzogc2hvdWxkVXNlVGltZURhbXBlbmluZ1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIC0xICogZ2V0VmFsdWUoe1xuICAgIGRpc3RhbmNlVG9FZGdlOiBkaXN0YW5jZVRvRWRnZXNbYXhpcy5zdGFydF0sXG4gICAgdGhyZXNob2xkczogdGhyZXNob2xkcyxcbiAgICBkcmFnU3RhcnRUaW1lOiBkcmFnU3RhcnRUaW1lLFxuICAgIHNob3VsZFVzZVRpbWVEYW1wZW5pbmc6IHNob3VsZFVzZVRpbWVEYW1wZW5pbmdcbiAgfSk7XG59KTtcblxudmFyIGFkanVzdEZvclNpemVMaW1pdHMgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGNvbnRhaW5lciA9IF9yZWYuY29udGFpbmVyLFxuICAgICAgc3ViamVjdCA9IF9yZWYuc3ViamVjdCxcbiAgICAgIHByb3Bvc2VkU2Nyb2xsID0gX3JlZi5wcm9wb3NlZFNjcm9sbDtcbiAgdmFyIGlzVG9vQmlnVmVydGljYWxseSA9IHN1YmplY3QuaGVpZ2h0ID4gY29udGFpbmVyLmhlaWdodDtcbiAgdmFyIGlzVG9vQmlnSG9yaXpvbnRhbGx5ID0gc3ViamVjdC53aWR0aCA+IGNvbnRhaW5lci53aWR0aDtcblxuICBpZiAoIWlzVG9vQmlnSG9yaXpvbnRhbGx5ICYmICFpc1Rvb0JpZ1ZlcnRpY2FsbHkpIHtcbiAgICByZXR1cm4gcHJvcG9zZWRTY3JvbGw7XG4gIH1cblxuICBpZiAoaXNUb29CaWdIb3Jpem9udGFsbHkgJiYgaXNUb29CaWdWZXJ0aWNhbGx5KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHg6IGlzVG9vQmlnSG9yaXpvbnRhbGx5ID8gMCA6IHByb3Bvc2VkU2Nyb2xsLngsXG4gICAgeTogaXNUb29CaWdWZXJ0aWNhbGx5ID8gMCA6IHByb3Bvc2VkU2Nyb2xsLnlcbiAgfTtcbn0pO1xuXG52YXIgY2xlYW4kMiA9IGFwcGx5KGZ1bmN0aW9uICh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT09IDAgPyAwIDogdmFsdWU7XG59KTtcbnZhciBnZXRTY3JvbGwgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGRyYWdTdGFydFRpbWUgPSBfcmVmLmRyYWdTdGFydFRpbWUsXG4gICAgICBjb250YWluZXIgPSBfcmVmLmNvbnRhaW5lcixcbiAgICAgIHN1YmplY3QgPSBfcmVmLnN1YmplY3QsXG4gICAgICBjZW50ZXIgPSBfcmVmLmNlbnRlcixcbiAgICAgIHNob3VsZFVzZVRpbWVEYW1wZW5pbmcgPSBfcmVmLnNob3VsZFVzZVRpbWVEYW1wZW5pbmc7XG4gIHZhciBkaXN0YW5jZVRvRWRnZXMgPSB7XG4gICAgdG9wOiBjZW50ZXIueSAtIGNvbnRhaW5lci50b3AsXG4gICAgcmlnaHQ6IGNvbnRhaW5lci5yaWdodCAtIGNlbnRlci54LFxuICAgIGJvdHRvbTogY29udGFpbmVyLmJvdHRvbSAtIGNlbnRlci55LFxuICAgIGxlZnQ6IGNlbnRlci54IC0gY29udGFpbmVyLmxlZnRcbiAgfTtcbiAgdmFyIHkgPSBnZXRTY3JvbGxPbkF4aXMoe1xuICAgIGNvbnRhaW5lcjogY29udGFpbmVyLFxuICAgIGRpc3RhbmNlVG9FZGdlczogZGlzdGFuY2VUb0VkZ2VzLFxuICAgIGRyYWdTdGFydFRpbWU6IGRyYWdTdGFydFRpbWUsXG4gICAgYXhpczogdmVydGljYWwsXG4gICAgc2hvdWxkVXNlVGltZURhbXBlbmluZzogc2hvdWxkVXNlVGltZURhbXBlbmluZ1xuICB9KTtcbiAgdmFyIHggPSBnZXRTY3JvbGxPbkF4aXMoe1xuICAgIGNvbnRhaW5lcjogY29udGFpbmVyLFxuICAgIGRpc3RhbmNlVG9FZGdlczogZGlzdGFuY2VUb0VkZ2VzLFxuICAgIGRyYWdTdGFydFRpbWU6IGRyYWdTdGFydFRpbWUsXG4gICAgYXhpczogaG9yaXpvbnRhbCxcbiAgICBzaG91bGRVc2VUaW1lRGFtcGVuaW5nOiBzaG91bGRVc2VUaW1lRGFtcGVuaW5nXG4gIH0pO1xuICB2YXIgcmVxdWlyZWQgPSBjbGVhbiQyKHtcbiAgICB4OiB4LFxuICAgIHk6IHlcbiAgfSk7XG5cbiAgaWYgKGlzRXF1YWwocmVxdWlyZWQsIG9yaWdpbikpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBsaW1pdGVkID0gYWRqdXN0Rm9yU2l6ZUxpbWl0cyh7XG4gICAgY29udGFpbmVyOiBjb250YWluZXIsXG4gICAgc3ViamVjdDogc3ViamVjdCxcbiAgICBwcm9wb3NlZFNjcm9sbDogcmVxdWlyZWRcbiAgfSk7XG5cbiAgaWYgKCFsaW1pdGVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gaXNFcXVhbChsaW1pdGVkLCBvcmlnaW4pID8gbnVsbCA6IGxpbWl0ZWQ7XG59KTtcblxudmFyIHNtYWxsZXN0U2lnbmVkID0gYXBwbHkoZnVuY3Rpb24gKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gMCkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlID4gMCA/IDEgOiAtMTtcbn0pO1xudmFyIGdldE92ZXJsYXAgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBnZXRSZW1haW5kZXIgPSBmdW5jdGlvbiBnZXRSZW1haW5kZXIodGFyZ2V0LCBtYXgpIHtcbiAgICBpZiAodGFyZ2V0IDwgMCkge1xuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICBpZiAodGFyZ2V0ID4gbWF4KSB7XG4gICAgICByZXR1cm4gdGFyZ2V0IC0gbWF4O1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9O1xuXG4gIHJldHVybiBmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBjdXJyZW50ID0gX3JlZi5jdXJyZW50LFxuICAgICAgICBtYXggPSBfcmVmLm1heCxcbiAgICAgICAgY2hhbmdlID0gX3JlZi5jaGFuZ2U7XG4gICAgdmFyIHRhcmdldFNjcm9sbCA9IGFkZChjdXJyZW50LCBjaGFuZ2UpO1xuICAgIHZhciBvdmVybGFwID0ge1xuICAgICAgeDogZ2V0UmVtYWluZGVyKHRhcmdldFNjcm9sbC54LCBtYXgueCksXG4gICAgICB5OiBnZXRSZW1haW5kZXIodGFyZ2V0U2Nyb2xsLnksIG1heC55KVxuICAgIH07XG5cbiAgICBpZiAoaXNFcXVhbChvdmVybGFwLCBvcmlnaW4pKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gb3ZlcmxhcDtcbiAgfTtcbn0oKTtcbnZhciBjYW5QYXJ0aWFsbHlTY3JvbGwgPSBmdW5jdGlvbiBjYW5QYXJ0aWFsbHlTY3JvbGwoX3JlZjIpIHtcbiAgdmFyIHJhd01heCA9IF9yZWYyLm1heCxcbiAgICAgIGN1cnJlbnQgPSBfcmVmMi5jdXJyZW50LFxuICAgICAgY2hhbmdlID0gX3JlZjIuY2hhbmdlO1xuICB2YXIgbWF4ID0ge1xuICAgIHg6IE1hdGgubWF4KGN1cnJlbnQueCwgcmF3TWF4LngpLFxuICAgIHk6IE1hdGgubWF4KGN1cnJlbnQueSwgcmF3TWF4LnkpXG4gIH07XG4gIHZhciBzbWFsbGVzdENoYW5nZSA9IHNtYWxsZXN0U2lnbmVkKGNoYW5nZSk7XG4gIHZhciBvdmVybGFwID0gZ2V0T3ZlcmxhcCh7XG4gICAgbWF4OiBtYXgsXG4gICAgY3VycmVudDogY3VycmVudCxcbiAgICBjaGFuZ2U6IHNtYWxsZXN0Q2hhbmdlXG4gIH0pO1xuXG4gIGlmICghb3ZlcmxhcCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHNtYWxsZXN0Q2hhbmdlLnggIT09IDAgJiYgb3ZlcmxhcC54ID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoc21hbGxlc3RDaGFuZ2UueSAhPT0gMCAmJiBvdmVybGFwLnkgPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07XG52YXIgY2FuU2Nyb2xsV2luZG93ID0gZnVuY3Rpb24gY2FuU2Nyb2xsV2luZG93KHZpZXdwb3J0LCBjaGFuZ2UpIHtcbiAgcmV0dXJuIGNhblBhcnRpYWxseVNjcm9sbCh7XG4gICAgY3VycmVudDogdmlld3BvcnQuc2Nyb2xsLmN1cnJlbnQsXG4gICAgbWF4OiB2aWV3cG9ydC5zY3JvbGwubWF4LFxuICAgIGNoYW5nZTogY2hhbmdlXG4gIH0pO1xufTtcbnZhciBnZXRXaW5kb3dPdmVybGFwID0gZnVuY3Rpb24gZ2V0V2luZG93T3ZlcmxhcCh2aWV3cG9ydCwgY2hhbmdlKSB7XG4gIGlmICghY2FuU2Nyb2xsV2luZG93KHZpZXdwb3J0LCBjaGFuZ2UpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgbWF4ID0gdmlld3BvcnQuc2Nyb2xsLm1heDtcbiAgdmFyIGN1cnJlbnQgPSB2aWV3cG9ydC5zY3JvbGwuY3VycmVudDtcbiAgcmV0dXJuIGdldE92ZXJsYXAoe1xuICAgIGN1cnJlbnQ6IGN1cnJlbnQsXG4gICAgbWF4OiBtYXgsXG4gICAgY2hhbmdlOiBjaGFuZ2VcbiAgfSk7XG59O1xudmFyIGNhblNjcm9sbERyb3BwYWJsZSA9IGZ1bmN0aW9uIGNhblNjcm9sbERyb3BwYWJsZShkcm9wcGFibGUsIGNoYW5nZSkge1xuICB2YXIgZnJhbWUgPSBkcm9wcGFibGUuZnJhbWU7XG5cbiAgaWYgKCFmcmFtZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBjYW5QYXJ0aWFsbHlTY3JvbGwoe1xuICAgIGN1cnJlbnQ6IGZyYW1lLnNjcm9sbC5jdXJyZW50LFxuICAgIG1heDogZnJhbWUuc2Nyb2xsLm1heCxcbiAgICBjaGFuZ2U6IGNoYW5nZVxuICB9KTtcbn07XG52YXIgZ2V0RHJvcHBhYmxlT3ZlcmxhcCA9IGZ1bmN0aW9uIGdldERyb3BwYWJsZU92ZXJsYXAoZHJvcHBhYmxlLCBjaGFuZ2UpIHtcbiAgdmFyIGZyYW1lID0gZHJvcHBhYmxlLmZyYW1lO1xuXG4gIGlmICghZnJhbWUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmICghY2FuU2Nyb2xsRHJvcHBhYmxlKGRyb3BwYWJsZSwgY2hhbmdlKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGdldE92ZXJsYXAoe1xuICAgIGN1cnJlbnQ6IGZyYW1lLnNjcm9sbC5jdXJyZW50LFxuICAgIG1heDogZnJhbWUuc2Nyb2xsLm1heCxcbiAgICBjaGFuZ2U6IGNoYW5nZVxuICB9KTtcbn07XG5cbnZhciBnZXRXaW5kb3dTY3JvbGxDaGFuZ2UgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIHZpZXdwb3J0ID0gX3JlZi52aWV3cG9ydCxcbiAgICAgIHN1YmplY3QgPSBfcmVmLnN1YmplY3QsXG4gICAgICBjZW50ZXIgPSBfcmVmLmNlbnRlcixcbiAgICAgIGRyYWdTdGFydFRpbWUgPSBfcmVmLmRyYWdTdGFydFRpbWUsXG4gICAgICBzaG91bGRVc2VUaW1lRGFtcGVuaW5nID0gX3JlZi5zaG91bGRVc2VUaW1lRGFtcGVuaW5nO1xuICB2YXIgc2Nyb2xsID0gZ2V0U2Nyb2xsKHtcbiAgICBkcmFnU3RhcnRUaW1lOiBkcmFnU3RhcnRUaW1lLFxuICAgIGNvbnRhaW5lcjogdmlld3BvcnQuZnJhbWUsXG4gICAgc3ViamVjdDogc3ViamVjdCxcbiAgICBjZW50ZXI6IGNlbnRlcixcbiAgICBzaG91bGRVc2VUaW1lRGFtcGVuaW5nOiBzaG91bGRVc2VUaW1lRGFtcGVuaW5nXG4gIH0pO1xuICByZXR1cm4gc2Nyb2xsICYmIGNhblNjcm9sbFdpbmRvdyh2aWV3cG9ydCwgc2Nyb2xsKSA/IHNjcm9sbCA6IG51bGw7XG59KTtcblxudmFyIGdldERyb3BwYWJsZVNjcm9sbENoYW5nZSA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgZHJvcHBhYmxlID0gX3JlZi5kcm9wcGFibGUsXG4gICAgICBzdWJqZWN0ID0gX3JlZi5zdWJqZWN0LFxuICAgICAgY2VudGVyID0gX3JlZi5jZW50ZXIsXG4gICAgICBkcmFnU3RhcnRUaW1lID0gX3JlZi5kcmFnU3RhcnRUaW1lLFxuICAgICAgc2hvdWxkVXNlVGltZURhbXBlbmluZyA9IF9yZWYuc2hvdWxkVXNlVGltZURhbXBlbmluZztcbiAgdmFyIGZyYW1lID0gZHJvcHBhYmxlLmZyYW1lO1xuXG4gIGlmICghZnJhbWUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBzY3JvbGwgPSBnZXRTY3JvbGwoe1xuICAgIGRyYWdTdGFydFRpbWU6IGRyYWdTdGFydFRpbWUsXG4gICAgY29udGFpbmVyOiBmcmFtZS5wYWdlTWFyZ2luQm94LFxuICAgIHN1YmplY3Q6IHN1YmplY3QsXG4gICAgY2VudGVyOiBjZW50ZXIsXG4gICAgc2hvdWxkVXNlVGltZURhbXBlbmluZzogc2hvdWxkVXNlVGltZURhbXBlbmluZ1xuICB9KTtcbiAgcmV0dXJuIHNjcm9sbCAmJiBjYW5TY3JvbGxEcm9wcGFibGUoZHJvcHBhYmxlLCBzY3JvbGwpID8gc2Nyb2xsIDogbnVsbDtcbn0pO1xuXG52YXIgc2Nyb2xsJDEgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIGRyYWdTdGFydFRpbWUgPSBfcmVmLmRyYWdTdGFydFRpbWUsXG4gICAgICBzaG91bGRVc2VUaW1lRGFtcGVuaW5nID0gX3JlZi5zaG91bGRVc2VUaW1lRGFtcGVuaW5nLFxuICAgICAgc2Nyb2xsV2luZG93ID0gX3JlZi5zY3JvbGxXaW5kb3csXG4gICAgICBzY3JvbGxEcm9wcGFibGUgPSBfcmVmLnNjcm9sbERyb3BwYWJsZTtcbiAgdmFyIGNlbnRlciA9IHN0YXRlLmN1cnJlbnQucGFnZS5ib3JkZXJCb3hDZW50ZXI7XG4gIHZhciBkcmFnZ2FibGUgPSBzdGF0ZS5kaW1lbnNpb25zLmRyYWdnYWJsZXNbc3RhdGUuY3JpdGljYWwuZHJhZ2dhYmxlLmlkXTtcbiAgdmFyIHN1YmplY3QgPSBkcmFnZ2FibGUucGFnZS5tYXJnaW5Cb3g7XG5cbiAgaWYgKHN0YXRlLmlzV2luZG93U2Nyb2xsQWxsb3dlZCkge1xuICAgIHZhciB2aWV3cG9ydCA9IHN0YXRlLnZpZXdwb3J0O1xuXG4gICAgdmFyIF9jaGFuZ2UgPSBnZXRXaW5kb3dTY3JvbGxDaGFuZ2Uoe1xuICAgICAgZHJhZ1N0YXJ0VGltZTogZHJhZ1N0YXJ0VGltZSxcbiAgICAgIHZpZXdwb3J0OiB2aWV3cG9ydCxcbiAgICAgIHN1YmplY3Q6IHN1YmplY3QsXG4gICAgICBjZW50ZXI6IGNlbnRlcixcbiAgICAgIHNob3VsZFVzZVRpbWVEYW1wZW5pbmc6IHNob3VsZFVzZVRpbWVEYW1wZW5pbmdcbiAgICB9KTtcblxuICAgIGlmIChfY2hhbmdlKSB7XG4gICAgICBzY3JvbGxXaW5kb3coX2NoYW5nZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgdmFyIGRyb3BwYWJsZSA9IGdldEJlc3RTY3JvbGxhYmxlRHJvcHBhYmxlKHtcbiAgICBjZW50ZXI6IGNlbnRlcixcbiAgICBkZXN0aW5hdGlvbjogd2hhdElzRHJhZ2dlZE92ZXIoc3RhdGUuaW1wYWN0KSxcbiAgICBkcm9wcGFibGVzOiBzdGF0ZS5kaW1lbnNpb25zLmRyb3BwYWJsZXNcbiAgfSk7XG5cbiAgaWYgKCFkcm9wcGFibGUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY2hhbmdlID0gZ2V0RHJvcHBhYmxlU2Nyb2xsQ2hhbmdlKHtcbiAgICBkcmFnU3RhcnRUaW1lOiBkcmFnU3RhcnRUaW1lLFxuICAgIGRyb3BwYWJsZTogZHJvcHBhYmxlLFxuICAgIHN1YmplY3Q6IHN1YmplY3QsXG4gICAgY2VudGVyOiBjZW50ZXIsXG4gICAgc2hvdWxkVXNlVGltZURhbXBlbmluZzogc2hvdWxkVXNlVGltZURhbXBlbmluZ1xuICB9KTtcblxuICBpZiAoY2hhbmdlKSB7XG4gICAgc2Nyb2xsRHJvcHBhYmxlKGRyb3BwYWJsZS5kZXNjcmlwdG9yLmlkLCBjaGFuZ2UpO1xuICB9XG59KTtcblxudmFyIGNyZWF0ZUZsdWlkU2Nyb2xsZXIgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIHNjcm9sbFdpbmRvdyA9IF9yZWYuc2Nyb2xsV2luZG93LFxuICAgICAgc2Nyb2xsRHJvcHBhYmxlID0gX3JlZi5zY3JvbGxEcm9wcGFibGU7XG4gIHZhciBzY2hlZHVsZVdpbmRvd1Njcm9sbCA9IHJhZlNjaGQoc2Nyb2xsV2luZG93KTtcbiAgdmFyIHNjaGVkdWxlRHJvcHBhYmxlU2Nyb2xsID0gcmFmU2NoZChzY3JvbGxEcm9wcGFibGUpO1xuICB2YXIgZHJhZ2dpbmcgPSBudWxsO1xuXG4gIHZhciB0cnlTY3JvbGwgPSBmdW5jdGlvbiB0cnlTY3JvbGwoc3RhdGUpIHtcbiAgICAhZHJhZ2dpbmcgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgZmx1aWQgc2Nyb2xsIGlmIG5vdCBkcmFnZ2luZycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgX2RyYWdnaW5nID0gZHJhZ2dpbmcsXG4gICAgICAgIHNob3VsZFVzZVRpbWVEYW1wZW5pbmcgPSBfZHJhZ2dpbmcuc2hvdWxkVXNlVGltZURhbXBlbmluZyxcbiAgICAgICAgZHJhZ1N0YXJ0VGltZSA9IF9kcmFnZ2luZy5kcmFnU3RhcnRUaW1lO1xuICAgIHNjcm9sbCQxKHtcbiAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgIHNjcm9sbFdpbmRvdzogc2NoZWR1bGVXaW5kb3dTY3JvbGwsXG4gICAgICBzY3JvbGxEcm9wcGFibGU6IHNjaGVkdWxlRHJvcHBhYmxlU2Nyb2xsLFxuICAgICAgZHJhZ1N0YXJ0VGltZTogZHJhZ1N0YXJ0VGltZSxcbiAgICAgIHNob3VsZFVzZVRpbWVEYW1wZW5pbmc6IHNob3VsZFVzZVRpbWVEYW1wZW5pbmdcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgc3RhcnQkMSA9IGZ1bmN0aW9uIHN0YXJ0JDEoc3RhdGUpIHtcbiAgICBzdGFydCgpO1xuICAgICEhZHJhZ2dpbmcgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3Qgc3RhcnQgYXV0byBzY3JvbGxpbmcgd2hlbiBhbHJlYWR5IHN0YXJ0ZWQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGRyYWdTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHZhciB3YXNTY3JvbGxOZWVkZWQgPSBmYWxzZTtcblxuICAgIHZhciBmYWtlU2Nyb2xsQ2FsbGJhY2sgPSBmdW5jdGlvbiBmYWtlU2Nyb2xsQ2FsbGJhY2soKSB7XG4gICAgICB3YXNTY3JvbGxOZWVkZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICBzY3JvbGwkMSh7XG4gICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICBkcmFnU3RhcnRUaW1lOiAwLFxuICAgICAgc2hvdWxkVXNlVGltZURhbXBlbmluZzogZmFsc2UsXG4gICAgICBzY3JvbGxXaW5kb3c6IGZha2VTY3JvbGxDYWxsYmFjayxcbiAgICAgIHNjcm9sbERyb3BwYWJsZTogZmFrZVNjcm9sbENhbGxiYWNrXG4gICAgfSk7XG4gICAgZHJhZ2dpbmcgPSB7XG4gICAgICBkcmFnU3RhcnRUaW1lOiBkcmFnU3RhcnRUaW1lLFxuICAgICAgc2hvdWxkVXNlVGltZURhbXBlbmluZzogd2FzU2Nyb2xsTmVlZGVkXG4gICAgfTtcbiAgICBmaW5pc2goKTtcblxuICAgIGlmICh3YXNTY3JvbGxOZWVkZWQpIHtcbiAgICAgIHRyeVNjcm9sbChzdGF0ZSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBzdG9wID0gZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBpZiAoIWRyYWdnaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2NoZWR1bGVXaW5kb3dTY3JvbGwuY2FuY2VsKCk7XG4gICAgc2NoZWR1bGVEcm9wcGFibGVTY3JvbGwuY2FuY2VsKCk7XG4gICAgZHJhZ2dpbmcgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IHN0YXJ0JDEsXG4gICAgc3RvcDogc3RvcCxcbiAgICBzY3JvbGw6IHRyeVNjcm9sbFxuICB9O1xufSk7XG5cbnZhciBjcmVhdGVKdW1wU2Nyb2xsZXIgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIG1vdmUgPSBfcmVmLm1vdmUsXG4gICAgICBzY3JvbGxEcm9wcGFibGUgPSBfcmVmLnNjcm9sbERyb3BwYWJsZSxcbiAgICAgIHNjcm9sbFdpbmRvdyA9IF9yZWYuc2Nyb2xsV2luZG93O1xuXG4gIHZhciBtb3ZlQnlPZmZzZXQgPSBmdW5jdGlvbiBtb3ZlQnlPZmZzZXQoc3RhdGUsIG9mZnNldCkge1xuICAgIHZhciBjbGllbnQgPSBhZGQoc3RhdGUuY3VycmVudC5jbGllbnQuc2VsZWN0aW9uLCBvZmZzZXQpO1xuICAgIG1vdmUoe1xuICAgICAgY2xpZW50OiBjbGllbnRcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgc2Nyb2xsRHJvcHBhYmxlQXNNdWNoQXNJdENhbiA9IGZ1bmN0aW9uIHNjcm9sbERyb3BwYWJsZUFzTXVjaEFzSXRDYW4oZHJvcHBhYmxlLCBjaGFuZ2UpIHtcbiAgICBpZiAoIWNhblNjcm9sbERyb3BwYWJsZShkcm9wcGFibGUsIGNoYW5nZSkpIHtcbiAgICAgIHJldHVybiBjaGFuZ2U7XG4gICAgfVxuXG4gICAgdmFyIG92ZXJsYXAgPSBnZXREcm9wcGFibGVPdmVybGFwKGRyb3BwYWJsZSwgY2hhbmdlKTtcblxuICAgIGlmICghb3ZlcmxhcCkge1xuICAgICAgc2Nyb2xsRHJvcHBhYmxlKGRyb3BwYWJsZS5kZXNjcmlwdG9yLmlkLCBjaGFuZ2UpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHdoYXRUaGVEcm9wcGFibGVDYW5TY3JvbGwgPSBzdWJ0cmFjdChjaGFuZ2UsIG92ZXJsYXApO1xuICAgIHNjcm9sbERyb3BwYWJsZShkcm9wcGFibGUuZGVzY3JpcHRvci5pZCwgd2hhdFRoZURyb3BwYWJsZUNhblNjcm9sbCk7XG4gICAgdmFyIHJlbWFpbmRlciA9IHN1YnRyYWN0KGNoYW5nZSwgd2hhdFRoZURyb3BwYWJsZUNhblNjcm9sbCk7XG4gICAgcmV0dXJuIHJlbWFpbmRlcjtcbiAgfTtcblxuICB2YXIgc2Nyb2xsV2luZG93QXNNdWNoQXNJdENhbiA9IGZ1bmN0aW9uIHNjcm9sbFdpbmRvd0FzTXVjaEFzSXRDYW4oaXNXaW5kb3dTY3JvbGxBbGxvd2VkLCB2aWV3cG9ydCwgY2hhbmdlKSB7XG4gICAgaWYgKCFpc1dpbmRvd1Njcm9sbEFsbG93ZWQpIHtcbiAgICAgIHJldHVybiBjaGFuZ2U7XG4gICAgfVxuXG4gICAgaWYgKCFjYW5TY3JvbGxXaW5kb3codmlld3BvcnQsIGNoYW5nZSkpIHtcbiAgICAgIHJldHVybiBjaGFuZ2U7XG4gICAgfVxuXG4gICAgdmFyIG92ZXJsYXAgPSBnZXRXaW5kb3dPdmVybGFwKHZpZXdwb3J0LCBjaGFuZ2UpO1xuXG4gICAgaWYgKCFvdmVybGFwKSB7XG4gICAgICBzY3JvbGxXaW5kb3coY2hhbmdlKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciB3aGF0VGhlV2luZG93Q2FuU2Nyb2xsID0gc3VidHJhY3QoY2hhbmdlLCBvdmVybGFwKTtcbiAgICBzY3JvbGxXaW5kb3cod2hhdFRoZVdpbmRvd0NhblNjcm9sbCk7XG4gICAgdmFyIHJlbWFpbmRlciA9IHN1YnRyYWN0KGNoYW5nZSwgd2hhdFRoZVdpbmRvd0NhblNjcm9sbCk7XG4gICAgcmV0dXJuIHJlbWFpbmRlcjtcbiAgfTtcblxuICB2YXIganVtcFNjcm9sbGVyID0gZnVuY3Rpb24ganVtcFNjcm9sbGVyKHN0YXRlKSB7XG4gICAgdmFyIHJlcXVlc3QgPSBzdGF0ZS5zY3JvbGxKdW1wUmVxdWVzdDtcblxuICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBkZXN0aW5hdGlvbiA9IHdoYXRJc0RyYWdnZWRPdmVyKHN0YXRlLmltcGFjdCk7XG4gICAgIWRlc3RpbmF0aW9uID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IHBlcmZvcm0gYSBqdW1wIHNjcm9sbCB3aGVuIHRoZXJlIGlzIG5vIGRlc3RpbmF0aW9uJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBkcm9wcGFibGVSZW1haW5kZXIgPSBzY3JvbGxEcm9wcGFibGVBc011Y2hBc0l0Q2FuKHN0YXRlLmRpbWVuc2lvbnMuZHJvcHBhYmxlc1tkZXN0aW5hdGlvbl0sIHJlcXVlc3QpO1xuXG4gICAgaWYgKCFkcm9wcGFibGVSZW1haW5kZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdmlld3BvcnQgPSBzdGF0ZS52aWV3cG9ydDtcbiAgICB2YXIgd2luZG93UmVtYWluZGVyID0gc2Nyb2xsV2luZG93QXNNdWNoQXNJdENhbihzdGF0ZS5pc1dpbmRvd1Njcm9sbEFsbG93ZWQsIHZpZXdwb3J0LCBkcm9wcGFibGVSZW1haW5kZXIpO1xuXG4gICAgaWYgKCF3aW5kb3dSZW1haW5kZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBtb3ZlQnlPZmZzZXQoc3RhdGUsIHdpbmRvd1JlbWFpbmRlcik7XG4gIH07XG5cbiAgcmV0dXJuIGp1bXBTY3JvbGxlcjtcbn0pO1xuXG52YXIgY3JlYXRlQXV0b1Njcm9sbGVyID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBzY3JvbGxEcm9wcGFibGUgPSBfcmVmLnNjcm9sbERyb3BwYWJsZSxcbiAgICAgIHNjcm9sbFdpbmRvdyA9IF9yZWYuc2Nyb2xsV2luZG93LFxuICAgICAgbW92ZSA9IF9yZWYubW92ZTtcbiAgdmFyIGZsdWlkU2Nyb2xsZXIgPSBjcmVhdGVGbHVpZFNjcm9sbGVyKHtcbiAgICBzY3JvbGxXaW5kb3c6IHNjcm9sbFdpbmRvdyxcbiAgICBzY3JvbGxEcm9wcGFibGU6IHNjcm9sbERyb3BwYWJsZVxuICB9KTtcbiAgdmFyIGp1bXBTY3JvbGwgPSBjcmVhdGVKdW1wU2Nyb2xsZXIoe1xuICAgIG1vdmU6IG1vdmUsXG4gICAgc2Nyb2xsV2luZG93OiBzY3JvbGxXaW5kb3csXG4gICAgc2Nyb2xsRHJvcHBhYmxlOiBzY3JvbGxEcm9wcGFibGVcbiAgfSk7XG5cbiAgdmFyIHNjcm9sbCA9IGZ1bmN0aW9uIHNjcm9sbChzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS5waGFzZSAhPT0gJ0RSQUdHSU5HJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZS5tb3ZlbWVudE1vZGUgPT09ICdGTFVJRCcpIHtcbiAgICAgIGZsdWlkU2Nyb2xsZXIuc2Nyb2xsKHN0YXRlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXN0YXRlLnNjcm9sbEp1bXBSZXF1ZXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAganVtcFNjcm9sbChzdGF0ZSk7XG4gIH07XG5cbiAgdmFyIHNjcm9sbGVyID0ge1xuICAgIHNjcm9sbDogc2Nyb2xsLFxuICAgIHN0YXJ0OiBmbHVpZFNjcm9sbGVyLnN0YXJ0LFxuICAgIHN0b3A6IGZsdWlkU2Nyb2xsZXIuc3RvcFxuICB9O1xuICByZXR1cm4gc2Nyb2xsZXI7XG59KTtcblxudmFyIHByZWZpeCQxID0gJ2RhdGEtcmJkJztcbnZhciBkcmFnSGFuZGxlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgYmFzZSA9IHByZWZpeCQxICsgXCItZHJhZy1oYW5kbGVcIjtcbiAgcmV0dXJuIHtcbiAgICBiYXNlOiBiYXNlLFxuICAgIGRyYWdnYWJsZUlkOiBiYXNlICsgXCItZHJhZ2dhYmxlLWlkXCIsXG4gICAgY29udGV4dElkOiBiYXNlICsgXCItY29udGV4dC1pZFwiXG4gIH07XG59KCk7XG52YXIgZHJhZ2dhYmxlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgYmFzZSA9IHByZWZpeCQxICsgXCItZHJhZ2dhYmxlXCI7XG4gIHJldHVybiB7XG4gICAgYmFzZTogYmFzZSxcbiAgICBjb250ZXh0SWQ6IGJhc2UgKyBcIi1jb250ZXh0LWlkXCIsXG4gICAgaWQ6IGJhc2UgKyBcIi1pZFwiXG4gIH07XG59KCk7XG52YXIgZHJvcHBhYmxlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgYmFzZSA9IHByZWZpeCQxICsgXCItZHJvcHBhYmxlXCI7XG4gIHJldHVybiB7XG4gICAgYmFzZTogYmFzZSxcbiAgICBjb250ZXh0SWQ6IGJhc2UgKyBcIi1jb250ZXh0LWlkXCIsXG4gICAgaWQ6IGJhc2UgKyBcIi1pZFwiXG4gIH07XG59KCk7XG52YXIgc2Nyb2xsQ29udGFpbmVyID0ge1xuICBjb250ZXh0SWQ6IHByZWZpeCQxICsgXCItc2Nyb2xsLWNvbnRhaW5lci1jb250ZXh0LWlkXCJcbn07XG5cbnZhciBtYWtlR2V0U2VsZWN0b3IgPSBmdW5jdGlvbiBtYWtlR2V0U2VsZWN0b3IoY29udGV4dCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGF0dHJpYnV0ZSkge1xuICAgIHJldHVybiBcIltcIiArIGF0dHJpYnV0ZSArIFwiPVxcXCJcIiArIGNvbnRleHQgKyBcIlxcXCJdXCI7XG4gIH07XG59O1xuXG52YXIgZ2V0U3R5bGVzID0gZnVuY3Rpb24gZ2V0U3R5bGVzKHJ1bGVzLCBwcm9wZXJ0eSkge1xuICByZXR1cm4gcnVsZXMubWFwKGZ1bmN0aW9uIChydWxlKSB7XG4gICAgdmFyIHZhbHVlID0gcnVsZS5zdHlsZXNbcHJvcGVydHldO1xuXG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHJldHVybiBydWxlLnNlbGVjdG9yICsgXCIgeyBcIiArIHZhbHVlICsgXCIgfVwiO1xuICB9KS5qb2luKCcgJyk7XG59O1xuXG52YXIgbm9Qb2ludGVyRXZlbnRzID0gJ3BvaW50ZXItZXZlbnRzOiBub25lOyc7XG52YXIgZ2V0U3R5bGVzJDEgPSAoZnVuY3Rpb24gKGNvbnRleHRJZCkge1xuICB2YXIgZ2V0U2VsZWN0b3IgPSBtYWtlR2V0U2VsZWN0b3IoY29udGV4dElkKTtcblxuICB2YXIgZHJhZ0hhbmRsZSQxID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBncmFiQ3Vyc29yID0gXCJcXG4gICAgICBjdXJzb3I6IC13ZWJraXQtZ3JhYjtcXG4gICAgICBjdXJzb3I6IGdyYWI7XFxuICAgIFwiO1xuICAgIHJldHVybiB7XG4gICAgICBzZWxlY3RvcjogZ2V0U2VsZWN0b3IoZHJhZ0hhbmRsZS5jb250ZXh0SWQpLFxuICAgICAgc3R5bGVzOiB7XG4gICAgICAgIGFsd2F5czogXCJcXG4gICAgICAgICAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xcbiAgICAgICAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHJnYmEoMCwwLDAsMCk7XFxuICAgICAgICAgIHRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uO1xcbiAgICAgICAgXCIsXG4gICAgICAgIHJlc3Rpbmc6IGdyYWJDdXJzb3IsXG4gICAgICAgIGRyYWdnaW5nOiBub1BvaW50ZXJFdmVudHMsXG4gICAgICAgIGRyb3BBbmltYXRpbmc6IGdyYWJDdXJzb3JcbiAgICAgIH1cbiAgICB9O1xuICB9KCk7XG5cbiAgdmFyIGRyYWdnYWJsZSQxID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0cmFuc2l0aW9uID0gXCJcXG4gICAgICB0cmFuc2l0aW9uOiBcIiArIHRyYW5zaXRpb25zLm91dE9mVGhlV2F5ICsgXCI7XFxuICAgIFwiO1xuICAgIHJldHVybiB7XG4gICAgICBzZWxlY3RvcjogZ2V0U2VsZWN0b3IoZHJhZ2dhYmxlLmNvbnRleHRJZCksXG4gICAgICBzdHlsZXM6IHtcbiAgICAgICAgZHJhZ2dpbmc6IHRyYW5zaXRpb24sXG4gICAgICAgIGRyb3BBbmltYXRpbmc6IHRyYW5zaXRpb24sXG4gICAgICAgIHVzZXJDYW5jZWw6IHRyYW5zaXRpb25cbiAgICAgIH1cbiAgICB9O1xuICB9KCk7XG5cbiAgdmFyIGRyb3BwYWJsZSQxID0ge1xuICAgIHNlbGVjdG9yOiBnZXRTZWxlY3Rvcihkcm9wcGFibGUuY29udGV4dElkKSxcbiAgICBzdHlsZXM6IHtcbiAgICAgIGFsd2F5czogXCJvdmVyZmxvdy1hbmNob3I6IG5vbmU7XCJcbiAgICB9XG4gIH07XG4gIHZhciBib2R5ID0ge1xuICAgIHNlbGVjdG9yOiAnYm9keScsXG4gICAgc3R5bGVzOiB7XG4gICAgICBkcmFnZ2luZzogXCJcXG4gICAgICAgIGN1cnNvcjogZ3JhYmJpbmc7XFxuICAgICAgICBjdXJzb3I6IC13ZWJraXQtZ3JhYmJpbmc7XFxuICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAgICAgb3ZlcmZsb3ctYW5jaG9yOiBub25lO1xcbiAgICAgIFwiXG4gICAgfVxuICB9O1xuICB2YXIgcnVsZXMgPSBbZHJhZ2dhYmxlJDEsIGRyYWdIYW5kbGUkMSwgZHJvcHBhYmxlJDEsIGJvZHldO1xuICByZXR1cm4ge1xuICAgIGFsd2F5czogZ2V0U3R5bGVzKHJ1bGVzLCAnYWx3YXlzJyksXG4gICAgcmVzdGluZzogZ2V0U3R5bGVzKHJ1bGVzLCAncmVzdGluZycpLFxuICAgIGRyYWdnaW5nOiBnZXRTdHlsZXMocnVsZXMsICdkcmFnZ2luZycpLFxuICAgIGRyb3BBbmltYXRpbmc6IGdldFN0eWxlcyhydWxlcywgJ2Ryb3BBbmltYXRpbmcnKSxcbiAgICB1c2VyQ2FuY2VsOiBnZXRTdHlsZXMocnVsZXMsICd1c2VyQ2FuY2VsJylcbiAgfTtcbn0pO1xuXG52YXIgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgPyB1c2VMYXlvdXRFZmZlY3QgOiB1c2VFZmZlY3Q7XG5cbnZhciBnZXRIZWFkID0gZnVuY3Rpb24gZ2V0SGVhZCgpIHtcbiAgdmFyIGhlYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkJyk7XG4gICFoZWFkID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IGZpbmQgdGhlIGhlYWQgdG8gYXBwZW5kIGEgc3R5bGUgdG8nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIHJldHVybiBoZWFkO1xufTtcblxudmFyIGNyZWF0ZVN0eWxlRWwgPSBmdW5jdGlvbiBjcmVhdGVTdHlsZUVsKG5vbmNlKSB7XG4gIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cbiAgaWYgKG5vbmNlKSB7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdub25jZScsIG5vbmNlKTtcbiAgfVxuXG4gIGVsLnR5cGUgPSAndGV4dC9jc3MnO1xuICByZXR1cm4gZWw7XG59O1xuXG5mdW5jdGlvbiB1c2VTdHlsZU1hcnNoYWwoY29udGV4dElkLCBub25jZSkge1xuICB2YXIgc3R5bGVzID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdldFN0eWxlcyQxKGNvbnRleHRJZCk7XG4gIH0sIFtjb250ZXh0SWRdKTtcbiAgdmFyIGFsd2F5c1JlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIGR5bmFtaWNSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBzZXREeW5hbWljU3R5bGUgPSB1c2VDYWxsYmFjayhtZW1vaXplT25lKGZ1bmN0aW9uIChwcm9wb3NlZCkge1xuICAgIHZhciBlbCA9IGR5bmFtaWNSZWYuY3VycmVudDtcbiAgICAhZWwgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3Qgc2V0IGR5bmFtaWMgc3R5bGUgZWxlbWVudCBpZiBpdCBpcyBub3Qgc2V0JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGVsLnRleHRDb250ZW50ID0gcHJvcG9zZWQ7XG4gIH0pLCBbXSk7XG4gIHZhciBzZXRBbHdheXNTdHlsZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwcm9wb3NlZCkge1xuICAgIHZhciBlbCA9IGFsd2F5c1JlZi5jdXJyZW50O1xuICAgICFlbCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBzZXQgZHluYW1pYyBzdHlsZSBlbGVtZW50IGlmIGl0IGlzIG5vdCBzZXQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgZWwudGV4dENvbnRlbnQgPSBwcm9wb3NlZDtcbiAgfSwgW10pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAhKCFhbHdheXNSZWYuY3VycmVudCAmJiAhZHluYW1pY1JlZi5jdXJyZW50KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ3N0eWxlIGVsZW1lbnRzIGFscmVhZHkgbW91bnRlZCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgYWx3YXlzID0gY3JlYXRlU3R5bGVFbChub25jZSk7XG4gICAgdmFyIGR5bmFtaWMgPSBjcmVhdGVTdHlsZUVsKG5vbmNlKTtcbiAgICBhbHdheXNSZWYuY3VycmVudCA9IGFsd2F5cztcbiAgICBkeW5hbWljUmVmLmN1cnJlbnQgPSBkeW5hbWljO1xuICAgIGFsd2F5cy5zZXRBdHRyaWJ1dGUocHJlZml4JDEgKyBcIi1hbHdheXNcIiwgY29udGV4dElkKTtcbiAgICBkeW5hbWljLnNldEF0dHJpYnV0ZShwcmVmaXgkMSArIFwiLWR5bmFtaWNcIiwgY29udGV4dElkKTtcbiAgICBnZXRIZWFkKCkuYXBwZW5kQ2hpbGQoYWx3YXlzKTtcbiAgICBnZXRIZWFkKCkuYXBwZW5kQ2hpbGQoZHluYW1pYyk7XG4gICAgc2V0QWx3YXlzU3R5bGUoc3R5bGVzLmFsd2F5cyk7XG4gICAgc2V0RHluYW1pY1N0eWxlKHN0eWxlcy5yZXN0aW5nKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZShyZWYpIHtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSByZWYuY3VycmVudDtcbiAgICAgICAgIWN1cnJlbnQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgdW5tb3VudCByZWYgYXMgaXQgaXMgbm90IHNldCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgZ2V0SGVhZCgpLnJlbW92ZUNoaWxkKGN1cnJlbnQpO1xuICAgICAgICByZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9O1xuXG4gICAgICByZW1vdmUoYWx3YXlzUmVmKTtcbiAgICAgIHJlbW92ZShkeW5hbWljUmVmKTtcbiAgICB9O1xuICB9LCBbbm9uY2UsIHNldEFsd2F5c1N0eWxlLCBzZXREeW5hbWljU3R5bGUsIHN0eWxlcy5hbHdheXMsIHN0eWxlcy5yZXN0aW5nLCBjb250ZXh0SWRdKTtcbiAgdmFyIGRyYWdnaW5nID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBzZXREeW5hbWljU3R5bGUoc3R5bGVzLmRyYWdnaW5nKTtcbiAgfSwgW3NldER5bmFtaWNTdHlsZSwgc3R5bGVzLmRyYWdnaW5nXSk7XG4gIHZhciBkcm9wcGluZyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICBpZiAocmVhc29uID09PSAnRFJPUCcpIHtcbiAgICAgIHNldER5bmFtaWNTdHlsZShzdHlsZXMuZHJvcEFuaW1hdGluZyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0RHluYW1pY1N0eWxlKHN0eWxlcy51c2VyQ2FuY2VsKTtcbiAgfSwgW3NldER5bmFtaWNTdHlsZSwgc3R5bGVzLmRyb3BBbmltYXRpbmcsIHN0eWxlcy51c2VyQ2FuY2VsXSk7XG4gIHZhciByZXN0aW5nID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIGlmICghZHluYW1pY1JlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0RHluYW1pY1N0eWxlKHN0eWxlcy5yZXN0aW5nKTtcbiAgfSwgW3NldER5bmFtaWNTdHlsZSwgc3R5bGVzLnJlc3RpbmddKTtcbiAgdmFyIG1hcnNoYWwgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZHJhZ2dpbmc6IGRyYWdnaW5nLFxuICAgICAgZHJvcHBpbmc6IGRyb3BwaW5nLFxuICAgICAgcmVzdGluZzogcmVzdGluZ1xuICAgIH07XG4gIH0sIFtkcmFnZ2luZywgZHJvcHBpbmcsIHJlc3RpbmddKTtcbiAgcmV0dXJuIG1hcnNoYWw7XG59XG5cbnZhciBnZXRXaW5kb3dGcm9tRWwgPSAoZnVuY3Rpb24gKGVsKSB7XG4gIHJldHVybiBlbCAmJiBlbC5vd25lckRvY3VtZW50ID8gZWwub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyA6IHdpbmRvdztcbn0pO1xuXG5mdW5jdGlvbiBpc0h0bWxFbGVtZW50KGVsKSB7XG4gIHJldHVybiBlbCBpbnN0YW5jZW9mIGdldFdpbmRvd0Zyb21FbChlbCkuSFRNTEVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGZpbmREcmFnSGFuZGxlKGNvbnRleHRJZCwgZHJhZ2dhYmxlSWQpIHtcbiAgdmFyIHNlbGVjdG9yID0gXCJbXCIgKyBkcmFnSGFuZGxlLmNvbnRleHRJZCArIFwiPVxcXCJcIiArIGNvbnRleHRJZCArIFwiXFxcIl1cIjtcbiAgdmFyIHBvc3NpYmxlID0gdG9BcnJheShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG5cbiAgaWYgKCFwb3NzaWJsZS5sZW5ndGgpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKFwiVW5hYmxlIHRvIGZpbmQgYW55IGRyYWcgaGFuZGxlcyBpbiB0aGUgY29udGV4dCBcXFwiXCIgKyBjb250ZXh0SWQgKyBcIlxcXCJcIikgOiB2b2lkIDA7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgaGFuZGxlID0gZmluZChwb3NzaWJsZSwgZnVuY3Rpb24gKGVsKSB7XG4gICAgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZShkcmFnSGFuZGxlLmRyYWdnYWJsZUlkKSA9PT0gZHJhZ2dhYmxlSWQ7XG4gIH0pO1xuXG4gIGlmICghaGFuZGxlKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhcIlVuYWJsZSB0byBmaW5kIGRyYWcgaGFuZGxlIHdpdGggaWQgXFxcIlwiICsgZHJhZ2dhYmxlSWQgKyBcIlxcXCIgYXMgbm8gaGFuZGxlIHdpdGggYSBtYXRjaGluZyBpZCB3YXMgZm91bmRcIikgOiB2b2lkIDA7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoIWlzSHRtbEVsZW1lbnQoaGFuZGxlKSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoJ2RyYWcgaGFuZGxlIG5lZWRzIHRvIGJlIGEgSFRNTEVsZW1lbnQnKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBoYW5kbGU7XG59XG5cbmZ1bmN0aW9uIHVzZUZvY3VzTWFyc2hhbChjb250ZXh0SWQpIHtcbiAgdmFyIGVudHJpZXNSZWYgPSB1c2VSZWYoe30pO1xuICB2YXIgcmVjb3JkUmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgcmVzdG9yZUZvY3VzRnJhbWVSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBpc01vdW50ZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICB2YXIgcmVnaXN0ZXIgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiByZWdpc3RlcihpZCwgZm9jdXMpIHtcbiAgICB2YXIgZW50cnkgPSB7XG4gICAgICBpZDogaWQsXG4gICAgICBmb2N1czogZm9jdXNcbiAgICB9O1xuICAgIGVudHJpZXNSZWYuY3VycmVudFtpZF0gPSBlbnRyeTtcbiAgICByZXR1cm4gZnVuY3Rpb24gdW5yZWdpc3RlcigpIHtcbiAgICAgIHZhciBlbnRyaWVzID0gZW50cmllc1JlZi5jdXJyZW50O1xuICAgICAgdmFyIGN1cnJlbnQgPSBlbnRyaWVzW2lkXTtcblxuICAgICAgaWYgKGN1cnJlbnQgIT09IGVudHJ5KSB7XG4gICAgICAgIGRlbGV0ZSBlbnRyaWVzW2lkXTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG4gIHZhciB0cnlHaXZlRm9jdXMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiB0cnlHaXZlRm9jdXModHJ5R2l2ZUZvY3VzVG8pIHtcbiAgICB2YXIgaGFuZGxlID0gZmluZERyYWdIYW5kbGUoY29udGV4dElkLCB0cnlHaXZlRm9jdXNUbyk7XG5cbiAgICBpZiAoaGFuZGxlICYmIGhhbmRsZSAhPT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgICAgaGFuZGxlLmZvY3VzKCk7XG4gICAgfVxuICB9LCBbY29udGV4dElkXSk7XG4gIHZhciB0cnlTaGlmdFJlY29yZCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIHRyeVNoaWZ0UmVjb3JkKHByZXZpb3VzLCByZWRpcmVjdFRvKSB7XG4gICAgaWYgKHJlY29yZFJlZi5jdXJyZW50ID09PSBwcmV2aW91cykge1xuICAgICAgcmVjb3JkUmVmLmN1cnJlbnQgPSByZWRpcmVjdFRvO1xuICAgIH1cbiAgfSwgW10pO1xuICB2YXIgdHJ5UmVzdG9yZUZvY3VzUmVjb3JkZWQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiB0cnlSZXN0b3JlRm9jdXNSZWNvcmRlZCgpIHtcbiAgICBpZiAocmVzdG9yZUZvY3VzRnJhbWVSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXN0b3JlRm9jdXNGcmFtZVJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlc3RvcmVGb2N1c0ZyYW1lUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgdmFyIHJlY29yZCA9IHJlY29yZFJlZi5jdXJyZW50O1xuXG4gICAgICBpZiAocmVjb3JkKSB7XG4gICAgICAgIHRyeUdpdmVGb2N1cyhyZWNvcmQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbdHJ5R2l2ZUZvY3VzXSk7XG4gIHZhciB0cnlSZWNvcmRGb2N1cyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIHRyeVJlY29yZEZvY3VzKGlkKSB7XG4gICAgcmVjb3JkUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIHZhciBmb2N1c2VkID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuICAgIGlmICghZm9jdXNlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChmb2N1c2VkLmdldEF0dHJpYnV0ZShkcmFnSGFuZGxlLmRyYWdnYWJsZUlkKSAhPT0gaWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZWNvcmRSZWYuY3VycmVudCA9IGlkO1xuICB9LCBbXSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gY2xlYXJGcmFtZU9uVW5tb3VudCgpIHtcbiAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICB2YXIgZnJhbWVJZCA9IHJlc3RvcmVGb2N1c0ZyYW1lUmVmLmN1cnJlbnQ7XG5cbiAgICAgIGlmIChmcmFtZUlkKSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGZyYW1lSWQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtdKTtcbiAgdmFyIG1hcnNoYWwgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVnaXN0ZXI6IHJlZ2lzdGVyLFxuICAgICAgdHJ5UmVjb3JkRm9jdXM6IHRyeVJlY29yZEZvY3VzLFxuICAgICAgdHJ5UmVzdG9yZUZvY3VzUmVjb3JkZWQ6IHRyeVJlc3RvcmVGb2N1c1JlY29yZGVkLFxuICAgICAgdHJ5U2hpZnRSZWNvcmQ6IHRyeVNoaWZ0UmVjb3JkXG4gICAgfTtcbiAgfSwgW3JlZ2lzdGVyLCB0cnlSZWNvcmRGb2N1cywgdHJ5UmVzdG9yZUZvY3VzUmVjb3JkZWQsIHRyeVNoaWZ0UmVjb3JkXSk7XG4gIHJldHVybiBtYXJzaGFsO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVSZWdpc3RyeSgpIHtcbiAgdmFyIGVudHJpZXMgPSB7XG4gICAgZHJhZ2dhYmxlczoge30sXG4gICAgZHJvcHBhYmxlczoge31cbiAgfTtcbiAgdmFyIHN1YnNjcmliZXJzID0gW107XG5cbiAgZnVuY3Rpb24gc3Vic2NyaWJlKGNiKSB7XG4gICAgc3Vic2NyaWJlcnMucHVzaChjYik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgdmFyIGluZGV4ID0gc3Vic2NyaWJlcnMuaW5kZXhPZihjYik7XG5cbiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzdWJzY3JpYmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBub3RpZnkoZXZlbnQpIHtcbiAgICBpZiAoc3Vic2NyaWJlcnMubGVuZ3RoKSB7XG4gICAgICBzdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChjYikge1xuICAgICAgICByZXR1cm4gY2IoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmluZERyYWdnYWJsZUJ5SWQoaWQpIHtcbiAgICByZXR1cm4gZW50cmllcy5kcmFnZ2FibGVzW2lkXSB8fCBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RHJhZ2dhYmxlQnlJZChpZCkge1xuICAgIHZhciBlbnRyeSA9IGZpbmREcmFnZ2FibGVCeUlkKGlkKTtcbiAgICAhZW50cnkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiQ2Fubm90IGZpbmQgZHJhZ2dhYmxlIGVudHJ5IHdpdGggaWQgW1wiICsgaWQgKyBcIl1cIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHJldHVybiBlbnRyeTtcbiAgfVxuXG4gIHZhciBkcmFnZ2FibGVBUEkgPSB7XG4gICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKGVudHJ5KSB7XG4gICAgICBlbnRyaWVzLmRyYWdnYWJsZXNbZW50cnkuZGVzY3JpcHRvci5pZF0gPSBlbnRyeTtcbiAgICAgIG5vdGlmeSh7XG4gICAgICAgIHR5cGU6ICdBRERJVElPTicsXG4gICAgICAgIHZhbHVlOiBlbnRyeVxuICAgICAgfSk7XG4gICAgfSxcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShlbnRyeSwgbGFzdCkge1xuICAgICAgdmFyIGN1cnJlbnQgPSBlbnRyaWVzLmRyYWdnYWJsZXNbbGFzdC5kZXNjcmlwdG9yLmlkXTtcblxuICAgICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGN1cnJlbnQudW5pcXVlSWQgIT09IGVudHJ5LnVuaXF1ZUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZGVsZXRlIGVudHJpZXMuZHJhZ2dhYmxlc1tsYXN0LmRlc2NyaXB0b3IuaWRdO1xuICAgICAgZW50cmllcy5kcmFnZ2FibGVzW2VudHJ5LmRlc2NyaXB0b3IuaWRdID0gZW50cnk7XG4gICAgfSxcbiAgICB1bnJlZ2lzdGVyOiBmdW5jdGlvbiB1bnJlZ2lzdGVyKGVudHJ5KSB7XG4gICAgICB2YXIgZHJhZ2dhYmxlSWQgPSBlbnRyeS5kZXNjcmlwdG9yLmlkO1xuICAgICAgdmFyIGN1cnJlbnQgPSBmaW5kRHJhZ2dhYmxlQnlJZChkcmFnZ2FibGVJZCk7XG5cbiAgICAgIGlmICghY3VycmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChlbnRyeS51bmlxdWVJZCAhPT0gY3VycmVudC51bmlxdWVJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBlbnRyaWVzLmRyYWdnYWJsZXNbZHJhZ2dhYmxlSWRdO1xuICAgICAgbm90aWZ5KHtcbiAgICAgICAgdHlwZTogJ1JFTU9WQUwnLFxuICAgICAgICB2YWx1ZTogZW50cnlcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0QnlJZDogZ2V0RHJhZ2dhYmxlQnlJZCxcbiAgICBmaW5kQnlJZDogZmluZERyYWdnYWJsZUJ5SWQsXG4gICAgZXhpc3RzOiBmdW5jdGlvbiBleGlzdHMoaWQpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKGZpbmREcmFnZ2FibGVCeUlkKGlkKSk7XG4gICAgfSxcbiAgICBnZXRBbGxCeVR5cGU6IGZ1bmN0aW9uIGdldEFsbEJ5VHlwZSh0eXBlKSB7XG4gICAgICByZXR1cm4gdmFsdWVzKGVudHJpZXMuZHJhZ2dhYmxlcykuZmlsdGVyKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICByZXR1cm4gZW50cnkuZGVzY3JpcHRvci50eXBlID09PSB0eXBlO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGZpbmREcm9wcGFibGVCeUlkKGlkKSB7XG4gICAgcmV0dXJuIGVudHJpZXMuZHJvcHBhYmxlc1tpZF0gfHwgbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERyb3BwYWJsZUJ5SWQoaWQpIHtcbiAgICB2YXIgZW50cnkgPSBmaW5kRHJvcHBhYmxlQnlJZChpZCk7XG4gICAgIWVudHJ5ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIkNhbm5vdCBmaW5kIGRyb3BwYWJsZSBlbnRyeSB3aXRoIGlkIFtcIiArIGlkICsgXCJdXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gZW50cnk7XG4gIH1cblxuICB2YXIgZHJvcHBhYmxlQVBJID0ge1xuICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcihlbnRyeSkge1xuICAgICAgZW50cmllcy5kcm9wcGFibGVzW2VudHJ5LmRlc2NyaXB0b3IuaWRdID0gZW50cnk7XG4gICAgfSxcbiAgICB1bnJlZ2lzdGVyOiBmdW5jdGlvbiB1bnJlZ2lzdGVyKGVudHJ5KSB7XG4gICAgICB2YXIgY3VycmVudCA9IGZpbmREcm9wcGFibGVCeUlkKGVudHJ5LmRlc2NyaXB0b3IuaWQpO1xuXG4gICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZW50cnkudW5pcXVlSWQgIT09IGN1cnJlbnQudW5pcXVlSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgZW50cmllcy5kcm9wcGFibGVzW2VudHJ5LmRlc2NyaXB0b3IuaWRdO1xuICAgIH0sXG4gICAgZ2V0QnlJZDogZ2V0RHJvcHBhYmxlQnlJZCxcbiAgICBmaW5kQnlJZDogZmluZERyb3BwYWJsZUJ5SWQsXG4gICAgZXhpc3RzOiBmdW5jdGlvbiBleGlzdHMoaWQpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKGZpbmREcm9wcGFibGVCeUlkKGlkKSk7XG4gICAgfSxcbiAgICBnZXRBbGxCeVR5cGU6IGZ1bmN0aW9uIGdldEFsbEJ5VHlwZSh0eXBlKSB7XG4gICAgICByZXR1cm4gdmFsdWVzKGVudHJpZXMuZHJvcHBhYmxlcykuZmlsdGVyKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICByZXR1cm4gZW50cnkuZGVzY3JpcHRvci50eXBlID09PSB0eXBlO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNsZWFuKCkge1xuICAgIGVudHJpZXMuZHJhZ2dhYmxlcyA9IHt9O1xuICAgIGVudHJpZXMuZHJvcHBhYmxlcyA9IHt9O1xuICAgIHN1YnNjcmliZXJzLmxlbmd0aCA9IDA7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlQVBJLFxuICAgIGRyb3BwYWJsZTogZHJvcHBhYmxlQVBJLFxuICAgIHN1YnNjcmliZTogc3Vic2NyaWJlLFxuICAgIGNsZWFuOiBjbGVhblxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VSZWdpc3RyeSgpIHtcbiAgdmFyIHJlZ2lzdHJ5ID0gdXNlTWVtbyhjcmVhdGVSZWdpc3RyeSwgW10pO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiB1bm1vdW50KCkge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlZ2lzdHJ5LmNsZWFuKTtcbiAgICB9O1xuICB9LCBbcmVnaXN0cnldKTtcbiAgcmV0dXJuIHJlZ2lzdHJ5O1xufVxuXG52YXIgU3RvcmVDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcblxudmFyIGdldEJvZHlFbGVtZW50ID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICAhYm9keSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBmaW5kIGRvY3VtZW50LmJvZHknKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIHJldHVybiBib2R5O1xufSk7XG5cbnZhciB2aXN1YWxseUhpZGRlbiA9IHtcbiAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gIHdpZHRoOiAnMXB4JyxcbiAgaGVpZ2h0OiAnMXB4JyxcbiAgbWFyZ2luOiAnLTFweCcsXG4gIGJvcmRlcjogJzAnLFxuICBwYWRkaW5nOiAnMCcsXG4gIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgY2xpcDogJ3JlY3QoMCAwIDAgMCknLFxuICAnY2xpcC1wYXRoJzogJ2luc2V0KDEwMCUpJ1xufTtcblxudmFyIGdldElkID0gZnVuY3Rpb24gZ2V0SWQoY29udGV4dElkKSB7XG4gIHJldHVybiBcInJiZC1hbm5vdW5jZW1lbnQtXCIgKyBjb250ZXh0SWQ7XG59O1xuZnVuY3Rpb24gdXNlQW5ub3VuY2VyKGNvbnRleHRJZCkge1xuICB2YXIgaWQgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZ2V0SWQoY29udGV4dElkKTtcbiAgfSwgW2NvbnRleHRJZF0pO1xuICB2YXIgcmVmID0gdXNlUmVmKG51bGwpO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcmVmLmN1cnJlbnQgPSBlbDtcbiAgICBlbC5pZCA9IGlkO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ2Fzc2VydGl2ZScpO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnYXJpYS1hdG9taWMnLCAndHJ1ZScpO1xuXG4gICAgX2V4dGVuZHMoZWwuc3R5bGUsIHZpc3VhbGx5SGlkZGVuKTtcblxuICAgIGdldEJvZHlFbGVtZW50KCkuYXBwZW5kQ2hpbGQoZWwpO1xuICAgIHJldHVybiBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICAgIHZhciBib2R5ID0gZ2V0Qm9keUVsZW1lbnQoKTtcblxuICAgICAgICBpZiAoYm9keS5jb250YWlucyhlbCkpIHtcbiAgICAgICAgICBib2R5LnJlbW92ZUNoaWxkKGVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbCA9PT0gcmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICByZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gIH0sIFtpZF0pO1xuICB2YXIgYW5ub3VuY2UgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIHZhciBlbCA9IHJlZi5jdXJyZW50O1xuXG4gICAgaWYgKGVsKSB7XG4gICAgICBlbC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhcIlxcbiAgICAgIEEgc2NyZWVuIHJlYWRlciBtZXNzYWdlIHdhcyB0cnlpbmcgdG8gYmUgYW5ub3VuY2VkIGJ1dCBpdCB3YXMgdW5hYmxlIHRvIGRvIHNvLlxcbiAgICAgIFRoaXMgY2FuIG9jY3VyIGlmIHlvdSB1bm1vdW50IHlvdXIgPERyYWdEcm9wQ29udGV4dCAvPiBpbiB5b3VyIG9uRHJhZ0VuZC5cXG4gICAgICBDb25zaWRlciBjYWxsaW5nIHByb3ZpZGVkLmFubm91bmNlKCkgYmVmb3JlIHRoZSB1bm1vdW50IHNvIHRoYXQgdGhlIGluc3RydWN0aW9uIHdpbGxcXG4gICAgICBub3QgYmUgbG9zdCBmb3IgdXNlcnMgcmVseWluZyBvbiBhIHNjcmVlbiByZWFkZXIuXFxuXFxuICAgICAgTWVzc2FnZSBub3QgcGFzc2VkIHRvIHNjcmVlbiByZWFkZXI6XFxuXFxuICAgICAgXFxcIlwiICsgbWVzc2FnZSArIFwiXFxcIlxcbiAgICBcIikgOiB2b2lkIDA7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIGFubm91bmNlO1xufVxuXG52YXIgY291bnQgPSAwO1xudmFyIGRlZmF1bHRzID0ge1xuICBzZXBhcmF0b3I6ICc6Oidcbn07XG5mdW5jdGlvbiByZXNldCgpIHtcbiAgY291bnQgPSAwO1xufVxuZnVuY3Rpb24gdXNlVW5pcXVlSWQocHJlZml4LCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0gZGVmYXVsdHM7XG4gIH1cblxuICByZXR1cm4gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFwiXCIgKyBwcmVmaXggKyBvcHRpb25zLnNlcGFyYXRvciArIGNvdW50Kys7XG4gIH0sIFtvcHRpb25zLnNlcGFyYXRvciwgcHJlZml4XSk7XG59XG5cbmZ1bmN0aW9uIGdldEVsZW1lbnRJZChfcmVmKSB7XG4gIHZhciBjb250ZXh0SWQgPSBfcmVmLmNvbnRleHRJZCxcbiAgICAgIHVuaXF1ZUlkID0gX3JlZi51bmlxdWVJZDtcbiAgcmV0dXJuIFwicmJkLWhpZGRlbi10ZXh0LVwiICsgY29udGV4dElkICsgXCItXCIgKyB1bmlxdWVJZDtcbn1cbmZ1bmN0aW9uIHVzZUhpZGRlblRleHRFbGVtZW50KF9yZWYyKSB7XG4gIHZhciBjb250ZXh0SWQgPSBfcmVmMi5jb250ZXh0SWQsXG4gICAgICB0ZXh0ID0gX3JlZjIudGV4dDtcbiAgdmFyIHVuaXF1ZUlkID0gdXNlVW5pcXVlSWQoJ2hpZGRlbi10ZXh0Jywge1xuICAgIHNlcGFyYXRvcjogJy0nXG4gIH0pO1xuICB2YXIgaWQgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZ2V0RWxlbWVudElkKHtcbiAgICAgIGNvbnRleHRJZDogY29udGV4dElkLFxuICAgICAgdW5pcXVlSWQ6IHVuaXF1ZUlkXG4gICAgfSk7XG4gIH0sIFt1bmlxdWVJZCwgY29udGV4dElkXSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiBtb3VudCgpIHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBlbC5pZCA9IGlkO1xuICAgIGVsLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGdldEJvZHlFbGVtZW50KCkuYXBwZW5kQ2hpbGQoZWwpO1xuICAgIHJldHVybiBmdW5jdGlvbiB1bm1vdW50KCkge1xuICAgICAgdmFyIGJvZHkgPSBnZXRCb2R5RWxlbWVudCgpO1xuXG4gICAgICBpZiAoYm9keS5jb250YWlucyhlbCkpIHtcbiAgICAgICAgYm9keS5yZW1vdmVDaGlsZChlbCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2lkLCB0ZXh0XSk7XG4gIHJldHVybiBpZDtcbn1cblxudmFyIEFwcENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuXG52YXIgcGVlckRlcGVuZGVuY2llcyA9IHtcblx0cmVhY3Q6IFwiXjE2LjguNSB8fCBeMTcuMC4wXCIsXG5cdFwicmVhY3QtZG9tXCI6IFwiXjE2LjguNSB8fCBeMTcuMC4wXCJcbn07XG5cbnZhciBzZW12ZXIgPSAvKFxcZCspXFwuKFxcZCspXFwuKFxcZCspLztcblxudmFyIGdldFZlcnNpb24gPSBmdW5jdGlvbiBnZXRWZXJzaW9uKHZhbHVlKSB7XG4gIHZhciByZXN1bHQgPSBzZW12ZXIuZXhlYyh2YWx1ZSk7XG4gICEocmVzdWx0ICE9IG51bGwpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIlVuYWJsZSB0byBwYXJzZSBSZWFjdCB2ZXJzaW9uIFwiICsgdmFsdWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgdmFyIG1ham9yID0gTnVtYmVyKHJlc3VsdFsxXSk7XG4gIHZhciBtaW5vciA9IE51bWJlcihyZXN1bHRbMl0pO1xuICB2YXIgcGF0Y2ggPSBOdW1iZXIocmVzdWx0WzNdKTtcbiAgcmV0dXJuIHtcbiAgICBtYWpvcjogbWFqb3IsXG4gICAgbWlub3I6IG1pbm9yLFxuICAgIHBhdGNoOiBwYXRjaCxcbiAgICByYXc6IHZhbHVlXG4gIH07XG59O1xuXG52YXIgaXNTYXRpc2ZpZWQgPSBmdW5jdGlvbiBpc1NhdGlzZmllZChleHBlY3RlZCwgYWN0dWFsKSB7XG4gIGlmIChhY3R1YWwubWFqb3IgPiBleHBlY3RlZC5tYWpvcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKGFjdHVhbC5tYWpvciA8IGV4cGVjdGVkLm1ham9yKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGFjdHVhbC5taW5vciA+IGV4cGVjdGVkLm1pbm9yKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoYWN0dWFsLm1pbm9yIDwgZXhwZWN0ZWQubWlub3IpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gYWN0dWFsLnBhdGNoID49IGV4cGVjdGVkLnBhdGNoO1xufTtcblxudmFyIGNoZWNrUmVhY3RWZXJzaW9uID0gKGZ1bmN0aW9uIChwZWVyRGVwVmFsdWUsIGFjdHVhbFZhbHVlKSB7XG4gIHZhciBwZWVyRGVwID0gZ2V0VmVyc2lvbihwZWVyRGVwVmFsdWUpO1xuICB2YXIgYWN0dWFsID0gZ2V0VmVyc2lvbihhY3R1YWxWYWx1ZSk7XG5cbiAgaWYgKGlzU2F0aXNmaWVkKHBlZXJEZXAsIGFjdHVhbCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKFwiXFxuICAgIFJlYWN0IHZlcnNpb246IFtcIiArIGFjdHVhbC5yYXcgKyBcIl1cXG4gICAgZG9lcyBub3Qgc2F0aXNmeSBleHBlY3RlZCBwZWVyIGRlcGVuZGVuY3kgdmVyc2lvbjogW1wiICsgcGVlckRlcC5yYXcgKyBcIl1cXG5cXG4gICAgVGhpcyBjYW4gcmVzdWx0IGluIHJ1biB0aW1lIGJ1Z3MsIGFuZCBldmVuIGZhdGFsIGNyYXNoZXNcXG4gIFwiKSA6IHZvaWQgMDtcbn0pO1xuXG52YXIgc3VmZml4ID0gXCJcXG4gIFdlIGV4cGVjdCBhIGh0bWw1IGRvY3R5cGU6IDwhZG9jdHlwZSBodG1sPlxcbiAgVGhpcyBpcyB0byBlbnN1cmUgY29uc2lzdGVudCBicm93c2VyIGxheW91dCBhbmQgbWVhc3VyZW1lbnRcXG5cXG4gIE1vcmUgaW5mb3JtYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9hdGxhc3NpYW4vcmVhY3QtYmVhdXRpZnVsLWRuZC9ibG9iL21hc3Rlci9kb2NzL2d1aWRlcy9kb2N0eXBlLm1kXFxuXCI7XG52YXIgY2hlY2tEb2N0eXBlID0gKGZ1bmN0aW9uIChkb2MpIHtcbiAgdmFyIGRvY3R5cGUgPSBkb2MuZG9jdHlwZTtcblxuICBpZiAoIWRvY3R5cGUpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKFwiXFxuICAgICAgTm8gPCFkb2N0eXBlIGh0bWw+IGZvdW5kLlxcblxcbiAgICAgIFwiICsgc3VmZml4ICsgXCJcXG4gICAgXCIpIDogdm9pZCAwO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChkb2N0eXBlLm5hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ2h0bWwnKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhcIlxcbiAgICAgIFVuZXhwZWN0ZWQgPCFkb2N0eXBlPiBmb3VuZDogKFwiICsgZG9jdHlwZS5uYW1lICsgXCIpXFxuXFxuICAgICAgXCIgKyBzdWZmaXggKyBcIlxcbiAgICBcIikgOiB2b2lkIDA7XG4gIH1cblxuICBpZiAoZG9jdHlwZS5wdWJsaWNJZCAhPT0gJycpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKFwiXFxuICAgICAgVW5leHBlY3RlZCA8IWRvY3R5cGU+IHB1YmxpY0lkIGZvdW5kOiAoXCIgKyBkb2N0eXBlLnB1YmxpY0lkICsgXCIpXFxuICAgICAgQSBodG1sNSBkb2N0eXBlIGRvZXMgbm90IGhhdmUgYSBwdWJsaWNJZFxcblxcbiAgICAgIFwiICsgc3VmZml4ICsgXCJcXG4gICAgXCIpIDogdm9pZCAwO1xuICB9XG59KTtcblxuZnVuY3Rpb24gdXNlRGV2KHVzZUhvb2spIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB1c2VIb29rKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlRGV2U2V0dXBXYXJuaW5nKGZuLCBpbnB1dHMpIHtcbiAgdXNlRGV2KGZ1bmN0aW9uICgpIHtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm4oKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZXJyb3IoXCJcXG4gICAgICAgICAgQSBzZXR1cCBwcm9ibGVtIHdhcyBlbmNvdW50ZXJlZC5cXG5cXG4gICAgICAgICAgPiBcIiArIGUubWVzc2FnZSArIFwiXFxuICAgICAgICBcIik7XG4gICAgICB9XG4gICAgfSwgaW5wdXRzKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZVN0YXJ0dXBWYWxpZGF0aW9uKCkge1xuICB1c2VEZXZTZXR1cFdhcm5pbmcoZnVuY3Rpb24gKCkge1xuICAgIGNoZWNrUmVhY3RWZXJzaW9uKHBlZXJEZXBlbmRlbmNpZXMucmVhY3QsIFJlYWN0LnZlcnNpb24pO1xuICAgIGNoZWNrRG9jdHlwZShkb2N1bWVudCk7XG4gIH0sIFtdKTtcbn1cblxuZnVuY3Rpb24gdXNlUHJldmlvdXMoY3VycmVudCkge1xuICB2YXIgcmVmID0gdXNlUmVmKGN1cnJlbnQpO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHJlZi5jdXJyZW50ID0gY3VycmVudDtcbiAgfSk7XG4gIHJldHVybiByZWY7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIGxvY2sgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGlzQ2xhaW1lZCgpIHtcbiAgICByZXR1cm4gQm9vbGVhbihsb2NrKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzQWN0aXZlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBsb2NrO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xhaW0oYWJhbmRvbikge1xuICAgICEhbG9jayA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBjbGFpbSBsb2NrIGFzIGl0IGlzIGFscmVhZHkgY2xhaW1lZCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgbmV3TG9jayA9IHtcbiAgICAgIGFiYW5kb246IGFiYW5kb25cbiAgICB9O1xuICAgIGxvY2sgPSBuZXdMb2NrO1xuICAgIHJldHVybiBuZXdMb2NrO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVsZWFzZSgpIHtcbiAgICAhbG9jayA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCByZWxlYXNlIGxvY2sgd2hlbiB0aGVyZSBpcyBubyBsb2NrJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGxvY2sgPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJ5QWJhbmRvbigpIHtcbiAgICBpZiAobG9jaykge1xuICAgICAgbG9jay5hYmFuZG9uKCk7XG4gICAgICByZWxlYXNlKCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpc0NsYWltZWQ6IGlzQ2xhaW1lZCxcbiAgICBpc0FjdGl2ZTogaXNBY3RpdmUsXG4gICAgY2xhaW06IGNsYWltLFxuICAgIHJlbGVhc2U6IHJlbGVhc2UsXG4gICAgdHJ5QWJhbmRvbjogdHJ5QWJhbmRvblxuICB9O1xufVxuXG52YXIgdGFiID0gOTtcbnZhciBlbnRlciA9IDEzO1xudmFyIGVzY2FwZSA9IDI3O1xudmFyIHNwYWNlID0gMzI7XG52YXIgcGFnZVVwID0gMzM7XG52YXIgcGFnZURvd24gPSAzNDtcbnZhciBlbmQgPSAzNTtcbnZhciBob21lID0gMzY7XG52YXIgYXJyb3dMZWZ0ID0gMzc7XG52YXIgYXJyb3dVcCA9IDM4O1xudmFyIGFycm93UmlnaHQgPSAzOTtcbnZhciBhcnJvd0Rvd24gPSA0MDtcblxudmFyIF9wcmV2ZW50ZWRLZXlzO1xudmFyIHByZXZlbnRlZEtleXMgPSAoX3ByZXZlbnRlZEtleXMgPSB7fSwgX3ByZXZlbnRlZEtleXNbZW50ZXJdID0gdHJ1ZSwgX3ByZXZlbnRlZEtleXNbdGFiXSA9IHRydWUsIF9wcmV2ZW50ZWRLZXlzKTtcbnZhciBwcmV2ZW50U3RhbmRhcmRLZXlFdmVudHMgPSAoZnVuY3Rpb24gKGV2ZW50KSB7XG4gIGlmIChwcmV2ZW50ZWRLZXlzW2V2ZW50LmtleUNvZGVdKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxufSk7XG5cbnZhciBzdXBwb3J0ZWRFdmVudE5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBiYXNlID0gJ3Zpc2liaWxpdHljaGFuZ2UnO1xuXG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGJhc2U7XG4gIH1cblxuICB2YXIgY2FuZGlkYXRlcyA9IFtiYXNlLCBcIm1zXCIgKyBiYXNlLCBcIndlYmtpdFwiICsgYmFzZSwgXCJtb3pcIiArIGJhc2UsIFwib1wiICsgYmFzZV07XG4gIHZhciBzdXBwb3J0ZWQgPSBmaW5kKGNhbmRpZGF0ZXMsIGZ1bmN0aW9uIChldmVudE5hbWUpIHtcbiAgICByZXR1cm4gXCJvblwiICsgZXZlbnROYW1lIGluIGRvY3VtZW50O1xuICB9KTtcbiAgcmV0dXJuIHN1cHBvcnRlZCB8fCBiYXNlO1xufSgpO1xuXG52YXIgcHJpbWFyeUJ1dHRvbiA9IDA7XG52YXIgc2xvcHB5Q2xpY2tUaHJlc2hvbGQgPSA1O1xuXG5mdW5jdGlvbiBpc1Nsb3BweUNsaWNrVGhyZXNob2xkRXhjZWVkZWQob3JpZ2luYWwsIGN1cnJlbnQpIHtcbiAgcmV0dXJuIE1hdGguYWJzKGN1cnJlbnQueCAtIG9yaWdpbmFsLngpID49IHNsb3BweUNsaWNrVGhyZXNob2xkIHx8IE1hdGguYWJzKGN1cnJlbnQueSAtIG9yaWdpbmFsLnkpID49IHNsb3BweUNsaWNrVGhyZXNob2xkO1xufVxuXG52YXIgaWRsZSQxID0ge1xuICB0eXBlOiAnSURMRSdcbn07XG5cbmZ1bmN0aW9uIGdldENhcHR1cmVCaW5kaW5ncyhfcmVmKSB7XG4gIHZhciBjYW5jZWwgPSBfcmVmLmNhbmNlbCxcbiAgICAgIGNvbXBsZXRlZCA9IF9yZWYuY29tcGxldGVkLFxuICAgICAgZ2V0UGhhc2UgPSBfcmVmLmdldFBoYXNlLFxuICAgICAgc2V0UGhhc2UgPSBfcmVmLnNldFBoYXNlO1xuICByZXR1cm4gW3tcbiAgICBldmVudE5hbWU6ICdtb3VzZW1vdmUnLFxuICAgIGZuOiBmdW5jdGlvbiBmbihldmVudCkge1xuICAgICAgdmFyIGJ1dHRvbiA9IGV2ZW50LmJ1dHRvbixcbiAgICAgICAgICBjbGllbnRYID0gZXZlbnQuY2xpZW50WCxcbiAgICAgICAgICBjbGllbnRZID0gZXZlbnQuY2xpZW50WTtcblxuICAgICAgaWYgKGJ1dHRvbiAhPT0gcHJpbWFyeUJ1dHRvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBwb2ludCA9IHtcbiAgICAgICAgeDogY2xpZW50WCxcbiAgICAgICAgeTogY2xpZW50WVxuICAgICAgfTtcbiAgICAgIHZhciBwaGFzZSA9IGdldFBoYXNlKCk7XG5cbiAgICAgIGlmIChwaGFzZS50eXBlID09PSAnRFJBR0dJTkcnKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHBoYXNlLmFjdGlvbnMubW92ZShwb2ludCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgIShwaGFzZS50eXBlID09PSAnUEVORElORycpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IGJlIElETEUnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgcGVuZGluZyA9IHBoYXNlLnBvaW50O1xuXG4gICAgICBpZiAoIWlzU2xvcHB5Q2xpY2tUaHJlc2hvbGRFeGNlZWRlZChwZW5kaW5nLCBwb2ludCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIGFjdGlvbnMgPSBwaGFzZS5hY3Rpb25zLmZsdWlkTGlmdChwb2ludCk7XG4gICAgICBzZXRQaGFzZSh7XG4gICAgICAgIHR5cGU6ICdEUkFHR0lORycsXG4gICAgICAgIGFjdGlvbnM6IGFjdGlvbnNcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGV2ZW50TmFtZTogJ21vdXNldXAnLFxuICAgIGZuOiBmdW5jdGlvbiBmbihldmVudCkge1xuICAgICAgdmFyIHBoYXNlID0gZ2V0UGhhc2UoKTtcblxuICAgICAgaWYgKHBoYXNlLnR5cGUgIT09ICdEUkFHR0lORycpIHtcbiAgICAgICAgY2FuY2VsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHBoYXNlLmFjdGlvbnMuZHJvcCh7XG4gICAgICAgIHNob3VsZEJsb2NrTmV4dENsaWNrOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIGNvbXBsZXRlZCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGV2ZW50TmFtZTogJ21vdXNlZG93bicsXG4gICAgZm46IGZ1bmN0aW9uIGZuKGV2ZW50KSB7XG4gICAgICBpZiAoZ2V0UGhhc2UoKS50eXBlID09PSAnRFJBR0dJTkcnKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNhbmNlbCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGV2ZW50TmFtZTogJ2tleWRvd24nLFxuICAgIGZuOiBmdW5jdGlvbiBmbihldmVudCkge1xuICAgICAgdmFyIHBoYXNlID0gZ2V0UGhhc2UoKTtcblxuICAgICAgaWYgKHBoYXNlLnR5cGUgPT09ICdQRU5ESU5HJykge1xuICAgICAgICBjYW5jZWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gZXNjYXBlKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNhbmNlbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHByZXZlbnRTdGFuZGFyZEtleUV2ZW50cyhldmVudCk7XG4gICAgfVxuICB9LCB7XG4gICAgZXZlbnROYW1lOiAncmVzaXplJyxcbiAgICBmbjogY2FuY2VsXG4gIH0sIHtcbiAgICBldmVudE5hbWU6ICdzY3JvbGwnLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICBjYXB0dXJlOiBmYWxzZVxuICAgIH0sXG4gICAgZm46IGZ1bmN0aW9uIGZuKCkge1xuICAgICAgaWYgKGdldFBoYXNlKCkudHlwZSA9PT0gJ1BFTkRJTkcnKSB7XG4gICAgICAgIGNhbmNlbCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGV2ZW50TmFtZTogJ3dlYmtpdG1vdXNlZm9yY2Vkb3duJyxcbiAgICBmbjogZnVuY3Rpb24gZm4oZXZlbnQpIHtcbiAgICAgIHZhciBwaGFzZSA9IGdldFBoYXNlKCk7XG4gICAgICAhKHBoYXNlLnR5cGUgIT09ICdJRExFJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdVbmV4cGVjdGVkIHBoYXNlJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuXG4gICAgICBpZiAocGhhc2UuYWN0aW9ucy5zaG91bGRSZXNwZWN0Rm9yY2VQcmVzcygpKSB7XG4gICAgICAgIGNhbmNlbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9LCB7XG4gICAgZXZlbnROYW1lOiBzdXBwb3J0ZWRFdmVudE5hbWUsXG4gICAgZm46IGNhbmNlbFxuICB9XTtcbn1cblxuZnVuY3Rpb24gdXNlTW91c2VTZW5zb3IoYXBpKSB7XG4gIHZhciBwaGFzZVJlZiA9IHVzZVJlZihpZGxlJDEpO1xuICB2YXIgdW5iaW5kRXZlbnRzUmVmID0gdXNlUmVmKG5vb3ApO1xuICB2YXIgc3RhcnRDYXB0dXJlQmluZGluZyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBldmVudE5hbWU6ICdtb3VzZWRvd24nLFxuICAgICAgZm46IGZ1bmN0aW9uIG9uTW91c2VEb3duKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbiAhPT0gcHJpbWFyeUJ1dHRvbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQuYWx0S2V5KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRyYWdnYWJsZUlkID0gYXBpLmZpbmRDbG9zZXN0RHJhZ2dhYmxlSWQoZXZlbnQpO1xuXG4gICAgICAgIGlmICghZHJhZ2dhYmxlSWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWN0aW9ucyA9IGFwaS50cnlHZXRMb2NrKGRyYWdnYWJsZUlkLCBzdG9wLCB7XG4gICAgICAgICAgc291cmNlRXZlbnQ6IGV2ZW50XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghYWN0aW9ucykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBwb2ludCA9IHtcbiAgICAgICAgICB4OiBldmVudC5jbGllbnRYLFxuICAgICAgICAgIHk6IGV2ZW50LmNsaWVudFlcbiAgICAgICAgfTtcbiAgICAgICAgdW5iaW5kRXZlbnRzUmVmLmN1cnJlbnQoKTtcbiAgICAgICAgc3RhcnRQZW5kaW5nRHJhZyhhY3Rpb25zLCBwb2ludCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2FwaV0pO1xuICB2YXIgcHJldmVudEZvcmNlUHJlc3NCaW5kaW5nID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGV2ZW50TmFtZTogJ3dlYmtpdG1vdXNlZm9yY2V3aWxsYmVnaW4nLFxuICAgICAgZm46IGZ1bmN0aW9uIGZuKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGlkID0gYXBpLmZpbmRDbG9zZXN0RHJhZ2dhYmxlSWQoZXZlbnQpO1xuXG4gICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3B0aW9ucyA9IGFwaS5maW5kT3B0aW9uc0ZvckRyYWdnYWJsZShpZCk7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2hvdWxkUmVzcGVjdEZvcmNlUHJlc3MpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWFwaS5jYW5HZXRMb2NrKGlkKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2FwaV0pO1xuICB2YXIgbGlzdGVuRm9yQ2FwdHVyZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIGxpc3RlbkZvckNhcHR1cmUoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICAgIGNhcHR1cmU6IHRydWVcbiAgICB9O1xuICAgIHVuYmluZEV2ZW50c1JlZi5jdXJyZW50ID0gYmluZEV2ZW50cyh3aW5kb3csIFtwcmV2ZW50Rm9yY2VQcmVzc0JpbmRpbmcsIHN0YXJ0Q2FwdHVyZUJpbmRpbmddLCBvcHRpb25zKTtcbiAgfSwgW3ByZXZlbnRGb3JjZVByZXNzQmluZGluZywgc3RhcnRDYXB0dXJlQmluZGluZ10pO1xuICB2YXIgc3RvcCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY3VycmVudCA9IHBoYXNlUmVmLmN1cnJlbnQ7XG5cbiAgICBpZiAoY3VycmVudC50eXBlID09PSAnSURMRScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwaGFzZVJlZi5jdXJyZW50ID0gaWRsZSQxO1xuICAgIHVuYmluZEV2ZW50c1JlZi5jdXJyZW50KCk7XG4gICAgbGlzdGVuRm9yQ2FwdHVyZSgpO1xuICB9LCBbbGlzdGVuRm9yQ2FwdHVyZV0pO1xuICB2YXIgY2FuY2VsID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBwaGFzZSA9IHBoYXNlUmVmLmN1cnJlbnQ7XG4gICAgc3RvcCgpO1xuXG4gICAgaWYgKHBoYXNlLnR5cGUgPT09ICdEUkFHR0lORycpIHtcbiAgICAgIHBoYXNlLmFjdGlvbnMuY2FuY2VsKHtcbiAgICAgICAgc2hvdWxkQmxvY2tOZXh0Q2xpY2s6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChwaGFzZS50eXBlID09PSAnUEVORElORycpIHtcbiAgICAgIHBoYXNlLmFjdGlvbnMuYWJvcnQoKTtcbiAgICB9XG4gIH0sIFtzdG9wXSk7XG4gIHZhciBiaW5kQ2FwdHVyaW5nRXZlbnRzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gYmluZENhcHR1cmluZ0V2ZW50cygpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgIGNhcHR1cmU6IHRydWUsXG4gICAgICBwYXNzaXZlOiBmYWxzZVxuICAgIH07XG4gICAgdmFyIGJpbmRpbmdzID0gZ2V0Q2FwdHVyZUJpbmRpbmdzKHtcbiAgICAgIGNhbmNlbDogY2FuY2VsLFxuICAgICAgY29tcGxldGVkOiBzdG9wLFxuICAgICAgZ2V0UGhhc2U6IGZ1bmN0aW9uIGdldFBoYXNlKCkge1xuICAgICAgICByZXR1cm4gcGhhc2VSZWYuY3VycmVudDtcbiAgICAgIH0sXG4gICAgICBzZXRQaGFzZTogZnVuY3Rpb24gc2V0UGhhc2UocGhhc2UpIHtcbiAgICAgICAgcGhhc2VSZWYuY3VycmVudCA9IHBoYXNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHVuYmluZEV2ZW50c1JlZi5jdXJyZW50ID0gYmluZEV2ZW50cyh3aW5kb3csIGJpbmRpbmdzLCBvcHRpb25zKTtcbiAgfSwgW2NhbmNlbCwgc3RvcF0pO1xuICB2YXIgc3RhcnRQZW5kaW5nRHJhZyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIHN0YXJ0UGVuZGluZ0RyYWcoYWN0aW9ucywgcG9pbnQpIHtcbiAgICAhKHBoYXNlUmVmLmN1cnJlbnQudHlwZSA9PT0gJ0lETEUnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIHRvIG1vdmUgZnJvbSBJRExFIHRvIFBFTkRJTkcgZHJhZycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBwaGFzZVJlZi5jdXJyZW50ID0ge1xuICAgICAgdHlwZTogJ1BFTkRJTkcnLFxuICAgICAgcG9pbnQ6IHBvaW50LFxuICAgICAgYWN0aW9uczogYWN0aW9uc1xuICAgIH07XG4gICAgYmluZENhcHR1cmluZ0V2ZW50cygpO1xuICB9LCBbYmluZENhcHR1cmluZ0V2ZW50c10pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uIG1vdW50KCkge1xuICAgIGxpc3RlbkZvckNhcHR1cmUoKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gdW5tb3VudCgpIHtcbiAgICAgIHVuYmluZEV2ZW50c1JlZi5jdXJyZW50KCk7XG4gICAgfTtcbiAgfSwgW2xpc3RlbkZvckNhcHR1cmVdKTtcbn1cblxudmFyIF9zY3JvbGxKdW1wS2V5cztcblxuZnVuY3Rpb24gbm9vcCQxKCkge31cblxudmFyIHNjcm9sbEp1bXBLZXlzID0gKF9zY3JvbGxKdW1wS2V5cyA9IHt9LCBfc2Nyb2xsSnVtcEtleXNbcGFnZURvd25dID0gdHJ1ZSwgX3Njcm9sbEp1bXBLZXlzW3BhZ2VVcF0gPSB0cnVlLCBfc2Nyb2xsSnVtcEtleXNbaG9tZV0gPSB0cnVlLCBfc2Nyb2xsSnVtcEtleXNbZW5kXSA9IHRydWUsIF9zY3JvbGxKdW1wS2V5cyk7XG5cbmZ1bmN0aW9uIGdldERyYWdnaW5nQmluZGluZ3MoYWN0aW9ucywgc3RvcCkge1xuICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgc3RvcCgpO1xuICAgIGFjdGlvbnMuY2FuY2VsKCk7XG4gIH1cblxuICBmdW5jdGlvbiBkcm9wKCkge1xuICAgIHN0b3AoKTtcbiAgICBhY3Rpb25zLmRyb3AoKTtcbiAgfVxuXG4gIHJldHVybiBbe1xuICAgIGV2ZW50TmFtZTogJ2tleWRvd24nLFxuICAgIGZuOiBmdW5jdGlvbiBmbihldmVudCkge1xuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IGVzY2FwZSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjYW5jZWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gc3BhY2UpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZHJvcCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBhcnJvd0Rvd24pIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYWN0aW9ucy5tb3ZlRG93bigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBhcnJvd1VwKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGFjdGlvbnMubW92ZVVwKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IGFycm93UmlnaHQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYWN0aW9ucy5tb3ZlUmlnaHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gYXJyb3dMZWZ0KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGFjdGlvbnMubW92ZUxlZnQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2Nyb2xsSnVtcEtleXNbZXZlbnQua2V5Q29kZV0pIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBwcmV2ZW50U3RhbmRhcmRLZXlFdmVudHMoZXZlbnQpO1xuICAgIH1cbiAgfSwge1xuICAgIGV2ZW50TmFtZTogJ21vdXNlZG93bicsXG4gICAgZm46IGNhbmNlbFxuICB9LCB7XG4gICAgZXZlbnROYW1lOiAnbW91c2V1cCcsXG4gICAgZm46IGNhbmNlbFxuICB9LCB7XG4gICAgZXZlbnROYW1lOiAnY2xpY2snLFxuICAgIGZuOiBjYW5jZWxcbiAgfSwge1xuICAgIGV2ZW50TmFtZTogJ3RvdWNoc3RhcnQnLFxuICAgIGZuOiBjYW5jZWxcbiAgfSwge1xuICAgIGV2ZW50TmFtZTogJ3Jlc2l6ZScsXG4gICAgZm46IGNhbmNlbFxuICB9LCB7XG4gICAgZXZlbnROYW1lOiAnd2hlZWwnLFxuICAgIGZuOiBjYW5jZWwsXG4gICAgb3B0aW9uczoge1xuICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgIH1cbiAgfSwge1xuICAgIGV2ZW50TmFtZTogc3VwcG9ydGVkRXZlbnROYW1lLFxuICAgIGZuOiBjYW5jZWxcbiAgfV07XG59XG5cbmZ1bmN0aW9uIHVzZUtleWJvYXJkU2Vuc29yKGFwaSkge1xuICB2YXIgdW5iaW5kRXZlbnRzUmVmID0gdXNlUmVmKG5vb3AkMSk7XG4gIHZhciBzdGFydENhcHR1cmVCaW5kaW5nID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGV2ZW50TmFtZTogJ2tleWRvd24nLFxuICAgICAgZm46IGZ1bmN0aW9uIG9uS2V5RG93bihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlICE9PSBzcGFjZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkcmFnZ2FibGVJZCA9IGFwaS5maW5kQ2xvc2VzdERyYWdnYWJsZUlkKGV2ZW50KTtcblxuICAgICAgICBpZiAoIWRyYWdnYWJsZUlkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByZURyYWcgPSBhcGkudHJ5R2V0TG9jayhkcmFnZ2FibGVJZCwgc3RvcCwge1xuICAgICAgICAgIHNvdXJjZUV2ZW50OiBldmVudFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXByZURyYWcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgaXNDYXB0dXJpbmcgPSB0cnVlO1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHByZURyYWcuc25hcExpZnQoKTtcbiAgICAgICAgdW5iaW5kRXZlbnRzUmVmLmN1cnJlbnQoKTtcblxuICAgICAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICAgICFpc0NhcHR1cmluZyA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBzdG9wIGNhcHR1cmluZyBhIGtleWJvYXJkIGRyYWcgd2hlbiBub3QgY2FwdHVyaW5nJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICAgIGlzQ2FwdHVyaW5nID0gZmFsc2U7XG4gICAgICAgICAgdW5iaW5kRXZlbnRzUmVmLmN1cnJlbnQoKTtcbiAgICAgICAgICBsaXN0ZW5Gb3JDYXB0dXJlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB1bmJpbmRFdmVudHNSZWYuY3VycmVudCA9IGJpbmRFdmVudHMod2luZG93LCBnZXREcmFnZ2luZ0JpbmRpbmdzKGFjdGlvbnMsIHN0b3ApLCB7XG4gICAgICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbYXBpXSk7XG4gIHZhciBsaXN0ZW5Gb3JDYXB0dXJlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gdHJ5U3RhcnRDYXB0dXJlKCkge1xuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgICBjYXB0dXJlOiB0cnVlXG4gICAgfTtcbiAgICB1bmJpbmRFdmVudHNSZWYuY3VycmVudCA9IGJpbmRFdmVudHMod2luZG93LCBbc3RhcnRDYXB0dXJlQmluZGluZ10sIG9wdGlvbnMpO1xuICB9LCBbc3RhcnRDYXB0dXJlQmluZGluZ10pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uIG1vdW50KCkge1xuICAgIGxpc3RlbkZvckNhcHR1cmUoKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gdW5tb3VudCgpIHtcbiAgICAgIHVuYmluZEV2ZW50c1JlZi5jdXJyZW50KCk7XG4gICAgfTtcbiAgfSwgW2xpc3RlbkZvckNhcHR1cmVdKTtcbn1cblxudmFyIGlkbGUkMiA9IHtcbiAgdHlwZTogJ0lETEUnXG59O1xudmFyIHRpbWVGb3JMb25nUHJlc3MgPSAxMjA7XG52YXIgZm9yY2VQcmVzc1RocmVzaG9sZCA9IDAuMTU7XG5cbmZ1bmN0aW9uIGdldFdpbmRvd0JpbmRpbmdzKF9yZWYpIHtcbiAgdmFyIGNhbmNlbCA9IF9yZWYuY2FuY2VsLFxuICAgICAgZ2V0UGhhc2UgPSBfcmVmLmdldFBoYXNlO1xuICByZXR1cm4gW3tcbiAgICBldmVudE5hbWU6ICdvcmllbnRhdGlvbmNoYW5nZScsXG4gICAgZm46IGNhbmNlbFxuICB9LCB7XG4gICAgZXZlbnROYW1lOiAncmVzaXplJyxcbiAgICBmbjogY2FuY2VsXG4gIH0sIHtcbiAgICBldmVudE5hbWU6ICdjb250ZXh0bWVudScsXG4gICAgZm46IGZ1bmN0aW9uIGZuKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGV2ZW50TmFtZTogJ2tleWRvd24nLFxuICAgIGZuOiBmdW5jdGlvbiBmbihldmVudCkge1xuICAgICAgaWYgKGdldFBoYXNlKCkudHlwZSAhPT0gJ0RSQUdHSU5HJykge1xuICAgICAgICBjYW5jZWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gZXNjYXBlKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNhbmNlbCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGV2ZW50TmFtZTogc3VwcG9ydGVkRXZlbnROYW1lLFxuICAgIGZuOiBjYW5jZWxcbiAgfV07XG59XG5cbmZ1bmN0aW9uIGdldEhhbmRsZUJpbmRpbmdzKF9yZWYyKSB7XG4gIHZhciBjYW5jZWwgPSBfcmVmMi5jYW5jZWwsXG4gICAgICBjb21wbGV0ZWQgPSBfcmVmMi5jb21wbGV0ZWQsXG4gICAgICBnZXRQaGFzZSA9IF9yZWYyLmdldFBoYXNlO1xuICByZXR1cm4gW3tcbiAgICBldmVudE5hbWU6ICd0b3VjaG1vdmUnLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGNhcHR1cmU6IGZhbHNlXG4gICAgfSxcbiAgICBmbjogZnVuY3Rpb24gZm4oZXZlbnQpIHtcbiAgICAgIHZhciBwaGFzZSA9IGdldFBoYXNlKCk7XG5cbiAgICAgIGlmIChwaGFzZS50eXBlICE9PSAnRFJBR0dJTkcnKSB7XG4gICAgICAgIGNhbmNlbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHBoYXNlLmhhc01vdmVkID0gdHJ1ZTtcbiAgICAgIHZhciBfZXZlbnQkdG91Y2hlcyQgPSBldmVudC50b3VjaGVzWzBdLFxuICAgICAgICAgIGNsaWVudFggPSBfZXZlbnQkdG91Y2hlcyQuY2xpZW50WCxcbiAgICAgICAgICBjbGllbnRZID0gX2V2ZW50JHRvdWNoZXMkLmNsaWVudFk7XG4gICAgICB2YXIgcG9pbnQgPSB7XG4gICAgICAgIHg6IGNsaWVudFgsXG4gICAgICAgIHk6IGNsaWVudFlcbiAgICAgIH07XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcGhhc2UuYWN0aW9ucy5tb3ZlKHBvaW50KTtcbiAgICB9XG4gIH0sIHtcbiAgICBldmVudE5hbWU6ICd0b3VjaGVuZCcsXG4gICAgZm46IGZ1bmN0aW9uIGZuKGV2ZW50KSB7XG4gICAgICB2YXIgcGhhc2UgPSBnZXRQaGFzZSgpO1xuXG4gICAgICBpZiAocGhhc2UudHlwZSAhPT0gJ0RSQUdHSU5HJykge1xuICAgICAgICBjYW5jZWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcGhhc2UuYWN0aW9ucy5kcm9wKHtcbiAgICAgICAgc2hvdWxkQmxvY2tOZXh0Q2xpY2s6IHRydWVcbiAgICAgIH0pO1xuICAgICAgY29tcGxldGVkKCk7XG4gICAgfVxuICB9LCB7XG4gICAgZXZlbnROYW1lOiAndG91Y2hjYW5jZWwnLFxuICAgIGZuOiBmdW5jdGlvbiBmbihldmVudCkge1xuICAgICAgaWYgKGdldFBoYXNlKCkudHlwZSAhPT0gJ0RSQUdHSU5HJykge1xuICAgICAgICBjYW5jZWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY2FuY2VsKCk7XG4gICAgfVxuICB9LCB7XG4gICAgZXZlbnROYW1lOiAndG91Y2hmb3JjZWNoYW5nZScsXG4gICAgZm46IGZ1bmN0aW9uIGZuKGV2ZW50KSB7XG4gICAgICB2YXIgcGhhc2UgPSBnZXRQaGFzZSgpO1xuICAgICAgIShwaGFzZS50eXBlICE9PSAnSURMRScpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdO1xuXG4gICAgICBpZiAoIXRvdWNoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGlzRm9yY2VQcmVzcyA9IHRvdWNoLmZvcmNlID49IGZvcmNlUHJlc3NUaHJlc2hvbGQ7XG5cbiAgICAgIGlmICghaXNGb3JjZVByZXNzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNob3VsZFJlc3BlY3QgPSBwaGFzZS5hY3Rpb25zLnNob3VsZFJlc3BlY3RGb3JjZVByZXNzKCk7XG5cbiAgICAgIGlmIChwaGFzZS50eXBlID09PSAnUEVORElORycpIHtcbiAgICAgICAgaWYgKHNob3VsZFJlc3BlY3QpIHtcbiAgICAgICAgICBjYW5jZWwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHNob3VsZFJlc3BlY3QpIHtcbiAgICAgICAgaWYgKHBoYXNlLmhhc01vdmVkKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjYW5jZWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGV2ZW50TmFtZTogc3VwcG9ydGVkRXZlbnROYW1lLFxuICAgIGZuOiBjYW5jZWxcbiAgfV07XG59XG5cbmZ1bmN0aW9uIHVzZVRvdWNoU2Vuc29yKGFwaSkge1xuICB2YXIgcGhhc2VSZWYgPSB1c2VSZWYoaWRsZSQyKTtcbiAgdmFyIHVuYmluZEV2ZW50c1JlZiA9IHVzZVJlZihub29wKTtcbiAgdmFyIGdldFBoYXNlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gZ2V0UGhhc2UoKSB7XG4gICAgcmV0dXJuIHBoYXNlUmVmLmN1cnJlbnQ7XG4gIH0sIFtdKTtcbiAgdmFyIHNldFBoYXNlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gc2V0UGhhc2UocGhhc2UpIHtcbiAgICBwaGFzZVJlZi5jdXJyZW50ID0gcGhhc2U7XG4gIH0sIFtdKTtcbiAgdmFyIHN0YXJ0Q2FwdHVyZUJpbmRpbmcgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXZlbnROYW1lOiAndG91Y2hzdGFydCcsXG4gICAgICBmbjogZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRyYWdnYWJsZUlkID0gYXBpLmZpbmRDbG9zZXN0RHJhZ2dhYmxlSWQoZXZlbnQpO1xuXG4gICAgICAgIGlmICghZHJhZ2dhYmxlSWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWN0aW9ucyA9IGFwaS50cnlHZXRMb2NrKGRyYWdnYWJsZUlkLCBzdG9wLCB7XG4gICAgICAgICAgc291cmNlRXZlbnQ6IGV2ZW50XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghYWN0aW9ucykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbMF07XG4gICAgICAgIHZhciBjbGllbnRYID0gdG91Y2guY2xpZW50WCxcbiAgICAgICAgICAgIGNsaWVudFkgPSB0b3VjaC5jbGllbnRZO1xuICAgICAgICB2YXIgcG9pbnQgPSB7XG4gICAgICAgICAgeDogY2xpZW50WCxcbiAgICAgICAgICB5OiBjbGllbnRZXG4gICAgICAgIH07XG4gICAgICAgIHVuYmluZEV2ZW50c1JlZi5jdXJyZW50KCk7XG4gICAgICAgIHN0YXJ0UGVuZGluZ0RyYWcoYWN0aW9ucywgcG9pbnQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFthcGldKTtcbiAgdmFyIGxpc3RlbkZvckNhcHR1cmUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiBsaXN0ZW5Gb3JDYXB0dXJlKCkge1xuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgfTtcbiAgICB1bmJpbmRFdmVudHNSZWYuY3VycmVudCA9IGJpbmRFdmVudHMod2luZG93LCBbc3RhcnRDYXB0dXJlQmluZGluZ10sIG9wdGlvbnMpO1xuICB9LCBbc3RhcnRDYXB0dXJlQmluZGluZ10pO1xuICB2YXIgc3RvcCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY3VycmVudCA9IHBoYXNlUmVmLmN1cnJlbnQ7XG5cbiAgICBpZiAoY3VycmVudC50eXBlID09PSAnSURMRScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudC50eXBlID09PSAnUEVORElORycpIHtcbiAgICAgIGNsZWFyVGltZW91dChjdXJyZW50LmxvbmdQcmVzc1RpbWVySWQpO1xuICAgIH1cblxuICAgIHNldFBoYXNlKGlkbGUkMik7XG4gICAgdW5iaW5kRXZlbnRzUmVmLmN1cnJlbnQoKTtcbiAgICBsaXN0ZW5Gb3JDYXB0dXJlKCk7XG4gIH0sIFtsaXN0ZW5Gb3JDYXB0dXJlLCBzZXRQaGFzZV0pO1xuICB2YXIgY2FuY2VsID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBwaGFzZSA9IHBoYXNlUmVmLmN1cnJlbnQ7XG4gICAgc3RvcCgpO1xuXG4gICAgaWYgKHBoYXNlLnR5cGUgPT09ICdEUkFHR0lORycpIHtcbiAgICAgIHBoYXNlLmFjdGlvbnMuY2FuY2VsKHtcbiAgICAgICAgc2hvdWxkQmxvY2tOZXh0Q2xpY2s6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChwaGFzZS50eXBlID09PSAnUEVORElORycpIHtcbiAgICAgIHBoYXNlLmFjdGlvbnMuYWJvcnQoKTtcbiAgICB9XG4gIH0sIFtzdG9wXSk7XG4gIHZhciBiaW5kQ2FwdHVyaW5nRXZlbnRzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gYmluZENhcHR1cmluZ0V2ZW50cygpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgIGNhcHR1cmU6IHRydWUsXG4gICAgICBwYXNzaXZlOiBmYWxzZVxuICAgIH07XG4gICAgdmFyIGFyZ3MgPSB7XG4gICAgICBjYW5jZWw6IGNhbmNlbCxcbiAgICAgIGNvbXBsZXRlZDogc3RvcCxcbiAgICAgIGdldFBoYXNlOiBnZXRQaGFzZVxuICAgIH07XG4gICAgdmFyIHVuYmluZFRhcmdldCA9IGJpbmRFdmVudHMod2luZG93LCBnZXRIYW5kbGVCaW5kaW5ncyhhcmdzKSwgb3B0aW9ucyk7XG4gICAgdmFyIHVuYmluZFdpbmRvdyA9IGJpbmRFdmVudHMod2luZG93LCBnZXRXaW5kb3dCaW5kaW5ncyhhcmdzKSwgb3B0aW9ucyk7XG5cbiAgICB1bmJpbmRFdmVudHNSZWYuY3VycmVudCA9IGZ1bmN0aW9uIHVuYmluZEFsbCgpIHtcbiAgICAgIHVuYmluZFRhcmdldCgpO1xuICAgICAgdW5iaW5kV2luZG93KCk7XG4gICAgfTtcbiAgfSwgW2NhbmNlbCwgZ2V0UGhhc2UsIHN0b3BdKTtcbiAgdmFyIHN0YXJ0RHJhZ2dpbmcgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiBzdGFydERyYWdnaW5nKCkge1xuICAgIHZhciBwaGFzZSA9IGdldFBoYXNlKCk7XG4gICAgIShwaGFzZS50eXBlID09PSAnUEVORElORycpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIkNhbm5vdCBzdGFydCBkcmFnZ2luZyBmcm9tIHBoYXNlIFwiICsgcGhhc2UudHlwZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBhY3Rpb25zID0gcGhhc2UuYWN0aW9ucy5mbHVpZExpZnQocGhhc2UucG9pbnQpO1xuICAgIHNldFBoYXNlKHtcbiAgICAgIHR5cGU6ICdEUkFHR0lORycsXG4gICAgICBhY3Rpb25zOiBhY3Rpb25zLFxuICAgICAgaGFzTW92ZWQ6IGZhbHNlXG4gICAgfSk7XG4gIH0sIFtnZXRQaGFzZSwgc2V0UGhhc2VdKTtcbiAgdmFyIHN0YXJ0UGVuZGluZ0RyYWcgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiBzdGFydFBlbmRpbmdEcmFnKGFjdGlvbnMsIHBvaW50KSB7XG4gICAgIShnZXRQaGFzZSgpLnR5cGUgPT09ICdJRExFJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCB0byBtb3ZlIGZyb20gSURMRSB0byBQRU5ESU5HIGRyYWcnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGxvbmdQcmVzc1RpbWVySWQgPSBzZXRUaW1lb3V0KHN0YXJ0RHJhZ2dpbmcsIHRpbWVGb3JMb25nUHJlc3MpO1xuICAgIHNldFBoYXNlKHtcbiAgICAgIHR5cGU6ICdQRU5ESU5HJyxcbiAgICAgIHBvaW50OiBwb2ludCxcbiAgICAgIGFjdGlvbnM6IGFjdGlvbnMsXG4gICAgICBsb25nUHJlc3NUaW1lcklkOiBsb25nUHJlc3NUaW1lcklkXG4gICAgfSk7XG4gICAgYmluZENhcHR1cmluZ0V2ZW50cygpO1xuICB9LCBbYmluZENhcHR1cmluZ0V2ZW50cywgZ2V0UGhhc2UsIHNldFBoYXNlLCBzdGFydERyYWdnaW5nXSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gbW91bnQoKSB7XG4gICAgbGlzdGVuRm9yQ2FwdHVyZSgpO1xuICAgIHJldHVybiBmdW5jdGlvbiB1bm1vdW50KCkge1xuICAgICAgdW5iaW5kRXZlbnRzUmVmLmN1cnJlbnQoKTtcbiAgICAgIHZhciBwaGFzZSA9IGdldFBoYXNlKCk7XG5cbiAgICAgIGlmIChwaGFzZS50eXBlID09PSAnUEVORElORycpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHBoYXNlLmxvbmdQcmVzc1RpbWVySWQpO1xuICAgICAgICBzZXRQaGFzZShpZGxlJDIpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtnZXRQaGFzZSwgbGlzdGVuRm9yQ2FwdHVyZSwgc2V0UGhhc2VdKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiB3ZWJraXRIYWNrKCkge1xuICAgIHZhciB1bmJpbmQgPSBiaW5kRXZlbnRzKHdpbmRvdywgW3tcbiAgICAgIGV2ZW50TmFtZTogJ3RvdWNobW92ZScsXG4gICAgICBmbjogZnVuY3Rpb24gZm4oKSB7fSxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICB9XG4gICAgfV0pO1xuICAgIHJldHVybiB1bmJpbmQ7XG4gIH0sIFtdKTtcbn1cblxuZnVuY3Rpb24gdXNlVmFsaWRhdGVTZW5zb3JIb29rcyhzZW5zb3JIb29rcykge1xuICB1c2VEZXYoZnVuY3Rpb24gKCkge1xuICAgIHZhciBwcmV2aW91c1JlZiA9IHVzZVByZXZpb3VzKHNlbnNvckhvb2tzKTtcbiAgICB1c2VEZXZTZXR1cFdhcm5pbmcoZnVuY3Rpb24gKCkge1xuICAgICAgIShwcmV2aW91c1JlZi5jdXJyZW50Lmxlbmd0aCA9PT0gc2Vuc29ySG9va3MubGVuZ3RoKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBjaGFuZ2UgdGhlIGFtb3VudCBvZiBzZW5zb3IgaG9va3MgYWZ0ZXIgbW91bnRpbmcnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgfSk7XG4gIH0pO1xufVxuXG52YXIgaW50ZXJhY3RpdmVUYWdOYW1lcyA9IHtcbiAgaW5wdXQ6IHRydWUsXG4gIGJ1dHRvbjogdHJ1ZSxcbiAgdGV4dGFyZWE6IHRydWUsXG4gIHNlbGVjdDogdHJ1ZSxcbiAgb3B0aW9uOiB0cnVlLFxuICBvcHRncm91cDogdHJ1ZSxcbiAgdmlkZW86IHRydWUsXG4gIGF1ZGlvOiB0cnVlXG59O1xuXG5mdW5jdGlvbiBpc0FuSW50ZXJhY3RpdmVFbGVtZW50KHBhcmVudCwgY3VycmVudCkge1xuICBpZiAoY3VycmVudCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGhhc0FuSW50ZXJhY3RpdmVUYWcgPSBCb29sZWFuKGludGVyYWN0aXZlVGFnTmFtZXNbY3VycmVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCldKTtcblxuICBpZiAoaGFzQW5JbnRlcmFjdGl2ZVRhZykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFyIGF0dHJpYnV0ZSA9IGN1cnJlbnQuZ2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKTtcblxuICBpZiAoYXR0cmlidXRlID09PSAndHJ1ZScgfHwgYXR0cmlidXRlID09PSAnJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKGN1cnJlbnQgPT09IHBhcmVudCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBpc0FuSW50ZXJhY3RpdmVFbGVtZW50KHBhcmVudCwgY3VycmVudC5wYXJlbnRFbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gaXNFdmVudEluSW50ZXJhY3RpdmVFbGVtZW50KGRyYWdnYWJsZSwgZXZlbnQpIHtcbiAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcblxuICBpZiAoIWlzSHRtbEVsZW1lbnQodGFyZ2V0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBpc0FuSW50ZXJhY3RpdmVFbGVtZW50KGRyYWdnYWJsZSwgdGFyZ2V0KTtcbn1cblxudmFyIGdldEJvcmRlckJveENlbnRlclBvc2l0aW9uID0gKGZ1bmN0aW9uIChlbCkge1xuICByZXR1cm4gZ2V0UmVjdChlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSkuY2VudGVyO1xufSk7XG5cbmZ1bmN0aW9uIGlzRWxlbWVudChlbCkge1xuICByZXR1cm4gZWwgaW5zdGFuY2VvZiBnZXRXaW5kb3dGcm9tRWwoZWwpLkVsZW1lbnQ7XG59XG5cbnZhciBzdXBwb3J0ZWRNYXRjaGVzTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGJhc2UgPSAnbWF0Y2hlcyc7XG5cbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gYmFzZTtcbiAgfVxuXG4gIHZhciBjYW5kaWRhdGVzID0gW2Jhc2UsICdtc01hdGNoZXNTZWxlY3RvcicsICd3ZWJraXRNYXRjaGVzU2VsZWN0b3InXTtcbiAgdmFyIHZhbHVlID0gZmluZChjYW5kaWRhdGVzLCBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiBuYW1lIGluIEVsZW1lbnQucHJvdG90eXBlO1xuICB9KTtcbiAgcmV0dXJuIHZhbHVlIHx8IGJhc2U7XG59KCk7XG5cbmZ1bmN0aW9uIGNsb3Nlc3RQb255ZmlsbChlbCwgc2VsZWN0b3IpIHtcbiAgaWYgKGVsID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChlbFtzdXBwb3J0ZWRNYXRjaGVzTmFtZV0oc2VsZWN0b3IpKSB7XG4gICAgcmV0dXJuIGVsO1xuICB9XG5cbiAgcmV0dXJuIGNsb3Nlc3RQb255ZmlsbChlbC5wYXJlbnRFbGVtZW50LCBzZWxlY3Rvcik7XG59XG5cbmZ1bmN0aW9uIGNsb3Nlc3QkMShlbCwgc2VsZWN0b3IpIHtcbiAgaWYgKGVsLmNsb3Nlc3QpIHtcbiAgICByZXR1cm4gZWwuY2xvc2VzdChzZWxlY3Rvcik7XG4gIH1cblxuICByZXR1cm4gY2xvc2VzdFBvbnlmaWxsKGVsLCBzZWxlY3Rvcik7XG59XG5cbmZ1bmN0aW9uIGdldFNlbGVjdG9yKGNvbnRleHRJZCkge1xuICByZXR1cm4gXCJbXCIgKyBkcmFnSGFuZGxlLmNvbnRleHRJZCArIFwiPVxcXCJcIiArIGNvbnRleHRJZCArIFwiXFxcIl1cIjtcbn1cblxuZnVuY3Rpb24gZmluZENsb3Nlc3REcmFnSGFuZGxlRnJvbUV2ZW50KGNvbnRleHRJZCwgZXZlbnQpIHtcbiAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcblxuICBpZiAoIWlzRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZygnZXZlbnQudGFyZ2V0IG11c3QgYmUgYSBFbGVtZW50JykgOiB2b2lkIDA7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgc2VsZWN0b3IgPSBnZXRTZWxlY3Rvcihjb250ZXh0SWQpO1xuICB2YXIgaGFuZGxlID0gY2xvc2VzdCQxKHRhcmdldCwgc2VsZWN0b3IpO1xuXG4gIGlmICghaGFuZGxlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoIWlzSHRtbEVsZW1lbnQoaGFuZGxlKSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoJ2RyYWcgaGFuZGxlIG11c3QgYmUgYSBIVE1MRWxlbWVudCcpIDogdm9pZCAwO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGhhbmRsZTtcbn1cblxuZnVuY3Rpb24gdHJ5R2V0Q2xvc2VzdERyYWdnYWJsZUlkRnJvbUV2ZW50KGNvbnRleHRJZCwgZXZlbnQpIHtcbiAgdmFyIGhhbmRsZSA9IGZpbmRDbG9zZXN0RHJhZ0hhbmRsZUZyb21FdmVudChjb250ZXh0SWQsIGV2ZW50KTtcblxuICBpZiAoIWhhbmRsZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGhhbmRsZS5nZXRBdHRyaWJ1dGUoZHJhZ0hhbmRsZS5kcmFnZ2FibGVJZCk7XG59XG5cbmZ1bmN0aW9uIGZpbmREcmFnZ2FibGUoY29udGV4dElkLCBkcmFnZ2FibGVJZCkge1xuICB2YXIgc2VsZWN0b3IgPSBcIltcIiArIGRyYWdnYWJsZS5jb250ZXh0SWQgKyBcIj1cXFwiXCIgKyBjb250ZXh0SWQgKyBcIlxcXCJdXCI7XG4gIHZhciBwb3NzaWJsZSA9IHRvQXJyYXkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xuICB2YXIgZHJhZ2dhYmxlJDEgPSBmaW5kKHBvc3NpYmxlLCBmdW5jdGlvbiAoZWwpIHtcbiAgICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlKGRyYWdnYWJsZS5pZCkgPT09IGRyYWdnYWJsZUlkO1xuICB9KTtcblxuICBpZiAoIWRyYWdnYWJsZSQxKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoIWlzSHRtbEVsZW1lbnQoZHJhZ2dhYmxlJDEpKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZygnRHJhZ2dhYmxlIGVsZW1lbnQgaXMgbm90IGEgSFRNTEVsZW1lbnQnKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBkcmFnZ2FibGUkMTtcbn1cblxuZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZXZlbnQpIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbn1cblxuZnVuY3Rpb24gX2lzQWN0aXZlKF9yZWYpIHtcbiAgdmFyIGV4cGVjdGVkID0gX3JlZi5leHBlY3RlZCxcbiAgICAgIHBoYXNlID0gX3JlZi5waGFzZSxcbiAgICAgIGlzTG9ja0FjdGl2ZSA9IF9yZWYuaXNMb2NrQWN0aXZlLFxuICAgICAgc2hvdWxkV2FybiA9IF9yZWYuc2hvdWxkV2FybjtcblxuICBpZiAoIWlzTG9ja0FjdGl2ZSgpKSB7XG4gICAgaWYgKHNob3VsZFdhcm4pIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoXCJcXG4gICAgICAgIENhbm5vdCBwZXJmb3JtIGFjdGlvbi5cXG4gICAgICAgIFRoZSBzZW5zb3Igbm8gbG9uZ2VyIGhhcyBhbiBhY3Rpb24gbG9jay5cXG5cXG4gICAgICAgIFRpcHM6XFxuXFxuICAgICAgICAtIFRocm93IGF3YXkgeW91ciBhY3Rpb24gaGFuZGxlcnMgd2hlbiBmb3JjZVN0b3AoKSBpcyBjYWxsZWRcXG4gICAgICAgIC0gQ2hlY2sgYWN0aW9ucy5pc0FjdGl2ZSgpIGlmIHlvdSByZWFsbHkgbmVlZCB0b1xcbiAgICAgIFwiKSA6IHZvaWQgMDtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoZXhwZWN0ZWQgIT09IHBoYXNlKSB7XG4gICAgaWYgKHNob3VsZFdhcm4pIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoXCJcXG4gICAgICAgIENhbm5vdCBwZXJmb3JtIGFjdGlvbi5cXG4gICAgICAgIFRoZSBhY3Rpb25zIHlvdSB1c2VkIGJlbG9uZyB0byBhbiBvdXRkYXRlZCBwaGFzZVxcblxcbiAgICAgICAgQ3VycmVudCBwaGFzZTogXCIgKyBleHBlY3RlZCArIFwiXFxuICAgICAgICBZb3UgY2FsbGVkIGFuIGFjdGlvbiBmcm9tIG91dGRhdGVkIHBoYXNlOiBcIiArIHBoYXNlICsgXCJcXG5cXG4gICAgICAgIFRpcHM6XFxuXFxuICAgICAgICAtIERvIG5vdCB1c2UgcHJlRHJhZ0FjdGlvbnMgYWN0aW9ucyBhZnRlciBjYWxsaW5nIHByZURyYWdBY3Rpb25zLmxpZnQoKVxcbiAgICAgIFwiKSA6IHZvaWQgMDtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY2FuU3RhcnQoX3JlZjIpIHtcbiAgdmFyIGxvY2tBUEkgPSBfcmVmMi5sb2NrQVBJLFxuICAgICAgc3RvcmUgPSBfcmVmMi5zdG9yZSxcbiAgICAgIHJlZ2lzdHJ5ID0gX3JlZjIucmVnaXN0cnksXG4gICAgICBkcmFnZ2FibGVJZCA9IF9yZWYyLmRyYWdnYWJsZUlkO1xuXG4gIGlmIChsb2NrQVBJLmlzQ2xhaW1lZCgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGVudHJ5ID0gcmVnaXN0cnkuZHJhZ2dhYmxlLmZpbmRCeUlkKGRyYWdnYWJsZUlkKTtcblxuICBpZiAoIWVudHJ5KSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhcIlVuYWJsZSB0byBmaW5kIGRyYWdnYWJsZSB3aXRoIGlkOiBcIiArIGRyYWdnYWJsZUlkKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoIWVudHJ5Lm9wdGlvbnMuaXNFbmFibGVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFjYW5TdGFydERyYWcoc3RvcmUuZ2V0U3RhdGUoKSwgZHJhZ2dhYmxlSWQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHRyeVN0YXJ0KF9yZWYzKSB7XG4gIHZhciBsb2NrQVBJID0gX3JlZjMubG9ja0FQSSxcbiAgICAgIGNvbnRleHRJZCA9IF9yZWYzLmNvbnRleHRJZCxcbiAgICAgIHN0b3JlID0gX3JlZjMuc3RvcmUsXG4gICAgICByZWdpc3RyeSA9IF9yZWYzLnJlZ2lzdHJ5LFxuICAgICAgZHJhZ2dhYmxlSWQgPSBfcmVmMy5kcmFnZ2FibGVJZCxcbiAgICAgIGZvcmNlU2Vuc29yU3RvcCA9IF9yZWYzLmZvcmNlU2Vuc29yU3RvcCxcbiAgICAgIHNvdXJjZUV2ZW50ID0gX3JlZjMuc291cmNlRXZlbnQ7XG4gIHZhciBzaG91bGRTdGFydCA9IGNhblN0YXJ0KHtcbiAgICBsb2NrQVBJOiBsb2NrQVBJLFxuICAgIHN0b3JlOiBzdG9yZSxcbiAgICByZWdpc3RyeTogcmVnaXN0cnksXG4gICAgZHJhZ2dhYmxlSWQ6IGRyYWdnYWJsZUlkXG4gIH0pO1xuXG4gIGlmICghc2hvdWxkU3RhcnQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBlbnRyeSA9IHJlZ2lzdHJ5LmRyYWdnYWJsZS5nZXRCeUlkKGRyYWdnYWJsZUlkKTtcbiAgdmFyIGVsID0gZmluZERyYWdnYWJsZShjb250ZXh0SWQsIGVudHJ5LmRlc2NyaXB0b3IuaWQpO1xuXG4gIGlmICghZWwpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKFwiVW5hYmxlIHRvIGZpbmQgZHJhZ2dhYmxlIGVsZW1lbnQgd2l0aCBpZDogXCIgKyBkcmFnZ2FibGVJZCkgOiB2b2lkIDA7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoc291cmNlRXZlbnQgJiYgIWVudHJ5Lm9wdGlvbnMuY2FuRHJhZ0ludGVyYWN0aXZlRWxlbWVudHMgJiYgaXNFdmVudEluSW50ZXJhY3RpdmVFbGVtZW50KGVsLCBzb3VyY2VFdmVudCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBsb2NrID0gbG9ja0FQSS5jbGFpbShmb3JjZVNlbnNvclN0b3AgfHwgbm9vcCk7XG4gIHZhciBwaGFzZSA9ICdQUkVfRFJBRyc7XG5cbiAgZnVuY3Rpb24gZ2V0U2hvdWxkUmVzcGVjdEZvcmNlUHJlc3MoKSB7XG4gICAgcmV0dXJuIGVudHJ5Lm9wdGlvbnMuc2hvdWxkUmVzcGVjdEZvcmNlUHJlc3M7XG4gIH1cblxuICBmdW5jdGlvbiBpc0xvY2tBY3RpdmUoKSB7XG4gICAgcmV0dXJuIGxvY2tBUEkuaXNBY3RpdmUobG9jayk7XG4gIH1cblxuICBmdW5jdGlvbiB0cnlEaXNwYXRjaChleHBlY3RlZCwgZ2V0QWN0aW9uKSB7XG4gICAgaWYgKF9pc0FjdGl2ZSh7XG4gICAgICBleHBlY3RlZDogZXhwZWN0ZWQsXG4gICAgICBwaGFzZTogcGhhc2UsXG4gICAgICBpc0xvY2tBY3RpdmU6IGlzTG9ja0FjdGl2ZSxcbiAgICAgIHNob3VsZFdhcm46IHRydWVcbiAgICB9KSkge1xuICAgICAgc3RvcmUuZGlzcGF0Y2goZ2V0QWN0aW9uKCkpO1xuICAgIH1cbiAgfVxuXG4gIHZhciB0cnlEaXNwYXRjaFdoZW5EcmFnZ2luZyA9IHRyeURpc3BhdGNoLmJpbmQobnVsbCwgJ0RSQUdHSU5HJyk7XG5cbiAgZnVuY3Rpb24gbGlmdCQxKGFyZ3MpIHtcbiAgICBmdW5jdGlvbiBjb21wbGV0ZWQoKSB7XG4gICAgICBsb2NrQVBJLnJlbGVhc2UoKTtcbiAgICAgIHBoYXNlID0gJ0NPTVBMRVRFRCc7XG4gICAgfVxuXG4gICAgaWYgKHBoYXNlICE9PSAnUFJFX0RSQUcnKSB7XG4gICAgICBjb21wbGV0ZWQoKTtcbiAgICAgICEocGhhc2UgPT09ICdQUkVfRFJBRycpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIkNhbm5vdCBsaWZ0IGluIHBoYXNlIFwiICsgcGhhc2UpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB9XG5cbiAgICBzdG9yZS5kaXNwYXRjaChsaWZ0KGFyZ3MubGlmdEFjdGlvbkFyZ3MpKTtcbiAgICBwaGFzZSA9ICdEUkFHR0lORyc7XG5cbiAgICBmdW5jdGlvbiBmaW5pc2gocmVhc29uLCBvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgc2hvdWxkQmxvY2tOZXh0Q2xpY2s6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGFyZ3MuY2xlYW51cCgpO1xuXG4gICAgICBpZiAob3B0aW9ucy5zaG91bGRCbG9ja05leHRDbGljaykge1xuICAgICAgICB2YXIgdW5iaW5kID0gYmluZEV2ZW50cyh3aW5kb3csIFt7XG4gICAgICAgICAgZXZlbnROYW1lOiAnY2xpY2snLFxuICAgICAgICAgIGZuOiBwcmV2ZW50RGVmYXVsdCxcbiAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICBvbmNlOiB0cnVlLFxuICAgICAgICAgICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBjYXB0dXJlOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XSk7XG4gICAgICAgIHNldFRpbWVvdXQodW5iaW5kKTtcbiAgICAgIH1cblxuICAgICAgY29tcGxldGVkKCk7XG4gICAgICBzdG9yZS5kaXNwYXRjaChkcm9wKHtcbiAgICAgICAgcmVhc29uOiByZWFzb25cbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgaXNBY3RpdmU6IGZ1bmN0aW9uIGlzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gX2lzQWN0aXZlKHtcbiAgICAgICAgICBleHBlY3RlZDogJ0RSQUdHSU5HJyxcbiAgICAgICAgICBwaGFzZTogcGhhc2UsXG4gICAgICAgICAgaXNMb2NrQWN0aXZlOiBpc0xvY2tBY3RpdmUsXG4gICAgICAgICAgc2hvdWxkV2FybjogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgc2hvdWxkUmVzcGVjdEZvcmNlUHJlc3M6IGdldFNob3VsZFJlc3BlY3RGb3JjZVByZXNzLFxuICAgICAgZHJvcDogZnVuY3Rpb24gZHJvcChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBmaW5pc2goJ0RST1AnLCBvcHRpb25zKTtcbiAgICAgIH0sXG4gICAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBmaW5pc2goJ0NBTkNFTCcsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0sIGFyZ3MuYWN0aW9ucyk7XG4gIH1cblxuICBmdW5jdGlvbiBmbHVpZExpZnQoY2xpZW50U2VsZWN0aW9uKSB7XG4gICAgdmFyIG1vdmUkMSA9IHJhZlNjaGQoZnVuY3Rpb24gKGNsaWVudCkge1xuICAgICAgdHJ5RGlzcGF0Y2hXaGVuRHJhZ2dpbmcoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbW92ZSh7XG4gICAgICAgICAgY2xpZW50OiBjbGllbnRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB2YXIgYXBpID0gbGlmdCQxKHtcbiAgICAgIGxpZnRBY3Rpb25BcmdzOiB7XG4gICAgICAgIGlkOiBkcmFnZ2FibGVJZCxcbiAgICAgICAgY2xpZW50U2VsZWN0aW9uOiBjbGllbnRTZWxlY3Rpb24sXG4gICAgICAgIG1vdmVtZW50TW9kZTogJ0ZMVUlEJ1xuICAgICAgfSxcbiAgICAgIGNsZWFudXA6IGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICAgIHJldHVybiBtb3ZlJDEuY2FuY2VsKCk7XG4gICAgICB9LFxuICAgICAgYWN0aW9uczoge1xuICAgICAgICBtb3ZlOiBtb3ZlJDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIGFwaSwge1xuICAgICAgbW92ZTogbW92ZSQxXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzbmFwTGlmdCgpIHtcbiAgICB2YXIgYWN0aW9ucyA9IHtcbiAgICAgIG1vdmVVcDogZnVuY3Rpb24gbW92ZVVwJDEoKSB7XG4gICAgICAgIHJldHVybiB0cnlEaXNwYXRjaFdoZW5EcmFnZ2luZyhtb3ZlVXApO1xuICAgICAgfSxcbiAgICAgIG1vdmVSaWdodDogZnVuY3Rpb24gbW92ZVJpZ2h0JDEoKSB7XG4gICAgICAgIHJldHVybiB0cnlEaXNwYXRjaFdoZW5EcmFnZ2luZyhtb3ZlUmlnaHQpO1xuICAgICAgfSxcbiAgICAgIG1vdmVEb3duOiBmdW5jdGlvbiBtb3ZlRG93biQxKCkge1xuICAgICAgICByZXR1cm4gdHJ5RGlzcGF0Y2hXaGVuRHJhZ2dpbmcobW92ZURvd24pO1xuICAgICAgfSxcbiAgICAgIG1vdmVMZWZ0OiBmdW5jdGlvbiBtb3ZlTGVmdCQxKCkge1xuICAgICAgICByZXR1cm4gdHJ5RGlzcGF0Y2hXaGVuRHJhZ2dpbmcobW92ZUxlZnQpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGxpZnQkMSh7XG4gICAgICBsaWZ0QWN0aW9uQXJnczoge1xuICAgICAgICBpZDogZHJhZ2dhYmxlSWQsXG4gICAgICAgIGNsaWVudFNlbGVjdGlvbjogZ2V0Qm9yZGVyQm94Q2VudGVyUG9zaXRpb24oZWwpLFxuICAgICAgICBtb3ZlbWVudE1vZGU6ICdTTkFQJ1xuICAgICAgfSxcbiAgICAgIGNsZWFudXA6IG5vb3AsXG4gICAgICBhY3Rpb25zOiBhY3Rpb25zXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBhYm9ydFByZURyYWcoKSB7XG4gICAgdmFyIHNob3VsZFJlbGVhc2UgPSBfaXNBY3RpdmUoe1xuICAgICAgZXhwZWN0ZWQ6ICdQUkVfRFJBRycsXG4gICAgICBwaGFzZTogcGhhc2UsXG4gICAgICBpc0xvY2tBY3RpdmU6IGlzTG9ja0FjdGl2ZSxcbiAgICAgIHNob3VsZFdhcm46IHRydWVcbiAgICB9KTtcblxuICAgIGlmIChzaG91bGRSZWxlYXNlKSB7XG4gICAgICBsb2NrQVBJLnJlbGVhc2UoKTtcbiAgICB9XG4gIH1cblxuICB2YXIgcHJlRHJhZyA9IHtcbiAgICBpc0FjdGl2ZTogZnVuY3Rpb24gaXNBY3RpdmUoKSB7XG4gICAgICByZXR1cm4gX2lzQWN0aXZlKHtcbiAgICAgICAgZXhwZWN0ZWQ6ICdQUkVfRFJBRycsXG4gICAgICAgIHBoYXNlOiBwaGFzZSxcbiAgICAgICAgaXNMb2NrQWN0aXZlOiBpc0xvY2tBY3RpdmUsXG4gICAgICAgIHNob3VsZFdhcm46IGZhbHNlXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHNob3VsZFJlc3BlY3RGb3JjZVByZXNzOiBnZXRTaG91bGRSZXNwZWN0Rm9yY2VQcmVzcyxcbiAgICBmbHVpZExpZnQ6IGZsdWlkTGlmdCxcbiAgICBzbmFwTGlmdDogc25hcExpZnQsXG4gICAgYWJvcnQ6IGFib3J0UHJlRHJhZ1xuICB9O1xuICByZXR1cm4gcHJlRHJhZztcbn1cblxudmFyIGRlZmF1bHRTZW5zb3JzID0gW3VzZU1vdXNlU2Vuc29yLCB1c2VLZXlib2FyZFNlbnNvciwgdXNlVG91Y2hTZW5zb3JdO1xuZnVuY3Rpb24gdXNlU2Vuc29yTWFyc2hhbChfcmVmNCkge1xuICB2YXIgY29udGV4dElkID0gX3JlZjQuY29udGV4dElkLFxuICAgICAgc3RvcmUgPSBfcmVmNC5zdG9yZSxcbiAgICAgIHJlZ2lzdHJ5ID0gX3JlZjQucmVnaXN0cnksXG4gICAgICBjdXN0b21TZW5zb3JzID0gX3JlZjQuY3VzdG9tU2Vuc29ycyxcbiAgICAgIGVuYWJsZURlZmF1bHRTZW5zb3JzID0gX3JlZjQuZW5hYmxlRGVmYXVsdFNlbnNvcnM7XG4gIHZhciB1c2VTZW5zb3JzID0gW10uY29uY2F0KGVuYWJsZURlZmF1bHRTZW5zb3JzID8gZGVmYXVsdFNlbnNvcnMgOiBbXSwgY3VzdG9tU2Vuc29ycyB8fCBbXSk7XG4gIHZhciBsb2NrQVBJID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjcmVhdGUoKTtcbiAgfSlbMF07XG4gIHZhciB0cnlBYmFuZG9uTG9jayA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIHRyeUFiYW5kb25Mb2NrKHByZXZpb3VzLCBjdXJyZW50KSB7XG4gICAgaWYgKHByZXZpb3VzLmlzRHJhZ2dpbmcgJiYgIWN1cnJlbnQuaXNEcmFnZ2luZykge1xuICAgICAgbG9ja0FQSS50cnlBYmFuZG9uKCk7XG4gICAgfVxuICB9LCBbbG9ja0FQSV0pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uIGxpc3RlblRvU3RvcmUoKSB7XG4gICAgdmFyIHByZXZpb3VzID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICB2YXIgdW5zdWJzY3JpYmUgPSBzdG9yZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGN1cnJlbnQgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgdHJ5QWJhbmRvbkxvY2socHJldmlvdXMsIGN1cnJlbnQpO1xuICAgICAgcHJldmlvdXMgPSBjdXJyZW50O1xuICAgIH0pO1xuICAgIHJldHVybiB1bnN1YnNjcmliZTtcbiAgfSwgW2xvY2tBUEksIHN0b3JlLCB0cnlBYmFuZG9uTG9ja10pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbG9ja0FQSS50cnlBYmFuZG9uO1xuICB9LCBbbG9ja0FQSS50cnlBYmFuZG9uXSk7XG4gIHZhciBjYW5HZXRMb2NrID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGRyYWdnYWJsZUlkKSB7XG4gICAgcmV0dXJuIGNhblN0YXJ0KHtcbiAgICAgIGxvY2tBUEk6IGxvY2tBUEksXG4gICAgICByZWdpc3RyeTogcmVnaXN0cnksXG4gICAgICBzdG9yZTogc3RvcmUsXG4gICAgICBkcmFnZ2FibGVJZDogZHJhZ2dhYmxlSWRcbiAgICB9KTtcbiAgfSwgW2xvY2tBUEksIHJlZ2lzdHJ5LCBzdG9yZV0pO1xuICB2YXIgdHJ5R2V0TG9jayA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChkcmFnZ2FibGVJZCwgZm9yY2VTdG9wLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRyeVN0YXJ0KHtcbiAgICAgIGxvY2tBUEk6IGxvY2tBUEksXG4gICAgICByZWdpc3RyeTogcmVnaXN0cnksXG4gICAgICBjb250ZXh0SWQ6IGNvbnRleHRJZCxcbiAgICAgIHN0b3JlOiBzdG9yZSxcbiAgICAgIGRyYWdnYWJsZUlkOiBkcmFnZ2FibGVJZCxcbiAgICAgIGZvcmNlU2Vuc29yU3RvcDogZm9yY2VTdG9wLFxuICAgICAgc291cmNlRXZlbnQ6IG9wdGlvbnMgJiYgb3B0aW9ucy5zb3VyY2VFdmVudCA/IG9wdGlvbnMuc291cmNlRXZlbnQgOiBudWxsXG4gICAgfSk7XG4gIH0sIFtjb250ZXh0SWQsIGxvY2tBUEksIHJlZ2lzdHJ5LCBzdG9yZV0pO1xuICB2YXIgZmluZENsb3Nlc3REcmFnZ2FibGVJZCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIHJldHVybiB0cnlHZXRDbG9zZXN0RHJhZ2dhYmxlSWRGcm9tRXZlbnQoY29udGV4dElkLCBldmVudCk7XG4gIH0sIFtjb250ZXh0SWRdKTtcbiAgdmFyIGZpbmRPcHRpb25zRm9yRHJhZ2dhYmxlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGlkKSB7XG4gICAgdmFyIGVudHJ5ID0gcmVnaXN0cnkuZHJhZ2dhYmxlLmZpbmRCeUlkKGlkKTtcbiAgICByZXR1cm4gZW50cnkgPyBlbnRyeS5vcHRpb25zIDogbnVsbDtcbiAgfSwgW3JlZ2lzdHJ5LmRyYWdnYWJsZV0pO1xuICB2YXIgdHJ5UmVsZWFzZUxvY2sgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiB0cnlSZWxlYXNlTG9jaygpIHtcbiAgICBpZiAoIWxvY2tBUEkuaXNDbGFpbWVkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsb2NrQVBJLnRyeUFiYW5kb24oKTtcblxuICAgIGlmIChzdG9yZS5nZXRTdGF0ZSgpLnBoYXNlICE9PSAnSURMRScpIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKGZsdXNoKCkpO1xuICAgIH1cbiAgfSwgW2xvY2tBUEksIHN0b3JlXSk7XG4gIHZhciBpc0xvY2tDbGFpbWVkID0gdXNlQ2FsbGJhY2sobG9ja0FQSS5pc0NsYWltZWQsIFtsb2NrQVBJXSk7XG4gIHZhciBhcGkgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2FuR2V0TG9jazogY2FuR2V0TG9jayxcbiAgICAgIHRyeUdldExvY2s6IHRyeUdldExvY2ssXG4gICAgICBmaW5kQ2xvc2VzdERyYWdnYWJsZUlkOiBmaW5kQ2xvc2VzdERyYWdnYWJsZUlkLFxuICAgICAgZmluZE9wdGlvbnNGb3JEcmFnZ2FibGU6IGZpbmRPcHRpb25zRm9yRHJhZ2dhYmxlLFxuICAgICAgdHJ5UmVsZWFzZUxvY2s6IHRyeVJlbGVhc2VMb2NrLFxuICAgICAgaXNMb2NrQ2xhaW1lZDogaXNMb2NrQ2xhaW1lZFxuICAgIH07XG4gIH0sIFtjYW5HZXRMb2NrLCB0cnlHZXRMb2NrLCBmaW5kQ2xvc2VzdERyYWdnYWJsZUlkLCBmaW5kT3B0aW9uc0ZvckRyYWdnYWJsZSwgdHJ5UmVsZWFzZUxvY2ssIGlzTG9ja0NsYWltZWRdKTtcbiAgdXNlVmFsaWRhdGVTZW5zb3JIb29rcyh1c2VTZW5zb3JzKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHVzZVNlbnNvcnMubGVuZ3RoOyBpKyspIHtcbiAgICB1c2VTZW5zb3JzW2ldKGFwaSk7XG4gIH1cbn1cblxudmFyIGNyZWF0ZVJlc3BvbmRlcnMgPSBmdW5jdGlvbiBjcmVhdGVSZXNwb25kZXJzKHByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgb25CZWZvcmVDYXB0dXJlOiBwcm9wcy5vbkJlZm9yZUNhcHR1cmUsXG4gICAgb25CZWZvcmVEcmFnU3RhcnQ6IHByb3BzLm9uQmVmb3JlRHJhZ1N0YXJ0LFxuICAgIG9uRHJhZ1N0YXJ0OiBwcm9wcy5vbkRyYWdTdGFydCxcbiAgICBvbkRyYWdFbmQ6IHByb3BzLm9uRHJhZ0VuZCxcbiAgICBvbkRyYWdVcGRhdGU6IHByb3BzLm9uRHJhZ1VwZGF0ZVxuICB9O1xufTtcblxuZnVuY3Rpb24gZ2V0U3RvcmUobGF6eVJlZikge1xuICAhbGF6eVJlZi5jdXJyZW50ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ291bGQgbm90IGZpbmQgc3RvcmUgZnJvbSBsYXp5IHJlZicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgcmV0dXJuIGxhenlSZWYuY3VycmVudDtcbn1cblxuZnVuY3Rpb24gQXBwKHByb3BzKSB7XG4gIHZhciBjb250ZXh0SWQgPSBwcm9wcy5jb250ZXh0SWQsXG4gICAgICBzZXRDYWxsYmFja3MgPSBwcm9wcy5zZXRDYWxsYmFja3MsXG4gICAgICBzZW5zb3JzID0gcHJvcHMuc2Vuc29ycyxcbiAgICAgIG5vbmNlID0gcHJvcHMubm9uY2UsXG4gICAgICBkcmFnSGFuZGxlVXNhZ2VJbnN0cnVjdGlvbnMgPSBwcm9wcy5kcmFnSGFuZGxlVXNhZ2VJbnN0cnVjdGlvbnM7XG4gIHZhciBsYXp5U3RvcmVSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHVzZVN0YXJ0dXBWYWxpZGF0aW9uKCk7XG4gIHZhciBsYXN0UHJvcHNSZWYgPSB1c2VQcmV2aW91cyhwcm9wcyk7XG4gIHZhciBnZXRSZXNwb25kZXJzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjcmVhdGVSZXNwb25kZXJzKGxhc3RQcm9wc1JlZi5jdXJyZW50KTtcbiAgfSwgW2xhc3RQcm9wc1JlZl0pO1xuICB2YXIgYW5ub3VuY2UgPSB1c2VBbm5vdW5jZXIoY29udGV4dElkKTtcbiAgdmFyIGRyYWdIYW5kbGVVc2FnZUluc3RydWN0aW9uc0lkID0gdXNlSGlkZGVuVGV4dEVsZW1lbnQoe1xuICAgIGNvbnRleHRJZDogY29udGV4dElkLFxuICAgIHRleHQ6IGRyYWdIYW5kbGVVc2FnZUluc3RydWN0aW9uc1xuICB9KTtcbiAgdmFyIHN0eWxlTWFyc2hhbCA9IHVzZVN0eWxlTWFyc2hhbChjb250ZXh0SWQsIG5vbmNlKTtcbiAgdmFyIGxhenlEaXNwYXRjaCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICBnZXRTdG9yZShsYXp5U3RvcmVSZWYpLmRpc3BhdGNoKGFjdGlvbik7XG4gIH0sIFtdKTtcbiAgdmFyIG1hcnNoYWxDYWxsYmFja3MgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYmluZEFjdGlvbkNyZWF0b3JzKHtcbiAgICAgIHB1Ymxpc2hXaGlsZURyYWdnaW5nOiBwdWJsaXNoV2hpbGVEcmFnZ2luZyxcbiAgICAgIHVwZGF0ZURyb3BwYWJsZVNjcm9sbDogdXBkYXRlRHJvcHBhYmxlU2Nyb2xsLFxuICAgICAgdXBkYXRlRHJvcHBhYmxlSXNFbmFibGVkOiB1cGRhdGVEcm9wcGFibGVJc0VuYWJsZWQsXG4gICAgICB1cGRhdGVEcm9wcGFibGVJc0NvbWJpbmVFbmFibGVkOiB1cGRhdGVEcm9wcGFibGVJc0NvbWJpbmVFbmFibGVkLFxuICAgICAgY29sbGVjdGlvblN0YXJ0aW5nOiBjb2xsZWN0aW9uU3RhcnRpbmdcbiAgICB9LCBsYXp5RGlzcGF0Y2gpO1xuICB9LCBbbGF6eURpc3BhdGNoXSk7XG4gIHZhciByZWdpc3RyeSA9IHVzZVJlZ2lzdHJ5KCk7XG4gIHZhciBkaW1lbnNpb25NYXJzaGFsID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZURpbWVuc2lvbk1hcnNoYWwocmVnaXN0cnksIG1hcnNoYWxDYWxsYmFja3MpO1xuICB9LCBbcmVnaXN0cnksIG1hcnNoYWxDYWxsYmFja3NdKTtcbiAgdmFyIGF1dG9TY3JvbGxlciA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjcmVhdGVBdXRvU2Nyb2xsZXIoX2V4dGVuZHMoe1xuICAgICAgc2Nyb2xsV2luZG93OiBzY3JvbGxXaW5kb3csXG4gICAgICBzY3JvbGxEcm9wcGFibGU6IGRpbWVuc2lvbk1hcnNoYWwuc2Nyb2xsRHJvcHBhYmxlXG4gICAgfSwgYmluZEFjdGlvbkNyZWF0b3JzKHtcbiAgICAgIG1vdmU6IG1vdmVcbiAgICB9LCBsYXp5RGlzcGF0Y2gpKSk7XG4gIH0sIFtkaW1lbnNpb25NYXJzaGFsLnNjcm9sbERyb3BwYWJsZSwgbGF6eURpc3BhdGNoXSk7XG4gIHZhciBmb2N1c01hcnNoYWwgPSB1c2VGb2N1c01hcnNoYWwoY29udGV4dElkKTtcbiAgdmFyIHN0b3JlID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVN0b3JlKHtcbiAgICAgIGFubm91bmNlOiBhbm5vdW5jZSxcbiAgICAgIGF1dG9TY3JvbGxlcjogYXV0b1Njcm9sbGVyLFxuICAgICAgZGltZW5zaW9uTWFyc2hhbDogZGltZW5zaW9uTWFyc2hhbCxcbiAgICAgIGZvY3VzTWFyc2hhbDogZm9jdXNNYXJzaGFsLFxuICAgICAgZ2V0UmVzcG9uZGVyczogZ2V0UmVzcG9uZGVycyxcbiAgICAgIHN0eWxlTWFyc2hhbDogc3R5bGVNYXJzaGFsXG4gICAgfSk7XG4gIH0sIFthbm5vdW5jZSwgYXV0b1Njcm9sbGVyLCBkaW1lbnNpb25NYXJzaGFsLCBmb2N1c01hcnNoYWwsIGdldFJlc3BvbmRlcnMsIHN0eWxlTWFyc2hhbF0pO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGxhenlTdG9yZVJlZi5jdXJyZW50ICYmIGxhenlTdG9yZVJlZi5jdXJyZW50ICE9PSBzdG9yZSkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZygndW5leHBlY3RlZCBzdG9yZSBjaGFuZ2UnKSA6IHZvaWQgMDtcbiAgICB9XG4gIH1cblxuICBsYXp5U3RvcmVSZWYuY3VycmVudCA9IHN0b3JlO1xuICB2YXIgdHJ5UmVzZXRTdG9yZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY3VycmVudCA9IGdldFN0b3JlKGxhenlTdG9yZVJlZik7XG4gICAgdmFyIHN0YXRlID0gY3VycmVudC5nZXRTdGF0ZSgpO1xuXG4gICAgaWYgKHN0YXRlLnBoYXNlICE9PSAnSURMRScpIHtcbiAgICAgIGN1cnJlbnQuZGlzcGF0Y2goZmx1c2goKSk7XG4gICAgfVxuICB9LCBbXSk7XG4gIHZhciBpc0RyYWdnaW5nID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBzdGF0ZSA9IGdldFN0b3JlKGxhenlTdG9yZVJlZikuZ2V0U3RhdGUoKTtcbiAgICByZXR1cm4gc3RhdGUuaXNEcmFnZ2luZyB8fCBzdGF0ZS5waGFzZSA9PT0gJ0RST1BfQU5JTUFUSU5HJztcbiAgfSwgW10pO1xuICB2YXIgYXBwQ2FsbGJhY2tzID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzRHJhZ2dpbmc6IGlzRHJhZ2dpbmcsXG4gICAgICB0cnlBYm9ydDogdHJ5UmVzZXRTdG9yZVxuICAgIH07XG4gIH0sIFtpc0RyYWdnaW5nLCB0cnlSZXNldFN0b3JlXSk7XG4gIHNldENhbGxiYWNrcyhhcHBDYWxsYmFja3MpO1xuICB2YXIgZ2V0Q2FuTGlmdCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChpZCkge1xuICAgIHJldHVybiBjYW5TdGFydERyYWcoZ2V0U3RvcmUobGF6eVN0b3JlUmVmKS5nZXRTdGF0ZSgpLCBpZCk7XG4gIH0sIFtdKTtcbiAgdmFyIGdldElzTW92ZW1lbnRBbGxvd2VkID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBpc01vdmVtZW50QWxsb3dlZChnZXRTdG9yZShsYXp5U3RvcmVSZWYpLmdldFN0YXRlKCkpO1xuICB9LCBbXSk7XG4gIHZhciBhcHBDb250ZXh0ID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hcnNoYWw6IGRpbWVuc2lvbk1hcnNoYWwsXG4gICAgICBmb2N1czogZm9jdXNNYXJzaGFsLFxuICAgICAgY29udGV4dElkOiBjb250ZXh0SWQsXG4gICAgICBjYW5MaWZ0OiBnZXRDYW5MaWZ0LFxuICAgICAgaXNNb3ZlbWVudEFsbG93ZWQ6IGdldElzTW92ZW1lbnRBbGxvd2VkLFxuICAgICAgZHJhZ0hhbmRsZVVzYWdlSW5zdHJ1Y3Rpb25zSWQ6IGRyYWdIYW5kbGVVc2FnZUluc3RydWN0aW9uc0lkLFxuICAgICAgcmVnaXN0cnk6IHJlZ2lzdHJ5XG4gICAgfTtcbiAgfSwgW2NvbnRleHRJZCwgZGltZW5zaW9uTWFyc2hhbCwgZHJhZ0hhbmRsZVVzYWdlSW5zdHJ1Y3Rpb25zSWQsIGZvY3VzTWFyc2hhbCwgZ2V0Q2FuTGlmdCwgZ2V0SXNNb3ZlbWVudEFsbG93ZWQsIHJlZ2lzdHJ5XSk7XG4gIHVzZVNlbnNvck1hcnNoYWwoe1xuICAgIGNvbnRleHRJZDogY29udGV4dElkLFxuICAgIHN0b3JlOiBzdG9yZSxcbiAgICByZWdpc3RyeTogcmVnaXN0cnksXG4gICAgY3VzdG9tU2Vuc29yczogc2Vuc29ycyxcbiAgICBlbmFibGVEZWZhdWx0U2Vuc29yczogcHJvcHMuZW5hYmxlRGVmYXVsdFNlbnNvcnMgIT09IGZhbHNlXG4gIH0pO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0cnlSZXNldFN0b3JlO1xuICB9LCBbdHJ5UmVzZXRTdG9yZV0pO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBcHBDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGFwcENvbnRleHRcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChQcm92aWRlciwge1xuICAgIGNvbnRleHQ6IFN0b3JlQ29udGV4dCxcbiAgICBzdG9yZTogc3RvcmVcbiAgfSwgcHJvcHMuY2hpbGRyZW4pKTtcbn1cblxudmFyIGNvdW50JDEgPSAwO1xuZnVuY3Rpb24gcmVzZXQkMSgpIHtcbiAgY291bnQkMSA9IDA7XG59XG5mdW5jdGlvbiB1c2VJbnN0YW5jZUNvdW50KCkge1xuICByZXR1cm4gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFwiXCIgKyBjb3VudCQxKys7XG4gIH0sIFtdKTtcbn1cblxuZnVuY3Rpb24gcmVzZXRTZXJ2ZXJDb250ZXh0KCkge1xuICByZXNldCQxKCk7XG4gIHJlc2V0KCk7XG59XG5mdW5jdGlvbiBEcmFnRHJvcENvbnRleHQocHJvcHMpIHtcbiAgdmFyIGNvbnRleHRJZCA9IHVzZUluc3RhbmNlQ291bnQoKTtcbiAgdmFyIGRyYWdIYW5kbGVVc2FnZUluc3RydWN0aW9ucyA9IHByb3BzLmRyYWdIYW5kbGVVc2FnZUluc3RydWN0aW9ucyB8fCBwcmVzZXQuZHJhZ0hhbmRsZVVzYWdlSW5zdHJ1Y3Rpb25zO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChFcnJvckJvdW5kYXJ5LCBudWxsLCBmdW5jdGlvbiAoc2V0Q2FsbGJhY2tzKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXBwLCB7XG4gICAgICBub25jZTogcHJvcHMubm9uY2UsXG4gICAgICBjb250ZXh0SWQ6IGNvbnRleHRJZCxcbiAgICAgIHNldENhbGxiYWNrczogc2V0Q2FsbGJhY2tzLFxuICAgICAgZHJhZ0hhbmRsZVVzYWdlSW5zdHJ1Y3Rpb25zOiBkcmFnSGFuZGxlVXNhZ2VJbnN0cnVjdGlvbnMsXG4gICAgICBlbmFibGVEZWZhdWx0U2Vuc29yczogcHJvcHMuZW5hYmxlRGVmYXVsdFNlbnNvcnMsXG4gICAgICBzZW5zb3JzOiBwcm9wcy5zZW5zb3JzLFxuICAgICAgb25CZWZvcmVDYXB0dXJlOiBwcm9wcy5vbkJlZm9yZUNhcHR1cmUsXG4gICAgICBvbkJlZm9yZURyYWdTdGFydDogcHJvcHMub25CZWZvcmVEcmFnU3RhcnQsXG4gICAgICBvbkRyYWdTdGFydDogcHJvcHMub25EcmFnU3RhcnQsXG4gICAgICBvbkRyYWdVcGRhdGU6IHByb3BzLm9uRHJhZ1VwZGF0ZSxcbiAgICAgIG9uRHJhZ0VuZDogcHJvcHMub25EcmFnRW5kXG4gICAgfSwgcHJvcHMuY2hpbGRyZW4pO1xuICB9KTtcbn1cblxudmFyIGlzRXF1YWwkMSA9IGZ1bmN0aW9uIGlzRXF1YWwoYmFzZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIGJhc2UgPT09IHZhbHVlO1xuICB9O1xufTtcblxudmFyIGlzU2Nyb2xsID0gaXNFcXVhbCQxKCdzY3JvbGwnKTtcbnZhciBpc0F1dG8gPSBpc0VxdWFsJDEoJ2F1dG8nKTtcbnZhciBpc1Zpc2libGUkMSA9IGlzRXF1YWwkMSgndmlzaWJsZScpO1xuXG52YXIgaXNFaXRoZXIgPSBmdW5jdGlvbiBpc0VpdGhlcihvdmVyZmxvdywgZm4pIHtcbiAgcmV0dXJuIGZuKG92ZXJmbG93Lm92ZXJmbG93WCkgfHwgZm4ob3ZlcmZsb3cub3ZlcmZsb3dZKTtcbn07XG5cbnZhciBpc0JvdGggPSBmdW5jdGlvbiBpc0JvdGgob3ZlcmZsb3csIGZuKSB7XG4gIHJldHVybiBmbihvdmVyZmxvdy5vdmVyZmxvd1gpICYmIGZuKG92ZXJmbG93Lm92ZXJmbG93WSk7XG59O1xuXG52YXIgaXNFbGVtZW50U2Nyb2xsYWJsZSA9IGZ1bmN0aW9uIGlzRWxlbWVudFNjcm9sbGFibGUoZWwpIHtcbiAgdmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuICB2YXIgb3ZlcmZsb3cgPSB7XG4gICAgb3ZlcmZsb3dYOiBzdHlsZS5vdmVyZmxvd1gsXG4gICAgb3ZlcmZsb3dZOiBzdHlsZS5vdmVyZmxvd1lcbiAgfTtcbiAgcmV0dXJuIGlzRWl0aGVyKG92ZXJmbG93LCBpc1Njcm9sbCkgfHwgaXNFaXRoZXIob3ZlcmZsb3csIGlzQXV0byk7XG59O1xuXG52YXIgaXNCb2R5U2Nyb2xsYWJsZSA9IGZ1bmN0aW9uIGlzQm9keVNjcm9sbGFibGUoKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGJvZHkgPSBnZXRCb2R5RWxlbWVudCgpO1xuICB2YXIgaHRtbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgIWh0bWwgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcblxuICBpZiAoIWlzRWxlbWVudFNjcm9sbGFibGUoYm9keSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgaHRtbFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoaHRtbCk7XG4gIHZhciBodG1sT3ZlcmZsb3cgPSB7XG4gICAgb3ZlcmZsb3dYOiBodG1sU3R5bGUub3ZlcmZsb3dYLFxuICAgIG92ZXJmbG93WTogaHRtbFN0eWxlLm92ZXJmbG93WVxuICB9O1xuXG4gIGlmIChpc0JvdGgoaHRtbE92ZXJmbG93LCBpc1Zpc2libGUkMSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKFwiXFxuICAgIFdlIGhhdmUgZGV0ZWN0ZWQgdGhhdCB5b3VyIDxib2R5PiBlbGVtZW50IG1pZ2h0IGJlIGEgc2Nyb2xsIGNvbnRhaW5lci5cXG4gICAgV2UgaGF2ZSBmb3VuZCBubyByZWxpYWJsZSB3YXkgb2YgZGV0ZWN0aW5nIHdoZXRoZXIgdGhlIDxib2R5PiBlbGVtZW50IGlzIGEgc2Nyb2xsIGNvbnRhaW5lci5cXG4gICAgVW5kZXIgbW9zdCBjaXJjdW1zdGFuY2VzIGEgPGJvZHk+IHNjcm9sbCBiYXIgd2lsbCBiZSBvbiB0aGUgPGh0bWw+IGVsZW1lbnQgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudClcXG5cXG4gICAgQmVjYXVzZSB3ZSBjYW5ub3QgZGV0ZXJtaW5lIGlmIHRoZSA8Ym9keT4gaXMgYSBzY3JvbGwgY29udGFpbmVyLCBhbmQgZ2VuZXJhbGx5IGl0IGlzIG5vdCBvbmUsXFxuICAgIHdlIHdpbGwgYmUgdHJlYXRpbmcgdGhlIDxib2R5PiBhcyAqbm90KiBhIHNjcm9sbCBjb250YWluZXJcXG5cXG4gICAgTW9yZSBpbmZvcm1hdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL2F0bGFzc2lhbi9yZWFjdC1iZWF1dGlmdWwtZG5kL2Jsb2IvbWFzdGVyL2RvY3MvZ3VpZGVzL2hvdy13ZS1kZXRlY3Qtc2Nyb2xsLWNvbnRhaW5lcnMubWRcXG4gIFwiKSA6IHZvaWQgMDtcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxudmFyIGdldENsb3Nlc3RTY3JvbGxhYmxlID0gZnVuY3Rpb24gZ2V0Q2xvc2VzdFNjcm9sbGFibGUoZWwpIHtcbiAgaWYgKGVsID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChlbCA9PT0gZG9jdW1lbnQuYm9keSkge1xuICAgIHJldHVybiBpc0JvZHlTY3JvbGxhYmxlKCkgPyBlbCA6IG51bGw7XG4gIH1cblxuICBpZiAoZWwgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKCFpc0VsZW1lbnRTY3JvbGxhYmxlKGVsKSkge1xuICAgIHJldHVybiBnZXRDbG9zZXN0U2Nyb2xsYWJsZShlbC5wYXJlbnRFbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiBlbDtcbn07XG5cbnZhciBjaGVja0Zvck5lc3RlZFNjcm9sbENvbnRhaW5lcnMgPSAoZnVuY3Rpb24gKHNjcm9sbGFibGUpIHtcbiAgaWYgKCFzY3JvbGxhYmxlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGFub3RoZXJTY3JvbGxQYXJlbnQgPSBnZXRDbG9zZXN0U2Nyb2xsYWJsZShzY3JvbGxhYmxlLnBhcmVudEVsZW1lbnQpO1xuXG4gIGlmICghYW5vdGhlclNjcm9sbFBhcmVudCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoXCJcXG4gICAgRHJvcHBhYmxlOiB1bnN1cHBvcnRlZCBuZXN0ZWQgc2Nyb2xsIGNvbnRhaW5lciBkZXRlY3RlZC5cXG4gICAgQSBEcm9wcGFibGUgY2FuIG9ubHkgaGF2ZSBvbmUgc2Nyb2xsIHBhcmVudCAod2hpY2ggY2FuIGJlIGl0c2VsZilcXG4gICAgTmVzdGVkIHNjcm9sbCBjb250YWluZXJzIGFyZSBjdXJyZW50bHkgbm90IHN1cHBvcnRlZC5cXG5cXG4gICAgV2UgaG9wZSB0byBzdXBwb3J0IG5lc3RlZCBzY3JvbGwgY29udGFpbmVycyBzb29uOiBodHRwczovL2dpdGh1Yi5jb20vYXRsYXNzaWFuL3JlYWN0LWJlYXV0aWZ1bC1kbmQvaXNzdWVzLzEzMVxcbiAgXCIpIDogdm9pZCAwO1xufSk7XG5cbnZhciBnZXRTY3JvbGwkMSA9IChmdW5jdGlvbiAoZWwpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBlbC5zY3JvbGxMZWZ0LFxuICAgIHk6IGVsLnNjcm9sbFRvcFxuICB9O1xufSk7XG5cbnZhciBnZXRJc0ZpeGVkID0gZnVuY3Rpb24gZ2V0SXNGaXhlZChlbCkge1xuICBpZiAoIWVsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuXG4gIGlmIChzdHlsZS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGdldElzRml4ZWQoZWwucGFyZW50RWxlbWVudCk7XG59O1xuXG52YXIgZ2V0RW52ID0gKGZ1bmN0aW9uIChzdGFydCkge1xuICB2YXIgY2xvc2VzdFNjcm9sbGFibGUgPSBnZXRDbG9zZXN0U2Nyb2xsYWJsZShzdGFydCk7XG4gIHZhciBpc0ZpeGVkT25QYWdlID0gZ2V0SXNGaXhlZChzdGFydCk7XG4gIHJldHVybiB7XG4gICAgY2xvc2VzdFNjcm9sbGFibGU6IGNsb3Nlc3RTY3JvbGxhYmxlLFxuICAgIGlzRml4ZWRPblBhZ2U6IGlzRml4ZWRPblBhZ2VcbiAgfTtcbn0pO1xuXG52YXIgZ2V0RHJvcHBhYmxlRGltZW5zaW9uID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBkZXNjcmlwdG9yID0gX3JlZi5kZXNjcmlwdG9yLFxuICAgICAgaXNFbmFibGVkID0gX3JlZi5pc0VuYWJsZWQsXG4gICAgICBpc0NvbWJpbmVFbmFibGVkID0gX3JlZi5pc0NvbWJpbmVFbmFibGVkLFxuICAgICAgaXNGaXhlZE9uUGFnZSA9IF9yZWYuaXNGaXhlZE9uUGFnZSxcbiAgICAgIGRpcmVjdGlvbiA9IF9yZWYuZGlyZWN0aW9uLFxuICAgICAgY2xpZW50ID0gX3JlZi5jbGllbnQsXG4gICAgICBwYWdlID0gX3JlZi5wYWdlLFxuICAgICAgY2xvc2VzdCA9IF9yZWYuY2xvc2VzdDtcblxuICB2YXIgZnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFjbG9zZXN0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgc2Nyb2xsU2l6ZSA9IGNsb3Nlc3Quc2Nyb2xsU2l6ZSxcbiAgICAgICAgZnJhbWVDbGllbnQgPSBjbG9zZXN0LmNsaWVudDtcbiAgICB2YXIgbWF4U2Nyb2xsID0gZ2V0TWF4U2Nyb2xsKHtcbiAgICAgIHNjcm9sbEhlaWdodDogc2Nyb2xsU2l6ZS5zY3JvbGxIZWlnaHQsXG4gICAgICBzY3JvbGxXaWR0aDogc2Nyb2xsU2l6ZS5zY3JvbGxXaWR0aCxcbiAgICAgIGhlaWdodDogZnJhbWVDbGllbnQucGFkZGluZ0JveC5oZWlnaHQsXG4gICAgICB3aWR0aDogZnJhbWVDbGllbnQucGFkZGluZ0JveC53aWR0aFxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICBwYWdlTWFyZ2luQm94OiBjbG9zZXN0LnBhZ2UubWFyZ2luQm94LFxuICAgICAgZnJhbWVDbGllbnQ6IGZyYW1lQ2xpZW50LFxuICAgICAgc2Nyb2xsU2l6ZTogc2Nyb2xsU2l6ZSxcbiAgICAgIHNob3VsZENsaXBTdWJqZWN0OiBjbG9zZXN0LnNob3VsZENsaXBTdWJqZWN0LFxuICAgICAgc2Nyb2xsOiB7XG4gICAgICAgIGluaXRpYWw6IGNsb3Nlc3Quc2Nyb2xsLFxuICAgICAgICBjdXJyZW50OiBjbG9zZXN0LnNjcm9sbCxcbiAgICAgICAgbWF4OiBtYXhTY3JvbGwsXG4gICAgICAgIGRpZmY6IHtcbiAgICAgICAgICB2YWx1ZTogb3JpZ2luLFxuICAgICAgICAgIGRpc3BsYWNlbWVudDogb3JpZ2luXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9KCk7XG5cbiAgdmFyIGF4aXMgPSBkaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcgPyB2ZXJ0aWNhbCA6IGhvcml6b250YWw7XG4gIHZhciBzdWJqZWN0ID0gZ2V0U3ViamVjdCh7XG4gICAgcGFnZTogcGFnZSxcbiAgICB3aXRoUGxhY2Vob2xkZXI6IG51bGwsXG4gICAgYXhpczogYXhpcyxcbiAgICBmcmFtZTogZnJhbWVcbiAgfSk7XG4gIHZhciBkaW1lbnNpb24gPSB7XG4gICAgZGVzY3JpcHRvcjogZGVzY3JpcHRvcixcbiAgICBpc0NvbWJpbmVFbmFibGVkOiBpc0NvbWJpbmVFbmFibGVkLFxuICAgIGlzRml4ZWRPblBhZ2U6IGlzRml4ZWRPblBhZ2UsXG4gICAgYXhpczogYXhpcyxcbiAgICBpc0VuYWJsZWQ6IGlzRW5hYmxlZCxcbiAgICBjbGllbnQ6IGNsaWVudCxcbiAgICBwYWdlOiBwYWdlLFxuICAgIGZyYW1lOiBmcmFtZSxcbiAgICBzdWJqZWN0OiBzdWJqZWN0XG4gIH07XG4gIHJldHVybiBkaW1lbnNpb247XG59KTtcblxudmFyIGdldENsaWVudCA9IGZ1bmN0aW9uIGdldENsaWVudCh0YXJnZXRSZWYsIGNsb3Nlc3RTY3JvbGxhYmxlKSB7XG4gIHZhciBiYXNlID0gZ2V0Qm94KHRhcmdldFJlZik7XG5cbiAgaWYgKCFjbG9zZXN0U2Nyb2xsYWJsZSkge1xuICAgIHJldHVybiBiYXNlO1xuICB9XG5cbiAgaWYgKHRhcmdldFJlZiAhPT0gY2xvc2VzdFNjcm9sbGFibGUpIHtcbiAgICByZXR1cm4gYmFzZTtcbiAgfVxuXG4gIHZhciB0b3AgPSBiYXNlLnBhZGRpbmdCb3gudG9wIC0gY2xvc2VzdFNjcm9sbGFibGUuc2Nyb2xsVG9wO1xuICB2YXIgbGVmdCA9IGJhc2UucGFkZGluZ0JveC5sZWZ0IC0gY2xvc2VzdFNjcm9sbGFibGUuc2Nyb2xsTGVmdDtcbiAgdmFyIGJvdHRvbSA9IHRvcCArIGNsb3Nlc3RTY3JvbGxhYmxlLnNjcm9sbEhlaWdodDtcbiAgdmFyIHJpZ2h0ID0gbGVmdCArIGNsb3Nlc3RTY3JvbGxhYmxlLnNjcm9sbFdpZHRoO1xuICB2YXIgcGFkZGluZ0JveCA9IHtcbiAgICB0b3A6IHRvcCxcbiAgICByaWdodDogcmlnaHQsXG4gICAgYm90dG9tOiBib3R0b20sXG4gICAgbGVmdDogbGVmdFxuICB9O1xuICB2YXIgYm9yZGVyQm94ID0gZXhwYW5kKHBhZGRpbmdCb3gsIGJhc2UuYm9yZGVyKTtcbiAgdmFyIGNsaWVudCA9IGNyZWF0ZUJveCh7XG4gICAgYm9yZGVyQm94OiBib3JkZXJCb3gsXG4gICAgbWFyZ2luOiBiYXNlLm1hcmdpbixcbiAgICBib3JkZXI6IGJhc2UuYm9yZGVyLFxuICAgIHBhZGRpbmc6IGJhc2UucGFkZGluZ1xuICB9KTtcbiAgcmV0dXJuIGNsaWVudDtcbn07XG5cbnZhciBnZXREaW1lbnNpb24gPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIHJlZiA9IF9yZWYucmVmLFxuICAgICAgZGVzY3JpcHRvciA9IF9yZWYuZGVzY3JpcHRvcixcbiAgICAgIGVudiA9IF9yZWYuZW52LFxuICAgICAgd2luZG93U2Nyb2xsID0gX3JlZi53aW5kb3dTY3JvbGwsXG4gICAgICBkaXJlY3Rpb24gPSBfcmVmLmRpcmVjdGlvbixcbiAgICAgIGlzRHJvcERpc2FibGVkID0gX3JlZi5pc0Ryb3BEaXNhYmxlZCxcbiAgICAgIGlzQ29tYmluZUVuYWJsZWQgPSBfcmVmLmlzQ29tYmluZUVuYWJsZWQsXG4gICAgICBzaG91bGRDbGlwU3ViamVjdCA9IF9yZWYuc2hvdWxkQ2xpcFN1YmplY3Q7XG4gIHZhciBjbG9zZXN0U2Nyb2xsYWJsZSA9IGVudi5jbG9zZXN0U2Nyb2xsYWJsZTtcbiAgdmFyIGNsaWVudCA9IGdldENsaWVudChyZWYsIGNsb3Nlc3RTY3JvbGxhYmxlKTtcbiAgdmFyIHBhZ2UgPSB3aXRoU2Nyb2xsKGNsaWVudCwgd2luZG93U2Nyb2xsKTtcblxuICB2YXIgY2xvc2VzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWNsb3Nlc3RTY3JvbGxhYmxlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgZnJhbWVDbGllbnQgPSBnZXRCb3goY2xvc2VzdFNjcm9sbGFibGUpO1xuICAgIHZhciBzY3JvbGxTaXplID0ge1xuICAgICAgc2Nyb2xsSGVpZ2h0OiBjbG9zZXN0U2Nyb2xsYWJsZS5zY3JvbGxIZWlnaHQsXG4gICAgICBzY3JvbGxXaWR0aDogY2xvc2VzdFNjcm9sbGFibGUuc2Nyb2xsV2lkdGhcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICBjbGllbnQ6IGZyYW1lQ2xpZW50LFxuICAgICAgcGFnZTogd2l0aFNjcm9sbChmcmFtZUNsaWVudCwgd2luZG93U2Nyb2xsKSxcbiAgICAgIHNjcm9sbDogZ2V0U2Nyb2xsJDEoY2xvc2VzdFNjcm9sbGFibGUpLFxuICAgICAgc2Nyb2xsU2l6ZTogc2Nyb2xsU2l6ZSxcbiAgICAgIHNob3VsZENsaXBTdWJqZWN0OiBzaG91bGRDbGlwU3ViamVjdFxuICAgIH07XG4gIH0oKTtcblxuICB2YXIgZGltZW5zaW9uID0gZ2V0RHJvcHBhYmxlRGltZW5zaW9uKHtcbiAgICBkZXNjcmlwdG9yOiBkZXNjcmlwdG9yLFxuICAgIGlzRW5hYmxlZDogIWlzRHJvcERpc2FibGVkLFxuICAgIGlzQ29tYmluZUVuYWJsZWQ6IGlzQ29tYmluZUVuYWJsZWQsXG4gICAgaXNGaXhlZE9uUGFnZTogZW52LmlzRml4ZWRPblBhZ2UsXG4gICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24sXG4gICAgY2xpZW50OiBjbGllbnQsXG4gICAgcGFnZTogcGFnZSxcbiAgICBjbG9zZXN0OiBjbG9zZXN0XG4gIH0pO1xuICByZXR1cm4gZGltZW5zaW9uO1xufSk7XG5cbnZhciBpbW1lZGlhdGUgPSB7XG4gIHBhc3NpdmU6IGZhbHNlXG59O1xudmFyIGRlbGF5ZWQgPSB7XG4gIHBhc3NpdmU6IHRydWVcbn07XG52YXIgZ2V0TGlzdGVuZXJPcHRpb25zID0gKGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIHJldHVybiBvcHRpb25zLnNob3VsZFB1Ymxpc2hJbW1lZGlhdGVseSA/IGltbWVkaWF0ZSA6IGRlbGF5ZWQ7XG59KTtcblxuZnVuY3Rpb24gdXNlUmVxdWlyZWRDb250ZXh0KENvbnRleHQpIHtcbiAgdmFyIHJlc3VsdCA9IHVzZUNvbnRleHQoQ29udGV4dCk7XG4gICFyZXN1bHQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDb3VsZCBub3QgZmluZCByZXF1aXJlZCBjb250ZXh0JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG52YXIgZ2V0Q2xvc2VzdFNjcm9sbGFibGVGcm9tRHJhZyA9IGZ1bmN0aW9uIGdldENsb3Nlc3RTY3JvbGxhYmxlRnJvbURyYWcoZHJhZ2dpbmcpIHtcbiAgcmV0dXJuIGRyYWdnaW5nICYmIGRyYWdnaW5nLmVudi5jbG9zZXN0U2Nyb2xsYWJsZSB8fCBudWxsO1xufTtcblxuZnVuY3Rpb24gdXNlRHJvcHBhYmxlUHVibGlzaGVyKGFyZ3MpIHtcbiAgdmFyIHdoaWxlRHJhZ2dpbmdSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBhcHBDb250ZXh0ID0gdXNlUmVxdWlyZWRDb250ZXh0KEFwcENvbnRleHQpO1xuICB2YXIgdW5pcXVlSWQgPSB1c2VVbmlxdWVJZCgnZHJvcHBhYmxlJyk7XG4gIHZhciByZWdpc3RyeSA9IGFwcENvbnRleHQucmVnaXN0cnksXG4gICAgICBtYXJzaGFsID0gYXBwQ29udGV4dC5tYXJzaGFsO1xuICB2YXIgcHJldmlvdXNSZWYgPSB1c2VQcmV2aW91cyhhcmdzKTtcbiAgdmFyIGRlc2NyaXB0b3IgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGFyZ3MuZHJvcHBhYmxlSWQsXG4gICAgICB0eXBlOiBhcmdzLnR5cGUsXG4gICAgICBtb2RlOiBhcmdzLm1vZGVcbiAgICB9O1xuICB9LCBbYXJncy5kcm9wcGFibGVJZCwgYXJncy5tb2RlLCBhcmdzLnR5cGVdKTtcbiAgdmFyIHB1Ymxpc2hlZERlc2NyaXB0b3JSZWYgPSB1c2VSZWYoZGVzY3JpcHRvcik7XG4gIHZhciBtZW1vaXplZFVwZGF0ZVNjcm9sbCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBtZW1vaXplT25lKGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAhd2hpbGVEcmFnZ2luZ1JlZi5jdXJyZW50ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2FuIG9ubHkgdXBkYXRlIHNjcm9sbCB3aGVuIGRyYWdnaW5nJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdmFyIHNjcm9sbCA9IHtcbiAgICAgICAgeDogeCxcbiAgICAgICAgeTogeVxuICAgICAgfTtcbiAgICAgIG1hcnNoYWwudXBkYXRlRHJvcHBhYmxlU2Nyb2xsKGRlc2NyaXB0b3IuaWQsIHNjcm9sbCk7XG4gICAgfSk7XG4gIH0sIFtkZXNjcmlwdG9yLmlkLCBtYXJzaGFsXSk7XG4gIHZhciBnZXRDbG9zZXN0U2Nyb2xsID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBkcmFnZ2luZyA9IHdoaWxlRHJhZ2dpbmdSZWYuY3VycmVudDtcblxuICAgIGlmICghZHJhZ2dpbmcgfHwgIWRyYWdnaW5nLmVudi5jbG9zZXN0U2Nyb2xsYWJsZSkge1xuICAgICAgcmV0dXJuIG9yaWdpbjtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0U2Nyb2xsJDEoZHJhZ2dpbmcuZW52LmNsb3Nlc3RTY3JvbGxhYmxlKTtcbiAgfSwgW10pO1xuICB2YXIgdXBkYXRlU2Nyb2xsID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBzY3JvbGwgPSBnZXRDbG9zZXN0U2Nyb2xsKCk7XG4gICAgbWVtb2l6ZWRVcGRhdGVTY3JvbGwoc2Nyb2xsLngsIHNjcm9sbC55KTtcbiAgfSwgW2dldENsb3Nlc3RTY3JvbGwsIG1lbW9pemVkVXBkYXRlU2Nyb2xsXSk7XG4gIHZhciBzY2hlZHVsZVNjcm9sbFVwZGF0ZSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByYWZTY2hkKHVwZGF0ZVNjcm9sbCk7XG4gIH0sIFt1cGRhdGVTY3JvbGxdKTtcbiAgdmFyIG9uQ2xvc2VzdFNjcm9sbCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZHJhZ2dpbmcgPSB3aGlsZURyYWdnaW5nUmVmLmN1cnJlbnQ7XG4gICAgdmFyIGNsb3Nlc3QgPSBnZXRDbG9zZXN0U2Nyb2xsYWJsZUZyb21EcmFnKGRyYWdnaW5nKTtcbiAgICAhKGRyYWdnaW5nICYmIGNsb3Nlc3QpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ291bGQgbm90IGZpbmQgc2Nyb2xsIG9wdGlvbnMgd2hpbGUgc2Nyb2xsaW5nJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBvcHRpb25zID0gZHJhZ2dpbmcuc2Nyb2xsT3B0aW9ucztcblxuICAgIGlmIChvcHRpb25zLnNob3VsZFB1Ymxpc2hJbW1lZGlhdGVseSkge1xuICAgICAgdXBkYXRlU2Nyb2xsKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2NoZWR1bGVTY3JvbGxVcGRhdGUoKTtcbiAgfSwgW3NjaGVkdWxlU2Nyb2xsVXBkYXRlLCB1cGRhdGVTY3JvbGxdKTtcbiAgdmFyIGdldERpbWVuc2lvbkFuZFdhdGNoU2Nyb2xsID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHdpbmRvd1Njcm9sbCwgb3B0aW9ucykge1xuICAgICEhd2hpbGVEcmFnZ2luZ1JlZi5jdXJyZW50ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IGNvbGxlY3QgYSBkcm9wcGFibGUgd2hpbGUgYSBkcmFnIGlzIG9jY3VycmluZycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgcHJldmlvdXMgPSBwcmV2aW91c1JlZi5jdXJyZW50O1xuICAgIHZhciByZWYgPSBwcmV2aW91cy5nZXREcm9wcGFibGVSZWYoKTtcbiAgICAhcmVmID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IGNvbGxlY3Qgd2l0aG91dCBhIGRyb3BwYWJsZSByZWYnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGVudiA9IGdldEVudihyZWYpO1xuICAgIHZhciBkcmFnZ2luZyA9IHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgZGVzY3JpcHRvcjogZGVzY3JpcHRvcixcbiAgICAgIGVudjogZW52LFxuICAgICAgc2Nyb2xsT3B0aW9uczogb3B0aW9uc1xuICAgIH07XG4gICAgd2hpbGVEcmFnZ2luZ1JlZi5jdXJyZW50ID0gZHJhZ2dpbmc7XG4gICAgdmFyIGRpbWVuc2lvbiA9IGdldERpbWVuc2lvbih7XG4gICAgICByZWY6IHJlZixcbiAgICAgIGRlc2NyaXB0b3I6IGRlc2NyaXB0b3IsXG4gICAgICBlbnY6IGVudixcbiAgICAgIHdpbmRvd1Njcm9sbDogd2luZG93U2Nyb2xsLFxuICAgICAgZGlyZWN0aW9uOiBwcmV2aW91cy5kaXJlY3Rpb24sXG4gICAgICBpc0Ryb3BEaXNhYmxlZDogcHJldmlvdXMuaXNEcm9wRGlzYWJsZWQsXG4gICAgICBpc0NvbWJpbmVFbmFibGVkOiBwcmV2aW91cy5pc0NvbWJpbmVFbmFibGVkLFxuICAgICAgc2hvdWxkQ2xpcFN1YmplY3Q6ICFwcmV2aW91cy5pZ25vcmVDb250YWluZXJDbGlwcGluZ1xuICAgIH0pO1xuICAgIHZhciBzY3JvbGxhYmxlID0gZW52LmNsb3Nlc3RTY3JvbGxhYmxlO1xuXG4gICAgaWYgKHNjcm9sbGFibGUpIHtcbiAgICAgIHNjcm9sbGFibGUuc2V0QXR0cmlidXRlKHNjcm9sbENvbnRhaW5lci5jb250ZXh0SWQsIGFwcENvbnRleHQuY29udGV4dElkKTtcbiAgICAgIHNjcm9sbGFibGUuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgb25DbG9zZXN0U2Nyb2xsLCBnZXRMaXN0ZW5lck9wdGlvbnMoZHJhZ2dpbmcuc2Nyb2xsT3B0aW9ucykpO1xuXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBjaGVja0Zvck5lc3RlZFNjcm9sbENvbnRhaW5lcnMoc2Nyb2xsYWJsZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpbWVuc2lvbjtcbiAgfSwgW2FwcENvbnRleHQuY29udGV4dElkLCBkZXNjcmlwdG9yLCBvbkNsb3Nlc3RTY3JvbGwsIHByZXZpb3VzUmVmXSk7XG4gIHZhciBnZXRTY3JvbGxXaGlsZURyYWdnaW5nID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBkcmFnZ2luZyA9IHdoaWxlRHJhZ2dpbmdSZWYuY3VycmVudDtcbiAgICB2YXIgY2xvc2VzdCA9IGdldENsb3Nlc3RTY3JvbGxhYmxlRnJvbURyYWcoZHJhZ2dpbmcpO1xuICAgICEoZHJhZ2dpbmcgJiYgY2xvc2VzdCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW4gb25seSByZWNvbGxlY3QgRHJvcHBhYmxlIGNsaWVudCBmb3IgRHJvcHBhYmxlcyB0aGF0IGhhdmUgYSBzY3JvbGwgY29udGFpbmVyJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHJldHVybiBnZXRTY3JvbGwkMShjbG9zZXN0KTtcbiAgfSwgW10pO1xuICB2YXIgZHJhZ1N0b3BwZWQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRyYWdnaW5nID0gd2hpbGVEcmFnZ2luZ1JlZi5jdXJyZW50O1xuICAgICFkcmFnZ2luZyA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBzdG9wIGRyYWcgd2hlbiBubyBhY3RpdmUgZHJhZycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgY2xvc2VzdCA9IGdldENsb3Nlc3RTY3JvbGxhYmxlRnJvbURyYWcoZHJhZ2dpbmcpO1xuICAgIHdoaWxlRHJhZ2dpbmdSZWYuY3VycmVudCA9IG51bGw7XG5cbiAgICBpZiAoIWNsb3Nlc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzY2hlZHVsZVNjcm9sbFVwZGF0ZS5jYW5jZWwoKTtcbiAgICBjbG9zZXN0LnJlbW92ZUF0dHJpYnV0ZShzY3JvbGxDb250YWluZXIuY29udGV4dElkKTtcbiAgICBjbG9zZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIG9uQ2xvc2VzdFNjcm9sbCwgZ2V0TGlzdGVuZXJPcHRpb25zKGRyYWdnaW5nLnNjcm9sbE9wdGlvbnMpKTtcbiAgfSwgW29uQ2xvc2VzdFNjcm9sbCwgc2NoZWR1bGVTY3JvbGxVcGRhdGVdKTtcbiAgdmFyIHNjcm9sbCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChjaGFuZ2UpIHtcbiAgICB2YXIgZHJhZ2dpbmcgPSB3aGlsZURyYWdnaW5nUmVmLmN1cnJlbnQ7XG4gICAgIWRyYWdnaW5nID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IHNjcm9sbCB3aGVuIHRoZXJlIGlzIG5vIGRyYWcnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGNsb3Nlc3QgPSBnZXRDbG9zZXN0U2Nyb2xsYWJsZUZyb21EcmFnKGRyYWdnaW5nKTtcbiAgICAhY2xvc2VzdCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBzY3JvbGwgYSBkcm9wcGFibGUgd2l0aCBubyBjbG9zZXN0IHNjcm9sbGFibGUnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgY2xvc2VzdC5zY3JvbGxUb3AgKz0gY2hhbmdlLnk7XG4gICAgY2xvc2VzdC5zY3JvbGxMZWZ0ICs9IGNoYW5nZS54O1xuICB9LCBbXSk7XG4gIHZhciBjYWxsYmFja3MgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0RGltZW5zaW9uQW5kV2F0Y2hTY3JvbGw6IGdldERpbWVuc2lvbkFuZFdhdGNoU2Nyb2xsLFxuICAgICAgZ2V0U2Nyb2xsV2hpbGVEcmFnZ2luZzogZ2V0U2Nyb2xsV2hpbGVEcmFnZ2luZyxcbiAgICAgIGRyYWdTdG9wcGVkOiBkcmFnU3RvcHBlZCxcbiAgICAgIHNjcm9sbDogc2Nyb2xsXG4gICAgfTtcbiAgfSwgW2RyYWdTdG9wcGVkLCBnZXREaW1lbnNpb25BbmRXYXRjaFNjcm9sbCwgZ2V0U2Nyb2xsV2hpbGVEcmFnZ2luZywgc2Nyb2xsXSk7XG4gIHZhciBlbnRyeSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICB1bmlxdWVJZDogdW5pcXVlSWQsXG4gICAgICBkZXNjcmlwdG9yOiBkZXNjcmlwdG9yLFxuICAgICAgY2FsbGJhY2tzOiBjYWxsYmFja3NcbiAgICB9O1xuICB9LCBbY2FsbGJhY2tzLCBkZXNjcmlwdG9yLCB1bmlxdWVJZF0pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBwdWJsaXNoZWREZXNjcmlwdG9yUmVmLmN1cnJlbnQgPSBlbnRyeS5kZXNjcmlwdG9yO1xuICAgIHJlZ2lzdHJ5LmRyb3BwYWJsZS5yZWdpc3RlcihlbnRyeSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh3aGlsZURyYWdnaW5nUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZygnVW5zdXBwb3J0ZWQ6IGNoYW5naW5nIHRoZSBkcm9wcGFibGVJZCBvciB0eXBlIG9mIGEgRHJvcHBhYmxlIGR1cmluZyBhIGRyYWcnKSA6IHZvaWQgMDtcbiAgICAgICAgZHJhZ1N0b3BwZWQoKTtcbiAgICAgIH1cblxuICAgICAgcmVnaXN0cnkuZHJvcHBhYmxlLnVucmVnaXN0ZXIoZW50cnkpO1xuICAgIH07XG4gIH0sIFtjYWxsYmFja3MsIGRlc2NyaXB0b3IsIGRyYWdTdG9wcGVkLCBlbnRyeSwgbWFyc2hhbCwgcmVnaXN0cnkuZHJvcHBhYmxlXSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghd2hpbGVEcmFnZ2luZ1JlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbWFyc2hhbC51cGRhdGVEcm9wcGFibGVJc0VuYWJsZWQocHVibGlzaGVkRGVzY3JpcHRvclJlZi5jdXJyZW50LmlkLCAhYXJncy5pc0Ryb3BEaXNhYmxlZCk7XG4gIH0sIFthcmdzLmlzRHJvcERpc2FibGVkLCBtYXJzaGFsXSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghd2hpbGVEcmFnZ2luZ1JlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbWFyc2hhbC51cGRhdGVEcm9wcGFibGVJc0NvbWJpbmVFbmFibGVkKHB1Ymxpc2hlZERlc2NyaXB0b3JSZWYuY3VycmVudC5pZCwgYXJncy5pc0NvbWJpbmVFbmFibGVkKTtcbiAgfSwgW2FyZ3MuaXNDb21iaW5lRW5hYmxlZCwgbWFyc2hhbF0pO1xufVxuXG5mdW5jdGlvbiBub29wJDIoKSB7fVxuXG52YXIgZW1wdHkgPSB7XG4gIHdpZHRoOiAwLFxuICBoZWlnaHQ6IDAsXG4gIG1hcmdpbjogbm9TcGFjaW5nXG59O1xuXG52YXIgZ2V0U2l6ZSA9IGZ1bmN0aW9uIGdldFNpemUoX3JlZikge1xuICB2YXIgaXNBbmltYXRpbmdPcGVuT25Nb3VudCA9IF9yZWYuaXNBbmltYXRpbmdPcGVuT25Nb3VudCxcbiAgICAgIHBsYWNlaG9sZGVyID0gX3JlZi5wbGFjZWhvbGRlcixcbiAgICAgIGFuaW1hdGUgPSBfcmVmLmFuaW1hdGU7XG5cbiAgaWYgKGlzQW5pbWF0aW5nT3Blbk9uTW91bnQpIHtcbiAgICByZXR1cm4gZW1wdHk7XG4gIH1cblxuICBpZiAoYW5pbWF0ZSA9PT0gJ2Nsb3NlJykge1xuICAgIHJldHVybiBlbXB0eTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaGVpZ2h0OiBwbGFjZWhvbGRlci5jbGllbnQuYm9yZGVyQm94LmhlaWdodCxcbiAgICB3aWR0aDogcGxhY2Vob2xkZXIuY2xpZW50LmJvcmRlckJveC53aWR0aCxcbiAgICBtYXJnaW46IHBsYWNlaG9sZGVyLmNsaWVudC5tYXJnaW5cbiAgfTtcbn07XG5cbnZhciBnZXRTdHlsZSA9IGZ1bmN0aW9uIGdldFN0eWxlKF9yZWYyKSB7XG4gIHZhciBpc0FuaW1hdGluZ09wZW5Pbk1vdW50ID0gX3JlZjIuaXNBbmltYXRpbmdPcGVuT25Nb3VudCxcbiAgICAgIHBsYWNlaG9sZGVyID0gX3JlZjIucGxhY2Vob2xkZXIsXG4gICAgICBhbmltYXRlID0gX3JlZjIuYW5pbWF0ZTtcbiAgdmFyIHNpemUgPSBnZXRTaXplKHtcbiAgICBpc0FuaW1hdGluZ09wZW5Pbk1vdW50OiBpc0FuaW1hdGluZ09wZW5Pbk1vdW50LFxuICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlcixcbiAgICBhbmltYXRlOiBhbmltYXRlXG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGRpc3BsYXk6IHBsYWNlaG9sZGVyLmRpc3BsYXksXG4gICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgd2lkdGg6IHNpemUud2lkdGgsXG4gICAgaGVpZ2h0OiBzaXplLmhlaWdodCxcbiAgICBtYXJnaW5Ub3A6IHNpemUubWFyZ2luLnRvcCxcbiAgICBtYXJnaW5SaWdodDogc2l6ZS5tYXJnaW4ucmlnaHQsXG4gICAgbWFyZ2luQm90dG9tOiBzaXplLm1hcmdpbi5ib3R0b20sXG4gICAgbWFyZ2luTGVmdDogc2l6ZS5tYXJnaW4ubGVmdCxcbiAgICBmbGV4U2hyaW5rOiAnMCcsXG4gICAgZmxleEdyb3c6ICcwJyxcbiAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgdHJhbnNpdGlvbjogYW5pbWF0ZSAhPT0gJ25vbmUnID8gdHJhbnNpdGlvbnMucGxhY2Vob2xkZXIgOiBudWxsXG4gIH07XG59O1xuXG5mdW5jdGlvbiBQbGFjZWhvbGRlcihwcm9wcykge1xuICB2YXIgYW5pbWF0ZU9wZW5UaW1lclJlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIHRyeUNsZWFyQW5pbWF0ZU9wZW5UaW1lciA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWFuaW1hdGVPcGVuVGltZXJSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNsZWFyVGltZW91dChhbmltYXRlT3BlblRpbWVyUmVmLmN1cnJlbnQpO1xuICAgIGFuaW1hdGVPcGVuVGltZXJSZWYuY3VycmVudCA9IG51bGw7XG4gIH0sIFtdKTtcbiAgdmFyIGFuaW1hdGUgPSBwcm9wcy5hbmltYXRlLFxuICAgICAgb25UcmFuc2l0aW9uRW5kID0gcHJvcHMub25UcmFuc2l0aW9uRW5kLFxuICAgICAgb25DbG9zZSA9IHByb3BzLm9uQ2xvc2UsXG4gICAgICBjb250ZXh0SWQgPSBwcm9wcy5jb250ZXh0SWQ7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKHByb3BzLmFuaW1hdGUgPT09ICdvcGVuJyksXG4gICAgICBpc0FuaW1hdGluZ09wZW5Pbk1vdW50ID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0SXNBbmltYXRpbmdPcGVuT25Nb3VudCA9IF91c2VTdGF0ZVsxXTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghaXNBbmltYXRpbmdPcGVuT25Nb3VudCkge1xuICAgICAgcmV0dXJuIG5vb3AkMjtcbiAgICB9XG5cbiAgICBpZiAoYW5pbWF0ZSAhPT0gJ29wZW4nKSB7XG4gICAgICB0cnlDbGVhckFuaW1hdGVPcGVuVGltZXIoKTtcbiAgICAgIHNldElzQW5pbWF0aW5nT3Blbk9uTW91bnQoZmFsc2UpO1xuICAgICAgcmV0dXJuIG5vb3AkMjtcbiAgICB9XG5cbiAgICBpZiAoYW5pbWF0ZU9wZW5UaW1lclJlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm4gbm9vcCQyO1xuICAgIH1cblxuICAgIGFuaW1hdGVPcGVuVGltZXJSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgYW5pbWF0ZU9wZW5UaW1lclJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIHNldElzQW5pbWF0aW5nT3Blbk9uTW91bnQoZmFsc2UpO1xuICAgIH0pO1xuICAgIHJldHVybiB0cnlDbGVhckFuaW1hdGVPcGVuVGltZXI7XG4gIH0sIFthbmltYXRlLCBpc0FuaW1hdGluZ09wZW5Pbk1vdW50LCB0cnlDbGVhckFuaW1hdGVPcGVuVGltZXJdKTtcbiAgdmFyIG9uU2l6ZUNoYW5nZUVuZCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChldmVudC5wcm9wZXJ0eU5hbWUgIT09ICdoZWlnaHQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb25UcmFuc2l0aW9uRW5kKCk7XG5cbiAgICBpZiAoYW5pbWF0ZSA9PT0gJ2Nsb3NlJykge1xuICAgICAgb25DbG9zZSgpO1xuICAgIH1cbiAgfSwgW2FuaW1hdGUsIG9uQ2xvc2UsIG9uVHJhbnNpdGlvbkVuZF0pO1xuICB2YXIgc3R5bGUgPSBnZXRTdHlsZSh7XG4gICAgaXNBbmltYXRpbmdPcGVuT25Nb3VudDogaXNBbmltYXRpbmdPcGVuT25Nb3VudCxcbiAgICBhbmltYXRlOiBwcm9wcy5hbmltYXRlLFxuICAgIHBsYWNlaG9sZGVyOiBwcm9wcy5wbGFjZWhvbGRlclxuICB9KTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQocHJvcHMucGxhY2Vob2xkZXIudGFnTmFtZSwge1xuICAgIHN0eWxlOiBzdHlsZSxcbiAgICAnZGF0YS1yYmQtcGxhY2Vob2xkZXItY29udGV4dC1pZCc6IGNvbnRleHRJZCxcbiAgICBvblRyYW5zaXRpb25FbmQ6IG9uU2l6ZUNoYW5nZUVuZCxcbiAgICByZWY6IHByb3BzLmlubmVyUmVmXG4gIH0pO1xufVxuXG52YXIgUGxhY2Vob2xkZXIkMSA9IFJlYWN0Lm1lbW8oUGxhY2Vob2xkZXIpO1xuXG52YXIgRHJvcHBhYmxlQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5cbmZ1bmN0aW9uIGNoZWNrSXNWYWxpZElubmVyUmVmKGVsKSB7XG4gICEoZWwgJiYgaXNIdG1sRWxlbWVudChlbCkpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIlxcbiAgICBwcm92aWRlZC5pbm5lclJlZiBoYXMgbm90IGJlZW4gcHJvdmlkZWQgd2l0aCBhIEhUTUxFbGVtZW50LlxcblxcbiAgICBZb3UgY2FuIGZpbmQgYSBndWlkZSBvbiB1c2luZyB0aGUgaW5uZXJSZWYgY2FsbGJhY2sgZnVuY3Rpb25zIGF0OlxcbiAgICBodHRwczovL2dpdGh1Yi5jb20vYXRsYXNzaWFuL3JlYWN0LWJlYXV0aWZ1bC1kbmQvYmxvYi9tYXN0ZXIvZG9jcy9ndWlkZXMvdXNpbmctaW5uZXItcmVmLm1kXFxuICBcIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xufVxuXG5mdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nO1xufVxuXG5mdW5jdGlvbiBydW5DaGVja3MoYXJncywgY2hlY2tzKSB7XG4gIGNoZWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjaGVjaykge1xuICAgIHJldHVybiBjaGVjayhhcmdzKTtcbiAgfSk7XG59XG5cbnZhciBzaGFyZWQgPSBbZnVuY3Rpb24gcmVxdWlyZWQoX3JlZikge1xuICB2YXIgcHJvcHMgPSBfcmVmLnByb3BzO1xuICAhcHJvcHMuZHJvcHBhYmxlSWQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdBIERyb3BwYWJsZSByZXF1aXJlcyBhIGRyb3BwYWJsZUlkIHByb3AnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICEodHlwZW9mIHByb3BzLmRyb3BwYWJsZUlkID09PSAnc3RyaW5nJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiQSBEcm9wcGFibGUgcmVxdWlyZXMgYSBbc3RyaW5nXSBkcm9wcGFibGVJZC4gUHJvdmlkZWQ6IFtcIiArIHR5cGVvZiBwcm9wcy5kcm9wcGFibGVJZCArIFwiXVwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG59LCBmdW5jdGlvbiBfYm9vbGVhbihfcmVmMikge1xuICB2YXIgcHJvcHMgPSBfcmVmMi5wcm9wcztcbiAgIWlzQm9vbGVhbihwcm9wcy5pc0Ryb3BEaXNhYmxlZCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdpc0Ryb3BEaXNhYmxlZCBtdXN0IGJlIGEgYm9vbGVhbicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgIWlzQm9vbGVhbihwcm9wcy5pc0NvbWJpbmVFbmFibGVkKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ2lzQ29tYmluZUVuYWJsZWQgbXVzdCBiZSBhIGJvb2xlYW4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICFpc0Jvb2xlYW4ocHJvcHMuaWdub3JlQ29udGFpbmVyQ2xpcHBpbmcpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnaWdub3JlQ29udGFpbmVyQ2xpcHBpbmcgbXVzdCBiZSBhIGJvb2xlYW4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG59LCBmdW5jdGlvbiByZWYoX3JlZjMpIHtcbiAgdmFyIGdldERyb3BwYWJsZVJlZiA9IF9yZWYzLmdldERyb3BwYWJsZVJlZjtcbiAgY2hlY2tJc1ZhbGlkSW5uZXJSZWYoZ2V0RHJvcHBhYmxlUmVmKCkpO1xufV07XG52YXIgc3RhbmRhcmQgPSBbZnVuY3Rpb24gcGxhY2Vob2xkZXIoX3JlZjQpIHtcbiAgdmFyIHByb3BzID0gX3JlZjQucHJvcHMsXG4gICAgICBnZXRQbGFjZWhvbGRlclJlZiA9IF9yZWY0LmdldFBsYWNlaG9sZGVyUmVmO1xuXG4gIGlmICghcHJvcHMucGxhY2Vob2xkZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcmVmID0gZ2V0UGxhY2Vob2xkZXJSZWYoKTtcblxuICBpZiAocmVmKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhcIlxcbiAgICAgIERyb3BwYWJsZSBzZXR1cCBpc3N1ZSBbZHJvcHBhYmxlSWQ6IFxcXCJcIiArIHByb3BzLmRyb3BwYWJsZUlkICsgXCJcXFwiXTpcXG4gICAgICBEcm9wcGFibGVQcm92aWRlZCA+IHBsYWNlaG9sZGVyIGNvdWxkIG5vdCBiZSBmb3VuZC5cXG5cXG4gICAgICBQbGVhc2UgYmUgc3VyZSB0byBhZGQgdGhlIHtwcm92aWRlZC5wbGFjZWhvbGRlcn0gUmVhY3QgTm9kZSBhcyBhIGNoaWxkIG9mIHlvdXIgRHJvcHBhYmxlLlxcbiAgICAgIE1vcmUgaW5mb3JtYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9hdGxhc3NpYW4vcmVhY3QtYmVhdXRpZnVsLWRuZC9ibG9iL21hc3Rlci9kb2NzL2FwaS9kcm9wcGFibGUubWRcXG4gICAgXCIpIDogdm9pZCAwO1xufV07XG52YXIgdmlydHVhbCA9IFtmdW5jdGlvbiBoYXNDbG9uZShfcmVmNSkge1xuICB2YXIgcHJvcHMgPSBfcmVmNS5wcm9wcztcbiAgIXByb3BzLnJlbmRlckNsb25lID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnTXVzdCBwcm92aWRlIGEgY2xvbmUgcmVuZGVyIGZ1bmN0aW9uIChyZW5kZXJDbG9uZSkgZm9yIHZpcnR1YWwgbGlzdHMnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG59LCBmdW5jdGlvbiBoYXNOb1BsYWNlaG9sZGVyKF9yZWY2KSB7XG4gIHZhciBnZXRQbGFjZWhvbGRlclJlZiA9IF9yZWY2LmdldFBsYWNlaG9sZGVyUmVmO1xuICAhIWdldFBsYWNlaG9sZGVyUmVmKCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCB2aXJ0dWFsIGxpc3QgdG8gbm90IGhhdmUgYSBwbGFjZWhvbGRlcicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbn1dO1xuZnVuY3Rpb24gdXNlVmFsaWRhdGlvbihhcmdzKSB7XG4gIHVzZURldlNldHVwV2FybmluZyhmdW5jdGlvbiAoKSB7XG4gICAgcnVuQ2hlY2tzKGFyZ3MsIHNoYXJlZCk7XG5cbiAgICBpZiAoYXJncy5wcm9wcy5tb2RlID09PSAnc3RhbmRhcmQnKSB7XG4gICAgICBydW5DaGVja3MoYXJncywgc3RhbmRhcmQpO1xuICAgIH1cblxuICAgIGlmIChhcmdzLnByb3BzLm1vZGUgPT09ICd2aXJ0dWFsJykge1xuICAgICAgcnVuQ2hlY2tzKGFyZ3MsIHZpcnR1YWwpO1xuICAgIH1cbiAgfSk7XG59XG5cbnZhciBBbmltYXRlSW5PdXQgPSBmdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoQW5pbWF0ZUluT3V0LCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQW5pbWF0ZUluT3V0KCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRQdXJlQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JFB1cmVDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBpc1Zpc2libGU6IEJvb2xlYW4oX3RoaXMucHJvcHMub24pLFxuICAgICAgZGF0YTogX3RoaXMucHJvcHMub24sXG4gICAgICBhbmltYXRlOiBfdGhpcy5wcm9wcy5zaG91bGRBbmltYXRlICYmIF90aGlzLnByb3BzLm9uID8gJ29wZW4nIDogJ25vbmUnXG4gICAgfTtcblxuICAgIF90aGlzLm9uQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuc3RhdGUuYW5pbWF0ZSAhPT0gJ2Nsb3NlJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNWaXNpYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIEFuaW1hdGVJbk91dC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMocHJvcHMsIHN0YXRlKSB7XG4gICAgaWYgKCFwcm9wcy5zaG91bGRBbmltYXRlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc1Zpc2libGU6IEJvb2xlYW4ocHJvcHMub24pLFxuICAgICAgICBkYXRhOiBwcm9wcy5vbixcbiAgICAgICAgYW5pbWF0ZTogJ25vbmUnXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5vbikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNWaXNpYmxlOiB0cnVlLFxuICAgICAgICBkYXRhOiBwcm9wcy5vbixcbiAgICAgICAgYW5pbWF0ZTogJ29wZW4nXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChzdGF0ZS5pc1Zpc2libGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzVmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgZGF0YTogc3RhdGUuZGF0YSxcbiAgICAgICAgYW5pbWF0ZTogJ2Nsb3NlJ1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgaXNWaXNpYmxlOiBmYWxzZSxcbiAgICAgIGFuaW1hdGU6ICdjbG9zZScsXG4gICAgICBkYXRhOiBudWxsXG4gICAgfTtcbiAgfTtcblxuICB2YXIgX3Byb3RvID0gQW5pbWF0ZUluT3V0LnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5pc1Zpc2libGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBwcm92aWRlZCA9IHtcbiAgICAgIG9uQ2xvc2U6IHRoaXMub25DbG9zZSxcbiAgICAgIGRhdGE6IHRoaXMuc3RhdGUuZGF0YSxcbiAgICAgIGFuaW1hdGU6IHRoaXMuc3RhdGUuYW5pbWF0ZVxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW4ocHJvdmlkZWQpO1xuICB9O1xuXG4gIHJldHVybiBBbmltYXRlSW5PdXQ7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG52YXIgekluZGV4T3B0aW9ucyA9IHtcbiAgZHJhZ2dpbmc6IDUwMDAsXG4gIGRyb3BBbmltYXRpbmc6IDQ1MDBcbn07XG5cbnZhciBnZXREcmFnZ2luZ1RyYW5zaXRpb24gPSBmdW5jdGlvbiBnZXREcmFnZ2luZ1RyYW5zaXRpb24oc2hvdWxkQW5pbWF0ZURyYWdNb3ZlbWVudCwgZHJvcHBpbmcpIHtcbiAgaWYgKGRyb3BwaW5nKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25zLmRyb3AoZHJvcHBpbmcuZHVyYXRpb24pO1xuICB9XG5cbiAgaWYgKHNob3VsZEFuaW1hdGVEcmFnTW92ZW1lbnQpIHtcbiAgICByZXR1cm4gdHJhbnNpdGlvbnMuc25hcDtcbiAgfVxuXG4gIHJldHVybiB0cmFuc2l0aW9ucy5mbHVpZDtcbn07XG5cbnZhciBnZXREcmFnZ2luZ09wYWNpdHkgPSBmdW5jdGlvbiBnZXREcmFnZ2luZ09wYWNpdHkoaXNDb21iaW5pbmcsIGlzRHJvcEFuaW1hdGluZykge1xuICBpZiAoIWlzQ29tYmluaW5nKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gaXNEcm9wQW5pbWF0aW5nID8gY29tYmluZS5vcGFjaXR5LmRyb3AgOiBjb21iaW5lLm9wYWNpdHkuY29tYmluaW5nO1xufTtcblxudmFyIGdldFNob3VsZERyYWdnaW5nQW5pbWF0ZSA9IGZ1bmN0aW9uIGdldFNob3VsZERyYWdnaW5nQW5pbWF0ZShkcmFnZ2luZykge1xuICBpZiAoZHJhZ2dpbmcuZm9yY2VTaG91bGRBbmltYXRlICE9IG51bGwpIHtcbiAgICByZXR1cm4gZHJhZ2dpbmcuZm9yY2VTaG91bGRBbmltYXRlO1xuICB9XG5cbiAgcmV0dXJuIGRyYWdnaW5nLm1vZGUgPT09ICdTTkFQJztcbn07XG5cbmZ1bmN0aW9uIGdldERyYWdnaW5nU3R5bGUoZHJhZ2dpbmcpIHtcbiAgdmFyIGRpbWVuc2lvbiA9IGRyYWdnaW5nLmRpbWVuc2lvbjtcbiAgdmFyIGJveCA9IGRpbWVuc2lvbi5jbGllbnQ7XG4gIHZhciBvZmZzZXQgPSBkcmFnZ2luZy5vZmZzZXQsXG4gICAgICBjb21iaW5lV2l0aCA9IGRyYWdnaW5nLmNvbWJpbmVXaXRoLFxuICAgICAgZHJvcHBpbmcgPSBkcmFnZ2luZy5kcm9wcGluZztcbiAgdmFyIGlzQ29tYmluaW5nID0gQm9vbGVhbihjb21iaW5lV2l0aCk7XG4gIHZhciBzaG91bGRBbmltYXRlID0gZ2V0U2hvdWxkRHJhZ2dpbmdBbmltYXRlKGRyYWdnaW5nKTtcbiAgdmFyIGlzRHJvcEFuaW1hdGluZyA9IEJvb2xlYW4oZHJvcHBpbmcpO1xuICB2YXIgdHJhbnNmb3JtID0gaXNEcm9wQW5pbWF0aW5nID8gdHJhbnNmb3Jtcy5kcm9wKG9mZnNldCwgaXNDb21iaW5pbmcpIDogdHJhbnNmb3Jtcy5tb3ZlVG8ob2Zmc2V0KTtcbiAgdmFyIHN0eWxlID0ge1xuICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgIHRvcDogYm94Lm1hcmdpbkJveC50b3AsXG4gICAgbGVmdDogYm94Lm1hcmdpbkJveC5sZWZ0LFxuICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgIHdpZHRoOiBib3guYm9yZGVyQm94LndpZHRoLFxuICAgIGhlaWdodDogYm94LmJvcmRlckJveC5oZWlnaHQsXG4gICAgdHJhbnNpdGlvbjogZ2V0RHJhZ2dpbmdUcmFuc2l0aW9uKHNob3VsZEFuaW1hdGUsIGRyb3BwaW5nKSxcbiAgICB0cmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgICBvcGFjaXR5OiBnZXREcmFnZ2luZ09wYWNpdHkoaXNDb21iaW5pbmcsIGlzRHJvcEFuaW1hdGluZyksXG4gICAgekluZGV4OiBpc0Ryb3BBbmltYXRpbmcgPyB6SW5kZXhPcHRpb25zLmRyb3BBbmltYXRpbmcgOiB6SW5kZXhPcHRpb25zLmRyYWdnaW5nLFxuICAgIHBvaW50ZXJFdmVudHM6ICdub25lJ1xuICB9O1xuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGdldFNlY29uZGFyeVN0eWxlKHNlY29uZGFyeSkge1xuICByZXR1cm4ge1xuICAgIHRyYW5zZm9ybTogdHJhbnNmb3Jtcy5tb3ZlVG8oc2Vjb25kYXJ5Lm9mZnNldCksXG4gICAgdHJhbnNpdGlvbjogc2Vjb25kYXJ5LnNob3VsZEFuaW1hdGVEaXNwbGFjZW1lbnQgPyBudWxsIDogJ25vbmUnXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFN0eWxlJDEobWFwcGVkKSB7XG4gIHJldHVybiBtYXBwZWQudHlwZSA9PT0gJ0RSQUdHSU5HJyA/IGdldERyYWdnaW5nU3R5bGUobWFwcGVkKSA6IGdldFNlY29uZGFyeVN0eWxlKG1hcHBlZCk7XG59XG5cbmZ1bmN0aW9uIGdldERpbWVuc2lvbiQxKGRlc2NyaXB0b3IsIGVsLCB3aW5kb3dTY3JvbGwpIHtcbiAgaWYgKHdpbmRvd1Njcm9sbCA9PT0gdm9pZCAwKSB7XG4gICAgd2luZG93U2Nyb2xsID0gb3JpZ2luO1xuICB9XG5cbiAgdmFyIGNvbXB1dGVkU3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuICB2YXIgYm9yZGVyQm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciBjbGllbnQgPSBjYWxjdWxhdGVCb3goYm9yZGVyQm94LCBjb21wdXRlZFN0eWxlcyk7XG4gIHZhciBwYWdlID0gd2l0aFNjcm9sbChjbGllbnQsIHdpbmRvd1Njcm9sbCk7XG4gIHZhciBwbGFjZWhvbGRlciA9IHtcbiAgICBjbGllbnQ6IGNsaWVudCxcbiAgICB0YWdOYW1lOiBlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCksXG4gICAgZGlzcGxheTogY29tcHV0ZWRTdHlsZXMuZGlzcGxheVxuICB9O1xuICB2YXIgZGlzcGxhY2VCeSA9IHtcbiAgICB4OiBjbGllbnQubWFyZ2luQm94LndpZHRoLFxuICAgIHk6IGNsaWVudC5tYXJnaW5Cb3guaGVpZ2h0XG4gIH07XG4gIHZhciBkaW1lbnNpb24gPSB7XG4gICAgZGVzY3JpcHRvcjogZGVzY3JpcHRvcixcbiAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG4gICAgZGlzcGxhY2VCeTogZGlzcGxhY2VCeSxcbiAgICBjbGllbnQ6IGNsaWVudCxcbiAgICBwYWdlOiBwYWdlXG4gIH07XG4gIHJldHVybiBkaW1lbnNpb247XG59XG5cbmZ1bmN0aW9uIHVzZURyYWdnYWJsZVB1Ymxpc2hlcihhcmdzKSB7XG4gIHZhciB1bmlxdWVJZCA9IHVzZVVuaXF1ZUlkKCdkcmFnZ2FibGUnKTtcbiAgdmFyIGRlc2NyaXB0b3IgPSBhcmdzLmRlc2NyaXB0b3IsXG4gICAgICByZWdpc3RyeSA9IGFyZ3MucmVnaXN0cnksXG4gICAgICBnZXREcmFnZ2FibGVSZWYgPSBhcmdzLmdldERyYWdnYWJsZVJlZixcbiAgICAgIGNhbkRyYWdJbnRlcmFjdGl2ZUVsZW1lbnRzID0gYXJncy5jYW5EcmFnSW50ZXJhY3RpdmVFbGVtZW50cyxcbiAgICAgIHNob3VsZFJlc3BlY3RGb3JjZVByZXNzID0gYXJncy5zaG91bGRSZXNwZWN0Rm9yY2VQcmVzcyxcbiAgICAgIGlzRW5hYmxlZCA9IGFyZ3MuaXNFbmFibGVkO1xuICB2YXIgb3B0aW9ucyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjYW5EcmFnSW50ZXJhY3RpdmVFbGVtZW50czogY2FuRHJhZ0ludGVyYWN0aXZlRWxlbWVudHMsXG4gICAgICBzaG91bGRSZXNwZWN0Rm9yY2VQcmVzczogc2hvdWxkUmVzcGVjdEZvcmNlUHJlc3MsXG4gICAgICBpc0VuYWJsZWQ6IGlzRW5hYmxlZFxuICAgIH07XG4gIH0sIFtjYW5EcmFnSW50ZXJhY3RpdmVFbGVtZW50cywgaXNFbmFibGVkLCBzaG91bGRSZXNwZWN0Rm9yY2VQcmVzc10pO1xuICB2YXIgZ2V0RGltZW5zaW9uID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHdpbmRvd1Njcm9sbCkge1xuICAgIHZhciBlbCA9IGdldERyYWdnYWJsZVJlZigpO1xuICAgICFlbCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBnZXQgZGltZW5zaW9uIHdoZW4gbm8gcmVmIGlzIHNldCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gZ2V0RGltZW5zaW9uJDEoZGVzY3JpcHRvciwgZWwsIHdpbmRvd1Njcm9sbCk7XG4gIH0sIFtkZXNjcmlwdG9yLCBnZXREcmFnZ2FibGVSZWZdKTtcbiAgdmFyIGVudHJ5ID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVuaXF1ZUlkOiB1bmlxdWVJZCxcbiAgICAgIGRlc2NyaXB0b3I6IGRlc2NyaXB0b3IsXG4gICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgZ2V0RGltZW5zaW9uOiBnZXREaW1lbnNpb25cbiAgICB9O1xuICB9LCBbZGVzY3JpcHRvciwgZ2V0RGltZW5zaW9uLCBvcHRpb25zLCB1bmlxdWVJZF0pO1xuICB2YXIgcHVibGlzaGVkUmVmID0gdXNlUmVmKGVudHJ5KTtcbiAgdmFyIGlzRmlyc3RQdWJsaXNoUmVmID0gdXNlUmVmKHRydWUpO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZWdpc3RyeS5kcmFnZ2FibGUucmVnaXN0ZXIocHVibGlzaGVkUmVmLmN1cnJlbnQpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVnaXN0cnkuZHJhZ2dhYmxlLnVucmVnaXN0ZXIocHVibGlzaGVkUmVmLmN1cnJlbnQpO1xuICAgIH07XG4gIH0sIFtyZWdpc3RyeS5kcmFnZ2FibGVdKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGlzRmlyc3RQdWJsaXNoUmVmLmN1cnJlbnQpIHtcbiAgICAgIGlzRmlyc3RQdWJsaXNoUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbGFzdCA9IHB1Ymxpc2hlZFJlZi5jdXJyZW50O1xuICAgIHB1Ymxpc2hlZFJlZi5jdXJyZW50ID0gZW50cnk7XG4gICAgcmVnaXN0cnkuZHJhZ2dhYmxlLnVwZGF0ZShlbnRyeSwgbGFzdCk7XG4gIH0sIFtlbnRyeSwgcmVnaXN0cnkuZHJhZ2dhYmxlXSk7XG59XG5cbmZ1bmN0aW9uIHVzZVZhbGlkYXRpb24kMShwcm9wcywgY29udGV4dElkLCBnZXRSZWYpIHtcbiAgdXNlRGV2U2V0dXBXYXJuaW5nKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBwcmVmaXgoaWQpIHtcbiAgICAgIHJldHVybiBcIkRyYWdnYWJsZVtpZDogXCIgKyBpZCArIFwiXTogXCI7XG4gICAgfVxuXG4gICAgdmFyIGlkID0gcHJvcHMuZHJhZ2dhYmxlSWQ7XG4gICAgIWlkID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnRHJhZ2dhYmxlIHJlcXVpcmVzIGEgZHJhZ2dhYmxlSWQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgISh0eXBlb2YgaWQgPT09ICdzdHJpbmcnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJEcmFnZ2FibGUgcmVxdWlyZXMgYSBbc3RyaW5nXSBkcmFnZ2FibGVJZC5cXG4gICAgICBQcm92aWRlZDogW3R5cGU6IFwiICsgdHlwZW9mIGlkICsgXCJdICh2YWx1ZTogXCIgKyBpZCArIFwiKVwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgIWlzSW50ZWdlcihwcm9wcy5pbmRleCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIHByZWZpeChpZCkgKyBcIiByZXF1aXJlcyBhbiBpbnRlZ2VyIGluZGV4IHByb3BcIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuXG4gICAgaWYgKHByb3BzLm1hcHBlZC50eXBlID09PSAnRFJBR0dJTkcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2hlY2tJc1ZhbGlkSW5uZXJSZWYoZ2V0UmVmKCkpO1xuXG4gICAgaWYgKHByb3BzLmlzRW5hYmxlZCkge1xuICAgICAgIWZpbmREcmFnSGFuZGxlKGNvbnRleHRJZCwgaWQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBwcmVmaXgoaWQpICsgXCIgVW5hYmxlIHRvIGZpbmQgZHJhZyBoYW5kbGVcIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiB1c2VDbG9uZVByb3BWYWxpZGF0aW9uKGlzQ2xvbmUpIHtcbiAgdXNlRGV2KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaW5pdGlhbFJlZiA9IHVzZVJlZihpc0Nsb25lKTtcbiAgICB1c2VEZXZTZXR1cFdhcm5pbmcoZnVuY3Rpb24gKCkge1xuICAgICAgIShpc0Nsb25lID09PSBpbml0aWFsUmVmLmN1cnJlbnQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnRHJhZ2dhYmxlIGlzQ2xvbmUgcHJvcCB2YWx1ZSBjaGFuZ2VkIGR1cmluZyBjb21wb25lbnQgbGlmZScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB9LCBbaXNDbG9uZV0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcHJldmVudEh0bWw1RG5kKGV2ZW50KSB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG59XG5cbmZ1bmN0aW9uIERyYWdnYWJsZShwcm9wcykge1xuICB2YXIgcmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgc2V0UmVmID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGVsKSB7XG4gICAgcmVmLmN1cnJlbnQgPSBlbDtcbiAgfSwgW10pO1xuICB2YXIgZ2V0UmVmID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByZWYuY3VycmVudDtcbiAgfSwgW10pO1xuXG4gIHZhciBfdXNlUmVxdWlyZWRDb250ZXh0ID0gdXNlUmVxdWlyZWRDb250ZXh0KEFwcENvbnRleHQpLFxuICAgICAgY29udGV4dElkID0gX3VzZVJlcXVpcmVkQ29udGV4dC5jb250ZXh0SWQsXG4gICAgICBkcmFnSGFuZGxlVXNhZ2VJbnN0cnVjdGlvbnNJZCA9IF91c2VSZXF1aXJlZENvbnRleHQuZHJhZ0hhbmRsZVVzYWdlSW5zdHJ1Y3Rpb25zSWQsXG4gICAgICByZWdpc3RyeSA9IF91c2VSZXF1aXJlZENvbnRleHQucmVnaXN0cnk7XG5cbiAgdmFyIF91c2VSZXF1aXJlZENvbnRleHQyID0gdXNlUmVxdWlyZWRDb250ZXh0KERyb3BwYWJsZUNvbnRleHQpLFxuICAgICAgdHlwZSA9IF91c2VSZXF1aXJlZENvbnRleHQyLnR5cGUsXG4gICAgICBkcm9wcGFibGVJZCA9IF91c2VSZXF1aXJlZENvbnRleHQyLmRyb3BwYWJsZUlkO1xuXG4gIHZhciBkZXNjcmlwdG9yID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwcm9wcy5kcmFnZ2FibGVJZCxcbiAgICAgIGluZGV4OiBwcm9wcy5pbmRleCxcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBkcm9wcGFibGVJZDogZHJvcHBhYmxlSWRcbiAgICB9O1xuICB9LCBbcHJvcHMuZHJhZ2dhYmxlSWQsIHByb3BzLmluZGV4LCB0eXBlLCBkcm9wcGFibGVJZF0pO1xuICB2YXIgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgIGRyYWdnYWJsZUlkID0gcHJvcHMuZHJhZ2dhYmxlSWQsXG4gICAgICBpc0VuYWJsZWQgPSBwcm9wcy5pc0VuYWJsZWQsXG4gICAgICBzaG91bGRSZXNwZWN0Rm9yY2VQcmVzcyA9IHByb3BzLnNob3VsZFJlc3BlY3RGb3JjZVByZXNzLFxuICAgICAgY2FuRHJhZ0ludGVyYWN0aXZlRWxlbWVudHMgPSBwcm9wcy5jYW5EcmFnSW50ZXJhY3RpdmVFbGVtZW50cyxcbiAgICAgIGlzQ2xvbmUgPSBwcm9wcy5pc0Nsb25lLFxuICAgICAgbWFwcGVkID0gcHJvcHMubWFwcGVkLFxuICAgICAgZHJvcEFuaW1hdGlvbkZpbmlzaGVkQWN0aW9uID0gcHJvcHMuZHJvcEFuaW1hdGlvbkZpbmlzaGVkO1xuICB1c2VWYWxpZGF0aW9uJDEocHJvcHMsIGNvbnRleHRJZCwgZ2V0UmVmKTtcbiAgdXNlQ2xvbmVQcm9wVmFsaWRhdGlvbihpc0Nsb25lKTtcblxuICBpZiAoIWlzQ2xvbmUpIHtcbiAgICB2YXIgZm9yUHVibGlzaGVyID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkZXNjcmlwdG9yOiBkZXNjcmlwdG9yLFxuICAgICAgICByZWdpc3RyeTogcmVnaXN0cnksXG4gICAgICAgIGdldERyYWdnYWJsZVJlZjogZ2V0UmVmLFxuICAgICAgICBjYW5EcmFnSW50ZXJhY3RpdmVFbGVtZW50czogY2FuRHJhZ0ludGVyYWN0aXZlRWxlbWVudHMsXG4gICAgICAgIHNob3VsZFJlc3BlY3RGb3JjZVByZXNzOiBzaG91bGRSZXNwZWN0Rm9yY2VQcmVzcyxcbiAgICAgICAgaXNFbmFibGVkOiBpc0VuYWJsZWRcbiAgICAgIH07XG4gICAgfSwgW2Rlc2NyaXB0b3IsIHJlZ2lzdHJ5LCBnZXRSZWYsIGNhbkRyYWdJbnRlcmFjdGl2ZUVsZW1lbnRzLCBzaG91bGRSZXNwZWN0Rm9yY2VQcmVzcywgaXNFbmFibGVkXSk7XG4gICAgdXNlRHJhZ2dhYmxlUHVibGlzaGVyKGZvclB1Ymxpc2hlcik7XG4gIH1cblxuICB2YXIgZHJhZ0hhbmRsZVByb3BzID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGlzRW5hYmxlZCA/IHtcbiAgICAgIHRhYkluZGV4OiAwLFxuICAgICAgcm9sZTogJ2J1dHRvbicsXG4gICAgICAnYXJpYS1kZXNjcmliZWRieSc6IGRyYWdIYW5kbGVVc2FnZUluc3RydWN0aW9uc0lkLFxuICAgICAgJ2RhdGEtcmJkLWRyYWctaGFuZGxlLWRyYWdnYWJsZS1pZCc6IGRyYWdnYWJsZUlkLFxuICAgICAgJ2RhdGEtcmJkLWRyYWctaGFuZGxlLWNvbnRleHQtaWQnOiBjb250ZXh0SWQsXG4gICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgICAgb25EcmFnU3RhcnQ6IHByZXZlbnRIdG1sNURuZFxuICAgIH0gOiBudWxsO1xuICB9LCBbY29udGV4dElkLCBkcmFnSGFuZGxlVXNhZ2VJbnN0cnVjdGlvbnNJZCwgZHJhZ2dhYmxlSWQsIGlzRW5hYmxlZF0pO1xuICB2YXIgb25Nb3ZlRW5kID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKG1hcHBlZC50eXBlICE9PSAnRFJBR0dJTkcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFtYXBwZWQuZHJvcHBpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQucHJvcGVydHlOYW1lICE9PSAndHJhbnNmb3JtJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRyb3BBbmltYXRpb25GaW5pc2hlZEFjdGlvbigpO1xuICB9LCBbZHJvcEFuaW1hdGlvbkZpbmlzaGVkQWN0aW9uLCBtYXBwZWRdKTtcbiAgdmFyIHByb3ZpZGVkID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0eWxlID0gZ2V0U3R5bGUkMShtYXBwZWQpO1xuICAgIHZhciBvblRyYW5zaXRpb25FbmQgPSBtYXBwZWQudHlwZSA9PT0gJ0RSQUdHSU5HJyAmJiBtYXBwZWQuZHJvcHBpbmcgPyBvbk1vdmVFbmQgOiBudWxsO1xuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICBpbm5lclJlZjogc2V0UmVmLFxuICAgICAgZHJhZ2dhYmxlUHJvcHM6IHtcbiAgICAgICAgJ2RhdGEtcmJkLWRyYWdnYWJsZS1jb250ZXh0LWlkJzogY29udGV4dElkLFxuICAgICAgICAnZGF0YS1yYmQtZHJhZ2dhYmxlLWlkJzogZHJhZ2dhYmxlSWQsXG4gICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgb25UcmFuc2l0aW9uRW5kOiBvblRyYW5zaXRpb25FbmRcbiAgICAgIH0sXG4gICAgICBkcmFnSGFuZGxlUHJvcHM6IGRyYWdIYW5kbGVQcm9wc1xuICAgIH07XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwgW2NvbnRleHRJZCwgZHJhZ0hhbmRsZVByb3BzLCBkcmFnZ2FibGVJZCwgbWFwcGVkLCBvbk1vdmVFbmQsIHNldFJlZl0pO1xuICB2YXIgcnVicmljID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRyYWdnYWJsZUlkOiBkZXNjcmlwdG9yLmlkLFxuICAgICAgdHlwZTogZGVzY3JpcHRvci50eXBlLFxuICAgICAgc291cmNlOiB7XG4gICAgICAgIGluZGV4OiBkZXNjcmlwdG9yLmluZGV4LFxuICAgICAgICBkcm9wcGFibGVJZDogZGVzY3JpcHRvci5kcm9wcGFibGVJZFxuICAgICAgfVxuICAgIH07XG4gIH0sIFtkZXNjcmlwdG9yLmRyb3BwYWJsZUlkLCBkZXNjcmlwdG9yLmlkLCBkZXNjcmlwdG9yLmluZGV4LCBkZXNjcmlwdG9yLnR5cGVdKTtcbiAgcmV0dXJuIGNoaWxkcmVuKHByb3ZpZGVkLCBtYXBwZWQuc25hcHNob3QsIHJ1YnJpYyk7XG59XG5cbnZhciBpc1N0cmljdEVxdWFsID0gKGZ1bmN0aW9uIChhLCBiKSB7XG4gIHJldHVybiBhID09PSBiO1xufSk7XG5cbnZhciB3aGF0SXNEcmFnZ2VkT3ZlckZyb21SZXN1bHQgPSAoZnVuY3Rpb24gKHJlc3VsdCkge1xuICB2YXIgY29tYmluZSA9IHJlc3VsdC5jb21iaW5lLFxuICAgICAgZGVzdGluYXRpb24gPSByZXN1bHQuZGVzdGluYXRpb247XG5cbiAgaWYgKGRlc3RpbmF0aW9uKSB7XG4gICAgcmV0dXJuIGRlc3RpbmF0aW9uLmRyb3BwYWJsZUlkO1xuICB9XG5cbiAgaWYgKGNvbWJpbmUpIHtcbiAgICByZXR1cm4gY29tYmluZS5kcm9wcGFibGVJZDtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufSk7XG5cbnZhciBnZXRDb21iaW5lV2l0aEZyb21SZXN1bHQgPSBmdW5jdGlvbiBnZXRDb21iaW5lV2l0aEZyb21SZXN1bHQocmVzdWx0KSB7XG4gIHJldHVybiByZXN1bHQuY29tYmluZSA/IHJlc3VsdC5jb21iaW5lLmRyYWdnYWJsZUlkIDogbnVsbDtcbn07XG5cbnZhciBnZXRDb21iaW5lV2l0aEZyb21JbXBhY3QgPSBmdW5jdGlvbiBnZXRDb21iaW5lV2l0aEZyb21JbXBhY3QoaW1wYWN0KSB7XG4gIHJldHVybiBpbXBhY3QuYXQgJiYgaW1wYWN0LmF0LnR5cGUgPT09ICdDT01CSU5FJyA/IGltcGFjdC5hdC5jb21iaW5lLmRyYWdnYWJsZUlkIDogbnVsbDtcbn07XG5cbmZ1bmN0aW9uIGdldERyYWdnYWJsZVNlbGVjdG9yKCkge1xuICB2YXIgbWVtb2l6ZWRPZmZzZXQgPSBtZW1vaXplT25lKGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHgsXG4gICAgICB5OiB5XG4gICAgfTtcbiAgfSk7XG4gIHZhciBnZXRNZW1vaXplZFNuYXBzaG90ID0gbWVtb2l6ZU9uZShmdW5jdGlvbiAobW9kZSwgaXNDbG9uZSwgZHJhZ2dpbmdPdmVyLCBjb21iaW5lV2l0aCwgZHJvcHBpbmcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNEcmFnZ2luZzogdHJ1ZSxcbiAgICAgIGlzQ2xvbmU6IGlzQ2xvbmUsXG4gICAgICBpc0Ryb3BBbmltYXRpbmc6IEJvb2xlYW4oZHJvcHBpbmcpLFxuICAgICAgZHJvcEFuaW1hdGlvbjogZHJvcHBpbmcsXG4gICAgICBtb2RlOiBtb2RlLFxuICAgICAgZHJhZ2dpbmdPdmVyOiBkcmFnZ2luZ092ZXIsXG4gICAgICBjb21iaW5lV2l0aDogY29tYmluZVdpdGgsXG4gICAgICBjb21iaW5lVGFyZ2V0Rm9yOiBudWxsXG4gICAgfTtcbiAgfSk7XG4gIHZhciBnZXRNZW1vaXplZFByb3BzID0gbWVtb2l6ZU9uZShmdW5jdGlvbiAob2Zmc2V0LCBtb2RlLCBkaW1lbnNpb24sIGlzQ2xvbmUsIGRyYWdnaW5nT3ZlciwgY29tYmluZVdpdGgsIGZvcmNlU2hvdWxkQW5pbWF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXBwZWQ6IHtcbiAgICAgICAgdHlwZTogJ0RSQUdHSU5HJyxcbiAgICAgICAgZHJvcHBpbmc6IG51bGwsXG4gICAgICAgIGRyYWdnaW5nT3ZlcjogZHJhZ2dpbmdPdmVyLFxuICAgICAgICBjb21iaW5lV2l0aDogY29tYmluZVdpdGgsXG4gICAgICAgIG1vZGU6IG1vZGUsXG4gICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICBkaW1lbnNpb246IGRpbWVuc2lvbixcbiAgICAgICAgZm9yY2VTaG91bGRBbmltYXRlOiBmb3JjZVNob3VsZEFuaW1hdGUsXG4gICAgICAgIHNuYXBzaG90OiBnZXRNZW1vaXplZFNuYXBzaG90KG1vZGUsIGlzQ2xvbmUsIGRyYWdnaW5nT3ZlciwgY29tYmluZVdpdGgsIG51bGwpXG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG5cbiAgdmFyIHNlbGVjdG9yID0gZnVuY3Rpb24gc2VsZWN0b3Ioc3RhdGUsIG93blByb3BzKSB7XG4gICAgaWYgKHN0YXRlLmlzRHJhZ2dpbmcpIHtcbiAgICAgIGlmIChzdGF0ZS5jcml0aWNhbC5kcmFnZ2FibGUuaWQgIT09IG93blByb3BzLmRyYWdnYWJsZUlkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgb2Zmc2V0ID0gc3RhdGUuY3VycmVudC5jbGllbnQub2Zmc2V0O1xuICAgICAgdmFyIGRpbWVuc2lvbiA9IHN0YXRlLmRpbWVuc2lvbnMuZHJhZ2dhYmxlc1tvd25Qcm9wcy5kcmFnZ2FibGVJZF07XG4gICAgICB2YXIgZHJhZ2dpbmdPdmVyID0gd2hhdElzRHJhZ2dlZE92ZXIoc3RhdGUuaW1wYWN0KTtcbiAgICAgIHZhciBjb21iaW5lV2l0aCA9IGdldENvbWJpbmVXaXRoRnJvbUltcGFjdChzdGF0ZS5pbXBhY3QpO1xuICAgICAgdmFyIGZvcmNlU2hvdWxkQW5pbWF0ZSA9IHN0YXRlLmZvcmNlU2hvdWxkQW5pbWF0ZTtcbiAgICAgIHJldHVybiBnZXRNZW1vaXplZFByb3BzKG1lbW9pemVkT2Zmc2V0KG9mZnNldC54LCBvZmZzZXQueSksIHN0YXRlLm1vdmVtZW50TW9kZSwgZGltZW5zaW9uLCBvd25Qcm9wcy5pc0Nsb25lLCBkcmFnZ2luZ092ZXIsIGNvbWJpbmVXaXRoLCBmb3JjZVNob3VsZEFuaW1hdGUpO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZS5waGFzZSA9PT0gJ0RST1BfQU5JTUFUSU5HJykge1xuICAgICAgdmFyIGNvbXBsZXRlZCA9IHN0YXRlLmNvbXBsZXRlZDtcblxuICAgICAgaWYgKGNvbXBsZXRlZC5yZXN1bHQuZHJhZ2dhYmxlSWQgIT09IG93blByb3BzLmRyYWdnYWJsZUlkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXNDbG9uZSA9IG93blByb3BzLmlzQ2xvbmU7XG4gICAgICB2YXIgX2RpbWVuc2lvbiA9IHN0YXRlLmRpbWVuc2lvbnMuZHJhZ2dhYmxlc1tvd25Qcm9wcy5kcmFnZ2FibGVJZF07XG4gICAgICB2YXIgcmVzdWx0ID0gY29tcGxldGVkLnJlc3VsdDtcbiAgICAgIHZhciBtb2RlID0gcmVzdWx0Lm1vZGU7XG5cbiAgICAgIHZhciBfZHJhZ2dpbmdPdmVyID0gd2hhdElzRHJhZ2dlZE92ZXJGcm9tUmVzdWx0KHJlc3VsdCk7XG5cbiAgICAgIHZhciBfY29tYmluZVdpdGggPSBnZXRDb21iaW5lV2l0aEZyb21SZXN1bHQocmVzdWx0KTtcblxuICAgICAgdmFyIGR1cmF0aW9uID0gc3RhdGUuZHJvcER1cmF0aW9uO1xuICAgICAgdmFyIGRyb3BwaW5nID0ge1xuICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgIGN1cnZlOiBjdXJ2ZXMuZHJvcCxcbiAgICAgICAgbW92ZVRvOiBzdGF0ZS5uZXdIb21lQ2xpZW50T2Zmc2V0LFxuICAgICAgICBvcGFjaXR5OiBfY29tYmluZVdpdGggPyBjb21iaW5lLm9wYWNpdHkuZHJvcCA6IG51bGwsXG4gICAgICAgIHNjYWxlOiBfY29tYmluZVdpdGggPyBjb21iaW5lLnNjYWxlLmRyb3AgOiBudWxsXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWFwcGVkOiB7XG4gICAgICAgICAgdHlwZTogJ0RSQUdHSU5HJyxcbiAgICAgICAgICBvZmZzZXQ6IHN0YXRlLm5ld0hvbWVDbGllbnRPZmZzZXQsXG4gICAgICAgICAgZGltZW5zaW9uOiBfZGltZW5zaW9uLFxuICAgICAgICAgIGRyb3BwaW5nOiBkcm9wcGluZyxcbiAgICAgICAgICBkcmFnZ2luZ092ZXI6IF9kcmFnZ2luZ092ZXIsXG4gICAgICAgICAgY29tYmluZVdpdGg6IF9jb21iaW5lV2l0aCxcbiAgICAgICAgICBtb2RlOiBtb2RlLFxuICAgICAgICAgIGZvcmNlU2hvdWxkQW5pbWF0ZTogbnVsbCxcbiAgICAgICAgICBzbmFwc2hvdDogZ2V0TWVtb2l6ZWRTbmFwc2hvdChtb2RlLCBpc0Nsb25lLCBfZHJhZ2dpbmdPdmVyLCBfY29tYmluZVdpdGgsIGRyb3BwaW5nKVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHJldHVybiBzZWxlY3Rvcjtcbn1cblxuZnVuY3Rpb24gZ2V0U2Vjb25kYXJ5U25hcHNob3QoY29tYmluZVRhcmdldEZvcikge1xuICByZXR1cm4ge1xuICAgIGlzRHJhZ2dpbmc6IGZhbHNlLFxuICAgIGlzRHJvcEFuaW1hdGluZzogZmFsc2UsXG4gICAgaXNDbG9uZTogZmFsc2UsXG4gICAgZHJvcEFuaW1hdGlvbjogbnVsbCxcbiAgICBtb2RlOiBudWxsLFxuICAgIGRyYWdnaW5nT3ZlcjogbnVsbCxcbiAgICBjb21iaW5lVGFyZ2V0Rm9yOiBjb21iaW5lVGFyZ2V0Rm9yLFxuICAgIGNvbWJpbmVXaXRoOiBudWxsXG4gIH07XG59XG5cbnZhciBhdFJlc3QgPSB7XG4gIG1hcHBlZDoge1xuICAgIHR5cGU6ICdTRUNPTkRBUlknLFxuICAgIG9mZnNldDogb3JpZ2luLFxuICAgIGNvbWJpbmVUYXJnZXRGb3I6IG51bGwsXG4gICAgc2hvdWxkQW5pbWF0ZURpc3BsYWNlbWVudDogdHJ1ZSxcbiAgICBzbmFwc2hvdDogZ2V0U2Vjb25kYXJ5U25hcHNob3QobnVsbClcbiAgfVxufTtcblxuZnVuY3Rpb24gZ2V0U2Vjb25kYXJ5U2VsZWN0b3IoKSB7XG4gIHZhciBtZW1vaXplZE9mZnNldCA9IG1lbW9pemVPbmUoZnVuY3Rpb24gKHgsIHkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogeCxcbiAgICAgIHk6IHlcbiAgICB9O1xuICB9KTtcbiAgdmFyIGdldE1lbW9pemVkU25hcHNob3QgPSBtZW1vaXplT25lKGdldFNlY29uZGFyeVNuYXBzaG90KTtcbiAgdmFyIGdldE1lbW9pemVkUHJvcHMgPSBtZW1vaXplT25lKGZ1bmN0aW9uIChvZmZzZXQsIGNvbWJpbmVUYXJnZXRGb3IsIHNob3VsZEFuaW1hdGVEaXNwbGFjZW1lbnQpIHtcbiAgICBpZiAoY29tYmluZVRhcmdldEZvciA9PT0gdm9pZCAwKSB7XG4gICAgICBjb21iaW5lVGFyZ2V0Rm9yID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbWFwcGVkOiB7XG4gICAgICAgIHR5cGU6ICdTRUNPTkRBUlknLFxuICAgICAgICBvZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgY29tYmluZVRhcmdldEZvcjogY29tYmluZVRhcmdldEZvcixcbiAgICAgICAgc2hvdWxkQW5pbWF0ZURpc3BsYWNlbWVudDogc2hvdWxkQW5pbWF0ZURpc3BsYWNlbWVudCxcbiAgICAgICAgc25hcHNob3Q6IGdldE1lbW9pemVkU25hcHNob3QoY29tYmluZVRhcmdldEZvcilcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcblxuICB2YXIgZ2V0RmFsbGJhY2sgPSBmdW5jdGlvbiBnZXRGYWxsYmFjayhjb21iaW5lVGFyZ2V0Rm9yKSB7XG4gICAgcmV0dXJuIGNvbWJpbmVUYXJnZXRGb3IgPyBnZXRNZW1vaXplZFByb3BzKG9yaWdpbiwgY29tYmluZVRhcmdldEZvciwgdHJ1ZSkgOiBudWxsO1xuICB9O1xuXG4gIHZhciBnZXRQcm9wcyA9IGZ1bmN0aW9uIGdldFByb3BzKG93bklkLCBkcmFnZ2luZ0lkLCBpbXBhY3QsIGFmdGVyQ3JpdGljYWwpIHtcbiAgICB2YXIgdmlzdWFsRGlzcGxhY2VtZW50ID0gaW1wYWN0LmRpc3BsYWNlZC52aXNpYmxlW293bklkXTtcbiAgICB2YXIgaXNBZnRlckNyaXRpY2FsSW5WaXJ0dWFsTGlzdCA9IEJvb2xlYW4oYWZ0ZXJDcml0aWNhbC5pblZpcnR1YWxMaXN0ICYmIGFmdGVyQ3JpdGljYWwuZWZmZWN0ZWRbb3duSWRdKTtcbiAgICB2YXIgY29tYmluZSA9IHRyeUdldENvbWJpbmUoaW1wYWN0KTtcbiAgICB2YXIgY29tYmluZVRhcmdldEZvciA9IGNvbWJpbmUgJiYgY29tYmluZS5kcmFnZ2FibGVJZCA9PT0gb3duSWQgPyBkcmFnZ2luZ0lkIDogbnVsbDtcblxuICAgIGlmICghdmlzdWFsRGlzcGxhY2VtZW50KSB7XG4gICAgICBpZiAoIWlzQWZ0ZXJDcml0aWNhbEluVmlydHVhbExpc3QpIHtcbiAgICAgICAgcmV0dXJuIGdldEZhbGxiYWNrKGNvbWJpbmVUYXJnZXRGb3IpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW1wYWN0LmRpc3BsYWNlZC5pbnZpc2libGVbb3duSWRdKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2hhbmdlID0gbmVnYXRlKGFmdGVyQ3JpdGljYWwuZGlzcGxhY2VkQnkucG9pbnQpO1xuXG4gICAgICB2YXIgX29mZnNldCA9IG1lbW9pemVkT2Zmc2V0KGNoYW5nZS54LCBjaGFuZ2UueSk7XG5cbiAgICAgIHJldHVybiBnZXRNZW1vaXplZFByb3BzKF9vZmZzZXQsIGNvbWJpbmVUYXJnZXRGb3IsIHRydWUpO1xuICAgIH1cblxuICAgIGlmIChpc0FmdGVyQ3JpdGljYWxJblZpcnR1YWxMaXN0KSB7XG4gICAgICByZXR1cm4gZ2V0RmFsbGJhY2soY29tYmluZVRhcmdldEZvcik7XG4gICAgfVxuXG4gICAgdmFyIGRpc3BsYWNlQnkgPSBpbXBhY3QuZGlzcGxhY2VkQnkucG9pbnQ7XG4gICAgdmFyIG9mZnNldCA9IG1lbW9pemVkT2Zmc2V0KGRpc3BsYWNlQnkueCwgZGlzcGxhY2VCeS55KTtcbiAgICByZXR1cm4gZ2V0TWVtb2l6ZWRQcm9wcyhvZmZzZXQsIGNvbWJpbmVUYXJnZXRGb3IsIHZpc3VhbERpc3BsYWNlbWVudC5zaG91bGRBbmltYXRlKTtcbiAgfTtcblxuICB2YXIgc2VsZWN0b3IgPSBmdW5jdGlvbiBzZWxlY3RvcihzdGF0ZSwgb3duUHJvcHMpIHtcbiAgICBpZiAoc3RhdGUuaXNEcmFnZ2luZykge1xuICAgICAgaWYgKHN0YXRlLmNyaXRpY2FsLmRyYWdnYWJsZS5pZCA9PT0gb3duUHJvcHMuZHJhZ2dhYmxlSWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRQcm9wcyhvd25Qcm9wcy5kcmFnZ2FibGVJZCwgc3RhdGUuY3JpdGljYWwuZHJhZ2dhYmxlLmlkLCBzdGF0ZS5pbXBhY3QsIHN0YXRlLmFmdGVyQ3JpdGljYWwpO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZS5waGFzZSA9PT0gJ0RST1BfQU5JTUFUSU5HJykge1xuICAgICAgdmFyIGNvbXBsZXRlZCA9IHN0YXRlLmNvbXBsZXRlZDtcblxuICAgICAgaWYgKGNvbXBsZXRlZC5yZXN1bHQuZHJhZ2dhYmxlSWQgPT09IG93blByb3BzLmRyYWdnYWJsZUlkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0UHJvcHMob3duUHJvcHMuZHJhZ2dhYmxlSWQsIGNvbXBsZXRlZC5yZXN1bHQuZHJhZ2dhYmxlSWQsIGNvbXBsZXRlZC5pbXBhY3QsIGNvbXBsZXRlZC5hZnRlckNyaXRpY2FsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gc2VsZWN0b3I7XG59XG5cbnZhciBtYWtlTWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFrZU1hcFN0YXRlVG9Qcm9wcygpIHtcbiAgdmFyIGRyYWdnaW5nU2VsZWN0b3IgPSBnZXREcmFnZ2FibGVTZWxlY3RvcigpO1xuICB2YXIgc2Vjb25kYXJ5U2VsZWN0b3IgPSBnZXRTZWNvbmRhcnlTZWxlY3RvcigpO1xuXG4gIHZhciBzZWxlY3RvciA9IGZ1bmN0aW9uIHNlbGVjdG9yKHN0YXRlLCBvd25Qcm9wcykge1xuICAgIHJldHVybiBkcmFnZ2luZ1NlbGVjdG9yKHN0YXRlLCBvd25Qcm9wcykgfHwgc2Vjb25kYXJ5U2VsZWN0b3Ioc3RhdGUsIG93blByb3BzKSB8fCBhdFJlc3Q7XG4gIH07XG5cbiAgcmV0dXJuIHNlbGVjdG9yO1xufTtcbnZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSB7XG4gIGRyb3BBbmltYXRpb25GaW5pc2hlZDogZHJvcEFuaW1hdGlvbkZpbmlzaGVkXG59O1xudmFyIENvbm5lY3RlZERyYWdnYWJsZSA9IGNvbm5lY3QobWFrZU1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzLCBudWxsLCB7XG4gIGNvbnRleHQ6IFN0b3JlQ29udGV4dCxcbiAgcHVyZTogdHJ1ZSxcbiAgYXJlU3RhdGVQcm9wc0VxdWFsOiBpc1N0cmljdEVxdWFsXG59KShEcmFnZ2FibGUpO1xuXG5mdW5jdGlvbiBQcml2YXRlRHJhZ2dhYmxlKHByb3BzKSB7XG4gIHZhciBkcm9wcGFibGVDb250ZXh0ID0gdXNlUmVxdWlyZWRDb250ZXh0KERyb3BwYWJsZUNvbnRleHQpO1xuICB2YXIgaXNVc2luZ0Nsb25lRm9yID0gZHJvcHBhYmxlQ29udGV4dC5pc1VzaW5nQ2xvbmVGb3I7XG5cbiAgaWYgKGlzVXNpbmdDbG9uZUZvciA9PT0gcHJvcHMuZHJhZ2dhYmxlSWQgJiYgIXByb3BzLmlzQ2xvbmUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbm5lY3RlZERyYWdnYWJsZSwgcHJvcHMpO1xufVxuZnVuY3Rpb24gUHVibGljRHJhZ2dhYmxlKHByb3BzKSB7XG4gIHZhciBpc0VuYWJsZWQgPSB0eXBlb2YgcHJvcHMuaXNEcmFnRGlzYWJsZWQgPT09ICdib29sZWFuJyA/ICFwcm9wcy5pc0RyYWdEaXNhYmxlZCA6IHRydWU7XG4gIHZhciBjYW5EcmFnSW50ZXJhY3RpdmVFbGVtZW50cyA9IEJvb2xlYW4ocHJvcHMuZGlzYWJsZUludGVyYWN0aXZlRWxlbWVudEJsb2NraW5nKTtcbiAgdmFyIHNob3VsZFJlc3BlY3RGb3JjZVByZXNzID0gQm9vbGVhbihwcm9wcy5zaG91bGRSZXNwZWN0Rm9yY2VQcmVzcyk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFByaXZhdGVEcmFnZ2FibGUsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgIGlzQ2xvbmU6IGZhbHNlLFxuICAgIGlzRW5hYmxlZDogaXNFbmFibGVkLFxuICAgIGNhbkRyYWdJbnRlcmFjdGl2ZUVsZW1lbnRzOiBjYW5EcmFnSW50ZXJhY3RpdmVFbGVtZW50cyxcbiAgICBzaG91bGRSZXNwZWN0Rm9yY2VQcmVzczogc2hvdWxkUmVzcGVjdEZvcmNlUHJlc3NcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBEcm9wcGFibGUocHJvcHMpIHtcbiAgdmFyIGFwcENvbnRleHQgPSB1c2VDb250ZXh0KEFwcENvbnRleHQpO1xuICAhYXBwQ29udGV4dCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0NvdWxkIG5vdCBmaW5kIGFwcCBjb250ZXh0JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB2YXIgY29udGV4dElkID0gYXBwQ29udGV4dC5jb250ZXh0SWQsXG4gICAgICBpc01vdmVtZW50QWxsb3dlZCA9IGFwcENvbnRleHQuaXNNb3ZlbWVudEFsbG93ZWQ7XG4gIHZhciBkcm9wcGFibGVSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBwbGFjZWhvbGRlclJlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICBkcm9wcGFibGVJZCA9IHByb3BzLmRyb3BwYWJsZUlkLFxuICAgICAgdHlwZSA9IHByb3BzLnR5cGUsXG4gICAgICBtb2RlID0gcHJvcHMubW9kZSxcbiAgICAgIGRpcmVjdGlvbiA9IHByb3BzLmRpcmVjdGlvbixcbiAgICAgIGlnbm9yZUNvbnRhaW5lckNsaXBwaW5nID0gcHJvcHMuaWdub3JlQ29udGFpbmVyQ2xpcHBpbmcsXG4gICAgICBpc0Ryb3BEaXNhYmxlZCA9IHByb3BzLmlzRHJvcERpc2FibGVkLFxuICAgICAgaXNDb21iaW5lRW5hYmxlZCA9IHByb3BzLmlzQ29tYmluZUVuYWJsZWQsXG4gICAgICBzbmFwc2hvdCA9IHByb3BzLnNuYXBzaG90LFxuICAgICAgdXNlQ2xvbmUgPSBwcm9wcy51c2VDbG9uZSxcbiAgICAgIHVwZGF0ZVZpZXdwb3J0TWF4U2Nyb2xsID0gcHJvcHMudXBkYXRlVmlld3BvcnRNYXhTY3JvbGwsXG4gICAgICBnZXRDb250YWluZXJGb3JDbG9uZSA9IHByb3BzLmdldENvbnRhaW5lckZvckNsb25lO1xuICB2YXIgZ2V0RHJvcHBhYmxlUmVmID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBkcm9wcGFibGVSZWYuY3VycmVudDtcbiAgfSwgW10pO1xuICB2YXIgc2V0RHJvcHBhYmxlUmVmID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgZHJvcHBhYmxlUmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgfSwgW10pO1xuICB2YXIgZ2V0UGxhY2Vob2xkZXJSZWYgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHBsYWNlaG9sZGVyUmVmLmN1cnJlbnQ7XG4gIH0sIFtdKTtcbiAgdmFyIHNldFBsYWNlaG9sZGVyUmVmID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcGxhY2Vob2xkZXJSZWYuY3VycmVudCA9IHZhbHVlO1xuICB9LCBbXSk7XG4gIHVzZVZhbGlkYXRpb24oe1xuICAgIHByb3BzOiBwcm9wcyxcbiAgICBnZXREcm9wcGFibGVSZWY6IGdldERyb3BwYWJsZVJlZixcbiAgICBnZXRQbGFjZWhvbGRlclJlZjogZ2V0UGxhY2Vob2xkZXJSZWZcbiAgfSk7XG4gIHZhciBvblBsYWNlaG9sZGVyVHJhbnNpdGlvbkVuZCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaXNNb3ZlbWVudEFsbG93ZWQoKSkge1xuICAgICAgdXBkYXRlVmlld3BvcnRNYXhTY3JvbGwoe1xuICAgICAgICBtYXhTY3JvbGw6IGdldE1heFdpbmRvd1Njcm9sbCgpXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtpc01vdmVtZW50QWxsb3dlZCwgdXBkYXRlVmlld3BvcnRNYXhTY3JvbGxdKTtcbiAgdXNlRHJvcHBhYmxlUHVibGlzaGVyKHtcbiAgICBkcm9wcGFibGVJZDogZHJvcHBhYmxlSWQsXG4gICAgdHlwZTogdHlwZSxcbiAgICBtb2RlOiBtb2RlLFxuICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uLFxuICAgIGlzRHJvcERpc2FibGVkOiBpc0Ryb3BEaXNhYmxlZCxcbiAgICBpc0NvbWJpbmVFbmFibGVkOiBpc0NvbWJpbmVFbmFibGVkLFxuICAgIGlnbm9yZUNvbnRhaW5lckNsaXBwaW5nOiBpZ25vcmVDb250YWluZXJDbGlwcGluZyxcbiAgICBnZXREcm9wcGFibGVSZWY6IGdldERyb3BwYWJsZVJlZlxuICB9KTtcbiAgdmFyIHBsYWNlaG9sZGVyID0gUmVhY3QuY3JlYXRlRWxlbWVudChBbmltYXRlSW5PdXQsIHtcbiAgICBvbjogcHJvcHMucGxhY2Vob2xkZXIsXG4gICAgc2hvdWxkQW5pbWF0ZTogcHJvcHMuc2hvdWxkQW5pbWF0ZVBsYWNlaG9sZGVyXG4gIH0sIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIG9uQ2xvc2UgPSBfcmVmLm9uQ2xvc2UsXG4gICAgICAgIGRhdGEgPSBfcmVmLmRhdGEsXG4gICAgICAgIGFuaW1hdGUgPSBfcmVmLmFuaW1hdGU7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGxhY2Vob2xkZXIkMSwge1xuICAgICAgcGxhY2Vob2xkZXI6IGRhdGEsXG4gICAgICBvbkNsb3NlOiBvbkNsb3NlLFxuICAgICAgaW5uZXJSZWY6IHNldFBsYWNlaG9sZGVyUmVmLFxuICAgICAgYW5pbWF0ZTogYW5pbWF0ZSxcbiAgICAgIGNvbnRleHRJZDogY29udGV4dElkLFxuICAgICAgb25UcmFuc2l0aW9uRW5kOiBvblBsYWNlaG9sZGVyVHJhbnNpdGlvbkVuZFxuICAgIH0pO1xuICB9KTtcbiAgdmFyIHByb3ZpZGVkID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlubmVyUmVmOiBzZXREcm9wcGFibGVSZWYsXG4gICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG4gICAgICBkcm9wcGFibGVQcm9wczoge1xuICAgICAgICAnZGF0YS1yYmQtZHJvcHBhYmxlLWlkJzogZHJvcHBhYmxlSWQsXG4gICAgICAgICdkYXRhLXJiZC1kcm9wcGFibGUtY29udGV4dC1pZCc6IGNvbnRleHRJZFxuICAgICAgfVxuICAgIH07XG4gIH0sIFtjb250ZXh0SWQsIGRyb3BwYWJsZUlkLCBwbGFjZWhvbGRlciwgc2V0RHJvcHBhYmxlUmVmXSk7XG4gIHZhciBpc1VzaW5nQ2xvbmVGb3IgPSB1c2VDbG9uZSA/IHVzZUNsb25lLmRyYWdnaW5nLmRyYWdnYWJsZUlkIDogbnVsbDtcbiAgdmFyIGRyb3BwYWJsZUNvbnRleHQgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZHJvcHBhYmxlSWQ6IGRyb3BwYWJsZUlkLFxuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIGlzVXNpbmdDbG9uZUZvcjogaXNVc2luZ0Nsb25lRm9yXG4gICAgfTtcbiAgfSwgW2Ryb3BwYWJsZUlkLCBpc1VzaW5nQ2xvbmVGb3IsIHR5cGVdKTtcblxuICBmdW5jdGlvbiBnZXRDbG9uZSgpIHtcbiAgICBpZiAoIXVzZUNsb25lKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgZHJhZ2dpbmcgPSB1c2VDbG9uZS5kcmFnZ2luZyxcbiAgICAgICAgcmVuZGVyID0gdXNlQ2xvbmUucmVuZGVyO1xuICAgIHZhciBub2RlID0gUmVhY3QuY3JlYXRlRWxlbWVudChQcml2YXRlRHJhZ2dhYmxlLCB7XG4gICAgICBkcmFnZ2FibGVJZDogZHJhZ2dpbmcuZHJhZ2dhYmxlSWQsXG4gICAgICBpbmRleDogZHJhZ2dpbmcuc291cmNlLmluZGV4LFxuICAgICAgaXNDbG9uZTogdHJ1ZSxcbiAgICAgIGlzRW5hYmxlZDogdHJ1ZSxcbiAgICAgIHNob3VsZFJlc3BlY3RGb3JjZVByZXNzOiBmYWxzZSxcbiAgICAgIGNhbkRyYWdJbnRlcmFjdGl2ZUVsZW1lbnRzOiB0cnVlXG4gICAgfSwgZnVuY3Rpb24gKGRyYWdnYWJsZVByb3ZpZGVkLCBkcmFnZ2FibGVTbmFwc2hvdCkge1xuICAgICAgcmV0dXJuIHJlbmRlcihkcmFnZ2FibGVQcm92aWRlZCwgZHJhZ2dhYmxlU25hcHNob3QsIGRyYWdnaW5nKTtcbiAgICB9KTtcbiAgICByZXR1cm4gUmVhY3RET00uY3JlYXRlUG9ydGFsKG5vZGUsIGdldENvbnRhaW5lckZvckNsb25lKCkpO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcHBhYmxlQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBkcm9wcGFibGVDb250ZXh0XG4gIH0sIGNoaWxkcmVuKHByb3ZpZGVkLCBzbmFwc2hvdCksIGdldENsb25lKCkpO1xufVxuXG52YXIgaXNNYXRjaGluZ1R5cGUgPSBmdW5jdGlvbiBpc01hdGNoaW5nVHlwZSh0eXBlLCBjcml0aWNhbCkge1xuICByZXR1cm4gdHlwZSA9PT0gY3JpdGljYWwuZHJvcHBhYmxlLnR5cGU7XG59O1xuXG52YXIgZ2V0RHJhZ2dhYmxlID0gZnVuY3Rpb24gZ2V0RHJhZ2dhYmxlKGNyaXRpY2FsLCBkaW1lbnNpb25zKSB7XG4gIHJldHVybiBkaW1lbnNpb25zLmRyYWdnYWJsZXNbY3JpdGljYWwuZHJhZ2dhYmxlLmlkXTtcbn07XG5cbnZhciBtYWtlTWFwU3RhdGVUb1Byb3BzJDEgPSBmdW5jdGlvbiBtYWtlTWFwU3RhdGVUb1Byb3BzKCkge1xuICB2YXIgaWRsZVdpdGhBbmltYXRpb24gPSB7XG4gICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgc2hvdWxkQW5pbWF0ZVBsYWNlaG9sZGVyOiB0cnVlLFxuICAgIHNuYXBzaG90OiB7XG4gICAgICBpc0RyYWdnaW5nT3ZlcjogZmFsc2UsXG4gICAgICBkcmFnZ2luZ092ZXJXaXRoOiBudWxsLFxuICAgICAgZHJhZ2dpbmdGcm9tVGhpc1dpdGg6IG51bGwsXG4gICAgICBpc1VzaW5nUGxhY2Vob2xkZXI6IGZhbHNlXG4gICAgfSxcbiAgICB1c2VDbG9uZTogbnVsbFxuICB9O1xuXG4gIHZhciBpZGxlV2l0aG91dEFuaW1hdGlvbiA9IF9leHRlbmRzKHt9LCBpZGxlV2l0aEFuaW1hdGlvbiwge1xuICAgIHNob3VsZEFuaW1hdGVQbGFjZWhvbGRlcjogZmFsc2VcbiAgfSk7XG5cbiAgdmFyIGdldERyYWdnYWJsZVJ1YnJpYyA9IG1lbW9pemVPbmUoZnVuY3Rpb24gKGRlc2NyaXB0b3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZHJhZ2dhYmxlSWQ6IGRlc2NyaXB0b3IuaWQsXG4gICAgICB0eXBlOiBkZXNjcmlwdG9yLnR5cGUsXG4gICAgICBzb3VyY2U6IHtcbiAgICAgICAgaW5kZXg6IGRlc2NyaXB0b3IuaW5kZXgsXG4gICAgICAgIGRyb3BwYWJsZUlkOiBkZXNjcmlwdG9yLmRyb3BwYWJsZUlkXG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHZhciBnZXRNYXBQcm9wcyA9IG1lbW9pemVPbmUoZnVuY3Rpb24gKGlkLCBpc0VuYWJsZWQsIGlzRHJhZ2dpbmdPdmVyRm9yQ29uc3VtZXIsIGlzRHJhZ2dpbmdPdmVyRm9ySW1wYWN0LCBkcmFnZ2luZywgcmVuZGVyQ2xvbmUpIHtcbiAgICB2YXIgZHJhZ2dhYmxlSWQgPSBkcmFnZ2luZy5kZXNjcmlwdG9yLmlkO1xuICAgIHZhciBpc0hvbWUgPSBkcmFnZ2luZy5kZXNjcmlwdG9yLmRyb3BwYWJsZUlkID09PSBpZDtcblxuICAgIGlmIChpc0hvbWUpIHtcbiAgICAgIHZhciB1c2VDbG9uZSA9IHJlbmRlckNsb25lID8ge1xuICAgICAgICByZW5kZXI6IHJlbmRlckNsb25lLFxuICAgICAgICBkcmFnZ2luZzogZ2V0RHJhZ2dhYmxlUnVicmljKGRyYWdnaW5nLmRlc2NyaXB0b3IpXG4gICAgICB9IDogbnVsbDtcbiAgICAgIHZhciBfc25hcHNob3QgPSB7XG4gICAgICAgIGlzRHJhZ2dpbmdPdmVyOiBpc0RyYWdnaW5nT3ZlckZvckNvbnN1bWVyLFxuICAgICAgICBkcmFnZ2luZ092ZXJXaXRoOiBpc0RyYWdnaW5nT3ZlckZvckNvbnN1bWVyID8gZHJhZ2dhYmxlSWQgOiBudWxsLFxuICAgICAgICBkcmFnZ2luZ0Zyb21UaGlzV2l0aDogZHJhZ2dhYmxlSWQsXG4gICAgICAgIGlzVXNpbmdQbGFjZWhvbGRlcjogdHJ1ZVxuICAgICAgfTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBsYWNlaG9sZGVyOiBkcmFnZ2luZy5wbGFjZWhvbGRlcixcbiAgICAgICAgc2hvdWxkQW5pbWF0ZVBsYWNlaG9sZGVyOiBmYWxzZSxcbiAgICAgICAgc25hcHNob3Q6IF9zbmFwc2hvdCxcbiAgICAgICAgdXNlQ2xvbmU6IHVzZUNsb25lXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICghaXNFbmFibGVkKSB7XG4gICAgICByZXR1cm4gaWRsZVdpdGhvdXRBbmltYXRpb247XG4gICAgfVxuXG4gICAgaWYgKCFpc0RyYWdnaW5nT3ZlckZvckltcGFjdCkge1xuICAgICAgcmV0dXJuIGlkbGVXaXRoQW5pbWF0aW9uO1xuICAgIH1cblxuICAgIHZhciBzbmFwc2hvdCA9IHtcbiAgICAgIGlzRHJhZ2dpbmdPdmVyOiBpc0RyYWdnaW5nT3ZlckZvckNvbnN1bWVyLFxuICAgICAgZHJhZ2dpbmdPdmVyV2l0aDogZHJhZ2dhYmxlSWQsXG4gICAgICBkcmFnZ2luZ0Zyb21UaGlzV2l0aDogbnVsbCxcbiAgICAgIGlzVXNpbmdQbGFjZWhvbGRlcjogdHJ1ZVxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgIHBsYWNlaG9sZGVyOiBkcmFnZ2luZy5wbGFjZWhvbGRlcixcbiAgICAgIHNob3VsZEFuaW1hdGVQbGFjZWhvbGRlcjogdHJ1ZSxcbiAgICAgIHNuYXBzaG90OiBzbmFwc2hvdCxcbiAgICAgIHVzZUNsb25lOiBudWxsXG4gICAgfTtcbiAgfSk7XG5cbiAgdmFyIHNlbGVjdG9yID0gZnVuY3Rpb24gc2VsZWN0b3Ioc3RhdGUsIG93blByb3BzKSB7XG4gICAgdmFyIGlkID0gb3duUHJvcHMuZHJvcHBhYmxlSWQ7XG4gICAgdmFyIHR5cGUgPSBvd25Qcm9wcy50eXBlO1xuICAgIHZhciBpc0VuYWJsZWQgPSAhb3duUHJvcHMuaXNEcm9wRGlzYWJsZWQ7XG4gICAgdmFyIHJlbmRlckNsb25lID0gb3duUHJvcHMucmVuZGVyQ2xvbmU7XG5cbiAgICBpZiAoc3RhdGUuaXNEcmFnZ2luZykge1xuICAgICAgdmFyIGNyaXRpY2FsID0gc3RhdGUuY3JpdGljYWw7XG5cbiAgICAgIGlmICghaXNNYXRjaGluZ1R5cGUodHlwZSwgY3JpdGljYWwpKSB7XG4gICAgICAgIHJldHVybiBpZGxlV2l0aG91dEFuaW1hdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGRyYWdnaW5nID0gZ2V0RHJhZ2dhYmxlKGNyaXRpY2FsLCBzdGF0ZS5kaW1lbnNpb25zKTtcbiAgICAgIHZhciBpc0RyYWdnaW5nT3ZlciA9IHdoYXRJc0RyYWdnZWRPdmVyKHN0YXRlLmltcGFjdCkgPT09IGlkO1xuICAgICAgcmV0dXJuIGdldE1hcFByb3BzKGlkLCBpc0VuYWJsZWQsIGlzRHJhZ2dpbmdPdmVyLCBpc0RyYWdnaW5nT3ZlciwgZHJhZ2dpbmcsIHJlbmRlckNsb25lKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUucGhhc2UgPT09ICdEUk9QX0FOSU1BVElORycpIHtcbiAgICAgIHZhciBjb21wbGV0ZWQgPSBzdGF0ZS5jb21wbGV0ZWQ7XG5cbiAgICAgIGlmICghaXNNYXRjaGluZ1R5cGUodHlwZSwgY29tcGxldGVkLmNyaXRpY2FsKSkge1xuICAgICAgICByZXR1cm4gaWRsZVdpdGhvdXRBbmltYXRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBfZHJhZ2dpbmcgPSBnZXREcmFnZ2FibGUoY29tcGxldGVkLmNyaXRpY2FsLCBzdGF0ZS5kaW1lbnNpb25zKTtcblxuICAgICAgcmV0dXJuIGdldE1hcFByb3BzKGlkLCBpc0VuYWJsZWQsIHdoYXRJc0RyYWdnZWRPdmVyRnJvbVJlc3VsdChjb21wbGV0ZWQucmVzdWx0KSA9PT0gaWQsIHdoYXRJc0RyYWdnZWRPdmVyKGNvbXBsZXRlZC5pbXBhY3QpID09PSBpZCwgX2RyYWdnaW5nLCByZW5kZXJDbG9uZSk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLnBoYXNlID09PSAnSURMRScgJiYgc3RhdGUuY29tcGxldGVkICYmICFzdGF0ZS5zaG91bGRGbHVzaCkge1xuICAgICAgdmFyIF9jb21wbGV0ZWQgPSBzdGF0ZS5jb21wbGV0ZWQ7XG5cbiAgICAgIGlmICghaXNNYXRjaGluZ1R5cGUodHlwZSwgX2NvbXBsZXRlZC5jcml0aWNhbCkpIHtcbiAgICAgICAgcmV0dXJuIGlkbGVXaXRob3V0QW5pbWF0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgd2FzT3ZlciA9IHdoYXRJc0RyYWdnZWRPdmVyKF9jb21wbGV0ZWQuaW1wYWN0KSA9PT0gaWQ7XG4gICAgICB2YXIgd2FzQ29tYmluaW5nID0gQm9vbGVhbihfY29tcGxldGVkLmltcGFjdC5hdCAmJiBfY29tcGxldGVkLmltcGFjdC5hdC50eXBlID09PSAnQ09NQklORScpO1xuICAgICAgdmFyIGlzSG9tZSA9IF9jb21wbGV0ZWQuY3JpdGljYWwuZHJvcHBhYmxlLmlkID09PSBpZDtcblxuICAgICAgaWYgKHdhc092ZXIpIHtcbiAgICAgICAgcmV0dXJuIHdhc0NvbWJpbmluZyA/IGlkbGVXaXRoQW5pbWF0aW9uIDogaWRsZVdpdGhvdXRBbmltYXRpb247XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0hvbWUpIHtcbiAgICAgICAgcmV0dXJuIGlkbGVXaXRoQW5pbWF0aW9uO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaWRsZVdpdGhvdXRBbmltYXRpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIGlkbGVXaXRob3V0QW5pbWF0aW9uO1xuICB9O1xuXG4gIHJldHVybiBzZWxlY3Rvcjtcbn07XG52YXIgbWFwRGlzcGF0Y2hUb1Byb3BzJDEgPSB7XG4gIHVwZGF0ZVZpZXdwb3J0TWF4U2Nyb2xsOiB1cGRhdGVWaWV3cG9ydE1heFNjcm9sbFxufTtcblxuZnVuY3Rpb24gZ2V0Qm9keSgpIHtcbiAgIWRvY3VtZW50LmJvZHkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdkb2N1bWVudC5ib2R5IGlzIG5vdCByZWFkeScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgcmV0dXJuIGRvY3VtZW50LmJvZHk7XG59XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIG1vZGU6ICdzdGFuZGFyZCcsXG4gIHR5cGU6ICdERUZBVUxUJyxcbiAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxuICBpc0Ryb3BEaXNhYmxlZDogZmFsc2UsXG4gIGlzQ29tYmluZUVuYWJsZWQ6IGZhbHNlLFxuICBpZ25vcmVDb250YWluZXJDbGlwcGluZzogZmFsc2UsXG4gIHJlbmRlckNsb25lOiBudWxsLFxuICBnZXRDb250YWluZXJGb3JDbG9uZTogZ2V0Qm9keVxufTtcbnZhciBDb25uZWN0ZWREcm9wcGFibGUgPSBjb25uZWN0KG1ha2VNYXBTdGF0ZVRvUHJvcHMkMSwgbWFwRGlzcGF0Y2hUb1Byb3BzJDEsIG51bGwsIHtcbiAgY29udGV4dDogU3RvcmVDb250ZXh0LFxuICBwdXJlOiB0cnVlLFxuICBhcmVTdGF0ZVByb3BzRXF1YWw6IGlzU3RyaWN0RXF1YWxcbn0pKERyb3BwYWJsZSk7XG5Db25uZWN0ZWREcm9wcGFibGUuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnQgeyBEcmFnRHJvcENvbnRleHQsIFB1YmxpY0RyYWdnYWJsZSBhcyBEcmFnZ2FibGUsIENvbm5lY3RlZERyb3BwYWJsZSBhcyBEcm9wcGFibGUsIHJlc2V0U2VydmVyQ29udGV4dCwgdXNlS2V5Ym9hcmRTZW5zb3IsIHVzZU1vdXNlU2Vuc29yLCB1c2VUb3VjaFNlbnNvciB9O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJEcmFnZ2FibGVDb3JlXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9EcmFnZ2FibGVDb3JlLmRlZmF1bHQ7XG4gIH1cbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInByb3AtdHlwZXNcIikpO1xuXG52YXIgX3JlYWN0RG9tID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicmVhY3QtZG9tXCIpKTtcblxudmFyIF9jbGFzc25hbWVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiY2xhc3NuYW1lc1wiKSk7XG5cbnZhciBfZG9tRm5zID0gcmVxdWlyZShcIi4vdXRpbHMvZG9tRm5zXCIpO1xuXG52YXIgX3Bvc2l0aW9uRm5zID0gcmVxdWlyZShcIi4vdXRpbHMvcG9zaXRpb25GbnNcIik7XG5cbnZhciBfc2hpbXMgPSByZXF1aXJlKFwiLi91dGlscy9zaGltc1wiKTtcblxudmFyIF9EcmFnZ2FibGVDb3JlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9EcmFnZ2FibGVDb3JlXCIpKTtcblxudmFyIF9sb2cgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3V0aWxzL2xvZ1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSgpIHsgaWYgKHR5cGVvZiBXZWFrTWFwICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybiBudWxsOyB2YXIgY2FjaGUgPSBuZXcgV2Vha01hcCgpOyBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUgPSBmdW5jdGlvbiBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUoKSB7IHJldHVybiBjYWNoZTsgfTsgcmV0dXJuIGNhY2hlOyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gaWYgKG9iaiA9PT0gbnVsbCB8fCBfdHlwZW9mKG9iaikgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG9iaiAhPT0gXCJmdW5jdGlvblwiKSB7IHJldHVybiB7IGRlZmF1bHQ6IG9iaiB9OyB9IHZhciBjYWNoZSA9IF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSgpOyBpZiAoY2FjaGUgJiYgY2FjaGUuaGFzKG9iaikpIHsgcmV0dXJuIGNhY2hlLmdldChvYmopOyB9IHZhciBuZXdPYmogPSB7fTsgdmFyIGhhc1Byb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gaGFzUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiBudWxsOyBpZiAoZGVzYyAmJiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyBpZiAoY2FjaGUpIHsgY2FjaGUuc2V0KG9iaiwgbmV3T2JqKTsgfSByZXR1cm4gbmV3T2JqOyB9XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG4vL1xuLy8gRGVmaW5lIDxEcmFnZ2FibGU+XG4vL1xudmFyIERyYWdnYWJsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoRHJhZ2dhYmxlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKERyYWdnYWJsZSk7XG5cbiAgX2NyZWF0ZUNsYXNzKERyYWdnYWJsZSwgbnVsbCwgW3tcbiAgICBrZXk6IFwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzXCIsXG4gICAgLy8gUmVhY3QgMTYuMytcbiAgICAvLyBBcml0eSAocHJvcHMsIHN0YXRlKVxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoX3JlZiwgX3JlZjIpIHtcbiAgICAgIHZhciBwb3NpdGlvbiA9IF9yZWYucG9zaXRpb247XG4gICAgICB2YXIgcHJldlByb3BzUG9zaXRpb24gPSBfcmVmMi5wcmV2UHJvcHNQb3NpdGlvbjtcblxuICAgICAgLy8gU2V0IHgveSBpZiBhIG5ldyBwb3NpdGlvbiBpcyBwcm92aWRlZCBpbiBwcm9wcyB0aGF0IGlzIGRpZmZlcmVudCB0aGFuIHRoZSBwcmV2aW91cy5cbiAgICAgIGlmIChwb3NpdGlvbiAmJiAoIXByZXZQcm9wc1Bvc2l0aW9uIHx8IHBvc2l0aW9uLnggIT09IHByZXZQcm9wc1Bvc2l0aW9uLnggfHwgcG9zaXRpb24ueSAhPT0gcHJldlByb3BzUG9zaXRpb24ueSkpIHtcbiAgICAgICAgKDAsIF9sb2cuZGVmYXVsdCkoJ0RyYWdnYWJsZTogZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICVqJywge1xuICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgICAgICBwcmV2UHJvcHNQb3NpdGlvbjogcHJldlByb3BzUG9zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgeDogcG9zaXRpb24ueCxcbiAgICAgICAgICB5OiBwb3NpdGlvbi55LFxuICAgICAgICAgIHByZXZQcm9wc1Bvc2l0aW9uOiBfb2JqZWN0U3ByZWFkKHt9LCBwb3NpdGlvbilcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XSk7XG5cbiAgZnVuY3Rpb24gRHJhZ2dhYmxlKHByb3BzXG4gIC8qOiBEcmFnZ2FibGVQcm9wcyovXG4gICkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEcmFnZ2FibGUpO1xuXG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25EcmFnU3RhcnRcIiwgZnVuY3Rpb24gKGUsIGNvcmVEYXRhKSB7XG4gICAgICAoMCwgX2xvZy5kZWZhdWx0KSgnRHJhZ2dhYmxlOiBvbkRyYWdTdGFydDogJWonLCBjb3JlRGF0YSk7IC8vIFNob3J0LWNpcmN1aXQgaWYgdXNlcidzIGNhbGxiYWNrIGtpbGxlZCBpdC5cblxuICAgICAgdmFyIHNob3VsZFN0YXJ0ID0gX3RoaXMucHJvcHMub25TdGFydChlLCAoMCwgX3Bvc2l0aW9uRm5zLmNyZWF0ZURyYWdnYWJsZURhdGEpKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBjb3JlRGF0YSkpOyAvLyBLaWxscyBzdGFydCBldmVudCBvbiBjb3JlIGFzIHdlbGwsIHNvIG1vdmUgaGFuZGxlcnMgYXJlIG5ldmVyIGJvdW5kLlxuXG5cbiAgICAgIGlmIChzaG91bGRTdGFydCA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkcmFnZ2luZzogdHJ1ZSxcbiAgICAgICAgZHJhZ2dlZDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25EcmFnXCIsIGZ1bmN0aW9uIChlLCBjb3JlRGF0YSkge1xuICAgICAgaWYgKCFfdGhpcy5zdGF0ZS5kcmFnZ2luZykgcmV0dXJuIGZhbHNlO1xuICAgICAgKDAsIF9sb2cuZGVmYXVsdCkoJ0RyYWdnYWJsZTogb25EcmFnOiAlaicsIGNvcmVEYXRhKTtcbiAgICAgIHZhciB1aURhdGEgPSAoMCwgX3Bvc2l0aW9uRm5zLmNyZWF0ZURyYWdnYWJsZURhdGEpKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBjb3JlRGF0YSk7XG4gICAgICB2YXIgbmV3U3RhdGVcbiAgICAgIC8qOiAkU2hhcGU8RHJhZ2dhYmxlU3RhdGU+Ki9cbiAgICAgID0ge1xuICAgICAgICB4OiB1aURhdGEueCxcbiAgICAgICAgeTogdWlEYXRhLnlcbiAgICAgIH07IC8vIEtlZXAgd2l0aGluIGJvdW5kcy5cblxuICAgICAgaWYgKF90aGlzLnByb3BzLmJvdW5kcykge1xuICAgICAgICAvLyBTYXZlIG9yaWdpbmFsIHggYW5kIHkuXG4gICAgICAgIHZhciB4ID0gbmV3U3RhdGUueCxcbiAgICAgICAgICAgIHkgPSBuZXdTdGF0ZS55OyAvLyBBZGQgc2xhY2sgdG8gdGhlIHZhbHVlcyB1c2VkIHRvIGNhbGN1bGF0ZSBib3VuZCBwb3NpdGlvbi4gVGhpcyB3aWxsIGVuc3VyZSB0aGF0IGlmXG4gICAgICAgIC8vIHdlIHN0YXJ0IHJlbW92aW5nIHNsYWNrLCB0aGUgZWxlbWVudCB3b24ndCByZWFjdCB0byBpdCByaWdodCBhd2F5IHVudGlsIGl0J3MgYmVlblxuICAgICAgICAvLyBjb21wbGV0ZWx5IHJlbW92ZWQuXG5cbiAgICAgICAgbmV3U3RhdGUueCArPSBfdGhpcy5zdGF0ZS5zbGFja1g7XG4gICAgICAgIG5ld1N0YXRlLnkgKz0gX3RoaXMuc3RhdGUuc2xhY2tZOyAvLyBHZXQgYm91bmQgcG9zaXRpb24uIFRoaXMgd2lsbCBjZWlsL2Zsb29yIHRoZSB4IGFuZCB5IHdpdGhpbiB0aGUgYm91bmRhcmllcy5cblxuICAgICAgICB2YXIgX2dldEJvdW5kUG9zaXRpb24gPSAoMCwgX3Bvc2l0aW9uRm5zLmdldEJvdW5kUG9zaXRpb24pKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBuZXdTdGF0ZS54LCBuZXdTdGF0ZS55KSxcbiAgICAgICAgICAgIF9nZXRCb3VuZFBvc2l0aW9uMiA9IF9zbGljZWRUb0FycmF5KF9nZXRCb3VuZFBvc2l0aW9uLCAyKSxcbiAgICAgICAgICAgIG5ld1N0YXRlWCA9IF9nZXRCb3VuZFBvc2l0aW9uMlswXSxcbiAgICAgICAgICAgIG5ld1N0YXRlWSA9IF9nZXRCb3VuZFBvc2l0aW9uMlsxXTtcblxuICAgICAgICBuZXdTdGF0ZS54ID0gbmV3U3RhdGVYO1xuICAgICAgICBuZXdTdGF0ZS55ID0gbmV3U3RhdGVZOyAvLyBSZWNhbGN1bGF0ZSBzbGFjayBieSBub3RpbmcgaG93IG11Y2ggd2FzIHNoYXZlZCBieSB0aGUgYm91bmRQb3NpdGlvbiBoYW5kbGVyLlxuXG4gICAgICAgIG5ld1N0YXRlLnNsYWNrWCA9IF90aGlzLnN0YXRlLnNsYWNrWCArICh4IC0gbmV3U3RhdGUueCk7XG4gICAgICAgIG5ld1N0YXRlLnNsYWNrWSA9IF90aGlzLnN0YXRlLnNsYWNrWSArICh5IC0gbmV3U3RhdGUueSk7IC8vIFVwZGF0ZSB0aGUgZXZlbnQgd2UgZmlyZSB0byByZWZsZWN0IHdoYXQgcmVhbGx5IGhhcHBlbmVkIGFmdGVyIGJvdW5kcyB0b29rIGVmZmVjdC5cblxuICAgICAgICB1aURhdGEueCA9IG5ld1N0YXRlLng7XG4gICAgICAgIHVpRGF0YS55ID0gbmV3U3RhdGUueTtcbiAgICAgICAgdWlEYXRhLmRlbHRhWCA9IG5ld1N0YXRlLnggLSBfdGhpcy5zdGF0ZS54O1xuICAgICAgICB1aURhdGEuZGVsdGFZID0gbmV3U3RhdGUueSAtIF90aGlzLnN0YXRlLnk7XG4gICAgICB9IC8vIFNob3J0LWNpcmN1aXQgaWYgdXNlcidzIGNhbGxiYWNrIGtpbGxlZCBpdC5cblxuXG4gICAgICB2YXIgc2hvdWxkVXBkYXRlID0gX3RoaXMucHJvcHMub25EcmFnKGUsIHVpRGF0YSk7XG5cbiAgICAgIGlmIChzaG91bGRVcGRhdGUgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkRyYWdTdG9wXCIsIGZ1bmN0aW9uIChlLCBjb3JlRGF0YSkge1xuICAgICAgaWYgKCFfdGhpcy5zdGF0ZS5kcmFnZ2luZykgcmV0dXJuIGZhbHNlOyAvLyBTaG9ydC1jaXJjdWl0IGlmIHVzZXIncyBjYWxsYmFjayBraWxsZWQgaXQuXG5cbiAgICAgIHZhciBzaG91bGRDb250aW51ZSA9IF90aGlzLnByb3BzLm9uU3RvcChlLCAoMCwgX3Bvc2l0aW9uRm5zLmNyZWF0ZURyYWdnYWJsZURhdGEpKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBjb3JlRGF0YSkpO1xuXG4gICAgICBpZiAoc2hvdWxkQ29udGludWUgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG4gICAgICAoMCwgX2xvZy5kZWZhdWx0KSgnRHJhZ2dhYmxlOiBvbkRyYWdTdG9wOiAlaicsIGNvcmVEYXRhKTtcbiAgICAgIHZhciBuZXdTdGF0ZVxuICAgICAgLyo6ICRTaGFwZTxEcmFnZ2FibGVTdGF0ZT4qL1xuICAgICAgPSB7XG4gICAgICAgIGRyYWdnaW5nOiBmYWxzZSxcbiAgICAgICAgc2xhY2tYOiAwLFxuICAgICAgICBzbGFja1k6IDBcbiAgICAgIH07IC8vIElmIHRoaXMgaXMgYSBjb250cm9sbGVkIGNvbXBvbmVudCwgdGhlIHJlc3VsdCBvZiB0aGlzIG9wZXJhdGlvbiB3aWxsIGJlIHRvXG4gICAgICAvLyByZXZlcnQgYmFjayB0byB0aGUgb2xkIHBvc2l0aW9uLiBXZSBleHBlY3QgYSBoYW5kbGVyIG9uIGBvbkRyYWdTdG9wYCwgYXQgdGhlIGxlYXN0LlxuXG4gICAgICB2YXIgY29udHJvbGxlZCA9IEJvb2xlYW4oX3RoaXMucHJvcHMucG9zaXRpb24pO1xuXG4gICAgICBpZiAoY29udHJvbGxlZCkge1xuICAgICAgICB2YXIgX3RoaXMkcHJvcHMkcG9zaXRpb24gPSBfdGhpcy5wcm9wcy5wb3NpdGlvbixcbiAgICAgICAgICAgIHggPSBfdGhpcyRwcm9wcyRwb3NpdGlvbi54LFxuICAgICAgICAgICAgeSA9IF90aGlzJHByb3BzJHBvc2l0aW9uLnk7XG4gICAgICAgIG5ld1N0YXRlLnggPSB4O1xuICAgICAgICBuZXdTdGF0ZS55ID0geTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgIH0pO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAvLyBXaGV0aGVyIG9yIG5vdCB3ZSBhcmUgY3VycmVudGx5IGRyYWdnaW5nLlxuICAgICAgZHJhZ2dpbmc6IGZhbHNlLFxuICAgICAgLy8gV2hldGhlciBvciBub3Qgd2UgaGF2ZSBiZWVuIGRyYWdnZWQgYmVmb3JlLlxuICAgICAgZHJhZ2dlZDogZmFsc2UsXG4gICAgICAvLyBDdXJyZW50IHRyYW5zZm9ybSB4IGFuZCB5LlxuICAgICAgeDogcHJvcHMucG9zaXRpb24gPyBwcm9wcy5wb3NpdGlvbi54IDogcHJvcHMuZGVmYXVsdFBvc2l0aW9uLngsXG4gICAgICB5OiBwcm9wcy5wb3NpdGlvbiA/IHByb3BzLnBvc2l0aW9uLnkgOiBwcm9wcy5kZWZhdWx0UG9zaXRpb24ueSxcbiAgICAgIHByZXZQcm9wc1Bvc2l0aW9uOiBfb2JqZWN0U3ByZWFkKHt9LCBwcm9wcy5wb3NpdGlvbiksXG4gICAgICAvLyBVc2VkIGZvciBjb21wZW5zYXRpbmcgZm9yIG91dC1vZi1ib3VuZHMgZHJhZ3NcbiAgICAgIHNsYWNrWDogMCxcbiAgICAgIHNsYWNrWTogMCxcbiAgICAgIC8vIENhbiBvbmx5IGRldGVybWluZSBpZiBTVkcgYWZ0ZXIgbW91bnRpbmdcbiAgICAgIGlzRWxlbWVudFNWRzogZmFsc2VcbiAgICB9O1xuXG4gICAgaWYgKHByb3BzLnBvc2l0aW9uICYmICEocHJvcHMub25EcmFnIHx8IHByb3BzLm9uU3RvcCkpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oJ0EgYHBvc2l0aW9uYCB3YXMgYXBwbGllZCB0byB0aGlzIDxEcmFnZ2FibGU+LCB3aXRob3V0IGRyYWcgaGFuZGxlcnMuIFRoaXMgd2lsbCBtYWtlIHRoaXMgJyArICdjb21wb25lbnQgZWZmZWN0aXZlbHkgdW5kcmFnZ2FibGUuIFBsZWFzZSBhdHRhY2ggYG9uRHJhZ2Agb3IgYG9uU3RvcGAgaGFuZGxlcnMgc28geW91IGNhbiBhZGp1c3QgdGhlICcgKyAnYHBvc2l0aW9uYCBvZiB0aGlzIGVsZW1lbnQuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKERyYWdnYWJsZSwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhlIGVsZW1lbnQgcGFzc2VkIGlzIGFuIGluc3RhbmNlb2YgU1ZHRWxlbWVudFxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuU1ZHRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5maW5kRE9NTm9kZSgpIGluc3RhbmNlb2Ygd2luZG93LlNWR0VsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNFbGVtZW50U1ZHOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkcmFnZ2luZzogZmFsc2VcbiAgICAgIH0pOyAvLyBwcmV2ZW50cyBpbnZhcmlhbnQgaWYgdW5tb3VudGVkIHdoaWxlIGRyYWdnaW5nXG4gICAgfSAvLyBSZWFjdCBTdHJpY3QgTW9kZSBjb21wYXRpYmlsaXR5OiBpZiBgbm9kZVJlZmAgaXMgcGFzc2VkLCB3ZSB3aWxsIHVzZSBpdCBpbnN0ZWFkIG9mIHRyeWluZyB0byBmaW5kXG4gICAgLy8gdGhlIHVuZGVybHlpbmcgRE9NIG5vZGUgb3Vyc2VsdmVzLiBTZWUgdGhlIFJFQURNRSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblxuICB9LCB7XG4gICAga2V5OiBcImZpbmRET01Ob2RlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmRET01Ob2RlKClcbiAgICAvKjogP0hUTUxFbGVtZW50Ki9cbiAgICB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5ub2RlUmVmID8gdGhpcy5wcm9wcy5ub2RlUmVmLmN1cnJlbnQgOiBfcmVhY3REb20uZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpXG4gICAgLyo6IFJlYWN0RWxlbWVudDxhbnk+Ki9cbiAgICB7XG4gICAgICB2YXIgX2NsYXNzTmFtZXM7XG5cbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYXhpcyA9IF90aGlzJHByb3BzLmF4aXMsXG4gICAgICAgICAgYm91bmRzID0gX3RoaXMkcHJvcHMuYm91bmRzLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgZGVmYXVsdFBvc2l0aW9uID0gX3RoaXMkcHJvcHMuZGVmYXVsdFBvc2l0aW9uLFxuICAgICAgICAgIGRlZmF1bHRDbGFzc05hbWUgPSBfdGhpcyRwcm9wcy5kZWZhdWx0Q2xhc3NOYW1lLFxuICAgICAgICAgIGRlZmF1bHRDbGFzc05hbWVEcmFnZ2luZyA9IF90aGlzJHByb3BzLmRlZmF1bHRDbGFzc05hbWVEcmFnZ2luZyxcbiAgICAgICAgICBkZWZhdWx0Q2xhc3NOYW1lRHJhZ2dlZCA9IF90aGlzJHByb3BzLmRlZmF1bHRDbGFzc05hbWVEcmFnZ2VkLFxuICAgICAgICAgIHBvc2l0aW9uID0gX3RoaXMkcHJvcHMucG9zaXRpb24sXG4gICAgICAgICAgcG9zaXRpb25PZmZzZXQgPSBfdGhpcyRwcm9wcy5wb3NpdGlvbk9mZnNldCxcbiAgICAgICAgICBzY2FsZSA9IF90aGlzJHByb3BzLnNjYWxlLFxuICAgICAgICAgIGRyYWdnYWJsZUNvcmVQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfdGhpcyRwcm9wcywgW1wiYXhpc1wiLCBcImJvdW5kc1wiLCBcImNoaWxkcmVuXCIsIFwiZGVmYXVsdFBvc2l0aW9uXCIsIFwiZGVmYXVsdENsYXNzTmFtZVwiLCBcImRlZmF1bHRDbGFzc05hbWVEcmFnZ2luZ1wiLCBcImRlZmF1bHRDbGFzc05hbWVEcmFnZ2VkXCIsIFwicG9zaXRpb25cIiwgXCJwb3NpdGlvbk9mZnNldFwiLCBcInNjYWxlXCJdKTtcblxuICAgICAgdmFyIHN0eWxlID0ge307XG4gICAgICB2YXIgc3ZnVHJhbnNmb3JtID0gbnVsbDsgLy8gSWYgdGhpcyBpcyBjb250cm9sbGVkLCB3ZSBkb24ndCB3YW50IHRvIG1vdmUgaXQgLSB1bmxlc3MgaXQncyBkcmFnZ2luZy5cblxuICAgICAgdmFyIGNvbnRyb2xsZWQgPSBCb29sZWFuKHBvc2l0aW9uKTtcbiAgICAgIHZhciBkcmFnZ2FibGUgPSAhY29udHJvbGxlZCB8fCB0aGlzLnN0YXRlLmRyYWdnaW5nO1xuICAgICAgdmFyIHZhbGlkUG9zaXRpb24gPSBwb3NpdGlvbiB8fCBkZWZhdWx0UG9zaXRpb247XG4gICAgICB2YXIgdHJhbnNmb3JtT3B0cyA9IHtcbiAgICAgICAgLy8gU2V0IGxlZnQgaWYgaG9yaXpvbnRhbCBkcmFnIGlzIGVuYWJsZWRcbiAgICAgICAgeDogKDAsIF9wb3NpdGlvbkZucy5jYW5EcmFnWCkodGhpcykgJiYgZHJhZ2dhYmxlID8gdGhpcy5zdGF0ZS54IDogdmFsaWRQb3NpdGlvbi54LFxuICAgICAgICAvLyBTZXQgdG9wIGlmIHZlcnRpY2FsIGRyYWcgaXMgZW5hYmxlZFxuICAgICAgICB5OiAoMCwgX3Bvc2l0aW9uRm5zLmNhbkRyYWdZKSh0aGlzKSAmJiBkcmFnZ2FibGUgPyB0aGlzLnN0YXRlLnkgOiB2YWxpZFBvc2l0aW9uLnlcbiAgICAgIH07IC8vIElmIHRoaXMgZWxlbWVudCB3YXMgU1ZHLCB3ZSB1c2UgdGhlIGB0cmFuc2Zvcm1gIGF0dHJpYnV0ZS5cblxuICAgICAgaWYgKHRoaXMuc3RhdGUuaXNFbGVtZW50U1ZHKSB7XG4gICAgICAgIHN2Z1RyYW5zZm9ybSA9ICgwLCBfZG9tRm5zLmNyZWF0ZVNWR1RyYW5zZm9ybSkodHJhbnNmb3JtT3B0cywgcG9zaXRpb25PZmZzZXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQWRkIGEgQ1NTIHRyYW5zZm9ybSB0byBtb3ZlIHRoZSBlbGVtZW50IGFyb3VuZC4gVGhpcyBhbGxvd3MgdXMgdG8gbW92ZSB0aGUgZWxlbWVudCBhcm91bmRcbiAgICAgICAgLy8gd2l0aG91dCB3b3JyeWluZyBhYm91dCB3aGV0aGVyIG9yIG5vdCBpdCBpcyByZWxhdGl2ZWx5IG9yIGFic29sdXRlbHkgcG9zaXRpb25lZC5cbiAgICAgICAgLy8gSWYgdGhlIGl0ZW0geW91IGFyZSBkcmFnZ2luZyBhbHJlYWR5IGhhcyBhIHRyYW5zZm9ybSBzZXQsIHdyYXAgaXQgaW4gYSA8c3Bhbj4gc28gPERyYWdnYWJsZT5cbiAgICAgICAgLy8gaGFzIGEgY2xlYW4gc2xhdGUuXG4gICAgICAgIHN0eWxlID0gKDAsIF9kb21GbnMuY3JlYXRlQ1NTVHJhbnNmb3JtKSh0cmFuc2Zvcm1PcHRzLCBwb3NpdGlvbk9mZnNldCk7XG4gICAgICB9IC8vIE1hcmsgd2l0aCBjbGFzcyB3aGlsZSBkcmFnZ2luZ1xuXG5cbiAgICAgIHZhciBjbGFzc05hbWUgPSAoMCwgX2NsYXNzbmFtZXMuZGVmYXVsdCkoY2hpbGRyZW4ucHJvcHMuY2xhc3NOYW1lIHx8ICcnLCBkZWZhdWx0Q2xhc3NOYW1lLCAoX2NsYXNzTmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBkZWZhdWx0Q2xhc3NOYW1lRHJhZ2dpbmcsIHRoaXMuc3RhdGUuZHJhZ2dpbmcpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIGRlZmF1bHRDbGFzc05hbWVEcmFnZ2VkLCB0aGlzLnN0YXRlLmRyYWdnZWQpLCBfY2xhc3NOYW1lcykpOyAvLyBSZXVzZSB0aGUgY2hpbGQgcHJvdmlkZWRcbiAgICAgIC8vIFRoaXMgbWFrZXMgaXQgZmxleGlibGUgdG8gdXNlIHdoYXRldmVyIGVsZW1lbnQgaXMgd2FudGVkIChkaXYsIHVsLCBldGMpXG5cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfRHJhZ2dhYmxlQ29yZS5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgZHJhZ2dhYmxlQ29yZVByb3BzLCB7XG4gICAgICAgIG9uU3RhcnQ6IHRoaXMub25EcmFnU3RhcnQsXG4gICAgICAgIG9uRHJhZzogdGhpcy5vbkRyYWcsXG4gICAgICAgIG9uU3RvcDogdGhpcy5vbkRyYWdTdG9wXG4gICAgICB9KSwgUmVhY3QuY2xvbmVFbGVtZW50KFJlYWN0LkNoaWxkcmVuLm9ubHkoY2hpbGRyZW4pLCB7XG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICBzdHlsZTogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjaGlsZHJlbi5wcm9wcy5zdHlsZSksIHN0eWxlKSxcbiAgICAgICAgdHJhbnNmb3JtOiBzdmdUcmFuc2Zvcm1cbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRHJhZ2dhYmxlO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBEcmFnZ2FibGU7XG5cbl9kZWZpbmVQcm9wZXJ0eShEcmFnZ2FibGUsIFwiZGlzcGxheU5hbWVcIiwgJ0RyYWdnYWJsZScpO1xuXG5fZGVmaW5lUHJvcGVydHkoRHJhZ2dhYmxlLCBcInByb3BUeXBlc1wiLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF9EcmFnZ2FibGVDb3JlLmRlZmF1bHQucHJvcFR5cGVzKSwge30sIHtcbiAgLyoqXG4gICAqIGBheGlzYCBkZXRlcm1pbmVzIHdoaWNoIGF4aXMgdGhlIGRyYWdnYWJsZSBjYW4gbW92ZS5cbiAgICpcbiAgICogIE5vdGUgdGhhdCBhbGwgY2FsbGJhY2tzIHdpbGwgc3RpbGwgcmV0dXJuIGRhdGEgYXMgbm9ybWFsLiBUaGlzIG9ubHlcbiAgICogIGNvbnRyb2xzIGZsdXNoaW5nIHRvIHRoZSBET00uXG4gICAqXG4gICAqICdib3RoJyBhbGxvd3MgbW92ZW1lbnQgaG9yaXpvbnRhbGx5IGFuZCB2ZXJ0aWNhbGx5LlxuICAgKiAneCcgbGltaXRzIG1vdmVtZW50IHRvIGhvcml6b250YWwgYXhpcy5cbiAgICogJ3knIGxpbWl0cyBtb3ZlbWVudCB0byB2ZXJ0aWNhbCBheGlzLlxuICAgKiAnbm9uZScgbGltaXRzIGFsbCBtb3ZlbWVudC5cbiAgICpcbiAgICogRGVmYXVsdHMgdG8gJ2JvdGgnLlxuICAgKi9cbiAgYXhpczogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mKFsnYm90aCcsICd4JywgJ3knLCAnbm9uZSddKSxcblxuICAvKipcbiAgICogYGJvdW5kc2AgZGV0ZXJtaW5lcyB0aGUgcmFuZ2Ugb2YgbW92ZW1lbnQgYXZhaWxhYmxlIHRvIHRoZSBlbGVtZW50LlxuICAgKiBBdmFpbGFibGUgdmFsdWVzIGFyZTpcbiAgICpcbiAgICogJ3BhcmVudCcgcmVzdHJpY3RzIG1vdmVtZW50IHdpdGhpbiB0aGUgRHJhZ2dhYmxlJ3MgcGFyZW50IG5vZGUuXG4gICAqXG4gICAqIEFsdGVybmF0aXZlbHksIHBhc3MgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzLCBhbGwgb2Ygd2hpY2ggYXJlIG9wdGlvbmFsOlxuICAgKlxuICAgKiB7bGVmdDogTEVGVF9CT1VORCwgcmlnaHQ6IFJJR0hUX0JPVU5ELCBib3R0b206IEJPVFRPTV9CT1VORCwgdG9wOiBUT1BfQk9VTkR9XG4gICAqXG4gICAqIEFsbCB2YWx1ZXMgYXJlIGluIHB4LlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKlxuICAgKiBgYGBqc3hcbiAgICogICBsZXQgQXBwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgKiAgICAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICogICAgICAgICByZXR1cm4gKFxuICAgKiAgICAgICAgICAgIDxEcmFnZ2FibGUgYm91bmRzPXt7cmlnaHQ6IDMwMCwgYm90dG9tOiAzMDB9fT5cbiAgICogICAgICAgICAgICAgIDxkaXY+Q29udGVudDwvZGl2PlxuICAgKiAgICAgICAgICAgPC9EcmFnZ2FibGU+XG4gICAqICAgICAgICAgKTtcbiAgICogICAgICAgfVxuICAgKiAgIH0pO1xuICAgKiBgYGBcbiAgICovXG4gIGJvdW5kczogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlcy5kZWZhdWx0LnNoYXBlKHtcbiAgICBsZWZ0OiBfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLFxuICAgIHJpZ2h0OiBfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLFxuICAgIHRvcDogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlcixcbiAgICBib3R0b206IF9wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXJcbiAgfSksIF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsIF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZihbZmFsc2VdKV0pLFxuICBkZWZhdWx0Q2xhc3NOYW1lOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuICBkZWZhdWx0Q2xhc3NOYW1lRHJhZ2dpbmc6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsXG4gIGRlZmF1bHRDbGFzc05hbWVEcmFnZ2VkOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBgZGVmYXVsdFBvc2l0aW9uYCBzcGVjaWZpZXMgdGhlIHggYW5kIHkgdGhhdCB0aGUgZHJhZ2dlZCBpdGVtIHNob3VsZCBzdGFydCBhdFxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKlxuICAgKiBgYGBqc3hcbiAgICogICAgICBsZXQgQXBwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgKiAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICogICAgICAgICAgICAgIHJldHVybiAoXG4gICAqICAgICAgICAgICAgICAgICAgPERyYWdnYWJsZSBkZWZhdWx0UG9zaXRpb249e3t4OiAyNSwgeTogMjV9fT5cbiAgICogICAgICAgICAgICAgICAgICAgICAgPGRpdj5JIHN0YXJ0IHdpdGggdHJhbnNmb3JtWDogMjVweCBhbmQgdHJhbnNmb3JtWTogMjVweDs8L2Rpdj5cbiAgICogICAgICAgICAgICAgICAgICA8L0RyYWdnYWJsZT5cbiAgICogICAgICAgICAgICAgICk7XG4gICAqICAgICAgICAgIH1cbiAgICogICAgICB9KTtcbiAgICogYGBgXG4gICAqL1xuICBkZWZhdWx0UG9zaXRpb246IF9wcm9wVHlwZXMuZGVmYXVsdC5zaGFwZSh7XG4gICAgeDogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlcixcbiAgICB5OiBfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyXG4gIH0pLFxuICBwb3NpdGlvbk9mZnNldDogX3Byb3BUeXBlcy5kZWZhdWx0LnNoYXBlKHtcbiAgICB4OiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLCBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nXSksXG4gICAgeTogX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlciwgX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZ10pXG4gIH0pLFxuXG4gIC8qKlxuICAgKiBgcG9zaXRpb25gLCBpZiBwcmVzZW50LCBkZWZpbmVzIHRoZSBjdXJyZW50IHBvc2l0aW9uIG9mIHRoZSBlbGVtZW50LlxuICAgKlxuICAgKiAgVGhpcyBpcyBzaW1pbGFyIHRvIGhvdyBmb3JtIGVsZW1lbnRzIGluIFJlYWN0IHdvcmsgLSBpZiBubyBgcG9zaXRpb25gIGlzIHN1cHBsaWVkLCB0aGUgY29tcG9uZW50XG4gICAqICBpcyB1bmNvbnRyb2xsZWQuXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqXG4gICAqIGBgYGpzeFxuICAgKiAgICAgIGxldCBBcHAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAqICAgICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgKiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICogICAgICAgICAgICAgICAgICA8RHJhZ2dhYmxlIHBvc2l0aW9uPXt7eDogMjUsIHk6IDI1fX0+XG4gICAqICAgICAgICAgICAgICAgICAgICAgIDxkaXY+SSBzdGFydCB3aXRoIHRyYW5zZm9ybVg6IDI1cHggYW5kIHRyYW5zZm9ybVk6IDI1cHg7PC9kaXY+XG4gICAqICAgICAgICAgICAgICAgICAgPC9EcmFnZ2FibGU+XG4gICAqICAgICAgICAgICAgICApO1xuICAgKiAgICAgICAgICB9XG4gICAqICAgICAgfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgcG9zaXRpb246IF9wcm9wVHlwZXMuZGVmYXVsdC5zaGFwZSh7XG4gICAgeDogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlcixcbiAgICB5OiBfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyXG4gIH0pLFxuXG4gIC8qKlxuICAgKiBUaGVzZSBwcm9wZXJ0aWVzIHNob3VsZCBiZSBkZWZpbmVkIG9uIHRoZSBjaGlsZCwgbm90IGhlcmUuXG4gICAqL1xuICBjbGFzc05hbWU6IF9zaGltcy5kb250U2V0TWUsXG4gIHN0eWxlOiBfc2hpbXMuZG9udFNldE1lLFxuICB0cmFuc2Zvcm06IF9zaGltcy5kb250U2V0TWVcbn0pKTtcblxuX2RlZmluZVByb3BlcnR5KERyYWdnYWJsZSwgXCJkZWZhdWx0UHJvcHNcIiwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfRHJhZ2dhYmxlQ29yZS5kZWZhdWx0LmRlZmF1bHRQcm9wcyksIHt9LCB7XG4gIGF4aXM6ICdib3RoJyxcbiAgYm91bmRzOiBmYWxzZSxcbiAgZGVmYXVsdENsYXNzTmFtZTogJ3JlYWN0LWRyYWdnYWJsZScsXG4gIGRlZmF1bHRDbGFzc05hbWVEcmFnZ2luZzogJ3JlYWN0LWRyYWdnYWJsZS1kcmFnZ2luZycsXG4gIGRlZmF1bHRDbGFzc05hbWVEcmFnZ2VkOiAncmVhY3QtZHJhZ2dhYmxlLWRyYWdnZWQnLFxuICBkZWZhdWx0UG9zaXRpb246IHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfSxcbiAgcG9zaXRpb246IG51bGwsXG4gIHNjYWxlOiAxXG59KSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBSZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfcHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicHJvcC10eXBlc1wiKSk7XG5cbnZhciBfcmVhY3REb20gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdC1kb21cIikpO1xuXG52YXIgX2RvbUZucyA9IHJlcXVpcmUoXCIuL3V0aWxzL2RvbUZuc1wiKTtcblxudmFyIF9wb3NpdGlvbkZucyA9IHJlcXVpcmUoXCIuL3V0aWxzL3Bvc2l0aW9uRm5zXCIpO1xuXG52YXIgX3NoaW1zID0gcmVxdWlyZShcIi4vdXRpbHMvc2hpbXNcIik7XG5cbnZhciBfbG9nID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91dGlscy9sb2dcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUoKSB7IGlmICh0eXBlb2YgV2Vha01hcCAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gbnVsbDsgdmFyIGNhY2hlID0gbmV3IFdlYWtNYXAoKTsgX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlID0gZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKCkgeyByZXR1cm4gY2FjaGU7IH07IHJldHVybiBjYWNoZTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGlmIChvYmogPT09IG51bGwgfHwgX3R5cGVvZihvYmopICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBvYmogIT09IFwiZnVuY3Rpb25cIikgeyByZXR1cm4geyBkZWZhdWx0OiBvYmogfTsgfSB2YXIgY2FjaGUgPSBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUoKTsgaWYgKGNhY2hlICYmIGNhY2hlLmhhcyhvYmopKSB7IHJldHVybiBjYWNoZS5nZXQob2JqKTsgfSB2YXIgbmV3T2JqID0ge307IHZhciBoYXNQcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IGhhc1Byb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDogbnVsbDsgaWYgKGRlc2MgJiYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgaWYgKGNhY2hlKSB7IGNhY2hlLnNldChvYmosIG5ld09iaik7IH0gcmV0dXJuIG5ld09iajsgfVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG4vLyBTaW1wbGUgYWJzdHJhY3Rpb24gZm9yIGRyYWdnaW5nIGV2ZW50cyBuYW1lcy5cbnZhciBldmVudHNGb3IgPSB7XG4gIHRvdWNoOiB7XG4gICAgc3RhcnQ6ICd0b3VjaHN0YXJ0JyxcbiAgICBtb3ZlOiAndG91Y2htb3ZlJyxcbiAgICBzdG9wOiAndG91Y2hlbmQnXG4gIH0sXG4gIG1vdXNlOiB7XG4gICAgc3RhcnQ6ICdtb3VzZWRvd24nLFxuICAgIG1vdmU6ICdtb3VzZW1vdmUnLFxuICAgIHN0b3A6ICdtb3VzZXVwJ1xuICB9XG59OyAvLyBEZWZhdWx0IHRvIG1vdXNlIGV2ZW50cy5cblxudmFyIGRyYWdFdmVudEZvciA9IGV2ZW50c0Zvci5tb3VzZTtcbi8qOjogdHlwZSBEcmFnZ2FibGVDb3JlU3RhdGUgPSB7XG4gIGRyYWdnaW5nOiBib29sZWFuLFxuICBsYXN0WDogbnVtYmVyLFxuICBsYXN0WTogbnVtYmVyLFxuICB0b3VjaElkZW50aWZpZXI6ID9udW1iZXJcbn07Ki9cblxuLyo6OiBleHBvcnQgdHlwZSBEcmFnZ2FibGVEYXRhID0ge1xuICBub2RlOiBIVE1MRWxlbWVudCxcbiAgeDogbnVtYmVyLCB5OiBudW1iZXIsXG4gIGRlbHRhWDogbnVtYmVyLCBkZWx0YVk6IG51bWJlcixcbiAgbGFzdFg6IG51bWJlciwgbGFzdFk6IG51bWJlcixcbn07Ki9cblxuLyo6OiBleHBvcnQgdHlwZSBEcmFnZ2FibGVFdmVudEhhbmRsZXIgPSAoZTogTW91c2VFdmVudCwgZGF0YTogRHJhZ2dhYmxlRGF0YSkgPT4gdm9pZDsqL1xuXG4vKjo6IGV4cG9ydCB0eXBlIENvbnRyb2xQb3NpdGlvbiA9IHt4OiBudW1iZXIsIHk6IG51bWJlcn07Ki9cblxuLyo6OiBleHBvcnQgdHlwZSBQb3NpdGlvbk9mZnNldENvbnRyb2xQb3NpdGlvbiA9IHt4OiBudW1iZXJ8c3RyaW5nLCB5OiBudW1iZXJ8c3RyaW5nfTsqL1xuXG4vKjo6IGV4cG9ydCB0eXBlIERyYWdnYWJsZUNvcmVQcm9wcyA9IHtcbiAgYWxsb3dBbnlDbGljazogYm9vbGVhbixcbiAgY2FuY2VsOiBzdHJpbmcsXG4gIGNoaWxkcmVuOiBSZWFjdEVsZW1lbnQ8YW55PixcbiAgZGlzYWJsZWQ6IGJvb2xlYW4sXG4gIGVuYWJsZVVzZXJTZWxlY3RIYWNrOiBib29sZWFuLFxuICBvZmZzZXRQYXJlbnQ6IEhUTUxFbGVtZW50LFxuICBncmlkOiBbbnVtYmVyLCBudW1iZXJdLFxuICBoYW5kbGU6IHN0cmluZyxcbiAgbm9kZVJlZj86ID9SZWFjdC5FbGVtZW50UmVmPGFueT4sXG4gIG9uU3RhcnQ6IERyYWdnYWJsZUV2ZW50SGFuZGxlcixcbiAgb25EcmFnOiBEcmFnZ2FibGVFdmVudEhhbmRsZXIsXG4gIG9uU3RvcDogRHJhZ2dhYmxlRXZlbnRIYW5kbGVyLFxuICBvbk1vdXNlRG93bjogKGU6IE1vdXNlRXZlbnQpID0+IHZvaWQsXG4gIHNjYWxlOiBudW1iZXIsXG59OyovXG5cbi8vXG4vLyBEZWZpbmUgPERyYWdnYWJsZUNvcmU+LlxuLy9cbi8vIDxEcmFnZ2FibGVDb3JlPiBpcyBmb3IgYWR2YW5jZWQgdXNhZ2Ugb2YgPERyYWdnYWJsZT4uIEl0IG1haW50YWlucyBtaW5pbWFsIGludGVybmFsIHN0YXRlIHNvIGl0IGNhblxuLy8gd29yayB3ZWxsIHdpdGggbGlicmFyaWVzIHRoYXQgcmVxdWlyZSBtb3JlIGNvbnRyb2wgb3ZlciB0aGUgZWxlbWVudC5cbi8vXG52YXIgRHJhZ2dhYmxlQ29yZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoRHJhZ2dhYmxlQ29yZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihEcmFnZ2FibGVDb3JlKTtcblxuICBmdW5jdGlvbiBEcmFnZ2FibGVDb3JlKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEcmFnZ2FibGVDb3JlKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsLmFwcGx5KF9zdXBlciwgW3RoaXNdLmNvbmNhdChhcmdzKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic3RhdGVcIiwge1xuICAgICAgZHJhZ2dpbmc6IGZhbHNlLFxuICAgICAgLy8gVXNlZCB3aGlsZSBkcmFnZ2luZyB0byBkZXRlcm1pbmUgZGVsdGFzLlxuICAgICAgbGFzdFg6IE5hTixcbiAgICAgIGxhc3RZOiBOYU4sXG4gICAgICB0b3VjaElkZW50aWZpZXI6IG51bGxcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJtb3VudGVkXCIsIGZhbHNlKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJoYW5kbGVEcmFnU3RhcnRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIC8vIE1ha2UgaXQgcG9zc2libGUgdG8gYXR0YWNoIGV2ZW50IGhhbmRsZXJzIG9uIHRvcCBvZiB0aGlzIG9uZS5cbiAgICAgIF90aGlzLnByb3BzLm9uTW91c2VEb3duKGUpOyAvLyBPbmx5IGFjY2VwdCBsZWZ0LWNsaWNrcy5cblxuXG4gICAgICBpZiAoIV90aGlzLnByb3BzLmFsbG93QW55Q2xpY2sgJiYgdHlwZW9mIGUuYnV0dG9uID09PSAnbnVtYmVyJyAmJiBlLmJ1dHRvbiAhPT0gMCkgcmV0dXJuIGZhbHNlOyAvLyBHZXQgbm9kZXMuIEJlIHN1cmUgdG8gZ3JhYiByZWxhdGl2ZSBkb2N1bWVudCAoY291bGQgYmUgaWZyYW1lZClcblxuICAgICAgdmFyIHRoaXNOb2RlID0gX3RoaXMuZmluZERPTU5vZGUoKTtcblxuICAgICAgaWYgKCF0aGlzTm9kZSB8fCAhdGhpc05vZGUub3duZXJEb2N1bWVudCB8fCAhdGhpc05vZGUub3duZXJEb2N1bWVudC5ib2R5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignPERyYWdnYWJsZUNvcmU+IG5vdCBtb3VudGVkIG9uIERyYWdTdGFydCEnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSB0aGlzTm9kZS5vd25lckRvY3VtZW50OyAvLyBTaG9ydCBjaXJjdWl0IGlmIGhhbmRsZSBvciBjYW5jZWwgcHJvcCB3YXMgcHJvdmlkZWQgYW5kIHNlbGVjdG9yIGRvZXNuJ3QgbWF0Y2guXG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5kaXNhYmxlZCB8fCAhKGUudGFyZ2V0IGluc3RhbmNlb2Ygb3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5Ob2RlKSB8fCBfdGhpcy5wcm9wcy5oYW5kbGUgJiYgISgwLCBfZG9tRm5zLm1hdGNoZXNTZWxlY3RvckFuZFBhcmVudHNUbykoZS50YXJnZXQsIF90aGlzLnByb3BzLmhhbmRsZSwgdGhpc05vZGUpIHx8IF90aGlzLnByb3BzLmNhbmNlbCAmJiAoMCwgX2RvbUZucy5tYXRjaGVzU2VsZWN0b3JBbmRQYXJlbnRzVG8pKGUudGFyZ2V0LCBfdGhpcy5wcm9wcy5jYW5jZWwsIHRoaXNOb2RlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIFByZXZlbnQgc2Nyb2xsaW5nIG9uIG1vYmlsZSBkZXZpY2VzLCBsaWtlIGlwYWQvaXBob25lLlxuICAgICAgLy8gSW1wb3J0YW50IHRoYXQgdGhpcyBpcyBhZnRlciBoYW5kbGUvY2FuY2VsLlxuXG5cbiAgICAgIGlmIChlLnR5cGUgPT09ICd0b3VjaHN0YXJ0JykgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBTZXQgdG91Y2ggaWRlbnRpZmllciBpbiBjb21wb25lbnQgc3RhdGUgaWYgdGhpcyBpcyBhIHRvdWNoIGV2ZW50LiBUaGlzIGFsbG93cyB1cyB0b1xuICAgICAgLy8gZGlzdGluZ3Vpc2ggYmV0d2VlbiBpbmRpdmlkdWFsIHRvdWNoZXMgb24gbXVsdGl0b3VjaCBzY3JlZW5zIGJ5IGlkZW50aWZ5aW5nIHdoaWNoXG4gICAgICAvLyB0b3VjaHBvaW50IHdhcyBzZXQgdG8gdGhpcyBlbGVtZW50LlxuXG4gICAgICB2YXIgdG91Y2hJZGVudGlmaWVyID0gKDAsIF9kb21GbnMuZ2V0VG91Y2hJZGVudGlmaWVyKShlKTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICB0b3VjaElkZW50aWZpZXI6IHRvdWNoSWRlbnRpZmllclxuICAgICAgfSk7IC8vIEdldCB0aGUgY3VycmVudCBkcmFnIHBvaW50IGZyb20gdGhlIGV2ZW50LiBUaGlzIGlzIHVzZWQgYXMgdGhlIG9mZnNldC5cblxuXG4gICAgICB2YXIgcG9zaXRpb24gPSAoMCwgX3Bvc2l0aW9uRm5zLmdldENvbnRyb2xQb3NpdGlvbikoZSwgdG91Y2hJZGVudGlmaWVyLCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgICBpZiAocG9zaXRpb24gPT0gbnVsbCkgcmV0dXJuOyAvLyBub3QgcG9zc2libGUgYnV0IHNhdGlzZmllcyBmbG93XG5cbiAgICAgIHZhciB4ID0gcG9zaXRpb24ueCxcbiAgICAgICAgICB5ID0gcG9zaXRpb24ueTsgLy8gQ3JlYXRlIGFuIGV2ZW50IG9iamVjdCB3aXRoIGFsbCB0aGUgZGF0YSBwYXJlbnRzIG5lZWQgdG8gbWFrZSBhIGRlY2lzaW9uIGhlcmUuXG5cbiAgICAgIHZhciBjb3JlRXZlbnQgPSAoMCwgX3Bvc2l0aW9uRm5zLmNyZWF0ZUNvcmVEYXRhKShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgeCwgeSk7XG4gICAgICAoMCwgX2xvZy5kZWZhdWx0KSgnRHJhZ2dhYmxlQ29yZTogaGFuZGxlRHJhZ1N0YXJ0OiAlaicsIGNvcmVFdmVudCk7IC8vIENhbGwgZXZlbnQgaGFuZGxlci4gSWYgaXQgcmV0dXJucyBleHBsaWNpdCBmYWxzZSwgY2FuY2VsLlxuXG4gICAgICAoMCwgX2xvZy5kZWZhdWx0KSgnY2FsbGluZycsIF90aGlzLnByb3BzLm9uU3RhcnQpO1xuXG4gICAgICB2YXIgc2hvdWxkVXBkYXRlID0gX3RoaXMucHJvcHMub25TdGFydChlLCBjb3JlRXZlbnQpO1xuXG4gICAgICBpZiAoc2hvdWxkVXBkYXRlID09PSBmYWxzZSB8fCBfdGhpcy5tb3VudGVkID09PSBmYWxzZSkgcmV0dXJuOyAvLyBBZGQgYSBzdHlsZSB0byB0aGUgYm9keSB0byBkaXNhYmxlIHVzZXItc2VsZWN0LiBUaGlzIHByZXZlbnRzIHRleHQgZnJvbVxuICAgICAgLy8gYmVpbmcgc2VsZWN0ZWQgYWxsIG92ZXIgdGhlIHBhZ2UuXG5cbiAgICAgIGlmIChfdGhpcy5wcm9wcy5lbmFibGVVc2VyU2VsZWN0SGFjaykgKDAsIF9kb21GbnMuYWRkVXNlclNlbGVjdFN0eWxlcykob3duZXJEb2N1bWVudCk7IC8vIEluaXRpYXRlIGRyYWdnaW5nLiBTZXQgdGhlIGN1cnJlbnQgeCBhbmQgeSBhcyBvZmZzZXRzXG4gICAgICAvLyBzbyB3ZSBrbm93IGhvdyBtdWNoIHdlJ3ZlIG1vdmVkIGR1cmluZyB0aGUgZHJhZy4gVGhpcyBhbGxvd3MgdXNcbiAgICAgIC8vIHRvIGRyYWcgZWxlbWVudHMgYXJvdW5kIGV2ZW4gaWYgdGhleSBoYXZlIGJlZW4gbW92ZWQsIHdpdGhvdXQgaXNzdWUuXG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZHJhZ2dpbmc6IHRydWUsXG4gICAgICAgIGxhc3RYOiB4LFxuICAgICAgICBsYXN0WTogeVxuICAgICAgfSk7IC8vIEFkZCBldmVudHMgdG8gdGhlIGRvY3VtZW50IGRpcmVjdGx5IHNvIHdlIGNhdGNoIHdoZW4gdGhlIHVzZXIncyBtb3VzZS90b3VjaCBtb3ZlcyBvdXRzaWRlIG9mXG4gICAgICAvLyB0aGlzIGVsZW1lbnQuIFdlIHVzZSBkaWZmZXJlbnQgZXZlbnRzIGRlcGVuZGluZyBvbiB3aGV0aGVyIG9yIG5vdCB3ZSBoYXZlIGRldGVjdGVkIHRoYXQgdGhpc1xuICAgICAgLy8gaXMgYSB0b3VjaC1jYXBhYmxlIGRldmljZS5cblxuXG4gICAgICAoMCwgX2RvbUZucy5hZGRFdmVudCkob3duZXJEb2N1bWVudCwgZHJhZ0V2ZW50Rm9yLm1vdmUsIF90aGlzLmhhbmRsZURyYWcpO1xuICAgICAgKDAsIF9kb21GbnMuYWRkRXZlbnQpKG93bmVyRG9jdW1lbnQsIGRyYWdFdmVudEZvci5zdG9wLCBfdGhpcy5oYW5kbGVEcmFnU3RvcCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiaGFuZGxlRHJhZ1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IGRyYWcgcG9pbnQgZnJvbSB0aGUgZXZlbnQuIFRoaXMgaXMgdXNlZCBhcyB0aGUgb2Zmc2V0LlxuICAgICAgdmFyIHBvc2l0aW9uID0gKDAsIF9wb3NpdGlvbkZucy5nZXRDb250cm9sUG9zaXRpb24pKGUsIF90aGlzLnN0YXRlLnRvdWNoSWRlbnRpZmllciwgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuICAgICAgaWYgKHBvc2l0aW9uID09IG51bGwpIHJldHVybjtcbiAgICAgIHZhciB4ID0gcG9zaXRpb24ueCxcbiAgICAgICAgICB5ID0gcG9zaXRpb24ueTsgLy8gU25hcCB0byBncmlkIGlmIHByb3AgaGFzIGJlZW4gcHJvdmlkZWRcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoX3RoaXMucHJvcHMuZ3JpZCkpIHtcbiAgICAgICAgdmFyIGRlbHRhWCA9IHggLSBfdGhpcy5zdGF0ZS5sYXN0WCxcbiAgICAgICAgICAgIGRlbHRhWSA9IHkgLSBfdGhpcy5zdGF0ZS5sYXN0WTtcblxuICAgICAgICB2YXIgX3NuYXBUb0dyaWQgPSAoMCwgX3Bvc2l0aW9uRm5zLnNuYXBUb0dyaWQpKF90aGlzLnByb3BzLmdyaWQsIGRlbHRhWCwgZGVsdGFZKTtcblxuICAgICAgICB2YXIgX3NuYXBUb0dyaWQyID0gX3NsaWNlZFRvQXJyYXkoX3NuYXBUb0dyaWQsIDIpO1xuXG4gICAgICAgIGRlbHRhWCA9IF9zbmFwVG9HcmlkMlswXTtcbiAgICAgICAgZGVsdGFZID0gX3NuYXBUb0dyaWQyWzFdO1xuICAgICAgICBpZiAoIWRlbHRhWCAmJiAhZGVsdGFZKSByZXR1cm47IC8vIHNraXAgdXNlbGVzcyBkcmFnXG5cbiAgICAgICAgeCA9IF90aGlzLnN0YXRlLmxhc3RYICsgZGVsdGFYLCB5ID0gX3RoaXMuc3RhdGUubGFzdFkgKyBkZWx0YVk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjb3JlRXZlbnQgPSAoMCwgX3Bvc2l0aW9uRm5zLmNyZWF0ZUNvcmVEYXRhKShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgeCwgeSk7XG4gICAgICAoMCwgX2xvZy5kZWZhdWx0KSgnRHJhZ2dhYmxlQ29yZTogaGFuZGxlRHJhZzogJWonLCBjb3JlRXZlbnQpOyAvLyBDYWxsIGV2ZW50IGhhbmRsZXIuIElmIGl0IHJldHVybnMgZXhwbGljaXQgZmFsc2UsIHRyaWdnZXIgZW5kLlxuXG4gICAgICB2YXIgc2hvdWxkVXBkYXRlID0gX3RoaXMucHJvcHMub25EcmFnKGUsIGNvcmVFdmVudCk7XG5cbiAgICAgIGlmIChzaG91bGRVcGRhdGUgPT09IGZhbHNlIHx8IF90aGlzLm1vdW50ZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gJEZsb3dJZ25vcmVcbiAgICAgICAgICBfdGhpcy5oYW5kbGVEcmFnU3RvcChuZXcgTW91c2VFdmVudCgnbW91c2V1cCcpKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgLy8gT2xkIGJyb3dzZXJzXG4gICAgICAgICAgdmFyIGV2ZW50ID0gKChkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKVxuICAgICAgICAgIC8qOiBhbnkqL1xuICAgICAgICAgIClcbiAgICAgICAgICAvKjogTW91c2VUb3VjaEV2ZW50Ki9cbiAgICAgICAgICApOyAvLyBJIHNlZSB3aHkgdGhpcyBpbnNhbml0eSB3YXMgZGVwcmVjYXRlZFxuICAgICAgICAgIC8vICRGbG93SWdub3JlXG5cbiAgICAgICAgICBldmVudC5pbml0TW91c2VFdmVudCgnbW91c2V1cCcsIHRydWUsIHRydWUsIHdpbmRvdywgMCwgMCwgMCwgMCwgMCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpO1xuXG4gICAgICAgICAgX3RoaXMuaGFuZGxlRHJhZ1N0b3AoZXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGxhc3RYOiB4LFxuICAgICAgICBsYXN0WTogeVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiaGFuZGxlRHJhZ1N0b3BcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICghX3RoaXMuc3RhdGUuZHJhZ2dpbmcpIHJldHVybjtcbiAgICAgIHZhciBwb3NpdGlvbiA9ICgwLCBfcG9zaXRpb25GbnMuZ2V0Q29udHJvbFBvc2l0aW9uKShlLCBfdGhpcy5zdGF0ZS50b3VjaElkZW50aWZpZXIsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICAgIGlmIChwb3NpdGlvbiA9PSBudWxsKSByZXR1cm47XG4gICAgICB2YXIgeCA9IHBvc2l0aW9uLngsXG4gICAgICAgICAgeSA9IHBvc2l0aW9uLnk7XG4gICAgICB2YXIgY29yZUV2ZW50ID0gKDAsIF9wb3NpdGlvbkZucy5jcmVhdGVDb3JlRGF0YSkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIHgsIHkpOyAvLyBDYWxsIGV2ZW50IGhhbmRsZXJcblxuICAgICAgdmFyIHNob3VsZENvbnRpbnVlID0gX3RoaXMucHJvcHMub25TdG9wKGUsIGNvcmVFdmVudCk7XG5cbiAgICAgIGlmIChzaG91bGRDb250aW51ZSA9PT0gZmFsc2UgfHwgX3RoaXMubW91bnRlZCA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcblxuICAgICAgdmFyIHRoaXNOb2RlID0gX3RoaXMuZmluZERPTU5vZGUoKTtcblxuICAgICAgaWYgKHRoaXNOb2RlKSB7XG4gICAgICAgIC8vIFJlbW92ZSB1c2VyLXNlbGVjdCBoYWNrXG4gICAgICAgIGlmIChfdGhpcy5wcm9wcy5lbmFibGVVc2VyU2VsZWN0SGFjaykgKDAsIF9kb21GbnMucmVtb3ZlVXNlclNlbGVjdFN0eWxlcykodGhpc05vZGUub3duZXJEb2N1bWVudCk7XG4gICAgICB9XG5cbiAgICAgICgwLCBfbG9nLmRlZmF1bHQpKCdEcmFnZ2FibGVDb3JlOiBoYW5kbGVEcmFnU3RvcDogJWonLCBjb3JlRXZlbnQpOyAvLyBSZXNldCB0aGUgZWwuXG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZHJhZ2dpbmc6IGZhbHNlLFxuICAgICAgICBsYXN0WDogTmFOLFxuICAgICAgICBsYXN0WTogTmFOXG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXNOb2RlKSB7XG4gICAgICAgIC8vIFJlbW92ZSBldmVudCBoYW5kbGVyc1xuICAgICAgICAoMCwgX2xvZy5kZWZhdWx0KSgnRHJhZ2dhYmxlQ29yZTogUmVtb3ZpbmcgaGFuZGxlcnMnKTtcbiAgICAgICAgKDAsIF9kb21GbnMucmVtb3ZlRXZlbnQpKHRoaXNOb2RlLm93bmVyRG9jdW1lbnQsIGRyYWdFdmVudEZvci5tb3ZlLCBfdGhpcy5oYW5kbGVEcmFnKTtcbiAgICAgICAgKDAsIF9kb21GbnMucmVtb3ZlRXZlbnQpKHRoaXNOb2RlLm93bmVyRG9jdW1lbnQsIGRyYWdFdmVudEZvci5zdG9wLCBfdGhpcy5oYW5kbGVEcmFnU3RvcCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25Nb3VzZURvd25cIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGRyYWdFdmVudEZvciA9IGV2ZW50c0Zvci5tb3VzZTsgLy8gb24gdG91Y2hzY3JlZW4gbGFwdG9wcyB3ZSBjb3VsZCBzd2l0Y2ggYmFjayB0byBtb3VzZVxuXG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlRHJhZ1N0YXJ0KGUpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uTW91c2VVcFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZHJhZ0V2ZW50Rm9yID0gZXZlbnRzRm9yLm1vdXNlO1xuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZURyYWdTdG9wKGUpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uVG91Y2hTdGFydFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgLy8gV2UncmUgb24gYSB0b3VjaCBkZXZpY2Ugbm93LCBzbyBjaGFuZ2UgdGhlIGV2ZW50IGhhbmRsZXJzXG4gICAgICBkcmFnRXZlbnRGb3IgPSBldmVudHNGb3IudG91Y2g7XG4gICAgICByZXR1cm4gX3RoaXMuaGFuZGxlRHJhZ1N0YXJ0KGUpO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uVG91Y2hFbmRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIC8vIFdlJ3JlIG9uIGEgdG91Y2ggZGV2aWNlIG5vdywgc28gY2hhbmdlIHRoZSBldmVudCBoYW5kbGVyc1xuICAgICAgZHJhZ0V2ZW50Rm9yID0gZXZlbnRzRm9yLnRvdWNoO1xuICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZURyYWdTdG9wKGUpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKERyYWdnYWJsZUNvcmUsIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdGhpcy5tb3VudGVkID0gdHJ1ZTsgLy8gVG91Y2ggaGFuZGxlcnMgbXVzdCBiZSBhZGRlZCB3aXRoIHtwYXNzaXZlOiBmYWxzZX0gdG8gYmUgY2FuY2VsYWJsZS5cbiAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3dlYi91cGRhdGVzLzIwMTcvMDEvc2Nyb2xsaW5nLWludGVydmVudGlvblxuXG4gICAgICB2YXIgdGhpc05vZGUgPSB0aGlzLmZpbmRET01Ob2RlKCk7XG5cbiAgICAgIGlmICh0aGlzTm9kZSkge1xuICAgICAgICAoMCwgX2RvbUZucy5hZGRFdmVudCkodGhpc05vZGUsIGV2ZW50c0Zvci50b3VjaC5zdGFydCwgdGhpcy5vblRvdWNoU3RhcnQsIHtcbiAgICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50V2lsbFVubW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICB0aGlzLm1vdW50ZWQgPSBmYWxzZTsgLy8gUmVtb3ZlIGFueSBsZWZ0b3ZlciBldmVudCBoYW5kbGVycy4gUmVtb3ZlIGJvdGggdG91Y2ggYW5kIG1vdXNlIGhhbmRsZXJzIGluIGNhc2VcbiAgICAgIC8vIHNvbWUgYnJvd3NlciBxdWlyayBjYXVzZWQgYSB0b3VjaCBldmVudCB0byBmaXJlIGR1cmluZyBhIG1vdXNlIG1vdmUsIG9yIHZpY2UgdmVyc2EuXG5cbiAgICAgIHZhciB0aGlzTm9kZSA9IHRoaXMuZmluZERPTU5vZGUoKTtcblxuICAgICAgaWYgKHRoaXNOb2RlKSB7XG4gICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gdGhpc05vZGUub3duZXJEb2N1bWVudDtcbiAgICAgICAgKDAsIF9kb21GbnMucmVtb3ZlRXZlbnQpKG93bmVyRG9jdW1lbnQsIGV2ZW50c0Zvci5tb3VzZS5tb3ZlLCB0aGlzLmhhbmRsZURyYWcpO1xuICAgICAgICAoMCwgX2RvbUZucy5yZW1vdmVFdmVudCkob3duZXJEb2N1bWVudCwgZXZlbnRzRm9yLnRvdWNoLm1vdmUsIHRoaXMuaGFuZGxlRHJhZyk7XG4gICAgICAgICgwLCBfZG9tRm5zLnJlbW92ZUV2ZW50KShvd25lckRvY3VtZW50LCBldmVudHNGb3IubW91c2Uuc3RvcCwgdGhpcy5oYW5kbGVEcmFnU3RvcCk7XG4gICAgICAgICgwLCBfZG9tRm5zLnJlbW92ZUV2ZW50KShvd25lckRvY3VtZW50LCBldmVudHNGb3IudG91Y2guc3RvcCwgdGhpcy5oYW5kbGVEcmFnU3RvcCk7XG4gICAgICAgICgwLCBfZG9tRm5zLnJlbW92ZUV2ZW50KSh0aGlzTm9kZSwgZXZlbnRzRm9yLnRvdWNoLnN0YXJ0LCB0aGlzLm9uVG91Y2hTdGFydCwge1xuICAgICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5lbmFibGVVc2VyU2VsZWN0SGFjaykgKDAsIF9kb21GbnMucmVtb3ZlVXNlclNlbGVjdFN0eWxlcykob3duZXJEb2N1bWVudCk7XG4gICAgICB9XG4gICAgfSAvLyBSZWFjdCBTdHJpY3QgTW9kZSBjb21wYXRpYmlsaXR5OiBpZiBgbm9kZVJlZmAgaXMgcGFzc2VkLCB3ZSB3aWxsIHVzZSBpdCBpbnN0ZWFkIG9mIHRyeWluZyB0byBmaW5kXG4gICAgLy8gdGhlIHVuZGVybHlpbmcgRE9NIG5vZGUgb3Vyc2VsdmVzLiBTZWUgdGhlIFJFQURNRSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblxuICB9LCB7XG4gICAga2V5OiBcImZpbmRET01Ob2RlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmRET01Ob2RlKClcbiAgICAvKjogP0hUTUxFbGVtZW50Ki9cbiAgICB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5ub2RlUmVmID8gdGhpcy5wcm9wcy5ub2RlUmVmLmN1cnJlbnQgOiBfcmVhY3REb20uZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIC8vIFJldXNlIHRoZSBjaGlsZCBwcm92aWRlZFxuICAgICAgLy8gVGhpcyBtYWtlcyBpdCBmbGV4aWJsZSB0byB1c2Ugd2hhdGV2ZXIgZWxlbWVudCBpcyB3YW50ZWQgKGRpdiwgdWwsIGV0YylcbiAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoUmVhY3QuQ2hpbGRyZW4ub25seSh0aGlzLnByb3BzLmNoaWxkcmVuKSwge1xuICAgICAgICAvLyBOb3RlOiBtb3VzZU1vdmUgaGFuZGxlciBpcyBhdHRhY2hlZCB0byBkb2N1bWVudCBzbyBpdCB3aWxsIHN0aWxsIGZ1bmN0aW9uXG4gICAgICAgIC8vIHdoZW4gdGhlIHVzZXIgZHJhZ3MgcXVpY2tseSBhbmQgbGVhdmVzIHRoZSBib3VuZHMgb2YgdGhlIGVsZW1lbnQuXG4gICAgICAgIG9uTW91c2VEb3duOiB0aGlzLm9uTW91c2VEb3duLFxuICAgICAgICBvbk1vdXNlVXA6IHRoaXMub25Nb3VzZVVwLFxuICAgICAgICAvLyBvblRvdWNoU3RhcnQgaXMgYWRkZWQgb24gYGNvbXBvbmVudERpZE1vdW50YCBzbyB0aGV5IGNhbiBiZSBhZGRlZCB3aXRoXG4gICAgICAgIC8vIHtwYXNzaXZlOiBmYWxzZX0sIHdoaWNoIGFsbG93cyBpdCB0byBjYW5jZWwuIFNlZSBcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vd2ViL3VwZGF0ZXMvMjAxNy8wMS9zY3JvbGxpbmctaW50ZXJ2ZW50aW9uXG4gICAgICAgIG9uVG91Y2hFbmQ6IHRoaXMub25Ub3VjaEVuZFxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIERyYWdnYWJsZUNvcmU7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IERyYWdnYWJsZUNvcmU7XG5cbl9kZWZpbmVQcm9wZXJ0eShEcmFnZ2FibGVDb3JlLCBcImRpc3BsYXlOYW1lXCIsICdEcmFnZ2FibGVDb3JlJyk7XG5cbl9kZWZpbmVQcm9wZXJ0eShEcmFnZ2FibGVDb3JlLCBcInByb3BUeXBlc1wiLCB7XG4gIC8qKlxuICAgKiBgYWxsb3dBbnlDbGlja2AgYWxsb3dzIGRyYWdnaW5nIHVzaW5nIGFueSBtb3VzZSBidXR0b24uXG4gICAqIEJ5IGRlZmF1bHQsIHdlIG9ubHkgYWNjZXB0IHRoZSBsZWZ0IGJ1dHRvbi5cbiAgICpcbiAgICogRGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAgICovXG4gIGFsbG93QW55Q2xpY2s6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLFxuXG4gIC8qKlxuICAgKiBgZGlzYWJsZWRgLCBpZiB0cnVlLCBzdG9wcyB0aGUgPERyYWdnYWJsZT4gZnJvbSBkcmFnZ2luZy4gQWxsIGhhbmRsZXJzLFxuICAgKiB3aXRoIHRoZSBleGNlcHRpb24gb2YgYG9uTW91c2VEb3duYCwgd2lsbCBub3QgZmlyZS5cbiAgICovXG4gIGRpc2FibGVkOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbCxcblxuICAvKipcbiAgICogQnkgZGVmYXVsdCwgd2UgYWRkICd1c2VyLXNlbGVjdDpub25lJyBhdHRyaWJ1dGVzIHRvIHRoZSBkb2N1bWVudCBib2R5XG4gICAqIHRvIHByZXZlbnQgdWdseSB0ZXh0IHNlbGVjdGlvbiBkdXJpbmcgZHJhZy4gSWYgdGhpcyBpcyBjYXVzaW5nIHByb2JsZW1zXG4gICAqIGZvciB5b3VyIGFwcCwgc2V0IHRoaXMgdG8gYGZhbHNlYC5cbiAgICovXG4gIGVuYWJsZVVzZXJTZWxlY3RIYWNrOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbCxcblxuICAvKipcbiAgICogYG9mZnNldFBhcmVudGAsIGlmIHNldCwgdXNlcyB0aGUgcGFzc2VkIERPTSBub2RlIHRvIGNvbXB1dGUgZHJhZyBvZmZzZXRzXG4gICAqIGluc3RlYWQgb2YgdXNpbmcgdGhlIHBhcmVudCBub2RlLlxuICAgKi9cbiAgb2Zmc2V0UGFyZW50OiBmdW5jdGlvbiBvZmZzZXRQYXJlbnQocHJvcHNcbiAgLyo6IERyYWdnYWJsZUNvcmVQcm9wcyovXG4gICwgcHJvcE5hbWVcbiAgLyo6ICRLZXlzPERyYWdnYWJsZUNvcmVQcm9wcz4qL1xuICApIHtcbiAgICBpZiAocHJvcHNbcHJvcE5hbWVdICYmIHByb3BzW3Byb3BOYW1lXS5ub2RlVHlwZSAhPT0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdEcmFnZ2FibGVcXCdzIG9mZnNldFBhcmVudCBtdXN0IGJlIGEgRE9NIE5vZGUuJyk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBgZ3JpZGAgc3BlY2lmaWVzIHRoZSB4IGFuZCB5IHRoYXQgZHJhZ2dpbmcgc2hvdWxkIHNuYXAgdG8uXG4gICAqL1xuICBncmlkOiBfcHJvcFR5cGVzLmRlZmF1bHQuYXJyYXlPZihfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyKSxcblxuICAvKipcbiAgICogYGhhbmRsZWAgc3BlY2lmaWVzIGEgc2VsZWN0b3IgdG8gYmUgdXNlZCBhcyB0aGUgaGFuZGxlIHRoYXQgaW5pdGlhdGVzIGRyYWcuXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqXG4gICAqIGBgYGpzeFxuICAgKiAgIGxldCBBcHAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAqICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgKiAgICAgICAgIHJldHVybiAoXG4gICAqICAgICAgICAgICAgPERyYWdnYWJsZSBoYW5kbGU9XCIuaGFuZGxlXCI+XG4gICAqICAgICAgICAgICAgICA8ZGl2PlxuICAgKiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGFuZGxlXCI+Q2xpY2sgbWUgdG8gZHJhZzwvZGl2PlxuICAgKiAgICAgICAgICAgICAgICAgIDxkaXY+VGhpcyBpcyBzb21lIG90aGVyIGNvbnRlbnQ8L2Rpdj5cbiAgICogICAgICAgICAgICAgIDwvZGl2PlxuICAgKiAgICAgICAgICAgPC9EcmFnZ2FibGU+XG4gICAqICAgICAgICAgKTtcbiAgICogICAgICAgfVxuICAgKiAgIH0pO1xuICAgKiBgYGBcbiAgICovXG4gIGhhbmRsZTogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZyxcblxuICAvKipcbiAgICogYGNhbmNlbGAgc3BlY2lmaWVzIGEgc2VsZWN0b3IgdG8gYmUgdXNlZCB0byBwcmV2ZW50IGRyYWcgaW5pdGlhbGl6YXRpb24uXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqXG4gICAqIGBgYGpzeFxuICAgKiAgIGxldCBBcHAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAqICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgKiAgICAgICAgICAgcmV0dXJuKFxuICAgKiAgICAgICAgICAgICAgIDxEcmFnZ2FibGUgY2FuY2VsPVwiLmNhbmNlbFwiPlxuICAgKiAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgKiAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FuY2VsXCI+WW91IGNhbid0IGRyYWcgZnJvbSBoZXJlPC9kaXY+XG4gICAqICAgICAgICAgICAgICAgICAgICAgPGRpdj5EcmFnZ2luZyBoZXJlIHdvcmtzIGZpbmU8L2Rpdj5cbiAgICogICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAqICAgICAgICAgICAgICAgPC9EcmFnZ2FibGU+XG4gICAqICAgICAgICAgICApO1xuICAgKiAgICAgICB9XG4gICAqICAgfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgY2FuY2VsOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuXG4gIC8qIElmIHJ1bm5pbmcgaW4gUmVhY3QgU3RyaWN0IG1vZGUsIFJlYWN0RE9NLmZpbmRET01Ob2RlKCkgaXMgZGVwcmVjYXRlZC5cbiAgICogVW5mb3J0dW5hdGVseSwgaW4gb3JkZXIgZm9yIDxEcmFnZ2FibGU+IHRvIHdvcmsgcHJvcGVybHksIHdlIG5lZWQgcmF3IGFjY2Vzc1xuICAgKiB0byB0aGUgdW5kZXJseWluZyBET00gbm9kZS4gSWYgeW91IHdhbnQgdG8gYXZvaWQgdGhlIHdhcm5pbmcsIHBhc3MgYSBgbm9kZVJlZmBcbiAgICogYXMgaW4gdGhpcyBleGFtcGxlOlxuICAgKlxuICAgKiBmdW5jdGlvbiBNeUNvbXBvbmVudCgpIHtcbiAgICogICBjb25zdCBub2RlUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgKiAgIHJldHVybiAoXG4gICAqICAgICA8RHJhZ2dhYmxlIG5vZGVSZWY9e25vZGVSZWZ9PlxuICAgKiAgICAgICA8ZGl2IHJlZj17bm9kZVJlZn0+RXhhbXBsZSBUYXJnZXQ8L2Rpdj5cbiAgICogICAgIDwvRHJhZ2dhYmxlPlxuICAgKiAgICk7XG4gICAqIH1cbiAgICpcbiAgICogVGhpcyBjYW4gYmUgdXNlZCBmb3IgYXJiaXRyYXJpbHkgbmVzdGVkIGNvbXBvbmVudHMsIHNvIGxvbmcgYXMgdGhlIHJlZiBlbmRzIHVwXG4gICAqIHBvaW50aW5nIHRvIHRoZSBhY3R1YWwgY2hpbGQgRE9NIG5vZGUgYW5kIG5vdCBhIGN1c3RvbSBjb21wb25lbnQuXG4gICAqL1xuICBub2RlUmVmOiBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0LFxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBkcmFnZ2luZyBzdGFydHMuXG4gICAqIElmIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgYm9vbGVhbiBmYWxzZSwgZHJhZ2dpbmcgd2lsbCBiZSBjYW5jZWxlZC5cbiAgICovXG4gIG9uU3RhcnQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hpbGUgZHJhZ2dpbmcuXG4gICAqIElmIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgYm9vbGVhbiBmYWxzZSwgZHJhZ2dpbmcgd2lsbCBiZSBjYW5jZWxlZC5cbiAgICovXG4gIG9uRHJhZzogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGRyYWdnaW5nIHN0b3BzLlxuICAgKiBJZiB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIGJvb2xlYW4gZmFsc2UsIHRoZSBkcmFnIHdpbGwgcmVtYWluIGFjdGl2ZS5cbiAgICovXG4gIG9uU3RvcDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG5cbiAgLyoqXG4gICAqIEEgd29ya2Fyb3VuZCBvcHRpb24gd2hpY2ggY2FuIGJlIHBhc3NlZCBpZiBvbk1vdXNlRG93biBuZWVkcyB0byBiZSBhY2Nlc3NlZCxcbiAgICogc2luY2UgaXQnbGwgYWx3YXlzIGJlIGJsb2NrZWQgKGFzIHRoZXJlIGlzIGludGVybmFsIHVzZSBvZiBvbk1vdXNlRG93bilcbiAgICovXG4gIG9uTW91c2VEb3duOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcblxuICAvKipcbiAgICogYHNjYWxlYCwgaWYgc2V0LCBhcHBsaWVzIHNjYWxpbmcgd2hpbGUgZHJhZ2dpbmcgYW4gZWxlbWVudFxuICAgKi9cbiAgc2NhbGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIsXG5cbiAgLyoqXG4gICAqIFRoZXNlIHByb3BlcnRpZXMgc2hvdWxkIGJlIGRlZmluZWQgb24gdGhlIGNoaWxkLCBub3QgaGVyZS5cbiAgICovXG4gIGNsYXNzTmFtZTogX3NoaW1zLmRvbnRTZXRNZSxcbiAgc3R5bGU6IF9zaGltcy5kb250U2V0TWUsXG4gIHRyYW5zZm9ybTogX3NoaW1zLmRvbnRTZXRNZVxufSk7XG5cbl9kZWZpbmVQcm9wZXJ0eShEcmFnZ2FibGVDb3JlLCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGFsbG93QW55Q2xpY2s6IGZhbHNlLFxuICAvLyBieSBkZWZhdWx0IG9ubHkgYWNjZXB0IGxlZnQgY2xpY2tcbiAgY2FuY2VsOiBudWxsLFxuICBkaXNhYmxlZDogZmFsc2UsXG4gIGVuYWJsZVVzZXJTZWxlY3RIYWNrOiB0cnVlLFxuICBvZmZzZXRQYXJlbnQ6IG51bGwsXG4gIGhhbmRsZTogbnVsbCxcbiAgZ3JpZDogbnVsbCxcbiAgdHJhbnNmb3JtOiBudWxsLFxuICBvblN0YXJ0OiBmdW5jdGlvbiBvblN0YXJ0KCkge30sXG4gIG9uRHJhZzogZnVuY3Rpb24gb25EcmFnKCkge30sXG4gIG9uU3RvcDogZnVuY3Rpb24gb25TdG9wKCkge30sXG4gIG9uTW91c2VEb3duOiBmdW5jdGlvbiBvbk1vdXNlRG93bigpIHt9LFxuICBzY2FsZTogMVxufSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJy4vRHJhZ2dhYmxlJyksXG4gICAgRHJhZ2dhYmxlID0gX3JlcXVpcmUuZGVmYXVsdCxcbiAgICBEcmFnZ2FibGVDb3JlID0gX3JlcXVpcmUuRHJhZ2dhYmxlQ29yZTsgLy8gUHJldmlvdXMgdmVyc2lvbnMgb2YgdGhpcyBsaWIgZXhwb3J0ZWQgPERyYWdnYWJsZT4gYXMgdGhlIHJvb3QgZXhwb3J0LiBBcyB0byBuby0vLyB0aGVtLCBvciBUeXBlU2NyaXB0LCB3ZSBleHBvcnQgKmJvdGgqIGFzIHRoZSByb290IGFuZCBhcyAnZGVmYXVsdCcuXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL216YWJyaXNraWUvcmVhY3QtZHJhZ2dhYmxlL3B1bGwvMjU0XG4vLyBhbmQgaHR0cHM6Ly9naXRodWIuY29tL216YWJyaXNraWUvcmVhY3QtZHJhZ2dhYmxlL2lzc3Vlcy8yNjZcblxuXG5tb2R1bGUuZXhwb3J0cyA9IERyYWdnYWJsZTtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBEcmFnZ2FibGU7XG5tb2R1bGUuZXhwb3J0cy5EcmFnZ2FibGVDb3JlID0gRHJhZ2dhYmxlQ29yZTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5tYXRjaGVzU2VsZWN0b3IgPSBtYXRjaGVzU2VsZWN0b3I7XG5leHBvcnRzLm1hdGNoZXNTZWxlY3RvckFuZFBhcmVudHNUbyA9IG1hdGNoZXNTZWxlY3RvckFuZFBhcmVudHNUbztcbmV4cG9ydHMuYWRkRXZlbnQgPSBhZGRFdmVudDtcbmV4cG9ydHMucmVtb3ZlRXZlbnQgPSByZW1vdmVFdmVudDtcbmV4cG9ydHMub3V0ZXJIZWlnaHQgPSBvdXRlckhlaWdodDtcbmV4cG9ydHMub3V0ZXJXaWR0aCA9IG91dGVyV2lkdGg7XG5leHBvcnRzLmlubmVySGVpZ2h0ID0gaW5uZXJIZWlnaHQ7XG5leHBvcnRzLmlubmVyV2lkdGggPSBpbm5lcldpZHRoO1xuZXhwb3J0cy5vZmZzZXRYWUZyb21QYXJlbnQgPSBvZmZzZXRYWUZyb21QYXJlbnQ7XG5leHBvcnRzLmNyZWF0ZUNTU1RyYW5zZm9ybSA9IGNyZWF0ZUNTU1RyYW5zZm9ybTtcbmV4cG9ydHMuY3JlYXRlU1ZHVHJhbnNmb3JtID0gY3JlYXRlU1ZHVHJhbnNmb3JtO1xuZXhwb3J0cy5nZXRUcmFuc2xhdGlvbiA9IGdldFRyYW5zbGF0aW9uO1xuZXhwb3J0cy5nZXRUb3VjaCA9IGdldFRvdWNoO1xuZXhwb3J0cy5nZXRUb3VjaElkZW50aWZpZXIgPSBnZXRUb3VjaElkZW50aWZpZXI7XG5leHBvcnRzLmFkZFVzZXJTZWxlY3RTdHlsZXMgPSBhZGRVc2VyU2VsZWN0U3R5bGVzO1xuZXhwb3J0cy5yZW1vdmVVc2VyU2VsZWN0U3R5bGVzID0gcmVtb3ZlVXNlclNlbGVjdFN0eWxlcztcbmV4cG9ydHMuYWRkQ2xhc3NOYW1lID0gYWRkQ2xhc3NOYW1lO1xuZXhwb3J0cy5yZW1vdmVDbGFzc05hbWUgPSByZW1vdmVDbGFzc05hbWU7XG5cbnZhciBfc2hpbXMgPSByZXF1aXJlKFwiLi9zaGltc1wiKTtcblxudmFyIF9nZXRQcmVmaXggPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwiLi9nZXRQcmVmaXhcIikpO1xuXG5mdW5jdGlvbiBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUoKSB7IGlmICh0eXBlb2YgV2Vha01hcCAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gbnVsbDsgdmFyIGNhY2hlID0gbmV3IFdlYWtNYXAoKTsgX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlID0gZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKCkgeyByZXR1cm4gY2FjaGU7IH07IHJldHVybiBjYWNoZTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGlmIChvYmogPT09IG51bGwgfHwgX3R5cGVvZihvYmopICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBvYmogIT09IFwiZnVuY3Rpb25cIikgeyByZXR1cm4geyBkZWZhdWx0OiBvYmogfTsgfSB2YXIgY2FjaGUgPSBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUoKTsgaWYgKGNhY2hlICYmIGNhY2hlLmhhcyhvYmopKSB7IHJldHVybiBjYWNoZS5nZXQob2JqKTsgfSB2YXIgbmV3T2JqID0ge307IHZhciBoYXNQcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IGhhc1Byb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDogbnVsbDsgaWYgKGRlc2MgJiYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgaWYgKGNhY2hlKSB7IGNhY2hlLnNldChvYmosIG5ld09iaik7IH0gcmV0dXJuIG5ld09iajsgfVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxudmFyIG1hdGNoZXNTZWxlY3RvckZ1bmMgPSAnJztcblxuZnVuY3Rpb24gbWF0Y2hlc1NlbGVjdG9yKGVsXG4vKjogTm9kZSovXG4sIHNlbGVjdG9yXG4vKjogc3RyaW5nKi9cbilcbi8qOiBib29sZWFuKi9cbntcbiAgaWYgKCFtYXRjaGVzU2VsZWN0b3JGdW5jKSB7XG4gICAgbWF0Y2hlc1NlbGVjdG9yRnVuYyA9ICgwLCBfc2hpbXMuZmluZEluQXJyYXkpKFsnbWF0Y2hlcycsICd3ZWJraXRNYXRjaGVzU2VsZWN0b3InLCAnbW96TWF0Y2hlc1NlbGVjdG9yJywgJ21zTWF0Y2hlc1NlbGVjdG9yJywgJ29NYXRjaGVzU2VsZWN0b3InXSwgZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgLy8gJEZsb3dJZ25vcmU6IERvZXNuJ3QgdGhpbmsgZWxlbWVudHMgYXJlIGluZGV4YWJsZVxuICAgICAgcmV0dXJuICgwLCBfc2hpbXMuaXNGdW5jdGlvbikoZWxbbWV0aG9kXSk7XG4gICAgfSk7XG4gIH0gLy8gTWlnaHQgbm90IGJlIGZvdW5kIGVudGlyZWx5IChub3QgYW4gRWxlbWVudD8pIC0gaW4gdGhhdCBjYXNlLCBiYWlsXG4gIC8vICRGbG93SWdub3JlOiBEb2Vzbid0IHRoaW5rIGVsZW1lbnRzIGFyZSBpbmRleGFibGVcblxuXG4gIGlmICghKDAsIF9zaGltcy5pc0Z1bmN0aW9uKShlbFttYXRjaGVzU2VsZWN0b3JGdW5jXSkpIHJldHVybiBmYWxzZTsgLy8gJEZsb3dJZ25vcmU6IERvZXNuJ3QgdGhpbmsgZWxlbWVudHMgYXJlIGluZGV4YWJsZVxuXG4gIHJldHVybiBlbFttYXRjaGVzU2VsZWN0b3JGdW5jXShzZWxlY3Rvcik7XG59IC8vIFdvcmtzIHVwIHRoZSB0cmVlIHRvIHRoZSBkcmFnZ2FibGUgaXRzZWxmIGF0dGVtcHRpbmcgdG8gbWF0Y2ggc2VsZWN0b3IuXG5cblxuZnVuY3Rpb24gbWF0Y2hlc1NlbGVjdG9yQW5kUGFyZW50c1RvKGVsXG4vKjogTm9kZSovXG4sIHNlbGVjdG9yXG4vKjogc3RyaW5nKi9cbiwgYmFzZU5vZGVcbi8qOiBOb2RlKi9cbilcbi8qOiBib29sZWFuKi9cbntcbiAgdmFyIG5vZGUgPSBlbDtcblxuICBkbyB7XG4gICAgaWYgKG1hdGNoZXNTZWxlY3Rvcihub2RlLCBzZWxlY3RvcikpIHJldHVybiB0cnVlO1xuICAgIGlmIChub2RlID09PSBiYXNlTm9kZSkgcmV0dXJuIGZhbHNlO1xuICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gIH0gd2hpbGUgKG5vZGUpO1xuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gYWRkRXZlbnQoZWxcbi8qOiA/Tm9kZSovXG4sIGV2ZW50XG4vKjogc3RyaW5nKi9cbiwgaGFuZGxlclxuLyo6IEZ1bmN0aW9uKi9cbiwgaW5wdXRPcHRpb25zXG4vKjogT2JqZWN0Ki9cbilcbi8qOiB2b2lkKi9cbntcbiAgaWYgKCFlbCkgcmV0dXJuO1xuXG4gIHZhciBvcHRpb25zID0gX29iamVjdFNwcmVhZCh7XG4gICAgY2FwdHVyZTogdHJ1ZVxuICB9LCBpbnB1dE9wdGlvbnMpO1xuXG4gIGlmIChlbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG4gIH0gZWxzZSBpZiAoZWwuYXR0YWNoRXZlbnQpIHtcbiAgICBlbC5hdHRhY2hFdmVudCgnb24nICsgZXZlbnQsIGhhbmRsZXIpO1xuICB9IGVsc2Uge1xuICAgIC8vICRGbG93SWdub3JlOiBEb2Vzbid0IHRoaW5rIGVsZW1lbnRzIGFyZSBpbmRleGFibGVcbiAgICBlbFsnb24nICsgZXZlbnRdID0gaGFuZGxlcjtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVFdmVudChlbFxuLyo6ID9Ob2RlKi9cbiwgZXZlbnRcbi8qOiBzdHJpbmcqL1xuLCBoYW5kbGVyXG4vKjogRnVuY3Rpb24qL1xuLCBpbnB1dE9wdGlvbnNcbi8qOiBPYmplY3QqL1xuKVxuLyo6IHZvaWQqL1xue1xuICBpZiAoIWVsKSByZXR1cm47XG5cbiAgdmFyIG9wdGlvbnMgPSBfb2JqZWN0U3ByZWFkKHtcbiAgICBjYXB0dXJlOiB0cnVlXG4gIH0sIGlucHV0T3B0aW9ucyk7XG5cbiAgaWYgKGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgfSBlbHNlIGlmIChlbC5kZXRhY2hFdmVudCkge1xuICAgIGVsLmRldGFjaEV2ZW50KCdvbicgKyBldmVudCwgaGFuZGxlcik7XG4gIH0gZWxzZSB7XG4gICAgLy8gJEZsb3dJZ25vcmU6IERvZXNuJ3QgdGhpbmsgZWxlbWVudHMgYXJlIGluZGV4YWJsZVxuICAgIGVsWydvbicgKyBldmVudF0gPSBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIG91dGVySGVpZ2h0KG5vZGVcbi8qOiBIVE1MRWxlbWVudCovXG4pXG4vKjogbnVtYmVyKi9cbntcbiAgLy8gVGhpcyBpcyBkZWxpYmVyYXRlbHkgZXhjbHVkaW5nIG1hcmdpbiBmb3Igb3VyIGNhbGN1bGF0aW9ucywgc2luY2Ugd2UgYXJlIHVzaW5nXG4gIC8vIG9mZnNldFRvcCB3aGljaCBpcyBpbmNsdWRpbmcgbWFyZ2luLiBTZWUgZ2V0Qm91bmRQb3NpdGlvblxuICB2YXIgaGVpZ2h0ID0gbm9kZS5jbGllbnRIZWlnaHQ7XG4gIHZhciBjb21wdXRlZFN0eWxlID0gbm9kZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gIGhlaWdodCArPSAoMCwgX3NoaW1zLmludCkoY29tcHV0ZWRTdHlsZS5ib3JkZXJUb3BXaWR0aCk7XG4gIGhlaWdodCArPSAoMCwgX3NoaW1zLmludCkoY29tcHV0ZWRTdHlsZS5ib3JkZXJCb3R0b21XaWR0aCk7XG4gIHJldHVybiBoZWlnaHQ7XG59XG5cbmZ1bmN0aW9uIG91dGVyV2lkdGgobm9kZVxuLyo6IEhUTUxFbGVtZW50Ki9cbilcbi8qOiBudW1iZXIqL1xue1xuICAvLyBUaGlzIGlzIGRlbGliZXJhdGVseSBleGNsdWRpbmcgbWFyZ2luIGZvciBvdXIgY2FsY3VsYXRpb25zLCBzaW5jZSB3ZSBhcmUgdXNpbmdcbiAgLy8gb2Zmc2V0TGVmdCB3aGljaCBpcyBpbmNsdWRpbmcgbWFyZ2luLiBTZWUgZ2V0Qm91bmRQb3NpdGlvblxuICB2YXIgd2lkdGggPSBub2RlLmNsaWVudFdpZHRoO1xuICB2YXIgY29tcHV0ZWRTdHlsZSA9IG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICB3aWR0aCArPSAoMCwgX3NoaW1zLmludCkoY29tcHV0ZWRTdHlsZS5ib3JkZXJMZWZ0V2lkdGgpO1xuICB3aWR0aCArPSAoMCwgX3NoaW1zLmludCkoY29tcHV0ZWRTdHlsZS5ib3JkZXJSaWdodFdpZHRoKTtcbiAgcmV0dXJuIHdpZHRoO1xufVxuXG5mdW5jdGlvbiBpbm5lckhlaWdodChub2RlXG4vKjogSFRNTEVsZW1lbnQqL1xuKVxuLyo6IG51bWJlciovXG57XG4gIHZhciBoZWlnaHQgPSBub2RlLmNsaWVudEhlaWdodDtcbiAgdmFyIGNvbXB1dGVkU3R5bGUgPSBub2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgaGVpZ2h0IC09ICgwLCBfc2hpbXMuaW50KShjb21wdXRlZFN0eWxlLnBhZGRpbmdUb3ApO1xuICBoZWlnaHQgLT0gKDAsIF9zaGltcy5pbnQpKGNvbXB1dGVkU3R5bGUucGFkZGluZ0JvdHRvbSk7XG4gIHJldHVybiBoZWlnaHQ7XG59XG5cbmZ1bmN0aW9uIGlubmVyV2lkdGgobm9kZVxuLyo6IEhUTUxFbGVtZW50Ki9cbilcbi8qOiBudW1iZXIqL1xue1xuICB2YXIgd2lkdGggPSBub2RlLmNsaWVudFdpZHRoO1xuICB2YXIgY29tcHV0ZWRTdHlsZSA9IG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICB3aWR0aCAtPSAoMCwgX3NoaW1zLmludCkoY29tcHV0ZWRTdHlsZS5wYWRkaW5nTGVmdCk7XG4gIHdpZHRoIC09ICgwLCBfc2hpbXMuaW50KShjb21wdXRlZFN0eWxlLnBhZGRpbmdSaWdodCk7XG4gIHJldHVybiB3aWR0aDtcbn0gLy8gR2V0IGZyb20gb2Zmc2V0UGFyZW50XG5cblxuZnVuY3Rpb24gb2Zmc2V0WFlGcm9tUGFyZW50KGV2dFxuLyo6IHtjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlcn0qL1xuLCBvZmZzZXRQYXJlbnRcbi8qOiBIVE1MRWxlbWVudCovXG4sIHNjYWxlXG4vKjogbnVtYmVyKi9cbilcbi8qOiBDb250cm9sUG9zaXRpb24qL1xue1xuICB2YXIgaXNCb2R5ID0gb2Zmc2V0UGFyZW50ID09PSBvZmZzZXRQYXJlbnQub3duZXJEb2N1bWVudC5ib2R5O1xuICB2YXIgb2Zmc2V0UGFyZW50UmVjdCA9IGlzQm9keSA/IHtcbiAgICBsZWZ0OiAwLFxuICAgIHRvcDogMFxuICB9IDogb2Zmc2V0UGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgeCA9IChldnQuY2xpZW50WCArIG9mZnNldFBhcmVudC5zY3JvbGxMZWZ0IC0gb2Zmc2V0UGFyZW50UmVjdC5sZWZ0KSAvIHNjYWxlO1xuICB2YXIgeSA9IChldnQuY2xpZW50WSArIG9mZnNldFBhcmVudC5zY3JvbGxUb3AgLSBvZmZzZXRQYXJlbnRSZWN0LnRvcCkgLyBzY2FsZTtcbiAgcmV0dXJuIHtcbiAgICB4OiB4LFxuICAgIHk6IHlcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ1NTVHJhbnNmb3JtKGNvbnRyb2xQb3Ncbi8qOiBDb250cm9sUG9zaXRpb24qL1xuLCBwb3NpdGlvbk9mZnNldFxuLyo6IFBvc2l0aW9uT2Zmc2V0Q29udHJvbFBvc2l0aW9uKi9cbilcbi8qOiBPYmplY3QqL1xue1xuICB2YXIgdHJhbnNsYXRpb24gPSBnZXRUcmFuc2xhdGlvbihjb250cm9sUG9zLCBwb3NpdGlvbk9mZnNldCwgJ3B4Jyk7XG4gIHJldHVybiBfZGVmaW5lUHJvcGVydHkoe30sICgwLCBfZ2V0UHJlZml4LmJyb3dzZXJQcmVmaXhUb0tleSkoJ3RyYW5zZm9ybScsIF9nZXRQcmVmaXguZGVmYXVsdCksIHRyYW5zbGF0aW9uKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlU1ZHVHJhbnNmb3JtKGNvbnRyb2xQb3Ncbi8qOiBDb250cm9sUG9zaXRpb24qL1xuLCBwb3NpdGlvbk9mZnNldFxuLyo6IFBvc2l0aW9uT2Zmc2V0Q29udHJvbFBvc2l0aW9uKi9cbilcbi8qOiBzdHJpbmcqL1xue1xuICB2YXIgdHJhbnNsYXRpb24gPSBnZXRUcmFuc2xhdGlvbihjb250cm9sUG9zLCBwb3NpdGlvbk9mZnNldCwgJycpO1xuICByZXR1cm4gdHJhbnNsYXRpb247XG59XG5cbmZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKF9yZWYyLCBwb3NpdGlvbk9mZnNldFxuLyo6IFBvc2l0aW9uT2Zmc2V0Q29udHJvbFBvc2l0aW9uKi9cbiwgdW5pdFN1ZmZpeFxuLyo6IHN0cmluZyovXG4pXG4vKjogc3RyaW5nKi9cbntcbiAgdmFyIHggPSBfcmVmMi54LFxuICAgICAgeSA9IF9yZWYyLnk7XG4gIHZhciB0cmFuc2xhdGlvbiA9IFwidHJhbnNsYXRlKFwiLmNvbmNhdCh4KS5jb25jYXQodW5pdFN1ZmZpeCwgXCIsXCIpLmNvbmNhdCh5KS5jb25jYXQodW5pdFN1ZmZpeCwgXCIpXCIpO1xuXG4gIGlmIChwb3NpdGlvbk9mZnNldCkge1xuICAgIHZhciBkZWZhdWx0WCA9IFwiXCIuY29uY2F0KHR5cGVvZiBwb3NpdGlvbk9mZnNldC54ID09PSAnc3RyaW5nJyA/IHBvc2l0aW9uT2Zmc2V0LnggOiBwb3NpdGlvbk9mZnNldC54ICsgdW5pdFN1ZmZpeCk7XG4gICAgdmFyIGRlZmF1bHRZID0gXCJcIi5jb25jYXQodHlwZW9mIHBvc2l0aW9uT2Zmc2V0LnkgPT09ICdzdHJpbmcnID8gcG9zaXRpb25PZmZzZXQueSA6IHBvc2l0aW9uT2Zmc2V0LnkgKyB1bml0U3VmZml4KTtcbiAgICB0cmFuc2xhdGlvbiA9IFwidHJhbnNsYXRlKFwiLmNvbmNhdChkZWZhdWx0WCwgXCIsIFwiKS5jb25jYXQoZGVmYXVsdFksIFwiKVwiKSArIHRyYW5zbGF0aW9uO1xuICB9XG5cbiAgcmV0dXJuIHRyYW5zbGF0aW9uO1xufVxuXG5mdW5jdGlvbiBnZXRUb3VjaChlXG4vKjogTW91c2VUb3VjaEV2ZW50Ki9cbiwgaWRlbnRpZmllclxuLyo6IG51bWJlciovXG4pXG4vKjogP3tjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlcn0qL1xue1xuICByZXR1cm4gZS50YXJnZXRUb3VjaGVzICYmICgwLCBfc2hpbXMuZmluZEluQXJyYXkpKGUudGFyZ2V0VG91Y2hlcywgZnVuY3Rpb24gKHQpIHtcbiAgICByZXR1cm4gaWRlbnRpZmllciA9PT0gdC5pZGVudGlmaWVyO1xuICB9KSB8fCBlLmNoYW5nZWRUb3VjaGVzICYmICgwLCBfc2hpbXMuZmluZEluQXJyYXkpKGUuY2hhbmdlZFRvdWNoZXMsIGZ1bmN0aW9uICh0KSB7XG4gICAgcmV0dXJuIGlkZW50aWZpZXIgPT09IHQuaWRlbnRpZmllcjtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldFRvdWNoSWRlbnRpZmllcihlXG4vKjogTW91c2VUb3VjaEV2ZW50Ki9cbilcbi8qOiA/bnVtYmVyKi9cbntcbiAgaWYgKGUudGFyZ2V0VG91Y2hlcyAmJiBlLnRhcmdldFRvdWNoZXNbMF0pIHJldHVybiBlLnRhcmdldFRvdWNoZXNbMF0uaWRlbnRpZmllcjtcbiAgaWYgKGUuY2hhbmdlZFRvdWNoZXMgJiYgZS5jaGFuZ2VkVG91Y2hlc1swXSkgcmV0dXJuIGUuY2hhbmdlZFRvdWNoZXNbMF0uaWRlbnRpZmllcjtcbn0gLy8gVXNlci1zZWxlY3QgSGFja3M6XG4vL1xuLy8gVXNlZnVsIGZvciBwcmV2ZW50aW5nIGJsdWUgaGlnaGxpZ2h0cyBhbGwgb3ZlciBldmVyeXRoaW5nIHdoZW4gZHJhZ2dpbmcuXG4vLyBOb3RlIHdlJ3JlIHBhc3NpbmcgYGRvY3VtZW50YCBiL2Mgd2UgY291bGQgYmUgaWZyYW1lZFxuXG5cbmZ1bmN0aW9uIGFkZFVzZXJTZWxlY3RTdHlsZXMoZG9jXG4vKjogP0RvY3VtZW50Ki9cbikge1xuICBpZiAoIWRvYykgcmV0dXJuO1xuICB2YXIgc3R5bGVFbCA9IGRvYy5nZXRFbGVtZW50QnlJZCgncmVhY3QtZHJhZ2dhYmxlLXN0eWxlLWVsJyk7XG5cbiAgaWYgKCFzdHlsZUVsKSB7XG4gICAgc3R5bGVFbCA9IGRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlRWwudHlwZSA9ICd0ZXh0L2Nzcyc7XG4gICAgc3R5bGVFbC5pZCA9ICdyZWFjdC1kcmFnZ2FibGUtc3R5bGUtZWwnO1xuICAgIHN0eWxlRWwuaW5uZXJIVE1MID0gJy5yZWFjdC1kcmFnZ2FibGUtdHJhbnNwYXJlbnQtc2VsZWN0aW9uICo6Oi1tb3otc2VsZWN0aW9uIHthbGw6IGluaGVyaXQ7fVxcbic7XG4gICAgc3R5bGVFbC5pbm5lckhUTUwgKz0gJy5yZWFjdC1kcmFnZ2FibGUtdHJhbnNwYXJlbnQtc2VsZWN0aW9uICo6OnNlbGVjdGlvbiB7YWxsOiBpbmhlcml0O31cXG4nO1xuICAgIGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHN0eWxlRWwpO1xuICB9XG5cbiAgaWYgKGRvYy5ib2R5KSBhZGRDbGFzc05hbWUoZG9jLmJvZHksICdyZWFjdC1kcmFnZ2FibGUtdHJhbnNwYXJlbnQtc2VsZWN0aW9uJyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVVzZXJTZWxlY3RTdHlsZXMoZG9jXG4vKjogP0RvY3VtZW50Ki9cbikge1xuICBpZiAoIWRvYykgcmV0dXJuO1xuXG4gIHRyeSB7XG4gICAgaWYgKGRvYy5ib2R5KSByZW1vdmVDbGFzc05hbWUoZG9jLmJvZHksICdyZWFjdC1kcmFnZ2FibGUtdHJhbnNwYXJlbnQtc2VsZWN0aW9uJyk7IC8vICRGbG93SWdub3JlOiBJRVxuXG4gICAgaWYgKGRvYy5zZWxlY3Rpb24pIHtcbiAgICAgIC8vICRGbG93SWdub3JlOiBJRVxuICAgICAgZG9jLnNlbGVjdGlvbi5lbXB0eSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZW1vdmUgc2VsZWN0aW9uIGNhdXNlZCBieSBzY3JvbGwsIHVubGVzcyBpdCdzIGEgZm9jdXNlZCBpbnB1dFxuICAgICAgLy8gKHdlIHVzZSBkb2MuZGVmYXVsdFZpZXcgaW4gY2FzZSB3ZSdyZSBpbiBhbiBpZnJhbWUpXG4gICAgICB2YXIgc2VsZWN0aW9uID0gKGRvYy5kZWZhdWx0VmlldyB8fCB3aW5kb3cpLmdldFNlbGVjdGlvbigpO1xuXG4gICAgICBpZiAoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi50eXBlICE9PSAnQ2FyZXQnKSB7XG4gICAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHsvLyBwcm9iYWJseSBJRVxuICB9XG59XG5cbmZ1bmN0aW9uIGFkZENsYXNzTmFtZShlbFxuLyo6IEhUTUxFbGVtZW50Ki9cbiwgY2xhc3NOYW1lXG4vKjogc3RyaW5nKi9cbikge1xuICBpZiAoZWwuY2xhc3NMaXN0KSB7XG4gICAgZWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICB9IGVsc2Uge1xuICAgIGlmICghZWwuY2xhc3NOYW1lLm1hdGNoKG5ldyBSZWdFeHAoXCIoPzpefFxcXFxzKVwiLmNvbmNhdChjbGFzc05hbWUsIFwiKD8hXFxcXFMpXCIpKSkpIHtcbiAgICAgIGVsLmNsYXNzTmFtZSArPSBcIiBcIi5jb25jYXQoY2xhc3NOYW1lKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2xhc3NOYW1lKGVsXG4vKjogSFRNTEVsZW1lbnQqL1xuLCBjbGFzc05hbWVcbi8qOiBzdHJpbmcqL1xuKSB7XG4gIGlmIChlbC5jbGFzc0xpc3QpIHtcbiAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cChcIig/Ol58XFxcXHMpXCIuY29uY2F0KGNsYXNzTmFtZSwgXCIoPyFcXFxcUylcIiksICdnJyksICcnKTtcbiAgfVxufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5nZXRQcmVmaXggPSBnZXRQcmVmaXg7XG5leHBvcnRzLmJyb3dzZXJQcmVmaXhUb0tleSA9IGJyb3dzZXJQcmVmaXhUb0tleTtcbmV4cG9ydHMuYnJvd3NlclByZWZpeFRvU3R5bGUgPSBicm93c2VyUHJlZml4VG9TdHlsZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcbnZhciBwcmVmaXhlcyA9IFsnTW96JywgJ1dlYmtpdCcsICdPJywgJ21zJ107XG5cbmZ1bmN0aW9uIGdldFByZWZpeCgpXG4vKjogc3RyaW5nKi9cbntcbiAgdmFyIHByb3BcbiAgLyo6IHN0cmluZyovXG4gID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAndHJhbnNmb3JtJztcbiAgLy8gQ2hlY2tpbmcgc3BlY2lmaWNhbGx5IGZvciAnd2luZG93LmRvY3VtZW50JyBpcyBmb3IgcHNldWRvLWJyb3dzZXIgc2VydmVyLXNpZGVcbiAgLy8gZW52aXJvbm1lbnRzIHRoYXQgZGVmaW5lICd3aW5kb3cnIGFzIHRoZSBnbG9iYWwgY29udGV4dC5cbiAgLy8gRS5nLiBSZWFjdC1yYWlscyAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXJhaWxzL3B1bGwvODQpXG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2Ygd2luZG93LmRvY3VtZW50ID09PSAndW5kZWZpbmVkJykgcmV0dXJuICcnO1xuICB2YXIgc3R5bGUgPSB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO1xuICBpZiAocHJvcCBpbiBzdHlsZSkgcmV0dXJuICcnO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYnJvd3NlclByZWZpeFRvS2V5KHByb3AsIHByZWZpeGVzW2ldKSBpbiBzdHlsZSkgcmV0dXJuIHByZWZpeGVzW2ldO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG5mdW5jdGlvbiBicm93c2VyUHJlZml4VG9LZXkocHJvcFxuLyo6IHN0cmluZyovXG4sIHByZWZpeFxuLyo6IHN0cmluZyovXG4pXG4vKjogc3RyaW5nKi9cbntcbiAgcmV0dXJuIHByZWZpeCA/IFwiXCIuY29uY2F0KHByZWZpeCkuY29uY2F0KGtlYmFiVG9UaXRsZUNhc2UocHJvcCkpIDogcHJvcDtcbn1cblxuZnVuY3Rpb24gYnJvd3NlclByZWZpeFRvU3R5bGUocHJvcFxuLyo6IHN0cmluZyovXG4sIHByZWZpeFxuLyo6IHN0cmluZyovXG4pXG4vKjogc3RyaW5nKi9cbntcbiAgcmV0dXJuIHByZWZpeCA/IFwiLVwiLmNvbmNhdChwcmVmaXgudG9Mb3dlckNhc2UoKSwgXCItXCIpLmNvbmNhdChwcm9wKSA6IHByb3A7XG59XG5cbmZ1bmN0aW9uIGtlYmFiVG9UaXRsZUNhc2Uoc3RyXG4vKjogc3RyaW5nKi9cbilcbi8qOiBzdHJpbmcqL1xue1xuICB2YXIgb3V0ID0gJyc7XG4gIHZhciBzaG91bGRDYXBpdGFsaXplID0gdHJ1ZTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzaG91bGRDYXBpdGFsaXplKSB7XG4gICAgICBvdXQgKz0gc3RyW2ldLnRvVXBwZXJDYXNlKCk7XG4gICAgICBzaG91bGRDYXBpdGFsaXplID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChzdHJbaV0gPT09ICctJykge1xuICAgICAgc2hvdWxkQ2FwaXRhbGl6ZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSBzdHJbaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG91dDtcbn0gLy8gRGVmYXVsdCBleHBvcnQgaXMgdGhlIHByZWZpeCBpdHNlbGYsIGxpa2UgJ01veicsICdXZWJraXQnLCBldGNcbi8vIE5vdGUgdGhhdCB5b3UgbWF5IGhhdmUgdG8gcmUtdGVzdCBmb3IgY2VydGFpbiB0aGluZ3M7IGZvciBpbnN0YW5jZSwgQ2hyb21lIDUwXG4vLyBjYW4gaGFuZGxlIHVucHJlZml4ZWQgYHRyYW5zZm9ybWAsIGJ1dCBub3QgdW5wcmVmaXhlZCBgdXNlci1zZWxlY3RgXG5cblxudmFyIF9kZWZhdWx0ID0gZ2V0UHJlZml4KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gbG9nO1xuXG4vKmVzbGludCBuby1jb25zb2xlOjAqL1xuZnVuY3Rpb24gbG9nKCkge1xuICB2YXIgX2NvbnNvbGU7XG5cbiAgaWYgKHVuZGVmaW5lZCkgKF9jb25zb2xlID0gY29uc29sZSkubG9nLmFwcGx5KF9jb25zb2xlLCBhcmd1bWVudHMpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5nZXRCb3VuZFBvc2l0aW9uID0gZ2V0Qm91bmRQb3NpdGlvbjtcbmV4cG9ydHMuc25hcFRvR3JpZCA9IHNuYXBUb0dyaWQ7XG5leHBvcnRzLmNhbkRyYWdYID0gY2FuRHJhZ1g7XG5leHBvcnRzLmNhbkRyYWdZID0gY2FuRHJhZ1k7XG5leHBvcnRzLmdldENvbnRyb2xQb3NpdGlvbiA9IGdldENvbnRyb2xQb3NpdGlvbjtcbmV4cG9ydHMuY3JlYXRlQ29yZURhdGEgPSBjcmVhdGVDb3JlRGF0YTtcbmV4cG9ydHMuY3JlYXRlRHJhZ2dhYmxlRGF0YSA9IGNyZWF0ZURyYWdnYWJsZURhdGE7XG5cbnZhciBfc2hpbXMgPSByZXF1aXJlKFwiLi9zaGltc1wiKTtcblxudmFyIF9kb21GbnMgPSByZXF1aXJlKFwiLi9kb21GbnNcIik7XG5cbmZ1bmN0aW9uIGdldEJvdW5kUG9zaXRpb24oZHJhZ2dhYmxlXG4vKjogRHJhZ2dhYmxlKi9cbiwgeFxuLyo6IG51bWJlciovXG4sIHlcbi8qOiBudW1iZXIqL1xuKVxuLyo6IFtudW1iZXIsIG51bWJlcl0qL1xue1xuICAvLyBJZiBubyBib3VuZHMsIHNob3J0LWNpcmN1aXQgYW5kIG1vdmUgb25cbiAgaWYgKCFkcmFnZ2FibGUucHJvcHMuYm91bmRzKSByZXR1cm4gW3gsIHldOyAvLyBDbG9uZSBuZXcgYm91bmRzXG5cbiAgdmFyIGJvdW5kcyA9IGRyYWdnYWJsZS5wcm9wcy5ib3VuZHM7XG4gIGJvdW5kcyA9IHR5cGVvZiBib3VuZHMgPT09ICdzdHJpbmcnID8gYm91bmRzIDogY2xvbmVCb3VuZHMoYm91bmRzKTtcbiAgdmFyIG5vZGUgPSBmaW5kRE9NTm9kZShkcmFnZ2FibGUpO1xuXG4gIGlmICh0eXBlb2YgYm91bmRzID09PSAnc3RyaW5nJykge1xuICAgIHZhciBvd25lckRvY3VtZW50ID0gbm9kZS5vd25lckRvY3VtZW50O1xuICAgIHZhciBvd25lcldpbmRvdyA9IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG4gICAgdmFyIGJvdW5kTm9kZTtcblxuICAgIGlmIChib3VuZHMgPT09ICdwYXJlbnQnKSB7XG4gICAgICBib3VuZE5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvdW5kTm9kZSA9IG93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3Rvcihib3VuZHMpO1xuICAgIH1cblxuICAgIGlmICghKGJvdW5kTm9kZSBpbnN0YW5jZW9mIG93bmVyV2luZG93LkhUTUxFbGVtZW50KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3VuZHMgc2VsZWN0b3IgXCInICsgYm91bmRzICsgJ1wiIGNvdWxkIG5vdCBmaW5kIGFuIGVsZW1lbnQuJyk7XG4gICAgfVxuXG4gICAgdmFyIG5vZGVTdHlsZSA9IG93bmVyV2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgdmFyIGJvdW5kTm9kZVN0eWxlID0gb3duZXJXaW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShib3VuZE5vZGUpOyAvLyBDb21wdXRlIGJvdW5kcy4gVGhpcyBpcyBhIHBhaW4gd2l0aCBwYWRkaW5nIGFuZCBvZmZzZXRzIGJ1dCB0aGlzIGdldHMgaXQgZXhhY3RseSByaWdodC5cblxuICAgIGJvdW5kcyA9IHtcbiAgICAgIGxlZnQ6IC1ub2RlLm9mZnNldExlZnQgKyAoMCwgX3NoaW1zLmludCkoYm91bmROb2RlU3R5bGUucGFkZGluZ0xlZnQpICsgKDAsIF9zaGltcy5pbnQpKG5vZGVTdHlsZS5tYXJnaW5MZWZ0KSxcbiAgICAgIHRvcDogLW5vZGUub2Zmc2V0VG9wICsgKDAsIF9zaGltcy5pbnQpKGJvdW5kTm9kZVN0eWxlLnBhZGRpbmdUb3ApICsgKDAsIF9zaGltcy5pbnQpKG5vZGVTdHlsZS5tYXJnaW5Ub3ApLFxuICAgICAgcmlnaHQ6ICgwLCBfZG9tRm5zLmlubmVyV2lkdGgpKGJvdW5kTm9kZSkgLSAoMCwgX2RvbUZucy5vdXRlcldpZHRoKShub2RlKSAtIG5vZGUub2Zmc2V0TGVmdCArICgwLCBfc2hpbXMuaW50KShib3VuZE5vZGVTdHlsZS5wYWRkaW5nUmlnaHQpIC0gKDAsIF9zaGltcy5pbnQpKG5vZGVTdHlsZS5tYXJnaW5SaWdodCksXG4gICAgICBib3R0b206ICgwLCBfZG9tRm5zLmlubmVySGVpZ2h0KShib3VuZE5vZGUpIC0gKDAsIF9kb21GbnMub3V0ZXJIZWlnaHQpKG5vZGUpIC0gbm9kZS5vZmZzZXRUb3AgKyAoMCwgX3NoaW1zLmludCkoYm91bmROb2RlU3R5bGUucGFkZGluZ0JvdHRvbSkgLSAoMCwgX3NoaW1zLmludCkobm9kZVN0eWxlLm1hcmdpbkJvdHRvbSlcbiAgICB9O1xuICB9IC8vIEtlZXAgeCBhbmQgeSBiZWxvdyByaWdodCBhbmQgYm90dG9tIGxpbWl0cy4uLlxuXG5cbiAgaWYgKCgwLCBfc2hpbXMuaXNOdW0pKGJvdW5kcy5yaWdodCkpIHggPSBNYXRoLm1pbih4LCBib3VuZHMucmlnaHQpO1xuICBpZiAoKDAsIF9zaGltcy5pc051bSkoYm91bmRzLmJvdHRvbSkpIHkgPSBNYXRoLm1pbih5LCBib3VuZHMuYm90dG9tKTsgLy8gQnV0IGFib3ZlIGxlZnQgYW5kIHRvcCBsaW1pdHMuXG5cbiAgaWYgKCgwLCBfc2hpbXMuaXNOdW0pKGJvdW5kcy5sZWZ0KSkgeCA9IE1hdGgubWF4KHgsIGJvdW5kcy5sZWZ0KTtcbiAgaWYgKCgwLCBfc2hpbXMuaXNOdW0pKGJvdW5kcy50b3ApKSB5ID0gTWF0aC5tYXgoeSwgYm91bmRzLnRvcCk7XG4gIHJldHVybiBbeCwgeV07XG59XG5cbmZ1bmN0aW9uIHNuYXBUb0dyaWQoZ3JpZFxuLyo6IFtudW1iZXIsIG51bWJlcl0qL1xuLCBwZW5kaW5nWFxuLyo6IG51bWJlciovXG4sIHBlbmRpbmdZXG4vKjogbnVtYmVyKi9cbilcbi8qOiBbbnVtYmVyLCBudW1iZXJdKi9cbntcbiAgdmFyIHggPSBNYXRoLnJvdW5kKHBlbmRpbmdYIC8gZ3JpZFswXSkgKiBncmlkWzBdO1xuICB2YXIgeSA9IE1hdGgucm91bmQocGVuZGluZ1kgLyBncmlkWzFdKSAqIGdyaWRbMV07XG4gIHJldHVybiBbeCwgeV07XG59XG5cbmZ1bmN0aW9uIGNhbkRyYWdYKGRyYWdnYWJsZVxuLyo6IERyYWdnYWJsZSovXG4pXG4vKjogYm9vbGVhbiovXG57XG4gIHJldHVybiBkcmFnZ2FibGUucHJvcHMuYXhpcyA9PT0gJ2JvdGgnIHx8IGRyYWdnYWJsZS5wcm9wcy5heGlzID09PSAneCc7XG59XG5cbmZ1bmN0aW9uIGNhbkRyYWdZKGRyYWdnYWJsZVxuLyo6IERyYWdnYWJsZSovXG4pXG4vKjogYm9vbGVhbiovXG57XG4gIHJldHVybiBkcmFnZ2FibGUucHJvcHMuYXhpcyA9PT0gJ2JvdGgnIHx8IGRyYWdnYWJsZS5wcm9wcy5heGlzID09PSAneSc7XG59IC8vIEdldCB7eCwgeX0gcG9zaXRpb25zIGZyb20gZXZlbnQuXG5cblxuZnVuY3Rpb24gZ2V0Q29udHJvbFBvc2l0aW9uKGVcbi8qOiBNb3VzZVRvdWNoRXZlbnQqL1xuLCB0b3VjaElkZW50aWZpZXJcbi8qOiA/bnVtYmVyKi9cbiwgZHJhZ2dhYmxlQ29yZVxuLyo6IERyYWdnYWJsZUNvcmUqL1xuKVxuLyo6ID9Db250cm9sUG9zaXRpb24qL1xue1xuICB2YXIgdG91Y2hPYmogPSB0eXBlb2YgdG91Y2hJZGVudGlmaWVyID09PSAnbnVtYmVyJyA/ICgwLCBfZG9tRm5zLmdldFRvdWNoKShlLCB0b3VjaElkZW50aWZpZXIpIDogbnVsbDtcbiAgaWYgKHR5cGVvZiB0b3VjaElkZW50aWZpZXIgPT09ICdudW1iZXInICYmICF0b3VjaE9iaikgcmV0dXJuIG51bGw7IC8vIG5vdCB0aGUgcmlnaHQgdG91Y2hcblxuICB2YXIgbm9kZSA9IGZpbmRET01Ob2RlKGRyYWdnYWJsZUNvcmUpOyAvLyBVc2VyIGNhbiBwcm92aWRlIGFuIG9mZnNldFBhcmVudCBpZiBkZXNpcmVkLlxuXG4gIHZhciBvZmZzZXRQYXJlbnQgPSBkcmFnZ2FibGVDb3JlLnByb3BzLm9mZnNldFBhcmVudCB8fCBub2RlLm9mZnNldFBhcmVudCB8fCBub2RlLm93bmVyRG9jdW1lbnQuYm9keTtcbiAgcmV0dXJuICgwLCBfZG9tRm5zLm9mZnNldFhZRnJvbVBhcmVudCkodG91Y2hPYmogfHwgZSwgb2Zmc2V0UGFyZW50LCBkcmFnZ2FibGVDb3JlLnByb3BzLnNjYWxlKTtcbn0gLy8gQ3JlYXRlIGFuIGRhdGEgb2JqZWN0IGV4cG9zZWQgYnkgPERyYWdnYWJsZUNvcmU+J3MgZXZlbnRzXG5cblxuZnVuY3Rpb24gY3JlYXRlQ29yZURhdGEoZHJhZ2dhYmxlXG4vKjogRHJhZ2dhYmxlQ29yZSovXG4sIHhcbi8qOiBudW1iZXIqL1xuLCB5XG4vKjogbnVtYmVyKi9cbilcbi8qOiBEcmFnZ2FibGVEYXRhKi9cbntcbiAgdmFyIHN0YXRlID0gZHJhZ2dhYmxlLnN0YXRlO1xuICB2YXIgaXNTdGFydCA9ICEoMCwgX3NoaW1zLmlzTnVtKShzdGF0ZS5sYXN0WCk7XG4gIHZhciBub2RlID0gZmluZERPTU5vZGUoZHJhZ2dhYmxlKTtcblxuICBpZiAoaXNTdGFydCkge1xuICAgIC8vIElmIHRoaXMgaXMgb3VyIGZpcnN0IG1vdmUsIHVzZSB0aGUgeCBhbmQgeSBhcyBsYXN0IGNvb3Jkcy5cbiAgICByZXR1cm4ge1xuICAgICAgbm9kZTogbm9kZSxcbiAgICAgIGRlbHRhWDogMCxcbiAgICAgIGRlbHRhWTogMCxcbiAgICAgIGxhc3RYOiB4LFxuICAgICAgbGFzdFk6IHksXG4gICAgICB4OiB4LFxuICAgICAgeTogeVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgLy8gT3RoZXJ3aXNlIGNhbGN1bGF0ZSBwcm9wZXIgdmFsdWVzLlxuICAgIHJldHVybiB7XG4gICAgICBub2RlOiBub2RlLFxuICAgICAgZGVsdGFYOiB4IC0gc3RhdGUubGFzdFgsXG4gICAgICBkZWx0YVk6IHkgLSBzdGF0ZS5sYXN0WSxcbiAgICAgIGxhc3RYOiBzdGF0ZS5sYXN0WCxcbiAgICAgIGxhc3RZOiBzdGF0ZS5sYXN0WSxcbiAgICAgIHg6IHgsXG4gICAgICB5OiB5XG4gICAgfTtcbiAgfVxufSAvLyBDcmVhdGUgYW4gZGF0YSBleHBvc2VkIGJ5IDxEcmFnZ2FibGU+J3MgZXZlbnRzXG5cblxuZnVuY3Rpb24gY3JlYXRlRHJhZ2dhYmxlRGF0YShkcmFnZ2FibGVcbi8qOiBEcmFnZ2FibGUqL1xuLCBjb3JlRGF0YVxuLyo6IERyYWdnYWJsZURhdGEqL1xuKVxuLyo6IERyYWdnYWJsZURhdGEqL1xue1xuICB2YXIgc2NhbGUgPSBkcmFnZ2FibGUucHJvcHMuc2NhbGU7XG4gIHJldHVybiB7XG4gICAgbm9kZTogY29yZURhdGEubm9kZSxcbiAgICB4OiBkcmFnZ2FibGUuc3RhdGUueCArIGNvcmVEYXRhLmRlbHRhWCAvIHNjYWxlLFxuICAgIHk6IGRyYWdnYWJsZS5zdGF0ZS55ICsgY29yZURhdGEuZGVsdGFZIC8gc2NhbGUsXG4gICAgZGVsdGFYOiBjb3JlRGF0YS5kZWx0YVggLyBzY2FsZSxcbiAgICBkZWx0YVk6IGNvcmVEYXRhLmRlbHRhWSAvIHNjYWxlLFxuICAgIGxhc3RYOiBkcmFnZ2FibGUuc3RhdGUueCxcbiAgICBsYXN0WTogZHJhZ2dhYmxlLnN0YXRlLnlcbiAgfTtcbn0gLy8gQSBsb3QgZmFzdGVyIHRoYW4gc3RyaW5naWZ5L3BhcnNlXG5cblxuZnVuY3Rpb24gY2xvbmVCb3VuZHMoYm91bmRzXG4vKjogQm91bmRzKi9cbilcbi8qOiBCb3VuZHMqL1xue1xuICByZXR1cm4ge1xuICAgIGxlZnQ6IGJvdW5kcy5sZWZ0LFxuICAgIHRvcDogYm91bmRzLnRvcCxcbiAgICByaWdodDogYm91bmRzLnJpZ2h0LFxuICAgIGJvdHRvbTogYm91bmRzLmJvdHRvbVxuICB9O1xufVxuXG5mdW5jdGlvbiBmaW5kRE9NTm9kZShkcmFnZ2FibGVcbi8qOiBEcmFnZ2FibGUgfCBEcmFnZ2FibGVDb3JlKi9cbilcbi8qOiBIVE1MRWxlbWVudCovXG57XG4gIHZhciBub2RlID0gZHJhZ2dhYmxlLmZpbmRET01Ob2RlKCk7XG5cbiAgaWYgKCFub2RlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCc8RHJhZ2dhYmxlQ29yZT46IFVubW91bnRlZCBkdXJpbmcgZXZlbnQhJyk7XG4gIH0gLy8gJEZsb3dJZ25vcmUgd2UgY2FuJ3QgYXNzZXJ0IG9uIEhUTUxFbGVtZW50IGR1ZSB0byB0ZXN0cy4uLiBGSVhNRVxuXG5cbiAgcmV0dXJuIG5vZGU7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmZpbmRJbkFycmF5ID0gZmluZEluQXJyYXk7XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuZXhwb3J0cy5pc051bSA9IGlzTnVtO1xuZXhwb3J0cy5pbnQgPSBpbnQ7XG5leHBvcnRzLmRvbnRTZXRNZSA9IGRvbnRTZXRNZTtcblxuLy8gQGNyZWRpdHMgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vcm9nb3pobmlrb2ZmL2E0M2NmZWQyN2M0MWU0ZTY4Y2RjXG5mdW5jdGlvbiBmaW5kSW5BcnJheShhcnJheVxuLyo6IEFycmF5PGFueT4gfCBUb3VjaExpc3QqL1xuLCBjYWxsYmFja1xuLyo6IEZ1bmN0aW9uKi9cbilcbi8qOiBhbnkqL1xue1xuICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoY2FsbGJhY2suYXBwbHkoY2FsbGJhY2ssIFthcnJheVtpXSwgaSwgYXJyYXldKSkgcmV0dXJuIGFycmF5W2ldO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oZnVuY1xuLyo6IGFueSovXG4pXG4vKjogYm9vbGVhbiAlY2hlY2tzKi9cbntcbiAgcmV0dXJuIHR5cGVvZiBmdW5jID09PSAnZnVuY3Rpb24nIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChmdW5jKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuZnVuY3Rpb24gaXNOdW0obnVtXG4vKjogYW55Ki9cbilcbi8qOiBib29sZWFuICVjaGVja3MqL1xue1xuICByZXR1cm4gdHlwZW9mIG51bSA9PT0gJ251bWJlcicgJiYgIWlzTmFOKG51bSk7XG59XG5cbmZ1bmN0aW9uIGludChhXG4vKjogc3RyaW5nKi9cbilcbi8qOiBudW1iZXIqL1xue1xuICByZXR1cm4gcGFyc2VJbnQoYSwgMTApO1xufVxuXG5mdW5jdGlvbiBkb250U2V0TWUocHJvcHNcbi8qOiBPYmplY3QqL1xuLCBwcm9wTmFtZVxuLyo6IHN0cmluZyovXG4sIGNvbXBvbmVudE5hbWVcbi8qOiBzdHJpbmcqL1xuKSB7XG4gIGlmIChwcm9wc1twcm9wTmFtZV0pIHtcbiAgICByZXR1cm4gbmV3IEVycm9yKFwiSW52YWxpZCBwcm9wIFwiLmNvbmNhdChwcm9wTmFtZSwgXCIgcGFzc2VkIHRvIFwiKS5jb25jYXQoY29tcG9uZW50TmFtZSwgXCIgLSBkbyBub3Qgc2V0IHRoaXMsIHNldCBpdCBvbiB0aGUgY2hpbGQuXCIpKTtcbiAgfVxufSIsIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfcHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicHJvcC10eXBlc1wiKSk7XG5cbnZhciBfcmVhY3REcmFnZ2FibGUgPSByZXF1aXJlKFwicmVhY3QtZHJhZ2dhYmxlXCIpO1xuXG52YXIgX3JlYWN0UmVzaXphYmxlID0gcmVxdWlyZShcInJlYWN0LXJlc2l6YWJsZVwiKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuXG52YXIgX2NhbGN1bGF0ZVV0aWxzID0gcmVxdWlyZShcIi4vY2FsY3VsYXRlVXRpbHNcIik7XG5cbnZhciBfUmVhY3RHcmlkTGF5b3V0UHJvcFR5cGVzID0gcmVxdWlyZShcIi4vUmVhY3RHcmlkTGF5b3V0UHJvcFR5cGVzXCIpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJjbGFzc25hbWVzXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuLyoqXG4gKiBBbiBpbmRpdmlkdWFsIGl0ZW0gd2l0aGluIGEgUmVhY3RHcmlkTGF5b3V0LlxuICovXG52YXIgR3JpZEl0ZW0gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEdyaWRJdGVtLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEdyaWRJdGVtKTtcblxuICBmdW5jdGlvbiBHcmlkSXRlbSgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR3JpZEl0ZW0pO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwuYXBwbHkoX3N1cGVyLCBbdGhpc10uY29uY2F0KGFyZ3MpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCB7XG4gICAgICByZXNpemluZzogbnVsbCxcbiAgICAgIGRyYWdnaW5nOiBudWxsLFxuICAgICAgY2xhc3NOYW1lOiBcIlwiXG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiZWxlbWVudFJlZlwiLCAvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY3JlYXRlUmVmKCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uRHJhZ1N0YXJ0XCIsIGZ1bmN0aW9uIChlLCBfcmVmKSB7XG4gICAgICB2YXIgbm9kZSA9IF9yZWYubm9kZTtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG9uRHJhZ1N0YXJ0ID0gX3RoaXMkcHJvcHMub25EcmFnU3RhcnQsXG4gICAgICAgICAgdHJhbnNmb3JtU2NhbGUgPSBfdGhpcyRwcm9wcy50cmFuc2Zvcm1TY2FsZTtcbiAgICAgIGlmICghb25EcmFnU3RhcnQpIHJldHVybjtcbiAgICAgIHZhciBuZXdQb3NpdGlvblxuICAgICAgLyo6IFBhcnRpYWxQb3NpdGlvbiovXG4gICAgICA9IHtcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBsZWZ0OiAwXG4gICAgICB9OyAvLyBUT0RPOiB0aGlzIHdvbnQgd29yayBvbiBuZXN0ZWQgcGFyZW50c1xuXG4gICAgICB2YXIgb2Zmc2V0UGFyZW50ID0gbm9kZS5vZmZzZXRQYXJlbnQ7XG4gICAgICBpZiAoIW9mZnNldFBhcmVudCkgcmV0dXJuO1xuICAgICAgdmFyIHBhcmVudFJlY3QgPSBvZmZzZXRQYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgY2xpZW50UmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgY0xlZnQgPSBjbGllbnRSZWN0LmxlZnQgLyB0cmFuc2Zvcm1TY2FsZTtcbiAgICAgIHZhciBwTGVmdCA9IHBhcmVudFJlY3QubGVmdCAvIHRyYW5zZm9ybVNjYWxlO1xuICAgICAgdmFyIGNUb3AgPSBjbGllbnRSZWN0LnRvcCAvIHRyYW5zZm9ybVNjYWxlO1xuICAgICAgdmFyIHBUb3AgPSBwYXJlbnRSZWN0LnRvcCAvIHRyYW5zZm9ybVNjYWxlO1xuICAgICAgbmV3UG9zaXRpb24ubGVmdCA9IGNMZWZ0IC0gcExlZnQgKyBvZmZzZXRQYXJlbnQuc2Nyb2xsTGVmdDtcbiAgICAgIG5ld1Bvc2l0aW9uLnRvcCA9IGNUb3AgLSBwVG9wICsgb2Zmc2V0UGFyZW50LnNjcm9sbFRvcDtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkcmFnZ2luZzogbmV3UG9zaXRpb25cbiAgICAgIH0pOyAvLyBDYWxsIGNhbGxiYWNrIHdpdGggdGhpcyBkYXRhXG5cblxuICAgICAgdmFyIF9jYWxjWFkgPSAoMCwgX2NhbGN1bGF0ZVV0aWxzLmNhbGNYWSkoX3RoaXMuZ2V0UG9zaXRpb25QYXJhbXMoKSwgbmV3UG9zaXRpb24udG9wLCBuZXdQb3NpdGlvbi5sZWZ0LCBfdGhpcy5wcm9wcy53LCBfdGhpcy5wcm9wcy5oKSxcbiAgICAgICAgICB4ID0gX2NhbGNYWS54LFxuICAgICAgICAgIHkgPSBfY2FsY1hZLnk7XG5cbiAgICAgIHJldHVybiBvbkRyYWdTdGFydC5jYWxsKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfdGhpcy5wcm9wcy5pLCB4LCB5LCB7XG4gICAgICAgIGU6IGUsXG4gICAgICAgIG5vZGU6IG5vZGUsXG4gICAgICAgIG5ld1Bvc2l0aW9uOiBuZXdQb3NpdGlvblxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25EcmFnXCIsIGZ1bmN0aW9uIChlLCBfcmVmMikge1xuICAgICAgdmFyIG5vZGUgPSBfcmVmMi5ub2RlLFxuICAgICAgICAgIGRlbHRhWCA9IF9yZWYyLmRlbHRhWCxcbiAgICAgICAgICBkZWx0YVkgPSBfcmVmMi5kZWx0YVk7XG4gICAgICB2YXIgb25EcmFnID0gX3RoaXMucHJvcHMub25EcmFnO1xuICAgICAgaWYgKCFvbkRyYWcpIHJldHVybjtcblxuICAgICAgaWYgKCFfdGhpcy5zdGF0ZS5kcmFnZ2luZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJvbkRyYWcgY2FsbGVkIGJlZm9yZSBvbkRyYWdTdGFydC5cIik7XG4gICAgICB9XG5cbiAgICAgIHZhciB0b3AgPSBfdGhpcy5zdGF0ZS5kcmFnZ2luZy50b3AgKyBkZWx0YVk7XG4gICAgICB2YXIgbGVmdCA9IF90aGlzLnN0YXRlLmRyYWdnaW5nLmxlZnQgKyBkZWx0YVg7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgaXNCb3VuZGVkID0gX3RoaXMkcHJvcHMyLmlzQm91bmRlZCxcbiAgICAgICAgICBpID0gX3RoaXMkcHJvcHMyLmksXG4gICAgICAgICAgdyA9IF90aGlzJHByb3BzMi53LFxuICAgICAgICAgIGggPSBfdGhpcyRwcm9wczIuaCxcbiAgICAgICAgICBjb250YWluZXJXaWR0aCA9IF90aGlzJHByb3BzMi5jb250YWluZXJXaWR0aDtcblxuICAgICAgdmFyIHBvc2l0aW9uUGFyYW1zID0gX3RoaXMuZ2V0UG9zaXRpb25QYXJhbXMoKTsgLy8gQm91bmRhcnkgY2FsY3VsYXRpb25zOyBrZWVwcyBpdGVtcyB3aXRoaW4gdGhlIGdyaWRcblxuXG4gICAgICBpZiAoaXNCb3VuZGVkKSB7XG4gICAgICAgIHZhciBvZmZzZXRQYXJlbnQgPSBub2RlLm9mZnNldFBhcmVudDtcblxuICAgICAgICBpZiAob2Zmc2V0UGFyZW50KSB7XG4gICAgICAgICAgdmFyIF90aGlzJHByb3BzMyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgICBtYXJnaW4gPSBfdGhpcyRwcm9wczMubWFyZ2luLFxuICAgICAgICAgICAgICByb3dIZWlnaHQgPSBfdGhpcyRwcm9wczMucm93SGVpZ2h0O1xuICAgICAgICAgIHZhciBib3R0b21Cb3VuZGFyeSA9IG9mZnNldFBhcmVudC5jbGllbnRIZWlnaHQgLSAoMCwgX2NhbGN1bGF0ZVV0aWxzLmNhbGNHcmlkSXRlbVdIUHgpKGgsIHJvd0hlaWdodCwgbWFyZ2luWzFdKTtcbiAgICAgICAgICB0b3AgPSAoMCwgX2NhbGN1bGF0ZVV0aWxzLmNsYW1wKSh0b3AsIDAsIGJvdHRvbUJvdW5kYXJ5KTtcbiAgICAgICAgICB2YXIgY29sV2lkdGggPSAoMCwgX2NhbGN1bGF0ZVV0aWxzLmNhbGNHcmlkQ29sV2lkdGgpKHBvc2l0aW9uUGFyYW1zKTtcbiAgICAgICAgICB2YXIgcmlnaHRCb3VuZGFyeSA9IGNvbnRhaW5lcldpZHRoIC0gKDAsIF9jYWxjdWxhdGVVdGlscy5jYWxjR3JpZEl0ZW1XSFB4KSh3LCBjb2xXaWR0aCwgbWFyZ2luWzBdKTtcbiAgICAgICAgICBsZWZ0ID0gKDAsIF9jYWxjdWxhdGVVdGlscy5jbGFtcCkobGVmdCwgMCwgcmlnaHRCb3VuZGFyeSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIG5ld1Bvc2l0aW9uXG4gICAgICAvKjogUGFydGlhbFBvc2l0aW9uKi9cbiAgICAgID0ge1xuICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgbGVmdDogbGVmdFxuICAgICAgfTtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkcmFnZ2luZzogbmV3UG9zaXRpb25cbiAgICAgIH0pOyAvLyBDYWxsIGNhbGxiYWNrIHdpdGggdGhpcyBkYXRhXG5cblxuICAgICAgdmFyIF9jYWxjWFkyID0gKDAsIF9jYWxjdWxhdGVVdGlscy5jYWxjWFkpKHBvc2l0aW9uUGFyYW1zLCB0b3AsIGxlZnQsIHcsIGgpLFxuICAgICAgICAgIHggPSBfY2FsY1hZMi54LFxuICAgICAgICAgIHkgPSBfY2FsY1hZMi55O1xuXG4gICAgICByZXR1cm4gb25EcmFnLmNhbGwoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIGksIHgsIHksIHtcbiAgICAgICAgZTogZSxcbiAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgbmV3UG9zaXRpb246IG5ld1Bvc2l0aW9uXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkRyYWdTdG9wXCIsIGZ1bmN0aW9uIChlLCBfcmVmMykge1xuICAgICAgdmFyIG5vZGUgPSBfcmVmMy5ub2RlO1xuICAgICAgdmFyIG9uRHJhZ1N0b3AgPSBfdGhpcy5wcm9wcy5vbkRyYWdTdG9wO1xuICAgICAgaWYgKCFvbkRyYWdTdG9wKSByZXR1cm47XG5cbiAgICAgIGlmICghX3RoaXMuc3RhdGUuZHJhZ2dpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwib25EcmFnRW5kIGNhbGxlZCBiZWZvcmUgb25EcmFnU3RhcnQuXCIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3RoaXMkcHJvcHM0ID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdyA9IF90aGlzJHByb3BzNC53LFxuICAgICAgICAgIGggPSBfdGhpcyRwcm9wczQuaCxcbiAgICAgICAgICBpID0gX3RoaXMkcHJvcHM0Lmk7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUkZHJhZ2dpbmcgPSBfdGhpcy5zdGF0ZS5kcmFnZ2luZyxcbiAgICAgICAgICBsZWZ0ID0gX3RoaXMkc3RhdGUkZHJhZ2dpbmcubGVmdCxcbiAgICAgICAgICB0b3AgPSBfdGhpcyRzdGF0ZSRkcmFnZ2luZy50b3A7XG4gICAgICB2YXIgbmV3UG9zaXRpb25cbiAgICAgIC8qOiBQYXJ0aWFsUG9zaXRpb24qL1xuICAgICAgPSB7XG4gICAgICAgIHRvcDogdG9wLFxuICAgICAgICBsZWZ0OiBsZWZ0XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRyYWdnaW5nOiBudWxsXG4gICAgICB9KTtcblxuICAgICAgdmFyIF9jYWxjWFkzID0gKDAsIF9jYWxjdWxhdGVVdGlscy5jYWxjWFkpKF90aGlzLmdldFBvc2l0aW9uUGFyYW1zKCksIHRvcCwgbGVmdCwgdywgaCksXG4gICAgICAgICAgeCA9IF9jYWxjWFkzLngsXG4gICAgICAgICAgeSA9IF9jYWxjWFkzLnk7XG5cbiAgICAgIHJldHVybiBvbkRyYWdTdG9wLmNhbGwoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIGksIHgsIHksIHtcbiAgICAgICAgZTogZSxcbiAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgbmV3UG9zaXRpb246IG5ld1Bvc2l0aW9uXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvblJlc2l6ZVN0b3BcIiwgZnVuY3Rpb24gKGUsIGNhbGxiYWNrRGF0YSkge1xuICAgICAgX3RoaXMub25SZXNpemVIYW5kbGVyKGUsIGNhbGxiYWNrRGF0YSwgXCJvblJlc2l6ZVN0b3BcIik7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25SZXNpemVTdGFydFwiLCBmdW5jdGlvbiAoZSwgY2FsbGJhY2tEYXRhKSB7XG4gICAgICBfdGhpcy5vblJlc2l6ZUhhbmRsZXIoZSwgY2FsbGJhY2tEYXRhLCBcIm9uUmVzaXplU3RhcnRcIik7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25SZXNpemVcIiwgZnVuY3Rpb24gKGUsIGNhbGxiYWNrRGF0YSkge1xuICAgICAgX3RoaXMub25SZXNpemVIYW5kbGVyKGUsIGNhbGxiYWNrRGF0YSwgXCJvblJlc2l6ZVwiKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhHcmlkSXRlbSwgW3tcbiAgICBrZXk6IFwic2hvdWxkQ29tcG9uZW50VXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHNcbiAgICAvKjogUHJvcHMqL1xuICAgICwgbmV4dFN0YXRlXG4gICAgLyo6IFN0YXRlKi9cbiAgICApXG4gICAgLyo6IGJvb2xlYW4qL1xuICAgIHtcbiAgICAgIC8vIFdlIGNhbid0IGRlZXBseSBjb21wYXJlIGNoaWxkcmVuLiBJZiB0aGUgZGV2ZWxvcGVyIG1lbW9pemVzIHRoZW0sIHdlIGNhblxuICAgICAgLy8gdXNlIHRoaXMgb3B0aW1pemF0aW9uLlxuICAgICAgaWYgKHRoaXMucHJvcHMuY2hpbGRyZW4gIT09IG5leHRQcm9wcy5jaGlsZHJlbikgcmV0dXJuIHRydWU7XG4gICAgICBpZiAodGhpcy5wcm9wcy5kcm9wcGluZ1Bvc2l0aW9uICE9PSBuZXh0UHJvcHMuZHJvcHBpbmdQb3NpdGlvbikgcmV0dXJuIHRydWU7IC8vIFRPRE8gbWVtb2l6ZSB0aGVzZSBjYWxjdWxhdGlvbnMgc28gdGhleSBkb24ndCB0YWtlIHNvIGxvbmc/XG5cbiAgICAgIHZhciBvbGRQb3NpdGlvbiA9ICgwLCBfY2FsY3VsYXRlVXRpbHMuY2FsY0dyaWRJdGVtUG9zaXRpb24pKHRoaXMuZ2V0UG9zaXRpb25QYXJhbXModGhpcy5wcm9wcyksIHRoaXMucHJvcHMueCwgdGhpcy5wcm9wcy55LCB0aGlzLnByb3BzLncsIHRoaXMucHJvcHMuaCwgdGhpcy5zdGF0ZSk7XG4gICAgICB2YXIgbmV3UG9zaXRpb24gPSAoMCwgX2NhbGN1bGF0ZVV0aWxzLmNhbGNHcmlkSXRlbVBvc2l0aW9uKSh0aGlzLmdldFBvc2l0aW9uUGFyYW1zKG5leHRQcm9wcyksIG5leHRQcm9wcy54LCBuZXh0UHJvcHMueSwgbmV4dFByb3BzLncsIG5leHRQcm9wcy5oLCBuZXh0U3RhdGUpO1xuICAgICAgcmV0dXJuICEoMCwgX3V0aWxzLmZhc3RQb3NpdGlvbkVxdWFsKShvbGRQb3NpdGlvbiwgbmV3UG9zaXRpb24pIHx8IHRoaXMucHJvcHMudXNlQ1NTVHJhbnNmb3JtcyAhPT0gbmV4dFByb3BzLnVzZUNTU1RyYW5zZm9ybXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdGhpcy5tb3ZlRHJvcHBpbmdJdGVtKHt9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHNcbiAgICAvKjogUHJvcHMqL1xuICAgICkge1xuICAgICAgdGhpcy5tb3ZlRHJvcHBpbmdJdGVtKHByZXZQcm9wcyk7XG4gICAgfSAvLyBXaGVuIGEgZHJvcHBpbmdQb3NpdGlvbiBpcyBwcmVzZW50LCB0aGlzIG1lYW5zIHdlIHNob3VsZCBmaXJlIGEgbW92ZSBldmVudCwgYXMgaWYgd2UgaGFkIG1vdmVkXG4gICAgLy8gdGhpcyBlbGVtZW50IGJ5IGB4LCB5YCBwaXhlbHMuXG5cbiAgfSwge1xuICAgIGtleTogXCJtb3ZlRHJvcHBpbmdJdGVtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1vdmVEcm9wcGluZ0l0ZW0ocHJldlByb3BzXG4gICAgLyo6IFByb3BzKi9cbiAgICApIHtcbiAgICAgIHZhciBkcm9wcGluZ1Bvc2l0aW9uID0gdGhpcy5wcm9wcy5kcm9wcGluZ1Bvc2l0aW9uO1xuICAgICAgaWYgKCFkcm9wcGluZ1Bvc2l0aW9uKSByZXR1cm47XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuZWxlbWVudFJlZi5jdXJyZW50OyAvLyBDYW4ndCBmaW5kIERPTSBub2RlIChhcmUgd2UgdW5tb3VudGVkPylcblxuICAgICAgaWYgKCFub2RlKSByZXR1cm47XG4gICAgICB2YXIgcHJldkRyb3BwaW5nUG9zaXRpb24gPSBwcmV2UHJvcHMuZHJvcHBpbmdQb3NpdGlvbiB8fCB7XG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHRvcDogMFxuICAgICAgfTtcbiAgICAgIHZhciBkcmFnZ2luZyA9IHRoaXMuc3RhdGUuZHJhZ2dpbmc7XG4gICAgICB2YXIgc2hvdWxkRHJhZyA9IGRyYWdnaW5nICYmIGRyb3BwaW5nUG9zaXRpb24ubGVmdCAhPT0gcHJldkRyb3BwaW5nUG9zaXRpb24ubGVmdCB8fCBkcm9wcGluZ1Bvc2l0aW9uLnRvcCAhPT0gcHJldkRyb3BwaW5nUG9zaXRpb24udG9wO1xuXG4gICAgICBpZiAoIWRyYWdnaW5nKSB7XG4gICAgICAgIHRoaXMub25EcmFnU3RhcnQoZHJvcHBpbmdQb3NpdGlvbi5lLCB7XG4gICAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgICBkZWx0YVg6IGRyb3BwaW5nUG9zaXRpb24ubGVmdCxcbiAgICAgICAgICBkZWx0YVk6IGRyb3BwaW5nUG9zaXRpb24udG9wXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChzaG91bGREcmFnKSB7XG4gICAgICAgIHZhciBkZWx0YVggPSBkcm9wcGluZ1Bvc2l0aW9uLmxlZnQgLSBkcmFnZ2luZy5sZWZ0O1xuICAgICAgICB2YXIgZGVsdGFZID0gZHJvcHBpbmdQb3NpdGlvbi50b3AgLSBkcmFnZ2luZy50b3A7XG4gICAgICAgIHRoaXMub25EcmFnKGRyb3BwaW5nUG9zaXRpb24uZSwge1xuICAgICAgICAgIG5vZGU6IG5vZGUsXG4gICAgICAgICAgZGVsdGFYOiBkZWx0YVgsXG4gICAgICAgICAgZGVsdGFZOiBkZWx0YVlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFBvc2l0aW9uUGFyYW1zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBvc2l0aW9uUGFyYW1zKClcbiAgICAvKjogUG9zaXRpb25QYXJhbXMqL1xuICAgIHtcbiAgICAgIHZhciBwcm9wc1xuICAgICAgLyo6IFByb3BzKi9cbiAgICAgID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnByb3BzO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29sczogcHJvcHMuY29scyxcbiAgICAgICAgY29udGFpbmVyUGFkZGluZzogcHJvcHMuY29udGFpbmVyUGFkZGluZyxcbiAgICAgICAgY29udGFpbmVyV2lkdGg6IHByb3BzLmNvbnRhaW5lcldpZHRoLFxuICAgICAgICBtYXJnaW46IHByb3BzLm1hcmdpbixcbiAgICAgICAgbWF4Um93czogcHJvcHMubWF4Um93cyxcbiAgICAgICAgcm93SGVpZ2h0OiBwcm9wcy5yb3dIZWlnaHRcbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgd2hlcmUgd2Ugc2V0IHRoZSBncmlkIGl0ZW0ncyBhYnNvbHV0ZSBwbGFjZW1lbnQuIEl0IGdldHMgYSBsaXR0bGUgdHJpY2t5IGJlY2F1c2Ugd2Ugd2FudCB0byBkbyBpdFxuICAgICAqIHdlbGwgd2hlbiBzZXJ2ZXIgcmVuZGVyaW5nLCBhbmQgdGhlIG9ubHkgd2F5IHRvIGRvIHRoYXQgcHJvcGVybHkgaXMgdG8gdXNlIHBlcmNlbnRhZ2Ugd2lkdGgvbGVmdCBiZWNhdXNlXG4gICAgICogd2UgZG9uJ3Qga25vdyBleGFjdGx5IHdoYXQgdGhlIGJyb3dzZXIgdmlld3BvcnQgaXMuXG4gICAgICogVW5mb3J0dW5hdGVseSwgQ1NTIFRyYW5zZm9ybXMsIHdoaWNoIGFyZSBncmVhdCBmb3IgcGVyZm9ybWFuY2UsIGJyZWFrIGluIHRoaXMgaW5zdGFuY2UgYmVjYXVzZSBhIHBlcmNlbnRhZ2VcbiAgICAgKiBsZWZ0IGlzIHJlbGF0aXZlIHRvIHRoZSBpdGVtIGl0c2VsZiwgbm90IGl0cyBjb250YWluZXIhIFNvIHdlIGNhbm5vdCB1c2UgdGhlbSBvbiB0aGUgc2VydmVyIHJlbmRlcmluZyBwYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBwb3MgUG9zaXRpb24gb2JqZWN0IHdpdGggd2lkdGgsIGhlaWdodCwgbGVmdCwgdG9wLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gICAgIFN0eWxlIG9iamVjdC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZVN0eWxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVN0eWxlKHBvc1xuICAgIC8qOiBQb3NpdGlvbiovXG4gICAgKVxuICAgIC8qOiB7IFtrZXk6IHN0cmluZ106ID9zdHJpbmcgfSovXG4gICAge1xuICAgICAgdmFyIF90aGlzJHByb3BzNSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgdXNlUGVyY2VudGFnZXMgPSBfdGhpcyRwcm9wczUudXNlUGVyY2VudGFnZXMsXG4gICAgICAgICAgY29udGFpbmVyV2lkdGggPSBfdGhpcyRwcm9wczUuY29udGFpbmVyV2lkdGgsXG4gICAgICAgICAgdXNlQ1NTVHJhbnNmb3JtcyA9IF90aGlzJHByb3BzNS51c2VDU1NUcmFuc2Zvcm1zO1xuICAgICAgdmFyIHN0eWxlOyAvLyBDU1MgVHJhbnNmb3JtcyBzdXBwb3J0IChkZWZhdWx0KVxuXG4gICAgICBpZiAodXNlQ1NTVHJhbnNmb3Jtcykge1xuICAgICAgICBzdHlsZSA9ICgwLCBfdXRpbHMuc2V0VHJhbnNmb3JtKShwb3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdG9wLGxlZnQgKHNsb3cpXG4gICAgICAgIHN0eWxlID0gKDAsIF91dGlscy5zZXRUb3BMZWZ0KShwb3MpOyAvLyBUaGlzIGlzIHVzZWQgZm9yIHNlcnZlciByZW5kZXJpbmcuXG5cbiAgICAgICAgaWYgKHVzZVBlcmNlbnRhZ2VzKSB7XG4gICAgICAgICAgc3R5bGUubGVmdCA9ICgwLCBfdXRpbHMucGVyYykocG9zLmxlZnQgLyBjb250YWluZXJXaWR0aCk7XG4gICAgICAgICAgc3R5bGUud2lkdGggPSAoMCwgX3V0aWxzLnBlcmMpKHBvcy53aWR0aCAvIGNvbnRhaW5lcldpZHRoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3R5bGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1peCBhIERyYWdnYWJsZSBpbnN0YW5jZSBpbnRvIGEgY2hpbGQuXG4gICAgICogQHBhcmFtICB7RWxlbWVudH0gY2hpbGQgICAgQ2hpbGQgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fSAgICAgICAgICBDaGlsZCB3cmFwcGVkIGluIERyYWdnYWJsZS5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1peGluRHJhZ2dhYmxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1peGluRHJhZ2dhYmxlKGNoaWxkXG4gICAgLyo6IFJlYWN0RWxlbWVudDxhbnk+Ki9cbiAgICAsIGlzRHJhZ2dhYmxlXG4gICAgLyo6IGJvb2xlYW4qL1xuICAgIClcbiAgICAvKjogUmVhY3RFbGVtZW50PGFueT4qL1xuICAgIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3REcmFnZ2FibGUuRHJhZ2dhYmxlQ29yZSwge1xuICAgICAgICBkaXNhYmxlZDogIWlzRHJhZ2dhYmxlLFxuICAgICAgICBvblN0YXJ0OiB0aGlzLm9uRHJhZ1N0YXJ0LFxuICAgICAgICBvbkRyYWc6IHRoaXMub25EcmFnLFxuICAgICAgICBvblN0b3A6IHRoaXMub25EcmFnU3RvcCxcbiAgICAgICAgaGFuZGxlOiB0aGlzLnByb3BzLmhhbmRsZSxcbiAgICAgICAgY2FuY2VsOiBcIi5yZWFjdC1yZXNpemFibGUtaGFuZGxlXCIgKyAodGhpcy5wcm9wcy5jYW5jZWwgPyBcIixcIiArIHRoaXMucHJvcHMuY2FuY2VsIDogXCJcIiksXG4gICAgICAgIHNjYWxlOiB0aGlzLnByb3BzLnRyYW5zZm9ybVNjYWxlLFxuICAgICAgICBub2RlUmVmOiB0aGlzLmVsZW1lbnRSZWZcbiAgICAgIH0sIGNoaWxkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWl4IGEgUmVzaXphYmxlIGluc3RhbmNlIGludG8gYSBjaGlsZC5cbiAgICAgKiBAcGFyYW0gIHtFbGVtZW50fSBjaGlsZCAgICBDaGlsZCBlbGVtZW50LlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gcG9zaXRpb24gIFBvc2l0aW9uIG9iamVjdCAocGl4ZWwgdmFsdWVzKVxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9ICAgICAgICAgIENoaWxkIHdyYXBwZWQgaW4gUmVzaXphYmxlLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWl4aW5SZXNpemFibGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWl4aW5SZXNpemFibGUoY2hpbGRcbiAgICAvKjogUmVhY3RFbGVtZW50PGFueT4qL1xuICAgICwgcG9zaXRpb25cbiAgICAvKjogUG9zaXRpb24qL1xuICAgICwgaXNSZXNpemFibGVcbiAgICAvKjogYm9vbGVhbiovXG4gICAgKVxuICAgIC8qOiBSZWFjdEVsZW1lbnQ8YW55PiovXG4gICAge1xuICAgICAgdmFyIF90aGlzJHByb3BzNiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY29scyA9IF90aGlzJHByb3BzNi5jb2xzLFxuICAgICAgICAgIHggPSBfdGhpcyRwcm9wczYueCxcbiAgICAgICAgICBtaW5XID0gX3RoaXMkcHJvcHM2Lm1pblcsXG4gICAgICAgICAgbWluSCA9IF90aGlzJHByb3BzNi5taW5ILFxuICAgICAgICAgIG1heFcgPSBfdGhpcyRwcm9wczYubWF4VyxcbiAgICAgICAgICBtYXhIID0gX3RoaXMkcHJvcHM2Lm1heEgsXG4gICAgICAgICAgdHJhbnNmb3JtU2NhbGUgPSBfdGhpcyRwcm9wczYudHJhbnNmb3JtU2NhbGUsXG4gICAgICAgICAgcmVzaXplSGFuZGxlcyA9IF90aGlzJHByb3BzNi5yZXNpemVIYW5kbGVzLFxuICAgICAgICAgIHJlc2l6ZUhhbmRsZSA9IF90aGlzJHByb3BzNi5yZXNpemVIYW5kbGU7XG4gICAgICB2YXIgcG9zaXRpb25QYXJhbXMgPSB0aGlzLmdldFBvc2l0aW9uUGFyYW1zKCk7IC8vIFRoaXMgaXMgdGhlIG1heCBwb3NzaWJsZSB3aWR0aCAtIGRvZXNuJ3QgZ28gdG8gaW5maW5pdHkgYmVjYXVzZSBvZiB0aGUgd2lkdGggb2YgdGhlIHdpbmRvd1xuXG4gICAgICB2YXIgbWF4V2lkdGggPSAoMCwgX2NhbGN1bGF0ZVV0aWxzLmNhbGNHcmlkSXRlbVBvc2l0aW9uKShwb3NpdGlvblBhcmFtcywgMCwgMCwgY29scyAtIHgsIDApLndpZHRoOyAvLyBDYWxjdWxhdGUgbWluL21heCBjb25zdHJhaW50cyB1c2luZyBvdXIgbWluICYgbWF4ZXNcblxuICAgICAgdmFyIG1pbnMgPSAoMCwgX2NhbGN1bGF0ZVV0aWxzLmNhbGNHcmlkSXRlbVBvc2l0aW9uKShwb3NpdGlvblBhcmFtcywgMCwgMCwgbWluVywgbWluSCk7XG4gICAgICB2YXIgbWF4ZXMgPSAoMCwgX2NhbGN1bGF0ZVV0aWxzLmNhbGNHcmlkSXRlbVBvc2l0aW9uKShwb3NpdGlvblBhcmFtcywgMCwgMCwgbWF4VywgbWF4SCk7XG4gICAgICB2YXIgbWluQ29uc3RyYWludHMgPSBbbWlucy53aWR0aCwgbWlucy5oZWlnaHRdO1xuICAgICAgdmFyIG1heENvbnN0cmFpbnRzID0gW01hdGgubWluKG1heGVzLndpZHRoLCBtYXhXaWR0aCksIE1hdGgubWluKG1heGVzLmhlaWdodCwgSW5maW5pdHkpXTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSZXNpemFibGUuUmVzaXphYmxlLCB7XG4gICAgICAgIGRyYWdnYWJsZU9wdHM6IHtcbiAgICAgICAgICBkaXNhYmxlZDogIWlzUmVzaXphYmxlLFxuICAgICAgICAgIG5vZGVSZWY6IHRoaXMuZWxlbWVudFJlZlxuICAgICAgICB9LFxuICAgICAgICBjbGFzc05hbWU6IGlzUmVzaXphYmxlID8gdW5kZWZpbmVkIDogXCJyZWFjdC1yZXNpemFibGUtaGlkZVwiLFxuICAgICAgICB3aWR0aDogcG9zaXRpb24ud2lkdGgsXG4gICAgICAgIGhlaWdodDogcG9zaXRpb24uaGVpZ2h0LFxuICAgICAgICBtaW5Db25zdHJhaW50czogbWluQ29uc3RyYWludHMsXG4gICAgICAgIG1heENvbnN0cmFpbnRzOiBtYXhDb25zdHJhaW50cyxcbiAgICAgICAgb25SZXNpemVTdG9wOiB0aGlzLm9uUmVzaXplU3RvcCxcbiAgICAgICAgb25SZXNpemVTdGFydDogdGhpcy5vblJlc2l6ZVN0YXJ0LFxuICAgICAgICBvblJlc2l6ZTogdGhpcy5vblJlc2l6ZSxcbiAgICAgICAgdHJhbnNmb3JtU2NhbGU6IHRyYW5zZm9ybVNjYWxlLFxuICAgICAgICByZXNpemVIYW5kbGVzOiByZXNpemVIYW5kbGVzLFxuICAgICAgICBoYW5kbGU6IHJlc2l6ZUhhbmRsZVxuICAgICAgfSwgY2hpbGQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBvbkRyYWdTdGFydCBldmVudCBoYW5kbGVyXG4gICAgICogQHBhcmFtICB7RXZlbnR9ICBlICAgICAgICAgICAgIGV2ZW50IGRhdGFcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGNhbGxiYWNrRGF0YSAgYW4gb2JqZWN0IHdpdGggbm9kZSwgZGVsdGEgYW5kIHBvc2l0aW9uIGluZm9ybWF0aW9uXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvblJlc2l6ZUhhbmRsZXJcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgKiBXcmFwcGVyIGFyb3VuZCBkcmFnIGV2ZW50cyB0byBwcm92aWRlIG1vcmUgdXNlZnVsIGRhdGEuXG4gICAgICogQWxsIGRyYWcgZXZlbnRzIGNhbGwgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGdpdmVuIGhhbmRsZXIgbmFtZSxcbiAgICAgKiB3aXRoIHRoZSBzaWduYXR1cmUgKGluZGV4LCB4LCB5KS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gaGFuZGxlck5hbWUgSGFuZGxlciBuYW1lIHRvIHdyYXAuXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259ICAgICAgICAgICBIYW5kbGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uUmVzaXplSGFuZGxlcihlXG4gICAgLyo6IEV2ZW50Ki9cbiAgICAsIF9yZWY0LCBoYW5kbGVyTmFtZVxuICAgIC8qOiBzdHJpbmcqL1xuICAgIClcbiAgICAvKjogdm9pZCovXG4gICAge1xuICAgICAgdmFyIG5vZGUgPSBfcmVmNC5ub2RlLFxuICAgICAgICAgIHNpemUgPSBfcmVmNC5zaXplO1xuICAgICAgdmFyIGhhbmRsZXIgPSB0aGlzLnByb3BzW2hhbmRsZXJOYW1lXTtcbiAgICAgIGlmICghaGFuZGxlcikgcmV0dXJuO1xuICAgICAgdmFyIF90aGlzJHByb3BzNyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY29scyA9IF90aGlzJHByb3BzNy5jb2xzLFxuICAgICAgICAgIHggPSBfdGhpcyRwcm9wczcueCxcbiAgICAgICAgICB5ID0gX3RoaXMkcHJvcHM3LnksXG4gICAgICAgICAgaSA9IF90aGlzJHByb3BzNy5pLFxuICAgICAgICAgIG1heEggPSBfdGhpcyRwcm9wczcubWF4SCxcbiAgICAgICAgICBtaW5IID0gX3RoaXMkcHJvcHM3Lm1pbkg7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM4ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBtaW5XID0gX3RoaXMkcHJvcHM4Lm1pblcsXG4gICAgICAgICAgbWF4VyA9IF90aGlzJHByb3BzOC5tYXhXOyAvLyBHZXQgbmV3IFhZXG5cbiAgICAgIHZhciBfY2FsY1dIID0gKDAsIF9jYWxjdWxhdGVVdGlscy5jYWxjV0gpKHRoaXMuZ2V0UG9zaXRpb25QYXJhbXMoKSwgc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQsIHgsIHkpLFxuICAgICAgICAgIHcgPSBfY2FsY1dILncsXG4gICAgICAgICAgaCA9IF9jYWxjV0guaDsgLy8gbWluVyBzaG91bGQgYmUgYXQgbGVhc3QgMSAoVE9ETyBwcm9wVHlwZXMgdmFsaWRhdGlvbj8pXG5cblxuICAgICAgbWluVyA9IE1hdGgubWF4KG1pblcsIDEpOyAvLyBtYXhXIHNob3VsZCBiZSBhdCBtb3N0IChjb2xzIC0geClcblxuICAgICAgbWF4VyA9IE1hdGgubWluKG1heFcsIGNvbHMgLSB4KTsgLy8gTWluL21heCBjYXBwaW5nXG5cbiAgICAgIHcgPSAoMCwgX2NhbGN1bGF0ZVV0aWxzLmNsYW1wKSh3LCBtaW5XLCBtYXhXKTtcbiAgICAgIGggPSAoMCwgX2NhbGN1bGF0ZVV0aWxzLmNsYW1wKShoLCBtaW5ILCBtYXhIKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICByZXNpemluZzogaGFuZGxlck5hbWUgPT09IFwib25SZXNpemVTdG9wXCIgPyBudWxsIDogc2l6ZVxuICAgICAgfSk7XG4gICAgICBoYW5kbGVyLmNhbGwodGhpcywgaSwgdywgaCwge1xuICAgICAgICBlOiBlLFxuICAgICAgICBub2RlOiBub2RlLFxuICAgICAgICBzaXplOiBzaXplXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpXG4gICAgLyo6IFJlYWN0Tm9kZSovXG4gICAge1xuICAgICAgdmFyIF90aGlzJHByb3BzOSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgeCA9IF90aGlzJHByb3BzOS54LFxuICAgICAgICAgIHkgPSBfdGhpcyRwcm9wczkueSxcbiAgICAgICAgICB3ID0gX3RoaXMkcHJvcHM5LncsXG4gICAgICAgICAgaCA9IF90aGlzJHByb3BzOS5oLFxuICAgICAgICAgIGlzRHJhZ2dhYmxlID0gX3RoaXMkcHJvcHM5LmlzRHJhZ2dhYmxlLFxuICAgICAgICAgIGlzUmVzaXphYmxlID0gX3RoaXMkcHJvcHM5LmlzUmVzaXphYmxlLFxuICAgICAgICAgIGRyb3BwaW5nUG9zaXRpb24gPSBfdGhpcyRwcm9wczkuZHJvcHBpbmdQb3NpdGlvbixcbiAgICAgICAgICB1c2VDU1NUcmFuc2Zvcm1zID0gX3RoaXMkcHJvcHM5LnVzZUNTU1RyYW5zZm9ybXM7XG4gICAgICB2YXIgcG9zID0gKDAsIF9jYWxjdWxhdGVVdGlscy5jYWxjR3JpZEl0ZW1Qb3NpdGlvbikodGhpcy5nZXRQb3NpdGlvblBhcmFtcygpLCB4LCB5LCB3LCBoLCB0aGlzLnN0YXRlKTtcblxuICAgICAgdmFyIGNoaWxkID0gX3JlYWN0LmRlZmF1bHQuQ2hpbGRyZW4ub25seSh0aGlzLnByb3BzLmNoaWxkcmVuKTsgLy8gQ3JlYXRlIHRoZSBjaGlsZCBlbGVtZW50LiBXZSBjbG9uZSB0aGUgZXhpc3RpbmcgZWxlbWVudCBidXQgbW9kaWZ5IGl0cyBjbGFzc05hbWUgYW5kIHN0eWxlLlxuXG5cbiAgICAgIHZhciBuZXdDaGlsZCA9IC8qI19fUFVSRV9fKi9fcmVhY3QuZGVmYXVsdC5jbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgICAgcmVmOiB0aGlzLmVsZW1lbnRSZWYsXG4gICAgICAgIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzLmRlZmF1bHQpKFwicmVhY3QtZ3JpZC1pdGVtXCIsIGNoaWxkLnByb3BzLmNsYXNzTmFtZSwgdGhpcy5wcm9wcy5jbGFzc05hbWUsIHtcbiAgICAgICAgICBzdGF0aWM6IHRoaXMucHJvcHMuc3RhdGljLFxuICAgICAgICAgIHJlc2l6aW5nOiBCb29sZWFuKHRoaXMuc3RhdGUucmVzaXppbmcpLFxuICAgICAgICAgIFwicmVhY3QtZHJhZ2dhYmxlXCI6IGlzRHJhZ2dhYmxlLFxuICAgICAgICAgIFwicmVhY3QtZHJhZ2dhYmxlLWRyYWdnaW5nXCI6IEJvb2xlYW4odGhpcy5zdGF0ZS5kcmFnZ2luZyksXG4gICAgICAgICAgZHJvcHBpbmc6IEJvb2xlYW4oZHJvcHBpbmdQb3NpdGlvbiksXG4gICAgICAgICAgY3NzVHJhbnNmb3JtczogdXNlQ1NTVHJhbnNmb3Jtc1xuICAgICAgICB9KSxcbiAgICAgICAgLy8gV2UgY2FuIHNldCB0aGUgd2lkdGggYW5kIGhlaWdodCBvbiB0aGUgY2hpbGQsIGJ1dCB1bmZvcnR1bmF0ZWx5IHdlIGNhbid0IHNldCB0aGUgcG9zaXRpb24uXG4gICAgICAgIHN0eWxlOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5wcm9wcy5zdHlsZSksIGNoaWxkLnByb3BzLnN0eWxlKSwgdGhpcy5jcmVhdGVTdHlsZShwb3MpKVxuICAgICAgfSk7IC8vIFJlc2l6YWJsZSBzdXBwb3J0LiBUaGlzIGlzIHVzdWFsbHkgb24gYnV0IHRoZSB1c2VyIGNhbiB0b2dnbGUgaXQgb2ZmLlxuXG5cbiAgICAgIG5ld0NoaWxkID0gdGhpcy5taXhpblJlc2l6YWJsZShuZXdDaGlsZCwgcG9zLCBpc1Jlc2l6YWJsZSk7IC8vIERyYWdnYWJsZSBzdXBwb3J0LiBUaGlzIGlzIGFsd2F5cyBvbiwgZXhjZXB0IGZvciB3aXRoIHBsYWNlaG9sZGVycy5cblxuICAgICAgbmV3Q2hpbGQgPSB0aGlzLm1peGluRHJhZ2dhYmxlKG5ld0NoaWxkLCBpc0RyYWdnYWJsZSk7XG4gICAgICByZXR1cm4gbmV3Q2hpbGQ7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEdyaWRJdGVtO1xufShfcmVhY3QuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBHcmlkSXRlbTtcblxuX2RlZmluZVByb3BlcnR5KEdyaWRJdGVtLCBcInByb3BUeXBlc1wiLCB7XG4gIC8vIENoaWxkcmVuIG11c3QgYmUgb25seSBhIHNpbmdsZSBlbGVtZW50XG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzLmRlZmF1bHQuZWxlbWVudCxcbiAgLy8gR2VuZXJhbCBncmlkIGF0dHJpYnV0ZXNcbiAgY29sczogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlci5pc1JlcXVpcmVkLFxuICBjb250YWluZXJXaWR0aDogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlci5pc1JlcXVpcmVkLFxuICByb3dIZWlnaHQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgbWFyZ2luOiBfcHJvcFR5cGVzLmRlZmF1bHQuYXJyYXkuaXNSZXF1aXJlZCxcbiAgbWF4Um93czogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlci5pc1JlcXVpcmVkLFxuICBjb250YWluZXJQYWRkaW5nOiBfcHJvcFR5cGVzLmRlZmF1bHQuYXJyYXkuaXNSZXF1aXJlZCxcbiAgLy8gVGhlc2UgYXJlIGFsbCBpbiBncmlkIHVuaXRzXG4gIHg6IF9wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgeTogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlci5pc1JlcXVpcmVkLFxuICB3OiBfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLmlzUmVxdWlyZWQsXG4gIGg6IF9wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgLy8gQWxsIG9wdGlvbmFsXG4gIG1pblc6IGZ1bmN0aW9uIG1pblcocHJvcHNcbiAgLyo6IFByb3BzKi9cbiAgLCBwcm9wTmFtZVxuICAvKjogc3RyaW5nKi9cbiAgKSB7XG4gICAgdmFyIHZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwibnVtYmVyXCIpIHJldHVybiBuZXcgRXJyb3IoXCJtaW5XaWR0aCBub3QgTnVtYmVyXCIpO1xuICAgIGlmICh2YWx1ZSA+IHByb3BzLncgfHwgdmFsdWUgPiBwcm9wcy5tYXhXKSByZXR1cm4gbmV3IEVycm9yKFwibWluV2lkdGggbGFyZ2VyIHRoYW4gaXRlbSB3aWR0aC9tYXhXaWR0aFwiKTtcbiAgfSxcbiAgbWF4VzogZnVuY3Rpb24gbWF4Vyhwcm9wc1xuICAvKjogUHJvcHMqL1xuICAsIHByb3BOYW1lXG4gIC8qOiBzdHJpbmcqL1xuICApIHtcbiAgICB2YXIgdmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIikgcmV0dXJuIG5ldyBFcnJvcihcIm1heFdpZHRoIG5vdCBOdW1iZXJcIik7XG4gICAgaWYgKHZhbHVlIDwgcHJvcHMudyB8fCB2YWx1ZSA8IHByb3BzLm1pblcpIHJldHVybiBuZXcgRXJyb3IoXCJtYXhXaWR0aCBzbWFsbGVyIHRoYW4gaXRlbSB3aWR0aC9taW5XaWR0aFwiKTtcbiAgfSxcbiAgbWluSDogZnVuY3Rpb24gbWluSChwcm9wc1xuICAvKjogUHJvcHMqL1xuICAsIHByb3BOYW1lXG4gIC8qOiBzdHJpbmcqL1xuICApIHtcbiAgICB2YXIgdmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIikgcmV0dXJuIG5ldyBFcnJvcihcIm1pbkhlaWdodCBub3QgTnVtYmVyXCIpO1xuICAgIGlmICh2YWx1ZSA+IHByb3BzLmggfHwgdmFsdWUgPiBwcm9wcy5tYXhIKSByZXR1cm4gbmV3IEVycm9yKFwibWluSGVpZ2h0IGxhcmdlciB0aGFuIGl0ZW0gaGVpZ2h0L21heEhlaWdodFwiKTtcbiAgfSxcbiAgbWF4SDogZnVuY3Rpb24gbWF4SChwcm9wc1xuICAvKjogUHJvcHMqL1xuICAsIHByb3BOYW1lXG4gIC8qOiBzdHJpbmcqL1xuICApIHtcbiAgICB2YXIgdmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIikgcmV0dXJuIG5ldyBFcnJvcihcIm1heEhlaWdodCBub3QgTnVtYmVyXCIpO1xuICAgIGlmICh2YWx1ZSA8IHByb3BzLmggfHwgdmFsdWUgPCBwcm9wcy5taW5IKSByZXR1cm4gbmV3IEVycm9yKFwibWF4SGVpZ2h0IHNtYWxsZXIgdGhhbiBpdGVtIGhlaWdodC9taW5IZWlnaHRcIik7XG4gIH0sXG4gIC8vIElEIGlzIG5pY2UgdG8gaGF2ZSBmb3IgY2FsbGJhY2tzXG4gIGk6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgLy8gUmVzaXplIGhhbmRsZSBvcHRpb25zXG4gIHJlc2l6ZUhhbmRsZXM6IF9SZWFjdEdyaWRMYXlvdXRQcm9wVHlwZXMucmVzaXplSGFuZGxlc1R5cGUsXG4gIHJlc2l6ZUhhbmRsZTogX1JlYWN0R3JpZExheW91dFByb3BUeXBlcy5yZXNpemVIYW5kbGVUeXBlLFxuICAvLyBGdW5jdGlvbnNcbiAgb25EcmFnU3RvcDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG9uRHJhZ1N0YXJ0OiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgb25EcmFnOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgb25SZXNpemVTdG9wOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgb25SZXNpemVTdGFydDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIG9uUmVzaXplOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgLy8gRmxhZ3NcbiAgaXNEcmFnZ2FibGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIGlzUmVzaXphYmxlOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbC5pc1JlcXVpcmVkLFxuICBpc0JvdW5kZWQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIHN0YXRpYzogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsXG4gIC8vIFVzZSBDU1MgdHJhbnNmb3JtcyBpbnN0ZWFkIG9mIHRvcC9sZWZ0XG4gIHVzZUNTU1RyYW5zZm9ybXM6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLmlzUmVxdWlyZWQsXG4gIHRyYW5zZm9ybVNjYWxlOiBfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLFxuICAvLyBPdGhlcnNcbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuICAvLyBTZWxlY3RvciBmb3IgZHJhZ2dhYmxlIGhhbmRsZVxuICBoYW5kbGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsXG4gIC8vIFNlbGVjdG9yIGZvciBkcmFnZ2FibGUgY2FuY2VsIChzZWUgcmVhY3QtZHJhZ2dhYmxlKVxuICBjYW5jZWw6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsXG4gIC8vIEN1cnJlbnQgcG9zaXRpb24gb2YgYSBkcm9wcGluZyBlbGVtZW50XG4gIGRyb3BwaW5nUG9zaXRpb246IF9wcm9wVHlwZXMuZGVmYXVsdC5zaGFwZSh7XG4gICAgZTogX3Byb3BUeXBlcy5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGxlZnQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICB0b3A6IF9wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIuaXNSZXF1aXJlZFxuICB9KVxufSk7XG5cbl9kZWZpbmVQcm9wZXJ0eShHcmlkSXRlbSwgXCJkZWZhdWx0UHJvcHNcIiwge1xuICBjbGFzc05hbWU6IFwiXCIsXG4gIGNhbmNlbDogXCJcIixcbiAgaGFuZGxlOiBcIlwiLFxuICBtaW5IOiAxLFxuICBtaW5XOiAxLFxuICBtYXhIOiBJbmZpbml0eSxcbiAgbWF4VzogSW5maW5pdHksXG4gIHRyYW5zZm9ybVNjYWxlOiAxXG59KTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX2xvZGFzaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImxvZGFzaC5pc2VxdWFsXCIpKTtcblxudmFyIF9jbGFzc25hbWVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiY2xhc3NuYW1lc1wiKSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcblxudmFyIF9jYWxjdWxhdGVVdGlscyA9IHJlcXVpcmUoXCIuL2NhbGN1bGF0ZVV0aWxzXCIpO1xuXG52YXIgX0dyaWRJdGVtID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9HcmlkSXRlbVwiKSk7XG5cbnZhciBfUmVhY3RHcmlkTGF5b3V0UHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9SZWFjdEdyaWRMYXlvdXRQcm9wVHlwZXNcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUoKSB7IGlmICh0eXBlb2YgV2Vha01hcCAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gbnVsbDsgdmFyIGNhY2hlID0gbmV3IFdlYWtNYXAoKTsgX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlID0gZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKCkgeyByZXR1cm4gY2FjaGU7IH07IHJldHVybiBjYWNoZTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGlmIChvYmogPT09IG51bGwgfHwgX3R5cGVvZihvYmopICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBvYmogIT09IFwiZnVuY3Rpb25cIikgeyByZXR1cm4geyBkZWZhdWx0OiBvYmogfTsgfSB2YXIgY2FjaGUgPSBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUoKTsgaWYgKGNhY2hlICYmIGNhY2hlLmhhcyhvYmopKSB7IHJldHVybiBjYWNoZS5nZXQob2JqKTsgfSB2YXIgbmV3T2JqID0ge307IHZhciBoYXNQcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IGhhc1Byb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDogbnVsbDsgaWYgKGRlc2MgJiYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgaWYgKGNhY2hlKSB7IGNhY2hlLnNldChvYmosIG5ld09iaik7IH0gcmV0dXJuIG5ld09iajsgfVxuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG4vLyBFbmQgVHlwZXNcbnZhciBsYXlvdXRDbGFzc05hbWUgPSBcInJlYWN0LWdyaWQtbGF5b3V0XCI7XG52YXIgaXNGaXJlZm94ID0gZmFsc2U7IC8vIFRyeS4uLmNhdGNoIHdpbGwgcHJvdGVjdCBmcm9tIG5hdmlnYXRvciBub3QgZXhpc3RpbmcgKGUuZy4gbm9kZSkgb3IgYSBiYWQgaW1wbGVtZW50YXRpb24gb2YgbmF2aWdhdG9yXG5cbnRyeSB7XG4gIGlzRmlyZWZveCA9IC9maXJlZm94L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbn0gY2F0Y2ggKGUpIHtcbiAgLyogSWdub3JlICovXG59XG4vKipcbiAqIEEgcmVhY3RpdmUsIGZsdWlkIGdyaWQgbGF5b3V0IHdpdGggZHJhZ2dhYmxlLCByZXNpemFibGUgY29tcG9uZW50cy5cbiAqL1xuXG5cbnZhciBSZWFjdEdyaWRMYXlvdXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFJlYWN0R3JpZExheW91dCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihSZWFjdEdyaWRMYXlvdXQpO1xuXG4gIC8vIFRPRE8gcHVibGlzaCBpbnRlcm5hbCBSZWFjdENsYXNzIGRpc3BsYXlOYW1lIHRyYW5zZm9ybVxuICAvLyBSZWZhY3RvcmVkIHRvIGFub3RoZXIgbW9kdWxlIHRvIG1ha2Ugd2F5IGZvciBwcmV2YWxcbiAgZnVuY3Rpb24gUmVhY3RHcmlkTGF5b3V0KHByb3BzXG4gIC8qOiBQcm9wcyovXG4gICwgY29udGV4dFxuICAvKjogYW55Ki9cbiAgKVxuICAvKjogdm9pZCovXG4gIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVhY3RHcmlkTGF5b3V0KTtcblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInN0YXRlXCIsIHtcbiAgICAgIGFjdGl2ZURyYWc6IG51bGwsXG4gICAgICBsYXlvdXQ6ICgwLCBfdXRpbHMuc3luY2hyb25pemVMYXlvdXRXaXRoQ2hpbGRyZW4pKF90aGlzLnByb3BzLmxheW91dCwgX3RoaXMucHJvcHMuY2hpbGRyZW4sIF90aGlzLnByb3BzLmNvbHMsIC8vIExlZ2FjeSBzdXBwb3J0IGZvciB2ZXJ0aWNhbENvbXBhY3Q6IGZhbHNlXG4gICAgICAoMCwgX3V0aWxzLmNvbXBhY3RUeXBlKShfdGhpcy5wcm9wcykpLFxuICAgICAgbW91bnRlZDogZmFsc2UsXG4gICAgICBvbGREcmFnSXRlbTogbnVsbCxcbiAgICAgIG9sZExheW91dDogbnVsbCxcbiAgICAgIG9sZFJlc2l6ZUl0ZW06IG51bGwsXG4gICAgICBkcm9wcGluZ0RPTU5vZGU6IG51bGwsXG4gICAgICBjaGlsZHJlbjogW11cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJkcmFnRW50ZXJDb3VudGVyXCIsIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uRHJhZ092ZXJcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBfZSRuYXRpdmVFdmVudCR0YXJnZXQ7XG5cbiAgICAgIC8vIHdlIHNob3VsZCBpZ25vcmUgZXZlbnRzIGZyb20gbGF5b3V0J3MgY2hpbGRyZW4gaW4gRmlyZWZveFxuICAgICAgLy8gdG8gYXZvaWQgdW5wcmVkaWN0YWJsZSBqdW1waW5nIG9mIGEgZHJvcHBpbmcgcGxhY2Vob2xkZXJcbiAgICAgIC8vIEZJWE1FIHJlbW92ZSB0aGlzIGhhY2tcbiAgICAgIGlmIChpc0ZpcmVmb3ggJiYgLy8gJEZsb3dJZ25vcmUgY2FuJ3QgZmlndXJlIHRoaXMgb3V0XG4gICAgICAhKChfZSRuYXRpdmVFdmVudCR0YXJnZXQgPSBlLm5hdGl2ZUV2ZW50LnRhcmdldCkgIT09IG51bGwgJiYgX2UkbmF0aXZlRXZlbnQkdGFyZ2V0ICE9PSB2b2lkIDAgJiYgX2UkbmF0aXZlRXZlbnQkdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhsYXlvdXRDbGFzc05hbWUpKSkge1xuICAgICAgICAvLyB3aXRob3V0IHRoaXMgRmlyZWZveCB3aWxsIG5vdCBhbGxvdyBkcm9wIGlmIGN1cnJlbnRseSBvdmVyIGRyb3BwaW5nSXRlbVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZHJvcHBpbmdJdGVtID0gX3RoaXMkcHJvcHMuZHJvcHBpbmdJdGVtLFxuICAgICAgICAgIG1hcmdpbiA9IF90aGlzJHByb3BzLm1hcmdpbixcbiAgICAgICAgICBjb2xzID0gX3RoaXMkcHJvcHMuY29scyxcbiAgICAgICAgICByb3dIZWlnaHQgPSBfdGhpcyRwcm9wcy5yb3dIZWlnaHQsXG4gICAgICAgICAgbWF4Um93cyA9IF90aGlzJHByb3BzLm1heFJvd3MsXG4gICAgICAgICAgd2lkdGggPSBfdGhpcyRwcm9wcy53aWR0aCxcbiAgICAgICAgICBjb250YWluZXJQYWRkaW5nID0gX3RoaXMkcHJvcHMuY29udGFpbmVyUGFkZGluZztcbiAgICAgIHZhciBsYXlvdXQgPSBfdGhpcy5zdGF0ZS5sYXlvdXQ7IC8vIFRoaXMgaXMgcmVsYXRpdmUgdG8gdGhlIERPTSBlbGVtZW50IHRoYXQgdGhpcyBldmVudCBmaXJlZCBmb3IuXG5cbiAgICAgIHZhciBfZSRuYXRpdmVFdmVudCA9IGUubmF0aXZlRXZlbnQsXG4gICAgICAgICAgbGF5ZXJYID0gX2UkbmF0aXZlRXZlbnQubGF5ZXJYLFxuICAgICAgICAgIGxheWVyWSA9IF9lJG5hdGl2ZUV2ZW50LmxheWVyWTtcbiAgICAgIHZhciBkcm9wcGluZ1Bvc2l0aW9uID0ge1xuICAgICAgICBsZWZ0OiBsYXllclgsXG4gICAgICAgIHRvcDogbGF5ZXJZLFxuICAgICAgICBlOiBlXG4gICAgICB9O1xuXG4gICAgICBpZiAoIV90aGlzLnN0YXRlLmRyb3BwaW5nRE9NTm9kZSkge1xuICAgICAgICB2YXIgcG9zaXRpb25QYXJhbXNcbiAgICAgICAgLyo6IFBvc2l0aW9uUGFyYW1zKi9cbiAgICAgICAgPSB7XG4gICAgICAgICAgY29sczogY29scyxcbiAgICAgICAgICBtYXJnaW46IG1hcmdpbixcbiAgICAgICAgICBtYXhSb3dzOiBtYXhSb3dzLFxuICAgICAgICAgIHJvd0hlaWdodDogcm93SGVpZ2h0LFxuICAgICAgICAgIGNvbnRhaW5lcldpZHRoOiB3aWR0aCxcbiAgICAgICAgICBjb250YWluZXJQYWRkaW5nOiBjb250YWluZXJQYWRkaW5nIHx8IG1hcmdpblxuICAgICAgICB9O1xuICAgICAgICB2YXIgY2FsY3VsYXRlZFBvc2l0aW9uID0gKDAsIF9jYWxjdWxhdGVVdGlscy5jYWxjWFkpKHBvc2l0aW9uUGFyYW1zLCBsYXllclksIGxheWVyWCwgZHJvcHBpbmdJdGVtLncsIGRyb3BwaW5nSXRlbS5oKTtcblxuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZHJvcHBpbmdET01Ob2RlOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgICBrZXk6IGRyb3BwaW5nSXRlbS5pXG4gICAgICAgICAgfSksXG4gICAgICAgICAgZHJvcHBpbmdQb3NpdGlvbjogZHJvcHBpbmdQb3NpdGlvbixcbiAgICAgICAgICBsYXlvdXQ6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobGF5b3V0KSwgW19vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZHJvcHBpbmdJdGVtKSwge30sIHtcbiAgICAgICAgICAgIHg6IGNhbGN1bGF0ZWRQb3NpdGlvbi54LFxuICAgICAgICAgICAgeTogY2FsY3VsYXRlZFBvc2l0aW9uLnksXG4gICAgICAgICAgICBzdGF0aWM6IGZhbHNlLFxuICAgICAgICAgICAgaXNEcmFnZ2FibGU6IHRydWVcbiAgICAgICAgICB9KV0pXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChfdGhpcy5zdGF0ZS5kcm9wcGluZ1Bvc2l0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyRzdGF0ZSRkcm9wcGluZ1AgPSBfdGhpcy5zdGF0ZS5kcm9wcGluZ1Bvc2l0aW9uLFxuICAgICAgICAgICAgbGVmdCA9IF90aGlzJHN0YXRlJGRyb3BwaW5nUC5sZWZ0LFxuICAgICAgICAgICAgdG9wID0gX3RoaXMkc3RhdGUkZHJvcHBpbmdQLnRvcDtcbiAgICAgICAgdmFyIHNob3VsZFVwZGF0ZVBvc2l0aW9uID0gbGVmdCAhPSBsYXllclggfHwgdG9wICE9IGxheWVyWTtcblxuICAgICAgICBpZiAoc2hvdWxkVXBkYXRlUG9zaXRpb24pIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBkcm9wcGluZ1Bvc2l0aW9uOiBkcm9wcGluZ1Bvc2l0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJyZW1vdmVEcm9wcGluZ1BsYWNlaG9sZGVyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkcm9wcGluZ0l0ZW0gPSBfdGhpcyRwcm9wczIuZHJvcHBpbmdJdGVtLFxuICAgICAgICAgIGNvbHMgPSBfdGhpcyRwcm9wczIuY29scztcbiAgICAgIHZhciBsYXlvdXQgPSBfdGhpcy5zdGF0ZS5sYXlvdXQ7XG4gICAgICB2YXIgbmV3TGF5b3V0ID0gKDAsIF91dGlscy5jb21wYWN0KShsYXlvdXQuZmlsdGVyKGZ1bmN0aW9uIChsKSB7XG4gICAgICAgIHJldHVybiBsLmkgIT09IGRyb3BwaW5nSXRlbS5pO1xuICAgICAgfSksICgwLCBfdXRpbHMuY29tcGFjdFR5cGUpKF90aGlzLnByb3BzKSwgY29scyk7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgbGF5b3V0OiBuZXdMYXlvdXQsXG4gICAgICAgIGRyb3BwaW5nRE9NTm9kZTogbnVsbCxcbiAgICAgICAgYWN0aXZlRHJhZzogbnVsbCxcbiAgICAgICAgZHJvcHBpbmdQb3NpdGlvbjogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkRyYWdMZWF2ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5kcmFnRW50ZXJDb3VudGVyLS07IC8vIG9uRHJhZ0xlYXZlIGNhbiBiZSB0cmlnZ2VyZWQgb24gZWFjaCBsYXlvdXQncyBjaGlsZC5cbiAgICAgIC8vIEJ1dCB3ZSBrbm93IHRoYXQgY291bnQgb2YgZHJhZ0VudGVyIGFuZCBkcmFnTGVhdmUgZXZlbnRzXG4gICAgICAvLyB3aWxsIGJlIGJhbGFuY2VkIGFmdGVyIGxlYXZpbmcgdGhlIGxheW91dCdzIGNvbnRhaW5lclxuICAgICAgLy8gc28gd2UgY2FuIGluY3JlYXNlIGFuZCBkZWNyZWFzZSBjb3VudCBvZiBkcmFnRW50ZXIgYW5kXG4gICAgICAvLyB3aGVuIGl0J2xsIGJlIGVxdWFsIHRvIDAgd2UnbGwgcmVtb3ZlIHRoZSBwbGFjZWhvbGRlclxuXG4gICAgICBpZiAoX3RoaXMuZHJhZ0VudGVyQ291bnRlciA9PT0gMCkge1xuICAgICAgICBfdGhpcy5yZW1vdmVEcm9wcGluZ1BsYWNlaG9sZGVyKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25EcmFnRW50ZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuZHJhZ0VudGVyQ291bnRlcisrO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm9uRHJvcFwiLCBmdW5jdGlvbiAoZVxuICAgIC8qOiBFdmVudCovXG4gICAgKSB7XG4gICAgICB2YXIgZHJvcHBpbmdJdGVtID0gX3RoaXMucHJvcHMuZHJvcHBpbmdJdGVtO1xuICAgICAgdmFyIGxheW91dCA9IF90aGlzLnN0YXRlLmxheW91dDtcbiAgICAgIHZhciBpdGVtID0gbGF5b3V0LmZpbmQoZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgcmV0dXJuIGwuaSA9PT0gZHJvcHBpbmdJdGVtLmk7XG4gICAgICB9KTsgLy8gcmVzZXQgZHJhZ0VudGVyIGNvdW50ZXIgb24gZHJvcFxuXG4gICAgICBfdGhpcy5kcmFnRW50ZXJDb3VudGVyID0gMDtcblxuICAgICAgX3RoaXMucmVtb3ZlRHJvcHBpbmdQbGFjZWhvbGRlcigpO1xuXG4gICAgICBfdGhpcy5wcm9wcy5vbkRyb3AobGF5b3V0LCBpdGVtLCBlKTtcbiAgICB9KTtcblxuICAgICgwLCBfdXRpbHMuYXV0b0JpbmRIYW5kbGVycykoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFtcIm9uRHJhZ1N0YXJ0XCIsIFwib25EcmFnXCIsIFwib25EcmFnU3RvcFwiLCBcIm9uUmVzaXplU3RhcnRcIiwgXCJvblJlc2l6ZVwiLCBcIm9uUmVzaXplU3RvcFwiXSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJlYWN0R3JpZExheW91dCwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgbW91bnRlZDogdHJ1ZVxuICAgICAgfSk7IC8vIFBvc3NpYmx5IGNhbGwgYmFjayB3aXRoIGxheW91dCBvbiBtb3VudC4gVGhpcyBzaG91bGQgYmUgZG9uZSBhZnRlciBjb3JyZWN0aW5nIHRoZSBsYXlvdXQgd2lkdGhcbiAgICAgIC8vIHRvIGVuc3VyZSB3ZSBkb24ndCByZXJlbmRlciB3aXRoIHRoZSB3cm9uZyB3aWR0aC5cblxuICAgICAgdGhpcy5vbkxheW91dE1heWJlQ2hhbmdlZCh0aGlzLnN0YXRlLmxheW91dCwgdGhpcy5wcm9wcy5sYXlvdXQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaG91bGRDb21wb25lbnRVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wc1xuICAgIC8qOiBQcm9wcyovXG4gICAgLCBuZXh0U3RhdGVcbiAgICAvKjogU3RhdGUqL1xuICAgIClcbiAgICAvKjogYm9vbGVhbiovXG4gICAge1xuICAgICAgcmV0dXJuICgvLyBOT1RFOiB0aGlzIGlzIGFsbW9zdCBhbHdheXMgdW5lcXVhbC4gVGhlcmVmb3JlIHRoZSBvbmx5IHdheSB0byBnZXQgYmV0dGVyIHBlcmZvcm1hbmNlXG4gICAgICAgIC8vIGZyb20gU0NVIGlzIGlmIHRoZSB1c2VyIGludGVudGlvbmFsbHkgbWVtb2l6ZXMgY2hpbGRyZW4uIElmIHRoZXkgZG8sIGFuZCB0aGV5IGNhblxuICAgICAgICAvLyBoYW5kbGUgY2hhbmdlcyBwcm9wZXJseSwgcGVyZm9ybWFuY2Ugd2lsbCBpbmNyZWFzZS5cbiAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbiAhPT0gbmV4dFByb3BzLmNoaWxkcmVuIHx8ICEoMCwgX3V0aWxzLmZhc3RSR0xQcm9wc0VxdWFsKSh0aGlzLnByb3BzLCBuZXh0UHJvcHMsIF9sb2Rhc2guZGVmYXVsdCkgfHwgdGhpcy5zdGF0ZS5hY3RpdmVEcmFnICE9PSBuZXh0U3RhdGUuYWN0aXZlRHJhZyB8fCB0aGlzLnN0YXRlLm1vdW50ZWQgIT09IG5leHRTdGF0ZS5tb3VudGVkIHx8IHRoaXMuc3RhdGUuZHJvcHBpbmdQb3NpdGlvbiAhPT0gbmV4dFN0YXRlLmRyb3BwaW5nUG9zaXRpb25cbiAgICAgICk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudERpZFVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzXG4gICAgLyo6IFByb3BzKi9cbiAgICAsIHByZXZTdGF0ZVxuICAgIC8qOiBTdGF0ZSovXG4gICAgKSB7XG4gICAgICBpZiAoIXRoaXMuc3RhdGUuYWN0aXZlRHJhZykge1xuICAgICAgICB2YXIgbmV3TGF5b3V0ID0gdGhpcy5zdGF0ZS5sYXlvdXQ7XG4gICAgICAgIHZhciBvbGRMYXlvdXQgPSBwcmV2U3RhdGUubGF5b3V0O1xuICAgICAgICB0aGlzLm9uTGF5b3V0TWF5YmVDaGFuZ2VkKG5ld0xheW91dCwgb2xkTGF5b3V0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyBhIHBpeGVsIHZhbHVlIGZvciB0aGUgY29udGFpbmVyLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gQ29udGFpbmVyIGhlaWdodCBpbiBwaXhlbHMuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjb250YWluZXJIZWlnaHRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29udGFpbmVySGVpZ2h0KClcbiAgICAvKjogP3N0cmluZyovXG4gICAge1xuICAgICAgaWYgKCF0aGlzLnByb3BzLmF1dG9TaXplKSByZXR1cm47XG4gICAgICB2YXIgbmJSb3cgPSAoMCwgX3V0aWxzLmJvdHRvbSkodGhpcy5zdGF0ZS5sYXlvdXQpO1xuICAgICAgdmFyIGNvbnRhaW5lclBhZGRpbmdZID0gdGhpcy5wcm9wcy5jb250YWluZXJQYWRkaW5nID8gdGhpcy5wcm9wcy5jb250YWluZXJQYWRkaW5nWzFdIDogdGhpcy5wcm9wcy5tYXJnaW5bMV07XG4gICAgICByZXR1cm4gbmJSb3cgKiB0aGlzLnByb3BzLnJvd0hlaWdodCArIChuYlJvdyAtIDEpICogdGhpcy5wcm9wcy5tYXJnaW5bMV0gKyBjb250YWluZXJQYWRkaW5nWSAqIDIgKyBcInB4XCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gZHJhZ2dpbmcgc3RhcnRzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGkgSWQgb2YgdGhlIGNoaWxkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggWCBwb3NpdGlvbiBvZiB0aGUgbW92ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgcG9zaXRpb24gb2YgdGhlIG1vdmVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIFRoZSBtb3VzZWRvd24gZXZlbnRcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgVGhlIGN1cnJlbnQgZHJhZ2dpbmcgRE9NIGVsZW1lbnRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uRHJhZ1N0YXJ0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KGlcbiAgICAvKjogc3RyaW5nKi9cbiAgICAsIHhcbiAgICAvKjogbnVtYmVyKi9cbiAgICAsIHlcbiAgICAvKjogbnVtYmVyKi9cbiAgICAsIF9yZWYpXG4gICAgLyo6IHZvaWQqL1xuICAgIHtcbiAgICAgIHZhciBlID0gX3JlZi5lLFxuICAgICAgICAgIG5vZGUgPSBfcmVmLm5vZGU7XG4gICAgICB2YXIgbGF5b3V0ID0gdGhpcy5zdGF0ZS5sYXlvdXQ7XG4gICAgICB2YXIgbCA9ICgwLCBfdXRpbHMuZ2V0TGF5b3V0SXRlbSkobGF5b3V0LCBpKTtcbiAgICAgIGlmICghbCkgcmV0dXJuO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9sZERyYWdJdGVtOiAoMCwgX3V0aWxzLmNsb25lTGF5b3V0SXRlbSkobCksXG4gICAgICAgIG9sZExheW91dDogdGhpcy5zdGF0ZS5sYXlvdXRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMub25EcmFnU3RhcnQobGF5b3V0LCBsLCBsLCBudWxsLCBlLCBub2RlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRWFjaCBkcmFnIG1vdmVtZW50IGNyZWF0ZSBhIG5ldyBkcmFnZWxlbWVudCBhbmQgbW92ZSB0aGUgZWxlbWVudCB0byB0aGUgZHJhZ2dlZCBsb2NhdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpIElkIG9mIHRoZSBjaGlsZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IFggcG9zaXRpb24gb2YgdGhlIG1vdmVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSBZIHBvc2l0aW9uIG9mIHRoZSBtb3ZlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBUaGUgbW91c2Vkb3duIGV2ZW50XG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBub2RlIFRoZSBjdXJyZW50IGRyYWdnaW5nIERPTSBlbGVtZW50XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvbkRyYWdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25EcmFnKGlcbiAgICAvKjogc3RyaW5nKi9cbiAgICAsIHhcbiAgICAvKjogbnVtYmVyKi9cbiAgICAsIHlcbiAgICAvKjogbnVtYmVyKi9cbiAgICAsIF9yZWYyKVxuICAgIC8qOiB2b2lkKi9cbiAgICB7XG4gICAgICB2YXIgZSA9IF9yZWYyLmUsXG4gICAgICAgICAgbm9kZSA9IF9yZWYyLm5vZGU7XG4gICAgICB2YXIgb2xkRHJhZ0l0ZW0gPSB0aGlzLnN0YXRlLm9sZERyYWdJdGVtO1xuICAgICAgdmFyIGxheW91dCA9IHRoaXMuc3RhdGUubGF5b3V0O1xuICAgICAgdmFyIGNvbHMgPSB0aGlzLnByb3BzLmNvbHM7XG4gICAgICB2YXIgbCA9ICgwLCBfdXRpbHMuZ2V0TGF5b3V0SXRlbSkobGF5b3V0LCBpKTtcbiAgICAgIGlmICghbCkgcmV0dXJuOyAvLyBDcmVhdGUgcGxhY2Vob2xkZXIgKGRpc3BsYXkgb25seSlcblxuICAgICAgdmFyIHBsYWNlaG9sZGVyID0ge1xuICAgICAgICB3OiBsLncsXG4gICAgICAgIGg6IGwuaCxcbiAgICAgICAgeDogbC54LFxuICAgICAgICB5OiBsLnksXG4gICAgICAgIHBsYWNlaG9sZGVyOiB0cnVlLFxuICAgICAgICBpOiBpXG4gICAgICB9OyAvLyBNb3ZlIHRoZSBlbGVtZW50IHRvIHRoZSBkcmFnZ2VkIGxvY2F0aW9uLlxuXG4gICAgICB2YXIgaXNVc2VyQWN0aW9uID0gdHJ1ZTtcbiAgICAgIGxheW91dCA9ICgwLCBfdXRpbHMubW92ZUVsZW1lbnQpKGxheW91dCwgbCwgeCwgeSwgaXNVc2VyQWN0aW9uLCB0aGlzLnByb3BzLnByZXZlbnRDb2xsaXNpb24sICgwLCBfdXRpbHMuY29tcGFjdFR5cGUpKHRoaXMucHJvcHMpLCBjb2xzKTtcbiAgICAgIHRoaXMucHJvcHMub25EcmFnKGxheW91dCwgb2xkRHJhZ0l0ZW0sIGwsIHBsYWNlaG9sZGVyLCBlLCBub2RlKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBsYXlvdXQ6ICgwLCBfdXRpbHMuY29tcGFjdCkobGF5b3V0LCAoMCwgX3V0aWxzLmNvbXBhY3RUeXBlKSh0aGlzLnByb3BzKSwgY29scyksXG4gICAgICAgIGFjdGl2ZURyYWc6IHBsYWNlaG9sZGVyXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiBkcmFnZ2luZyBzdG9wcywgZmlndXJlIG91dCB3aGljaCBwb3NpdGlvbiB0aGUgZWxlbWVudCBpcyBjbG9zZXN0IHRvIGFuZCB1cGRhdGUgaXRzIHggYW5kIHkuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBpIEluZGV4IG9mIHRoZSBjaGlsZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCBYIHBvc2l0aW9uIG9mIHRoZSBtb3ZlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBwb3NpdGlvbiBvZiB0aGUgbW92ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgVGhlIG1vdXNlZG93biBldmVudFxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZSBUaGUgY3VycmVudCBkcmFnZ2luZyBET00gZWxlbWVudFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib25EcmFnU3RvcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkRyYWdTdG9wKGlcbiAgICAvKjogc3RyaW5nKi9cbiAgICAsIHhcbiAgICAvKjogbnVtYmVyKi9cbiAgICAsIHlcbiAgICAvKjogbnVtYmVyKi9cbiAgICAsIF9yZWYzKVxuICAgIC8qOiB2b2lkKi9cbiAgICB7XG4gICAgICB2YXIgZSA9IF9yZWYzLmUsXG4gICAgICAgICAgbm9kZSA9IF9yZWYzLm5vZGU7XG4gICAgICBpZiAoIXRoaXMuc3RhdGUuYWN0aXZlRHJhZykgcmV0dXJuO1xuICAgICAgdmFyIG9sZERyYWdJdGVtID0gdGhpcy5zdGF0ZS5vbGREcmFnSXRlbTtcbiAgICAgIHZhciBsYXlvdXQgPSB0aGlzLnN0YXRlLmxheW91dDtcbiAgICAgIHZhciBfdGhpcyRwcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNvbHMgPSBfdGhpcyRwcm9wczMuY29scyxcbiAgICAgICAgICBwcmV2ZW50Q29sbGlzaW9uID0gX3RoaXMkcHJvcHMzLnByZXZlbnRDb2xsaXNpb247XG4gICAgICB2YXIgbCA9ICgwLCBfdXRpbHMuZ2V0TGF5b3V0SXRlbSkobGF5b3V0LCBpKTtcbiAgICAgIGlmICghbCkgcmV0dXJuOyAvLyBNb3ZlIHRoZSBlbGVtZW50IGhlcmVcblxuICAgICAgdmFyIGlzVXNlckFjdGlvbiA9IHRydWU7XG4gICAgICBsYXlvdXQgPSAoMCwgX3V0aWxzLm1vdmVFbGVtZW50KShsYXlvdXQsIGwsIHgsIHksIGlzVXNlckFjdGlvbiwgcHJldmVudENvbGxpc2lvbiwgKDAsIF91dGlscy5jb21wYWN0VHlwZSkodGhpcy5wcm9wcyksIGNvbHMpO1xuICAgICAgdGhpcy5wcm9wcy5vbkRyYWdTdG9wKGxheW91dCwgb2xkRHJhZ0l0ZW0sIGwsIG51bGwsIGUsIG5vZGUpOyAvLyBTZXQgc3RhdGVcblxuICAgICAgdmFyIG5ld0xheW91dCA9ICgwLCBfdXRpbHMuY29tcGFjdCkobGF5b3V0LCAoMCwgX3V0aWxzLmNvbXBhY3RUeXBlKSh0aGlzLnByb3BzKSwgY29scyk7XG4gICAgICB2YXIgb2xkTGF5b3V0ID0gdGhpcy5zdGF0ZS5vbGRMYXlvdXQ7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgYWN0aXZlRHJhZzogbnVsbCxcbiAgICAgICAgbGF5b3V0OiBuZXdMYXlvdXQsXG4gICAgICAgIG9sZERyYWdJdGVtOiBudWxsLFxuICAgICAgICBvbGRMYXlvdXQ6IG51bGxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5vbkxheW91dE1heWJlQ2hhbmdlZChuZXdMYXlvdXQsIG9sZExheW91dCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uTGF5b3V0TWF5YmVDaGFuZ2VkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTGF5b3V0TWF5YmVDaGFuZ2VkKG5ld0xheW91dFxuICAgIC8qOiBMYXlvdXQqL1xuICAgICwgb2xkTGF5b3V0XG4gICAgLyo6ID9MYXlvdXQqL1xuICAgICkge1xuICAgICAgaWYgKCFvbGRMYXlvdXQpIG9sZExheW91dCA9IHRoaXMuc3RhdGUubGF5b3V0O1xuXG4gICAgICBpZiAoISgwLCBfbG9kYXNoLmRlZmF1bHQpKG9sZExheW91dCwgbmV3TGF5b3V0KSkge1xuICAgICAgICB0aGlzLnByb3BzLm9uTGF5b3V0Q2hhbmdlKG5ld0xheW91dCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUmVzaXplU3RhcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SZXNpemVTdGFydChpXG4gICAgLyo6IHN0cmluZyovXG4gICAgLCB3XG4gICAgLyo6IG51bWJlciovXG4gICAgLCBoXG4gICAgLyo6IG51bWJlciovXG4gICAgLCBfcmVmNCkge1xuICAgICAgdmFyIGUgPSBfcmVmNC5lLFxuICAgICAgICAgIG5vZGUgPSBfcmVmNC5ub2RlO1xuICAgICAgdmFyIGxheW91dCA9IHRoaXMuc3RhdGUubGF5b3V0O1xuICAgICAgdmFyIGwgPSAoMCwgX3V0aWxzLmdldExheW91dEl0ZW0pKGxheW91dCwgaSk7XG4gICAgICBpZiAoIWwpIHJldHVybjtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvbGRSZXNpemVJdGVtOiAoMCwgX3V0aWxzLmNsb25lTGF5b3V0SXRlbSkobCksXG4gICAgICAgIG9sZExheW91dDogdGhpcy5zdGF0ZS5sYXlvdXRcbiAgICAgIH0pO1xuICAgICAgdGhpcy5wcm9wcy5vblJlc2l6ZVN0YXJ0KGxheW91dCwgbCwgbCwgbnVsbCwgZSwgbm9kZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKGlcbiAgICAvKjogc3RyaW5nKi9cbiAgICAsIHdcbiAgICAvKjogbnVtYmVyKi9cbiAgICAsIGhcbiAgICAvKjogbnVtYmVyKi9cbiAgICAsIF9yZWY1KSB7XG4gICAgICB2YXIgZSA9IF9yZWY1LmUsXG4gICAgICAgICAgbm9kZSA9IF9yZWY1Lm5vZGU7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIGxheW91dCA9IF90aGlzJHN0YXRlLmxheW91dCxcbiAgICAgICAgICBvbGRSZXNpemVJdGVtID0gX3RoaXMkc3RhdGUub2xkUmVzaXplSXRlbTtcbiAgICAgIHZhciBfdGhpcyRwcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNvbHMgPSBfdGhpcyRwcm9wczQuY29scyxcbiAgICAgICAgICBwcmV2ZW50Q29sbGlzaW9uID0gX3RoaXMkcHJvcHM0LnByZXZlbnRDb2xsaXNpb247XG5cbiAgICAgIHZhciBfd2l0aExheW91dEl0ZW0gPSAoMCwgX3V0aWxzLndpdGhMYXlvdXRJdGVtKShsYXlvdXQsIGksIGZ1bmN0aW9uIChsKSB7XG4gICAgICAgIC8vIFNvbWV0aGluZyBsaWtlIHF1YWQgdHJlZSBzaG91bGQgYmUgdXNlZFxuICAgICAgICAvLyB0byBmaW5kIGNvbGxpc2lvbnMgZmFzdGVyXG4gICAgICAgIHZhciBoYXNDb2xsaXNpb25zO1xuXG4gICAgICAgIGlmIChwcmV2ZW50Q29sbGlzaW9uKSB7XG4gICAgICAgICAgdmFyIGNvbGxpc2lvbnMgPSAoMCwgX3V0aWxzLmdldEFsbENvbGxpc2lvbnMpKGxheW91dCwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBsKSwge30sIHtcbiAgICAgICAgICAgIHc6IHcsXG4gICAgICAgICAgICBoOiBoXG4gICAgICAgICAgfSkpLmZpbHRlcihmdW5jdGlvbiAobGF5b3V0SXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGxheW91dEl0ZW0uaSAhPT0gbC5pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGhhc0NvbGxpc2lvbnMgPSBjb2xsaXNpb25zLmxlbmd0aCA+IDA7IC8vIElmIHdlJ3JlIGNvbGxpZGluZywgd2UgbmVlZCBhZGp1c3QgdGhlIHBsYWNlaG9sZGVyLlxuXG4gICAgICAgICAgaWYgKGhhc0NvbGxpc2lvbnMpIHtcbiAgICAgICAgICAgIC8vIGFkanVzdCB3ICYmIGggdG8gbWF4aW11bSBhbGxvd2VkIHNwYWNlXG4gICAgICAgICAgICB2YXIgbGVhc3RYID0gSW5maW5pdHksXG4gICAgICAgICAgICAgICAgbGVhc3RZID0gSW5maW5pdHk7XG4gICAgICAgICAgICBjb2xsaXNpb25zLmZvckVhY2goZnVuY3Rpb24gKGxheW91dEl0ZW0pIHtcbiAgICAgICAgICAgICAgaWYgKGxheW91dEl0ZW0ueCA+IGwueCkgbGVhc3RYID0gTWF0aC5taW4obGVhc3RYLCBsYXlvdXRJdGVtLngpO1xuICAgICAgICAgICAgICBpZiAobGF5b3V0SXRlbS55ID4gbC55KSBsZWFzdFkgPSBNYXRoLm1pbihsZWFzdFksIGxheW91dEl0ZW0ueSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUobGVhc3RYKSkgbC53ID0gbGVhc3RYIC0gbC54O1xuICAgICAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShsZWFzdFkpKSBsLmggPSBsZWFzdFkgLSBsLnk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFoYXNDb2xsaXNpb25zKSB7XG4gICAgICAgICAgLy8gU2V0IG5ldyB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAgICAgIGwudyA9IHc7XG4gICAgICAgICAgbC5oID0gaDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsO1xuICAgICAgfSksXG4gICAgICAgICAgX3dpdGhMYXlvdXRJdGVtMiA9IF9zbGljZWRUb0FycmF5KF93aXRoTGF5b3V0SXRlbSwgMiksXG4gICAgICAgICAgbmV3TGF5b3V0ID0gX3dpdGhMYXlvdXRJdGVtMlswXSxcbiAgICAgICAgICBsID0gX3dpdGhMYXlvdXRJdGVtMlsxXTsgLy8gU2hvdWxkbid0IGV2ZXIgaGFwcGVuLCBidXQgdHlwZWNoZWNraW5nIG1ha2VzIGl0IG5lY2Vzc2FyeVxuXG5cbiAgICAgIGlmICghbCkgcmV0dXJuOyAvLyBDcmVhdGUgcGxhY2Vob2xkZXIgZWxlbWVudCAoZGlzcGxheSBvbmx5KVxuXG4gICAgICB2YXIgcGxhY2Vob2xkZXIgPSB7XG4gICAgICAgIHc6IGwudyxcbiAgICAgICAgaDogbC5oLFxuICAgICAgICB4OiBsLngsXG4gICAgICAgIHk6IGwueSxcbiAgICAgICAgc3RhdGljOiB0cnVlLFxuICAgICAgICBpOiBpXG4gICAgICB9O1xuICAgICAgdGhpcy5wcm9wcy5vblJlc2l6ZShuZXdMYXlvdXQsIG9sZFJlc2l6ZUl0ZW0sIGwsIHBsYWNlaG9sZGVyLCBlLCBub2RlKTsgLy8gUmUtY29tcGFjdCB0aGUgbmV3TGF5b3V0IGFuZCBzZXQgdGhlIGRyYWcgcGxhY2Vob2xkZXIuXG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBsYXlvdXQ6ICgwLCBfdXRpbHMuY29tcGFjdCkobmV3TGF5b3V0LCAoMCwgX3V0aWxzLmNvbXBhY3RUeXBlKSh0aGlzLnByb3BzKSwgY29scyksXG4gICAgICAgIGFjdGl2ZURyYWc6IHBsYWNlaG9sZGVyXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SZXNpemVTdG9wXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplU3RvcChpXG4gICAgLyo6IHN0cmluZyovXG4gICAgLCB3XG4gICAgLyo6IG51bWJlciovXG4gICAgLCBoXG4gICAgLyo6IG51bWJlciovXG4gICAgLCBfcmVmNikge1xuICAgICAgdmFyIGUgPSBfcmVmNi5lLFxuICAgICAgICAgIG5vZGUgPSBfcmVmNi5ub2RlO1xuICAgICAgdmFyIF90aGlzJHN0YXRlMiA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgbGF5b3V0ID0gX3RoaXMkc3RhdGUyLmxheW91dCxcbiAgICAgICAgICBvbGRSZXNpemVJdGVtID0gX3RoaXMkc3RhdGUyLm9sZFJlc2l6ZUl0ZW07XG4gICAgICB2YXIgY29scyA9IHRoaXMucHJvcHMuY29scztcbiAgICAgIHZhciBsID0gKDAsIF91dGlscy5nZXRMYXlvdXRJdGVtKShsYXlvdXQsIGkpO1xuICAgICAgdGhpcy5wcm9wcy5vblJlc2l6ZVN0b3AobGF5b3V0LCBvbGRSZXNpemVJdGVtLCBsLCBudWxsLCBlLCBub2RlKTsgLy8gU2V0IHN0YXRlXG5cbiAgICAgIHZhciBuZXdMYXlvdXQgPSAoMCwgX3V0aWxzLmNvbXBhY3QpKGxheW91dCwgKDAsIF91dGlscy5jb21wYWN0VHlwZSkodGhpcy5wcm9wcyksIGNvbHMpO1xuICAgICAgdmFyIG9sZExheW91dCA9IHRoaXMuc3RhdGUub2xkTGF5b3V0O1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGFjdGl2ZURyYWc6IG51bGwsXG4gICAgICAgIGxheW91dDogbmV3TGF5b3V0LFxuICAgICAgICBvbGRSZXNpemVJdGVtOiBudWxsLFxuICAgICAgICBvbGRMYXlvdXQ6IG51bGxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5vbkxheW91dE1heWJlQ2hhbmdlZChuZXdMYXlvdXQsIG9sZExheW91dCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHBsYWNlaG9sZGVyIG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fSBQbGFjZWhvbGRlciBkaXYuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJwbGFjZWhvbGRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwbGFjZWhvbGRlcigpXG4gICAgLyo6ID9SZWFjdEVsZW1lbnQ8YW55PiovXG4gICAge1xuICAgICAgdmFyIGFjdGl2ZURyYWcgPSB0aGlzLnN0YXRlLmFjdGl2ZURyYWc7XG4gICAgICBpZiAoIWFjdGl2ZURyYWcpIHJldHVybiBudWxsO1xuICAgICAgdmFyIF90aGlzJHByb3BzNSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgd2lkdGggPSBfdGhpcyRwcm9wczUud2lkdGgsXG4gICAgICAgICAgY29scyA9IF90aGlzJHByb3BzNS5jb2xzLFxuICAgICAgICAgIG1hcmdpbiA9IF90aGlzJHByb3BzNS5tYXJnaW4sXG4gICAgICAgICAgY29udGFpbmVyUGFkZGluZyA9IF90aGlzJHByb3BzNS5jb250YWluZXJQYWRkaW5nLFxuICAgICAgICAgIHJvd0hlaWdodCA9IF90aGlzJHByb3BzNS5yb3dIZWlnaHQsXG4gICAgICAgICAgbWF4Um93cyA9IF90aGlzJHByb3BzNS5tYXhSb3dzLFxuICAgICAgICAgIHVzZUNTU1RyYW5zZm9ybXMgPSBfdGhpcyRwcm9wczUudXNlQ1NTVHJhbnNmb3JtcyxcbiAgICAgICAgICB0cmFuc2Zvcm1TY2FsZSA9IF90aGlzJHByb3BzNS50cmFuc2Zvcm1TY2FsZTsgLy8gey4uLnRoaXMuc3RhdGUuYWN0aXZlRHJhZ30gaXMgcHJldHR5IHNsb3csIGFjdHVhbGx5XG5cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfR3JpZEl0ZW0uZGVmYXVsdCwge1xuICAgICAgICB3OiBhY3RpdmVEcmFnLncsXG4gICAgICAgIGg6IGFjdGl2ZURyYWcuaCxcbiAgICAgICAgeDogYWN0aXZlRHJhZy54LFxuICAgICAgICB5OiBhY3RpdmVEcmFnLnksXG4gICAgICAgIGk6IGFjdGl2ZURyYWcuaSxcbiAgICAgICAgY2xhc3NOYW1lOiBcInJlYWN0LWdyaWQtcGxhY2Vob2xkZXJcIixcbiAgICAgICAgY29udGFpbmVyV2lkdGg6IHdpZHRoLFxuICAgICAgICBjb2xzOiBjb2xzLFxuICAgICAgICBtYXJnaW46IG1hcmdpbixcbiAgICAgICAgY29udGFpbmVyUGFkZGluZzogY29udGFpbmVyUGFkZGluZyB8fCBtYXJnaW4sXG4gICAgICAgIG1heFJvd3M6IG1heFJvd3MsXG4gICAgICAgIHJvd0hlaWdodDogcm93SGVpZ2h0LFxuICAgICAgICBpc0RyYWdnYWJsZTogZmFsc2UsXG4gICAgICAgIGlzUmVzaXphYmxlOiBmYWxzZSxcbiAgICAgICAgaXNCb3VuZGVkOiBmYWxzZSxcbiAgICAgICAgdXNlQ1NTVHJhbnNmb3JtczogdXNlQ1NTVHJhbnNmb3JtcyxcbiAgICAgICAgdHJhbnNmb3JtU2NhbGU6IHRyYW5zZm9ybVNjYWxlXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgZ3JpZCBpdGVtLCBzZXQgaXRzIHN0eWxlIGF0dHJpYnV0ZXMgJiBzdXJyb3VuZCBpbiBhIDxEcmFnZ2FibGU+LlxuICAgICAqIEBwYXJhbSAge0VsZW1lbnR9IGNoaWxkIFJlYWN0IGVsZW1lbnQuXG4gICAgICogQHJldHVybiB7RWxlbWVudH0gICAgICAgRWxlbWVudCB3cmFwcGVkIGluIGRyYWdnYWJsZSBhbmQgcHJvcGVybHkgcGxhY2VkLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicHJvY2Vzc0dyaWRJdGVtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHByb2Nlc3NHcmlkSXRlbShjaGlsZFxuICAgIC8qOiBSZWFjdEVsZW1lbnQ8YW55PiovXG4gICAgLCBpc0Ryb3BwaW5nSXRlbVxuICAgIC8qOiBib29sZWFuKi9cbiAgICApXG4gICAgLyo6ID9SZWFjdEVsZW1lbnQ8YW55PiovXG4gICAge1xuICAgICAgaWYgKCFjaGlsZCB8fCAhY2hpbGQua2V5KSByZXR1cm47XG4gICAgICB2YXIgbCA9ICgwLCBfdXRpbHMuZ2V0TGF5b3V0SXRlbSkodGhpcy5zdGF0ZS5sYXlvdXQsIFN0cmluZyhjaGlsZC5rZXkpKTtcbiAgICAgIGlmICghbCkgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM2ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICB3aWR0aCA9IF90aGlzJHByb3BzNi53aWR0aCxcbiAgICAgICAgICBjb2xzID0gX3RoaXMkcHJvcHM2LmNvbHMsXG4gICAgICAgICAgbWFyZ2luID0gX3RoaXMkcHJvcHM2Lm1hcmdpbixcbiAgICAgICAgICBjb250YWluZXJQYWRkaW5nID0gX3RoaXMkcHJvcHM2LmNvbnRhaW5lclBhZGRpbmcsXG4gICAgICAgICAgcm93SGVpZ2h0ID0gX3RoaXMkcHJvcHM2LnJvd0hlaWdodCxcbiAgICAgICAgICBtYXhSb3dzID0gX3RoaXMkcHJvcHM2Lm1heFJvd3MsXG4gICAgICAgICAgaXNEcmFnZ2FibGUgPSBfdGhpcyRwcm9wczYuaXNEcmFnZ2FibGUsXG4gICAgICAgICAgaXNSZXNpemFibGUgPSBfdGhpcyRwcm9wczYuaXNSZXNpemFibGUsXG4gICAgICAgICAgaXNCb3VuZGVkID0gX3RoaXMkcHJvcHM2LmlzQm91bmRlZCxcbiAgICAgICAgICB1c2VDU1NUcmFuc2Zvcm1zID0gX3RoaXMkcHJvcHM2LnVzZUNTU1RyYW5zZm9ybXMsXG4gICAgICAgICAgdHJhbnNmb3JtU2NhbGUgPSBfdGhpcyRwcm9wczYudHJhbnNmb3JtU2NhbGUsXG4gICAgICAgICAgZHJhZ2dhYmxlQ2FuY2VsID0gX3RoaXMkcHJvcHM2LmRyYWdnYWJsZUNhbmNlbCxcbiAgICAgICAgICBkcmFnZ2FibGVIYW5kbGUgPSBfdGhpcyRwcm9wczYuZHJhZ2dhYmxlSGFuZGxlLFxuICAgICAgICAgIHJlc2l6ZUhhbmRsZXMgPSBfdGhpcyRwcm9wczYucmVzaXplSGFuZGxlcyxcbiAgICAgICAgICByZXNpemVIYW5kbGUgPSBfdGhpcyRwcm9wczYucmVzaXplSGFuZGxlO1xuICAgICAgdmFyIF90aGlzJHN0YXRlMyA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgbW91bnRlZCA9IF90aGlzJHN0YXRlMy5tb3VudGVkLFxuICAgICAgICAgIGRyb3BwaW5nUG9zaXRpb24gPSBfdGhpcyRzdGF0ZTMuZHJvcHBpbmdQb3NpdGlvbjsgLy8gRGV0ZXJtaW5lIHVzZXIgbWFuaXB1bGF0aW9ucyBwb3NzaWJsZS5cbiAgICAgIC8vIElmIGFuIGl0ZW0gaXMgc3RhdGljLCBpdCBjYW4ndCBiZSBtYW5pcHVsYXRlZCBieSBkZWZhdWx0LlxuICAgICAgLy8gQW55IHByb3BlcnRpZXMgZGVmaW5lZCBkaXJlY3RseSBvbiB0aGUgZ3JpZCBpdGVtIHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuXG4gICAgICB2YXIgZHJhZ2dhYmxlID0gdHlwZW9mIGwuaXNEcmFnZ2FibGUgPT09IFwiYm9vbGVhblwiID8gbC5pc0RyYWdnYWJsZSA6ICFsLnN0YXRpYyAmJiBpc0RyYWdnYWJsZTtcbiAgICAgIHZhciByZXNpemFibGUgPSB0eXBlb2YgbC5pc1Jlc2l6YWJsZSA9PT0gXCJib29sZWFuXCIgPyBsLmlzUmVzaXphYmxlIDogIWwuc3RhdGljICYmIGlzUmVzaXphYmxlO1xuICAgICAgdmFyIHJlc2l6ZUhhbmRsZXNPcHRpb25zID0gbC5yZXNpemVIYW5kbGVzIHx8IHJlc2l6ZUhhbmRsZXM7IC8vIGlzQm91bmRlZCBzZXQgb24gY2hpbGQgaWYgc2V0IG9uIHBhcmVudCwgYW5kIGNoaWxkIGlzIG5vdCBleHBsaWNpdGx5IGZhbHNlXG5cbiAgICAgIHZhciBib3VuZGVkID0gZHJhZ2dhYmxlICYmIGlzQm91bmRlZCAmJiBsLmlzQm91bmRlZCAhPT0gZmFsc2U7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoX0dyaWRJdGVtLmRlZmF1bHQsIHtcbiAgICAgICAgY29udGFpbmVyV2lkdGg6IHdpZHRoLFxuICAgICAgICBjb2xzOiBjb2xzLFxuICAgICAgICBtYXJnaW46IG1hcmdpbixcbiAgICAgICAgY29udGFpbmVyUGFkZGluZzogY29udGFpbmVyUGFkZGluZyB8fCBtYXJnaW4sXG4gICAgICAgIG1heFJvd3M6IG1heFJvd3MsXG4gICAgICAgIHJvd0hlaWdodDogcm93SGVpZ2h0LFxuICAgICAgICBjYW5jZWw6IGRyYWdnYWJsZUNhbmNlbCxcbiAgICAgICAgaGFuZGxlOiBkcmFnZ2FibGVIYW5kbGUsXG4gICAgICAgIG9uRHJhZ1N0b3A6IHRoaXMub25EcmFnU3RvcCxcbiAgICAgICAgb25EcmFnU3RhcnQ6IHRoaXMub25EcmFnU3RhcnQsXG4gICAgICAgIG9uRHJhZzogdGhpcy5vbkRyYWcsXG4gICAgICAgIG9uUmVzaXplU3RhcnQ6IHRoaXMub25SZXNpemVTdGFydCxcbiAgICAgICAgb25SZXNpemU6IHRoaXMub25SZXNpemUsXG4gICAgICAgIG9uUmVzaXplU3RvcDogdGhpcy5vblJlc2l6ZVN0b3AsXG4gICAgICAgIGlzRHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgICAgIGlzUmVzaXphYmxlOiByZXNpemFibGUsXG4gICAgICAgIGlzQm91bmRlZDogYm91bmRlZCxcbiAgICAgICAgdXNlQ1NTVHJhbnNmb3JtczogdXNlQ1NTVHJhbnNmb3JtcyAmJiBtb3VudGVkLFxuICAgICAgICB1c2VQZXJjZW50YWdlczogIW1vdW50ZWQsXG4gICAgICAgIHRyYW5zZm9ybVNjYWxlOiB0cmFuc2Zvcm1TY2FsZSxcbiAgICAgICAgdzogbC53LFxuICAgICAgICBoOiBsLmgsXG4gICAgICAgIHg6IGwueCxcbiAgICAgICAgeTogbC55LFxuICAgICAgICBpOiBsLmksXG4gICAgICAgIG1pbkg6IGwubWluSCxcbiAgICAgICAgbWluVzogbC5taW5XLFxuICAgICAgICBtYXhIOiBsLm1heEgsXG4gICAgICAgIG1heFc6IGwubWF4VyxcbiAgICAgICAgc3RhdGljOiBsLnN0YXRpYyxcbiAgICAgICAgZHJvcHBpbmdQb3NpdGlvbjogaXNEcm9wcGluZ0l0ZW0gPyBkcm9wcGluZ1Bvc2l0aW9uIDogdW5kZWZpbmVkLFxuICAgICAgICByZXNpemVIYW5kbGVzOiByZXNpemVIYW5kbGVzT3B0aW9ucyxcbiAgICAgICAgcmVzaXplSGFuZGxlOiByZXNpemVIYW5kbGVcbiAgICAgIH0sIGNoaWxkKTtcbiAgICB9IC8vIENhbGxlZCB3aGlsZSBkcmFnZ2luZyBhbiBlbGVtZW50LiBQYXJ0IG9mIGJyb3dzZXIgbmF0aXZlIGRyYWcvZHJvcCBBUEkuXG4gICAgLy8gTmF0aXZlIGV2ZW50IHRhcmdldCBtaWdodCBiZSB0aGUgbGF5b3V0IGl0c2VsZiwgb3IgYW4gZWxlbWVudCB3aXRoaW4gdGhlIGxheW91dC5cblxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKVxuICAgIC8qOiBSZWFjdC5FbGVtZW50PFwiZGl2XCI+Ki9cbiAgICB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIF90aGlzJHByb3BzNyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHM3LmNsYXNzTmFtZSxcbiAgICAgICAgICBzdHlsZSA9IF90aGlzJHByb3BzNy5zdHlsZSxcbiAgICAgICAgICBpc0Ryb3BwYWJsZSA9IF90aGlzJHByb3BzNy5pc0Ryb3BwYWJsZSxcbiAgICAgICAgICBpbm5lclJlZiA9IF90aGlzJHByb3BzNy5pbm5lclJlZjtcbiAgICAgIHZhciBtZXJnZWRDbGFzc05hbWUgPSAoMCwgX2NsYXNzbmFtZXMuZGVmYXVsdCkobGF5b3V0Q2xhc3NOYW1lLCBjbGFzc05hbWUpO1xuXG4gICAgICB2YXIgbWVyZ2VkU3R5bGUgPSBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgaGVpZ2h0OiB0aGlzLmNvbnRhaW5lckhlaWdodCgpXG4gICAgICB9LCBzdHlsZSk7XG5cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIHJlZjogaW5uZXJSZWYsXG4gICAgICAgIGNsYXNzTmFtZTogbWVyZ2VkQ2xhc3NOYW1lLFxuICAgICAgICBzdHlsZTogbWVyZ2VkU3R5bGUsXG4gICAgICAgIG9uRHJvcDogaXNEcm9wcGFibGUgPyB0aGlzLm9uRHJvcCA6IF91dGlscy5ub29wLFxuICAgICAgICBvbkRyYWdMZWF2ZTogaXNEcm9wcGFibGUgPyB0aGlzLm9uRHJhZ0xlYXZlIDogX3V0aWxzLm5vb3AsXG4gICAgICAgIG9uRHJhZ0VudGVyOiBpc0Ryb3BwYWJsZSA/IHRoaXMub25EcmFnRW50ZXIgOiBfdXRpbHMubm9vcCxcbiAgICAgICAgb25EcmFnT3ZlcjogaXNEcm9wcGFibGUgPyB0aGlzLm9uRHJhZ092ZXIgOiBfdXRpbHMubm9vcFxuICAgICAgfSwgUmVhY3QuQ2hpbGRyZW4ubWFwKHRoaXMucHJvcHMuY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLnByb2Nlc3NHcmlkSXRlbShjaGlsZCk7XG4gICAgICB9KSwgaXNEcm9wcGFibGUgJiYgdGhpcy5zdGF0ZS5kcm9wcGluZ0RPTU5vZGUgJiYgdGhpcy5wcm9jZXNzR3JpZEl0ZW0odGhpcy5zdGF0ZS5kcm9wcGluZ0RPTU5vZGUsIHRydWUpLCB0aGlzLnBsYWNlaG9sZGVyKCkpO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzXG4gICAgLyo6IFByb3BzKi9cbiAgICAsIHByZXZTdGF0ZVxuICAgIC8qOiBTdGF0ZSovXG4gICAgKVxuICAgIC8qOiAkU2hhcGU8U3RhdGU+IHwgbnVsbCovXG4gICAge1xuICAgICAgdmFyIG5ld0xheW91dEJhc2U7XG5cbiAgICAgIGlmIChwcmV2U3RhdGUuYWN0aXZlRHJhZykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gLy8gTGVnYWN5IHN1cHBvcnQgZm9yIGNvbXBhY3RUeXBlXG4gICAgICAvLyBBbGxvdyBwYXJlbnQgdG8gc2V0IGxheW91dCBkaXJlY3RseS5cblxuXG4gICAgICBpZiAoISgwLCBfbG9kYXNoLmRlZmF1bHQpKG5leHRQcm9wcy5sYXlvdXQsIHByZXZTdGF0ZS5wcm9wc0xheW91dCkgfHwgbmV4dFByb3BzLmNvbXBhY3RUeXBlICE9PSBwcmV2U3RhdGUuY29tcGFjdFR5cGUpIHtcbiAgICAgICAgbmV3TGF5b3V0QmFzZSA9IG5leHRQcm9wcy5sYXlvdXQ7XG4gICAgICB9IGVsc2UgaWYgKCEoMCwgX3V0aWxzLmNoaWxkcmVuRXF1YWwpKG5leHRQcm9wcy5jaGlsZHJlbiwgcHJldlN0YXRlLmNoaWxkcmVuKSkge1xuICAgICAgICAvLyBJZiBjaGlsZHJlbiBjaGFuZ2UsIGFsc28gcmVnZW5lcmF0ZSB0aGUgbGF5b3V0LiBVc2Ugb3VyIHN0YXRlXG4gICAgICAgIC8vIGFzIHRoZSBiYXNlIGluIGNhc2UgYmVjYXVzZSBpdCBtYXkgYmUgbW9yZSB1cCB0byBkYXRlIHRoYW5cbiAgICAgICAgLy8gd2hhdCBpcyBpbiBwcm9wcy5cbiAgICAgICAgbmV3TGF5b3V0QmFzZSA9IHByZXZTdGF0ZS5sYXlvdXQ7XG4gICAgICB9IC8vIFdlIG5lZWQgdG8gcmVnZW5lcmF0ZSB0aGUgbGF5b3V0LlxuXG5cbiAgICAgIGlmIChuZXdMYXlvdXRCYXNlKSB7XG4gICAgICAgIHZhciBuZXdMYXlvdXQgPSAoMCwgX3V0aWxzLnN5bmNocm9uaXplTGF5b3V0V2l0aENoaWxkcmVuKShuZXdMYXlvdXRCYXNlLCBuZXh0UHJvcHMuY2hpbGRyZW4sIG5leHRQcm9wcy5jb2xzLCAoMCwgX3V0aWxzLmNvbXBhY3RUeXBlKShuZXh0UHJvcHMpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBsYXlvdXQ6IG5ld0xheW91dCxcbiAgICAgICAgICAvLyBXZSBuZWVkIHRvIHNhdmUgdGhlc2UgcHJvcHMgdG8gc3RhdGUgZm9yIHVzaW5nXG4gICAgICAgICAgLy8gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIGluc3RlYWQgb2YgY29tcG9uZW50RGlkTW91bnQgKGluIHdoaWNoIHdlIHdvdWxkIGdldCBleHRyYSByZXJlbmRlcilcbiAgICAgICAgICBjb21wYWN0VHlwZTogbmV4dFByb3BzLmNvbXBhY3RUeXBlLFxuICAgICAgICAgIGNoaWxkcmVuOiBuZXh0UHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgcHJvcHNMYXlvdXQ6IG5leHRQcm9wcy5sYXlvdXRcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlYWN0R3JpZExheW91dDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUmVhY3RHcmlkTGF5b3V0O1xuXG5fZGVmaW5lUHJvcGVydHkoUmVhY3RHcmlkTGF5b3V0LCBcImRpc3BsYXlOYW1lXCIsIFwiUmVhY3RHcmlkTGF5b3V0XCIpO1xuXG5fZGVmaW5lUHJvcGVydHkoUmVhY3RHcmlkTGF5b3V0LCBcInByb3BUeXBlc1wiLCBfUmVhY3RHcmlkTGF5b3V0UHJvcFR5cGVzLmRlZmF1bHQpO1xuXG5fZGVmaW5lUHJvcGVydHkoUmVhY3RHcmlkTGF5b3V0LCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGF1dG9TaXplOiB0cnVlLFxuICBjb2xzOiAxMixcbiAgY2xhc3NOYW1lOiBcIlwiLFxuICBzdHlsZToge30sXG4gIGRyYWdnYWJsZUhhbmRsZTogXCJcIixcbiAgZHJhZ2dhYmxlQ2FuY2VsOiBcIlwiLFxuICBjb250YWluZXJQYWRkaW5nOiBudWxsLFxuICByb3dIZWlnaHQ6IDE1MCxcbiAgbWF4Um93czogSW5maW5pdHksXG4gIC8vIGluZmluaXRlIHZlcnRpY2FsIGdyb3d0aFxuICBsYXlvdXQ6IFtdLFxuICBtYXJnaW46IFsxMCwgMTBdLFxuICBpc0JvdW5kZWQ6IGZhbHNlLFxuICBpc0RyYWdnYWJsZTogdHJ1ZSxcbiAgaXNSZXNpemFibGU6IHRydWUsXG4gIGlzRHJvcHBhYmxlOiBmYWxzZSxcbiAgdXNlQ1NTVHJhbnNmb3JtczogdHJ1ZSxcbiAgdHJhbnNmb3JtU2NhbGU6IDEsXG4gIHZlcnRpY2FsQ29tcGFjdDogdHJ1ZSxcbiAgY29tcGFjdFR5cGU6IFwidmVydGljYWxcIixcbiAgcHJldmVudENvbGxpc2lvbjogZmFsc2UsXG4gIGRyb3BwaW5nSXRlbToge1xuICAgIGk6IFwiX19kcm9wcGluZy1lbGVtX19cIixcbiAgICBoOiAxLFxuICAgIHc6IDFcbiAgfSxcbiAgcmVzaXplSGFuZGxlczogW1wic2VcIl0sXG4gIG9uTGF5b3V0Q2hhbmdlOiBfdXRpbHMubm9vcCxcbiAgb25EcmFnU3RhcnQ6IF91dGlscy5ub29wLFxuICBvbkRyYWc6IF91dGlscy5ub29wLFxuICBvbkRyYWdTdG9wOiBfdXRpbHMubm9vcCxcbiAgb25SZXNpemVTdGFydDogX3V0aWxzLm5vb3AsXG4gIG9uUmVzaXplOiBfdXRpbHMubm9vcCxcbiAgb25SZXNpemVTdG9wOiBfdXRpbHMubm9vcCxcbiAgb25Ecm9wOiBfdXRpbHMubm9vcFxufSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBleHBvcnRzLnJlc2l6ZUhhbmRsZVR5cGUgPSBleHBvcnRzLnJlc2l6ZUhhbmRsZXNUeXBlID0gdm9pZCAwO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInByb3AtdHlwZXNcIikpO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLyBEZWZpbmVzIHdoaWNoIHJlc2l6ZSBoYW5kbGVzIHNob3VsZCBiZSByZW5kZXJlZCAoZGVmYXVsdDogJ3NlJylcbi8vIEFsbG93cyBmb3IgYW55IGNvbWJpbmF0aW9uIG9mOlxuLy8gJ3MnIC0gU291dGggaGFuZGxlIChib3R0b20tY2VudGVyKVxuLy8gJ3cnIC0gV2VzdCBoYW5kbGUgKGxlZnQtY2VudGVyKVxuLy8gJ2UnIC0gRWFzdCBoYW5kbGUgKHJpZ2h0LWNlbnRlcilcbi8vICduJyAtIE5vcnRoIGhhbmRsZSAodG9wLWNlbnRlcilcbi8vICdzdycgLSBTb3V0aHdlc3QgaGFuZGxlIChib3R0b20tbGVmdClcbi8vICdudycgLSBOb3J0aHdlc3QgaGFuZGxlICh0b3AtbGVmdClcbi8vICdzZScgLSBTb3V0aGVhc3QgaGFuZGxlIChib3R0b20tcmlnaHQpXG4vLyAnbmUnIC0gTm9ydGhlYXN0IGhhbmRsZSAodG9wLXJpZ2h0KVxudmFyIHJlc2l6ZUhhbmRsZXNUeXBlXG4vKjogUmVhY3RQcm9wc0NoYWluYWJsZVR5cGVDaGVja2VyKi9cbj0gX3Byb3BUeXBlcy5kZWZhdWx0LmFycmF5T2YoX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mKFtcInNcIiwgXCJ3XCIsIFwiZVwiLCBcIm5cIiwgXCJzd1wiLCBcIm53XCIsIFwic2VcIiwgXCJuZVwiXSkpOyAvLyBDdXN0b20gY29tcG9uZW50IGZvciByZXNpemUgaGFuZGxlc1xuXG5cbmV4cG9ydHMucmVzaXplSGFuZGxlc1R5cGUgPSByZXNpemVIYW5kbGVzVHlwZTtcblxudmFyIHJlc2l6ZUhhbmRsZVR5cGVcbi8qOiBSZWFjdFByb3BzQ2hhaW5hYmxlVHlwZUNoZWNrZXIqL1xuPSBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzLmRlZmF1bHQubm9kZSwgX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmNdKTtcbi8qOjogZXhwb3J0IHR5cGUgUHJvcHMgPSB7fFxuICBjbGFzc05hbWU6IHN0cmluZyxcbiAgc3R5bGU6IE9iamVjdCxcbiAgd2lkdGg6IG51bWJlcixcbiAgYXV0b1NpemU6IGJvb2xlYW4sXG4gIGNvbHM6IG51bWJlcixcbiAgZHJhZ2dhYmxlQ2FuY2VsOiBzdHJpbmcsXG4gIGRyYWdnYWJsZUhhbmRsZTogc3RyaW5nLFxuICB2ZXJ0aWNhbENvbXBhY3Q6IGJvb2xlYW4sXG4gIGNvbXBhY3RUeXBlOiBDb21wYWN0VHlwZSxcbiAgbGF5b3V0OiBMYXlvdXQsXG4gIG1hcmdpbjogW251bWJlciwgbnVtYmVyXSxcbiAgY29udGFpbmVyUGFkZGluZzogP1tudW1iZXIsIG51bWJlcl0sXG4gIHJvd0hlaWdodDogbnVtYmVyLFxuICBtYXhSb3dzOiBudW1iZXIsXG4gIGlzQm91bmRlZDogYm9vbGVhbixcbiAgaXNEcmFnZ2FibGU6IGJvb2xlYW4sXG4gIGlzUmVzaXphYmxlOiBib29sZWFuLFxuICBpc0Ryb3BwYWJsZTogYm9vbGVhbixcbiAgcHJldmVudENvbGxpc2lvbjogYm9vbGVhbixcbiAgdXNlQ1NTVHJhbnNmb3JtczogYm9vbGVhbixcbiAgdHJhbnNmb3JtU2NhbGU6IG51bWJlcixcbiAgZHJvcHBpbmdJdGVtOiAkU2hhcGU8TGF5b3V0SXRlbT4sXG4gIHJlc2l6ZUhhbmRsZXM6IFJlc2l6ZUhhbmRsZXMsXG4gIHJlc2l6ZUhhbmRsZT86IFJlc2l6ZUhhbmRsZSxcblxuICAvLyBDYWxsYmFja3NcbiAgb25MYXlvdXRDaGFuZ2U6IExheW91dCA9PiB2b2lkLFxuICBvbkRyYWc6IEV2ZW50Q2FsbGJhY2ssXG4gIG9uRHJhZ1N0YXJ0OiBFdmVudENhbGxiYWNrLFxuICBvbkRyYWdTdG9wOiBFdmVudENhbGxiYWNrLFxuICBvblJlc2l6ZTogRXZlbnRDYWxsYmFjayxcbiAgb25SZXNpemVTdGFydDogRXZlbnRDYWxsYmFjayxcbiAgb25SZXNpemVTdG9wOiBFdmVudENhbGxiYWNrLFxuICBvbkRyb3A6IChsYXlvdXQ6IExheW91dCwgaXRlbTogP0xheW91dEl0ZW0sIGU6IEV2ZW50KSA9PiB2b2lkLFxuICBjaGlsZHJlbjogUmVhY3RDaGlsZHJlbkFycmF5PFJlYWN0RWxlbWVudDxhbnk+PixcbiAgaW5uZXJSZWY/OiBSZWY8XCJkaXZcIj5cbnx9OyovXG5cbi8qOjogZXhwb3J0IHR5cGUgRGVmYXVsdFByb3BzID0gJERpZmY8XG4gIFByb3BzLFxuICB7XG4gICAgY2hpbGRyZW46IFJlYWN0Q2hpbGRyZW5BcnJheTxSZWFjdEVsZW1lbnQ8YW55Pj4sXG4gICAgd2lkdGg6IG51bWJlclxuICB9XG4+OyovXG5cblxuZXhwb3J0cy5yZXNpemVIYW5kbGVUeXBlID0gcmVzaXplSGFuZGxlVHlwZTtcbnZhciBfZGVmYXVsdCA9IHtcbiAgLy9cbiAgLy8gQmFzaWMgcHJvcHNcbiAgLy9cbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuICBzdHlsZTogX3Byb3BUeXBlcy5kZWZhdWx0Lm9iamVjdCxcbiAgLy8gVGhpcyBjYW4gYmUgc2V0IGV4cGxpY2l0bHkuIElmIGl0IGlzIG5vdCBzZXQsIGl0IHdpbGwgYXV0b21hdGljYWxseVxuICAvLyBiZSBzZXQgdG8gdGhlIGNvbnRhaW5lciB3aWR0aC4gTm90ZSB0aGF0IHJlc2l6ZXMgd2lsbCAqbm90KiBjYXVzZSB0aGlzIHRvIGFkanVzdC5cbiAgLy8gSWYgeW91IG5lZWQgdGhhdCBiZWhhdmlvciwgdXNlIFdpZHRoUHJvdmlkZXIuXG4gIHdpZHRoOiBfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLFxuICAvLyBJZiB0cnVlLCB0aGUgY29udGFpbmVyIGhlaWdodCBzd2VsbHMgYW5kIGNvbnRyYWN0cyB0byBmaXQgY29udGVudHNcbiAgYXV0b1NpemU6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLFxuICAvLyAjIG9mIGNvbHMuXG4gIGNvbHM6IF9wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIsXG4gIC8vIEEgc2VsZWN0b3IgdGhhdCB3aWxsIG5vdCBiZSBkcmFnZ2FibGUuXG4gIGRyYWdnYWJsZUNhbmNlbDogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZyxcbiAgLy8gQSBzZWxlY3RvciBmb3IgdGhlIGRyYWdnYWJsZSBoYW5kbGVyXG4gIGRyYWdnYWJsZUhhbmRsZTogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZyxcbiAgLy8gRGVwcmVjYXRlZFxuICB2ZXJ0aWNhbENvbXBhY3Q6IGZ1bmN0aW9uIHZlcnRpY2FsQ29tcGFjdChwcm9wc1xuICAvKjogUHJvcHMqL1xuICApIHtcbiAgICBpZiAocHJvcHMudmVydGljYWxDb21wYWN0ID09PSBmYWxzZSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgIGNvbnNvbGUud2FybiggLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICBcImB2ZXJ0aWNhbENvbXBhY3RgIG9uIDxSZWFjdEdyaWRMYXlvdXQ+IGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBzb29uLiBcIiArICdVc2UgYGNvbXBhY3RUeXBlYDogXCJob3Jpem9udGFsXCIgfCBcInZlcnRpY2FsXCIgfCBudWxsLicpO1xuICAgIH1cbiAgfSxcbiAgLy8gQ2hvb3NlIHZlcnRpY2FsIG9yIGhvdGl6b250YWwgY29tcGFjdGlvblxuICBjb21wYWN0VHlwZTogKF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZihbXCJ2ZXJ0aWNhbFwiLCBcImhvcml6b250YWxcIl0pXG4gIC8qOiBSZWFjdFByb3BzQ2hhaW5hYmxlVHlwZUNoZWNrZXIqL1xuICApLFxuICAvLyBsYXlvdXQgaXMgYW4gYXJyYXkgb2Ygb2JqZWN0IHdpdGggdGhlIGZvcm1hdDpcbiAgLy8ge3g6IE51bWJlciwgeTogTnVtYmVyLCB3OiBOdW1iZXIsIGg6IE51bWJlciwgaTogU3RyaW5nfVxuICBsYXlvdXQ6IGZ1bmN0aW9uIGxheW91dChwcm9wc1xuICAvKjogUHJvcHMqL1xuICApIHtcbiAgICB2YXIgbGF5b3V0ID0gcHJvcHMubGF5b3V0OyAvLyBJIGhvcGUgeW91J3JlIHNldHRpbmcgdGhlIGRhdGEtZ3JpZCBwcm9wZXJ0eSBvbiB0aGUgZ3JpZCBpdGVtc1xuXG4gICAgaWYgKGxheW91dCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICByZXF1aXJlKFwiLi91dGlsc1wiKS52YWxpZGF0ZUxheW91dChsYXlvdXQsIFwibGF5b3V0XCIpO1xuICB9LFxuICAvL1xuICAvLyBHcmlkIERpbWVuc2lvbnNcbiAgLy9cbiAgLy8gTWFyZ2luIGJldHdlZW4gaXRlbXMgW3gsIHldIGluIHB4XG4gIG1hcmdpbjogKF9wcm9wVHlwZXMuZGVmYXVsdC5hcnJheU9mKF9wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIpXG4gIC8qOiBSZWFjdFByb3BzQ2hhaW5hYmxlVHlwZUNoZWNrZXIqL1xuICApLFxuICAvLyBQYWRkaW5nIGluc2lkZSB0aGUgY29udGFpbmVyIFt4LCB5XSBpbiBweFxuICBjb250YWluZXJQYWRkaW5nOiAoX3Byb3BUeXBlcy5kZWZhdWx0LmFycmF5T2YoX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlcilcbiAgLyo6IFJlYWN0UHJvcHNDaGFpbmFibGVUeXBlQ2hlY2tlciovXG4gICksXG4gIC8vIFJvd3MgaGF2ZSBhIHN0YXRpYyBoZWlnaHQsIGJ1dCB5b3UgY2FuIGNoYW5nZSB0aGlzIGJhc2VkIG9uIGJyZWFrcG9pbnRzIGlmIHlvdSBsaWtlXG4gIHJvd0hlaWdodDogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlcixcbiAgLy8gRGVmYXVsdCBJbmZpbml0eSwgYnV0IHlvdSBjYW4gc3BlY2lmeSBhIG1heCBoZXJlIGlmIHlvdSBsaWtlLlxuICAvLyBOb3RlIHRoYXQgdGhpcyBpc24ndCBmdWxseSBmbGVzaGVkIG91dCBhbmQgd29uJ3QgZXJyb3IgaWYgeW91IHNwZWNpZnkgYSBsYXlvdXQgdGhhdFxuICAvLyBleHRlbmRzIGJleW9uZCB0aGUgcm93IGNhcGFjaXR5LiBJdCB3aWxsLCBob3dldmVyLCBub3QgYWxsb3cgdXNlcnMgdG8gZHJhZy9yZXNpemVcbiAgLy8gYW4gaXRlbSBwYXN0IHRoZSBiYXJyaWVyLiBUaGV5IGNhbiBwdXNoIGl0ZW1zIGJleW9uZCB0aGUgYmFycmllciwgdGhvdWdoLlxuICAvLyBJbnRlbnRpb25hbGx5IG5vdCBkb2N1bWVudGVkIGZvciB0aGlzIHJlYXNvbi5cbiAgbWF4Um93czogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlcixcbiAgLy9cbiAgLy8gRmxhZ3NcbiAgLy9cbiAgaXNCb3VuZGVkOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbCxcbiAgaXNEcmFnZ2FibGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLFxuICBpc1Jlc2l6YWJsZTogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsXG4gIC8vIElmIHRydWUsIGdyaWQgaXRlbXMgd29uJ3QgY2hhbmdlIHBvc2l0aW9uIHdoZW4gYmVpbmcgZHJhZ2dlZCBvdmVyLlxuICBwcmV2ZW50Q29sbGlzaW9uOiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbCxcbiAgLy8gVXNlIENTUyB0cmFuc2Zvcm1zIGluc3RlYWQgb2YgdG9wL2xlZnRcbiAgdXNlQ1NTVHJhbnNmb3JtczogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsXG4gIC8vIHBhcmVudCBsYXlvdXQgdHJhbnNmb3JtIHNjYWxlXG4gIHRyYW5zZm9ybVNjYWxlOiBfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLFxuICAvLyBJZiB0cnVlLCBhbiBleHRlcm5hbCBlbGVtZW50IGNhbiB0cmlnZ2VyIG9uRHJvcCBjYWxsYmFjayB3aXRoIGEgc3BlY2lmaWMgZ3JpZCBwb3NpdGlvbiBhcyBhIHBhcmFtZXRlclxuICBpc0Ryb3BwYWJsZTogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsXG4gIC8vIFJlc2l6ZSBoYW5kbGUgb3B0aW9uc1xuICByZXNpemVIYW5kbGVzOiByZXNpemVIYW5kbGVzVHlwZSxcbiAgcmVzaXplSGFuZGxlOiByZXNpemVIYW5kbGVUeXBlLFxuICAvL1xuICAvLyBDYWxsYmFja3NcbiAgLy9cbiAgLy8gQ2FsbGJhY2sgc28geW91IGNhbiBzYXZlIHRoZSBsYXlvdXQuIENhbGxzIGFmdGVyIGVhY2ggZHJhZyAmIHJlc2l6ZSBzdG9wcy5cbiAgb25MYXlvdXRDaGFuZ2U6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICAvLyBDYWxscyB3aGVuIGRyYWcgc3RhcnRzLiBDYWxsYmFjayBpcyBvZiB0aGUgc2lnbmF0dXJlIChsYXlvdXQsIG9sZEl0ZW0sIG5ld0l0ZW0sIHBsYWNlaG9sZGVyLCBlLCA/bm9kZSkuXG4gIC8vIEFsbCBjYWxsYmFja3MgYmVsb3cgaGF2ZSB0aGUgc2FtZSBzaWduYXR1cmUuICdzdGFydCcgYW5kICdzdG9wJyBjYWxsYmFja3Mgb21pdCB0aGUgJ3BsYWNlaG9sZGVyJy5cbiAgb25EcmFnU3RhcnQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICAvLyBDYWxscyBvbiBlYWNoIGRyYWcgbW92ZW1lbnQuXG4gIG9uRHJhZzogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIC8vIENhbGxzIHdoZW4gZHJhZyBpcyBjb21wbGV0ZS5cbiAgb25EcmFnU3RvcDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gIC8vQ2FsbHMgd2hlbiByZXNpemUgc3RhcnRzLlxuICBvblJlc2l6ZVN0YXJ0OiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgLy8gQ2FsbHMgd2hlbiByZXNpemUgbW92ZW1lbnQgaGFwcGVucy5cbiAgb25SZXNpemU6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICAvLyBDYWxscyB3aGVuIHJlc2l6ZSBpcyBjb21wbGV0ZS5cbiAgb25SZXNpemVTdG9wOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgLy8gQ2FsbHMgd2hlbiBzb21lIGVsZW1lbnQgaXMgZHJvcHBlZC5cbiAgb25Ecm9wOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgLy9cbiAgLy8gT3RoZXIgdmFsaWRhdGlvbnNcbiAgLy9cbiAgZHJvcHBpbmdJdGVtOiAoX3Byb3BUeXBlcy5kZWZhdWx0LnNoYXBlKHtcbiAgICBpOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgdzogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlci5pc1JlcXVpcmVkLFxuICAgIGg6IF9wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIuaXNSZXF1aXJlZFxuICB9KVxuICAvKjogUmVhY3RQcm9wc0NoYWluYWJsZVR5cGVDaGVja2VyKi9cbiAgKSxcbiAgLy8gQ2hpbGRyZW4gbXVzdCBub3QgaGF2ZSBkdXBsaWNhdGUga2V5cy5cbiAgY2hpbGRyZW46IGZ1bmN0aW9uIGNoaWxkcmVuKHByb3BzXG4gIC8qOiBQcm9wcyovXG4gICwgcHJvcE5hbWVcbiAgLyo6IHN0cmluZyovXG4gICkge1xuICAgIHZhciBjaGlsZHJlbiA9IHByb3BzW3Byb3BOYW1lXTsgLy8gQ2hlY2sgY2hpbGRyZW4ga2V5cyBmb3IgZHVwbGljYXRlcy4gVGhyb3cgaWYgZm91bmQuXG5cbiAgICB2YXIga2V5cyA9IHt9O1xuXG4gICAgX3JlYWN0LmRlZmF1bHQuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICBpZiAoa2V5c1tjaGlsZC5rZXldKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRHVwbGljYXRlIGNoaWxkIGtleSBcIicgKyBjaGlsZC5rZXkgKyAnXCIgZm91bmQhIFRoaXMgd2lsbCBjYXVzZSBwcm9ibGVtcyBpbiBSZWFjdEdyaWRMYXlvdXQuJyk7XG4gICAgICB9XG5cbiAgICAgIGtleXNbY2hpbGQua2V5XSA9IHRydWU7XG4gICAgfSk7XG4gIH0sXG4gIC8vIE9wdGlvbmFsIHJlZiBmb3IgZ2V0dGluZyBhIHJlZmVyZW5jZSBmb3IgdGhlIHdyYXBwaW5nIGRpdi5cbiAgaW5uZXJSZWY6IF9wcm9wVHlwZXMuZGVmYXVsdC5hbnlcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInByb3AtdHlwZXNcIikpO1xuXG52YXIgX2xvZGFzaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImxvZGFzaC5pc2VxdWFsXCIpKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuXG52YXIgX3Jlc3BvbnNpdmVVdGlscyA9IHJlcXVpcmUoXCIuL3Jlc3BvbnNpdmVVdGlsc1wiKTtcblxudmFyIF9SZWFjdEdyaWRMYXlvdXQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL1JlYWN0R3JpZExheW91dFwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSgpIHsgaWYgKHR5cGVvZiBXZWFrTWFwICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybiBudWxsOyB2YXIgY2FjaGUgPSBuZXcgV2Vha01hcCgpOyBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUgPSBmdW5jdGlvbiBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUoKSB7IHJldHVybiBjYWNoZTsgfTsgcmV0dXJuIGNhY2hlOyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gaWYgKG9iaiA9PT0gbnVsbCB8fCBfdHlwZW9mKG9iaikgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG9iaiAhPT0gXCJmdW5jdGlvblwiKSB7IHJldHVybiB7IGRlZmF1bHQ6IG9iaiB9OyB9IHZhciBjYWNoZSA9IF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSgpOyBpZiAoY2FjaGUgJiYgY2FjaGUuaGFzKG9iaikpIHsgcmV0dXJuIGNhY2hlLmdldChvYmopOyB9IHZhciBuZXdPYmogPSB7fTsgdmFyIGhhc1Byb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gaGFzUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiBudWxsOyBpZiAoZGVzYyAmJiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyBpZiAoY2FjaGUpIHsgY2FjaGUuc2V0KG9iaiwgbmV3T2JqKTsgfSByZXR1cm4gbmV3T2JqOyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbnZhciB0eXBlID0gZnVuY3Rpb24gdHlwZShvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopO1xufTtcbi8qKlxuICogR2V0IGEgdmFsdWUgb2YgbWFyZ2luIG9yIGNvbnRhaW5lclBhZGRpbmcuXG4gKlxuICogQHBhcmFtICB7QXJyYXkgfCBPYmplY3R9IHBhcmFtIE1hcmdpbiB8IGNvbnRhaW5lclBhZGRpbmcsIGUuZy4gWzEwLCAxMF0gfCB7bGc6IFsxMCwgMTBdLCAuLi59LlxuICogQHBhcmFtICB7U3RyaW5nfSBicmVha3BvaW50ICAgQnJlYWtwb2ludDogbGcsIG1kLCBzbSwgeHMgYW5kIGV0Yy5cbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5cblxuZnVuY3Rpb24gZ2V0SW5kZW50YXRpb25WYWx1ZVxuLyo6OiA8VDogP1tudW1iZXIsIG51bWJlcl0+Ki9cbihwYXJhbVxuLyo6IHsgW2tleTogc3RyaW5nXTogVCB9IHwgVCovXG4sIGJyZWFrcG9pbnRcbi8qOiBzdHJpbmcqL1xuKVxuLyo6IFQqL1xue1xuICAvLyAkRmxvd0lnbm9yZSBUT0RPIGZpeCB0aGlzIHR5cGVkZWZcbiAgaWYgKHBhcmFtID09IG51bGwpIHJldHVybiBudWxsOyAvLyAkRmxvd0lnbm9yZSBUT0RPIGZpeCB0aGlzIHR5cGVkZWZcblxuICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXJhbSkgPyBwYXJhbSA6IHBhcmFtW2JyZWFrcG9pbnRdO1xufVxuLyo6OiB0eXBlIFN0YXRlID0ge1xuICBsYXlvdXQ6IExheW91dCxcbiAgYnJlYWtwb2ludDogc3RyaW5nLFxuICBjb2xzOiBudW1iZXIsXG4gIGxheW91dHM/OiBSZXNwb25zaXZlTGF5b3V0PHN0cmluZz5cbn07Ki9cblxuLyo6OiB0eXBlIFByb3BzPEJyZWFrcG9pbnQ6IHN0cmluZyA9IHN0cmluZz4gPSB7fFxuICAuLi5SZWFjdC5FbGVtZW50Q29uZmlnPHR5cGVvZiBSZWFjdEdyaWRMYXlvdXQ+LFxuXG4gIC8vIFJlc3BvbnNpdmUgY29uZmlnXG4gIGJyZWFrcG9pbnQ/OiA/QnJlYWtwb2ludCxcbiAgYnJlYWtwb2ludHM6IEJyZWFrcG9pbnRzPEJyZWFrcG9pbnQ+LFxuICBjb2xzOiB7IFtrZXk6IEJyZWFrcG9pbnRdOiBudW1iZXIgfSxcbiAgbGF5b3V0czogUmVzcG9uc2l2ZUxheW91dDxCcmVha3BvaW50PixcbiAgd2lkdGg6IG51bWJlcixcbiAgbWFyZ2luOiB7IFtrZXk6IEJyZWFrcG9pbnRdOiBbbnVtYmVyLCBudW1iZXJdIH0gfCBbbnVtYmVyLCBudW1iZXJdLFxuICAvKiBwcmV0dGllci1pZ25vcmUgKi0vXG4gIGNvbnRhaW5lclBhZGRpbmc6IHsgW2tleTogQnJlYWtwb2ludF06ID9bbnVtYmVyLCBudW1iZXJdIH0gfCA/W251bWJlciwgbnVtYmVyXSxcblxuICAvLyBDYWxsYmFja3NcbiAgb25CcmVha3BvaW50Q2hhbmdlOiAoQnJlYWtwb2ludCwgY29sczogbnVtYmVyKSA9PiB2b2lkLFxuICBvbkxheW91dENoYW5nZTogT25MYXlvdXRDaGFuZ2VDYWxsYmFjayxcbiAgb25XaWR0aENoYW5nZTogKFxuICAgIGNvbnRhaW5lcldpZHRoOiBudW1iZXIsXG4gICAgbWFyZ2luOiBbbnVtYmVyLCBudW1iZXJdLFxuICAgIGNvbHM6IG51bWJlcixcbiAgICBjb250YWluZXJQYWRkaW5nOiA/W251bWJlciwgbnVtYmVyXVxuICApID0+IHZvaWRcbnx9OyovXG5cbi8qOjogdHlwZSBEZWZhdWx0UHJvcHMgPSBQaWNrPFxuICBQcm9wczw+LFxuICB7fFxuICAgIGJyZWFrcG9pbnRzOiAwLFxuICAgIGNvbHM6IDAsXG4gICAgY29udGFpbmVyUGFkZGluZzogMCxcbiAgICBsYXlvdXRzOiAwLFxuICAgIG1hcmdpbjogMCxcbiAgICBvbkJyZWFrcG9pbnRDaGFuZ2U6IDAsXG4gICAgb25MYXlvdXRDaGFuZ2U6IDAsXG4gICAgb25XaWR0aENoYW5nZTogMFxuICB8fVxuPjsqL1xuXG5cbnZhciBSZXNwb25zaXZlUmVhY3RHcmlkTGF5b3V0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhSZXNwb25zaXZlUmVhY3RHcmlkTGF5b3V0LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFJlc3BvbnNpdmVSZWFjdEdyaWRMYXlvdXQpO1xuXG4gIGZ1bmN0aW9uIFJlc3BvbnNpdmVSZWFjdEdyaWRMYXlvdXQoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlc3BvbnNpdmVSZWFjdEdyaWRMYXlvdXQpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwuYXBwbHkoX3N1cGVyLCBbdGhpc10uY29uY2F0KGFyZ3MpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCBfdGhpcy5nZW5lcmF0ZUluaXRpYWxTdGF0ZSgpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkxheW91dENoYW5nZVwiLCBmdW5jdGlvbiAobGF5b3V0XG4gICAgLyo6IExheW91dCovXG4gICAgKSB7XG4gICAgICBfdGhpcy5wcm9wcy5vbkxheW91dENoYW5nZShsYXlvdXQsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMucHJvcHMubGF5b3V0cyksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIF90aGlzLnN0YXRlLmJyZWFrcG9pbnQsIGxheW91dCkpKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhSZXNwb25zaXZlUmVhY3RHcmlkTGF5b3V0LCBbe1xuICAgIGtleTogXCJnZW5lcmF0ZUluaXRpYWxTdGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZUluaXRpYWxTdGF0ZSgpXG4gICAgLyo6IFN0YXRlKi9cbiAgICB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHdpZHRoID0gX3RoaXMkcHJvcHMud2lkdGgsXG4gICAgICAgICAgYnJlYWtwb2ludHMgPSBfdGhpcyRwcm9wcy5icmVha3BvaW50cyxcbiAgICAgICAgICBsYXlvdXRzID0gX3RoaXMkcHJvcHMubGF5b3V0cyxcbiAgICAgICAgICBjb2xzID0gX3RoaXMkcHJvcHMuY29scztcbiAgICAgIHZhciBicmVha3BvaW50ID0gKDAsIF9yZXNwb25zaXZlVXRpbHMuZ2V0QnJlYWtwb2ludEZyb21XaWR0aCkoYnJlYWtwb2ludHMsIHdpZHRoKTtcbiAgICAgIHZhciBjb2xObyA9ICgwLCBfcmVzcG9uc2l2ZVV0aWxzLmdldENvbHNGcm9tQnJlYWtwb2ludCkoYnJlYWtwb2ludCwgY29scyk7IC8vIHZlcnRpY2FsQ29tcGFjdCBjb21wYXRpYmlsaXR5LCBub3cgZGVwcmVjYXRlZFxuXG4gICAgICB2YXIgY29tcGFjdFR5cGUgPSB0aGlzLnByb3BzLnZlcnRpY2FsQ29tcGFjdCA9PT0gZmFsc2UgPyBudWxsIDogdGhpcy5wcm9wcy5jb21wYWN0VHlwZTsgLy8gR2V0IHRoZSBpbml0aWFsIGxheW91dC4gVGhpcyBjYW4gdHJpY2t5OyB3ZSB0cnkgdG8gZ2VuZXJhdGUgb25lIGhvd2V2ZXIgcG9zc2libGUgaWYgb25lIGRvZXNuJ3QgZXhpc3RcbiAgICAgIC8vIGZvciB0aGlzIGxheW91dC5cblxuICAgICAgdmFyIGluaXRpYWxMYXlvdXQgPSAoMCwgX3Jlc3BvbnNpdmVVdGlscy5maW5kT3JHZW5lcmF0ZVJlc3BvbnNpdmVMYXlvdXQpKGxheW91dHMsIGJyZWFrcG9pbnRzLCBicmVha3BvaW50LCBicmVha3BvaW50LCBjb2xObywgY29tcGFjdFR5cGUpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGF5b3V0OiBpbml0aWFsTGF5b3V0LFxuICAgICAgICBicmVha3BvaW50OiBicmVha3BvaW50LFxuICAgICAgICBjb2xzOiBjb2xOb1xuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHNcbiAgICAvKjogUHJvcHM8Kj4qL1xuICAgICkge1xuICAgICAgLy8gQWxsb3cgcGFyZW50IHRvIHNldCB3aWR0aCBvciBicmVha3BvaW50IGRpcmVjdGx5LlxuICAgICAgaWYgKHRoaXMucHJvcHMud2lkdGggIT0gcHJldlByb3BzLndpZHRoIHx8IHRoaXMucHJvcHMuYnJlYWtwb2ludCAhPT0gcHJldlByb3BzLmJyZWFrcG9pbnQgfHwgISgwLCBfbG9kYXNoLmRlZmF1bHQpKHRoaXMucHJvcHMuYnJlYWtwb2ludHMsIHByZXZQcm9wcy5icmVha3BvaW50cykgfHwgISgwLCBfbG9kYXNoLmRlZmF1bHQpKHRoaXMucHJvcHMuY29scywgcHJldlByb3BzLmNvbHMpKSB7XG4gICAgICAgIHRoaXMub25XaWR0aENoYW5nZShwcmV2UHJvcHMpO1xuICAgICAgfVxuICAgIH0gLy8gd3JhcCBsYXlvdXRzIHNvIHdlIGRvIG5vdCBuZWVkIHRvIHBhc3MgbGF5b3V0cyB0byBjaGlsZFxuXG4gIH0sIHtcbiAgICBrZXk6IFwib25XaWR0aENoYW5nZVwiLFxuICAgIHZhbHVlOlxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHdpZHRoIGNoYW5nZXMgd29yayB0aHJvdWdoIGJyZWFrcG9pbnRzIGFuZCByZXNldCBzdGF0ZSB3aXRoIHRoZSBuZXcgd2lkdGggJiBicmVha3BvaW50LlxuICAgICAqIFdpZHRoIGNoYW5nZXMgYXJlIG5lY2Vzc2FyeSB0byBmaWd1cmUgb3V0IHRoZSB3aWRnZXQgd2lkdGhzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uV2lkdGhDaGFuZ2UocHJldlByb3BzXG4gICAgLyo6IFByb3BzPCo+Ki9cbiAgICApIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGJyZWFrcG9pbnRzID0gX3RoaXMkcHJvcHMyLmJyZWFrcG9pbnRzLFxuICAgICAgICAgIGNvbHMgPSBfdGhpcyRwcm9wczIuY29scyxcbiAgICAgICAgICBsYXlvdXRzID0gX3RoaXMkcHJvcHMyLmxheW91dHMsXG4gICAgICAgICAgY29tcGFjdFR5cGUgPSBfdGhpcyRwcm9wczIuY29tcGFjdFR5cGU7XG4gICAgICB2YXIgbmV3QnJlYWtwb2ludCA9IHRoaXMucHJvcHMuYnJlYWtwb2ludCB8fCAoMCwgX3Jlc3BvbnNpdmVVdGlscy5nZXRCcmVha3BvaW50RnJvbVdpZHRoKSh0aGlzLnByb3BzLmJyZWFrcG9pbnRzLCB0aGlzLnByb3BzLndpZHRoKTtcbiAgICAgIHZhciBsYXN0QnJlYWtwb2ludCA9IHRoaXMuc3RhdGUuYnJlYWtwb2ludDtcbiAgICAgIHZhciBuZXdDb2xzXG4gICAgICAvKjogbnVtYmVyKi9cbiAgICAgID0gKDAsIF9yZXNwb25zaXZlVXRpbHMuZ2V0Q29sc0Zyb21CcmVha3BvaW50KShuZXdCcmVha3BvaW50LCBjb2xzKTtcblxuICAgICAgdmFyIG5ld0xheW91dHMgPSBfb2JqZWN0U3ByZWFkKHt9LCBsYXlvdXRzKTsgLy8gQnJlYWtwb2ludCBjaGFuZ2VcblxuXG4gICAgICBpZiAobGFzdEJyZWFrcG9pbnQgIT09IG5ld0JyZWFrcG9pbnQgfHwgcHJldlByb3BzLmJyZWFrcG9pbnRzICE9PSBicmVha3BvaW50cyB8fCBwcmV2UHJvcHMuY29scyAhPT0gY29scykge1xuICAgICAgICAvLyBQcmVzZXJ2ZSB0aGUgY3VycmVudCBsYXlvdXQgaWYgdGhlIGN1cnJlbnQgYnJlYWtwb2ludCBpcyBub3QgcHJlc2VudCBpbiB0aGUgbmV4dCBsYXlvdXRzLlxuICAgICAgICBpZiAoIShsYXN0QnJlYWtwb2ludCBpbiBuZXdMYXlvdXRzKSkgbmV3TGF5b3V0c1tsYXN0QnJlYWtwb2ludF0gPSAoMCwgX3V0aWxzLmNsb25lTGF5b3V0KSh0aGlzLnN0YXRlLmxheW91dCk7IC8vIEZpbmQgb3IgZ2VuZXJhdGUgYSBuZXcgbGF5b3V0LlxuXG4gICAgICAgIHZhciBsYXlvdXQgPSAoMCwgX3Jlc3BvbnNpdmVVdGlscy5maW5kT3JHZW5lcmF0ZVJlc3BvbnNpdmVMYXlvdXQpKG5ld0xheW91dHMsIGJyZWFrcG9pbnRzLCBuZXdCcmVha3BvaW50LCBsYXN0QnJlYWtwb2ludCwgbmV3Q29scywgY29tcGFjdFR5cGUpOyAvLyBUaGlzIGFkZHMgbWlzc2luZyBpdGVtcy5cblxuICAgICAgICBsYXlvdXQgPSAoMCwgX3V0aWxzLnN5bmNocm9uaXplTGF5b3V0V2l0aENoaWxkcmVuKShsYXlvdXQsIHRoaXMucHJvcHMuY2hpbGRyZW4sIG5ld0NvbHMsIGNvbXBhY3RUeXBlKTsgLy8gU3RvcmUgdGhlIG5ldyBsYXlvdXQuXG5cbiAgICAgICAgbmV3TGF5b3V0c1tuZXdCcmVha3BvaW50XSA9IGxheW91dDsgLy8gY2FsbGJhY2tzXG5cbiAgICAgICAgdGhpcy5wcm9wcy5vbkxheW91dENoYW5nZShsYXlvdXQsIG5ld0xheW91dHMpO1xuICAgICAgICB0aGlzLnByb3BzLm9uQnJlYWtwb2ludENoYW5nZShuZXdCcmVha3BvaW50LCBuZXdDb2xzKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgYnJlYWtwb2ludDogbmV3QnJlYWtwb2ludCxcbiAgICAgICAgICBsYXlvdXQ6IGxheW91dCxcbiAgICAgICAgICBjb2xzOiBuZXdDb2xzXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgbWFyZ2luID0gZ2V0SW5kZW50YXRpb25WYWx1ZSh0aGlzLnByb3BzLm1hcmdpbiwgbmV3QnJlYWtwb2ludCk7XG4gICAgICB2YXIgY29udGFpbmVyUGFkZGluZyA9IGdldEluZGVudGF0aW9uVmFsdWUodGhpcy5wcm9wcy5jb250YWluZXJQYWRkaW5nLCBuZXdCcmVha3BvaW50KTsgLy9jYWxsIG9uV2lkdGhDaGFuZ2Ugb24gZXZlcnkgY2hhbmdlIG9mIHdpZHRoLCBub3Qgb25seSBvbiBicmVha3BvaW50IGNoYW5nZXNcblxuICAgICAgdGhpcy5wcm9wcy5vbldpZHRoQ2hhbmdlKHRoaXMucHJvcHMud2lkdGgsIG1hcmdpbiwgbmV3Q29scywgY29udGFpbmVyUGFkZGluZyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKVxuICAgIC8qOiBSZWFjdC5FbGVtZW50PHR5cGVvZiBSZWFjdEdyaWRMYXlvdXQ+Ki9cbiAgICB7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYnJlYWtwb2ludCA9IF90aGlzJHByb3BzMy5icmVha3BvaW50LFxuICAgICAgICAgIGJyZWFrcG9pbnRzID0gX3RoaXMkcHJvcHMzLmJyZWFrcG9pbnRzLFxuICAgICAgICAgIGNvbHMgPSBfdGhpcyRwcm9wczMuY29scyxcbiAgICAgICAgICBsYXlvdXRzID0gX3RoaXMkcHJvcHMzLmxheW91dHMsXG4gICAgICAgICAgbWFyZ2luID0gX3RoaXMkcHJvcHMzLm1hcmdpbixcbiAgICAgICAgICBjb250YWluZXJQYWRkaW5nID0gX3RoaXMkcHJvcHMzLmNvbnRhaW5lclBhZGRpbmcsXG4gICAgICAgICAgb25CcmVha3BvaW50Q2hhbmdlID0gX3RoaXMkcHJvcHMzLm9uQnJlYWtwb2ludENoYW5nZSxcbiAgICAgICAgICBvbkxheW91dENoYW5nZSA9IF90aGlzJHByb3BzMy5vbkxheW91dENoYW5nZSxcbiAgICAgICAgICBvbldpZHRoQ2hhbmdlID0gX3RoaXMkcHJvcHMzLm9uV2lkdGhDaGFuZ2UsXG4gICAgICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3RoaXMkcHJvcHMzLCBbXCJicmVha3BvaW50XCIsIFwiYnJlYWtwb2ludHNcIiwgXCJjb2xzXCIsIFwibGF5b3V0c1wiLCBcIm1hcmdpblwiLCBcImNvbnRhaW5lclBhZGRpbmdcIiwgXCJvbkJyZWFrcG9pbnRDaGFuZ2VcIiwgXCJvbkxheW91dENoYW5nZVwiLCBcIm9uV2lkdGhDaGFuZ2VcIl0pO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtdmFycyAqL1xuXG5cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfUmVhY3RHcmlkTGF5b3V0LmRlZmF1bHQsIF9leHRlbmRzKHt9LCBvdGhlciwge1xuICAgICAgICAvLyAkRmxvd0lnbm9yZSBzaG91bGQgYWxsb3cgbnVsbGFibGUgaGVyZSBkdWUgdG8gRGVmYXVsdFByb3BzXG4gICAgICAgIG1hcmdpbjogZ2V0SW5kZW50YXRpb25WYWx1ZShtYXJnaW4sIHRoaXMuc3RhdGUuYnJlYWtwb2ludCksXG4gICAgICAgIGNvbnRhaW5lclBhZGRpbmc6IGdldEluZGVudGF0aW9uVmFsdWUoY29udGFpbmVyUGFkZGluZywgdGhpcy5zdGF0ZS5icmVha3BvaW50KSxcbiAgICAgICAgb25MYXlvdXRDaGFuZ2U6IHRoaXMub25MYXlvdXRDaGFuZ2UsXG4gICAgICAgIGxheW91dDogdGhpcy5zdGF0ZS5sYXlvdXQsXG4gICAgICAgIGNvbHM6IHRoaXMuc3RhdGUuY29sc1xuICAgICAgfSkpO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzXG4gICAgLyo6IFByb3BzPCo+Ki9cbiAgICAsIHByZXZTdGF0ZVxuICAgIC8qOiBTdGF0ZSovXG4gICAgKVxuICAgIC8qOiA/JFNoYXBlPFN0YXRlPiovXG4gICAge1xuICAgICAgaWYgKCEoMCwgX2xvZGFzaC5kZWZhdWx0KShuZXh0UHJvcHMubGF5b3V0cywgcHJldlN0YXRlLmxheW91dHMpKSB7XG4gICAgICAgIC8vIEFsbG93IHBhcmVudCB0byBzZXQgbGF5b3V0cyBkaXJlY3RseS5cbiAgICAgICAgdmFyIGJyZWFrcG9pbnQgPSBwcmV2U3RhdGUuYnJlYWtwb2ludCxcbiAgICAgICAgICAgIF9jb2xzID0gcHJldlN0YXRlLmNvbHM7IC8vIFNpbmNlIHdlJ3JlIHNldHRpbmcgYW4gZW50aXJlbHkgbmV3IGxheW91dCBvYmplY3QsIHdlIG11c3QgZ2VuZXJhdGUgYSBuZXcgcmVzcG9uc2l2ZSBsYXlvdXRcbiAgICAgICAgLy8gaWYgb25lIGRvZXMgbm90IGV4aXN0LlxuXG4gICAgICAgIHZhciBuZXdMYXlvdXQgPSAoMCwgX3Jlc3BvbnNpdmVVdGlscy5maW5kT3JHZW5lcmF0ZVJlc3BvbnNpdmVMYXlvdXQpKG5leHRQcm9wcy5sYXlvdXRzLCBuZXh0UHJvcHMuYnJlYWtwb2ludHMsIGJyZWFrcG9pbnQsIGJyZWFrcG9pbnQsIF9jb2xzLCBuZXh0UHJvcHMuY29tcGFjdFR5cGUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxheW91dDogbmV3TGF5b3V0LFxuICAgICAgICAgIGxheW91dHM6IG5leHRQcm9wcy5sYXlvdXRzXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSZXNwb25zaXZlUmVhY3RHcmlkTGF5b3V0O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZXNwb25zaXZlUmVhY3RHcmlkTGF5b3V0O1xuXG5fZGVmaW5lUHJvcGVydHkoUmVzcG9uc2l2ZVJlYWN0R3JpZExheW91dCwgXCJwcm9wVHlwZXNcIiwge1xuICAvL1xuICAvLyBCYXNpYyBwcm9wc1xuICAvL1xuICAvLyBPcHRpb25hbCwgYnV0IGlmIHlvdSBhcmUgbWFuYWdpbmcgd2lkdGggeW91cnNlbGYgeW91IG1heSB3YW50IHRvIHNldCB0aGUgYnJlYWtwb2ludFxuICAvLyB5b3Vyc2VsZiBhcyB3ZWxsLlxuICBicmVha3BvaW50OiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuICAvLyB7bmFtZTogcHhWYWx9LCBlLmcuIHtsZzogMTIwMCwgbWQ6IDk5Niwgc206IDc2OCwgeHM6IDQ4MH1cbiAgYnJlYWtwb2ludHM6IF9wcm9wVHlwZXMuZGVmYXVsdC5vYmplY3QsXG4gIC8vICMgb2YgY29scy4gVGhpcyBpcyBhIGJyZWFrcG9pbnQgLT4gY29scyBtYXBcbiAgY29sczogX3Byb3BUeXBlcy5kZWZhdWx0Lm9iamVjdCxcbiAgLy8gIyBvZiBtYXJnaW4uIFRoaXMgaXMgYSBicmVha3BvaW50IC0+IG1hcmdpbiBtYXBcbiAgLy8gZS5nLiB7IGxnOiBbNSwgNV0sIG1kOiBbMTAsIDEwXSwgc206IFsxNSwgMTVdIH1cbiAgLy8gTWFyZ2luIGJldHdlZW4gaXRlbXMgW3gsIHldIGluIHB4XG4gIC8vIGUuZy4gWzEwLCAxMF1cbiAgbWFyZ2luOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzLmRlZmF1bHQuYXJyYXksIF9wcm9wVHlwZXMuZGVmYXVsdC5vYmplY3RdKSxcbiAgLy8gIyBvZiBjb250YWluZXJQYWRkaW5nLiBUaGlzIGlzIGEgYnJlYWtwb2ludCAtPiBjb250YWluZXJQYWRkaW5nIG1hcFxuICAvLyBlLmcuIHsgbGc6IFs1LCA1XSwgbWQ6IFsxMCwgMTBdLCBzbTogWzE1LCAxNV0gfVxuICAvLyBQYWRkaW5nIGluc2lkZSB0aGUgY29udGFpbmVyIFt4LCB5XSBpbiBweFxuICAvLyBlLmcuIFsxMCwgMTBdXG4gIGNvbnRhaW5lclBhZGRpbmc6IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMuZGVmYXVsdC5hcnJheSwgX3Byb3BUeXBlcy5kZWZhdWx0Lm9iamVjdF0pLFxuICAvLyBsYXlvdXRzIGlzIGFuIG9iamVjdCBtYXBwaW5nIGJyZWFrcG9pbnRzIHRvIGxheW91dHMuXG4gIC8vIGUuZy4ge2xnOiBMYXlvdXQsIG1kOiBMYXlvdXQsIC4uLn1cbiAgbGF5b3V0czogZnVuY3Rpb24gbGF5b3V0cyhwcm9wc1xuICAvKjogUHJvcHM8PiovXG4gICwgcHJvcE5hbWVcbiAgLyo6IHN0cmluZyovXG4gICkge1xuICAgIGlmICh0eXBlKHByb3BzW3Byb3BOYW1lXSkgIT09IFwiW29iamVjdCBPYmplY3RdXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkxheW91dCBwcm9wZXJ0eSBtdXN0IGJlIGFuIG9iamVjdC4gUmVjZWl2ZWQ6IFwiICsgdHlwZShwcm9wc1twcm9wTmFtZV0pKTtcbiAgICB9XG5cbiAgICBPYmplY3Qua2V5cyhwcm9wc1twcm9wTmFtZV0pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKCEoa2V5IGluIHByb3BzLmJyZWFrcG9pbnRzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFYWNoIGtleSBpbiBsYXlvdXRzIG11c3QgYWxpZ24gd2l0aCBhIGtleSBpbiBicmVha3BvaW50cy5cIik7XG4gICAgICB9XG5cbiAgICAgICgwLCBfdXRpbHMudmFsaWRhdGVMYXlvdXQpKHByb3BzLmxheW91dHNba2V5XSwgXCJsYXlvdXRzLlwiICsga2V5KTtcbiAgICB9KTtcbiAgfSxcbiAgLy8gVGhlIHdpZHRoIG9mIHRoaXMgY29tcG9uZW50LlxuICAvLyBSZXF1aXJlZCBpbiB0aGlzIHByb3BUeXBlcyBzdGFuemEgYmVjYXVzZSBnZW5lcmF0ZUluaXRpYWxTdGF0ZSgpIHdpbGwgZmFpbCB3aXRob3V0IGl0LlxuICB3aWR0aDogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlci5pc1JlcXVpcmVkLFxuICAvL1xuICAvLyBDYWxsYmFja3NcbiAgLy9cbiAgLy8gQ2FsbHMgYmFjayB3aXRoIGJyZWFrcG9pbnQgYW5kIG5ldyAjIGNvbHNcbiAgb25CcmVha3BvaW50Q2hhbmdlOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgLy8gQ2FsbGJhY2sgc28geW91IGNhbiBzYXZlIHRoZSBsYXlvdXQuXG4gIC8vIENhbGxzIGJhY2sgd2l0aCAoY3VycmVudExheW91dCwgYWxsTGF5b3V0cykuIGFsbExheW91dHMgYXJlIGtleWVkIGJ5IGJyZWFrcG9pbnQuXG4gIG9uTGF5b3V0Q2hhbmdlOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgLy8gQ2FsbHMgYmFjayB3aXRoIChjb250YWluZXJXaWR0aCwgbWFyZ2luLCBjb2xzLCBjb250YWluZXJQYWRkaW5nKVxuICBvbldpZHRoQ2hhbmdlOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuY1xufSk7XG5cbl9kZWZpbmVQcm9wZXJ0eShSZXNwb25zaXZlUmVhY3RHcmlkTGF5b3V0LCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gIGJyZWFrcG9pbnRzOiB7XG4gICAgbGc6IDEyMDAsXG4gICAgbWQ6IDk5NixcbiAgICBzbTogNzY4LFxuICAgIHhzOiA0ODAsXG4gICAgeHhzOiAwXG4gIH0sXG4gIGNvbHM6IHtcbiAgICBsZzogMTIsXG4gICAgbWQ6IDEwLFxuICAgIHNtOiA2LFxuICAgIHhzOiA0LFxuICAgIHh4czogMlxuICB9LFxuICBjb250YWluZXJQYWRkaW5nOiB7XG4gICAgbGc6IG51bGwsXG4gICAgbWQ6IG51bGwsXG4gICAgc206IG51bGwsXG4gICAgeHM6IG51bGwsXG4gICAgeHhzOiBudWxsXG4gIH0sXG4gIGxheW91dHM6IHt9LFxuICBtYXJnaW46IFsxMCwgMTBdLFxuICBvbkJyZWFrcG9pbnRDaGFuZ2U6IF91dGlscy5ub29wLFxuICBvbkxheW91dENoYW5nZTogX3V0aWxzLm5vb3AsXG4gIG9uV2lkdGhDaGFuZ2U6IF91dGlscy5ub29wXG59KTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY2FsY0dyaWRDb2xXaWR0aCA9IGNhbGNHcmlkQ29sV2lkdGg7XG5leHBvcnRzLmNhbGNHcmlkSXRlbVdIUHggPSBjYWxjR3JpZEl0ZW1XSFB4O1xuZXhwb3J0cy5jYWxjR3JpZEl0ZW1Qb3NpdGlvbiA9IGNhbGNHcmlkSXRlbVBvc2l0aW9uO1xuZXhwb3J0cy5jYWxjWFkgPSBjYWxjWFk7XG5leHBvcnRzLmNhbGNXSCA9IGNhbGNXSDtcbmV4cG9ydHMuY2xhbXAgPSBjbGFtcDtcblxuLyo6OiBpbXBvcnQgdHlwZSB7IFBvc2l0aW9uIH0gZnJvbSBcIi4vdXRpbHNcIjsqL1xuXG4vKjo6IGV4cG9ydCB0eXBlIFBvc2l0aW9uUGFyYW1zID0ge1xuICBtYXJnaW46IFtudW1iZXIsIG51bWJlcl0sXG4gIGNvbnRhaW5lclBhZGRpbmc6IFtudW1iZXIsIG51bWJlcl0sXG4gIGNvbnRhaW5lcldpZHRoOiBudW1iZXIsXG4gIGNvbHM6IG51bWJlcixcbiAgcm93SGVpZ2h0OiBudW1iZXIsXG4gIG1heFJvd3M6IG51bWJlclxufTsqL1xuLy8gSGVscGVyIGZvciBnZW5lcmF0aW5nIGNvbHVtbiB3aWR0aFxuZnVuY3Rpb24gY2FsY0dyaWRDb2xXaWR0aChwb3NpdGlvblBhcmFtc1xuLyo6IFBvc2l0aW9uUGFyYW1zKi9cbilcbi8qOiBudW1iZXIqL1xue1xuICB2YXIgbWFyZ2luID0gcG9zaXRpb25QYXJhbXMubWFyZ2luLFxuICAgICAgY29udGFpbmVyUGFkZGluZyA9IHBvc2l0aW9uUGFyYW1zLmNvbnRhaW5lclBhZGRpbmcsXG4gICAgICBjb250YWluZXJXaWR0aCA9IHBvc2l0aW9uUGFyYW1zLmNvbnRhaW5lcldpZHRoLFxuICAgICAgY29scyA9IHBvc2l0aW9uUGFyYW1zLmNvbHM7XG4gIHJldHVybiAoY29udGFpbmVyV2lkdGggLSBtYXJnaW5bMF0gKiAoY29scyAtIDEpIC0gY29udGFpbmVyUGFkZGluZ1swXSAqIDIpIC8gY29scztcbn0gLy8gVGhpcyBjYW4gZWl0aGVyIGJlIGNhbGxlZDpcbi8vIGNhbGNHcmlkSXRlbVdIUHgodywgY29sV2lkdGgsIG1hcmdpblswXSlcbi8vIG9yXG4vLyBjYWxjR3JpZEl0ZW1XSFB4KGgsIHJvd0hlaWdodCwgbWFyZ2luWzFdKVxuXG5cbmZ1bmN0aW9uIGNhbGNHcmlkSXRlbVdIUHgoZ3JpZFVuaXRzXG4vKjogbnVtYmVyKi9cbiwgY29sT3JSb3dTaXplXG4vKjogbnVtYmVyKi9cbiwgbWFyZ2luUHhcbi8qOiBudW1iZXIqL1xuKVxuLyo6IG51bWJlciovXG57XG4gIC8vIDAgKiBJbmZpbml0eSA9PT0gTmFOLCB3aGljaCBjYXVzZXMgcHJvYmxlbXMgd2l0aCByZXNpemUgY29udHJhaW50c1xuICBpZiAoIU51bWJlci5pc0Zpbml0ZShncmlkVW5pdHMpKSByZXR1cm4gZ3JpZFVuaXRzO1xuICByZXR1cm4gTWF0aC5yb3VuZChjb2xPclJvd1NpemUgKiBncmlkVW5pdHMgKyBNYXRoLm1heCgwLCBncmlkVW5pdHMgLSAxKSAqIG1hcmdpblB4KTtcbn1cbi8qKlxuICogUmV0dXJuIHBvc2l0aW9uIG9uIHRoZSBwYWdlIGdpdmVuIGFuIHgsIHksIHcsIGguXG4gKiBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQgYXJlIGFsbCBpbiBwaXhlbHMuXG4gKiBAcGFyYW0gIHtQb3NpdGlvblBhcmFtc30gcG9zaXRpb25QYXJhbXMgIFBhcmFtZXRlcnMgb2YgZ3JpZCBuZWVkZWQgZm9yIGNvb3JkaW5hdGVzIGNhbGN1bGF0aW9ucy5cbiAqIEBwYXJhbSAge051bWJlcn0gIHggICAgICAgICAgICAgICAgICAgICAgWCBjb29yZGluYXRlIGluIGdyaWQgdW5pdHMuXG4gKiBAcGFyYW0gIHtOdW1iZXJ9ICB5ICAgICAgICAgICAgICAgICAgICAgIFkgY29vcmRpbmF0ZSBpbiBncmlkIHVuaXRzLlxuICogQHBhcmFtICB7TnVtYmVyfSAgdyAgICAgICAgICAgICAgICAgICAgICBXIGNvb3JkaW5hdGUgaW4gZ3JpZCB1bml0cy5cbiAqIEBwYXJhbSAge051bWJlcn0gIGggICAgICAgICAgICAgICAgICAgICAgSCBjb29yZGluYXRlIGluIGdyaWQgdW5pdHMuXG4gKiBAcmV0dXJuIHtQb3NpdGlvbn0gICAgICAgICAgICAgICAgICAgICAgIE9iamVjdCBjb250YWluaW5nIGNvb3Jkcy5cbiAqL1xuXG5cbmZ1bmN0aW9uIGNhbGNHcmlkSXRlbVBvc2l0aW9uKHBvc2l0aW9uUGFyYW1zXG4vKjogUG9zaXRpb25QYXJhbXMqL1xuLCB4XG4vKjogbnVtYmVyKi9cbiwgeVxuLyo6IG51bWJlciovXG4sIHdcbi8qOiBudW1iZXIqL1xuLCBoXG4vKjogbnVtYmVyKi9cbiwgc3RhdGVcbi8qOiA/T2JqZWN0Ki9cbilcbi8qOiBQb3NpdGlvbiovXG57XG4gIHZhciBtYXJnaW4gPSBwb3NpdGlvblBhcmFtcy5tYXJnaW4sXG4gICAgICBjb250YWluZXJQYWRkaW5nID0gcG9zaXRpb25QYXJhbXMuY29udGFpbmVyUGFkZGluZyxcbiAgICAgIHJvd0hlaWdodCA9IHBvc2l0aW9uUGFyYW1zLnJvd0hlaWdodDtcbiAgdmFyIGNvbFdpZHRoID0gY2FsY0dyaWRDb2xXaWR0aChwb3NpdGlvblBhcmFtcyk7XG4gIHZhciBvdXQgPSB7fTsgLy8gSWYgcmVzaXppbmcsIHVzZSB0aGUgZXhhY3Qgd2lkdGggYW5kIGhlaWdodCBhcyByZXR1cm5lZCBmcm9tIHJlc2l6aW5nIGNhbGxiYWNrcy5cblxuICBpZiAoc3RhdGUgJiYgc3RhdGUucmVzaXppbmcpIHtcbiAgICBvdXQud2lkdGggPSBNYXRoLnJvdW5kKHN0YXRlLnJlc2l6aW5nLndpZHRoKTtcbiAgICBvdXQuaGVpZ2h0ID0gTWF0aC5yb3VuZChzdGF0ZS5yZXNpemluZy5oZWlnaHQpO1xuICB9IC8vIE90aGVyd2lzZSwgY2FsY3VsYXRlIGZyb20gZ3JpZCB1bml0cy5cbiAgZWxzZSB7XG4gICAgICBvdXQud2lkdGggPSBjYWxjR3JpZEl0ZW1XSFB4KHcsIGNvbFdpZHRoLCBtYXJnaW5bMF0pO1xuICAgICAgb3V0LmhlaWdodCA9IGNhbGNHcmlkSXRlbVdIUHgoaCwgcm93SGVpZ2h0LCBtYXJnaW5bMV0pO1xuICAgIH0gLy8gSWYgZHJhZ2dpbmcsIHVzZSB0aGUgZXhhY3Qgd2lkdGggYW5kIGhlaWdodCBhcyByZXR1cm5lZCBmcm9tIGRyYWdnaW5nIGNhbGxiYWNrcy5cblxuXG4gIGlmIChzdGF0ZSAmJiBzdGF0ZS5kcmFnZ2luZykge1xuICAgIG91dC50b3AgPSBNYXRoLnJvdW5kKHN0YXRlLmRyYWdnaW5nLnRvcCk7XG4gICAgb3V0LmxlZnQgPSBNYXRoLnJvdW5kKHN0YXRlLmRyYWdnaW5nLmxlZnQpO1xuICB9IC8vIE90aGVyd2lzZSwgY2FsY3VsYXRlIGZyb20gZ3JpZCB1bml0cy5cbiAgZWxzZSB7XG4gICAgICBvdXQudG9wID0gTWF0aC5yb3VuZCgocm93SGVpZ2h0ICsgbWFyZ2luWzFdKSAqIHkgKyBjb250YWluZXJQYWRkaW5nWzFdKTtcbiAgICAgIG91dC5sZWZ0ID0gTWF0aC5yb3VuZCgoY29sV2lkdGggKyBtYXJnaW5bMF0pICogeCArIGNvbnRhaW5lclBhZGRpbmdbMF0pO1xuICAgIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2xhdGUgeCBhbmQgeSBjb29yZGluYXRlcyBmcm9tIHBpeGVscyB0byBncmlkIHVuaXRzLlxuICogQHBhcmFtICB7UG9zaXRpb25QYXJhbXN9IHBvc2l0aW9uUGFyYW1zICBQYXJhbWV0ZXJzIG9mIGdyaWQgbmVlZGVkIGZvciBjb29yZGluYXRlcyBjYWxjdWxhdGlvbnMuXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHRvcCAgICAgICAgICAgICAgICAgICAgIFRvcCBwb3NpdGlvbiAocmVsYXRpdmUgdG8gcGFyZW50KSBpbiBwaXhlbHMuXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGxlZnQgICAgICAgICAgICAgICAgICAgIExlZnQgcG9zaXRpb24gKHJlbGF0aXZlIHRvIHBhcmVudCkgaW4gcGl4ZWxzLlxuICogQHBhcmFtICB7TnVtYmVyfSB3ICAgICAgICAgICAgICAgICAgICAgICBXIGNvb3JkaW5hdGUgaW4gZ3JpZCB1bml0cy5cbiAqIEBwYXJhbSAge051bWJlcn0gaCAgICAgICAgICAgICAgICAgICAgICAgSCBjb29yZGluYXRlIGluIGdyaWQgdW5pdHMuXG4gKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgICAgICAgICAgICAgICAgICAgIHggYW5kIHkgaW4gZ3JpZCB1bml0cy5cbiAqL1xuXG5cbmZ1bmN0aW9uIGNhbGNYWShwb3NpdGlvblBhcmFtc1xuLyo6IFBvc2l0aW9uUGFyYW1zKi9cbiwgdG9wXG4vKjogbnVtYmVyKi9cbiwgbGVmdFxuLyo6IG51bWJlciovXG4sIHdcbi8qOiBudW1iZXIqL1xuLCBoXG4vKjogbnVtYmVyKi9cbilcbi8qOiB7IHg6IG51bWJlciwgeTogbnVtYmVyIH0qL1xue1xuICB2YXIgbWFyZ2luID0gcG9zaXRpb25QYXJhbXMubWFyZ2luLFxuICAgICAgY29scyA9IHBvc2l0aW9uUGFyYW1zLmNvbHMsXG4gICAgICByb3dIZWlnaHQgPSBwb3NpdGlvblBhcmFtcy5yb3dIZWlnaHQsXG4gICAgICBtYXhSb3dzID0gcG9zaXRpb25QYXJhbXMubWF4Um93cztcbiAgdmFyIGNvbFdpZHRoID0gY2FsY0dyaWRDb2xXaWR0aChwb3NpdGlvblBhcmFtcyk7IC8vIGxlZnQgPSBjb2xXaWR0aCAqIHggKyBtYXJnaW4gKiAoeCArIDEpXG4gIC8vIGwgPSBjeCArIG0oeCsxKVxuICAvLyBsID0gY3ggKyBteCArIG1cbiAgLy8gbCAtIG0gPSBjeCArIG14XG4gIC8vIGwgLSBtID0geChjICsgbSlcbiAgLy8gKGwgLSBtKSAvIChjICsgbSkgPSB4XG4gIC8vIHggPSAobGVmdCAtIG1hcmdpbikgLyAoY29sZFdpZHRoICsgbWFyZ2luKVxuXG4gIHZhciB4ID0gTWF0aC5yb3VuZCgobGVmdCAtIG1hcmdpblswXSkgLyAoY29sV2lkdGggKyBtYXJnaW5bMF0pKTtcbiAgdmFyIHkgPSBNYXRoLnJvdW5kKCh0b3AgLSBtYXJnaW5bMV0pIC8gKHJvd0hlaWdodCArIG1hcmdpblsxXSkpOyAvLyBDYXBwaW5nXG5cbiAgeCA9IGNsYW1wKHgsIDAsIGNvbHMgLSB3KTtcbiAgeSA9IGNsYW1wKHksIDAsIG1heFJvd3MgLSBoKTtcbiAgcmV0dXJuIHtcbiAgICB4OiB4LFxuICAgIHk6IHlcbiAgfTtcbn1cbi8qKlxuICogR2l2ZW4gYSBoZWlnaHQgYW5kIHdpZHRoIGluIHBpeGVsIHZhbHVlcywgY2FsY3VsYXRlIGdyaWQgdW5pdHMuXG4gKiBAcGFyYW0gIHtQb3NpdGlvblBhcmFtc30gcG9zaXRpb25QYXJhbXMgIFBhcmFtZXRlcnMgb2YgZ3JpZCBuZWVkZWQgZm9yIGNvb3JkaW5hdGVzIGNhbGNsdWF0aW9ucy5cbiAqIEBwYXJhbSAge051bWJlcn0gaGVpZ2h0ICAgICAgICAgICAgICAgICAgSGVpZ2h0IGluIHBpeGVscy5cbiAqIEBwYXJhbSAge051bWJlcn0gd2lkdGggICAgICAgICAgICAgICAgICAgV2lkdGggaW4gcGl4ZWxzLlxuICogQHBhcmFtICB7TnVtYmVyfSB4ICAgICAgICAgICAgICAgICAgICAgICBYIGNvb3JkaW5hdGUgaW4gZ3JpZCB1bml0cy5cbiAqIEBwYXJhbSAge051bWJlcn0geSAgICAgICAgICAgICAgICAgICAgICAgWSBjb29yZGluYXRlIGluIGdyaWQgdW5pdHMuXG4gKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgICAgICAgICAgICAgICAgICAgIHcsIGggYXMgZ3JpZCB1bml0cy5cbiAqL1xuXG5cbmZ1bmN0aW9uIGNhbGNXSChwb3NpdGlvblBhcmFtc1xuLyo6IFBvc2l0aW9uUGFyYW1zKi9cbiwgd2lkdGhcbi8qOiBudW1iZXIqL1xuLCBoZWlnaHRcbi8qOiBudW1iZXIqL1xuLCB4XG4vKjogbnVtYmVyKi9cbiwgeVxuLyo6IG51bWJlciovXG4pXG4vKjogeyB3OiBudW1iZXIsIGg6IG51bWJlciB9Ki9cbntcbiAgdmFyIG1hcmdpbiA9IHBvc2l0aW9uUGFyYW1zLm1hcmdpbixcbiAgICAgIG1heFJvd3MgPSBwb3NpdGlvblBhcmFtcy5tYXhSb3dzLFxuICAgICAgY29scyA9IHBvc2l0aW9uUGFyYW1zLmNvbHMsXG4gICAgICByb3dIZWlnaHQgPSBwb3NpdGlvblBhcmFtcy5yb3dIZWlnaHQ7XG4gIHZhciBjb2xXaWR0aCA9IGNhbGNHcmlkQ29sV2lkdGgocG9zaXRpb25QYXJhbXMpOyAvLyB3aWR0aCA9IGNvbFdpZHRoICogdyAtIChtYXJnaW4gKiAodyAtIDEpKVxuICAvLyAuLi5cbiAgLy8gdyA9ICh3aWR0aCArIG1hcmdpbikgLyAoY29sV2lkdGggKyBtYXJnaW4pXG5cbiAgdmFyIHcgPSBNYXRoLnJvdW5kKCh3aWR0aCArIG1hcmdpblswXSkgLyAoY29sV2lkdGggKyBtYXJnaW5bMF0pKTtcbiAgdmFyIGggPSBNYXRoLnJvdW5kKChoZWlnaHQgKyBtYXJnaW5bMV0pIC8gKHJvd0hlaWdodCArIG1hcmdpblsxXSkpOyAvLyBDYXBwaW5nXG5cbiAgdyA9IGNsYW1wKHcsIDAsIGNvbHMgLSB4KTtcbiAgaCA9IGNsYW1wKGgsIDAsIG1heFJvd3MgLSB5KTtcbiAgcmV0dXJuIHtcbiAgICB3OiB3LFxuICAgIGg6IGhcbiAgfTtcbn0gLy8gU2ltaWxhciB0byBfLmNsYW1wXG5cblxuZnVuY3Rpb24gY2xhbXAobnVtXG4vKjogbnVtYmVyKi9cbiwgbG93ZXJCb3VuZFxuLyo6IG51bWJlciovXG4sIHVwcGVyQm91bmRcbi8qOiBudW1iZXIqL1xuKVxuLyo6IG51bWJlciovXG57XG4gIHJldHVybiBNYXRoLm1heChNYXRoLm1pbihudW0sIHVwcGVyQm91bmQpLCBsb3dlckJvdW5kKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gV2lkdGhQcm92aWRlUkdMO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInByb3AtdHlwZXNcIikpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJjbGFzc25hbWVzXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKCkgeyBpZiAodHlwZW9mIFdlYWtNYXAgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIG51bGw7IHZhciBjYWNoZSA9IG5ldyBXZWFrTWFwKCk7IF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSA9IGZ1bmN0aW9uIF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSgpIHsgcmV0dXJuIGNhY2hlOyB9OyByZXR1cm4gY2FjaGU7IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBpZiAob2JqID09PSBudWxsIHx8IF90eXBlb2Yob2JqKSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqICE9PSBcImZ1bmN0aW9uXCIpIHsgcmV0dXJuIHsgZGVmYXVsdDogb2JqIH07IH0gdmFyIGNhY2hlID0gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKCk7IGlmIChjYWNoZSAmJiBjYWNoZS5oYXMob2JqKSkgeyByZXR1cm4gY2FjaGUuZ2V0KG9iaik7IH0gdmFyIG5ld09iaiA9IHt9OyB2YXIgaGFzUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBoYXNQcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IG51bGw7IGlmIChkZXNjICYmIChkZXNjLmdldCB8fCBkZXNjLnNldCkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IGlmIChjYWNoZSkgeyBjYWNoZS5zZXQob2JqLCBuZXdPYmopOyB9IHJldHVybiBuZXdPYmo7IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG52YXIgbGF5b3V0Q2xhc3NOYW1lID0gXCJyZWFjdC1ncmlkLWxheW91dFwiO1xuLypcbiAqIEEgc2ltcGxlIEhPQyB0aGF0IHByb3ZpZGVzIGZhY2lsaXR5IGZvciBsaXN0ZW5pbmcgdG8gY29udGFpbmVyIHJlc2l6ZXMuXG4gKlxuICogVGhlIEZsb3cgdHlwZSBpcyBwcmV0dHkgamFua3kgaGVyZS4gSSBjYW4ndCBqdXN0IHNwcmVhZCBgV1BQcm9wc2AgaW50byB0aGlzIHJldHVybmVkIG9iamVjdCAtIEkgd2lzaCBJIGNvdWxkIC0gYnV0IGl0IHRyaWdnZXJzXG4gKiBhIGZsb3cgYnVnIG9mIHNvbWUgc29ydCB0aGF0IGNhdXNlcyBpdCB0byBzdG9wIHR5cGVjaGVja2luZy5cbiAqL1xuXG5mdW5jdGlvbiBXaWR0aFByb3ZpZGVSR0xcbi8qOjogPENvbmZpZz4qL1xuKENvbXBvc2VkQ29tcG9uZW50XG4vKjogUmVhY3QuQWJzdHJhY3RDb21wb25lbnQ8Q29uZmlnPiovXG4pXG4vKjogUmVhY3QuQWJzdHJhY3RDb21wb25lbnQ8Q29tcG9zZWRQcm9wczxDb25maWc+PiovXG57XG4gIHZhciBfY2xhc3MsIF90ZW1wO1xuXG4gIHJldHVybiBfdGVtcCA9IF9jbGFzcyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhXaWR0aFByb3ZpZGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoV2lkdGhQcm92aWRlcik7XG5cbiAgICBmdW5jdGlvbiBXaWR0aFByb3ZpZGVyKCkge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2lkdGhQcm92aWRlcik7XG5cbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBfdGhpcyA9IF9zdXBlci5jYWxsLmFwcGx5KF9zdXBlciwgW3RoaXNdLmNvbmNhdChhcmdzKSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCB7XG4gICAgICAgIHdpZHRoOiAxMjgwXG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImVsZW1lbnRSZWZcIiwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZVJlZigpKTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm1vdW50ZWRcIiwgZmFsc2UpO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25XaW5kb3dSZXNpemVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIV90aGlzLm1vdW50ZWQpIHJldHVybjtcbiAgICAgICAgdmFyIG5vZGUgPSBfdGhpcy5lbGVtZW50UmVmLmN1cnJlbnQ7IC8vIEZsb3cgY2FzdHMgdGhpcyB0byBUZXh0IHwgRWxlbWVudFxuICAgICAgICAvLyBmaXg6IGdyaWQgcG9zaXRpb24gZXJyb3Igd2hlbiBub2RlIG9yIHBhcmVudE5vZGUgZGlzcGxheSBpcyBub25lIGJ5IHdpbmRvdyByZXNpemVcbiAgICAgICAgLy8gIzkyNCAjMTA4NFxuXG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgbm9kZS5vZmZzZXRXaWR0aCkge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHdpZHRoOiBub2RlLm9mZnNldFdpZHRoXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFdpZHRoUHJvdmlkZXIsIFt7XG4gICAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5tb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5vbldpbmRvd1Jlc2l6ZSk7IC8vIENhbGwgdG8gcHJvcGVybHkgc2V0IHRoZSBicmVha3BvaW50IGFuZCByZXNpemUgdGhlIGVsZW1lbnRzLlxuICAgICAgICAvLyBOb3RlIHRoYXQgaWYgeW91J3JlIGRvaW5nIGEgZnVsbC13aWR0aCBlbGVtZW50LCB0aGlzIGNhbiBnZXQgYSBsaXR0bGUgd29ua3kgaWYgYSBzY3JvbGxiYXJcbiAgICAgICAgLy8gYXBwZWFycyBiZWNhdXNlIG9mIHRoZSBncmlkLiBJbiB0aGF0IGNhc2UsIGZpcmUgeW91ciBvd24gcmVzaXplIGV2ZW50LCBvciBzZXQgYG92ZXJmbG93OiBzY3JvbGxgIG9uIHlvdXIgYm9keS5cblxuICAgICAgICB0aGlzLm9uV2luZG93UmVzaXplKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIHRoaXMubW91bnRlZCA9IGZhbHNlO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLm9uV2luZG93UmVzaXplKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgbWVhc3VyZUJlZm9yZU1vdW50ID0gX3RoaXMkcHJvcHMubWVhc3VyZUJlZm9yZU1vdW50LFxuICAgICAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfdGhpcyRwcm9wcywgW1wibWVhc3VyZUJlZm9yZU1vdW50XCJdKTtcblxuICAgICAgICBpZiAobWVhc3VyZUJlZm9yZU1vdW50ICYmICF0aGlzLm1vdW50ZWQpIHtcbiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMuZGVmYXVsdCkodGhpcy5wcm9wcy5jbGFzc05hbWUsIGxheW91dENsYXNzTmFtZSksXG4gICAgICAgICAgICBzdHlsZTogdGhpcy5wcm9wcy5zdHlsZSAvLyAkRmxvd0lnbm9yZSByZWYgdHlwZXNcbiAgICAgICAgICAgICxcbiAgICAgICAgICAgIHJlZjogdGhpcy5lbGVtZW50UmVmXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9zZWRDb21wb25lbnQsIF9leHRlbmRzKHtcbiAgICAgICAgICBpbm5lclJlZjogdGhpcy5lbGVtZW50UmVmXG4gICAgICAgIH0sIHJlc3QsIHRoaXMuc3RhdGUpKTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gV2lkdGhQcm92aWRlcjtcbiAgfShSZWFjdC5Db21wb25lbnQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzLCBcImRlZmF1bHRQcm9wc1wiLCB7XG4gICAgbWVhc3VyZUJlZm9yZU1vdW50OiBmYWxzZVxuICB9KSwgX2RlZmluZVByb3BlcnR5KF9jbGFzcywgXCJwcm9wVHlwZXNcIiwge1xuICAgIC8vIElmIHRydWUsIHdpbGwgbm90IHJlbmRlciBjaGlsZHJlbiB1bnRpbCBtb3VudGVkLiBVc2VmdWwgZm9yIGdldHRpbmcgdGhlIGV4YWN0IHdpZHRoIGJlZm9yZVxuICAgIC8vIHJlbmRlcmluZywgdG8gcHJldmVudCBhbnkgdW5zaWdodGx5IHJlc2l6aW5nLlxuICAgIG1lYXN1cmVCZWZvcmVNb3VudDogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2xcbiAgfSksIF90ZW1wO1xufSIsIi8vIHRoaXMgZmlsZSB3YXMgcHJldmFsZWRcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZmFzdFJHTFByb3BzRXF1YWwoYSwgYiwgaXNFcXVhbEltcGwpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuICByZXR1cm4gYS5jbGFzc05hbWUgPT09IGIuY2xhc3NOYW1lICYmIGlzRXF1YWxJbXBsKGEuc3R5bGUsIGIuc3R5bGUpICYmIGEud2lkdGggPT09IGIud2lkdGggJiYgYS5hdXRvU2l6ZSA9PT0gYi5hdXRvU2l6ZSAmJiBhLmNvbHMgPT09IGIuY29scyAmJiBhLmRyYWdnYWJsZUNhbmNlbCA9PT0gYi5kcmFnZ2FibGVDYW5jZWwgJiYgYS5kcmFnZ2FibGVIYW5kbGUgPT09IGIuZHJhZ2dhYmxlSGFuZGxlICYmIGlzRXF1YWxJbXBsKGEudmVydGljYWxDb21wYWN0LCBiLnZlcnRpY2FsQ29tcGFjdCkgJiYgaXNFcXVhbEltcGwoYS5jb21wYWN0VHlwZSwgYi5jb21wYWN0VHlwZSkgJiYgaXNFcXVhbEltcGwoYS5sYXlvdXQsIGIubGF5b3V0KSAmJiBpc0VxdWFsSW1wbChhLm1hcmdpbiwgYi5tYXJnaW4pICYmIGlzRXF1YWxJbXBsKGEuY29udGFpbmVyUGFkZGluZywgYi5jb250YWluZXJQYWRkaW5nKSAmJiBhLnJvd0hlaWdodCA9PT0gYi5yb3dIZWlnaHQgJiYgYS5tYXhSb3dzID09PSBiLm1heFJvd3MgJiYgYS5pc0JvdW5kZWQgPT09IGIuaXNCb3VuZGVkICYmIGEuaXNEcmFnZ2FibGUgPT09IGIuaXNEcmFnZ2FibGUgJiYgYS5pc1Jlc2l6YWJsZSA9PT0gYi5pc1Jlc2l6YWJsZSAmJiBhLnByZXZlbnRDb2xsaXNpb24gPT09IGIucHJldmVudENvbGxpc2lvbiAmJiBhLnVzZUNTU1RyYW5zZm9ybXMgPT09IGIudXNlQ1NTVHJhbnNmb3JtcyAmJiBhLnRyYW5zZm9ybVNjYWxlID09PSBiLnRyYW5zZm9ybVNjYWxlICYmIGEuaXNEcm9wcGFibGUgPT09IGIuaXNEcm9wcGFibGUgJiYgaXNFcXVhbEltcGwoYS5yZXNpemVIYW5kbGVzLCBiLnJlc2l6ZUhhbmRsZXMpICYmIGlzRXF1YWxJbXBsKGEucmVzaXplSGFuZGxlLCBiLnJlc2l6ZUhhbmRsZSkgJiYgYS5vbkxheW91dENoYW5nZSA9PT0gYi5vbkxheW91dENoYW5nZSAmJiBhLm9uRHJhZ1N0YXJ0ID09PSBiLm9uRHJhZ1N0YXJ0ICYmIGEub25EcmFnID09PSBiLm9uRHJhZyAmJiBhLm9uRHJhZ1N0b3AgPT09IGIub25EcmFnU3RvcCAmJiBhLm9uUmVzaXplU3RhcnQgPT09IGIub25SZXNpemVTdGFydCAmJiBhLm9uUmVzaXplID09PSBiLm9uUmVzaXplICYmIGEub25SZXNpemVTdG9wID09PSBiLm9uUmVzaXplU3RvcCAmJiBhLm9uRHJvcCA9PT0gYi5vbkRyb3AgJiYgaXNFcXVhbEltcGwoYS5kcm9wcGluZ0l0ZW0sIGIuZHJvcHBpbmdJdGVtKSAmJiBpc0VxdWFsSW1wbChhLmlubmVyUmVmLCBiLmlubmVyUmVmKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmdldEJyZWFrcG9pbnRGcm9tV2lkdGggPSBnZXRCcmVha3BvaW50RnJvbVdpZHRoO1xuZXhwb3J0cy5nZXRDb2xzRnJvbUJyZWFrcG9pbnQgPSBnZXRDb2xzRnJvbUJyZWFrcG9pbnQ7XG5leHBvcnRzLmZpbmRPckdlbmVyYXRlUmVzcG9uc2l2ZUxheW91dCA9IGZpbmRPckdlbmVyYXRlUmVzcG9uc2l2ZUxheW91dDtcbmV4cG9ydHMuc29ydEJyZWFrcG9pbnRzID0gc29ydEJyZWFrcG9pbnRzO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbi8qKlxuICogR2l2ZW4gYSB3aWR0aCwgZmluZCB0aGUgaGlnaGVzdCBicmVha3BvaW50IHRoYXQgbWF0Y2hlcyBpcyB2YWxpZCBmb3IgaXQgKHdpZHRoID4gYnJlYWtwb2ludCkuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBicmVha3BvaW50cyBCcmVha3BvaW50cyBvYmplY3QgKGUuZy4ge2xnOiAxMjAwLCBtZDogOTYwLCAuLi59KVxuICogQHBhcmFtICB7TnVtYmVyfSB3aWR0aCBTY3JlZW4gd2lkdGguXG4gKiBAcmV0dXJuIHtTdHJpbmd9ICAgICAgIEhpZ2hlc3QgYnJlYWtwb2ludCB0aGF0IGlzIGxlc3MgdGhhbiB3aWR0aC5cbiAqL1xuZnVuY3Rpb24gZ2V0QnJlYWtwb2ludEZyb21XaWR0aChicmVha3BvaW50c1xuLyo6IEJyZWFrcG9pbnRzPEJyZWFrcG9pbnQ+Ki9cbiwgd2lkdGhcbi8qOiBudW1iZXIqL1xuKVxuLyo6IEJyZWFrcG9pbnQqL1xue1xuICB2YXIgc29ydGVkID0gc29ydEJyZWFrcG9pbnRzKGJyZWFrcG9pbnRzKTtcbiAgdmFyIG1hdGNoaW5nID0gc29ydGVkWzBdO1xuXG4gIGZvciAodmFyIGkgPSAxLCBsZW4gPSBzb3J0ZWQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgYnJlYWtwb2ludE5hbWUgPSBzb3J0ZWRbaV07XG4gICAgaWYgKHdpZHRoID4gYnJlYWtwb2ludHNbYnJlYWtwb2ludE5hbWVdKSBtYXRjaGluZyA9IGJyZWFrcG9pbnROYW1lO1xuICB9XG5cbiAgcmV0dXJuIG1hdGNoaW5nO1xufVxuLyoqXG4gKiBHaXZlbiBhIGJyZWFrcG9pbnQsIGdldCB0aGUgIyBvZiBjb2xzIHNldCBmb3IgaXQuXG4gKiBAcGFyYW0gIHtTdHJpbmd9IGJyZWFrcG9pbnQgQnJlYWtwb2ludCBuYW1lLlxuICogQHBhcmFtICB7T2JqZWN0fSBjb2xzICAgICAgIE1hcCBvZiBicmVha3BvaW50cyB0byBjb2xzLlxuICogQHJldHVybiB7TnVtYmVyfSAgICAgICAgICAgIE51bWJlciBvZiBjb2xzLlxuICovXG5cblxuZnVuY3Rpb24gZ2V0Q29sc0Zyb21CcmVha3BvaW50KGJyZWFrcG9pbnRcbi8qOiBCcmVha3BvaW50Ki9cbiwgY29sc1xuLyo6IEJyZWFrcG9pbnRzPEJyZWFrcG9pbnQ+Ki9cbilcbi8qOiBudW1iZXIqL1xue1xuICBpZiAoIWNvbHNbYnJlYWtwb2ludF0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXNwb25zaXZlUmVhY3RHcmlkTGF5b3V0OiBgY29sc2AgZW50cnkgZm9yIGJyZWFrcG9pbnQgXCIgKyBicmVha3BvaW50ICsgXCIgaXMgbWlzc2luZyFcIik7XG4gIH1cblxuICByZXR1cm4gY29sc1ticmVha3BvaW50XTtcbn1cbi8qKlxuICogR2l2ZW4gZXhpc3RpbmcgbGF5b3V0cyBhbmQgYSBuZXcgYnJlYWtwb2ludCwgZmluZCBvciBnZW5lcmF0ZSBhIG5ldyBsYXlvdXQuXG4gKlxuICogVGhpcyBmaW5kcyB0aGUgbGF5b3V0IGFib3ZlIHRoZSBuZXcgb25lIGFuZCBnZW5lcmF0ZXMgZnJvbSBpdCwgaWYgaXQgZXhpc3RzLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gbGF5b3V0cyAgICAgRXhpc3RpbmcgbGF5b3V0cy5cbiAqIEBwYXJhbSAge0FycmF5fSBicmVha3BvaW50cyBBbGwgYnJlYWtwb2ludHMuXG4gKiBAcGFyYW0gIHtTdHJpbmd9IGJyZWFrcG9pbnQgTmV3IGJyZWFrcG9pbnQuXG4gKiBAcGFyYW0gIHtTdHJpbmd9IGJyZWFrcG9pbnQgTGFzdCBicmVha3BvaW50IChmb3IgZmFsbGJhY2spLlxuICogQHBhcmFtICB7TnVtYmVyfSBjb2xzICAgICAgIENvbHVtbiBjb3VudCBhdCBuZXcgYnJlYWtwb2ludC5cbiAqIEBwYXJhbSAge0Jvb2xlYW59IHZlcnRpY2FsQ29tcGFjdCBXaGV0aGVyIG9yIG5vdCB0byBjb21wYWN0IHRoZSBsYXlvdXRcbiAqICAgdmVydGljYWxseS5cbiAqIEByZXR1cm4ge0FycmF5fSAgICAgICAgICAgICBOZXcgbGF5b3V0LlxuICovXG5cblxuZnVuY3Rpb24gZmluZE9yR2VuZXJhdGVSZXNwb25zaXZlTGF5b3V0KGxheW91dHNcbi8qOiBSZXNwb25zaXZlTGF5b3V0PEJyZWFrcG9pbnQ+Ki9cbiwgYnJlYWtwb2ludHNcbi8qOiBCcmVha3BvaW50czxCcmVha3BvaW50PiovXG4sIGJyZWFrcG9pbnRcbi8qOiBCcmVha3BvaW50Ki9cbiwgbGFzdEJyZWFrcG9pbnRcbi8qOiBCcmVha3BvaW50Ki9cbiwgY29sc1xuLyo6IG51bWJlciovXG4sIGNvbXBhY3RUeXBlXG4vKjogQ29tcGFjdFR5cGUqL1xuKVxuLyo6IExheW91dCovXG57XG4gIC8vIElmIGl0IGFscmVhZHkgZXhpc3RzLCBqdXN0IHJldHVybiBpdC5cbiAgaWYgKGxheW91dHNbYnJlYWtwb2ludF0pIHJldHVybiAoMCwgX3V0aWxzLmNsb25lTGF5b3V0KShsYXlvdXRzW2JyZWFrcG9pbnRdKTsgLy8gRmluZCBvciBnZW5lcmF0ZSB0aGUgbmV4dCBsYXlvdXRcblxuICB2YXIgbGF5b3V0ID0gbGF5b3V0c1tsYXN0QnJlYWtwb2ludF07XG4gIHZhciBicmVha3BvaW50c1NvcnRlZCA9IHNvcnRCcmVha3BvaW50cyhicmVha3BvaW50cyk7XG4gIHZhciBicmVha3BvaW50c0Fib3ZlID0gYnJlYWtwb2ludHNTb3J0ZWQuc2xpY2UoYnJlYWtwb2ludHNTb3J0ZWQuaW5kZXhPZihicmVha3BvaW50KSk7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJyZWFrcG9pbnRzQWJvdmUubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgYiA9IGJyZWFrcG9pbnRzQWJvdmVbaV07XG5cbiAgICBpZiAobGF5b3V0c1tiXSkge1xuICAgICAgbGF5b3V0ID0gbGF5b3V0c1tiXTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGxheW91dCA9ICgwLCBfdXRpbHMuY2xvbmVMYXlvdXQpKGxheW91dCB8fCBbXSk7IC8vIGNsb25lIGxheW91dCBzbyB3ZSBkb24ndCBtb2RpZnkgZXhpc3RpbmcgaXRlbXNcblxuICByZXR1cm4gKDAsIF91dGlscy5jb21wYWN0KSgoMCwgX3V0aWxzLmNvcnJlY3RCb3VuZHMpKGxheW91dCwge1xuICAgIGNvbHM6IGNvbHNcbiAgfSksIGNvbXBhY3RUeXBlLCBjb2xzKTtcbn1cbi8qKlxuICogR2l2ZW4gYnJlYWtwb2ludHMsIHJldHVybiBhbiBhcnJheSBvZiBicmVha3BvaW50cyBzb3J0ZWQgYnkgd2lkdGguIFRoaXMgaXMgdXN1YWxseVxuICogZS5nLiBbJ3h4cycsICd4cycsICdzbScsIC4uLl1cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IGJyZWFrcG9pbnRzIEtleS92YWx1ZSBwYWlyIG9mIGJyZWFrcG9pbnQgbmFtZXMgdG8gd2lkdGhzLlxuICogQHJldHVybiB7QXJyYXl9ICAgICAgICAgICAgICBTb3J0ZWQgYnJlYWtwb2ludHMuXG4gKi9cblxuXG5mdW5jdGlvbiBzb3J0QnJlYWtwb2ludHMoYnJlYWtwb2ludHNcbi8qOiBCcmVha3BvaW50czxCcmVha3BvaW50PiovXG4pXG4vKjogQXJyYXk8QnJlYWtwb2ludD4qL1xue1xuICB2YXIga2V5c1xuICAvKjogQXJyYXk8c3RyaW5nPiovXG4gID0gT2JqZWN0LmtleXMoYnJlYWtwb2ludHMpO1xuICByZXR1cm4ga2V5cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIGJyZWFrcG9pbnRzW2FdIC0gYnJlYWtwb2ludHNbYl07XG4gIH0pO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5ib3R0b20gPSBib3R0b207XG5leHBvcnRzLmNsb25lTGF5b3V0ID0gY2xvbmVMYXlvdXQ7XG5leHBvcnRzLm1vZGlmeUxheW91dCA9IG1vZGlmeUxheW91dDtcbmV4cG9ydHMud2l0aExheW91dEl0ZW0gPSB3aXRoTGF5b3V0SXRlbTtcbmV4cG9ydHMuY2xvbmVMYXlvdXRJdGVtID0gY2xvbmVMYXlvdXRJdGVtO1xuZXhwb3J0cy5jaGlsZHJlbkVxdWFsID0gY2hpbGRyZW5FcXVhbDtcbmV4cG9ydHMuZmFzdFBvc2l0aW9uRXF1YWwgPSBmYXN0UG9zaXRpb25FcXVhbDtcbmV4cG9ydHMuY29sbGlkZXMgPSBjb2xsaWRlcztcbmV4cG9ydHMuY29tcGFjdCA9IGNvbXBhY3Q7XG5leHBvcnRzLmNvbXBhY3RJdGVtID0gY29tcGFjdEl0ZW07XG5leHBvcnRzLmNvcnJlY3RCb3VuZHMgPSBjb3JyZWN0Qm91bmRzO1xuZXhwb3J0cy5nZXRMYXlvdXRJdGVtID0gZ2V0TGF5b3V0SXRlbTtcbmV4cG9ydHMuZ2V0Rmlyc3RDb2xsaXNpb24gPSBnZXRGaXJzdENvbGxpc2lvbjtcbmV4cG9ydHMuZ2V0QWxsQ29sbGlzaW9ucyA9IGdldEFsbENvbGxpc2lvbnM7XG5leHBvcnRzLmdldFN0YXRpY3MgPSBnZXRTdGF0aWNzO1xuZXhwb3J0cy5tb3ZlRWxlbWVudCA9IG1vdmVFbGVtZW50O1xuZXhwb3J0cy5tb3ZlRWxlbWVudEF3YXlGcm9tQ29sbGlzaW9uID0gbW92ZUVsZW1lbnRBd2F5RnJvbUNvbGxpc2lvbjtcbmV4cG9ydHMucGVyYyA9IHBlcmM7XG5leHBvcnRzLnNldFRyYW5zZm9ybSA9IHNldFRyYW5zZm9ybTtcbmV4cG9ydHMuc2V0VG9wTGVmdCA9IHNldFRvcExlZnQ7XG5leHBvcnRzLnNvcnRMYXlvdXRJdGVtcyA9IHNvcnRMYXlvdXRJdGVtcztcbmV4cG9ydHMuc29ydExheW91dEl0ZW1zQnlSb3dDb2wgPSBzb3J0TGF5b3V0SXRlbXNCeVJvd0NvbDtcbmV4cG9ydHMuc29ydExheW91dEl0ZW1zQnlDb2xSb3cgPSBzb3J0TGF5b3V0SXRlbXNCeUNvbFJvdztcbmV4cG9ydHMuc3luY2hyb25pemVMYXlvdXRXaXRoQ2hpbGRyZW4gPSBzeW5jaHJvbml6ZUxheW91dFdpdGhDaGlsZHJlbjtcbmV4cG9ydHMudmFsaWRhdGVMYXlvdXQgPSB2YWxpZGF0ZUxheW91dDtcbmV4cG9ydHMuY29tcGFjdFR5cGUgPSBjb21wYWN0VHlwZTtcbmV4cG9ydHMuYXV0b0JpbmRIYW5kbGVycyA9IGF1dG9CaW5kSGFuZGxlcnM7XG5leHBvcnRzLm5vb3AgPSBleHBvcnRzLmZhc3RSR0xQcm9wc0VxdWFsID0gdm9pZCAwO1xuXG52YXIgX2xvZGFzaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImxvZGFzaC5pc2VxdWFsXCIpKTtcblxudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbnZhciBpc1Byb2R1Y3Rpb24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCI7XG52YXIgREVCVUcgPSBmYWxzZTtcbi8qKlxuICogUmV0dXJuIHRoZSBib3R0b20gY29vcmRpbmF0ZSBvZiB0aGUgbGF5b3V0LlxuICpcbiAqIEBwYXJhbSAge0FycmF5fSBsYXlvdXQgTGF5b3V0IGFycmF5LlxuICogQHJldHVybiB7TnVtYmVyfSAgICAgICBCb3R0b20gY29vcmRpbmF0ZS5cbiAqL1xuXG5mdW5jdGlvbiBib3R0b20obGF5b3V0XG4vKjogTGF5b3V0Ki9cbilcbi8qOiBudW1iZXIqL1xue1xuICB2YXIgbWF4ID0gMCxcbiAgICAgIGJvdHRvbVk7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxheW91dC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGJvdHRvbVkgPSBsYXlvdXRbaV0ueSArIGxheW91dFtpXS5oO1xuICAgIGlmIChib3R0b21ZID4gbWF4KSBtYXggPSBib3R0b21ZO1xuICB9XG5cbiAgcmV0dXJuIG1heDtcbn1cblxuZnVuY3Rpb24gY2xvbmVMYXlvdXQobGF5b3V0XG4vKjogTGF5b3V0Ki9cbilcbi8qOiBMYXlvdXQqL1xue1xuICB2YXIgbmV3TGF5b3V0ID0gQXJyYXkobGF5b3V0Lmxlbmd0aCk7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxheW91dC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIG5ld0xheW91dFtpXSA9IGNsb25lTGF5b3V0SXRlbShsYXlvdXRbaV0pO1xuICB9XG5cbiAgcmV0dXJuIG5ld0xheW91dDtcbn0gLy8gTW9kaWZ5IGEgbGF5b3V0SXRlbSBpbnNpZGUgYSBsYXlvdXQuIFJldHVybnMgYSBuZXcgTGF5b3V0LFxuLy8gZG9lcyBub3QgbXV0YXRlLiBDYXJyaWVzIG92ZXIgYWxsIG90aGVyIExheW91dEl0ZW1zIHVubW9kaWZpZWQuXG5cblxuZnVuY3Rpb24gbW9kaWZ5TGF5b3V0KGxheW91dFxuLyo6IExheW91dCovXG4sIGxheW91dEl0ZW1cbi8qOiBMYXlvdXRJdGVtKi9cbilcbi8qOiBMYXlvdXQqL1xue1xuICB2YXIgbmV3TGF5b3V0ID0gQXJyYXkobGF5b3V0Lmxlbmd0aCk7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxheW91dC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChsYXlvdXRJdGVtLmkgPT09IGxheW91dFtpXS5pKSB7XG4gICAgICBuZXdMYXlvdXRbaV0gPSBsYXlvdXRJdGVtO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdMYXlvdXRbaV0gPSBsYXlvdXRbaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ld0xheW91dDtcbn0gLy8gRnVuY3Rpb24gdG8gYmUgY2FsbGVkIHRvIG1vZGlmeSBhIGxheW91dCBpdGVtLlxuLy8gRG9lcyBkZWZlbnNpdmUgY2xvbmVzIHRvIGVuc3VyZSB0aGUgbGF5b3V0IGlzIG5vdCBtb2RpZmllZC5cblxuXG5mdW5jdGlvbiB3aXRoTGF5b3V0SXRlbShsYXlvdXRcbi8qOiBMYXlvdXQqL1xuLCBpdGVtS2V5XG4vKjogc3RyaW5nKi9cbiwgY2Jcbi8qOiBMYXlvdXRJdGVtID0+IExheW91dEl0ZW0qL1xuKVxuLyo6IFtMYXlvdXQsID9MYXlvdXRJdGVtXSovXG57XG4gIHZhciBpdGVtID0gZ2V0TGF5b3V0SXRlbShsYXlvdXQsIGl0ZW1LZXkpO1xuICBpZiAoIWl0ZW0pIHJldHVybiBbbGF5b3V0LCBudWxsXTtcbiAgaXRlbSA9IGNiKGNsb25lTGF5b3V0SXRlbShpdGVtKSk7IC8vIGRlZmVuc2l2ZSBjbG9uZSB0aGVuIG1vZGlmeVxuICAvLyBGSVhNRSBjb3VsZCBkbyB0aGlzIGZhc3RlciBpZiB3ZSBhbHJlYWR5IGtuZXcgdGhlIGluZGV4XG5cbiAgbGF5b3V0ID0gbW9kaWZ5TGF5b3V0KGxheW91dCwgaXRlbSk7XG4gIHJldHVybiBbbGF5b3V0LCBpdGVtXTtcbn0gLy8gRmFzdCBwYXRoIHRvIGNsb25pbmcsIHNpbmNlIHRoaXMgaXMgbW9ub21vcnBoaWNcblxuXG5mdW5jdGlvbiBjbG9uZUxheW91dEl0ZW0obGF5b3V0SXRlbVxuLyo6IExheW91dEl0ZW0qL1xuKVxuLyo6IExheW91dEl0ZW0qL1xue1xuICByZXR1cm4ge1xuICAgIHc6IGxheW91dEl0ZW0udyxcbiAgICBoOiBsYXlvdXRJdGVtLmgsXG4gICAgeDogbGF5b3V0SXRlbS54LFxuICAgIHk6IGxheW91dEl0ZW0ueSxcbiAgICBpOiBsYXlvdXRJdGVtLmksXG4gICAgbWluVzogbGF5b3V0SXRlbS5taW5XLFxuICAgIG1heFc6IGxheW91dEl0ZW0ubWF4VyxcbiAgICBtaW5IOiBsYXlvdXRJdGVtLm1pbkgsXG4gICAgbWF4SDogbGF5b3V0SXRlbS5tYXhILFxuICAgIG1vdmVkOiBCb29sZWFuKGxheW91dEl0ZW0ubW92ZWQpLFxuICAgIHN0YXRpYzogQm9vbGVhbihsYXlvdXRJdGVtLnN0YXRpYyksXG4gICAgLy8gVGhlc2UgY2FuIGJlIG51bGwvdW5kZWZpbmVkXG4gICAgaXNEcmFnZ2FibGU6IGxheW91dEl0ZW0uaXNEcmFnZ2FibGUsXG4gICAgaXNSZXNpemFibGU6IGxheW91dEl0ZW0uaXNSZXNpemFibGUsXG4gICAgcmVzaXplSGFuZGxlczogbGF5b3V0SXRlbS5yZXNpemVIYW5kbGVzLFxuICAgIGlzQm91bmRlZDogbGF5b3V0SXRlbS5pc0JvdW5kZWRcbiAgfTtcbn1cbi8qKlxuICogQ29tcGFyaW5nIFJlYWN0IGBjaGlsZHJlbmAgaXMgYSBiaXQgZGlmZmljdWx0LiBUaGlzIGlzIGEgZ29vZCB3YXkgdG8gY29tcGFyZSB0aGVtLlxuICogVGhpcyB3aWxsIGNhdGNoIGRpZmZlcmVuY2VzIGluIGtleXMsIG9yZGVyLCBhbmQgbGVuZ3RoLlxuICovXG5cblxuZnVuY3Rpb24gY2hpbGRyZW5FcXVhbChhXG4vKjogUmVhY3RDaGlsZHJlbiovXG4sIGJcbi8qOiBSZWFjdENoaWxkcmVuKi9cbilcbi8qOiBib29sZWFuKi9cbntcbiAgcmV0dXJuICgwLCBfbG9kYXNoLmRlZmF1bHQpKF9yZWFjdC5kZWZhdWx0LkNoaWxkcmVuLm1hcChhLCBmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiBjLmtleTtcbiAgfSksIF9yZWFjdC5kZWZhdWx0LkNoaWxkcmVuLm1hcChiLCBmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiBjLmtleTtcbiAgfSkpO1xufVxuLyoqXG4gKiBTZWUgYGZhc3RSR0xQcm9wc0VxdWFsLmpzYC5cbiAqIFdlIHdhbnQgdGhpcyB0byBydW4gYXMgZmFzdCBhcyBwb3NzaWJsZSAtIGl0IGlzIGNhbGxlZCBvZnRlbiAtIGFuZCB0byBiZVxuICogcmVzaWxpZW50IHRvIG5ldyBwcm9wcyB0aGF0IHdlIGFkZC4gU28gcmF0aGVyIHRoYW4gY2FsbCBsb2Rhc2guaXNFcXVhbCxcbiAqIHdoaWNoIGlzbid0IHN1aXRlZCB0byBjb21wYXJpbmcgcHJvcHMgdmVyeSB3ZWxsLCB3ZSB1c2UgdGhpcyBzcGVjaWFsaXplZFxuICogZnVuY3Rpb24gaW4gY29uanVuY3Rpb24gd2l0aCBwcmV2YWwgdG8gZ2VuZXJhdGUgdGhlIGZhc3Rlc3QgcG9zc2libGUgY29tcGFyaXNvblxuICogZnVuY3Rpb24sIHR1bmVkIGZvciBleGFjdGx5IG91ciBwcm9wcy5cbiAqL1xuXG4vKjo6IHR5cGUgRmFzdFJHTFByb3BzRXF1YWwgPSAoT2JqZWN0LCBPYmplY3QsIEZ1bmN0aW9uKSA9PiBib29sZWFuOyovXG5cblxudmFyIGZhc3RSR0xQcm9wc0VxdWFsXG4vKjogRmFzdFJHTFByb3BzRXF1YWwqL1xuPSByZXF1aXJlKFwiLi9mYXN0UkdMUHJvcHNFcXVhbFwiKTsgLy8gTGlrZSB0aGUgYWJvdmUsIGJ1dCBhIGxvdCBzaW1wbGVyLlxuXG5cbmV4cG9ydHMuZmFzdFJHTFByb3BzRXF1YWwgPSBmYXN0UkdMUHJvcHNFcXVhbDtcblxuZnVuY3Rpb24gZmFzdFBvc2l0aW9uRXF1YWwoYVxuLyo6IFBvc2l0aW9uKi9cbiwgYlxuLyo6IFBvc2l0aW9uKi9cbilcbi8qOiBib29sZWFuKi9cbntcbiAgcmV0dXJuIGEubGVmdCA9PT0gYi5sZWZ0ICYmIGEudG9wID09PSBiLnRvcCAmJiBhLndpZHRoID09PSBiLndpZHRoICYmIGEuaGVpZ2h0ID09PSBiLmhlaWdodDtcbn1cbi8qKlxuICogR2l2ZW4gdHdvIGxheW91dGl0ZW1zLCBjaGVjayBpZiB0aGV5IGNvbGxpZGUuXG4gKi9cblxuXG5mdW5jdGlvbiBjb2xsaWRlcyhsMVxuLyo6IExheW91dEl0ZW0qL1xuLCBsMlxuLyo6IExheW91dEl0ZW0qL1xuKVxuLyo6IGJvb2xlYW4qL1xue1xuICBpZiAobDEuaSA9PT0gbDIuaSkgcmV0dXJuIGZhbHNlOyAvLyBzYW1lIGVsZW1lbnRcblxuICBpZiAobDEueCArIGwxLncgPD0gbDIueCkgcmV0dXJuIGZhbHNlOyAvLyBsMSBpcyBsZWZ0IG9mIGwyXG5cbiAgaWYgKGwxLnggPj0gbDIueCArIGwyLncpIHJldHVybiBmYWxzZTsgLy8gbDEgaXMgcmlnaHQgb2YgbDJcblxuICBpZiAobDEueSArIGwxLmggPD0gbDIueSkgcmV0dXJuIGZhbHNlOyAvLyBsMSBpcyBhYm92ZSBsMlxuXG4gIGlmIChsMS55ID49IGwyLnkgKyBsMi5oKSByZXR1cm4gZmFsc2U7IC8vIGwxIGlzIGJlbG93IGwyXG5cbiAgcmV0dXJuIHRydWU7IC8vIGJveGVzIG92ZXJsYXBcbn1cbi8qKlxuICogR2l2ZW4gYSBsYXlvdXQsIGNvbXBhY3QgaXQuIFRoaXMgaW52b2x2ZXMgZ29pbmcgZG93biBlYWNoIHkgY29vcmRpbmF0ZSBhbmQgcmVtb3ZpbmcgZ2Fwc1xuICogYmV0d2VlbiBpdGVtcy5cbiAqXG4gKiBEb2VzIG5vdCBtb2RpZnkgbGF5b3V0IGl0ZW1zIChjbG9uZXMpLiBDcmVhdGVzIGEgbmV3IGxheW91dCBhcnJheS5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheX0gbGF5b3V0IExheW91dC5cbiAqIEBwYXJhbSAge0Jvb2xlYW59IHZlcnRpY2FsQ29tcGFjdCBXaGV0aGVyIG9yIG5vdCB0byBjb21wYWN0IHRoZSBsYXlvdXRcbiAqICAgdmVydGljYWxseS5cbiAqIEByZXR1cm4ge0FycmF5fSAgICAgICBDb21wYWN0ZWQgTGF5b3V0LlxuICovXG5cblxuZnVuY3Rpb24gY29tcGFjdChsYXlvdXRcbi8qOiBMYXlvdXQqL1xuLCBjb21wYWN0VHlwZVxuLyo6IENvbXBhY3RUeXBlKi9cbiwgY29sc1xuLyo6IG51bWJlciovXG4pXG4vKjogTGF5b3V0Ki9cbntcbiAgLy8gU3RhdGljcyBnbyBpbiB0aGUgY29tcGFyZVdpdGggYXJyYXkgcmlnaHQgYXdheSBzbyBpdGVtcyBmbG93IGFyb3VuZCB0aGVtLlxuICB2YXIgY29tcGFyZVdpdGggPSBnZXRTdGF0aWNzKGxheW91dCk7IC8vIFdlIGdvIHRocm91Z2ggdGhlIGl0ZW1zIGJ5IHJvdyBhbmQgY29sdW1uLlxuXG4gIHZhciBzb3J0ZWQgPSBzb3J0TGF5b3V0SXRlbXMobGF5b3V0LCBjb21wYWN0VHlwZSk7IC8vIEhvbGRpbmcgZm9yIG5ldyBpdGVtcy5cblxuICB2YXIgb3V0ID0gQXJyYXkobGF5b3V0Lmxlbmd0aCk7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNvcnRlZC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBsID0gY2xvbmVMYXlvdXRJdGVtKHNvcnRlZFtpXSk7IC8vIERvbid0IG1vdmUgc3RhdGljIGVsZW1lbnRzXG5cbiAgICBpZiAoIWwuc3RhdGljKSB7XG4gICAgICBsID0gY29tcGFjdEl0ZW0oY29tcGFyZVdpdGgsIGwsIGNvbXBhY3RUeXBlLCBjb2xzLCBzb3J0ZWQpOyAvLyBBZGQgdG8gY29tcGFyaXNvbiBhcnJheS4gV2Ugb25seSBjb2xsaWRlIHdpdGggaXRlbXMgYmVmb3JlIHRoaXMgb25lLlxuICAgICAgLy8gU3RhdGljcyBhcmUgYWxyZWFkeSBpbiB0aGlzIGFycmF5LlxuXG4gICAgICBjb21wYXJlV2l0aC5wdXNoKGwpO1xuICAgIH0gLy8gQWRkIHRvIG91dHB1dCBhcnJheSB0byBtYWtlIHN1cmUgdGhleSBzdGlsbCBjb21lIG91dCBpbiB0aGUgcmlnaHQgb3JkZXIuXG5cblxuICAgIG91dFtsYXlvdXQuaW5kZXhPZihzb3J0ZWRbaV0pXSA9IGw7IC8vIENsZWFyIG1vdmVkIGZsYWcsIGlmIGl0IGV4aXN0cy5cblxuICAgIGwubW92ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG5cbnZhciBoZWlnaHRXaWR0aCA9IHtcbiAgeDogXCJ3XCIsXG4gIHk6IFwiaFwiXG59O1xuLyoqXG4gKiBCZWZvcmUgbW92aW5nIGl0ZW0gZG93biwgaXQgd2lsbCBjaGVjayBpZiB0aGUgbW92ZW1lbnQgd2lsbCBjYXVzZSBjb2xsaXNpb25zIGFuZCBtb3ZlIHRob3NlIGl0ZW1zIGRvd24gYmVmb3JlLlxuICovXG5cbmZ1bmN0aW9uIHJlc29sdmVDb21wYWN0aW9uQ29sbGlzaW9uKGxheW91dFxuLyo6IExheW91dCovXG4sIGl0ZW1cbi8qOiBMYXlvdXRJdGVtKi9cbiwgbW92ZVRvQ29vcmRcbi8qOiBudW1iZXIqL1xuLCBheGlzXG4vKjogXCJ4XCIgfCBcInlcIiovXG4pIHtcbiAgdmFyIHNpemVQcm9wID0gaGVpZ2h0V2lkdGhbYXhpc107XG4gIGl0ZW1bYXhpc10gKz0gMTtcbiAgdmFyIGl0ZW1JbmRleCA9IGxheW91dC5tYXAoZnVuY3Rpb24gKGxheW91dEl0ZW0pIHtcbiAgICByZXR1cm4gbGF5b3V0SXRlbS5pO1xuICB9KS5pbmRleE9mKGl0ZW0uaSk7IC8vIEdvIHRocm91Z2ggZWFjaCBpdGVtIHdlIGNvbGxpZGUgd2l0aC5cblxuICBmb3IgKHZhciBpID0gaXRlbUluZGV4ICsgMTsgaSA8IGxheW91dC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBvdGhlckl0ZW0gPSBsYXlvdXRbaV07IC8vIElnbm9yZSBzdGF0aWMgaXRlbXNcblxuICAgIGlmIChvdGhlckl0ZW0uc3RhdGljKSBjb250aW51ZTsgLy8gT3B0aW1pemF0aW9uOiB3ZSBjYW4gYnJlYWsgZWFybHkgaWYgd2Uga25vdyB3ZSdyZSBwYXN0IHRoaXMgZWxcbiAgICAvLyBXZSBjYW4gZG8gdGhpcyBiL2MgaXQncyBhIHNvcnRlZCBsYXlvdXRcblxuICAgIGlmIChvdGhlckl0ZW0ueSA+IGl0ZW0ueSArIGl0ZW0uaCkgYnJlYWs7XG5cbiAgICBpZiAoY29sbGlkZXMoaXRlbSwgb3RoZXJJdGVtKSkge1xuICAgICAgcmVzb2x2ZUNvbXBhY3Rpb25Db2xsaXNpb24obGF5b3V0LCBvdGhlckl0ZW0sIG1vdmVUb0Nvb3JkICsgaXRlbVtzaXplUHJvcF0sIGF4aXMpO1xuICAgIH1cbiAgfVxuXG4gIGl0ZW1bYXhpc10gPSBtb3ZlVG9Db29yZDtcbn1cbi8qKlxuICogQ29tcGFjdCBhbiBpdGVtIGluIHRoZSBsYXlvdXQuXG4gKlxuICogTW9kaWZpZXMgaXRlbS5cbiAqXG4gKi9cblxuXG5mdW5jdGlvbiBjb21wYWN0SXRlbShjb21wYXJlV2l0aFxuLyo6IExheW91dCovXG4sIGxcbi8qOiBMYXlvdXRJdGVtKi9cbiwgY29tcGFjdFR5cGVcbi8qOiBDb21wYWN0VHlwZSovXG4sIGNvbHNcbi8qOiBudW1iZXIqL1xuLCBmdWxsTGF5b3V0XG4vKjogTGF5b3V0Ki9cbilcbi8qOiBMYXlvdXRJdGVtKi9cbntcbiAgdmFyIGNvbXBhY3RWID0gY29tcGFjdFR5cGUgPT09IFwidmVydGljYWxcIjtcbiAgdmFyIGNvbXBhY3RIID0gY29tcGFjdFR5cGUgPT09IFwiaG9yaXpvbnRhbFwiO1xuXG4gIGlmIChjb21wYWN0Vikge1xuICAgIC8vIEJvdHRvbSAneScgcG9zc2libGUgaXMgdGhlIGJvdHRvbSBvZiB0aGUgbGF5b3V0LlxuICAgIC8vIFRoaXMgYWxsb3dzIHlvdSB0byBkbyBuaWNlIHN0dWZmIGxpa2Ugc3BlY2lmeSB7eTogSW5maW5pdHl9XG4gICAgLy8gVGhpcyBpcyBoZXJlIGJlY2F1c2UgdGhlIGxheW91dCBtdXN0IGJlIHNvcnRlZCBpbiBvcmRlciB0byBnZXQgdGhlIGNvcnJlY3QgYm90dG9tIGB5YC5cbiAgICBsLnkgPSBNYXRoLm1pbihib3R0b20oY29tcGFyZVdpdGgpLCBsLnkpOyAvLyBNb3ZlIHRoZSBlbGVtZW50IHVwIGFzIGZhciBhcyBpdCBjYW4gZ28gd2l0aG91dCBjb2xsaWRpbmcuXG5cbiAgICB3aGlsZSAobC55ID4gMCAmJiAhZ2V0Rmlyc3RDb2xsaXNpb24oY29tcGFyZVdpdGgsIGwpKSB7XG4gICAgICBsLnktLTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoY29tcGFjdEgpIHtcbiAgICAvLyBNb3ZlIHRoZSBlbGVtZW50IGxlZnQgYXMgZmFyIGFzIGl0IGNhbiBnbyB3aXRob3V0IGNvbGxpZGluZy5cbiAgICB3aGlsZSAobC54ID4gMCAmJiAhZ2V0Rmlyc3RDb2xsaXNpb24oY29tcGFyZVdpdGgsIGwpKSB7XG4gICAgICBsLngtLTtcbiAgICB9XG4gIH0gLy8gTW92ZSBpdCBkb3duLCBhbmQga2VlcCBtb3ZpbmcgaXQgZG93biBpZiBpdCdzIGNvbGxpZGluZy5cblxuXG4gIHZhciBjb2xsaWRlcztcblxuICB3aGlsZSAoY29sbGlkZXMgPSBnZXRGaXJzdENvbGxpc2lvbihjb21wYXJlV2l0aCwgbCkpIHtcbiAgICBpZiAoY29tcGFjdEgpIHtcbiAgICAgIHJlc29sdmVDb21wYWN0aW9uQ29sbGlzaW9uKGZ1bGxMYXlvdXQsIGwsIGNvbGxpZGVzLnggKyBjb2xsaWRlcy53LCBcInhcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc29sdmVDb21wYWN0aW9uQ29sbGlzaW9uKGZ1bGxMYXlvdXQsIGwsIGNvbGxpZGVzLnkgKyBjb2xsaWRlcy5oLCBcInlcIik7XG4gICAgfSAvLyBTaW5jZSB3ZSBjYW4ndCBncm93IHdpdGhvdXQgYm91bmRzIGhvcml6b250YWxseSwgaWYgd2UndmUgb3ZlcmZsb3duLCBsZXQncyBtb3ZlIGl0IGRvd24gYW5kIHRyeSBhZ2Fpbi5cblxuXG4gICAgaWYgKGNvbXBhY3RIICYmIGwueCArIGwudyA+IGNvbHMpIHtcbiAgICAgIGwueCA9IGNvbHMgLSBsLnc7XG4gICAgICBsLnkrKztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbDtcbn1cbi8qKlxuICogR2l2ZW4gYSBsYXlvdXQsIG1ha2Ugc3VyZSBhbGwgZWxlbWVudHMgZml0IHdpdGhpbiBpdHMgYm91bmRzLlxuICpcbiAqIE1vZGlmaWVzIGxheW91dCBpdGVtcy5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheX0gbGF5b3V0IExheW91dCBhcnJheS5cbiAqIEBwYXJhbSAge051bWJlcn0gYm91bmRzIE51bWJlciBvZiBjb2x1bW5zLlxuICovXG5cblxuZnVuY3Rpb24gY29ycmVjdEJvdW5kcyhsYXlvdXRcbi8qOiBMYXlvdXQqL1xuLCBib3VuZHNcbi8qOiB7IGNvbHM6IG51bWJlciB9Ki9cbilcbi8qOiBMYXlvdXQqL1xue1xuICB2YXIgY29sbGlkZXNXaXRoID0gZ2V0U3RhdGljcyhsYXlvdXQpO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsYXlvdXQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgbCA9IGxheW91dFtpXTsgLy8gT3ZlcmZsb3dzIHJpZ2h0XG5cbiAgICBpZiAobC54ICsgbC53ID4gYm91bmRzLmNvbHMpIGwueCA9IGJvdW5kcy5jb2xzIC0gbC53OyAvLyBPdmVyZmxvd3MgbGVmdFxuXG4gICAgaWYgKGwueCA8IDApIHtcbiAgICAgIGwueCA9IDA7XG4gICAgICBsLncgPSBib3VuZHMuY29scztcbiAgICB9XG5cbiAgICBpZiAoIWwuc3RhdGljKSBjb2xsaWRlc1dpdGgucHVzaChsKTtlbHNlIHtcbiAgICAgIC8vIElmIHRoaXMgaXMgc3RhdGljIGFuZCBjb2xsaWRlcyB3aXRoIG90aGVyIHN0YXRpY3MsIHdlIG11c3QgbW92ZSBpdCBkb3duLlxuICAgICAgLy8gV2UgaGF2ZSB0byBkbyBzb21ldGhpbmcgbmljZXIgdGhhbiBqdXN0IGxldHRpbmcgdGhlbSBvdmVybGFwLlxuICAgICAgd2hpbGUgKGdldEZpcnN0Q29sbGlzaW9uKGNvbGxpZGVzV2l0aCwgbCkpIHtcbiAgICAgICAgbC55Kys7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxheW91dDtcbn1cbi8qKlxuICogR2V0IGEgbGF5b3V0IGl0ZW0gYnkgSUQuIFVzZWQgc28gd2UgY2FuIG92ZXJyaWRlIGxhdGVyIG9uIGlmIG5lY2Vzc2FyeS5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheX0gIGxheW91dCBMYXlvdXQgYXJyYXkuXG4gKiBAcGFyYW0gIHtTdHJpbmd9IGlkICAgICBJRFxuICogQHJldHVybiB7TGF5b3V0SXRlbX0gICAgSXRlbSBhdCBJRC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGdldExheW91dEl0ZW0obGF5b3V0XG4vKjogTGF5b3V0Ki9cbiwgaWRcbi8qOiBzdHJpbmcqL1xuKVxuLyo6ID9MYXlvdXRJdGVtKi9cbntcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxheW91dC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChsYXlvdXRbaV0uaSA9PT0gaWQpIHJldHVybiBsYXlvdXRbaV07XG4gIH1cbn1cbi8qKlxuICogUmV0dXJucyB0aGUgZmlyc3QgaXRlbSB0aGlzIGxheW91dCBjb2xsaWRlcyB3aXRoLlxuICogSXQgZG9lc24ndCBhcHBlYXIgdG8gbWF0dGVyIHdoaWNoIG9yZGVyIHdlIGFwcHJvYWNoIHRoaXMgZnJvbSwgYWx0aG91Z2hcbiAqIHBlcmhhcHMgdGhhdCBpcyB0aGUgd3JvbmcgdGhpbmcgdG8gZG8uXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBsYXlvdXRJdGVtIExheW91dCBpdGVtLlxuICogQHJldHVybiB7T2JqZWN0fHVuZGVmaW5lZH0gIEEgY29sbGlkaW5nIGxheW91dCBpdGVtLCBvciB1bmRlZmluZWQuXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRGaXJzdENvbGxpc2lvbihsYXlvdXRcbi8qOiBMYXlvdXQqL1xuLCBsYXlvdXRJdGVtXG4vKjogTGF5b3V0SXRlbSovXG4pXG4vKjogP0xheW91dEl0ZW0qL1xue1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGF5b3V0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGNvbGxpZGVzKGxheW91dFtpXSwgbGF5b3V0SXRlbSkpIHJldHVybiBsYXlvdXRbaV07XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0QWxsQ29sbGlzaW9ucyhsYXlvdXRcbi8qOiBMYXlvdXQqL1xuLCBsYXlvdXRJdGVtXG4vKjogTGF5b3V0SXRlbSovXG4pXG4vKjogQXJyYXk8TGF5b3V0SXRlbT4qL1xue1xuICByZXR1cm4gbGF5b3V0LmZpbHRlcihmdW5jdGlvbiAobCkge1xuICAgIHJldHVybiBjb2xsaWRlcyhsLCBsYXlvdXRJdGVtKTtcbiAgfSk7XG59XG4vKipcbiAqIEdldCBhbGwgc3RhdGljIGVsZW1lbnRzLlxuICogQHBhcmFtICB7QXJyYXl9IGxheW91dCBBcnJheSBvZiBsYXlvdXQgb2JqZWN0cy5cbiAqIEByZXR1cm4ge0FycmF5fSAgICAgICAgQXJyYXkgb2Ygc3RhdGljIGxheW91dCBpdGVtcy4uXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRTdGF0aWNzKGxheW91dFxuLyo6IExheW91dCovXG4pXG4vKjogQXJyYXk8TGF5b3V0SXRlbT4qL1xue1xuICByZXR1cm4gbGF5b3V0LmZpbHRlcihmdW5jdGlvbiAobCkge1xuICAgIHJldHVybiBsLnN0YXRpYztcbiAgfSk7XG59XG4vKipcbiAqIE1vdmUgYW4gZWxlbWVudC4gUmVzcG9uc2libGUgZm9yIGRvaW5nIGNhc2NhZGluZyBtb3ZlbWVudHMgb2Ygb3RoZXIgZWxlbWVudHMuXG4gKlxuICogTW9kaWZpZXMgbGF5b3V0IGl0ZW1zLlxuICpcbiAqIEBwYXJhbSAge0FycmF5fSAgICAgIGxheW91dCAgICAgICAgICAgIEZ1bGwgbGF5b3V0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSAge0xheW91dEl0ZW19IGwgICAgICAgICAgICAgICAgIGVsZW1lbnQgdG8gbW92ZS5cbiAqIEBwYXJhbSAge051bWJlcn0gICAgIFt4XSAgICAgICAgICAgICAgIFggcG9zaXRpb24gaW4gZ3JpZCB1bml0cy5cbiAqIEBwYXJhbSAge051bWJlcn0gICAgIFt5XSAgICAgICAgICAgICAgIFkgcG9zaXRpb24gaW4gZ3JpZCB1bml0cy5cbiAqL1xuXG5cbmZ1bmN0aW9uIG1vdmVFbGVtZW50KGxheW91dFxuLyo6IExheW91dCovXG4sIGxcbi8qOiBMYXlvdXRJdGVtKi9cbiwgeFxuLyo6ID9udW1iZXIqL1xuLCB5XG4vKjogP251bWJlciovXG4sIGlzVXNlckFjdGlvblxuLyo6ID9ib29sZWFuKi9cbiwgcHJldmVudENvbGxpc2lvblxuLyo6ID9ib29sZWFuKi9cbiwgY29tcGFjdFR5cGVcbi8qOiBDb21wYWN0VHlwZSovXG4sIGNvbHNcbi8qOiBudW1iZXIqL1xuKVxuLyo6IExheW91dCovXG57XG4gIC8vIElmIHRoaXMgaXMgc3RhdGljIGFuZCBub3QgZXhwbGljaXRseSBlbmFibGVkIGFzIGRyYWdnYWJsZSxcbiAgLy8gbm8gbW92ZSBpcyBwb3NzaWJsZSwgc28gd2UgY2FuIHNob3J0LWNpcmN1aXQgdGhpcyBpbW1lZGlhdGVseS5cbiAgaWYgKGwuc3RhdGljICYmIGwuaXNEcmFnZ2FibGUgIT09IHRydWUpIHJldHVybiBsYXlvdXQ7IC8vIFNob3J0LWNpcmN1aXQgaWYgbm90aGluZyB0byBkby5cblxuICBpZiAobC55ID09PSB5ICYmIGwueCA9PT0geCkgcmV0dXJuIGxheW91dDtcbiAgbG9nKFwiTW92aW5nIGVsZW1lbnQgXCIuY29uY2F0KGwuaSwgXCIgdG8gW1wiKS5jb25jYXQoU3RyaW5nKHgpLCBcIixcIikuY29uY2F0KFN0cmluZyh5KSwgXCJdIGZyb20gW1wiKS5jb25jYXQobC54LCBcIixcIikuY29uY2F0KGwueSwgXCJdXCIpKTtcbiAgdmFyIG9sZFggPSBsLng7XG4gIHZhciBvbGRZID0gbC55OyAvLyBUaGlzIGlzIHF1aXRlIGEgYml0IGZhc3RlciB0aGFuIGV4dGVuZGluZyB0aGUgb2JqZWN0XG5cbiAgaWYgKHR5cGVvZiB4ID09PSBcIm51bWJlclwiKSBsLnggPSB4O1xuICBpZiAodHlwZW9mIHkgPT09IFwibnVtYmVyXCIpIGwueSA9IHk7XG4gIGwubW92ZWQgPSB0cnVlOyAvLyBJZiB0aGlzIGNvbGxpZGVzIHdpdGggYW55dGhpbmcsIG1vdmUgaXQuXG4gIC8vIFdoZW4gZG9pbmcgdGhpcyBjb21wYXJpc29uLCB3ZSBoYXZlIHRvIHNvcnQgdGhlIGl0ZW1zIHdlIGNvbXBhcmUgd2l0aFxuICAvLyB0byBlbnN1cmUsIGluIHRoZSBjYXNlIG9mIG11bHRpcGxlIGNvbGxpc2lvbnMsIHRoYXQgd2UncmUgZ2V0dGluZyB0aGVcbiAgLy8gbmVhcmVzdCBjb2xsaXNpb24uXG5cbiAgdmFyIHNvcnRlZCA9IHNvcnRMYXlvdXRJdGVtcyhsYXlvdXQsIGNvbXBhY3RUeXBlKTtcbiAgdmFyIG1vdmluZ1VwID0gY29tcGFjdFR5cGUgPT09IFwidmVydGljYWxcIiAmJiB0eXBlb2YgeSA9PT0gXCJudW1iZXJcIiA/IG9sZFkgPj0geSA6IGNvbXBhY3RUeXBlID09PSBcImhvcml6b250YWxcIiAmJiB0eXBlb2YgeCA9PT0gXCJudW1iZXJcIiA/IG9sZFggPj0geCA6IGZhbHNlOyAvLyAkRmxvd0lnbm9yZSBhY2NlcHRhYmxlIG1vZGlmaWNhdGlvbiBvZiByZWFkLW9ubHkgYXJyYXkgYXMgaXQgd2FzIHJlY2VudGx5IGNsb25lZFxuXG4gIGlmIChtb3ZpbmdVcCkgc29ydGVkID0gc29ydGVkLnJldmVyc2UoKTtcbiAgdmFyIGNvbGxpc2lvbnMgPSBnZXRBbGxDb2xsaXNpb25zKHNvcnRlZCwgbCk7IC8vIFRoZXJlIHdhcyBhIGNvbGxpc2lvbjsgYWJvcnRcblxuICBpZiAocHJldmVudENvbGxpc2lvbiAmJiBjb2xsaXNpb25zLmxlbmd0aCkge1xuICAgIGxvZyhcIkNvbGxpc2lvbiBwcmV2ZW50ZWQgb24gXCIuY29uY2F0KGwuaSwgXCIsIHJldmVydGluZy5cIikpO1xuICAgIGwueCA9IG9sZFg7XG4gICAgbC55ID0gb2xkWTtcbiAgICBsLm1vdmVkID0gZmFsc2U7XG4gICAgcmV0dXJuIGxheW91dDtcbiAgfSAvLyBNb3ZlIGVhY2ggaXRlbSB0aGF0IGNvbGxpZGVzIGF3YXkgZnJvbSB0aGlzIGVsZW1lbnQuXG5cblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gY29sbGlzaW9ucy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBjb2xsaXNpb24gPSBjb2xsaXNpb25zW2ldO1xuICAgIGxvZyhcIlJlc29sdmluZyBjb2xsaXNpb24gYmV0d2VlbiBcIi5jb25jYXQobC5pLCBcIiBhdCBbXCIpLmNvbmNhdChsLngsIFwiLFwiKS5jb25jYXQobC55LCBcIl0gYW5kIFwiKS5jb25jYXQoY29sbGlzaW9uLmksIFwiIGF0IFtcIikuY29uY2F0KGNvbGxpc2lvbi54LCBcIixcIikuY29uY2F0KGNvbGxpc2lvbi55LCBcIl1cIikpOyAvLyBTaG9ydCBjaXJjdWl0IHNvIHdlIGNhbid0IGluZmluaXRlIGxvb3BcblxuICAgIGlmIChjb2xsaXNpb24ubW92ZWQpIGNvbnRpbnVlOyAvLyBEb24ndCBtb3ZlIHN0YXRpYyBpdGVtcyAtIHdlIGhhdmUgdG8gbW92ZSAqdGhpcyogZWxlbWVudCBhd2F5XG5cbiAgICBpZiAoY29sbGlzaW9uLnN0YXRpYykge1xuICAgICAgbGF5b3V0ID0gbW92ZUVsZW1lbnRBd2F5RnJvbUNvbGxpc2lvbihsYXlvdXQsIGNvbGxpc2lvbiwgbCwgaXNVc2VyQWN0aW9uLCBjb21wYWN0VHlwZSwgY29scyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxheW91dCA9IG1vdmVFbGVtZW50QXdheUZyb21Db2xsaXNpb24obGF5b3V0LCBsLCBjb2xsaXNpb24sIGlzVXNlckFjdGlvbiwgY29tcGFjdFR5cGUsIGNvbHMpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBsYXlvdXQ7XG59XG4vKipcbiAqIFRoaXMgaXMgd2hlcmUgdGhlIG1hZ2ljIG5lZWRzIHRvIGhhcHBlbiAtIGdpdmVuIGEgY29sbGlzaW9uLCBtb3ZlIGFuIGVsZW1lbnQgYXdheSBmcm9tIHRoZSBjb2xsaXNpb24uXG4gKiBXZSBhdHRlbXB0IHRvIG1vdmUgaXQgdXAgaWYgdGhlcmUncyByb29tLCBvdGhlcndpc2UgaXQgZ29lcyBiZWxvdy5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheX0gbGF5b3V0ICAgICAgICAgICAgRnVsbCBsYXlvdXQgdG8gbW9kaWZ5LlxuICogQHBhcmFtICB7TGF5b3V0SXRlbX0gY29sbGlkZXNXaXRoIExheW91dCBpdGVtIHdlJ3JlIGNvbGxpZGluZyB3aXRoLlxuICogQHBhcmFtICB7TGF5b3V0SXRlbX0gaXRlbVRvTW92ZSAgIExheW91dCBpdGVtIHdlJ3JlIG1vdmluZy5cbiAqL1xuXG5cbmZ1bmN0aW9uIG1vdmVFbGVtZW50QXdheUZyb21Db2xsaXNpb24obGF5b3V0XG4vKjogTGF5b3V0Ki9cbiwgY29sbGlkZXNXaXRoXG4vKjogTGF5b3V0SXRlbSovXG4sIGl0ZW1Ub01vdmVcbi8qOiBMYXlvdXRJdGVtKi9cbiwgaXNVc2VyQWN0aW9uXG4vKjogP2Jvb2xlYW4qL1xuLCBjb21wYWN0VHlwZVxuLyo6IENvbXBhY3RUeXBlKi9cbiwgY29sc1xuLyo6IG51bWJlciovXG4pXG4vKjogTGF5b3V0Ki9cbntcbiAgdmFyIGNvbXBhY3RIID0gY29tcGFjdFR5cGUgPT09IFwiaG9yaXpvbnRhbFwiOyAvLyBDb21wYWN0IHZlcnRpY2FsbHkgaWYgbm90IHNldCB0byBob3Jpem9udGFsXG5cbiAgdmFyIGNvbXBhY3RWID0gY29tcGFjdFR5cGUgIT09IFwiaG9yaXpvbnRhbFwiO1xuICB2YXIgcHJldmVudENvbGxpc2lvbiA9IGNvbGxpZGVzV2l0aC5zdGF0aWM7IC8vIHdlJ3JlIGFscmVhZHkgY29sbGlkaW5nIChub3QgZm9yIHN0YXRpYyBpdGVtcylcbiAgLy8gSWYgdGhlcmUgaXMgZW5vdWdoIHNwYWNlIGFib3ZlIHRoZSBjb2xsaXNpb24gdG8gcHV0IHRoaXMgZWxlbWVudCwgbW92ZSBpdCB0aGVyZS5cbiAgLy8gV2Ugb25seSBkbyB0aGlzIG9uIHRoZSBtYWluIGNvbGxpc2lvbiBhcyB0aGlzIGNhbiBnZXQgZnVua3kgaW4gY2FzY2FkZXMgYW5kIGNhdXNlXG4gIC8vIHVud2FudGVkIHN3YXBwaW5nIGJlaGF2aW9yLlxuXG4gIGlmIChpc1VzZXJBY3Rpb24pIHtcbiAgICAvLyBSZXNldCBpc1VzZXJBY3Rpb24gZmxhZyBiZWNhdXNlIHdlJ3JlIG5vdCBpbiB0aGUgbWFpbiBjb2xsaXNpb24gYW55bW9yZS5cbiAgICBpc1VzZXJBY3Rpb24gPSBmYWxzZTsgLy8gTWFrZSBhIG1vY2sgaXRlbSBzbyB3ZSBkb24ndCBtb2RpZnkgdGhlIGl0ZW0gaGVyZSwgb25seSBtb2RpZnkgaW4gbW92ZUVsZW1lbnQuXG5cbiAgICB2YXIgZmFrZUl0ZW1cbiAgICAvKjogTGF5b3V0SXRlbSovXG4gICAgPSB7XG4gICAgICB4OiBjb21wYWN0SCA/IE1hdGgubWF4KGNvbGxpZGVzV2l0aC54IC0gaXRlbVRvTW92ZS53LCAwKSA6IGl0ZW1Ub01vdmUueCxcbiAgICAgIHk6IGNvbXBhY3RWID8gTWF0aC5tYXgoY29sbGlkZXNXaXRoLnkgLSBpdGVtVG9Nb3ZlLmgsIDApIDogaXRlbVRvTW92ZS55LFxuICAgICAgdzogaXRlbVRvTW92ZS53LFxuICAgICAgaDogaXRlbVRvTW92ZS5oLFxuICAgICAgaTogXCItMVwiXG4gICAgfTsgLy8gTm8gY29sbGlzaW9uPyBJZiBzbywgd2UgY2FuIGdvIHVwIHRoZXJlOyBvdGhlcndpc2UsIHdlJ2xsIGVuZCB1cCBtb3ZpbmcgZG93biBhcyBub3JtYWxcblxuICAgIGlmICghZ2V0Rmlyc3RDb2xsaXNpb24obGF5b3V0LCBmYWtlSXRlbSkpIHtcbiAgICAgIGxvZyhcIkRvaW5nIHJldmVyc2UgY29sbGlzaW9uIG9uIFwiLmNvbmNhdChpdGVtVG9Nb3ZlLmksIFwiIHVwIHRvIFtcIikuY29uY2F0KGZha2VJdGVtLngsIFwiLFwiKS5jb25jYXQoZmFrZUl0ZW0ueSwgXCJdLlwiKSk7XG4gICAgICByZXR1cm4gbW92ZUVsZW1lbnQobGF5b3V0LCBpdGVtVG9Nb3ZlLCBjb21wYWN0SCA/IGZha2VJdGVtLnggOiB1bmRlZmluZWQsIGNvbXBhY3RWID8gZmFrZUl0ZW0ueSA6IHVuZGVmaW5lZCwgaXNVc2VyQWN0aW9uLCBwcmV2ZW50Q29sbGlzaW9uLCBjb21wYWN0VHlwZSwgY29scyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1vdmVFbGVtZW50KGxheW91dCwgaXRlbVRvTW92ZSwgY29tcGFjdEggPyBpdGVtVG9Nb3ZlLnggKyAxIDogdW5kZWZpbmVkLCBjb21wYWN0ViA/IGl0ZW1Ub01vdmUueSArIDEgOiB1bmRlZmluZWQsIGlzVXNlckFjdGlvbiwgcHJldmVudENvbGxpc2lvbiwgY29tcGFjdFR5cGUsIGNvbHMpO1xufVxuLyoqXG4gKiBIZWxwZXIgdG8gY29udmVydCBhIG51bWJlciB0byBhIHBlcmNlbnRhZ2Ugc3RyaW5nLlxuICpcbiAqIEBwYXJhbSAge051bWJlcn0gbnVtIEFueSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ30gICAgIFRoYXQgbnVtYmVyIGFzIGEgcGVyY2VudGFnZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIHBlcmMobnVtXG4vKjogbnVtYmVyKi9cbilcbi8qOiBzdHJpbmcqL1xue1xuICByZXR1cm4gbnVtICogMTAwICsgXCIlXCI7XG59XG5cbmZ1bmN0aW9uIHNldFRyYW5zZm9ybShfcmVmKVxuLyo6IE9iamVjdCovXG57XG4gIHZhciB0b3AgPSBfcmVmLnRvcCxcbiAgICAgIGxlZnQgPSBfcmVmLmxlZnQsXG4gICAgICB3aWR0aCA9IF9yZWYud2lkdGgsXG4gICAgICBoZWlnaHQgPSBfcmVmLmhlaWdodDtcbiAgLy8gUmVwbGFjZSB1bml0bGVzcyBpdGVtcyB3aXRoIHB4XG4gIHZhciB0cmFuc2xhdGUgPSBcInRyYW5zbGF0ZShcIi5jb25jYXQobGVmdCwgXCJweCxcIikuY29uY2F0KHRvcCwgXCJweClcIik7XG4gIHJldHVybiB7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUsXG4gICAgV2Via2l0VHJhbnNmb3JtOiB0cmFuc2xhdGUsXG4gICAgTW96VHJhbnNmb3JtOiB0cmFuc2xhdGUsXG4gICAgbXNUcmFuc2Zvcm06IHRyYW5zbGF0ZSxcbiAgICBPVHJhbnNmb3JtOiB0cmFuc2xhdGUsXG4gICAgd2lkdGg6IFwiXCIuY29uY2F0KHdpZHRoLCBcInB4XCIpLFxuICAgIGhlaWdodDogXCJcIi5jb25jYXQoaGVpZ2h0LCBcInB4XCIpLFxuICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCJcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2V0VG9wTGVmdChfcmVmMilcbi8qOiBPYmplY3QqL1xue1xuICB2YXIgdG9wID0gX3JlZjIudG9wLFxuICAgICAgbGVmdCA9IF9yZWYyLmxlZnQsXG4gICAgICB3aWR0aCA9IF9yZWYyLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gX3JlZjIuaGVpZ2h0O1xuICByZXR1cm4ge1xuICAgIHRvcDogXCJcIi5jb25jYXQodG9wLCBcInB4XCIpLFxuICAgIGxlZnQ6IFwiXCIuY29uY2F0KGxlZnQsIFwicHhcIiksXG4gICAgd2lkdGg6IFwiXCIuY29uY2F0KHdpZHRoLCBcInB4XCIpLFxuICAgIGhlaWdodDogXCJcIi5jb25jYXQoaGVpZ2h0LCBcInB4XCIpLFxuICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCJcbiAgfTtcbn1cbi8qKlxuICogR2V0IGxheW91dCBpdGVtcyBzb3J0ZWQgZnJvbSB0b3AgbGVmdCB0byByaWdodCBhbmQgZG93bi5cbiAqXG4gKiBAcmV0dXJuIHtBcnJheX0gQXJyYXkgb2YgbGF5b3V0IG9iamVjdHMuXG4gKiBAcmV0dXJuIHtBcnJheX0gICAgICAgIExheW91dCwgc29ydGVkIHN0YXRpYyBpdGVtcyBmaXJzdC5cbiAqL1xuXG5cbmZ1bmN0aW9uIHNvcnRMYXlvdXRJdGVtcyhsYXlvdXRcbi8qOiBMYXlvdXQqL1xuLCBjb21wYWN0VHlwZVxuLyo6IENvbXBhY3RUeXBlKi9cbilcbi8qOiBMYXlvdXQqL1xue1xuICBpZiAoY29tcGFjdFR5cGUgPT09IFwiaG9yaXpvbnRhbFwiKSByZXR1cm4gc29ydExheW91dEl0ZW1zQnlDb2xSb3cobGF5b3V0KTtlbHNlIHJldHVybiBzb3J0TGF5b3V0SXRlbXNCeVJvd0NvbChsYXlvdXQpO1xufVxuLyoqXG4gKiBTb3J0IGxheW91dCBpdGVtcyBieSByb3cgYXNjZW5kaW5nIGFuZCBjb2x1bW4gYXNjZW5kaW5nLlxuICpcbiAqIERvZXMgbm90IG1vZGlmeSBMYXlvdXQuXG4gKi9cblxuXG5mdW5jdGlvbiBzb3J0TGF5b3V0SXRlbXNCeVJvd0NvbChsYXlvdXRcbi8qOiBMYXlvdXQqL1xuKVxuLyo6IExheW91dCovXG57XG4gIC8vIFNsaWNlIHRvIGNsb25lIGFycmF5IGFzIHNvcnQgbW9kaWZpZXNcbiAgcmV0dXJuIGxheW91dC5zbGljZSgwKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgaWYgKGEueSA+IGIueSB8fCBhLnkgPT09IGIueSAmJiBhLnggPiBiLngpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSBpZiAoYS55ID09PSBiLnkgJiYgYS54ID09PSBiLngpIHtcbiAgICAgIC8vIFdpdGhvdXQgdGhpcywgd2UgY2FuIGdldCBkaWZmZXJlbnQgc29ydCByZXN1bHRzIGluIElFIHZzLiBDaHJvbWUvRkZcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHJldHVybiAtMTtcbiAgfSk7XG59XG4vKipcbiAqIFNvcnQgbGF5b3V0IGl0ZW1zIGJ5IGNvbHVtbiBhc2NlbmRpbmcgdGhlbiByb3cgYXNjZW5kaW5nLlxuICpcbiAqIERvZXMgbm90IG1vZGlmeSBMYXlvdXQuXG4gKi9cblxuXG5mdW5jdGlvbiBzb3J0TGF5b3V0SXRlbXNCeUNvbFJvdyhsYXlvdXRcbi8qOiBMYXlvdXQqL1xuKVxuLyo6IExheW91dCovXG57XG4gIHJldHVybiBsYXlvdXQuc2xpY2UoMCkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIGlmIChhLnggPiBiLnggfHwgYS54ID09PSBiLnggJiYgYS55ID4gYi55KSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG4gIH0pO1xufVxuLyoqXG4gKiBHZW5lcmF0ZSBhIGxheW91dCB1c2luZyB0aGUgaW5pdGlhbExheW91dCBhbmQgY2hpbGRyZW4gYXMgYSB0ZW1wbGF0ZS5cbiAqIE1pc3NpbmcgZW50cmllcyB3aWxsIGJlIGFkZGVkLCBleHRyYW5lb3VzIG9uZXMgd2lsbCBiZSB0cnVuY2F0ZWQuXG4gKlxuICogRG9lcyBub3QgbW9kaWZ5IGluaXRpYWxMYXlvdXQuXG4gKlxuICogQHBhcmFtICB7QXJyYXl9ICBpbml0aWFsTGF5b3V0IExheW91dCBwYXNzZWQgaW4gdGhyb3VnaCBwcm9wcy5cbiAqIEBwYXJhbSAge1N0cmluZ30gYnJlYWtwb2ludCAgICBDdXJyZW50IHJlc3BvbnNpdmUgYnJlYWtwb2ludC5cbiAqIEBwYXJhbSAgez9TdHJpbmd9IGNvbXBhY3QgICAgICBDb21wYWN0aW9uIG9wdGlvbi5cbiAqIEByZXR1cm4ge0FycmF5fSAgICAgICAgICAgICAgICBXb3JraW5nIGxheW91dC5cbiAqL1xuXG5cbmZ1bmN0aW9uIHN5bmNocm9uaXplTGF5b3V0V2l0aENoaWxkcmVuKGluaXRpYWxMYXlvdXRcbi8qOiBMYXlvdXQqL1xuLCBjaGlsZHJlblxuLyo6IFJlYWN0Q2hpbGRyZW4qL1xuLCBjb2xzXG4vKjogbnVtYmVyKi9cbiwgY29tcGFjdFR5cGVcbi8qOiBDb21wYWN0VHlwZSovXG4pXG4vKjogTGF5b3V0Ki9cbntcbiAgaW5pdGlhbExheW91dCA9IGluaXRpYWxMYXlvdXQgfHwgW107IC8vIEdlbmVyYXRlIG9uZSBsYXlvdXQgaXRlbSBwZXIgY2hpbGQuXG5cbiAgdmFyIGxheW91dFxuICAvKjogTGF5b3V0SXRlbVtdKi9cbiAgPSBbXTtcblxuICBfcmVhY3QuZGVmYXVsdC5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGRcbiAgLyo6IFJlYWN0RWxlbWVudDxhbnk+Ki9cbiAgLCBpXG4gIC8qOiBudW1iZXIqL1xuICApIHtcbiAgICAvLyBEb24ndCBvdmVyd3JpdGUgaWYgaXQgYWxyZWFkeSBleGlzdHMuXG4gICAgdmFyIGV4aXN0cyA9IGdldExheW91dEl0ZW0oaW5pdGlhbExheW91dCwgU3RyaW5nKGNoaWxkLmtleSkpO1xuXG4gICAgaWYgKGV4aXN0cykge1xuICAgICAgbGF5b3V0W2ldID0gY2xvbmVMYXlvdXRJdGVtKGV4aXN0cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghaXNQcm9kdWN0aW9uICYmIGNoaWxkLnByb3BzLl9ncmlkKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcImBfZ3JpZGAgcHJvcGVydGllcyBvbiBjaGlsZHJlbiBoYXZlIGJlZW4gZGVwcmVjYXRlZCBhcyBvZiBSZWFjdCAxNS4yLiBcIiArIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgXCJQbGVhc2UgdXNlIGBkYXRhLWdyaWRgIG9yIGFkZCB5b3VyIHByb3BlcnRpZXMgZGlyZWN0bHkgdG8gdGhlIGBsYXlvdXRgLlwiKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGcgPSBjaGlsZC5wcm9wc1tcImRhdGEtZ3JpZFwiXSB8fCBjaGlsZC5wcm9wcy5fZ3JpZDsgLy8gSGV5LCB0aGlzIGl0ZW0gaGFzIGEgZGF0YS1ncmlkIHByb3BlcnR5LCB1c2UgaXQuXG5cbiAgICAgIGlmIChnKSB7XG4gICAgICAgIGlmICghaXNQcm9kdWN0aW9uKSB7XG4gICAgICAgICAgdmFsaWRhdGVMYXlvdXQoW2ddLCBcIlJlYWN0R3JpZExheW91dC5jaGlsZHJlblwiKTtcbiAgICAgICAgfSAvLyBGSVhNRSBjbG9uZSBub3QgcmVhbGx5IG5lY2Vzc2FyeSBoZXJlXG5cblxuICAgICAgICBsYXlvdXRbaV0gPSBjbG9uZUxheW91dEl0ZW0oX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBnKSwge30sIHtcbiAgICAgICAgICBpOiBjaGlsZC5rZXlcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm90aGluZyBwcm92aWRlZDogZW5zdXJlIHRoaXMgaXMgYWRkZWQgdG8gdGhlIGJvdHRvbVxuICAgICAgICAvLyBGSVhNRSBjbG9uZSBub3QgcmVhbGx5IG5lY2Vzc2FyeSBoZXJlXG4gICAgICAgIGxheW91dFtpXSA9IGNsb25lTGF5b3V0SXRlbSh7XG4gICAgICAgICAgdzogMSxcbiAgICAgICAgICBoOiAxLFxuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogYm90dG9tKGxheW91dCksXG4gICAgICAgICAgaTogU3RyaW5nKGNoaWxkLmtleSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTsgLy8gQ29ycmVjdCB0aGUgbGF5b3V0LlxuXG5cbiAgdmFyIGNvcnJlY3RlZExheW91dCA9IGNvcnJlY3RCb3VuZHMobGF5b3V0LCB7XG4gICAgY29sczogY29sc1xuICB9KTtcbiAgcmV0dXJuIGNvbXBhY3QoY29ycmVjdGVkTGF5b3V0LCBjb21wYWN0VHlwZSwgY29scyk7XG59XG4vKipcbiAqIFZhbGlkYXRlIGEgbGF5b3V0LiBUaHJvd3MgZXJyb3JzLlxuICpcbiAqIEBwYXJhbSAge0FycmF5fSAgbGF5b3V0ICAgICAgICBBcnJheSBvZiBsYXlvdXQgaXRlbXMuXG4gKiBAcGFyYW0gIHtTdHJpbmd9IFtjb250ZXh0TmFtZV0gQ29udGV4dCBuYW1lIGZvciBlcnJvcnMuXG4gKiBAdGhyb3cgIHtFcnJvcn0gICAgICAgICAgICAgICAgVmFsaWRhdGlvbiBlcnJvci5cbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlTGF5b3V0KGxheW91dFxuLyo6IExheW91dCovXG4pXG4vKjogdm9pZCovXG57XG4gIHZhciBjb250ZXh0TmFtZVxuICAvKjogc3RyaW5nKi9cbiAgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFwiTGF5b3V0XCI7XG4gIHZhciBzdWJQcm9wcyA9IFtcInhcIiwgXCJ5XCIsIFwid1wiLCBcImhcIl07XG4gIGlmICghQXJyYXkuaXNBcnJheShsYXlvdXQpKSB0aHJvdyBuZXcgRXJyb3IoY29udGV4dE5hbWUgKyBcIiBtdXN0IGJlIGFuIGFycmF5IVwiKTtcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGF5b3V0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsYXlvdXRbaV07XG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN1YlByb3BzLmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAodHlwZW9mIGl0ZW1bc3ViUHJvcHNbal1dICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlYWN0R3JpZExheW91dDogXCIgKyBjb250ZXh0TmFtZSArIFwiW1wiICsgaSArIFwiXS5cIiArIHN1YlByb3BzW2pdICsgXCIgbXVzdCBiZSBhIG51bWJlciFcIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGl0ZW0uaSAmJiB0eXBlb2YgaXRlbS5pICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWFjdEdyaWRMYXlvdXQ6IFwiICsgY29udGV4dE5hbWUgKyBcIltcIiArIGkgKyBcIl0uaSBtdXN0IGJlIGEgc3RyaW5nIVwiKTtcbiAgICB9XG5cbiAgICBpZiAoaXRlbS5zdGF0aWMgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgaXRlbS5zdGF0aWMgIT09IFwiYm9vbGVhblwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWFjdEdyaWRMYXlvdXQ6IFwiICsgY29udGV4dE5hbWUgKyBcIltcIiArIGkgKyBcIl0uc3RhdGljIG11c3QgYmUgYSBib29sZWFuIVwiKTtcbiAgICB9XG4gIH1cbn0gLy8gTGVnYWN5IHN1cHBvcnQgZm9yIHZlcnRpY2FsQ29tcGFjdDogZmFsc2VcblxuXG5mdW5jdGlvbiBjb21wYWN0VHlwZShwcm9wc1xuLyo6ID97IHZlcnRpY2FsQ29tcGFjdDogYm9vbGVhbiwgY29tcGFjdFR5cGU6IENvbXBhY3RUeXBlIH0qL1xuKVxuLyo6IENvbXBhY3RUeXBlKi9cbntcbiAgdmFyIF9yZWYzID0gcHJvcHMgfHwge30sXG4gICAgICB2ZXJ0aWNhbENvbXBhY3QgPSBfcmVmMy52ZXJ0aWNhbENvbXBhY3QsXG4gICAgICBjb21wYWN0VHlwZSA9IF9yZWYzLmNvbXBhY3RUeXBlO1xuXG4gIHJldHVybiB2ZXJ0aWNhbENvbXBhY3QgPT09IGZhbHNlID8gbnVsbCA6IGNvbXBhY3RUeXBlO1xufSAvLyBGbG93IGNhbid0IHJlYWxseSBmaWd1cmUgdGhpcyBvdXQsIHNvIHdlIGp1c3QgdXNlIE9iamVjdFxuXG5cbmZ1bmN0aW9uIGF1dG9CaW5kSGFuZGxlcnMoZWxcbi8qOiBPYmplY3QqL1xuLCBmbnNcbi8qOiBBcnJheTxzdHJpbmc+Ki9cbilcbi8qOiB2b2lkKi9cbntcbiAgZm5zLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBlbFtrZXldID0gZWxba2V5XS5iaW5kKGVsKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvZygpIHtcbiAgdmFyIF9jb25zb2xlO1xuXG4gIGlmICghREVCVUcpIHJldHVybjsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcblxuICAoX2NvbnNvbGUgPSBjb25zb2xlKS5sb2cuYXBwbHkoX2NvbnNvbGUsIGFyZ3VtZW50cyk7XG59XG5cbnZhciBub29wID0gZnVuY3Rpb24gbm9vcCgpIHt9O1xuXG5leHBvcnRzLm5vb3AgPSBub29wOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vYnVpbGQvUmVhY3RHcmlkTGF5b3V0XCIpLmRlZmF1bHQ7XG5tb2R1bGUuZXhwb3J0cy51dGlscyA9IHJlcXVpcmUoXCIuL2J1aWxkL3V0aWxzXCIpO1xubW9kdWxlLmV4cG9ydHMuUmVzcG9uc2l2ZSA9IHJlcXVpcmUoXCIuL2J1aWxkL1Jlc3BvbnNpdmVSZWFjdEdyaWRMYXlvdXRcIikuZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzLlJlc3BvbnNpdmUudXRpbHMgPSByZXF1aXJlKFwiLi9idWlsZC9yZXNwb25zaXZlVXRpbHNcIik7XG5tb2R1bGUuZXhwb3J0cy5XaWR0aFByb3ZpZGVyID0gcmVxdWlyZShcIi4vYnVpbGQvY29tcG9uZW50cy9XaWR0aFByb3ZpZGVyXCIpLmRlZmF1bHQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9yZWFjdERyYWdnYWJsZSA9IHJlcXVpcmUoXCJyZWFjdC1kcmFnZ2FibGVcIik7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKFwiLi9wcm9wVHlwZXNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxudmFyIFJlc2l6YWJsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShSZXNpemFibGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFJlc2l6YWJsZSgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0ZVwiLCB1bmRlZmluZWQpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImxhc3RIYW5kbGVSZWN0XCIsIG51bGwpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInNsYWNrXCIsIG51bGwpO1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFJlc2l6YWJsZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5yZXNldERhdGEoKTtcbiAgfTtcblxuICBfcHJvdG8ubG9ja0FzcGVjdFJhdGlvID0gZnVuY3Rpb24gbG9ja0FzcGVjdFJhdGlvKHdpZHRoLCBoZWlnaHQsIGFzcGVjdFJhdGlvKSB7XG4gICAgaGVpZ2h0ID0gd2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICB3aWR0aCA9IGhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgIHJldHVybiBbd2lkdGgsIGhlaWdodF07XG4gIH07XG5cbiAgX3Byb3RvLnJlc2V0RGF0YSA9IGZ1bmN0aW9uIHJlc2V0RGF0YSgpIHtcbiAgICB0aGlzLmxhc3RIYW5kbGVSZWN0ID0gdGhpcy5zbGFjayA9IG51bGw7XG4gIH0gLy8gQ2xhbXAgd2lkdGggYW5kIGhlaWdodCB3aXRoaW4gcHJvdmlkZWQgY29uc3RyYWludHNcbiAgO1xuXG4gIF9wcm90by5ydW5Db25zdHJhaW50cyA9IGZ1bmN0aW9uIHJ1bkNvbnN0cmFpbnRzKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB2YXIgX3JlZiA9IFt0aGlzLnByb3BzLm1pbkNvbnN0cmFpbnRzLCB0aGlzLnByb3BzLm1heENvbnN0cmFpbnRzXSxcbiAgICAgICAgbWluID0gX3JlZlswXSxcbiAgICAgICAgbWF4ID0gX3JlZlsxXTtcbiAgICBpZiAoIW1pbiAmJiAhbWF4KSByZXR1cm4gW3dpZHRoLCBoZWlnaHRdOyAvLyBJZiBjb25zdHJhaW5pbmcgdG8gbWluIGFuZCBtYXgsIHdlIG5lZWQgdG8gYWxzbyBmaXQgd2lkdGggYW5kIGhlaWdodCB0byBhc3BlY3QgcmF0aW8uXG5cbiAgICBpZiAodGhpcy5wcm9wcy5sb2NrQXNwZWN0UmF0aW8pIHtcbiAgICAgIHZhciByZXNpemluZ0hvcml6b250YWxseSA9IGhlaWdodCA9PT0gdGhpcy5wcm9wcy5oZWlnaHQ7XG5cbiAgICAgIGlmIChyZXNpemluZ0hvcml6b250YWxseSkge1xuICAgICAgICB2YXIgcmF0aW8gPSB0aGlzLnByb3BzLndpZHRoIC8gdGhpcy5wcm9wcy5oZWlnaHQ7XG4gICAgICAgIGhlaWdodCA9IHdpZHRoIC8gcmF0aW87XG4gICAgICAgIHdpZHRoID0gaGVpZ2h0ICogcmF0aW87XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUYWtlIGludG8gYWNjb3VudCB2ZXJ0aWNhbCByZXNpemUgd2l0aCBOL1MgaGFuZGxlcyBvbiBsb2NrZWQgYXNwZWN0XG4gICAgICAgIC8vIHJhdGlvLiBDYWxjdWxhdGUgdGhlIGNoYW5nZSBoZWlnaHQtZmlyc3QsIGluc3RlYWQgb2Ygd2lkdGgtZmlyc3RcbiAgICAgICAgdmFyIF9yYXRpbyA9IHRoaXMucHJvcHMuaGVpZ2h0IC8gdGhpcy5wcm9wcy53aWR0aDtcblxuICAgICAgICB3aWR0aCA9IGhlaWdodCAvIF9yYXRpbztcbiAgICAgICAgaGVpZ2h0ID0gd2lkdGggKiBfcmF0aW87XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG9sZFcgPSB3aWR0aCxcbiAgICAgICAgb2xkSCA9IGhlaWdodDsgLy8gQWRkIHNsYWNrIHRvIHRoZSB2YWx1ZXMgdXNlZCB0byBjYWxjdWxhdGUgYm91bmQgcG9zaXRpb24uIFRoaXMgd2lsbCBlbnN1cmUgdGhhdCBpZlxuICAgIC8vIHdlIHN0YXJ0IHJlbW92aW5nIHNsYWNrLCB0aGUgZWxlbWVudCB3b24ndCByZWFjdCB0byBpdCByaWdodCBhd2F5IHVudGlsIGl0J3MgYmVlblxuICAgIC8vIGNvbXBsZXRlbHkgcmVtb3ZlZC5cblxuICAgIHZhciBfcmVmMiA9IHRoaXMuc2xhY2sgfHwgWzAsIDBdLFxuICAgICAgICBzbGFja1cgPSBfcmVmMlswXSxcbiAgICAgICAgc2xhY2tIID0gX3JlZjJbMV07XG5cbiAgICB3aWR0aCArPSBzbGFja1c7XG4gICAgaGVpZ2h0ICs9IHNsYWNrSDtcblxuICAgIGlmIChtaW4pIHtcbiAgICAgIHdpZHRoID0gTWF0aC5tYXgobWluWzBdLCB3aWR0aCk7XG4gICAgICBoZWlnaHQgPSBNYXRoLm1heChtaW5bMV0sIGhlaWdodCk7XG4gICAgfVxuXG4gICAgaWYgKG1heCkge1xuICAgICAgd2lkdGggPSBNYXRoLm1pbihtYXhbMF0sIHdpZHRoKTtcbiAgICAgIGhlaWdodCA9IE1hdGgubWluKG1heFsxXSwgaGVpZ2h0KTtcbiAgICB9IC8vIElmIHRoZSB3aWR0aCBvciBoZWlnaHQgY2hhbmdlZCwgd2UgbXVzdCBoYXZlIGludHJvZHVjZWQgc29tZSBzbGFjay4gUmVjb3JkIGl0IGZvciB0aGUgbmV4dCBpdGVyYXRpb24uXG5cblxuICAgIHRoaXMuc2xhY2sgPSBbc2xhY2tXICsgKG9sZFcgLSB3aWR0aCksIHNsYWNrSCArIChvbGRIIC0gaGVpZ2h0KV07XG4gICAgcmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcbiAgfVxuICAvKipcbiAgICogV3JhcHBlciBhcm91bmQgZHJhZyBldmVudHMgdG8gcHJvdmlkZSBtb3JlIHVzZWZ1bCBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGhhbmRsZXJOYW1lIEhhbmRsZXIgbmFtZSB0byB3cmFwLlxuICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gICAgICAgICAgIEhhbmRsZXIgZnVuY3Rpb24uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbiByZXNpemVIYW5kbGVyKGhhbmRsZXJOYW1lLCBheGlzKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKGUsIF9yZWYzKSB7XG4gICAgICB2YXIgbm9kZSA9IF9yZWYzLm5vZGUsXG4gICAgICAgICAgZGVsdGFYID0gX3JlZjMuZGVsdGFYLFxuICAgICAgICAgIGRlbHRhWSA9IF9yZWYzLmRlbHRhWTtcbiAgICAgIC8vIFJlc2V0IGRhdGEgaW4gY2FzZSBpdCB3YXMgbGVmdCBvdmVyIHNvbWVob3cgKHNob3VsZCBub3QgYmUgcG9zc2libGUpXG4gICAgICBpZiAoaGFuZGxlck5hbWUgPT09ICdvblJlc2l6ZVN0YXJ0JykgX3RoaXMyLnJlc2V0RGF0YSgpOyAvLyBBeGlzIHJlc3RyaWN0aW9uc1xuXG4gICAgICB2YXIgY2FuRHJhZ1ggPSAoX3RoaXMyLnByb3BzLmF4aXMgPT09ICdib3RoJyB8fCBfdGhpczIucHJvcHMuYXhpcyA9PT0gJ3gnKSAmJiBheGlzICE9PSAnbicgJiYgYXhpcyAhPT0gJ3MnO1xuICAgICAgdmFyIGNhbkRyYWdZID0gKF90aGlzMi5wcm9wcy5heGlzID09PSAnYm90aCcgfHwgX3RoaXMyLnByb3BzLmF4aXMgPT09ICd5JykgJiYgYXhpcyAhPT0gJ2UnICYmIGF4aXMgIT09ICd3JzsgLy8gTm8gZHJhZ2dpbmcgcG9zc2libGUuXG5cbiAgICAgIGlmICghY2FuRHJhZ1ggJiYgIWNhbkRyYWdZKSByZXR1cm47IC8vIERlY29tcG9zZSBheGlzIGZvciBsYXRlciB1c2VcblxuICAgICAgdmFyIGF4aXNWID0gYXhpc1swXTtcbiAgICAgIHZhciBheGlzSCA9IGF4aXNbYXhpcy5sZW5ndGggLSAxXTsgLy8gaW50ZW50aW9uYWxseSBub3QgYXhpc1sxXSwgc28gdGhhdCB0aGlzIGNhdGNoZXMgYXhpcyA9PT0gJ3cnIGZvciBleGFtcGxlXG4gICAgICAvLyBUcmFjayB0aGUgZWxlbWVudCBiZWluZyBkcmFnZ2VkIHRvIGFjY291bnQgZm9yIGNoYW5nZXMgaW4gcG9zaXRpb24uXG4gICAgICAvLyBJZiBhIGhhbmRsZSdzIHBvc2l0aW9uIGlzIGNoYW5nZWQgYmV0d2VlbiBjYWxsYmFja3MsIHdlIG5lZWQgdG8gZmFjdG9yIHRoaXMgaW4gdG8gdGhlIG5leHQgY2FsbGJhY2suXG4gICAgICAvLyBGYWlsdXJlIHRvIGRvIHNvIHdpbGwgY2F1c2UgdGhlIGVsZW1lbnQgdG8gXCJza2lwXCIgd2hlbiByZXNpemVkIHVwd2FyZHMgb3IgbGVmdHdhcmRzLlxuXG4gICAgICB2YXIgaGFuZGxlUmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgIGlmIChfdGhpczIubGFzdEhhbmRsZVJlY3QgIT0gbnVsbCkge1xuICAgICAgICAvLyBJZiB0aGUgaGFuZGxlIGhhcyByZXBvc2l0aW9uZWQgb24gZWl0aGVyIGF4aXMgc2luY2UgbGFzdCByZW5kZXIsXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gaW5jcmVhc2Ugb3VyIGNhbGxiYWNrIHZhbHVlcyBieSB0aGlzIG11Y2guXG4gICAgICAgIC8vIE9ubHkgY2hlY2tpbmcgJ24nLCAndycgc2luY2UgcmVzaXppbmcgYnkgJ3MnLCAndycgd29uJ3QgYWZmZWN0IHRoZSBvdmVyYWxsIHBvc2l0aW9uIG9uIHBhZ2UsXG4gICAgICAgIGlmIChheGlzSCA9PT0gJ3cnKSB7XG4gICAgICAgICAgdmFyIGRlbHRhTGVmdFNpbmNlTGFzdCA9IGhhbmRsZVJlY3QubGVmdCAtIF90aGlzMi5sYXN0SGFuZGxlUmVjdC5sZWZ0O1xuICAgICAgICAgIGRlbHRhWCArPSBkZWx0YUxlZnRTaW5jZUxhc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXhpc1YgPT09ICduJykge1xuICAgICAgICAgIHZhciBkZWx0YVRvcFNpbmNlTGFzdCA9IGhhbmRsZVJlY3QudG9wIC0gX3RoaXMyLmxhc3RIYW5kbGVSZWN0LnRvcDtcbiAgICAgICAgICBkZWx0YVkgKz0gZGVsdGFUb3BTaW5jZUxhc3Q7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gU3RvcmFnZSBvZiBsYXN0IHJlY3Qgc28gd2Uga25vdyBob3cgbXVjaCBpdCBoYXMgcmVhbGx5IG1vdmVkLlxuXG5cbiAgICAgIF90aGlzMi5sYXN0SGFuZGxlUmVjdCA9IGhhbmRsZVJlY3Q7IC8vIFJldmVyc2UgZGVsdGEgaWYgdXNpbmcgdG9wIG9yIGxlZnQgZHJhZyBoYW5kbGVzLlxuXG4gICAgICBpZiAoYXhpc0ggPT09ICd3JykgZGVsdGFYID0gLWRlbHRhWDtcbiAgICAgIGlmIChheGlzViA9PT0gJ24nKSBkZWx0YVkgPSAtZGVsdGFZOyAvLyBVcGRhdGUgdy9oIGJ5IHRoZSBkZWx0YXMuIEFsc28gZmFjdG9yIGluIHRyYW5zZm9ybVNjYWxlLlxuXG4gICAgICB2YXIgd2lkdGggPSBfdGhpczIucHJvcHMud2lkdGggKyAoY2FuRHJhZ1ggPyBkZWx0YVggLyBfdGhpczIucHJvcHMudHJhbnNmb3JtU2NhbGUgOiAwKTtcbiAgICAgIHZhciBoZWlnaHQgPSBfdGhpczIucHJvcHMuaGVpZ2h0ICsgKGNhbkRyYWdZID8gZGVsdGFZIC8gX3RoaXMyLnByb3BzLnRyYW5zZm9ybVNjYWxlIDogMCk7IC8vIFJ1biB1c2VyLXByb3ZpZGVkIGNvbnN0cmFpbnRzLlxuXG4gICAgICB2YXIgX3RoaXMyJHJ1bkNvbnN0cmFpbnRzID0gX3RoaXMyLnJ1bkNvbnN0cmFpbnRzKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICB3aWR0aCA9IF90aGlzMiRydW5Db25zdHJhaW50c1swXTtcbiAgICAgIGhlaWdodCA9IF90aGlzMiRydW5Db25zdHJhaW50c1sxXTtcbiAgICAgIHZhciBkaW1lbnNpb25zQ2hhbmdlZCA9IHdpZHRoICE9PSBfdGhpczIucHJvcHMud2lkdGggfHwgaGVpZ2h0ICE9PSBfdGhpczIucHJvcHMuaGVpZ2h0OyAvLyBDYWxsIHVzZXItc3VwcGxpZWQgY2FsbGJhY2sgaWYgcHJlc2VudC5cblxuICAgICAgdmFyIGNiID0gdHlwZW9mIF90aGlzMi5wcm9wc1toYW5kbGVyTmFtZV0gPT09ICdmdW5jdGlvbicgPyBfdGhpczIucHJvcHNbaGFuZGxlck5hbWVdIDogbnVsbDsgLy8gRG9uJ3QgY2FsbCAnb25SZXNpemUnIGlmIGRpbWVuc2lvbnMgaGF2ZW4ndCBjaGFuZ2VkLlxuXG4gICAgICB2YXIgc2hvdWxkU2tpcENiID0gaGFuZGxlck5hbWUgPT09ICdvblJlc2l6ZScgJiYgIWRpbWVuc2lvbnNDaGFuZ2VkO1xuXG4gICAgICBpZiAoY2IgJiYgIXNob3VsZFNraXBDYikge1xuICAgICAgICBpZiAodHlwZW9mIGUucGVyc2lzdCA9PT0gJ2Z1bmN0aW9uJykgZS5wZXJzaXN0KCk7XG4gICAgICAgIGNiKGUsIHtcbiAgICAgICAgICBub2RlOiBub2RlLFxuICAgICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICAgICAgfSxcbiAgICAgICAgICBoYW5kbGU6IGF4aXNcbiAgICAgICAgfSk7XG4gICAgICB9IC8vIFJlc2V0IGludGVybmFsIGRhdGFcblxuXG4gICAgICBpZiAoaGFuZGxlck5hbWUgPT09ICdvblJlc2l6ZVN0b3AnKSBfdGhpczIucmVzZXREYXRhKCk7XG4gICAgfTtcbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyUmVzaXplSGFuZGxlID0gZnVuY3Rpb24gcmVuZGVyUmVzaXplSGFuZGxlKHJlc2l6ZUhhbmRsZUF4aXMpIHtcbiAgICB2YXIgaGFuZGxlID0gdGhpcy5wcm9wcy5oYW5kbGU7XG5cbiAgICBpZiAoaGFuZGxlKSB7XG4gICAgICBpZiAodHlwZW9mIGhhbmRsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gaGFuZGxlKHJlc2l6ZUhhbmRsZUF4aXMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaGFuZGxlO1xuICAgIH1cblxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInJlYWN0LXJlc2l6YWJsZS1oYW5kbGUgcmVhY3QtcmVzaXphYmxlLWhhbmRsZS1cIiArIHJlc2l6ZUhhbmRsZUF4aXNcbiAgICB9KTtcbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgLy8gUGFzcyBhbG9uZyBvbmx5IHByb3BzIG5vdCBtZWFudCBmb3IgdGhlIGA8UmVzaXphYmxlPmAuYFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJHByb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgZHJhZ2dhYmxlT3B0cyA9IF90aGlzJHByb3BzLmRyYWdnYWJsZU9wdHMsXG4gICAgICAgIHdpZHRoID0gX3RoaXMkcHJvcHMud2lkdGgsXG4gICAgICAgIGhlaWdodCA9IF90aGlzJHByb3BzLmhlaWdodCxcbiAgICAgICAgaGFuZGxlID0gX3RoaXMkcHJvcHMuaGFuZGxlLFxuICAgICAgICBoYW5kbGVTaXplID0gX3RoaXMkcHJvcHMuaGFuZGxlU2l6ZSxcbiAgICAgICAgbG9ja0FzcGVjdFJhdGlvID0gX3RoaXMkcHJvcHMubG9ja0FzcGVjdFJhdGlvLFxuICAgICAgICBheGlzID0gX3RoaXMkcHJvcHMuYXhpcyxcbiAgICAgICAgbWluQ29uc3RyYWludHMgPSBfdGhpcyRwcm9wcy5taW5Db25zdHJhaW50cyxcbiAgICAgICAgbWF4Q29uc3RyYWludHMgPSBfdGhpcyRwcm9wcy5tYXhDb25zdHJhaW50cyxcbiAgICAgICAgb25SZXNpemUgPSBfdGhpcyRwcm9wcy5vblJlc2l6ZSxcbiAgICAgICAgb25SZXNpemVTdG9wID0gX3RoaXMkcHJvcHMub25SZXNpemVTdG9wLFxuICAgICAgICBvblJlc2l6ZVN0YXJ0ID0gX3RoaXMkcHJvcHMub25SZXNpemVTdGFydCxcbiAgICAgICAgcmVzaXplSGFuZGxlcyA9IF90aGlzJHByb3BzLnJlc2l6ZUhhbmRsZXMsXG4gICAgICAgIHRyYW5zZm9ybVNjYWxlID0gX3RoaXMkcHJvcHMudHJhbnNmb3JtU2NhbGUsXG4gICAgICAgIHAgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wcywgW1wiY2hpbGRyZW5cIiwgXCJjbGFzc05hbWVcIiwgXCJkcmFnZ2FibGVPcHRzXCIsIFwid2lkdGhcIiwgXCJoZWlnaHRcIiwgXCJoYW5kbGVcIiwgXCJoYW5kbGVTaXplXCIsIFwibG9ja0FzcGVjdFJhdGlvXCIsIFwiYXhpc1wiLCBcIm1pbkNvbnN0cmFpbnRzXCIsIFwibWF4Q29uc3RyYWludHNcIiwgXCJvblJlc2l6ZVwiLCBcIm9uUmVzaXplU3RvcFwiLCBcIm9uUmVzaXplU3RhcnRcIiwgXCJyZXNpemVIYW5kbGVzXCIsIFwidHJhbnNmb3JtU2NhbGVcIl0pOyAvLyBXaGF0IHdlJ3JlIGRvaW5nIGhlcmUgaXMgZ2V0dGluZyB0aGUgY2hpbGQgb2YgdGhpcyBlbGVtZW50LCBhbmQgY2xvbmluZyBpdCB3aXRoIHRoaXMgZWxlbWVudCdzIHByb3BzLlxuICAgIC8vIFdlIGFyZSB0aGVuIGRlZmluaW5nIGl0cyBjaGlsZHJlbiBhczpcbiAgICAvLyBJdHMgb3JpZ2luYWwgY2hpbGRyZW4gKHJlc2l6YWJsZSdzIGNoaWxkJ3MgY2hpbGRyZW4pLCBhbmRcbiAgICAvLyBPbmUgb3IgbW9yZSBkcmFnZ2FibGUgaGFuZGxlcy5cblxuXG4gICAgcmV0dXJuICgwLCBfdXRpbHMuY2xvbmVFbGVtZW50KShjaGlsZHJlbiwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwKSwge30sIHtcbiAgICAgIGNsYXNzTmFtZTogKGNsYXNzTmFtZSA/IGNsYXNzTmFtZSArIFwiIFwiIDogJycpICsgXCJyZWFjdC1yZXNpemFibGVcIixcbiAgICAgIGNoaWxkcmVuOiBbXS5jb25jYXQoY2hpbGRyZW4ucHJvcHMuY2hpbGRyZW4sIHJlc2l6ZUhhbmRsZXMubWFwKGZ1bmN0aW9uIChoYW5kbGVBeGlzKSB7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3REcmFnZ2FibGUuRHJhZ2dhYmxlQ29yZSwgX2V4dGVuZHMoe30sIGRyYWdnYWJsZU9wdHMsIHtcbiAgICAgICAgICBrZXk6IFwicmVzaXphYmxlSGFuZGxlLVwiICsgaGFuZGxlQXhpcyxcbiAgICAgICAgICBvblN0b3A6IF90aGlzMy5yZXNpemVIYW5kbGVyKCdvblJlc2l6ZVN0b3AnLCBoYW5kbGVBeGlzKSxcbiAgICAgICAgICBvblN0YXJ0OiBfdGhpczMucmVzaXplSGFuZGxlcignb25SZXNpemVTdGFydCcsIGhhbmRsZUF4aXMpLFxuICAgICAgICAgIG9uRHJhZzogX3RoaXMzLnJlc2l6ZUhhbmRsZXIoJ29uUmVzaXplJywgaGFuZGxlQXhpcylcbiAgICAgICAgfSksIF90aGlzMy5yZW5kZXJSZXNpemVIYW5kbGUoaGFuZGxlQXhpcykpO1xuICAgICAgfSkpXG4gICAgfSkpO1xuICB9O1xuXG4gIHJldHVybiBSZXNpemFibGU7XG59KF9yZWFjdC5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJlc2l6YWJsZTtcblxuX2RlZmluZVByb3BlcnR5KFJlc2l6YWJsZSwgXCJwcm9wVHlwZXNcIiwgX3Byb3BUeXBlcy5yZXNpemFibGVQcm9wcyk7XG5cbl9kZWZpbmVQcm9wZXJ0eShSZXNpemFibGUsIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgaGFuZGxlU2l6ZTogWzIwLCAyMF0sXG4gIGxvY2tBc3BlY3RSYXRpbzogZmFsc2UsXG4gIGF4aXM6ICdib3RoJyxcbiAgbWluQ29uc3RyYWludHM6IFsyMCwgMjBdLFxuICBtYXhDb25zdHJhaW50czogW0luZmluaXR5LCBJbmZpbml0eV0sXG4gIHJlc2l6ZUhhbmRsZXM6IFsnc2UnXSxcbiAgdHJhbnNmb3JtU2NhbGU6IDFcbn0pOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInByb3AtdHlwZXNcIikpO1xuXG52YXIgX1Jlc2l6YWJsZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vUmVzaXphYmxlXCIpKTtcblxudmFyIF9wcm9wVHlwZXMyID0gcmVxdWlyZShcIi4vcHJvcFR5cGVzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUoKSB7IGlmICh0eXBlb2YgV2Vha01hcCAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gbnVsbDsgdmFyIGNhY2hlID0gbmV3IFdlYWtNYXAoKTsgX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlID0gZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKCkgeyByZXR1cm4gY2FjaGU7IH07IHJldHVybiBjYWNoZTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqICE9PSBcImZ1bmN0aW9uXCIpIHsgcmV0dXJuIHsgZGVmYXVsdDogb2JqIH07IH0gdmFyIGNhY2hlID0gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKCk7IGlmIChjYWNoZSAmJiBjYWNoZS5oYXMob2JqKSkgeyByZXR1cm4gY2FjaGUuZ2V0KG9iaik7IH0gdmFyIG5ld09iaiA9IHt9OyB2YXIgaGFzUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBoYXNQcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IG51bGw7IGlmIChkZXNjICYmIChkZXNjLmdldCB8fCBkZXNjLnNldCkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IGlmIChjYWNoZSkgeyBjYWNoZS5zZXQob2JqLCBuZXdPYmopOyB9IHJldHVybiBuZXdPYmo7IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG52YXIgUmVzaXphYmxlQm94ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFJlc2l6YWJsZUJveCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUmVzaXphYmxlQm94KCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInN0YXRlXCIsIHtcbiAgICAgIHdpZHRoOiBfdGhpcy5wcm9wcy53aWR0aCxcbiAgICAgIGhlaWdodDogX3RoaXMucHJvcHMuaGVpZ2h0LFxuICAgICAgcHJvcHNXaWR0aDogX3RoaXMucHJvcHMud2lkdGgsXG4gICAgICBwcm9wc0hlaWdodDogX3RoaXMucHJvcHMuaGVpZ2h0XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwib25SZXNpemVcIiwgZnVuY3Rpb24gKGUsIGRhdGEpIHtcbiAgICAgIHZhciBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25SZXNpemUpIHtcbiAgICAgICAgZS5wZXJzaXN0ICYmIGUucGVyc2lzdCgpO1xuXG4gICAgICAgIF90aGlzLnNldFN0YXRlKHNpemUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMucHJvcHMub25SZXNpemUgJiYgX3RoaXMucHJvcHMub25SZXNpemUoZSwgZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoc2l6ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBSZXNpemFibGVCb3guZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHByb3BzLCBzdGF0ZSkge1xuICAgIC8vIElmIHBhcmVudCBjaGFuZ2VzIGhlaWdodC93aWR0aCwgc2V0IHRoYXQgaW4gb3VyIHN0YXRlLlxuICAgIGlmIChzdGF0ZS5wcm9wc1dpZHRoICE9PSBwcm9wcy53aWR0aCB8fCBzdGF0ZS5wcm9wc0hlaWdodCAhPT0gcHJvcHMuaGVpZ2h0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aDogcHJvcHMud2lkdGgsXG4gICAgICAgIGhlaWdodDogcHJvcHMuaGVpZ2h0LFxuICAgICAgICBwcm9wc1dpZHRoOiBwcm9wcy53aWR0aCxcbiAgICAgICAgcHJvcHNIZWlnaHQ6IHByb3BzLmhlaWdodFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgX3Byb3RvID0gUmVzaXphYmxlQm94LnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIC8vIEJhc2ljIHdyYXBwZXIgYXJvdW5kIGEgUmVzaXphYmxlIGluc3RhbmNlLlxuICAgIC8vIElmIHlvdSB1c2UgUmVzaXphYmxlIGRpcmVjdGx5LCB5b3UgYXJlIHJlc3BvbnNpYmxlIGZvciB1cGRhdGluZyB0aGUgY2hpbGQgY29tcG9uZW50XG4gICAgLy8gd2l0aCBhIG5ldyB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGhhbmRsZSA9IF90aGlzJHByb3BzLmhhbmRsZSxcbiAgICAgICAgaGFuZGxlU2l6ZSA9IF90aGlzJHByb3BzLmhhbmRsZVNpemUsXG4gICAgICAgIG9uUmVzaXplID0gX3RoaXMkcHJvcHMub25SZXNpemUsXG4gICAgICAgIG9uUmVzaXplU3RhcnQgPSBfdGhpcyRwcm9wcy5vblJlc2l6ZVN0YXJ0LFxuICAgICAgICBvblJlc2l6ZVN0b3AgPSBfdGhpcyRwcm9wcy5vblJlc2l6ZVN0b3AsXG4gICAgICAgIGRyYWdnYWJsZU9wdHMgPSBfdGhpcyRwcm9wcy5kcmFnZ2FibGVPcHRzLFxuICAgICAgICBtaW5Db25zdHJhaW50cyA9IF90aGlzJHByb3BzLm1pbkNvbnN0cmFpbnRzLFxuICAgICAgICBtYXhDb25zdHJhaW50cyA9IF90aGlzJHByb3BzLm1heENvbnN0cmFpbnRzLFxuICAgICAgICBsb2NrQXNwZWN0UmF0aW8gPSBfdGhpcyRwcm9wcy5sb2NrQXNwZWN0UmF0aW8sXG4gICAgICAgIGF4aXMgPSBfdGhpcyRwcm9wcy5heGlzLFxuICAgICAgICB3aWR0aCA9IF90aGlzJHByb3BzLndpZHRoLFxuICAgICAgICBoZWlnaHQgPSBfdGhpcyRwcm9wcy5oZWlnaHQsXG4gICAgICAgIHJlc2l6ZUhhbmRsZXMgPSBfdGhpcyRwcm9wcy5yZXNpemVIYW5kbGVzLFxuICAgICAgICBzdHlsZSA9IF90aGlzJHByb3BzLnN0eWxlLFxuICAgICAgICB0cmFuc2Zvcm1TY2FsZSA9IF90aGlzJHByb3BzLnRyYW5zZm9ybVNjYWxlLFxuICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzLCBbXCJoYW5kbGVcIiwgXCJoYW5kbGVTaXplXCIsIFwib25SZXNpemVcIiwgXCJvblJlc2l6ZVN0YXJ0XCIsIFwib25SZXNpemVTdG9wXCIsIFwiZHJhZ2dhYmxlT3B0c1wiLCBcIm1pbkNvbnN0cmFpbnRzXCIsIFwibWF4Q29uc3RyYWludHNcIiwgXCJsb2NrQXNwZWN0UmF0aW9cIiwgXCJheGlzXCIsIFwid2lkdGhcIiwgXCJoZWlnaHRcIiwgXCJyZXNpemVIYW5kbGVzXCIsIFwic3R5bGVcIiwgXCJ0cmFuc2Zvcm1TY2FsZVwiXSk7XG5cbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoX1Jlc2l6YWJsZS5kZWZhdWx0LCB7XG4gICAgICBheGlzOiBheGlzLFxuICAgICAgZHJhZ2dhYmxlT3B0czogZHJhZ2dhYmxlT3B0cyxcbiAgICAgIGhhbmRsZTogaGFuZGxlLFxuICAgICAgaGFuZGxlU2l6ZTogaGFuZGxlU2l6ZSxcbiAgICAgIGhlaWdodDogdGhpcy5zdGF0ZS5oZWlnaHQsXG4gICAgICBsb2NrQXNwZWN0UmF0aW86IGxvY2tBc3BlY3RSYXRpbyxcbiAgICAgIG1heENvbnN0cmFpbnRzOiBtYXhDb25zdHJhaW50cyxcbiAgICAgIG1pbkNvbnN0cmFpbnRzOiBtaW5Db25zdHJhaW50cyxcbiAgICAgIG9uUmVzaXplU3RhcnQ6IG9uUmVzaXplU3RhcnQsXG4gICAgICBvblJlc2l6ZTogdGhpcy5vblJlc2l6ZSxcbiAgICAgIG9uUmVzaXplU3RvcDogb25SZXNpemVTdG9wLFxuICAgICAgcmVzaXplSGFuZGxlczogcmVzaXplSGFuZGxlcyxcbiAgICAgIHRyYW5zZm9ybVNjYWxlOiB0cmFuc2Zvcm1TY2FsZSxcbiAgICAgIHdpZHRoOiB0aGlzLnN0YXRlLndpZHRoXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICBzdHlsZTogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdHlsZSksIHt9LCB7XG4gICAgICAgIHdpZHRoOiB0aGlzLnN0YXRlLndpZHRoICsgJ3B4JyxcbiAgICAgICAgaGVpZ2h0OiB0aGlzLnN0YXRlLmhlaWdodCArICdweCdcbiAgICAgIH0pXG4gICAgfSkpKTtcbiAgfTtcblxuICByZXR1cm4gUmVzaXphYmxlQm94O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZXNpemFibGVCb3g7XG5cbl9kZWZpbmVQcm9wZXJ0eShSZXNpemFibGVCb3gsIFwicHJvcFR5cGVzXCIsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3Byb3BUeXBlczIucmVzaXphYmxlUHJvcHMpLCB7fSwge1xuICBjaGlsZHJlbjogX3Byb3BUeXBlcy5kZWZhdWx0LmVsZW1lbnRcbn0pKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMucmVzaXphYmxlUHJvcHMgPSB2b2lkIDA7XG5cbnZhciBfcHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicHJvcC10eXBlc1wiKSk7XG5cbnZhciBfcmVhY3REcmFnZ2FibGUgPSByZXF1aXJlKFwicmVhY3QtZHJhZ2dhYmxlXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgcmVzaXphYmxlUHJvcHMgPSB7XG4gIC8qXG4gICogUmVzdHJpY3RzIHJlc2l6aW5nIHRvIGEgcGFydGljdWxhciBheGlzIChkZWZhdWx0OiAnYm90aCcpXG4gICogJ2JvdGgnIC0gYWxsb3dzIHJlc2l6aW5nIGJ5IHdpZHRoIG9yIGhlaWdodFxuICAqICd4JyAtIG9ubHkgYWxsb3dzIHRoZSB3aWR0aCB0byBiZSBjaGFuZ2VkXG4gICogJ3knIC0gb25seSBhbGxvd3MgdGhlIGhlaWdodCB0byBiZSBjaGFuZ2VkXG4gICogJ25vbmUnIC0gZGlzYWJsZXMgcmVzaXppbmcgYWx0b2dldGhlclxuICAqICovXG4gIGF4aXM6IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZihbJ2JvdGgnLCAneCcsICd5JywgJ25vbmUnXSksXG4gIGNsYXNzTmFtZTogX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZyxcblxuICAvKlxuICAqIFJlcXVpcmUgdGhhdCBvbmUgYW5kIG9ubHkgb25lIGNoaWxkIGJlIHByZXNlbnQuXG4gICogKi9cbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMuZGVmYXVsdC5lbGVtZW50LmlzUmVxdWlyZWQsXG5cbiAgLypcbiAgKiBUaGVzZSB3aWxsIGJlIHBhc3NlZCB3aG9sZXNhbGUgdG8gcmVhY3QtZHJhZ2dhYmxlJ3MgRHJhZ2dhYmxlQ29yZVxuICAqICovXG4gIGRyYWdnYWJsZU9wdHM6IF9wcm9wVHlwZXMuZGVmYXVsdC5zaGFwZSh7XG4gICAgYWxsb3dBbnlDbGljazogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsXG4gICAgY2FuY2VsOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuICAgIGNoaWxkcmVuOiBfcHJvcFR5cGVzLmRlZmF1bHQubm9kZSxcbiAgICBkaXNhYmxlZDogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsXG4gICAgZW5hYmxlVXNlclNlbGVjdEhhY2s6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLFxuICAgIG9mZnNldFBhcmVudDogX3Byb3BUeXBlcy5kZWZhdWx0Lm5vZGUsXG4gICAgZ3JpZDogX3Byb3BUeXBlcy5kZWZhdWx0LmFycmF5T2YoX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlciksXG4gICAgaGFuZGxlOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLFxuICAgIG5vZGVSZWY6IF9wcm9wVHlwZXMuZGVmYXVsdC5vYmplY3QsXG4gICAgb25TdGFydDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG4gICAgb25EcmFnOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgICBvblN0b3A6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuICAgIG9uTW91c2VEb3duOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgICBzY2FsZTogX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlclxuICB9KSxcblxuICAvKlxuICAqIEluaXRpYWwgaGVpZ2h0XG4gICogKi9cbiAgaGVpZ2h0OiBfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyLmlzUmVxdWlyZWQsXG5cbiAgLypcbiAgKiBDdXN0b21pemUgY3Vyc29yIHJlc2l6ZSBoYW5kbGVcbiAgKiAqL1xuICBoYW5kbGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMuZGVmYXVsdC5ub2RlLCBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuY10pLFxuXG4gIC8qXG4gICogSWYgeW91IGNoYW5nZSB0aGlzLCBiZSBzdXJlIHRvIHVwZGF0ZSB5b3VyIGNzc1xuICAqICovXG4gIGhhbmRsZVNpemU6IF9wcm9wVHlwZXMuZGVmYXVsdC5hcnJheU9mKF9wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIpLFxuICBsb2NrQXNwZWN0UmF0aW86IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLFxuXG4gIC8qXG4gICogTWF4IFggJiBZIG1lYXN1cmVcbiAgKiAqL1xuICBtYXhDb25zdHJhaW50czogX3Byb3BUeXBlcy5kZWZhdWx0LmFycmF5T2YoX3Byb3BUeXBlcy5kZWZhdWx0Lm51bWJlciksXG5cbiAgLypcbiAgKiBNaW4gWCAmIFkgbWVhc3VyZVxuICAqICovXG4gIG1pbkNvbnN0cmFpbnRzOiBfcHJvcFR5cGVzLmRlZmF1bHQuYXJyYXlPZihfcHJvcFR5cGVzLmRlZmF1bHQubnVtYmVyKSxcblxuICAvKlxuICAqIENhbGxlZCBvbiBzdG9wIHJlc2l6ZSBldmVudFxuICAqICovXG4gIG9uUmVzaXplU3RvcDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG5cbiAgLypcbiAgKiBDYWxsZWQgb24gc3RhcnQgcmVzaXplIGV2ZW50XG4gICogKi9cbiAgb25SZXNpemVTdGFydDogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsXG5cbiAgLypcbiAgKiBDYWxsZWQgb24gcmVzaXplIGV2ZW50XG4gICogKi9cbiAgb25SZXNpemU6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLFxuXG4gIC8qXG4gICogRGVmaW5lcyB3aGljaCByZXNpemUgaGFuZGxlcyBzaG91bGQgYmUgcmVuZGVyZWQgKGRlZmF1bHQ6ICdzZScpXG4gICogJ3MnIC0gU291dGggaGFuZGxlIChib3R0b20tY2VudGVyKVxuICAqICd3JyAtIFdlc3QgaGFuZGxlIChsZWZ0LWNlbnRlcilcbiAgKiAnZScgLSBFYXN0IGhhbmRsZSAocmlnaHQtY2VudGVyKVxuICAqICduJyAtIE5vcnRoIGhhbmRsZSAodG9wLWNlbnRlcilcbiAgKiAnc3cnIC0gU291dGh3ZXN0IGhhbmRsZSAoYm90dG9tLWxlZnQpXG4gICogJ253JyAtIE5vcnRod2VzdCBoYW5kbGUgKHRvcC1sZWZ0KVxuICAqICdzZScgLSBTb3V0aGVhc3QgaGFuZGxlIChib3R0b20tcmlnaHQpXG4gICogJ25lJyAtIE5vcnRoZWFzdCBoYW5kbGUgKHRvcC1jZW50ZXIpXG4gICogKi9cbiAgcmVzaXplSGFuZGxlczogX3Byb3BUeXBlcy5kZWZhdWx0LmFycmF5T2YoX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mKFsncycsICd3JywgJ2UnLCAnbicsICdzdycsICdudycsICdzZScsICduZSddKSksXG5cbiAgLypcbiAgKiBJZiBgdHJhbnNmb3JtOiBzY2FsZShuKWAgaXMgc2V0IG9uIHRoZSBwYXJlbnQsIHRoaXMgc2hvdWxkIGJlIHNldCB0byBgbmAuXG4gICogKi9cbiAgdHJhbnNmb3JtU2NhbGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIsXG5cbiAgLypcbiAgICogSW5pdGlhbCB3aWR0aFxuICAgKi9cbiAgd2lkdGg6IF9wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIuaXNSZXF1aXJlZFxufTtcbmV4cG9ydHMucmVzaXphYmxlUHJvcHMgPSByZXNpemFibGVQcm9wczsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuY2xvbmVFbGVtZW50ID0gY2xvbmVFbGVtZW50O1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuLy8gUmVhY3QuYWRkb25zLmNsb25lV2l0aFByb3BzIGxvb2stYWxpa2UgdGhhdCBtZXJnZXMgc3R5bGUgJiBjbGFzc05hbWUuXG5mdW5jdGlvbiBjbG9uZUVsZW1lbnQoZWxlbWVudCwgcHJvcHMpIHtcbiAgaWYgKHByb3BzLnN0eWxlICYmIGVsZW1lbnQucHJvcHMuc3R5bGUpIHtcbiAgICBwcm9wcy5zdHlsZSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZWxlbWVudC5wcm9wcy5zdHlsZSksIHByb3BzLnN0eWxlKTtcbiAgfVxuXG4gIGlmIChwcm9wcy5jbGFzc05hbWUgJiYgZWxlbWVudC5wcm9wcy5jbGFzc05hbWUpIHtcbiAgICBwcm9wcy5jbGFzc05hbWUgPSBlbGVtZW50LnByb3BzLmNsYXNzTmFtZSArIFwiIFwiICsgcHJvcHMuY2xhc3NOYW1lO1xuICB9XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fcmVhY3QuZGVmYXVsdC5jbG9uZUVsZW1lbnQoZWxlbWVudCwgcHJvcHMpO1xufSIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHRocm93IG5ldyBFcnJvcihcIkRvbid0IGluc3RhbnRpYXRlIFJlc2l6YWJsZSBkaXJlY3RseSEgVXNlIHJlcXVpcmUoJ3JlYWN0LXJlc2l6YWJsZScpLlJlc2l6YWJsZVwiKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzLlJlc2l6YWJsZSA9IHJlcXVpcmUoJy4vYnVpbGQvUmVzaXphYmxlJykuZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzLlJlc2l6YWJsZUJveCA9IHJlcXVpcmUoJy4vYnVpbGQvUmVzaXphYmxlQm94JykuZGVmYXVsdDtcbiIsIm1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7aWYobltyXSlyZXR1cm4gbltyXS5leHBvcnRzO3ZhciBpPW5bcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLGUpLGkubD0hMCxpLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIGUubT10LGUuYz1uLGUuZD1mdW5jdGlvbih0LG4scil7ZS5vKHQsbil8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpyfSl9LGUubj1mdW5jdGlvbih0KXt2YXIgbj10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gZS5kKG4sXCJhXCIsbiksbn0sZS5vPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxlLnA9XCJcIixlKGUucz0xNDYpfShbZnVuY3Rpb24odCxlLG4peyFmdW5jdGlvbihlLG4pe3QuZXhwb3J0cz1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxlKXtlJiYodC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSkpLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXR9ZnVuY3Rpb24gZSh0KXtyZXR1cm4gbyh0KT90OlQodCl9ZnVuY3Rpb24gbih0KXtyZXR1cm4gdSh0KT90OkQodCl9ZnVuY3Rpb24gcih0KXtyZXR1cm4gYSh0KT90Ok8odCl9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gbyh0KSYmIXModCk/dDpOKHQpfWZ1bmN0aW9uIG8odCl7cmV0dXJuISghdHx8IXRbY25dKX1mdW5jdGlvbiB1KHQpe3JldHVybiEoIXR8fCF0W2xuXSl9ZnVuY3Rpb24gYSh0KXtyZXR1cm4hKCF0fHwhdFtmbl0pfWZ1bmN0aW9uIHModCl7cmV0dXJuIHUodCl8fGEodCl9ZnVuY3Rpb24gYyh0KXtyZXR1cm4hKCF0fHwhdFtwbl0pfWZ1bmN0aW9uIGwodCl7cmV0dXJuIHQudmFsdWU9ITEsdH1mdW5jdGlvbiBmKHQpe3QmJih0LnZhbHVlPSEwKX1mdW5jdGlvbiBwKCl7fWZ1bmN0aW9uIGgodCxlKXtlPWV8fDA7Zm9yKHZhciBuPU1hdGgubWF4KDAsdC5sZW5ndGgtZSkscj1uZXcgQXJyYXkobiksaT0wO2k8bjtpKyspcltpXT10W2krZV07cmV0dXJuIHJ9ZnVuY3Rpb24gZCh0KXtyZXR1cm4gdm9pZCAwPT09dC5zaXplJiYodC5zaXplPXQuX19pdGVyYXRlKGcpKSx0LnNpemV9ZnVuY3Rpb24geSh0LGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXt2YXIgbj1lPj4+MDtpZihcIlwiK24hPT1lfHw0Mjk0OTY3Mjk1PT09bilyZXR1cm4gTmFOO2U9bn1yZXR1cm4gZTwwP2QodCkrZTplfWZ1bmN0aW9uIGcoKXtyZXR1cm4hMH1mdW5jdGlvbiB2KHQsZSxuKXtyZXR1cm4oMD09PXR8fHZvaWQgMCE9PW4mJnQ8PS1uKSYmKHZvaWQgMD09PWV8fHZvaWQgMCE9PW4mJmU+PW4pfWZ1bmN0aW9uIF8odCxlKXtyZXR1cm4gUyh0LGUsMCl9ZnVuY3Rpb24gbSh0LGUpe3JldHVybiBTKHQsZSxlKX1mdW5jdGlvbiBTKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09dD9uOnQ8MD9NYXRoLm1heCgwLGUrdCk6dm9pZCAwPT09ZT90Ok1hdGgubWluKGUsdCl9ZnVuY3Rpb24gYih0KXt0aGlzLm5leHQ9dH1mdW5jdGlvbiB3KHQsZSxuLHIpe3ZhciBpPTA9PT10P2U6MT09PXQ/bjpbZSxuXTtyZXR1cm4gcj9yLnZhbHVlPWk6cj17dmFsdWU6aSxkb25lOiExfSxyfWZ1bmN0aW9uIE0oKXtyZXR1cm57dmFsdWU6dm9pZCAwLGRvbmU6ITB9fWZ1bmN0aW9uIEUodCl7cmV0dXJuISFrKHQpfWZ1bmN0aW9uIHgodCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQubmV4dH1mdW5jdGlvbiBJKHQpe3ZhciBlPWsodCk7cmV0dXJuIGUmJmUuY2FsbCh0KX1mdW5jdGlvbiBrKHQpe3ZhciBlPXQmJih3biYmdFt3bl18fHRbTW5dKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBlfWZ1bmN0aW9uIEwodCl7cmV0dXJuIHQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aH1mdW5jdGlvbiBUKHQpe3JldHVybiBudWxsPT09dHx8dm9pZCAwPT09dD9SKCk6byh0KT90LnRvU2VxKCk6VSh0KX1mdW5jdGlvbiBEKHQpe3JldHVybiBudWxsPT09dHx8dm9pZCAwPT09dD9SKCkudG9LZXllZFNlcSgpOm8odCk/dSh0KT90LnRvU2VxKCk6dC5mcm9tRW50cnlTZXEoKTpLKHQpfWZ1bmN0aW9uIE8odCl7cmV0dXJuIG51bGw9PT10fHx2b2lkIDA9PT10P1IoKTpvKHQpP3UodCk/dC5lbnRyeVNlcSgpOnQudG9JbmRleGVkU2VxKCk6UCh0KX1mdW5jdGlvbiBOKHQpe3JldHVybihudWxsPT09dHx8dm9pZCAwPT09dD9SKCk6byh0KT91KHQpP3QuZW50cnlTZXEoKTp0OlAodCkpLnRvU2V0U2VxKCl9ZnVuY3Rpb24gQyh0KXt0aGlzLl9hcnJheT10LHRoaXMuc2l6ZT10Lmxlbmd0aH1mdW5jdGlvbiBqKHQpe3ZhciBlPU9iamVjdC5rZXlzKHQpO3RoaXMuX29iamVjdD10LHRoaXMuX2tleXM9ZSx0aGlzLnNpemU9ZS5sZW5ndGh9ZnVuY3Rpb24gQSh0KXt0aGlzLl9pdGVyYWJsZT10LHRoaXMuc2l6ZT10Lmxlbmd0aHx8dC5zaXplfWZ1bmN0aW9uIHoodCl7dGhpcy5faXRlcmF0b3I9dCx0aGlzLl9pdGVyYXRvckNhY2hlPVtdfWZ1bmN0aW9uIEIodCl7cmV0dXJuISghdHx8IXRbeG5dKX1mdW5jdGlvbiBSKCl7cmV0dXJuIElufHwoSW49bmV3IEMoW10pKX1mdW5jdGlvbiBLKHQpe3ZhciBlPUFycmF5LmlzQXJyYXkodCk/bmV3IEModCkuZnJvbUVudHJ5U2VxKCk6eCh0KT9uZXcgeih0KS5mcm9tRW50cnlTZXEoKTpFKHQpP25ldyBBKHQpLmZyb21FbnRyeVNlcSgpOlwib2JqZWN0XCI9PXR5cGVvZiB0P25ldyBqKHQpOnZvaWQgMDtpZighZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgQXJyYXkgb3IgaXRlcmFibGUgb2JqZWN0IG9mIFtrLCB2XSBlbnRyaWVzLCBvciBrZXllZCBvYmplY3Q6IFwiK3QpO3JldHVybiBlfWZ1bmN0aW9uIFAodCl7dmFyIGU9Rih0KTtpZighZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgQXJyYXkgb3IgaXRlcmFibGUgb2JqZWN0IG9mIHZhbHVlczogXCIrdCk7cmV0dXJuIGV9ZnVuY3Rpb24gVSh0KXt2YXIgZT1GKHQpfHxcIm9iamVjdFwiPT10eXBlb2YgdCYmbmV3IGoodCk7aWYoIWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkIEFycmF5IG9yIGl0ZXJhYmxlIG9iamVjdCBvZiB2YWx1ZXMsIG9yIGtleWVkIG9iamVjdDogXCIrdCk7cmV0dXJuIGV9ZnVuY3Rpb24gRih0KXtyZXR1cm4gTCh0KT9uZXcgQyh0KTp4KHQpP25ldyB6KHQpOkUodCk/bmV3IEEodCk6dm9pZCAwfWZ1bmN0aW9uIFkodCxlLG4scil7dmFyIGk9dC5fY2FjaGU7aWYoaSl7Zm9yKHZhciBvPWkubGVuZ3RoLTEsdT0wO3U8PW87dSsrKXt2YXIgYT1pW24/by11OnVdO2lmKCExPT09ZShhWzFdLHI/YVswXTp1LHQpKXJldHVybiB1KzF9cmV0dXJuIHV9cmV0dXJuIHQuX19pdGVyYXRlVW5jYWNoZWQoZSxuKX1mdW5jdGlvbiBIKHQsZSxuLHIpe3ZhciBpPXQuX2NhY2hlO2lmKGkpe3ZhciBvPWkubGVuZ3RoLTEsdT0wO3JldHVybiBuZXcgYihmdW5jdGlvbigpe3ZhciB0PWlbbj9vLXU6dV07cmV0dXJuIHUrKz5vP00oKTp3KGUscj90WzBdOnUtMSx0WzFdKX0pfXJldHVybiB0Ll9faXRlcmF0b3JVbmNhY2hlZChlLG4pfWZ1bmN0aW9uIHEodCxlKXtyZXR1cm4gZT9XKGUsdCxcIlwiLHtcIlwiOnR9KTpHKHQpfWZ1bmN0aW9uIFcodCxlLG4scil7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/dC5jYWxsKHIsbixPKGUpLm1hcChmdW5jdGlvbihuLHIpe3JldHVybiBXKHQsbixyLGUpfSkpOlYoZSk/dC5jYWxsKHIsbixEKGUpLm1hcChmdW5jdGlvbihuLHIpe3JldHVybiBXKHQsbixyLGUpfSkpOmV9ZnVuY3Rpb24gRyh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT9PKHQpLm1hcChHKS50b0xpc3QoKTpWKHQpP0QodCkubWFwKEcpLnRvTWFwKCk6dH1mdW5jdGlvbiBWKHQpe3JldHVybiB0JiYodC5jb25zdHJ1Y3Rvcj09PU9iamVjdHx8dm9pZCAwPT09dC5jb25zdHJ1Y3Rvcil9ZnVuY3Rpb24gUSh0LGUpe2lmKHQ9PT1lfHx0IT09dCYmZSE9PWUpcmV0dXJuITA7aWYoIXR8fCFlKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQudmFsdWVPZiYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS52YWx1ZU9mKXtpZih0PXQudmFsdWVPZigpLGU9ZS52YWx1ZU9mKCksdD09PWV8fHQhPT10JiZlIT09ZSlyZXR1cm4hMDtpZighdHx8IWUpcmV0dXJuITF9cmV0dXJuIShcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LmVxdWFsc3x8XCJmdW5jdGlvblwiIT10eXBlb2YgZS5lcXVhbHN8fCF0LmVxdWFscyhlKSl9ZnVuY3Rpb24gWih0LGUpe2lmKHQ9PT1lKXJldHVybiEwO2lmKCFvKGUpfHx2b2lkIDAhPT10LnNpemUmJnZvaWQgMCE9PWUuc2l6ZSYmdC5zaXplIT09ZS5zaXplfHx2b2lkIDAhPT10Ll9faGFzaCYmdm9pZCAwIT09ZS5fX2hhc2gmJnQuX19oYXNoIT09ZS5fX2hhc2h8fHUodCkhPT11KGUpfHxhKHQpIT09YShlKXx8Yyh0KSE9PWMoZSkpcmV0dXJuITE7aWYoMD09PXQuc2l6ZSYmMD09PWUuc2l6ZSlyZXR1cm4hMDt2YXIgbj0hcyh0KTtpZihjKHQpKXt2YXIgcj10LmVudHJpZXMoKTtyZXR1cm4gZS5ldmVyeShmdW5jdGlvbih0LGUpe3ZhciBpPXIubmV4dCgpLnZhbHVlO3JldHVybiBpJiZRKGlbMV0sdCkmJihufHxRKGlbMF0sZSkpfSkmJnIubmV4dCgpLmRvbmV9dmFyIGk9ITE7aWYodm9pZCAwPT09dC5zaXplKWlmKHZvaWQgMD09PWUuc2l6ZSlcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNhY2hlUmVzdWx0JiZ0LmNhY2hlUmVzdWx0KCk7ZWxzZXtpPSEwO3ZhciBsPXQ7dD1lLGU9bH12YXIgZj0hMCxwPWUuX19pdGVyYXRlKGZ1bmN0aW9uKGUscil7aWYobj8hdC5oYXMoZSk6aT8hUShlLHQuZ2V0KHIsZ24pKTohUSh0LmdldChyLGduKSxlKSlyZXR1cm4gZj0hMSwhMX0pO3JldHVybiBmJiZ0LnNpemU9PT1wfWZ1bmN0aW9uIEoodCxlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBKKSlyZXR1cm4gbmV3IEoodCxlKTtpZih0aGlzLl92YWx1ZT10LHRoaXMuc2l6ZT12b2lkIDA9PT1lPzEvMDpNYXRoLm1heCgwLGUpLDA9PT10aGlzLnNpemUpe2lmKGtuKXJldHVybiBrbjtrbj10aGlzfX1mdW5jdGlvbiBYKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGUpfWZ1bmN0aW9uICQodCxlLG4pe2lmKCEodGhpcyBpbnN0YW5jZW9mICQpKXJldHVybiBuZXcgJCh0LGUsbik7aWYoWCgwIT09bixcIkNhbm5vdCBzdGVwIGEgUmFuZ2UgYnkgMFwiKSx0PXR8fDAsdm9pZCAwPT09ZSYmKGU9MS8wKSxuPXZvaWQgMD09PW4/MTpNYXRoLmFicyhuKSxlPHQmJihuPS1uKSx0aGlzLl9zdGFydD10LHRoaXMuX2VuZD1lLHRoaXMuX3N0ZXA9bix0aGlzLnNpemU9TWF0aC5tYXgoMCxNYXRoLmNlaWwoKGUtdCkvbi0xKSsxKSwwPT09dGhpcy5zaXplKXtpZihMbilyZXR1cm4gTG47TG49dGhpc319ZnVuY3Rpb24gdHQoKXt0aHJvdyBUeXBlRXJyb3IoXCJBYnN0cmFjdFwiKX1mdW5jdGlvbiBldCgpe31mdW5jdGlvbiBudCgpe31mdW5jdGlvbiBydCgpe31mdW5jdGlvbiBpdCh0KXtyZXR1cm4gdD4+PjEmMTA3Mzc0MTgyNHwzMjIxMjI1NDcxJnR9ZnVuY3Rpb24gb3QodCl7aWYoITE9PT10fHxudWxsPT09dHx8dm9pZCAwPT09dClyZXR1cm4gMDtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnZhbHVlT2YmJighMT09PSh0PXQudmFsdWVPZigpKXx8bnVsbD09PXR8fHZvaWQgMD09PXQpKXJldHVybiAwO2lmKCEwPT09dClyZXR1cm4gMTt2YXIgZT10eXBlb2YgdDtpZihcIm51bWJlclwiPT09ZSl7dmFyIG49MHx0O2ZvcihuIT09dCYmKG5ePTQyOTQ5NjcyOTUqdCk7dD40Mjk0OTY3Mjk1Oyl0Lz00Mjk0OTY3Mjk1LG5ePXQ7cmV0dXJuIGl0KG4pfWlmKFwic3RyaW5nXCI9PT1lKXJldHVybiB0Lmxlbmd0aD56bj91dCh0KTphdCh0KTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lmhhc2hDb2RlKXJldHVybiB0Lmhhc2hDb2RlKCk7aWYoXCJvYmplY3RcIj09PWUpcmV0dXJuIHN0KHQpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQudG9TdHJpbmcpcmV0dXJuIGF0KHQudG9TdHJpbmcoKSk7dGhyb3cgbmV3IEVycm9yKFwiVmFsdWUgdHlwZSBcIitlK1wiIGNhbm5vdCBiZSBoYXNoZWQuXCIpfWZ1bmN0aW9uIHV0KHQpe3ZhciBlPUtuW3RdO3JldHVybiB2b2lkIDA9PT1lJiYoZT1hdCh0KSxSbj09PUJuJiYoUm49MCxLbj17fSksUm4rKyxLblt0XT1lKSxlfWZ1bmN0aW9uIGF0KHQpe2Zvcih2YXIgZT0wLG49MDtuPHQubGVuZ3RoO24rKyllPTMxKmUrdC5jaGFyQ29kZUF0KG4pfDA7cmV0dXJuIGl0KGUpfWZ1bmN0aW9uIHN0KHQpe3ZhciBlO2lmKENuJiZ2b2lkIDAhPT0oZT1Ubi5nZXQodCkpKXJldHVybiBlO2lmKHZvaWQgMCE9PShlPXRbQW5dKSlyZXR1cm4gZTtpZighTm4pe2lmKHZvaWQgMCE9PShlPXQucHJvcGVydHlJc0VudW1lcmFibGUmJnQucHJvcGVydHlJc0VudW1lcmFibGVbQW5dKSlyZXR1cm4gZTtpZih2b2lkIDAhPT0oZT1jdCh0KSkpcmV0dXJuIGV9aWYoZT0rK2puLDEwNzM3NDE4MjQmam4mJihqbj0wKSxDbilUbi5zZXQodCxlKTtlbHNle2lmKHZvaWQgMCE9PU9uJiYhMT09PU9uKHQpKXRocm93IG5ldyBFcnJvcihcIk5vbi1leHRlbnNpYmxlIG9iamVjdHMgYXJlIG5vdCBhbGxvd2VkIGFzIGtleXMuXCIpO2lmKE5uKU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LEFuLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMSx3cml0YWJsZTohMSx2YWx1ZTplfSk7ZWxzZSBpZih2b2lkIDAhPT10LnByb3BlcnR5SXNFbnVtZXJhYmxlJiZ0LnByb3BlcnR5SXNFbnVtZXJhYmxlPT09dC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUpdC5wcm9wZXJ0eUlzRW51bWVyYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHQucHJvcGVydHlJc0VudW1lcmFibGVbQW5dPWU7ZWxzZXtpZih2b2lkIDA9PT10Lm5vZGVUeXBlKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBzZXQgYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSBvbiBvYmplY3QuXCIpO3RbQW5dPWV9fXJldHVybiBlfWZ1bmN0aW9uIGN0KHQpe2lmKHQmJnQubm9kZVR5cGU+MClzd2l0Y2godC5ub2RlVHlwZSl7Y2FzZSAxOnJldHVybiB0LnVuaXF1ZUlEO2Nhc2UgOTpyZXR1cm4gdC5kb2N1bWVudEVsZW1lbnQmJnQuZG9jdW1lbnRFbGVtZW50LnVuaXF1ZUlEfX1mdW5jdGlvbiBsdCh0KXtYKHQhPT0xLzAsXCJDYW5ub3QgcGVyZm9ybSB0aGlzIGFjdGlvbiB3aXRoIGFuIGluZmluaXRlIHNpemUuXCIpfWZ1bmN0aW9uIGZ0KHQpe3JldHVybiBudWxsPT09dHx8dm9pZCAwPT09dD93dCgpOnB0KHQpJiYhYyh0KT90Ond0KCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbihlKXt2YXIgcj1uKHQpO2x0KHIuc2l6ZSksci5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuc2V0KG4sdCl9KX0pfWZ1bmN0aW9uIHB0KHQpe3JldHVybiEoIXR8fCF0W1BuXSl9ZnVuY3Rpb24gaHQodCxlKXt0aGlzLm93bmVySUQ9dCx0aGlzLmVudHJpZXM9ZX1mdW5jdGlvbiBkdCh0LGUsbil7dGhpcy5vd25lcklEPXQsdGhpcy5iaXRtYXA9ZSx0aGlzLm5vZGVzPW59ZnVuY3Rpb24geXQodCxlLG4pe3RoaXMub3duZXJJRD10LHRoaXMuY291bnQ9ZSx0aGlzLm5vZGVzPW59ZnVuY3Rpb24gZ3QodCxlLG4pe3RoaXMub3duZXJJRD10LHRoaXMua2V5SGFzaD1lLHRoaXMuZW50cmllcz1ufWZ1bmN0aW9uIHZ0KHQsZSxuKXt0aGlzLm93bmVySUQ9dCx0aGlzLmtleUhhc2g9ZSx0aGlzLmVudHJ5PW59ZnVuY3Rpb24gX3QodCxlLG4pe3RoaXMuX3R5cGU9ZSx0aGlzLl9yZXZlcnNlPW4sdGhpcy5fc3RhY2s9dC5fcm9vdCYmU3QodC5fcm9vdCl9ZnVuY3Rpb24gbXQodCxlKXtyZXR1cm4gdyh0LGVbMF0sZVsxXSl9ZnVuY3Rpb24gU3QodCxlKXtyZXR1cm57bm9kZTp0LGluZGV4OjAsX19wcmV2OmV9fWZ1bmN0aW9uIGJ0KHQsZSxuLHIpe3ZhciBpPU9iamVjdC5jcmVhdGUoVW4pO3JldHVybiBpLnNpemU9dCxpLl9yb290PWUsaS5fX293bmVySUQ9bixpLl9faGFzaD1yLGkuX19hbHRlcmVkPSExLGl9ZnVuY3Rpb24gd3QoKXtyZXR1cm4gRm58fChGbj1idCgwKSl9ZnVuY3Rpb24gTXQodCxlLG4pe3ZhciByLGk7aWYodC5fcm9vdCl7dmFyIG89bCh2biksdT1sKF9uKTtpZihyPUV0KHQuX3Jvb3QsdC5fX293bmVySUQsMCx2b2lkIDAsZSxuLG8sdSksIXUudmFsdWUpcmV0dXJuIHQ7aT10LnNpemUrKG8udmFsdWU/bj09PWduPy0xOjE6MCl9ZWxzZXtpZihuPT09Z24pcmV0dXJuIHQ7aT0xLHI9bmV3IGh0KHQuX19vd25lcklELFtbZSxuXV0pfXJldHVybiB0Ll9fb3duZXJJRD8odC5zaXplPWksdC5fcm9vdD1yLHQuX19oYXNoPXZvaWQgMCx0Ll9fYWx0ZXJlZD0hMCx0KTpyP2J0KGkscik6d3QoKX1mdW5jdGlvbiBFdCh0LGUsbixyLGksbyx1LGEpe3JldHVybiB0P3QudXBkYXRlKGUsbixyLGksbyx1LGEpOm89PT1nbj90OihmKGEpLGYodSksbmV3IHZ0KGUscixbaSxvXSkpfWZ1bmN0aW9uIHh0KHQpe3JldHVybiB0LmNvbnN0cnVjdG9yPT09dnR8fHQuY29uc3RydWN0b3I9PT1ndH1mdW5jdGlvbiBJdCh0LGUsbixyLGkpe2lmKHQua2V5SGFzaD09PXIpcmV0dXJuIG5ldyBndChlLHIsW3QuZW50cnksaV0pO3ZhciBvLHU9KDA9PT1uP3Qua2V5SGFzaDp0LmtleUhhc2g+Pj5uKSZ5bixhPSgwPT09bj9yOnI+Pj5uKSZ5bjtyZXR1cm4gbmV3IGR0KGUsMTw8dXwxPDxhLHU9PT1hP1tJdCh0LGUsbitobixyLGkpXToobz1uZXcgdnQoZSxyLGkpLHU8YT9bdCxvXTpbbyx0XSkpfWZ1bmN0aW9uIGt0KHQsZSxuLHIpe3R8fCh0PW5ldyBwKTtmb3IodmFyIGk9bmV3IHZ0KHQsb3QobiksW24scl0pLG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIHU9ZVtvXTtpPWkudXBkYXRlKHQsMCx2b2lkIDAsdVswXSx1WzFdKX1yZXR1cm4gaX1mdW5jdGlvbiBMdCh0LGUsbixyKXtmb3IodmFyIGk9MCxvPTAsdT1uZXcgQXJyYXkobiksYT0wLHM9MSxjPWUubGVuZ3RoO2E8YzthKyssczw8PTEpe3ZhciBsPWVbYV07dm9pZCAwIT09bCYmYSE9PXImJihpfD1zLHVbbysrXT1sKX1yZXR1cm4gbmV3IGR0KHQsaSx1KX1mdW5jdGlvbiBUdCh0LGUsbixyLGkpe2Zvcih2YXIgbz0wLHU9bmV3IEFycmF5KGRuKSxhPTA7MCE9PW47YSsrLG4+Pj49MSl1W2FdPTEmbj9lW28rK106dm9pZCAwO3JldHVybiB1W3JdPWksbmV3IHl0KHQsbysxLHUpfWZ1bmN0aW9uIER0KHQsZSxyKXtmb3IodmFyIGk9W10sdT0wO3U8ci5sZW5ndGg7dSsrKXt2YXIgYT1yW3VdLHM9bihhKTtvKGEpfHwocz1zLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gcSh0KX0pKSxpLnB1c2gocyl9cmV0dXJuIEN0KHQsZSxpKX1mdW5jdGlvbiBPdCh0LGUsbil7cmV0dXJuIHQmJnQubWVyZ2VEZWVwJiZvKGUpP3QubWVyZ2VEZWVwKGUpOlEodCxlKT90OmV9ZnVuY3Rpb24gTnQodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtpZihlJiZlLm1lcmdlRGVlcFdpdGgmJm8obikpcmV0dXJuIGUubWVyZ2VEZWVwV2l0aCh0LG4pO3ZhciBpPXQoZSxuLHIpO3JldHVybiBRKGUsaSk/ZTppfX1mdW5jdGlvbiBDdCh0LGUsbil7cmV0dXJuIG49bi5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIDAhPT10LnNpemV9KSwwPT09bi5sZW5ndGg/dDowIT09dC5zaXplfHx0Ll9fb3duZXJJRHx8MSE9PW4ubGVuZ3RoP3Qud2l0aE11dGF0aW9ucyhmdW5jdGlvbih0KXtmb3IodmFyIHI9ZT9mdW5jdGlvbihuLHIpe3QudXBkYXRlKHIsZ24sZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1nbj9uOmUodCxuLHIpfSl9OmZ1bmN0aW9uKGUsbil7dC5zZXQobixlKX0saT0wO2k8bi5sZW5ndGg7aSsrKW5baV0uZm9yRWFjaChyKX0pOnQuY29uc3RydWN0b3IoblswXSl9ZnVuY3Rpb24ganQodCxlLG4scil7dmFyIGk9dD09PWduLG89ZS5uZXh0KCk7aWYoby5kb25lKXt2YXIgdT1pP246dCxhPXIodSk7cmV0dXJuIGE9PT11P3Q6YX1YKGl8fHQmJnQuc2V0LFwiaW52YWxpZCBrZXlQYXRoXCIpO3ZhciBzPW8udmFsdWUsYz1pP2duOnQuZ2V0KHMsZ24pLGw9anQoYyxlLG4scik7cmV0dXJuIGw9PT1jP3Q6bD09PWduP3QucmVtb3ZlKHMpOihpP3d0KCk6dCkuc2V0KHMsbCl9ZnVuY3Rpb24gQXQodCl7cmV0dXJuIHQtPXQ+PjEmMTQzMTY1NTc2NSx0PSg4NTg5OTM0NTkmdCkrKHQ+PjImODU4OTkzNDU5KSx0PXQrKHQ+PjQpJjI1MjY0NTEzNSx0Kz10Pj44LDEyNyYodCs9dD4+MTYpfWZ1bmN0aW9uIHp0KHQsZSxuLHIpe3ZhciBpPXI/dDpoKHQpO3JldHVybiBpW2VdPW4saX1mdW5jdGlvbiBCdCh0LGUsbixyKXt2YXIgaT10Lmxlbmd0aCsxO2lmKHImJmUrMT09PWkpcmV0dXJuIHRbZV09bix0O2Zvcih2YXIgbz1uZXcgQXJyYXkoaSksdT0wLGE9MDthPGk7YSsrKWE9PT1lPyhvW2FdPW4sdT0tMSk6b1thXT10W2ErdV07cmV0dXJuIG99ZnVuY3Rpb24gUnQodCxlLG4pe3ZhciByPXQubGVuZ3RoLTE7aWYobiYmZT09PXIpcmV0dXJuIHQucG9wKCksdDtmb3IodmFyIGk9bmV3IEFycmF5KHIpLG89MCx1PTA7dTxyO3UrKyl1PT09ZSYmKG89MSksaVt1XT10W3Urb107cmV0dXJuIGl9ZnVuY3Rpb24gS3QodCl7dmFyIGU9SHQoKTtpZihudWxsPT09dHx8dm9pZCAwPT09dClyZXR1cm4gZTtpZihQdCh0KSlyZXR1cm4gdDt2YXIgbj1yKHQpLGk9bi5zaXplO3JldHVybiAwPT09aT9lOihsdChpKSxpPjAmJmk8ZG4/WXQoMCxpLGhuLG51bGwsbmV3IFV0KG4udG9BcnJheSgpKSk6ZS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKHQpe3Quc2V0U2l6ZShpKSxuLmZvckVhY2goZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5zZXQobixlKX0pfSkpfWZ1bmN0aW9uIFB0KHQpe3JldHVybiEoIXR8fCF0W1duXSl9ZnVuY3Rpb24gVXQodCxlKXt0aGlzLmFycmF5PXQsdGhpcy5vd25lcklEPWV9ZnVuY3Rpb24gRnQodCxlKXtmdW5jdGlvbiBuKHQsZSxuKXtyZXR1cm4gMD09PWU/cih0LG4pOmkodCxlLG4pfWZ1bmN0aW9uIHIodCxuKXt2YXIgcj1uPT09YT9zJiZzLmFycmF5OnQmJnQuYXJyYXksaT1uPm8/MDpvLW4sYz11LW47cmV0dXJuIGM+ZG4mJihjPWRuKSxmdW5jdGlvbigpe2lmKGk9PT1jKXJldHVybiBRbjt2YXIgdD1lPy0tYzppKys7cmV0dXJuIHImJnJbdF19fWZ1bmN0aW9uIGkodCxyLGkpe3ZhciBhLHM9dCYmdC5hcnJheSxjPWk+bz8wOm8taT4+cixsPTErKHUtaT4+cik7cmV0dXJuIGw+ZG4mJihsPWRuKSxmdW5jdGlvbigpe2Zvcig7Oyl7aWYoYSl7dmFyIHQ9YSgpO2lmKHQhPT1RbilyZXR1cm4gdDthPW51bGx9aWYoYz09PWwpcmV0dXJuIFFuO3ZhciBvPWU/LS1sOmMrKzthPW4ocyYmc1tvXSxyLWhuLGkrKG88PHIpKX19fXZhciBvPXQuX29yaWdpbix1PXQuX2NhcGFjaXR5LGE9SnQodSkscz10Ll90YWlsO3JldHVybiBuKHQuX3Jvb3QsdC5fbGV2ZWwsMCl9ZnVuY3Rpb24gWXQodCxlLG4scixpLG8sdSl7dmFyIGE9T2JqZWN0LmNyZWF0ZShHbik7cmV0dXJuIGEuc2l6ZT1lLXQsYS5fb3JpZ2luPXQsYS5fY2FwYWNpdHk9ZSxhLl9sZXZlbD1uLGEuX3Jvb3Q9cixhLl90YWlsPWksYS5fX293bmVySUQ9byxhLl9faGFzaD11LGEuX19hbHRlcmVkPSExLGF9ZnVuY3Rpb24gSHQoKXtyZXR1cm4gVm58fChWbj1ZdCgwLDAsaG4pKX1mdW5jdGlvbiBxdCh0LGUsbil7aWYoKGU9eSh0LGUpKSE9PWUpcmV0dXJuIHQ7aWYoZT49dC5zaXplfHxlPDApcmV0dXJuIHQud2l0aE11dGF0aW9ucyhmdW5jdGlvbih0KXtlPDA/UXQodCxlKS5zZXQoMCxuKTpRdCh0LDAsZSsxKS5zZXQoZSxuKX0pO2UrPXQuX29yaWdpbjt2YXIgcj10Ll90YWlsLGk9dC5fcm9vdCxvPWwoX24pO3JldHVybiBlPj1KdCh0Ll9jYXBhY2l0eSk/cj1XdChyLHQuX19vd25lcklELDAsZSxuLG8pOmk9V3QoaSx0Ll9fb3duZXJJRCx0Ll9sZXZlbCxlLG4sbyksby52YWx1ZT90Ll9fb3duZXJJRD8odC5fcm9vdD1pLHQuX3RhaWw9cix0Ll9faGFzaD12b2lkIDAsdC5fX2FsdGVyZWQ9ITAsdCk6WXQodC5fb3JpZ2luLHQuX2NhcGFjaXR5LHQuX2xldmVsLGkscik6dH1mdW5jdGlvbiBXdCh0LGUsbixyLGksbyl7dmFyIHU9cj4+Pm4meW4sYT10JiZ1PHQuYXJyYXkubGVuZ3RoO2lmKCFhJiZ2b2lkIDA9PT1pKXJldHVybiB0O3ZhciBzO2lmKG4+MCl7dmFyIGM9dCYmdC5hcnJheVt1XSxsPVd0KGMsZSxuLWhuLHIsaSxvKTtyZXR1cm4gbD09PWM/dDoocz1HdCh0LGUpLHMuYXJyYXlbdV09bCxzKX1yZXR1cm4gYSYmdC5hcnJheVt1XT09PWk/dDooZihvKSxzPUd0KHQsZSksdm9pZCAwPT09aSYmdT09PXMuYXJyYXkubGVuZ3RoLTE/cy5hcnJheS5wb3AoKTpzLmFycmF5W3VdPWkscyl9ZnVuY3Rpb24gR3QodCxlKXtyZXR1cm4gZSYmdCYmZT09PXQub3duZXJJRD90Om5ldyBVdCh0P3QuYXJyYXkuc2xpY2UoKTpbXSxlKX1mdW5jdGlvbiBWdCh0LGUpe2lmKGU+PUp0KHQuX2NhcGFjaXR5KSlyZXR1cm4gdC5fdGFpbDtpZihlPDE8PHQuX2xldmVsK2huKXtmb3IodmFyIG49dC5fcm9vdCxyPXQuX2xldmVsO24mJnI+MDspbj1uLmFycmF5W2U+Pj5yJnluXSxyLT1objtyZXR1cm4gbn19ZnVuY3Rpb24gUXQodCxlLG4pe3ZvaWQgMCE9PWUmJihlfD0wKSx2b2lkIDAhPT1uJiYobnw9MCk7dmFyIHI9dC5fX293bmVySUR8fG5ldyBwLGk9dC5fb3JpZ2luLG89dC5fY2FwYWNpdHksdT1pK2UsYT12b2lkIDA9PT1uP286bjwwP28rbjppK247aWYodT09PWkmJmE9PT1vKXJldHVybiB0O2lmKHU+PWEpcmV0dXJuIHQuY2xlYXIoKTtmb3IodmFyIHM9dC5fbGV2ZWwsYz10Ll9yb290LGw9MDt1K2w8MDspYz1uZXcgVXQoYyYmYy5hcnJheS5sZW5ndGg/W3ZvaWQgMCxjXTpbXSxyKSxzKz1obixsKz0xPDxzO2wmJih1Kz1sLGkrPWwsYSs9bCxvKz1sKTtmb3IodmFyIGY9SnQobyksaD1KdChhKTtoPj0xPDxzK2huOyljPW5ldyBVdChjJiZjLmFycmF5Lmxlbmd0aD9bY106W10scikscys9aG47dmFyIGQ9dC5fdGFpbCx5PWg8Zj9WdCh0LGEtMSk6aD5mP25ldyBVdChbXSxyKTpkO2lmKGQmJmg+ZiYmdTxvJiZkLmFycmF5Lmxlbmd0aCl7Yz1HdChjLHIpO2Zvcih2YXIgZz1jLHY9czt2PmhuO3YtPWhuKXt2YXIgXz1mPj4+diZ5bjtnPWcuYXJyYXlbX109R3QoZy5hcnJheVtfXSxyKX1nLmFycmF5W2Y+Pj5obiZ5bl09ZH1pZihhPG8mJih5PXkmJnkucmVtb3ZlQWZ0ZXIociwwLGEpKSx1Pj1oKXUtPWgsYS09aCxzPWhuLGM9bnVsbCx5PXkmJnkucmVtb3ZlQmVmb3JlKHIsMCx1KTtlbHNlIGlmKHU+aXx8aDxmKXtmb3IobD0wO2M7KXt2YXIgbT11Pj4+cyZ5bjtpZihtIT09aD4+PnMmeW4pYnJlYWs7bSYmKGwrPSgxPDxzKSptKSxzLT1obixjPWMuYXJyYXlbbV19YyYmdT5pJiYoYz1jLnJlbW92ZUJlZm9yZShyLHMsdS1sKSksYyYmaDxmJiYoYz1jLnJlbW92ZUFmdGVyKHIscyxoLWwpKSxsJiYodS09bCxhLT1sKX1yZXR1cm4gdC5fX293bmVySUQ/KHQuc2l6ZT1hLXUsdC5fb3JpZ2luPXUsdC5fY2FwYWNpdHk9YSx0Ll9sZXZlbD1zLHQuX3Jvb3Q9Yyx0Ll90YWlsPXksdC5fX2hhc2g9dm9pZCAwLHQuX19hbHRlcmVkPSEwLHQpOll0KHUsYSxzLGMseSl9ZnVuY3Rpb24gWnQodCxlLG4pe2Zvcih2YXIgaT1bXSx1PTAsYT0wO2E8bi5sZW5ndGg7YSsrKXt2YXIgcz1uW2FdLGM9cihzKTtjLnNpemU+dSYmKHU9Yy5zaXplKSxvKHMpfHwoYz1jLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gcSh0KX0pKSxpLnB1c2goYyl9cmV0dXJuIHU+dC5zaXplJiYodD10LnNldFNpemUodSkpLEN0KHQsZSxpKX1mdW5jdGlvbiBKdCh0KXtyZXR1cm4gdDxkbj8wOnQtMT4+PmhuPDxobn1mdW5jdGlvbiBYdCh0KXtyZXR1cm4gbnVsbD09PXR8fHZvaWQgMD09PXQ/ZWUoKTokdCh0KT90OmVlKCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbihlKXt2YXIgcj1uKHQpO2x0KHIuc2l6ZSksci5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuc2V0KG4sdCl9KX0pfWZ1bmN0aW9uICR0KHQpe3JldHVybiBwdCh0KSYmYyh0KX1mdW5jdGlvbiB0ZSh0LGUsbixyKXt2YXIgaT1PYmplY3QuY3JlYXRlKFh0LnByb3RvdHlwZSk7cmV0dXJuIGkuc2l6ZT10P3Quc2l6ZTowLGkuX21hcD10LGkuX2xpc3Q9ZSxpLl9fb3duZXJJRD1uLGkuX19oYXNoPXIsaX1mdW5jdGlvbiBlZSgpe3JldHVybiBabnx8KFpuPXRlKHd0KCksSHQoKSkpfWZ1bmN0aW9uIG5lKHQsZSxuKXt2YXIgcixpLG89dC5fbWFwLHU9dC5fbGlzdCxhPW8uZ2V0KGUpLHM9dm9pZCAwIT09YTtpZihuPT09Z24pe2lmKCFzKXJldHVybiB0O3Uuc2l6ZT49ZG4mJnUuc2l6ZT49MipvLnNpemU/KGk9dS5maWx0ZXIoZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwIT09dCYmYSE9PWV9KSxyPWkudG9LZXllZFNlcSgpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pLmZsaXAoKS50b01hcCgpLHQuX19vd25lcklEJiYoci5fX293bmVySUQ9aS5fX293bmVySUQ9dC5fX293bmVySUQpKToocj1vLnJlbW92ZShlKSxpPWE9PT11LnNpemUtMT91LnBvcCgpOnUuc2V0KGEsdm9pZCAwKSl9ZWxzZSBpZihzKXtpZihuPT09dS5nZXQoYSlbMV0pcmV0dXJuIHQ7cj1vLGk9dS5zZXQoYSxbZSxuXSl9ZWxzZSByPW8uc2V0KGUsdS5zaXplKSxpPXUuc2V0KHUuc2l6ZSxbZSxuXSk7cmV0dXJuIHQuX19vd25lcklEPyh0LnNpemU9ci5zaXplLHQuX21hcD1yLHQuX2xpc3Q9aSx0Ll9faGFzaD12b2lkIDAsdCk6dGUocixpKX1mdW5jdGlvbiByZSh0LGUpe3RoaXMuX2l0ZXI9dCx0aGlzLl91c2VLZXlzPWUsdGhpcy5zaXplPXQuc2l6ZX1mdW5jdGlvbiBpZSh0KXt0aGlzLl9pdGVyPXQsdGhpcy5zaXplPXQuc2l6ZX1mdW5jdGlvbiBvZSh0KXt0aGlzLl9pdGVyPXQsdGhpcy5zaXplPXQuc2l6ZX1mdW5jdGlvbiB1ZSh0KXt0aGlzLl9pdGVyPXQsdGhpcy5zaXplPXQuc2l6ZX1mdW5jdGlvbiBhZSh0KXt2YXIgZT1MZSh0KTtyZXR1cm4gZS5faXRlcj10LGUuc2l6ZT10LnNpemUsZS5mbGlwPWZ1bmN0aW9uKCl7cmV0dXJuIHR9LGUucmV2ZXJzZT1mdW5jdGlvbigpe3ZhciBlPXQucmV2ZXJzZS5hcHBseSh0aGlzKTtyZXR1cm4gZS5mbGlwPWZ1bmN0aW9uKCl7cmV0dXJuIHQucmV2ZXJzZSgpfSxlfSxlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gdC5pbmNsdWRlcyhlKX0sZS5pbmNsdWRlcz1mdW5jdGlvbihlKXtyZXR1cm4gdC5oYXMoZSl9LGUuY2FjaGVSZXN1bHQ9VGUsZS5fX2l0ZXJhdGVVbmNhY2hlZD1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXM7cmV0dXJuIHQuX19pdGVyYXRlKGZ1bmN0aW9uKHQsbil7cmV0dXJuITEhPT1lKG4sdCxyKX0sbil9LGUuX19pdGVyYXRvclVuY2FjaGVkPWZ1bmN0aW9uKGUsbil7aWYoZT09PWJuKXt2YXIgcj10Ll9faXRlcmF0b3IoZSxuKTtyZXR1cm4gbmV3IGIoZnVuY3Rpb24oKXt2YXIgdD1yLm5leHQoKTtpZighdC5kb25lKXt2YXIgZT10LnZhbHVlWzBdO3QudmFsdWVbMF09dC52YWx1ZVsxXSx0LnZhbHVlWzFdPWV9cmV0dXJuIHR9KX1yZXR1cm4gdC5fX2l0ZXJhdG9yKGU9PT1Tbj9tbjpTbixuKX0sZX1mdW5jdGlvbiBzZSh0LGUsbil7dmFyIHI9TGUodCk7cmV0dXJuIHIuc2l6ZT10LnNpemUsci5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaGFzKGUpfSxyLmdldD1mdW5jdGlvbihyLGkpe3ZhciBvPXQuZ2V0KHIsZ24pO3JldHVybiBvPT09Z24/aTplLmNhbGwobixvLHIsdCl9LHIuX19pdGVyYXRlVW5jYWNoZWQ9ZnVuY3Rpb24ocixpKXt2YXIgbz10aGlzO3JldHVybiB0Ll9faXRlcmF0ZShmdW5jdGlvbih0LGksdSl7cmV0dXJuITEhPT1yKGUuY2FsbChuLHQsaSx1KSxpLG8pfSxpKX0sci5fX2l0ZXJhdG9yVW5jYWNoZWQ9ZnVuY3Rpb24ocixpKXt2YXIgbz10Ll9faXRlcmF0b3IoYm4saSk7cmV0dXJuIG5ldyBiKGZ1bmN0aW9uKCl7dmFyIGk9by5uZXh0KCk7aWYoaS5kb25lKXJldHVybiBpO3ZhciB1PWkudmFsdWUsYT11WzBdO3JldHVybiB3KHIsYSxlLmNhbGwobix1WzFdLGEsdCksaSl9KX0scn1mdW5jdGlvbiBjZSh0LGUpe3ZhciBuPUxlKHQpO3JldHVybiBuLl9pdGVyPXQsbi5zaXplPXQuc2l6ZSxuLnJldmVyc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdH0sdC5mbGlwJiYobi5mbGlwPWZ1bmN0aW9uKCl7dmFyIGU9YWUodCk7cmV0dXJuIGUucmV2ZXJzZT1mdW5jdGlvbigpe3JldHVybiB0LmZsaXAoKX0sZX0pLG4uZ2V0PWZ1bmN0aW9uKG4scil7cmV0dXJuIHQuZ2V0KGU/bjotMS1uLHIpfSxuLmhhcz1mdW5jdGlvbihuKXtyZXR1cm4gdC5oYXMoZT9uOi0xLW4pfSxuLmluY2x1ZGVzPWZ1bmN0aW9uKGUpe3JldHVybiB0LmluY2x1ZGVzKGUpfSxuLmNhY2hlUmVzdWx0PVRlLG4uX19pdGVyYXRlPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcztyZXR1cm4gdC5fX2l0ZXJhdGUoZnVuY3Rpb24odCxuKXtyZXR1cm4gZSh0LG4scil9LCFuKX0sbi5fX2l0ZXJhdG9yPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuX19pdGVyYXRvcihlLCFuKX0sbn1mdW5jdGlvbiBsZSh0LGUsbixyKXt2YXIgaT1MZSh0KTtyZXR1cm4gciYmKGkuaGFzPWZ1bmN0aW9uKHIpe3ZhciBpPXQuZ2V0KHIsZ24pO3JldHVybiBpIT09Z24mJiEhZS5jYWxsKG4saSxyLHQpfSxpLmdldD1mdW5jdGlvbihyLGkpe3ZhciBvPXQuZ2V0KHIsZ24pO3JldHVybiBvIT09Z24mJmUuY2FsbChuLG8scix0KT9vOml9KSxpLl9faXRlcmF0ZVVuY2FjaGVkPWZ1bmN0aW9uKGksbyl7dmFyIHU9dGhpcyxhPTA7cmV0dXJuIHQuX19pdGVyYXRlKGZ1bmN0aW9uKHQsbyxzKXtpZihlLmNhbGwobix0LG8scykpcmV0dXJuIGErKyxpKHQscj9vOmEtMSx1KX0sbyksYX0saS5fX2l0ZXJhdG9yVW5jYWNoZWQ9ZnVuY3Rpb24oaSxvKXt2YXIgdT10Ll9faXRlcmF0b3IoYm4sbyksYT0wO3JldHVybiBuZXcgYihmdW5jdGlvbigpe2Zvcig7Oyl7dmFyIG89dS5uZXh0KCk7aWYoby5kb25lKXJldHVybiBvO3ZhciBzPW8udmFsdWUsYz1zWzBdLGw9c1sxXTtpZihlLmNhbGwobixsLGMsdCkpcmV0dXJuIHcoaSxyP2M6YSsrLGwsbyl9fSl9LGl9ZnVuY3Rpb24gZmUodCxlLG4pe3ZhciByPWZ0KCkuYXNNdXRhYmxlKCk7cmV0dXJuIHQuX19pdGVyYXRlKGZ1bmN0aW9uKGksbyl7ci51cGRhdGUoZS5jYWxsKG4saSxvLHQpLDAsZnVuY3Rpb24odCl7cmV0dXJuIHQrMX0pfSksci5hc0ltbXV0YWJsZSgpfWZ1bmN0aW9uIHBlKHQsZSxuKXt2YXIgcj11KHQpLGk9KGModCk/WHQoKTpmdCgpKS5hc011dGFibGUoKTt0Ll9faXRlcmF0ZShmdW5jdGlvbihvLHUpe2kudXBkYXRlKGUuY2FsbChuLG8sdSx0KSxmdW5jdGlvbih0KXtyZXR1cm4gdD10fHxbXSx0LnB1c2gocj9bdSxvXTpvKSx0fSl9KTt2YXIgbz1rZSh0KTtyZXR1cm4gaS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEVlKHQsbyhlKSl9KX1mdW5jdGlvbiBoZSh0LGUsbixyKXt2YXIgaT10LnNpemU7aWYodm9pZCAwIT09ZSYmKGV8PTApLHZvaWQgMCE9PW4mJihufD0wKSx2KGUsbixpKSlyZXR1cm4gdDt2YXIgbz1fKGUsaSksdT1tKG4saSk7aWYobyE9PW98fHUhPT11KXJldHVybiBoZSh0LnRvU2VxKCkuY2FjaGVSZXN1bHQoKSxlLG4scik7dmFyIGEscz11LW87cz09PXMmJihhPXM8MD8wOnMpO3ZhciBjPUxlKHQpO3JldHVybiBjLnNpemU9MD09PWE/YTp0LnNpemUmJmF8fHZvaWQgMCwhciYmQih0KSYmYT49MCYmKGMuZ2V0PWZ1bmN0aW9uKGUsbil7cmV0dXJuIGU9eSh0aGlzLGUpLGU+PTAmJmU8YT90LmdldChlK28sbik6bn0pLGMuX19pdGVyYXRlVW5jYWNoZWQ9ZnVuY3Rpb24oZSxuKXt2YXIgaT10aGlzO2lmKDA9PT1hKXJldHVybiAwO2lmKG4pcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZSxuKTt2YXIgdT0wLHM9ITAsYz0wO3JldHVybiB0Ll9faXRlcmF0ZShmdW5jdGlvbih0LG4pe2lmKCFzfHwhKHM9dSsrPG8pKXJldHVybiBjKyssITEhPT1lKHQscj9uOmMtMSxpKSYmYyE9PWF9KSxjfSxjLl9faXRlcmF0b3JVbmNhY2hlZD1mdW5jdGlvbihlLG4pe2lmKDAhPT1hJiZuKXJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcihlLG4pO3ZhciBpPTAhPT1hJiZ0Ll9faXRlcmF0b3IoZSxuKSx1PTAscz0wO3JldHVybiBuZXcgYihmdW5jdGlvbigpe2Zvcig7dSsrPG87KWkubmV4dCgpO2lmKCsrcz5hKXJldHVybiBNKCk7dmFyIHQ9aS5uZXh0KCk7cmV0dXJuIHJ8fGU9PT1Tbj90OmU9PT1tbj93KGUscy0xLHZvaWQgMCx0KTp3KGUscy0xLHQudmFsdWVbMV0sdCl9KX0sY31mdW5jdGlvbiBkZSh0LGUsbil7dmFyIHI9TGUodCk7cmV0dXJuIHIuX19pdGVyYXRlVW5jYWNoZWQ9ZnVuY3Rpb24ocixpKXt2YXIgbz10aGlzO2lmKGkpcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUocixpKTt2YXIgdT0wO3JldHVybiB0Ll9faXRlcmF0ZShmdW5jdGlvbih0LGksYSl7cmV0dXJuIGUuY2FsbChuLHQsaSxhKSYmKyt1JiZyKHQsaSxvKX0pLHV9LHIuX19pdGVyYXRvclVuY2FjaGVkPWZ1bmN0aW9uKHIsaSl7dmFyIG89dGhpcztpZihpKXJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcihyLGkpO3ZhciB1PXQuX19pdGVyYXRvcihibixpKSxhPSEwO3JldHVybiBuZXcgYihmdW5jdGlvbigpe2lmKCFhKXJldHVybiBNKCk7dmFyIHQ9dS5uZXh0KCk7aWYodC5kb25lKXJldHVybiB0O3ZhciBpPXQudmFsdWUscz1pWzBdLGM9aVsxXTtyZXR1cm4gZS5jYWxsKG4sYyxzLG8pP3I9PT1ibj90OncocixzLGMsdCk6KGE9ITEsTSgpKX0pfSxyfWZ1bmN0aW9uIHllKHQsZSxuLHIpe3ZhciBpPUxlKHQpO3JldHVybiBpLl9faXRlcmF0ZVVuY2FjaGVkPWZ1bmN0aW9uKGksbyl7dmFyIHU9dGhpcztpZihvKXJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGksbyk7dmFyIGE9ITAscz0wO3JldHVybiB0Ll9faXRlcmF0ZShmdW5jdGlvbih0LG8sYyl7aWYoIWF8fCEoYT1lLmNhbGwobix0LG8sYykpKXJldHVybiBzKyssaSh0LHI/bzpzLTEsdSl9KSxzfSxpLl9faXRlcmF0b3JVbmNhY2hlZD1mdW5jdGlvbihpLG8pe3ZhciB1PXRoaXM7aWYobylyZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IoaSxvKTt2YXIgYT10Ll9faXRlcmF0b3IoYm4sbykscz0hMCxjPTA7cmV0dXJuIG5ldyBiKGZ1bmN0aW9uKCl7dmFyIHQsbyxsO2Rve2lmKHQ9YS5uZXh0KCksdC5kb25lKXJldHVybiByfHxpPT09U24/dDppPT09bW4/dyhpLGMrKyx2b2lkIDAsdCk6dyhpLGMrKyx0LnZhbHVlWzFdLHQpO3ZhciBmPXQudmFsdWU7bz1mWzBdLGw9ZlsxXSxzJiYocz1lLmNhbGwobixsLG8sdSkpfXdoaWxlKHMpO3JldHVybiBpPT09Ym4/dDp3KGksbyxsLHQpfSl9LGl9ZnVuY3Rpb24gZ2UodCxlKXt2YXIgcj11KHQpLGk9W3RdLmNvbmNhdChlKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG8odCk/ciYmKHQ9bih0KSk6dD1yP0sodCk6UChBcnJheS5pc0FycmF5KHQpP3Q6W3RdKSx0fSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiAwIT09dC5zaXplfSk7aWYoMD09PWkubGVuZ3RoKXJldHVybiB0O2lmKDE9PT1pLmxlbmd0aCl7dmFyIHM9aVswXTtpZihzPT09dHx8ciYmdShzKXx8YSh0KSYmYShzKSlyZXR1cm4gc312YXIgYz1uZXcgQyhpKTtyZXR1cm4gcj9jPWMudG9LZXllZFNlcSgpOmEodCl8fChjPWMudG9TZXRTZXEoKSksYz1jLmZsYXR0ZW4oITApLGMuc2l6ZT1pLnJlZHVjZShmdW5jdGlvbih0LGUpe2lmKHZvaWQgMCE9PXQpe3ZhciBuPWUuc2l6ZTtpZih2b2lkIDAhPT1uKXJldHVybiB0K259fSwwKSxjfWZ1bmN0aW9uIHZlKHQsZSxuKXt2YXIgcj1MZSh0KTtyZXR1cm4gci5fX2l0ZXJhdGVVbmNhY2hlZD1mdW5jdGlvbihyLGkpe2Z1bmN0aW9uIHUodCxjKXt2YXIgbD10aGlzO3QuX19pdGVyYXRlKGZ1bmN0aW9uKHQsaSl7cmV0dXJuKCFlfHxjPGUpJiZvKHQpP3UodCxjKzEpOiExPT09cih0LG4/aTphKyssbCkmJihzPSEwKSwhc30saSl9dmFyIGE9MCxzPSExO3JldHVybiB1KHQsMCksYX0sci5fX2l0ZXJhdG9yVW5jYWNoZWQ9ZnVuY3Rpb24ocixpKXt2YXIgdT10Ll9faXRlcmF0b3IocixpKSxhPVtdLHM9MDtyZXR1cm4gbmV3IGIoZnVuY3Rpb24oKXtmb3IoO3U7KXt2YXIgdD11Lm5leHQoKTtpZighMT09PXQuZG9uZSl7dmFyIGM9dC52YWx1ZTtpZihyPT09Ym4mJihjPWNbMV0pLGUmJiEoYS5sZW5ndGg8ZSl8fCFvKGMpKXJldHVybiBuP3Q6dyhyLHMrKyxjLHQpO2EucHVzaCh1KSx1PWMuX19pdGVyYXRvcihyLGkpfWVsc2UgdT1hLnBvcCgpfXJldHVybiBNKCl9KX0scn1mdW5jdGlvbiBfZSh0LGUsbil7dmFyIHI9a2UodCk7cmV0dXJuIHQudG9TZXEoKS5tYXAoZnVuY3Rpb24oaSxvKXtyZXR1cm4gcihlLmNhbGwobixpLG8sdCkpfSkuZmxhdHRlbighMCl9ZnVuY3Rpb24gbWUodCxlKXt2YXIgbj1MZSh0KTtyZXR1cm4gbi5zaXplPXQuc2l6ZSYmMip0LnNpemUtMSxuLl9faXRlcmF0ZVVuY2FjaGVkPWZ1bmN0aW9uKG4scil7dmFyIGk9dGhpcyxvPTA7cmV0dXJuIHQuX19pdGVyYXRlKGZ1bmN0aW9uKHQscil7cmV0dXJuKCFvfHwhMSE9PW4oZSxvKyssaSkpJiYhMSE9PW4odCxvKyssaSl9LHIpLG99LG4uX19pdGVyYXRvclVuY2FjaGVkPWZ1bmN0aW9uKG4scil7dmFyIGksbz10Ll9faXRlcmF0b3IoU24sciksdT0wO3JldHVybiBuZXcgYihmdW5jdGlvbigpe3JldHVybighaXx8dSUyKSYmKGk9by5uZXh0KCksaS5kb25lKT9pOnUlMj93KG4sdSsrLGUpOncobix1KyssaS52YWx1ZSxpKX0pfSxufWZ1bmN0aW9uIFNlKHQsZSxuKXtlfHwoZT1EZSk7dmFyIHI9dSh0KSxpPTAsbz10LnRvU2VxKCkubWFwKGZ1bmN0aW9uKGUscil7cmV0dXJuW3IsZSxpKyssbj9uKGUscix0KTplXX0pLnRvQXJyYXkoKTtyZXR1cm4gby5zb3J0KGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUodFszXSxuWzNdKXx8dFsyXS1uWzJdfSkuZm9yRWFjaChyP2Z1bmN0aW9uKHQsZSl7b1tlXS5sZW5ndGg9Mn06ZnVuY3Rpb24odCxlKXtvW2VdPXRbMV19KSxyP0Qobyk6YSh0KT9PKG8pOk4obyl9ZnVuY3Rpb24gYmUodCxlLG4pe2lmKGV8fChlPURlKSxuKXt2YXIgcj10LnRvU2VxKCkubWFwKGZ1bmN0aW9uKGUscil7cmV0dXJuW2UsbihlLHIsdCldfSkucmVkdWNlKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHdlKGUsdFsxXSxuWzFdKT9uOnR9KTtyZXR1cm4gciYmclswXX1yZXR1cm4gdC5yZWR1Y2UoZnVuY3Rpb24odCxuKXtyZXR1cm4gd2UoZSx0LG4pP246dH0pfWZ1bmN0aW9uIHdlKHQsZSxuKXt2YXIgcj10KG4sZSk7cmV0dXJuIDA9PT1yJiZuIT09ZSYmKHZvaWQgMD09PW58fG51bGw9PT1ufHxuIT09bil8fHI+MH1mdW5jdGlvbiBNZSh0LG4scil7dmFyIGk9TGUodCk7cmV0dXJuIGkuc2l6ZT1uZXcgQyhyKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2l6ZX0pLm1pbigpLGkuX19pdGVyYXRlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLHI9dGhpcy5fX2l0ZXJhdG9yKFNuLGUpLGk9MDshKG49ci5uZXh0KCkpLmRvbmUmJiExIT09dChuLnZhbHVlLGkrKyx0aGlzKTspO3JldHVybiBpfSxpLl9faXRlcmF0b3JVbmNhY2hlZD1mdW5jdGlvbih0LGkpe3ZhciBvPXIubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0PWUodCksSShpP3QucmV2ZXJzZSgpOnQpfSksdT0wLGE9ITE7cmV0dXJuIG5ldyBiKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGF8fChlPW8ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5leHQoKX0pLGE9ZS5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRvbmV9KSksYT9NKCk6dyh0LHUrKyxuLmFwcGx5KG51bGwsZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudmFsdWV9KSkpfSl9LGl9ZnVuY3Rpb24gRWUodCxlKXtyZXR1cm4gQih0KT9lOnQuY29uc3RydWN0b3IoZSl9ZnVuY3Rpb24geGUodCl7aWYodCE9PU9iamVjdCh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgW0ssIFZdIHR1cGxlOiBcIit0KX1mdW5jdGlvbiBJZSh0KXtyZXR1cm4gbHQodC5zaXplKSxkKHQpfWZ1bmN0aW9uIGtlKHQpe3JldHVybiB1KHQpP246YSh0KT9yOml9ZnVuY3Rpb24gTGUodCl7cmV0dXJuIE9iamVjdC5jcmVhdGUoKHUodCk/RDphKHQpP086TikucHJvdG90eXBlKX1mdW5jdGlvbiBUZSgpe3JldHVybiB0aGlzLl9pdGVyLmNhY2hlUmVzdWx0Pyh0aGlzLl9pdGVyLmNhY2hlUmVzdWx0KCksdGhpcy5zaXplPXRoaXMuX2l0ZXIuc2l6ZSx0aGlzKTpULnByb3RvdHlwZS5jYWNoZVJlc3VsdC5jYWxsKHRoaXMpfWZ1bmN0aW9uIERlKHQsZSl7cmV0dXJuIHQ+ZT8xOnQ8ZT8tMTowfWZ1bmN0aW9uIE9lKHQpe3ZhciBuPUkodCk7aWYoIW4pe2lmKCFMKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBpdGVyYWJsZSBvciBhcnJheS1saWtlOiBcIit0KTtuPUkoZSh0KSl9cmV0dXJuIG59ZnVuY3Rpb24gTmUodCxlKXt2YXIgbixyPWZ1bmN0aW9uKG8pe2lmKG8gaW5zdGFuY2VvZiByKXJldHVybiBvO2lmKCEodGhpcyBpbnN0YW5jZW9mIHIpKXJldHVybiBuZXcgcihvKTtpZighbil7bj0hMDt2YXIgdT1PYmplY3Qua2V5cyh0KTtBZShpLHUpLGkuc2l6ZT11Lmxlbmd0aCxpLl9uYW1lPWUsaS5fa2V5cz11LGkuX2RlZmF1bHRWYWx1ZXM9dH10aGlzLl9tYXA9ZnQobyl9LGk9ci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShKbik7cmV0dXJuIGkuY29uc3RydWN0b3I9cixyfWZ1bmN0aW9uIENlKHQsZSxuKXt2YXIgcj1PYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSk7cmV0dXJuIHIuX21hcD1lLHIuX19vd25lcklEPW4scn1mdW5jdGlvbiBqZSh0KXtyZXR1cm4gdC5fbmFtZXx8dC5jb25zdHJ1Y3Rvci5uYW1lfHxcIlJlY29yZFwifWZ1bmN0aW9uIEFlKHQsZSl7dHJ5e2UuZm9yRWFjaCh6ZS5iaW5kKHZvaWQgMCx0KSl9Y2F0Y2godCl7fX1mdW5jdGlvbiB6ZSh0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChlKX0sc2V0OmZ1bmN0aW9uKHQpe1godGhpcy5fX293bmVySUQsXCJDYW5ub3Qgc2V0IG9uIGFuIGltbXV0YWJsZSByZWNvcmQuXCIpLHRoaXMuc2V0KGUsdCl9fSl9ZnVuY3Rpb24gQmUodCl7cmV0dXJuIG51bGw9PT10fHx2b2lkIDA9PT10P1VlKCk6UmUodCkmJiFjKHQpP3Q6VWUoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKGUpe3ZhciBuPWkodCk7bHQobi5zaXplKSxuLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUuYWRkKHQpfSl9KX1mdW5jdGlvbiBSZSh0KXtyZXR1cm4hKCF0fHwhdFtYbl0pfWZ1bmN0aW9uIEtlKHQsZSl7cmV0dXJuIHQuX19vd25lcklEPyh0LnNpemU9ZS5zaXplLHQuX21hcD1lLHQpOmU9PT10Ll9tYXA/dDowPT09ZS5zaXplP3QuX19lbXB0eSgpOnQuX19tYWtlKGUpfWZ1bmN0aW9uIFBlKHQsZSl7dmFyIG49T2JqZWN0LmNyZWF0ZSgkbik7cmV0dXJuIG4uc2l6ZT10P3Quc2l6ZTowLG4uX21hcD10LG4uX19vd25lcklEPWUsbn1mdW5jdGlvbiBVZSgpe3JldHVybiB0cnx8KHRyPVBlKHd0KCkpKX1mdW5jdGlvbiBGZSh0KXtyZXR1cm4gbnVsbD09PXR8fHZvaWQgMD09PXQ/cWUoKTpZZSh0KT90OnFlKCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbihlKXt2YXIgbj1pKHQpO2x0KG4uc2l6ZSksbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmFkZCh0KX0pfSl9ZnVuY3Rpb24gWWUodCl7cmV0dXJuIFJlKHQpJiZjKHQpfWZ1bmN0aW9uIEhlKHQsZSl7dmFyIG49T2JqZWN0LmNyZWF0ZShlcik7cmV0dXJuIG4uc2l6ZT10P3Quc2l6ZTowLG4uX21hcD10LG4uX19vd25lcklEPWUsbn1mdW5jdGlvbiBxZSgpe3JldHVybiBucnx8KG5yPUhlKGVlKCkpKX1mdW5jdGlvbiBXZSh0KXtyZXR1cm4gbnVsbD09PXR8fHZvaWQgMD09PXQ/UWUoKTpHZSh0KT90OlFlKCkudW5zaGlmdEFsbCh0KX1mdW5jdGlvbiBHZSh0KXtyZXR1cm4hKCF0fHwhdFtycl0pfWZ1bmN0aW9uIFZlKHQsZSxuLHIpe3ZhciBpPU9iamVjdC5jcmVhdGUoaXIpO3JldHVybiBpLnNpemU9dCxpLl9oZWFkPWUsaS5fX293bmVySUQ9bixpLl9faGFzaD1yLGkuX19hbHRlcmVkPSExLGl9ZnVuY3Rpb24gUWUoKXtyZXR1cm4gb3J8fChvcj1WZSgwKSl9ZnVuY3Rpb24gWmUodCxlKXt2YXIgbj1mdW5jdGlvbihuKXt0LnByb3RvdHlwZVtuXT1lW25dfTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaChuKSxPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiZPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpLmZvckVhY2gobiksdH1mdW5jdGlvbiBKZSh0LGUpe3JldHVybiBlfWZ1bmN0aW9uIFhlKHQsZSl7cmV0dXJuW2UsdF19ZnVuY3Rpb24gJGUodCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiB0bih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4tdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIGVuKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P0pTT04uc3RyaW5naWZ5KHQpOnR9ZnVuY3Rpb24gbm4oKXtyZXR1cm4gaChhcmd1bWVudHMpfWZ1bmN0aW9uIHJuKHQsZSl7cmV0dXJuIHQ8ZT8xOnQ+ZT8tMTowfWZ1bmN0aW9uIG9uKHQpe2lmKHQuc2l6ZT09PTEvMClyZXR1cm4gMDt2YXIgZT1jKHQpLG49dSh0KSxyPWU/MTowO3JldHVybiB1bih0Ll9faXRlcmF0ZShuP2U/ZnVuY3Rpb24odCxlKXtyPTMxKnIrYW4ob3QodCksb3QoZSkpfDB9OmZ1bmN0aW9uKHQsZSl7cj1yK2FuKG90KHQpLG90KGUpKXwwfTplP2Z1bmN0aW9uKHQpe3I9MzEqcitvdCh0KXwwfTpmdW5jdGlvbih0KXtyPXIrb3QodCl8MH0pLHIpfWZ1bmN0aW9uIHVuKHQsZSl7cmV0dXJuIGU9RG4oZSwzNDMyOTE4MzUzKSxlPURuKGU8PDE1fGU+Pj4tMTUsNDYxODQ1OTA3KSxlPURuKGU8PDEzfGU+Pj4tMTMsNSksZT0oZSszODY0MjkyMTk2fDApXnQsZT1EbihlXmU+Pj4xNiwyMjQ2ODIyNTA3KSxlPURuKGVeZT4+PjEzLDMyNjY0ODk5MDkpLGU9aXQoZV5lPj4+MTYpfWZ1bmN0aW9uIGFuKHQsZSl7cmV0dXJuIHReZSsyNjU0NDM1NzY5Kyh0PDw2KSsodD4+Mil8MH12YXIgc249QXJyYXkucHJvdG90eXBlLnNsaWNlO3QobixlKSx0KHIsZSksdChpLGUpLGUuaXNJdGVyYWJsZT1vLGUuaXNLZXllZD11LGUuaXNJbmRleGVkPWEsZS5pc0Fzc29jaWF0aXZlPXMsZS5pc09yZGVyZWQ9YyxlLktleWVkPW4sZS5JbmRleGVkPXIsZS5TZXQ9aTt2YXIgY249XCJAQF9fSU1NVVRBQkxFX0lURVJBQkxFX19AQFwiLGxuPVwiQEBfX0lNTVVUQUJMRV9LRVlFRF9fQEBcIixmbj1cIkBAX19JTU1VVEFCTEVfSU5ERVhFRF9fQEBcIixwbj1cIkBAX19JTU1VVEFCTEVfT1JERVJFRF9fQEBcIixobj01LGRuPTE8PGhuLHluPWRuLTEsZ249e30sdm49e3ZhbHVlOiExfSxfbj17dmFsdWU6ITF9LG1uPTAsU249MSxibj0yLHduPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLE1uPVwiQEBpdGVyYXRvclwiLEVuPXdufHxNbjtiLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW0l0ZXJhdG9yXVwifSxiLktFWVM9bW4sYi5WQUxVRVM9U24sYi5FTlRSSUVTPWJuLGIucHJvdG90eXBlLmluc3BlY3Q9Yi5wcm90b3R5cGUudG9Tb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b1N0cmluZygpfSxiLnByb3RvdHlwZVtFbl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdChULGUpLFQub2Y9ZnVuY3Rpb24oKXtyZXR1cm4gVChhcmd1bWVudHMpfSxULnByb3RvdHlwZS50b1NlcT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxULnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fdG9TdHJpbmcoXCJTZXEge1wiLFwifVwiKX0sVC5wcm90b3R5cGUuY2FjaGVSZXN1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fY2FjaGUmJnRoaXMuX19pdGVyYXRlVW5jYWNoZWQmJih0aGlzLl9jYWNoZT10aGlzLmVudHJ5U2VxKCkudG9BcnJheSgpLHRoaXMuc2l6ZT10aGlzLl9jYWNoZS5sZW5ndGgpLHRoaXN9LFQucHJvdG90eXBlLl9faXRlcmF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBZKHRoaXMsdCxlLCEwKX0sVC5wcm90b3R5cGUuX19pdGVyYXRvcj1mdW5jdGlvbih0LGUpe3JldHVybiBIKHRoaXMsdCxlLCEwKX0sdChELFQpLEQucHJvdG90eXBlLnRvS2V5ZWRTZXE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdChPLFQpLE8ub2Y9ZnVuY3Rpb24oKXtyZXR1cm4gTyhhcmd1bWVudHMpfSxPLnByb3RvdHlwZS50b0luZGV4ZWRTZXE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sTy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX3RvU3RyaW5nKFwiU2VxIFtcIixcIl1cIil9LE8ucHJvdG90eXBlLl9faXRlcmF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBZKHRoaXMsdCxlLCExKX0sTy5wcm90b3R5cGUuX19pdGVyYXRvcj1mdW5jdGlvbih0LGUpe3JldHVybiBIKHRoaXMsdCxlLCExKX0sdChOLFQpLE4ub2Y9ZnVuY3Rpb24oKXtyZXR1cm4gTihhcmd1bWVudHMpfSxOLnByb3RvdHlwZS50b1NldFNlcT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxULmlzU2VxPUIsVC5LZXllZD1ELFQuU2V0PU4sVC5JbmRleGVkPU87dmFyIHhuPVwiQEBfX0lNTVVUQUJMRV9TRVFfX0BAXCI7VC5wcm90b3R5cGVbeG5dPSEwLHQoQyxPKSxDLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5oYXModCk/dGhpcy5fYXJyYXlbeSh0aGlzLHQpXTplfSxDLnByb3RvdHlwZS5fX2l0ZXJhdGU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5fYXJyYXkscj1uLmxlbmd0aC0xLGk9MDtpPD1yO2krKylpZighMT09PXQobltlP3ItaTppXSxpLHRoaXMpKXJldHVybiBpKzE7cmV0dXJuIGl9LEMucHJvdG90eXBlLl9faXRlcmF0b3I9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9hcnJheSxyPW4ubGVuZ3RoLTEsaT0wO3JldHVybiBuZXcgYihmdW5jdGlvbigpe3JldHVybiBpPnI/TSgpOncodCxpLG5bZT9yLWkrKzppKytdKX0pfSx0KGosRCksai5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWV8fHRoaXMuaGFzKHQpP3RoaXMuX29iamVjdFt0XTplfSxqLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX29iamVjdC5oYXNPd25Qcm9wZXJ0eSh0KX0sai5wcm90b3R5cGUuX19pdGVyYXRlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuX29iamVjdCxyPXRoaXMuX2tleXMsaT1yLmxlbmd0aC0xLG89MDtvPD1pO28rKyl7dmFyIHU9cltlP2ktbzpvXTtpZighMT09PXQoblt1XSx1LHRoaXMpKXJldHVybiBvKzF9cmV0dXJuIG99LGoucHJvdG90eXBlLl9faXRlcmF0b3I9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9vYmplY3Qscj10aGlzLl9rZXlzLGk9ci5sZW5ndGgtMSxvPTA7cmV0dXJuIG5ldyBiKGZ1bmN0aW9uKCl7dmFyIHU9cltlP2ktbzpvXTtyZXR1cm4gbysrPmk/TSgpOncodCx1LG5bdV0pfSl9LGoucHJvdG90eXBlW3BuXT0hMCx0KEEsTyksQS5wcm90b3R5cGUuX19pdGVyYXRlVW5jYWNoZWQ9ZnVuY3Rpb24odCxlKXtpZihlKXJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKHQsZSk7dmFyIG49dGhpcy5faXRlcmFibGUscj1JKG4pLGk9MDtpZih4KHIpKWZvcih2YXIgbzshKG89ci5uZXh0KCkpLmRvbmUmJiExIT09dChvLnZhbHVlLGkrKyx0aGlzKTspO3JldHVybiBpfSxBLnByb3RvdHlwZS5fX2l0ZXJhdG9yVW5jYWNoZWQ9ZnVuY3Rpb24odCxlKXtpZihlKXJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0LGUpO3ZhciBuPXRoaXMuX2l0ZXJhYmxlLHI9SShuKTtpZigheChyKSlyZXR1cm4gbmV3IGIoTSk7dmFyIGk9MDtyZXR1cm4gbmV3IGIoZnVuY3Rpb24oKXt2YXIgZT1yLm5leHQoKTtyZXR1cm4gZS5kb25lP2U6dyh0LGkrKyxlLnZhbHVlKX0pfSx0KHosTyksei5wcm90b3R5cGUuX19pdGVyYXRlVW5jYWNoZWQ9ZnVuY3Rpb24odCxlKXtpZihlKXJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKHQsZSk7Zm9yKHZhciBuPXRoaXMuX2l0ZXJhdG9yLHI9dGhpcy5faXRlcmF0b3JDYWNoZSxpPTA7aTxyLmxlbmd0aDspaWYoITE9PT10KHJbaV0saSsrLHRoaXMpKXJldHVybiBpO2Zvcih2YXIgbzshKG89bi5uZXh0KCkpLmRvbmU7KXt2YXIgdT1vLnZhbHVlO2lmKHJbaV09dSwhMT09PXQodSxpKyssdGhpcykpYnJlYWt9cmV0dXJuIGl9LHoucHJvdG90eXBlLl9faXRlcmF0b3JVbmNhY2hlZD1mdW5jdGlvbih0LGUpe2lmKGUpcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHQsZSk7dmFyIG49dGhpcy5faXRlcmF0b3Iscj10aGlzLl9pdGVyYXRvckNhY2hlLGk9MDtyZXR1cm4gbmV3IGIoZnVuY3Rpb24oKXtpZihpPj1yLmxlbmd0aCl7dmFyIGU9bi5uZXh0KCk7aWYoZS5kb25lKXJldHVybiBlO3JbaV09ZS52YWx1ZX1yZXR1cm4gdyh0LGkscltpKytdKX0pfTt2YXIgSW47dChKLE8pLEoucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLnNpemU/XCJSZXBlYXQgW11cIjpcIlJlcGVhdCBbIFwiK3RoaXMuX3ZhbHVlK1wiIFwiK3RoaXMuc2l6ZStcIiB0aW1lcyBdXCJ9LEoucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmhhcyh0KT90aGlzLl92YWx1ZTplfSxKLnByb3RvdHlwZS5pbmNsdWRlcz1mdW5jdGlvbih0KXtyZXR1cm4gUSh0aGlzLl92YWx1ZSx0KX0sSi5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnNpemU7cmV0dXJuIHYodCxlLG4pP3RoaXM6bmV3IEoodGhpcy5fdmFsdWUsbShlLG4pLV8odCxuKSl9LEoucHJvdG90eXBlLnJldmVyc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sSi5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbih0KXtyZXR1cm4gUSh0aGlzLl92YWx1ZSx0KT8wOi0xfSxKLnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbih0KXtyZXR1cm4gUSh0aGlzLl92YWx1ZSx0KT90aGlzLnNpemU6LTF9LEoucHJvdG90eXBlLl9faXRlcmF0ZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dGhpcy5zaXplO24rKylpZighMT09PXQodGhpcy5fdmFsdWUsbix0aGlzKSlyZXR1cm4gbisxO3JldHVybiBufSxKLnByb3RvdHlwZS5fX2l0ZXJhdG9yPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPTA7cmV0dXJuIG5ldyBiKGZ1bmN0aW9uKCl7cmV0dXJuIHI8bi5zaXplP3codCxyKyssbi5fdmFsdWUpOk0oKX0pfSxKLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBKP1EodGhpcy5fdmFsdWUsdC5fdmFsdWUpOloodCl9O3ZhciBrbjt0KCQsTyksJC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuc2l6ZT9cIlJhbmdlIFtdXCI6XCJSYW5nZSBbIFwiK3RoaXMuX3N0YXJ0K1wiLi4uXCIrdGhpcy5fZW5kKyh0aGlzLl9zdGVwPjE/XCIgYnkgXCIrdGhpcy5fc3RlcDpcIlwiKStcIiBdXCJ9LCQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmhhcyh0KT90aGlzLl9zdGFydCt5KHRoaXMsdCkqdGhpcy5fc3RlcDplfSwkLnByb3RvdHlwZS5pbmNsdWRlcz1mdW5jdGlvbih0KXt2YXIgZT0odC10aGlzLl9zdGFydCkvdGhpcy5fc3RlcDtyZXR1cm4gZT49MCYmZTx0aGlzLnNpemUmJmU9PT1NYXRoLmZsb29yKGUpfSwkLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe3JldHVybiB2KHQsZSx0aGlzLnNpemUpP3RoaXM6KHQ9Xyh0LHRoaXMuc2l6ZSksZT1tKGUsdGhpcy5zaXplKSxlPD10P25ldyAkKDAsMCk6bmV3ICQodGhpcy5nZXQodCx0aGlzLl9lbmQpLHRoaXMuZ2V0KGUsdGhpcy5fZW5kKSx0aGlzLl9zdGVwKSl9LCQucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24odCl7dmFyIGU9dC10aGlzLl9zdGFydDtpZihlJXRoaXMuX3N0ZXA9PTApe3ZhciBuPWUvdGhpcy5fc3RlcDtpZihuPj0wJiZuPHRoaXMuc2l6ZSlyZXR1cm4gbn1yZXR1cm4tMX0sJC5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW5kZXhPZih0KX0sJC5wcm90b3R5cGUuX19pdGVyYXRlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuc2l6ZS0xLHI9dGhpcy5fc3RlcCxpPWU/dGhpcy5fc3RhcnQrbipyOnRoaXMuX3N0YXJ0LG89MDtvPD1uO28rKyl7aWYoITE9PT10KGksbyx0aGlzKSlyZXR1cm4gbysxO2krPWU/LXI6cn1yZXR1cm4gb30sJC5wcm90b3R5cGUuX19pdGVyYXRvcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuc2l6ZS0xLHI9dGhpcy5fc3RlcCxpPWU/dGhpcy5fc3RhcnQrbipyOnRoaXMuX3N0YXJ0LG89MDtyZXR1cm4gbmV3IGIoZnVuY3Rpb24oKXt2YXIgdT1pO3JldHVybiBpKz1lPy1yOnIsbz5uP00oKTp3KHQsbysrLHUpfSl9LCQucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mICQ/dGhpcy5fc3RhcnQ9PT10Ll9zdGFydCYmdGhpcy5fZW5kPT09dC5fZW5kJiZ0aGlzLl9zdGVwPT09dC5fc3RlcDpaKHRoaXMsdCl9O3ZhciBMbjt0KHR0LGUpLHQoZXQsdHQpLHQobnQsdHQpLHQocnQsdHQpLHR0LktleWVkPWV0LHR0LkluZGV4ZWQ9bnQsdHQuU2V0PXJ0O3ZhciBUbixEbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBNYXRoLmltdWwmJi0yPT09TWF0aC5pbXVsKDQyOTQ5NjcyOTUsMik/TWF0aC5pbXVsOmZ1bmN0aW9uKHQsZSl7dHw9MCxlfD0wO3ZhciBuPTY1NTM1JnQscj02NTUzNSZlO3JldHVybiBuKnIrKCh0Pj4+MTYpKnIrbiooZT4+PjE2KTw8MTY+Pj4wKXwwfSxPbj1PYmplY3QuaXNFeHRlbnNpYmxlLE5uPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sXCJAXCIse30pLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxDbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBXZWFrTWFwO0NuJiYoVG49bmV3IFdlYWtNYXApO3ZhciBqbj0wLEFuPVwiX19pbW11dGFibGVoYXNoX19cIjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihBbj1TeW1ib2woQW4pKTt2YXIgem49MTYsQm49MjU1LFJuPTAsS249e307dChmdCxldCksZnQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX190b1N0cmluZyhcIk1hcCB7XCIsXCJ9XCIpfSxmdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3Jvb3Q/dGhpcy5fcm9vdC5nZXQoMCx2b2lkIDAsdCxlKTplfSxmdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE10KHRoaXMsdCxlKX0sZnQucHJvdG90eXBlLnNldEluPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudXBkYXRlSW4odCxnbixmdW5jdGlvbigpe3JldHVybiBlfSl9LGZ0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7cmV0dXJuIE10KHRoaXMsdCxnbil9LGZ0LnByb3RvdHlwZS5kZWxldGVJbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy51cGRhdGVJbih0LGZ1bmN0aW9uKCl7cmV0dXJuIGdufSl9LGZ0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90KHRoaXMpOnRoaXMudXBkYXRlSW4oW3RdLGUsbil9LGZ0LnByb3RvdHlwZS51cGRhdGVJbj1mdW5jdGlvbih0LGUsbil7bnx8KG49ZSxlPXZvaWQgMCk7dmFyIHI9anQodGhpcyxPZSh0KSxlLG4pO3JldHVybiByPT09Z24/dm9pZCAwOnJ9LGZ0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5zaXplP3RoaXM6dGhpcy5fX293bmVySUQ/KHRoaXMuc2l6ZT0wLHRoaXMuX3Jvb3Q9bnVsbCx0aGlzLl9faGFzaD12b2lkIDAsdGhpcy5fX2FsdGVyZWQ9ITAsdGhpcyk6d3QoKX0sZnQucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKCl7cmV0dXJuIER0KHRoaXMsdm9pZCAwLGFyZ3VtZW50cyl9LGZ0LnByb3RvdHlwZS5tZXJnZVdpdGg9ZnVuY3Rpb24odCl7cmV0dXJuIER0KHRoaXMsdCxzbi5jYWxsKGFyZ3VtZW50cywxKSl9LGZ0LnByb3RvdHlwZS5tZXJnZUluPWZ1bmN0aW9uKHQpe3ZhciBlPXNuLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiB0aGlzLnVwZGF0ZUluKHQsd3QoKSxmdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm1lcmdlP3QubWVyZ2UuYXBwbHkodCxlKTplW2UubGVuZ3RoLTFdfSl9LGZ0LnByb3RvdHlwZS5tZXJnZURlZXA9ZnVuY3Rpb24oKXtyZXR1cm4gRHQodGhpcyxPdCxhcmd1bWVudHMpfSxmdC5wcm90b3R5cGUubWVyZ2VEZWVwV2l0aD1mdW5jdGlvbih0KXt2YXIgZT1zbi5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gRHQodGhpcyxOdCh0KSxlKX0sZnQucHJvdG90eXBlLm1lcmdlRGVlcEluPWZ1bmN0aW9uKHQpe3ZhciBlPXNuLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiB0aGlzLnVwZGF0ZUluKHQsd3QoKSxmdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm1lcmdlRGVlcD90Lm1lcmdlRGVlcC5hcHBseSh0LGUpOmVbZS5sZW5ndGgtMV19KX0sZnQucHJvdG90eXBlLnNvcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIFh0KFNlKHRoaXMsdCkpfSxmdC5wcm90b3R5cGUuc29ydEJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFh0KFNlKHRoaXMsZSx0KSl9LGZ0LnByb3RvdHlwZS53aXRoTXV0YXRpb25zPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYXNNdXRhYmxlKCk7cmV0dXJuIHQoZSksZS53YXNBbHRlcmVkKCk/ZS5fX2Vuc3VyZU93bmVyKHRoaXMuX19vd25lcklEKTp0aGlzfSxmdC5wcm90b3R5cGUuYXNNdXRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19vd25lcklEP3RoaXM6dGhpcy5fX2Vuc3VyZU93bmVyKG5ldyBwKX0sZnQucHJvdG90eXBlLmFzSW1tdXRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19lbnN1cmVPd25lcigpfSxmdC5wcm90b3R5cGUud2FzQWx0ZXJlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fYWx0ZXJlZH0sZnQucHJvdG90eXBlLl9faXRlcmF0b3I9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IF90KHRoaXMsdCxlKX0sZnQucHJvdG90eXBlLl9faXRlcmF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj0wO3JldHVybiB0aGlzLl9yb290JiZ0aGlzLl9yb290Lml0ZXJhdGUoZnVuY3Rpb24oZSl7cmV0dXJuIHIrKyx0KGVbMV0sZVswXSxuKX0sZSkscn0sZnQucHJvdG90eXBlLl9fZW5zdXJlT3duZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT10aGlzLl9fb3duZXJJRD90aGlzOnQ/YnQodGhpcy5zaXplLHRoaXMuX3Jvb3QsdCx0aGlzLl9faGFzaCk6KHRoaXMuX19vd25lcklEPXQsdGhpcy5fX2FsdGVyZWQ9ITEsdGhpcyl9LGZ0LmlzTWFwPXB0O3ZhciBQbj1cIkBAX19JTU1VVEFCTEVfTUFQX19AQFwiLFVuPWZ0LnByb3RvdHlwZTtVbltQbl09ITAsVW4uZGVsZXRlPVVuLnJlbW92ZSxVbi5yZW1vdmVJbj1Vbi5kZWxldGVJbixodC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgaT10aGlzLmVudHJpZXMsbz0wLHU9aS5sZW5ndGg7bzx1O28rKylpZihRKG4saVtvXVswXSkpcmV0dXJuIGlbb11bMV07cmV0dXJuIHJ9LGh0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLG4scixpLG8sdSl7Zm9yKHZhciBhPWk9PT1nbixzPXRoaXMuZW50cmllcyxjPTAsbD1zLmxlbmd0aDtjPGwmJiFRKHIsc1tjXVswXSk7YysrKTt2YXIgcD1jPGw7aWYocD9zW2NdWzFdPT09aTphKXJldHVybiB0aGlzO2lmKGYodSksKGF8fCFwKSYmZihvKSwhYXx8MSE9PXMubGVuZ3RoKXtpZighcCYmIWEmJnMubGVuZ3RoPj1ZbilyZXR1cm4ga3QodCxzLHIsaSk7dmFyIGQ9dCYmdD09PXRoaXMub3duZXJJRCx5PWQ/czpoKHMpO3JldHVybiBwP2E/Yz09PWwtMT95LnBvcCgpOnlbY109eS5wb3AoKTp5W2NdPVtyLGldOnkucHVzaChbcixpXSksZD8odGhpcy5lbnRyaWVzPXksdGhpcyk6bmV3IGh0KHQseSl9fSxkdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PWUmJihlPW90KG4pKTt2YXIgaT0xPDwoKDA9PT10P2U6ZT4+PnQpJnluKSxvPXRoaXMuYml0bWFwO3JldHVybiAwPT0obyZpKT9yOnRoaXMubm9kZXNbQXQobyZpLTEpXS5nZXQodCtobixlLG4scil9LGR0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLG4scixpLG8sdSl7dm9pZCAwPT09biYmKG49b3QocikpO3ZhciBhPSgwPT09ZT9uOm4+Pj5lKSZ5bixzPTE8PGEsYz10aGlzLmJpdG1hcCxsPTAhPShjJnMpO2lmKCFsJiZpPT09Z24pcmV0dXJuIHRoaXM7dmFyIGY9QXQoYyZzLTEpLHA9dGhpcy5ub2RlcyxoPWw/cFtmXTp2b2lkIDAsZD1FdChoLHQsZStobixuLHIsaSxvLHUpO2lmKGQ9PT1oKXJldHVybiB0aGlzO2lmKCFsJiZkJiZwLmxlbmd0aD49SG4pcmV0dXJuIFR0KHQscCxjLGEsZCk7aWYobCYmIWQmJjI9PT1wLmxlbmd0aCYmeHQocFsxXmZdKSlyZXR1cm4gcFsxXmZdO2lmKGwmJmQmJjE9PT1wLmxlbmd0aCYmeHQoZCkpcmV0dXJuIGQ7dmFyIHk9dCYmdD09PXRoaXMub3duZXJJRCxnPWw/ZD9jOmNeczpjfHMsdj1sP2Q/enQocCxmLGQseSk6UnQocCxmLHkpOkJ0KHAsZixkLHkpO3JldHVybiB5Pyh0aGlzLmJpdG1hcD1nLHRoaXMubm9kZXM9dix0aGlzKTpuZXcgZHQodCxnLHYpfSx5dC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PWUmJihlPW90KG4pKTt2YXIgaT0oMD09PXQ/ZTplPj4+dCkmeW4sbz10aGlzLm5vZGVzW2ldO3JldHVybiBvP28uZ2V0KHQraG4sZSxuLHIpOnJ9LHl0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLG4scixpLG8sdSl7dm9pZCAwPT09biYmKG49b3QocikpO3ZhciBhPSgwPT09ZT9uOm4+Pj5lKSZ5bixzPWk9PT1nbixjPXRoaXMubm9kZXMsbD1jW2FdO2lmKHMmJiFsKXJldHVybiB0aGlzO3ZhciBmPUV0KGwsdCxlK2huLG4scixpLG8sdSk7aWYoZj09PWwpcmV0dXJuIHRoaXM7dmFyIHA9dGhpcy5jb3VudDtpZihsKXtpZighZiYmLS1wPHFuKXJldHVybiBMdCh0LGMscCxhKX1lbHNlIHArKzt2YXIgaD10JiZ0PT09dGhpcy5vd25lcklELGQ9enQoYyxhLGYsaCk7cmV0dXJuIGg/KHRoaXMuY291bnQ9cCx0aGlzLm5vZGVzPWQsdGhpcyk6bmV3IHl0KHQscCxkKX0sZ3QucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIGk9dGhpcy5lbnRyaWVzLG89MCx1PWkubGVuZ3RoO288dTtvKyspaWYoUShuLGlbb11bMF0pKXJldHVybiBpW29dWzFdO3JldHVybiByfSxndC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxuLHIsaSxvLHUpe3ZvaWQgMD09PW4mJihuPW90KHIpKTt2YXIgYT1pPT09Z247aWYobiE9PXRoaXMua2V5SGFzaClyZXR1cm4gYT90aGlzOihmKHUpLGYobyksSXQodGhpcyx0LGUsbixbcixpXSkpO2Zvcih2YXIgcz10aGlzLmVudHJpZXMsYz0wLGw9cy5sZW5ndGg7YzxsJiYhUShyLHNbY11bMF0pO2MrKyk7dmFyIHA9YzxsO2lmKHA/c1tjXVsxXT09PWk6YSlyZXR1cm4gdGhpcztpZihmKHUpLChhfHwhcCkmJmYobyksYSYmMj09PWwpcmV0dXJuIG5ldyB2dCh0LHRoaXMua2V5SGFzaCxzWzFeY10pO3ZhciBkPXQmJnQ9PT10aGlzLm93bmVySUQseT1kP3M6aChzKTtyZXR1cm4gcD9hP2M9PT1sLTE/eS5wb3AoKTp5W2NdPXkucG9wKCk6eVtjXT1bcixpXTp5LnB1c2goW3IsaV0pLGQ/KHRoaXMuZW50cmllcz15LHRoaXMpOm5ldyBndCh0LHRoaXMua2V5SGFzaCx5KX0sdnQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gUShuLHRoaXMuZW50cnlbMF0pP3RoaXMuZW50cnlbMV06cn0sdnQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUsbixyLGksbyx1KXt2YXIgYT1pPT09Z24scz1RKHIsdGhpcy5lbnRyeVswXSk7cmV0dXJuKHM/aT09PXRoaXMuZW50cnlbMV06YSk/dGhpczooZih1KSxhP3ZvaWQgZihvKTpzP3QmJnQ9PT10aGlzLm93bmVySUQ/KHRoaXMuZW50cnlbMV09aSx0aGlzKTpuZXcgdnQodCx0aGlzLmtleUhhc2gsW3IsaV0pOihmKG8pLEl0KHRoaXMsdCxlLG90KHIpLFtyLGldKSkpfSxodC5wcm90b3R5cGUuaXRlcmF0ZT1ndC5wcm90b3R5cGUuaXRlcmF0ZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLmVudHJpZXMscj0wLGk9bi5sZW5ndGgtMTtyPD1pO3IrKylpZighMT09PXQobltlP2ktcjpyXSkpcmV0dXJuITF9LGR0LnByb3RvdHlwZS5pdGVyYXRlPXl0LnByb3RvdHlwZS5pdGVyYXRlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMubm9kZXMscj0wLGk9bi5sZW5ndGgtMTtyPD1pO3IrKyl7dmFyIG89bltlP2ktcjpyXTtpZihvJiYhMT09PW8uaXRlcmF0ZSh0LGUpKXJldHVybiExfX0sdnQucHJvdG90eXBlLml0ZXJhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCh0aGlzLmVudHJ5KX0sdChfdCxiKSxfdC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl90eXBlLGU9dGhpcy5fc3RhY2s7ZTspe3ZhciBuLHI9ZS5ub2RlLGk9ZS5pbmRleCsrO2lmKHIuZW50cnkpe2lmKDA9PT1pKXJldHVybiBtdCh0LHIuZW50cnkpfWVsc2UgaWYoci5lbnRyaWVzKXtpZihuPXIuZW50cmllcy5sZW5ndGgtMSxpPD1uKXJldHVybiBtdCh0LHIuZW50cmllc1t0aGlzLl9yZXZlcnNlP24taTppXSl9ZWxzZSBpZihuPXIubm9kZXMubGVuZ3RoLTEsaTw9bil7dmFyIG89ci5ub2Rlc1t0aGlzLl9yZXZlcnNlP24taTppXTtpZihvKXtpZihvLmVudHJ5KXJldHVybiBtdCh0LG8uZW50cnkpO2U9dGhpcy5fc3RhY2s9U3QobyxlKX1jb250aW51ZX1lPXRoaXMuX3N0YWNrPXRoaXMuX3N0YWNrLl9fcHJldn1yZXR1cm4gTSgpfTt2YXIgRm4sWW49ZG4vNCxIbj1kbi8yLHFuPWRuLzQ7dChLdCxudCksS3Qub2Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcyhhcmd1bWVudHMpfSxLdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX3RvU3RyaW5nKFwiTGlzdCBbXCIsXCJdXCIpfSxLdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7aWYoKHQ9eSh0aGlzLHQpKT49MCYmdDx0aGlzLnNpemUpe3QrPXRoaXMuX29yaWdpbjt2YXIgbj1WdCh0aGlzLHQpO3JldHVybiBuJiZuLmFycmF5W3QmeW5dfXJldHVybiBlfSxLdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHF0KHRoaXMsdCxlKX0sS3QucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXModCk/MD09PXQ/dGhpcy5zaGlmdCgpOnQ9PT10aGlzLnNpemUtMT90aGlzLnBvcCgpOnRoaXMuc3BsaWNlKHQsMSk6dGhpc30sS3QucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNwbGljZSh0LDAsZSl9LEt0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5zaXplP3RoaXM6dGhpcy5fX293bmVySUQ/KHRoaXMuc2l6ZT10aGlzLl9vcmlnaW49dGhpcy5fY2FwYWNpdHk9MCx0aGlzLl9sZXZlbD1obix0aGlzLl9yb290PXRoaXMuX3RhaWw9bnVsbCx0aGlzLl9faGFzaD12b2lkIDAsdGhpcy5fX2FsdGVyZWQ9ITAsdGhpcyk6SHQoKX0sS3QucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMsZT10aGlzLnNpemU7cmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbihuKXtRdChuLDAsZSt0Lmxlbmd0aCk7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspbi5zZXQoZStyLHRbcl0pfSl9LEt0LnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXtyZXR1cm4gUXQodGhpcywwLC0xKX0sS3QucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHM7cmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbihlKXtRdChlLC10Lmxlbmd0aCk7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspZS5zZXQobix0W25dKX0pfSxLdC5wcm90b3R5cGUuc2hpZnQ9ZnVuY3Rpb24oKXtyZXR1cm4gUXQodGhpcywxKX0sS3QucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKCl7cmV0dXJuIFp0KHRoaXMsdm9pZCAwLGFyZ3VtZW50cyl9LEt0LnByb3RvdHlwZS5tZXJnZVdpdGg9ZnVuY3Rpb24odCl7cmV0dXJuIFp0KHRoaXMsdCxzbi5jYWxsKGFyZ3VtZW50cywxKSl9LEt0LnByb3RvdHlwZS5tZXJnZURlZXA9ZnVuY3Rpb24oKXtyZXR1cm4gWnQodGhpcyxPdCxhcmd1bWVudHMpfSxLdC5wcm90b3R5cGUubWVyZ2VEZWVwV2l0aD1mdW5jdGlvbih0KXt2YXIgZT1zbi5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gWnQodGhpcyxOdCh0KSxlKX0sS3QucHJvdG90eXBlLnNldFNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIFF0KHRoaXMsMCx0KX0sS3QucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5zaXplO3JldHVybiB2KHQsZSxuKT90aGlzOlF0KHRoaXMsXyh0LG4pLG0oZSxuKSl9LEt0LnByb3RvdHlwZS5fX2l0ZXJhdG9yPWZ1bmN0aW9uKHQsZSl7dmFyIG49MCxyPUZ0KHRoaXMsZSk7cmV0dXJuIG5ldyBiKGZ1bmN0aW9uKCl7dmFyIGU9cigpO3JldHVybiBlPT09UW4/TSgpOncodCxuKyssZSl9KX0sS3QucHJvdG90eXBlLl9faXRlcmF0ZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbixyPTAsaT1GdCh0aGlzLGUpOyhuPWkoKSkhPT1RbiYmITEhPT10KG4scisrLHRoaXMpOyk7cmV0dXJuIHJ9LEt0LnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dGhpcy5fX293bmVySUQ/dGhpczp0P1l0KHRoaXMuX29yaWdpbix0aGlzLl9jYXBhY2l0eSx0aGlzLl9sZXZlbCx0aGlzLl9yb290LHRoaXMuX3RhaWwsdCx0aGlzLl9faGFzaCk6KHRoaXMuX19vd25lcklEPXQsdGhpcyl9LEt0LmlzTGlzdD1QdDt2YXIgV249XCJAQF9fSU1NVVRBQkxFX0xJU1RfX0BAXCIsR249S3QucHJvdG90eXBlO0duW1duXT0hMCxHbi5kZWxldGU9R24ucmVtb3ZlLEduLnNldEluPVVuLnNldEluLEduLmRlbGV0ZUluPUduLnJlbW92ZUluPVVuLnJlbW92ZUluLEduLnVwZGF0ZT1Vbi51cGRhdGUsR24udXBkYXRlSW49VW4udXBkYXRlSW4sR24ubWVyZ2VJbj1Vbi5tZXJnZUluLEduLm1lcmdlRGVlcEluPVVuLm1lcmdlRGVlcEluLEduLndpdGhNdXRhdGlvbnM9VW4ud2l0aE11dGF0aW9ucyxHbi5hc011dGFibGU9VW4uYXNNdXRhYmxlLEduLmFzSW1tdXRhYmxlPVVuLmFzSW1tdXRhYmxlLEduLndhc0FsdGVyZWQ9VW4ud2FzQWx0ZXJlZCxVdC5wcm90b3R5cGUucmVtb3ZlQmVmb3JlPWZ1bmN0aW9uKHQsZSxuKXtpZihuPT09ZT8xPDxlOjA9PT10aGlzLmFycmF5Lmxlbmd0aClyZXR1cm4gdGhpczt2YXIgcj1uPj4+ZSZ5bjtpZihyPj10aGlzLmFycmF5Lmxlbmd0aClyZXR1cm4gbmV3IFV0KFtdLHQpO3ZhciBpLG89MD09PXI7aWYoZT4wKXt2YXIgdT10aGlzLmFycmF5W3JdO2lmKChpPXUmJnUucmVtb3ZlQmVmb3JlKHQsZS1obixuKSk9PT11JiZvKXJldHVybiB0aGlzfWlmKG8mJiFpKXJldHVybiB0aGlzO3ZhciBhPUd0KHRoaXMsdCk7aWYoIW8pZm9yKHZhciBzPTA7czxyO3MrKylhLmFycmF5W3NdPXZvaWQgMDtyZXR1cm4gaSYmKGEuYXJyYXlbcl09aSksYX0sVXQucHJvdG90eXBlLnJlbW92ZUFmdGVyPWZ1bmN0aW9uKHQsZSxuKXtpZihuPT09KGU/MTw8ZTowKXx8MD09PXRoaXMuYXJyYXkubGVuZ3RoKXJldHVybiB0aGlzO3ZhciByPW4tMT4+PmUmeW47aWYocj49dGhpcy5hcnJheS5sZW5ndGgpcmV0dXJuIHRoaXM7dmFyIGk7aWYoZT4wKXt2YXIgbz10aGlzLmFycmF5W3JdO2lmKChpPW8mJm8ucmVtb3ZlQWZ0ZXIodCxlLWhuLG4pKT09PW8mJnI9PT10aGlzLmFycmF5Lmxlbmd0aC0xKXJldHVybiB0aGlzfXZhciB1PUd0KHRoaXMsdCk7cmV0dXJuIHUuYXJyYXkuc3BsaWNlKHIrMSksaSYmKHUuYXJyYXlbcl09aSksdX07dmFyIFZuLFFuPXt9O3QoWHQsZnQpLFh0Lm9mPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMoYXJndW1lbnRzKX0sWHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX190b1N0cmluZyhcIk9yZGVyZWRNYXAge1wiLFwifVwiKX0sWHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX21hcC5nZXQodCk7cmV0dXJuIHZvaWQgMCE9PW4/dGhpcy5fbGlzdC5nZXQobilbMV06ZX0sWHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLnNpemU/dGhpczp0aGlzLl9fb3duZXJJRD8odGhpcy5zaXplPTAsdGhpcy5fbWFwLmNsZWFyKCksdGhpcy5fbGlzdC5jbGVhcigpLHRoaXMpOmVlKCl9LFh0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmUodGhpcyx0LGUpfSxYdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3JldHVybiBuZSh0aGlzLHQsZ24pfSxYdC5wcm90b3R5cGUud2FzQWx0ZXJlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXAud2FzQWx0ZXJlZCgpfHx0aGlzLl9saXN0Lndhc0FsdGVyZWQoKX0sWHQucHJvdG90eXBlLl9faXRlcmF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMuX2xpc3QuX19pdGVyYXRlKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZ0KGVbMV0sZVswXSxuKX0sZSl9LFh0LnByb3RvdHlwZS5fX2l0ZXJhdG9yPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2xpc3QuZnJvbUVudHJ5U2VxKCkuX19pdGVyYXRvcih0LGUpfSxYdC5wcm90b3R5cGUuX19lbnN1cmVPd25lcj1mdW5jdGlvbih0KXtpZih0PT09dGhpcy5fX293bmVySUQpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy5fbWFwLl9fZW5zdXJlT3duZXIodCksbj10aGlzLl9saXN0Ll9fZW5zdXJlT3duZXIodCk7cmV0dXJuIHQ/dGUoZSxuLHQsdGhpcy5fX2hhc2gpOih0aGlzLl9fb3duZXJJRD10LHRoaXMuX21hcD1lLHRoaXMuX2xpc3Q9bix0aGlzKX0sWHQuaXNPcmRlcmVkTWFwPSR0LFh0LnByb3RvdHlwZVtwbl09ITAsWHQucHJvdG90eXBlLmRlbGV0ZT1YdC5wcm90b3R5cGUucmVtb3ZlO3ZhciBabjt0KHJlLEQpLHJlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5faXRlci5nZXQodCxlKX0scmUucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faXRlci5oYXModCl9LHJlLnByb3RvdHlwZS52YWx1ZVNlcT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pdGVyLnZhbHVlU2VxKCl9LHJlLnByb3RvdHlwZS5yZXZlcnNlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWNlKHRoaXMsITApO3JldHVybiB0aGlzLl91c2VLZXlzfHwoZS52YWx1ZVNlcT1mdW5jdGlvbigpe3JldHVybiB0Ll9pdGVyLnRvU2VxKCkucmV2ZXJzZSgpfSksZX0scmUucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1zZSh0aGlzLHQsZSk7cmV0dXJuIHRoaXMuX3VzZUtleXN8fChyLnZhbHVlU2VxPWZ1bmN0aW9uKCl7cmV0dXJuIG4uX2l0ZXIudG9TZXEoKS5tYXAodCxlKX0pLHJ9LHJlLnByb3RvdHlwZS5fX2l0ZXJhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbixyPXRoaXM7cmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRlKHRoaXMuX3VzZUtleXM/ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdChlLG4scil9OihuPWU/SWUodGhpcyk6MCxmdW5jdGlvbihpKXtyZXR1cm4gdChpLGU/LS1uOm4rKyxyKX0pLGUpfSxyZS5wcm90b3R5cGUuX19pdGVyYXRvcj1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX3VzZUtleXMpcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRvcih0LGUpO3ZhciBuPXRoaXMuX2l0ZXIuX19pdGVyYXRvcihTbixlKSxyPWU/SWUodGhpcyk6MDtyZXR1cm4gbmV3IGIoZnVuY3Rpb24oKXt2YXIgaT1uLm5leHQoKTtyZXR1cm4gaS5kb25lP2k6dyh0LGU/LS1yOnIrKyxpLnZhbHVlLGkpfSl9LHJlLnByb3RvdHlwZVtwbl09ITAsdChpZSxPKSxpZS5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2l0ZXIuaW5jbHVkZXModCl9LGllLnByb3RvdHlwZS5fX2l0ZXJhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9MDtyZXR1cm4gdGhpcy5faXRlci5fX2l0ZXJhdGUoZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSxyKyssbil9LGUpfSxpZS5wcm90b3R5cGUuX19pdGVyYXRvcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2l0ZXIuX19pdGVyYXRvcihTbixlKSxyPTA7cmV0dXJuIG5ldyBiKGZ1bmN0aW9uKCl7dmFyIGU9bi5uZXh0KCk7cmV0dXJuIGUuZG9uZT9lOncodCxyKyssZS52YWx1ZSxlKX0pfSx0KG9lLE4pLG9lLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2l0ZXIuaW5jbHVkZXModCl9LG9lLnByb3RvdHlwZS5fX2l0ZXJhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0ZShmdW5jdGlvbihlKXtyZXR1cm4gdChlLGUsbil9LGUpfSxvZS5wcm90b3R5cGUuX19pdGVyYXRvcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2l0ZXIuX19pdGVyYXRvcihTbixlKTtyZXR1cm4gbmV3IGIoZnVuY3Rpb24oKXt2YXIgZT1uLm5leHQoKTtyZXR1cm4gZS5kb25lP2U6dyh0LGUudmFsdWUsZS52YWx1ZSxlKX0pfSx0KHVlLEQpLHVlLnByb3RvdHlwZS5lbnRyeVNlcT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pdGVyLnRvU2VxKCl9LHVlLnByb3RvdHlwZS5fX2l0ZXJhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0ZShmdW5jdGlvbihlKXtpZihlKXt4ZShlKTt2YXIgcj1vKGUpO3JldHVybiB0KHI/ZS5nZXQoMSk6ZVsxXSxyP2UuZ2V0KDApOmVbMF0sbil9fSxlKX0sdWUucHJvdG90eXBlLl9faXRlcmF0b3I9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9pdGVyLl9faXRlcmF0b3IoU24sZSk7cmV0dXJuIG5ldyBiKGZ1bmN0aW9uKCl7Zm9yKDs7KXt2YXIgZT1uLm5leHQoKTtpZihlLmRvbmUpcmV0dXJuIGU7dmFyIHI9ZS52YWx1ZTtpZihyKXt4ZShyKTt2YXIgaT1vKHIpO3JldHVybiB3KHQsaT9yLmdldCgwKTpyWzBdLGk/ci5nZXQoMSk6clsxXSxlKX19fSl9LGllLnByb3RvdHlwZS5jYWNoZVJlc3VsdD1yZS5wcm90b3R5cGUuY2FjaGVSZXN1bHQ9b2UucHJvdG90eXBlLmNhY2hlUmVzdWx0PXVlLnByb3RvdHlwZS5jYWNoZVJlc3VsdD1UZSx0KE5lLGV0KSxOZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX3RvU3RyaW5nKGplKHRoaXMpK1wiIHtcIixcIn1cIil9LE5lLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRWYWx1ZXMuaGFzT3duUHJvcGVydHkodCl9LE5lLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXtpZighdGhpcy5oYXModCkpcmV0dXJuIGU7dmFyIG49dGhpcy5fZGVmYXVsdFZhbHVlc1t0XTtyZXR1cm4gdGhpcy5fbWFwP3RoaXMuX21hcC5nZXQodCxuKTpufSxOZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtpZih0aGlzLl9fb3duZXJJRClyZXR1cm4gdGhpcy5fbWFwJiZ0aGlzLl9tYXAuY2xlYXIoKSx0aGlzO3ZhciB0PXRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHQuX2VtcHR5fHwodC5fZW1wdHk9Q2UodGhpcyx3dCgpKSl9LE5lLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXtpZighdGhpcy5oYXModCkpdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc2V0IHVua25vd24ga2V5IFwiJyt0KydcIiBvbiAnK2plKHRoaXMpKTt2YXIgbj10aGlzLl9tYXAmJnRoaXMuX21hcC5zZXQodCxlKTtyZXR1cm4gdGhpcy5fX293bmVySUR8fG49PT10aGlzLl9tYXA/dGhpczpDZSh0aGlzLG4pfSxOZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmhhcyh0KSlyZXR1cm4gdGhpczt2YXIgZT10aGlzLl9tYXAmJnRoaXMuX21hcC5yZW1vdmUodCk7cmV0dXJuIHRoaXMuX19vd25lcklEfHxlPT09dGhpcy5fbWFwP3RoaXM6Q2UodGhpcyxlKX0sTmUucHJvdG90eXBlLndhc0FsdGVyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFwLndhc0FsdGVyZWQoKX0sTmUucHJvdG90eXBlLl9faXRlcmF0b3I9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzO3JldHVybiBuKHRoaXMuX2RlZmF1bHRWYWx1ZXMpLm1hcChmdW5jdGlvbih0LGUpe3JldHVybiByLmdldChlKX0pLl9faXRlcmF0b3IodCxlKX0sTmUucHJvdG90eXBlLl9faXRlcmF0ZT1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXM7cmV0dXJuIG4odGhpcy5fZGVmYXVsdFZhbHVlcykubWFwKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHIuZ2V0KGUpfSkuX19pdGVyYXRlKHQsZSl9LE5lLnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyPWZ1bmN0aW9uKHQpe2lmKHQ9PT10aGlzLl9fb3duZXJJRClyZXR1cm4gdGhpczt2YXIgZT10aGlzLl9tYXAmJnRoaXMuX21hcC5fX2Vuc3VyZU93bmVyKHQpO3JldHVybiB0P0NlKHRoaXMsZSx0KToodGhpcy5fX293bmVySUQ9dCx0aGlzLl9tYXA9ZSx0aGlzKX07dmFyIEpuPU5lLnByb3RvdHlwZTtKbi5kZWxldGU9Sm4ucmVtb3ZlLEpuLmRlbGV0ZUluPUpuLnJlbW92ZUluPVVuLnJlbW92ZUluLEpuLm1lcmdlPVVuLm1lcmdlLEpuLm1lcmdlV2l0aD1Vbi5tZXJnZVdpdGgsSm4ubWVyZ2VJbj1Vbi5tZXJnZUluLEpuLm1lcmdlRGVlcD1Vbi5tZXJnZURlZXAsSm4ubWVyZ2VEZWVwV2l0aD1Vbi5tZXJnZURlZXBXaXRoLEpuLm1lcmdlRGVlcEluPVVuLm1lcmdlRGVlcEluLEpuLnNldEluPVVuLnNldEluLEpuLnVwZGF0ZT1Vbi51cGRhdGUsSm4udXBkYXRlSW49VW4udXBkYXRlSW4sSm4ud2l0aE11dGF0aW9ucz1Vbi53aXRoTXV0YXRpb25zLEpuLmFzTXV0YWJsZT1Vbi5hc011dGFibGUsSm4uYXNJbW11dGFibGU9VW4uYXNJbW11dGFibGUsdChCZSxydCksQmUub2Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcyhhcmd1bWVudHMpfSxCZS5mcm9tS2V5cz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyhuKHQpLmtleVNlcSgpKX0sQmUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX190b1N0cmluZyhcIlNldCB7XCIsXCJ9XCIpfSxCZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9tYXAuaGFzKHQpfSxCZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiBLZSh0aGlzLHRoaXMuX21hcC5zZXQodCwhMCkpfSxCZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3JldHVybiBLZSh0aGlzLHRoaXMuX21hcC5yZW1vdmUodCkpfSxCZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gS2UodGhpcyx0aGlzLl9tYXAuY2xlYXIoKSl9LEJlLnByb3RvdHlwZS51bmlvbj1mdW5jdGlvbigpe3ZhciB0PXNuLmNhbGwoYXJndW1lbnRzLDApO3JldHVybiB0PXQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiAwIT09dC5zaXplfSksMD09PXQubGVuZ3RoP3RoaXM6MCE9PXRoaXMuc2l6ZXx8dGhpcy5fX293bmVySUR8fDEhPT10Lmxlbmd0aD90aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24oZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaSh0W25dKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmFkZCh0KX0pfSk6dGhpcy5jb25zdHJ1Y3Rvcih0WzBdKX0sQmUucHJvdG90eXBlLmludGVyc2VjdD1mdW5jdGlvbigpe3ZhciB0PXNuLmNhbGwoYXJndW1lbnRzLDApO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gdGhpczt0PXQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBpKHQpfSk7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKG4pe2UuZm9yRWFjaChmdW5jdGlvbihlKXt0LmV2ZXJ5KGZ1bmN0aW9uKHQpe3JldHVybiB0LmluY2x1ZGVzKGUpfSl8fG4ucmVtb3ZlKGUpfSl9KX0sQmUucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uKCl7dmFyIHQ9c24uY2FsbChhcmd1bWVudHMsMCk7aWYoMD09PXQubGVuZ3RoKXJldHVybiB0aGlzO3Q9dC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGkodCl9KTt2YXIgZT10aGlzO3JldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24obil7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Quc29tZShmdW5jdGlvbih0KXtyZXR1cm4gdC5pbmNsdWRlcyhlKX0pJiZuLnJlbW92ZShlKX0pfSl9LEJlLnByb3RvdHlwZS5tZXJnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sQmUucHJvdG90eXBlLm1lcmdlV2l0aD1mdW5jdGlvbih0KXt2YXIgZT1zbi5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gdGhpcy51bmlvbi5hcHBseSh0aGlzLGUpfSxCZS5wcm90b3R5cGUuc29ydD1mdW5jdGlvbih0KXtyZXR1cm4gRmUoU2UodGhpcyx0KSl9LEJlLnByb3RvdHlwZS5zb3J0Qnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gRmUoU2UodGhpcyxlLHQpKX0sQmUucHJvdG90eXBlLndhc0FsdGVyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFwLndhc0FsdGVyZWQoKX0sQmUucHJvdG90eXBlLl9faXRlcmF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMuX21hcC5fX2l0ZXJhdGUoZnVuY3Rpb24oZSxyKXtyZXR1cm4gdChyLHIsbil9LGUpfSxCZS5wcm90b3R5cGUuX19pdGVyYXRvcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9tYXAubWFwKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV9KS5fX2l0ZXJhdG9yKHQsZSl9LEJlLnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyPWZ1bmN0aW9uKHQpe2lmKHQ9PT10aGlzLl9fb3duZXJJRClyZXR1cm4gdGhpczt2YXIgZT10aGlzLl9tYXAuX19lbnN1cmVPd25lcih0KTtyZXR1cm4gdD90aGlzLl9fbWFrZShlLHQpOih0aGlzLl9fb3duZXJJRD10LHRoaXMuX21hcD1lLHRoaXMpfSxCZS5pc1NldD1SZTt2YXIgWG49XCJAQF9fSU1NVVRBQkxFX1NFVF9fQEBcIiwkbj1CZS5wcm90b3R5cGU7JG5bWG5dPSEwLCRuLmRlbGV0ZT0kbi5yZW1vdmUsJG4ubWVyZ2VEZWVwPSRuLm1lcmdlLCRuLm1lcmdlRGVlcFdpdGg9JG4ubWVyZ2VXaXRoLCRuLndpdGhNdXRhdGlvbnM9VW4ud2l0aE11dGF0aW9ucywkbi5hc011dGFibGU9VW4uYXNNdXRhYmxlLCRuLmFzSW1tdXRhYmxlPVVuLmFzSW1tdXRhYmxlLCRuLl9fZW1wdHk9VWUsJG4uX19tYWtlPVBlO3ZhciB0cjt0KEZlLEJlKSxGZS5vZj1mdW5jdGlvbigpe3JldHVybiB0aGlzKGFyZ3VtZW50cyl9LEZlLmZyb21LZXlzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzKG4odCkua2V5U2VxKCkpfSxGZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX3RvU3RyaW5nKFwiT3JkZXJlZFNldCB7XCIsXCJ9XCIpfSxGZS5pc09yZGVyZWRTZXQ9WWU7dmFyIGVyPUZlLnByb3RvdHlwZTtlcltwbl09ITAsZXIuX19lbXB0eT1xZSxlci5fX21ha2U9SGU7dmFyIG5yO3QoV2UsbnQpLFdlLm9mPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMoYXJndW1lbnRzKX0sV2UucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX190b1N0cmluZyhcIlN0YWNrIFtcIixcIl1cIil9LFdlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9oZWFkO2Zvcih0PXkodGhpcyx0KTtuJiZ0LS07KW49bi5uZXh0O3JldHVybiBuP24udmFsdWU6ZX0sV2UucHJvdG90eXBlLnBlZWs9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGVhZCYmdGhpcy5faGVhZC52YWx1ZX0sV2UucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcztmb3IodmFyIHQ9dGhpcy5zaXplK2FyZ3VtZW50cy5sZW5ndGgsZT10aGlzLl9oZWFkLG49YXJndW1lbnRzLmxlbmd0aC0xO24+PTA7bi0tKWU9e3ZhbHVlOmFyZ3VtZW50c1tuXSxuZXh0OmV9O3JldHVybiB0aGlzLl9fb3duZXJJRD8odGhpcy5zaXplPXQsdGhpcy5faGVhZD1lLHRoaXMuX19oYXNoPXZvaWQgMCx0aGlzLl9fYWx0ZXJlZD0hMCx0aGlzKTpWZSh0LGUpfSxXZS5wcm90b3R5cGUucHVzaEFsbD1mdW5jdGlvbih0KXtpZih0PXIodCksMD09PXQuc2l6ZSlyZXR1cm4gdGhpcztsdCh0LnNpemUpO3ZhciBlPXRoaXMuc2l6ZSxuPXRoaXMuX2hlYWQ7cmV0dXJuIHQucmV2ZXJzZSgpLmZvckVhY2goZnVuY3Rpb24odCl7ZSsrLG49e3ZhbHVlOnQsbmV4dDpufX0pLHRoaXMuX19vd25lcklEPyh0aGlzLnNpemU9ZSx0aGlzLl9oZWFkPW4sdGhpcy5fX2hhc2g9dm9pZCAwLHRoaXMuX19hbHRlcmVkPSEwLHRoaXMpOlZlKGUsbil9LFdlLnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zbGljZSgxKX0sV2UucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sV2UucHJvdG90eXBlLnVuc2hpZnRBbGw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHVzaEFsbCh0KX0sV2UucHJvdG90eXBlLnNoaWZ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9wLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sV2UucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLnNpemU/dGhpczp0aGlzLl9fb3duZXJJRD8odGhpcy5zaXplPTAsdGhpcy5faGVhZD12b2lkIDAsdGhpcy5fX2hhc2g9dm9pZCAwLHRoaXMuX19hbHRlcmVkPSEwLHRoaXMpOlFlKCl9LFdlLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe2lmKHYodCxlLHRoaXMuc2l6ZSkpcmV0dXJuIHRoaXM7dmFyIG49Xyh0LHRoaXMuc2l6ZSk7aWYobShlLHRoaXMuc2l6ZSkhPT10aGlzLnNpemUpcmV0dXJuIG50LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMsdCxlKTtmb3IodmFyIHI9dGhpcy5zaXplLW4saT10aGlzLl9oZWFkO24tLTspaT1pLm5leHQ7cmV0dXJuIHRoaXMuX19vd25lcklEPyh0aGlzLnNpemU9cix0aGlzLl9oZWFkPWksdGhpcy5fX2hhc2g9dm9pZCAwLHRoaXMuX19hbHRlcmVkPSEwLHRoaXMpOlZlKHIsaSl9LFdlLnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dGhpcy5fX293bmVySUQ/dGhpczp0P1ZlKHRoaXMuc2l6ZSx0aGlzLl9oZWFkLHQsdGhpcy5fX2hhc2gpOih0aGlzLl9fb3duZXJJRD10LHRoaXMuX19hbHRlcmVkPSExLHRoaXMpfSxXZS5wcm90b3R5cGUuX19pdGVyYXRlPWZ1bmN0aW9uKHQsZSl7aWYoZSlyZXR1cm4gdGhpcy5yZXZlcnNlKCkuX19pdGVyYXRlKHQpO2Zvcih2YXIgbj0wLHI9dGhpcy5faGVhZDtyJiYhMSE9PXQoci52YWx1ZSxuKyssdGhpcyk7KXI9ci5uZXh0O3JldHVybiBufSxXZS5wcm90b3R5cGUuX19pdGVyYXRvcj1mdW5jdGlvbih0LGUpe2lmKGUpcmV0dXJuIHRoaXMucmV2ZXJzZSgpLl9faXRlcmF0b3IodCk7dmFyIG49MCxyPXRoaXMuX2hlYWQ7cmV0dXJuIG5ldyBiKGZ1bmN0aW9uKCl7aWYocil7dmFyIGU9ci52YWx1ZTtyZXR1cm4gcj1yLm5leHQsdyh0LG4rKyxlKX1yZXR1cm4gTSgpfSl9LFdlLmlzU3RhY2s9R2U7dmFyIHJyPVwiQEBfX0lNTVVUQUJMRV9TVEFDS19fQEBcIixpcj1XZS5wcm90b3R5cGU7aXJbcnJdPSEwLGlyLndpdGhNdXRhdGlvbnM9VW4ud2l0aE11dGF0aW9ucyxpci5hc011dGFibGU9VW4uYXNNdXRhYmxlLGlyLmFzSW1tdXRhYmxlPVVuLmFzSW1tdXRhYmxlLGlyLndhc0FsdGVyZWQ9VW4ud2FzQWx0ZXJlZDt2YXIgb3I7ZS5JdGVyYXRvcj1iLFplKGUse3RvQXJyYXk6ZnVuY3Rpb24oKXtsdCh0aGlzLnNpemUpO3ZhciB0PW5ldyBBcnJheSh0aGlzLnNpemV8fDApO3JldHVybiB0aGlzLnZhbHVlU2VxKCkuX19pdGVyYXRlKGZ1bmN0aW9uKGUsbil7dFtuXT1lfSksdH0sdG9JbmRleGVkU2VxOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpZSh0aGlzKX0sdG9KUzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvU2VxKCkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnRvSlM/dC50b0pTKCk6dH0pLl9fdG9KUygpfSx0b0pTT046ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b1NlcSgpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC50b0pTT04/dC50b0pTT04oKTp0fSkuX190b0pTKCl9LHRvS2V5ZWRTZXE6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHJlKHRoaXMsITApfSx0b01hcDpmdW5jdGlvbigpe3JldHVybiBmdCh0aGlzLnRvS2V5ZWRTZXEoKSl9LHRvT2JqZWN0OmZ1bmN0aW9uKCl7bHQodGhpcy5zaXplKTt2YXIgdD17fTtyZXR1cm4gdGhpcy5fX2l0ZXJhdGUoZnVuY3Rpb24oZSxuKXt0W25dPWV9KSx0fSx0b09yZGVyZWRNYXA6ZnVuY3Rpb24oKXtyZXR1cm4gWHQodGhpcy50b0tleWVkU2VxKCkpfSx0b09yZGVyZWRTZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRmUodSh0aGlzKT90aGlzLnZhbHVlU2VxKCk6dGhpcyl9LHRvU2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEJlKHUodGhpcyk/dGhpcy52YWx1ZVNlcSgpOnRoaXMpfSx0b1NldFNlcTpmdW5jdGlvbigpe3JldHVybiBuZXcgb2UodGhpcyl9LHRvU2VxOmZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcyk/dGhpcy50b0luZGV4ZWRTZXEoKTp1KHRoaXMpP3RoaXMudG9LZXllZFNlcSgpOnRoaXMudG9TZXRTZXEoKX0sdG9TdGFjazpmdW5jdGlvbigpe3JldHVybiBXZSh1KHRoaXMpP3RoaXMudmFsdWVTZXEoKTp0aGlzKX0sdG9MaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIEt0KHUodGhpcyk/dGhpcy52YWx1ZVNlcSgpOnRoaXMpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiW0l0ZXJhYmxlXVwifSxfX3RvU3RyaW5nOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIDA9PT10aGlzLnNpemU/dCtlOnQrXCIgXCIrdGhpcy50b1NlcSgpLm1hcCh0aGlzLl9fdG9TdHJpbmdNYXBwZXIpLmpvaW4oXCIsIFwiKStcIiBcIitlfSxjb25jYXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRWUodGhpcyxnZSh0aGlzLHNuLmNhbGwoYXJndW1lbnRzLDApKSl9LGluY2x1ZGVzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIFEoZSx0KX0pfSxlbnRyaWVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19pdGVyYXRvcihibil9LGV2ZXJ5OmZ1bmN0aW9uKHQsZSl7bHQodGhpcy5zaXplKTt2YXIgbj0hMDtyZXR1cm4gdGhpcy5fX2l0ZXJhdGUoZnVuY3Rpb24ocixpLG8pe2lmKCF0LmNhbGwoZSxyLGksbykpcmV0dXJuIG49ITEsITF9KSxufSxmaWx0ZXI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gRWUodGhpcyxsZSh0aGlzLHQsZSwhMCkpfSxmaW5kOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLmZpbmRFbnRyeSh0LGUpO3JldHVybiByP3JbMV06bn0sZmluZEVudHJ5OmZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uKHIsaSxvKXtpZih0LmNhbGwoZSxyLGksbykpcmV0dXJuIG49W2kscl0sITF9KSxufSxmaW5kTGFzdEVudHJ5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudG9TZXEoKS5yZXZlcnNlKCkuZmluZEVudHJ5KHQsZSl9LGZvckVhY2g6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbHQodGhpcy5zaXplKSx0aGlzLl9faXRlcmF0ZShlP3QuYmluZChlKTp0KX0sam9pbjpmdW5jdGlvbih0KXtsdCh0aGlzLnNpemUpLHQ9dm9pZCAwIT09dD9cIlwiK3Q6XCIsXCI7dmFyIGU9XCJcIixuPSEwO3JldHVybiB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbihyKXtuP249ITE6ZSs9dCxlKz1udWxsIT09ciYmdm9pZCAwIT09cj9yLnRvU3RyaW5nKCk6XCJcIn0pLGV9LGtleXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2l0ZXJhdG9yKG1uKX0sbWFwOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEVlKHRoaXMsc2UodGhpcyx0LGUpKX0scmVkdWNlOmZ1bmN0aW9uKHQsZSxuKXtsdCh0aGlzLnNpemUpO3ZhciByLGk7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj9pPSEwOnI9ZSx0aGlzLl9faXRlcmF0ZShmdW5jdGlvbihlLG8sdSl7aT8oaT0hMSxyPWUpOnI9dC5jYWxsKG4scixlLG8sdSl9KSxyfSxyZWR1Y2VSaWdodDpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy50b0tleWVkU2VxKCkucmV2ZXJzZSgpO3JldHVybiByLnJlZHVjZS5hcHBseShyLGFyZ3VtZW50cyl9LHJldmVyc2U6ZnVuY3Rpb24oKXtyZXR1cm4gRWUodGhpcyxjZSh0aGlzLCEwKSl9LHNsaWNlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEVlKHRoaXMsaGUodGhpcyx0LGUsITApKX0sc29tZTpmdW5jdGlvbih0LGUpe3JldHVybiF0aGlzLmV2ZXJ5KCRlKHQpLGUpfSxzb3J0OmZ1bmN0aW9uKHQpe3JldHVybiBFZSh0aGlzLFNlKHRoaXMsdCkpfSx2YWx1ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2l0ZXJhdG9yKFNuKX0sYnV0TGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNsaWNlKDAsLTEpfSxpc0VtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuc2l6ZT8wPT09dGhpcy5zaXplOiF0aGlzLnNvbWUoZnVuY3Rpb24oKXtyZXR1cm4hMH0pfSxjb3VudDpmdW5jdGlvbih0LGUpe3JldHVybiBkKHQ/dGhpcy50b1NlcSgpLmZpbHRlcih0LGUpOnRoaXMpfSxjb3VudEJ5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZlKHRoaXMsdCxlKX0sZXF1YWxzOmZ1bmN0aW9uKHQpe3JldHVybiBaKHRoaXMsdCl9LGVudHJ5U2VxOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0Ll9jYWNoZSlyZXR1cm4gbmV3IEModC5fY2FjaGUpO3ZhciBlPXQudG9TZXEoKS5tYXAoWGUpLnRvSW5kZXhlZFNlcSgpO3JldHVybiBlLmZyb21FbnRyeVNlcT1mdW5jdGlvbigpe3JldHVybiB0LnRvU2VxKCl9LGV9LGZpbHRlck5vdDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmZpbHRlcigkZSh0KSxlKX0sZmluZExhc3Q6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLnRvS2V5ZWRTZXEoKS5yZXZlcnNlKCkuZmluZCh0LGUsbil9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmluZChnKX0sZmxhdE1hcDpmdW5jdGlvbih0LGUpe3JldHVybiBFZSh0aGlzLF9lKHRoaXMsdCxlKSl9LGZsYXR0ZW46ZnVuY3Rpb24odCl7cmV0dXJuIEVlKHRoaXMsdmUodGhpcyx0LCEwKSl9LGZyb21FbnRyeVNlcTpmdW5jdGlvbigpe3JldHVybiBuZXcgdWUodGhpcyl9LGdldDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmZpbmQoZnVuY3Rpb24oZSxuKXtyZXR1cm4gUShuLHQpfSx2b2lkIDAsZSl9LGdldEluOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLHI9dGhpcyxpPU9lKHQpOyEobj1pLm5leHQoKSkuZG9uZTspe3ZhciBvPW4udmFsdWU7aWYoKHI9ciYmci5nZXQ/ci5nZXQobyxnbik6Z24pPT09Z24pcmV0dXJuIGV9cmV0dXJuIHJ9LGdyb3VwQnk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gcGUodGhpcyx0LGUpfSxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0KHQsZ24pIT09Z259LGhhc0luOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEluKHQsZ24pIT09Z259LGlzU3Vic2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIHQuaW5jbHVkZXM/dDplKHQpLHRoaXMuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaW5jbHVkZXMoZSl9KX0saXNTdXBlcnNldDpmdW5jdGlvbih0KXtyZXR1cm4gdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmlzU3Vic2V0P3Q6ZSh0KSx0LmlzU3Vic2V0KHRoaXMpfSxrZXlTZXE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b1NlcSgpLm1hcChKZSkudG9JbmRleGVkU2VxKCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b1NlcSgpLnJldmVyc2UoKS5maXJzdCgpfSxtYXg6ZnVuY3Rpb24odCl7cmV0dXJuIGJlKHRoaXMsdCl9LG1heEJ5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGJlKHRoaXMsZSx0KX0sbWluOmZ1bmN0aW9uKHQpe3JldHVybiBiZSh0aGlzLHQ/dG4odCk6cm4pfSxtaW5CeTpmdW5jdGlvbih0LGUpe3JldHVybiBiZSh0aGlzLGU/dG4oZSk6cm4sdCl9LHJlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zbGljZSgxKX0sc2tpcDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zbGljZShNYXRoLm1heCgwLHQpKX0sc2tpcExhc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIEVlKHRoaXMsdGhpcy50b1NlcSgpLnJldmVyc2UoKS5za2lwKHQpLnJldmVyc2UoKSl9LHNraXBXaGlsZTpmdW5jdGlvbih0LGUpe3JldHVybiBFZSh0aGlzLHllKHRoaXMsdCxlLCEwKSl9LHNraXBVbnRpbDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNraXBXaGlsZSgkZSh0KSxlKX0sc29ydEJ5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEVlKHRoaXMsU2UodGhpcyxlLHQpKX0sdGFrZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zbGljZSgwLE1hdGgubWF4KDAsdCkpfSx0YWtlTGFzdDpmdW5jdGlvbih0KXtyZXR1cm4gRWUodGhpcyx0aGlzLnRvU2VxKCkucmV2ZXJzZSgpLnRha2UodCkucmV2ZXJzZSgpKX0sdGFrZVdoaWxlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEVlKHRoaXMsZGUodGhpcyx0LGUpKX0sdGFrZVVudGlsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudGFrZVdoaWxlKCRlKHQpLGUpfSx2YWx1ZVNlcTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvSW5kZXhlZFNlcSgpfSxoYXNoQ29kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9faGFzaHx8KHRoaXMuX19oYXNoPW9uKHRoaXMpKX19KTt2YXIgdXI9ZS5wcm90b3R5cGU7dXJbY25dPSEwLHVyW0VuXT11ci52YWx1ZXMsdXIuX190b0pTPXVyLnRvQXJyYXksdXIuX190b1N0cmluZ01hcHBlcj1lbix1ci5pbnNwZWN0PXVyLnRvU291cmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9TdHJpbmcoKX0sdXIuY2hhaW49dXIuZmxhdE1hcCx1ci5jb250YWlucz11ci5pbmNsdWRlcyxmdW5jdGlvbigpe3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkodXIsXCJsZW5ndGhcIix7Z2V0OmZ1bmN0aW9uKCl7aWYoIWUubm9MZW5ndGhXYXJuaW5nKXt2YXIgdDt0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKGUpe3Q9ZS5zdGFja31pZigtMT09PXQuaW5kZXhPZihcIl93cmFwT2JqZWN0XCIpKXJldHVybiBjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihcIml0ZXJhYmxlLmxlbmd0aCBoYXMgYmVlbiBkZXByZWNhdGVkLCB1c2UgaXRlcmFibGUuc2l6ZSBvciBpdGVyYWJsZS5jb3VudCgpLiBUaGlzIHdhcm5pbmcgd2lsbCBiZWNvbWUgYSBzaWxlbnQgZXJyb3IgaW4gYSBmdXR1cmUgdmVyc2lvbi4gXCIrdCksdGhpcy5zaXplfX19KX1jYXRjaCh0KXt9fSgpLFplKG4se2ZsaXA6ZnVuY3Rpb24oKXtyZXR1cm4gRWUodGhpcyxhZSh0aGlzKSl9LGZpbmRLZXk6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmZpbmRFbnRyeSh0LGUpO3JldHVybiBuJiZuWzBdfSxmaW5kTGFzdEtleTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRvU2VxKCkucmV2ZXJzZSgpLmZpbmRLZXkodCxlKX0sa2V5T2Y6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZmluZEtleShmdW5jdGlvbihlKXtyZXR1cm4gUShlLHQpfSl9LGxhc3RLZXlPZjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5maW5kTGFzdEtleShmdW5jdGlvbihlKXtyZXR1cm4gUShlLHQpfSl9LG1hcEVudHJpZXM6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9MDtyZXR1cm4gRWUodGhpcyx0aGlzLnRvU2VxKCkubWFwKGZ1bmN0aW9uKGksbyl7cmV0dXJuIHQuY2FsbChlLFtvLGldLHIrKyxuKX0pLmZyb21FbnRyeVNlcSgpKX0sbWFwS2V5czpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIEVlKHRoaXMsdGhpcy50b1NlcSgpLmZsaXAoKS5tYXAoZnVuY3Rpb24ocixpKXtyZXR1cm4gdC5jYWxsKGUscixpLG4pfSkuZmxpcCgpKX19KTt2YXIgYXI9bi5wcm90b3R5cGU7cmV0dXJuIGFyW2xuXT0hMCxhcltFbl09dXIuZW50cmllcyxhci5fX3RvSlM9dXIudG9PYmplY3QsYXIuX190b1N0cmluZ01hcHBlcj1mdW5jdGlvbih0LGUpe3JldHVybiBKU09OLnN0cmluZ2lmeShlKStcIjogXCIrZW4odCl9LFplKHIse3RvS2V5ZWRTZXE6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHJlKHRoaXMsITEpfSxmaWx0ZXI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gRWUodGhpcyxsZSh0aGlzLHQsZSwhMSkpfSxmaW5kSW5kZXg6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmZpbmRFbnRyeSh0LGUpO3JldHVybiBuP25bMF06LTF9LGluZGV4T2Y6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy50b0tleWVkU2VxKCkua2V5T2YodCk7cmV0dXJuIHZvaWQgMD09PWU/LTE6ZX0sbGFzdEluZGV4T2Y6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy50b0tleWVkU2VxKCkucmV2ZXJzZSgpLmtleU9mKHQpO3JldHVybiB2b2lkIDA9PT1lPy0xOmV9LHJldmVyc2U6ZnVuY3Rpb24oKXtyZXR1cm4gRWUodGhpcyxjZSh0aGlzLCExKSl9LHNsaWNlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEVlKHRoaXMsaGUodGhpcyx0LGUsITEpKX0sc3BsaWNlOmZ1bmN0aW9uKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aDtpZihlPU1hdGgubWF4KDB8ZSwwKSwwPT09bnx8Mj09PW4mJiFlKXJldHVybiB0aGlzO3Q9Xyh0LHQ8MD90aGlzLmNvdW50KCk6dGhpcy5zaXplKTt2YXIgcj10aGlzLnNsaWNlKDAsdCk7cmV0dXJuIEVlKHRoaXMsMT09PW4/cjpyLmNvbmNhdChoKGFyZ3VtZW50cywyKSx0aGlzLnNsaWNlKHQrZSkpKX0sZmluZExhc3RJbmRleDpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMudG9LZXllZFNlcSgpLmZpbmRMYXN0S2V5KHQsZSk7cmV0dXJuIHZvaWQgMD09PW4/LTE6bn0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoMCl9LGZsYXR0ZW46ZnVuY3Rpb24odCl7cmV0dXJuIEVlKHRoaXMsdmUodGhpcyx0LCExKSl9LGdldDpmdW5jdGlvbih0LGUpe3JldHVybiB0PXkodGhpcyx0KSx0PDB8fHRoaXMuc2l6ZT09PTEvMHx8dm9pZCAwIT09dGhpcy5zaXplJiZ0PnRoaXMuc2l6ZT9lOnRoaXMuZmluZChmdW5jdGlvbihlLG4pe3JldHVybiBuPT09dH0sdm9pZCAwLGUpfSxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuKHQ9eSh0aGlzLHQpKT49MCYmKHZvaWQgMCE9PXRoaXMuc2l6ZT90aGlzLnNpemU9PT0xLzB8fHQ8dGhpcy5zaXplOi0xIT09dGhpcy5pbmRleE9mKHQpKX0saW50ZXJwb3NlOmZ1bmN0aW9uKHQpe3JldHVybiBFZSh0aGlzLG1lKHRoaXMsdCkpfSxpbnRlcmxlYXZlOmZ1bmN0aW9uKCl7dmFyIHQ9W3RoaXNdLmNvbmNhdChoKGFyZ3VtZW50cykpLGU9TWUodGhpcy50b1NlcSgpLE8ub2YsdCksbj1lLmZsYXR0ZW4oITApO3JldHVybiBlLnNpemUmJihuLnNpemU9ZS5zaXplKnQubGVuZ3RoKSxFZSh0aGlzLG4pfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KC0xKX0sc2tpcFdoaWxlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEVlKHRoaXMseWUodGhpcyx0LGUsITEpKX0semlwOmZ1bmN0aW9uKCl7cmV0dXJuIEVlKHRoaXMsTWUodGhpcyxubixbdGhpc10uY29uY2F0KGgoYXJndW1lbnRzKSkpKX0semlwV2l0aDpmdW5jdGlvbih0KXt2YXIgZT1oKGFyZ3VtZW50cyk7cmV0dXJuIGVbMF09dGhpcyxFZSh0aGlzLE1lKHRoaXMsdCxlKSl9fSksci5wcm90b3R5cGVbZm5dPSEwLHIucHJvdG90eXBlW3BuXT0hMCxaZShpLHtnZXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5oYXModCk/dDplfSxpbmNsdWRlczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXModCl9LGtleVNlcTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlU2VxKCl9fSksaS5wcm90b3R5cGUuaGFzPXVyLmluY2x1ZGVzLFplKEQsbi5wcm90b3R5cGUpLFplKE8sci5wcm90b3R5cGUpLFplKE4saS5wcm90b3R5cGUpLFplKGV0LG4ucHJvdG90eXBlKSxaZShudCxyLnByb3RvdHlwZSksWmUocnQsaS5wcm90b3R5cGUpLHtJdGVyYWJsZTplLFNlcTpULENvbGxlY3Rpb246dHQsTWFwOmZ0LE9yZGVyZWRNYXA6WHQsTGlzdDpLdCxTdGFjazpXZSxTZXQ6QmUsT3JkZXJlZFNldDpGZSxSZWNvcmQ6TmUsUmFuZ2U6JCxSZXBlYXQ6SixpczpRLGZyb21KUzpxfX0oKX0oKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlLG4scixvLHUsYSxzKXtpZihpKGUpLCF0KXt2YXIgYztpZih2b2lkIDA9PT1lKWM9bmV3IEVycm9yKFwiTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIik7ZWxzZXt2YXIgbD1bbixyLG8sdSxhLHNdLGY9MDtjPW5ldyBFcnJvcihlLnJlcGxhY2UoLyVzL2csZnVuY3Rpb24oKXtyZXR1cm4gbFtmKytdfSkpLGMubmFtZT1cIkludmFyaWFudCBWaW9sYXRpb25cIn10aHJvdyBjLmZyYW1lc1RvUG9wPTEsY319dmFyIGk9ZnVuY3Rpb24odCl7fTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGkodCxlLG4pe3JldHVybiBFLnNldCh0LHtzZWxlY3Rpb246ZSxmb3JjZVNlbGVjdGlvbjpuLG5hdGl2ZWx5UmVuZGVyZWRDb250ZW50Om51bGwsaW5saW5lU3R5bGVPdmVycmlkZTpudWxsfSl9ZnVuY3Rpb24gbyh0LGUpe3JldHVybiB0LmdldEJsb2NrTWFwKCkubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBkLmdlbmVyYXRlKHQsbixlKX0pLnRvT3JkZXJlZE1hcCgpfWZ1bmN0aW9uIHUodCxlLG4scil7dmFyIGk9dC5nZXRDdXJyZW50Q29udGVudCgpLnNldChcImVudGl0eU1hcFwiLG4pLG89aS5nZXRCbG9ja01hcCgpO3JldHVybiB0LmdldEltbXV0YWJsZSgpLmdldChcInRyZWVNYXBcIikubWVyZ2UoZS50b1NlcSgpLmZpbHRlcihmdW5jdGlvbih0LGUpe3JldHVybiB0IT09by5nZXQoZSl9KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGQuZ2VuZXJhdGUoaSx0LHIpfSkpfWZ1bmN0aW9uIGEodCxlLG4scixpKXtyZXR1cm4gbi5tZXJnZShlLnRvU2VxKCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiByLmdldERlY29yYXRpb25zKGUsdCkhPT1pLmdldERlY29yYXRpb25zKGUsdCl9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGQuZ2VuZXJhdGUodCxlLHIpfSkpfWZ1bmN0aW9uIHModCxlKXtyZXR1cm4gZSE9PXQuZ2V0TGFzdENoYW5nZVR5cGUoKXx8XCJpbnNlcnQtY2hhcmFjdGVyc1wiIT09ZSYmXCJiYWNrc3BhY2UtY2hhcmFjdGVyXCIhPT1lJiZcImRlbGV0ZS1jaGFyYWN0ZXJcIiE9PWV9ZnVuY3Rpb24gYyh0LGUpe3ZhciBuPWUuZ2V0U3RhcnRLZXkoKSxyPWUuZ2V0U3RhcnRPZmZzZXQoKSxpPXQuZ2V0QmxvY2tGb3JLZXkobik7cmV0dXJuIHI+MD9pLmdldElubGluZVN0eWxlQXQoci0xKTppLmdldExlbmd0aCgpP2kuZ2V0SW5saW5lU3R5bGVBdCgwKTpmKHQsbil9ZnVuY3Rpb24gbCh0LGUpe3ZhciBuPWUuZ2V0U3RhcnRLZXkoKSxyPWUuZ2V0U3RhcnRPZmZzZXQoKSxpPXQuZ2V0QmxvY2tGb3JLZXkobik7cmV0dXJuIHI8aS5nZXRMZW5ndGgoKT9pLmdldElubGluZVN0eWxlQXQocik6cj4wP2kuZ2V0SW5saW5lU3R5bGVBdChyLTEpOmYodCxuKX1mdW5jdGlvbiBmKHQsZSl7dmFyIG49dC5nZXRCbG9ja01hcCgpLnJldmVyc2UoKS5za2lwVW50aWwoZnVuY3Rpb24odCxuKXtyZXR1cm4gbj09PWV9KS5za2lwKDEpLnNraXBVbnRpbChmdW5jdGlvbih0LGUpe3JldHVybiB0LmdldExlbmd0aCgpfSkuZmlyc3QoKTtyZXR1cm4gbj9uLmdldElubGluZVN0eWxlQXQobi5nZXRMZW5ndGgoKS0xKTptKCl9dmFyIHA9big5KSxoPXB8fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKHRbcl09bltyXSl9cmV0dXJuIHR9LGQ9bigxMTUpLHk9big4MiksZz1uKDE5MSksdj1uKDApLF89big0NCksbT12Lk9yZGVyZWRTZXQsUz12LlJlY29yZCxiPXYuU3RhY2ssdz17YWxsb3dVbmRvOiEwLGN1cnJlbnRDb250ZW50Om51bGwsZGVjb3JhdG9yOm51bGwsZGlyZWN0aW9uTWFwOm51bGwsZm9yY2VTZWxlY3Rpb246ITEsaW5Db21wb3NpdGlvbk1vZGU6ITEsaW5saW5lU3R5bGVPdmVycmlkZTpudWxsLGxhc3RDaGFuZ2VUeXBlOm51bGwsbmF0aXZlbHlSZW5kZXJlZENvbnRlbnQ6bnVsbCxyZWRvU3RhY2s6YigpLHNlbGVjdGlvbjpudWxsLHRyZWVNYXA6bnVsbCx1bmRvU3RhY2s6YigpfSxNPVModyksRT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7cih0aGlzLHQpLHRoaXMuX2ltbXV0YWJsZT1lfXJldHVybiB0LmNyZWF0ZUVtcHR5PWZ1bmN0aW9uKGUpe3JldHVybiB0LmNyZWF0ZVdpdGhDb250ZW50KHkuY3JlYXRlRnJvbVRleHQoXCJcIiksZSl9LHQuY3JlYXRlV2l0aENvbnRlbnQ9ZnVuY3Rpb24oZSxuKXt2YXIgcj1lLmdldEJsb2NrTWFwKCkuZmlyc3QoKS5nZXRLZXkoKTtyZXR1cm4gdC5jcmVhdGUoe2N1cnJlbnRDb250ZW50OmUsdW5kb1N0YWNrOmIoKSxyZWRvU3RhY2s6YigpLGRlY29yYXRvcjpufHxudWxsLHNlbGVjdGlvbjpfLmNyZWF0ZUVtcHR5KHIpfSl9LHQuY3JlYXRlPWZ1bmN0aW9uKGUpe3ZhciBuPWUuY3VycmVudENvbnRlbnQscj1lLmRlY29yYXRvcixpPWgoe30sZSx7dHJlZU1hcDpvKG4sciksZGlyZWN0aW9uTWFwOmcuZ2V0RGlyZWN0aW9uTWFwKG4pfSk7cmV0dXJuIG5ldyB0KG5ldyBNKGkpKX0sdC5zZXQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gbmV3IHQoZS5nZXRJbW11dGFibGUoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKHQpe3ZhciByPXQuZ2V0KFwiZGVjb3JhdG9yXCIpLGk9cjtudWxsPT09bi5kZWNvcmF0b3I/aT1udWxsOm4uZGVjb3JhdG9yJiYoaT1uLmRlY29yYXRvcik7dmFyIHM9bi5jdXJyZW50Q29udGVudHx8ZS5nZXRDdXJyZW50Q29udGVudCgpO2lmKGkhPT1yKXt2YXIgYyxsPXQuZ2V0KFwidHJlZU1hcFwiKTtyZXR1cm4gYz1pJiZyP2EocyxzLmdldEJsb2NrTWFwKCksbCxpLHIpOm8ocyxpKSx2b2lkIHQubWVyZ2Uoe2RlY29yYXRvcjppLHRyZWVNYXA6YyxuYXRpdmVseVJlbmRlcmVkQ29udGVudDpudWxsfSl9cyE9PWUuZ2V0Q3VycmVudENvbnRlbnQoKSYmdC5zZXQoXCJ0cmVlTWFwXCIsdShlLHMuZ2V0QmxvY2tNYXAoKSxzLmdldEVudGl0eU1hcCgpLGkpKSx0Lm1lcmdlKG4pfSkpfSx0LnByb3RvdHlwZS50b0pTPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW1tdXRhYmxlKCkudG9KUygpfSx0LnByb3RvdHlwZS5nZXRBbGxvd1VuZG89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbW11dGFibGUoKS5nZXQoXCJhbGxvd1VuZG9cIil9LHQucHJvdG90eXBlLmdldEN1cnJlbnRDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW1tdXRhYmxlKCkuZ2V0KFwiY3VycmVudENvbnRlbnRcIil9LHQucHJvdG90eXBlLmdldFVuZG9TdGFjaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEltbXV0YWJsZSgpLmdldChcInVuZG9TdGFja1wiKX0sdC5wcm90b3R5cGUuZ2V0UmVkb1N0YWNrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW1tdXRhYmxlKCkuZ2V0KFwicmVkb1N0YWNrXCIpfSx0LnByb3RvdHlwZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbW11dGFibGUoKS5nZXQoXCJzZWxlY3Rpb25cIil9LHQucHJvdG90eXBlLmdldERlY29yYXRvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEltbXV0YWJsZSgpLmdldChcImRlY29yYXRvclwiKX0sdC5wcm90b3R5cGUuaXNJbkNvbXBvc2l0aW9uTW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEltbXV0YWJsZSgpLmdldChcImluQ29tcG9zaXRpb25Nb2RlXCIpfSx0LnByb3RvdHlwZS5tdXN0Rm9yY2VTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbW11dGFibGUoKS5nZXQoXCJmb3JjZVNlbGVjdGlvblwiKX0sdC5wcm90b3R5cGUuZ2V0TmF0aXZlbHlSZW5kZXJlZENvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbW11dGFibGUoKS5nZXQoXCJuYXRpdmVseVJlbmRlcmVkQ29udGVudFwiKX0sdC5wcm90b3R5cGUuZ2V0TGFzdENoYW5nZVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbW11dGFibGUoKS5nZXQoXCJsYXN0Q2hhbmdlVHlwZVwiKX0sdC5wcm90b3R5cGUuZ2V0SW5saW5lU3R5bGVPdmVycmlkZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEltbXV0YWJsZSgpLmdldChcImlubGluZVN0eWxlT3ZlcnJpZGVcIil9LHQuc2V0SW5saW5lU3R5bGVPdmVycmlkZT1mdW5jdGlvbihlLG4pe3JldHVybiB0LnNldChlLHtpbmxpbmVTdHlsZU92ZXJyaWRlOm59KX0sdC5wcm90b3R5cGUuZ2V0Q3VycmVudElubGluZVN0eWxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRJbmxpbmVTdHlsZU92ZXJyaWRlKCk7aWYobnVsbCE9dClyZXR1cm4gdDt2YXIgZT10aGlzLmdldEN1cnJlbnRDb250ZW50KCksbj10aGlzLmdldFNlbGVjdGlvbigpO3JldHVybiBuLmlzQ29sbGFwc2VkKCk/YyhlLG4pOmwoZSxuKX0sdC5wcm90b3R5cGUuZ2V0QmxvY2tUcmVlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEltbXV0YWJsZSgpLmdldEluKFtcInRyZWVNYXBcIix0XSl9LHQucHJvdG90eXBlLmlzU2VsZWN0aW9uQXRTdGFydE9mQ29udGVudD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0Q3VycmVudENvbnRlbnQoKS5nZXRCbG9ja01hcCgpLmZpcnN0KCkuZ2V0S2V5KCk7cmV0dXJuIHRoaXMuZ2V0U2VsZWN0aW9uKCkuaGFzRWRnZVdpdGhpbih0LDAsMCl9LHQucHJvdG90eXBlLmlzU2VsZWN0aW9uQXRFbmRPZkNvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEN1cnJlbnRDb250ZW50KCksZT10LmdldEJsb2NrTWFwKCksbj1lLmxhc3QoKSxyPW4uZ2V0TGVuZ3RoKCk7cmV0dXJuIHRoaXMuZ2V0U2VsZWN0aW9uKCkuaGFzRWRnZVdpdGhpbihuLmdldEtleSgpLHIscil9LHQucHJvdG90eXBlLmdldERpcmVjdGlvbk1hcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEltbXV0YWJsZSgpLmdldChcImRpcmVjdGlvbk1hcFwiKX0sdC5hY2NlcHRTZWxlY3Rpb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gaSh0LGUsITEpfSx0LmZvcmNlU2VsZWN0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuZ2V0SGFzRm9jdXMoKXx8KGU9ZS5zZXQoXCJoYXNGb2N1c1wiLCEwKSksaSh0LGUsITApfSx0Lm1vdmVTZWxlY3Rpb25Ub0VuZD1mdW5jdGlvbihlKXt2YXIgbj1lLmdldEN1cnJlbnRDb250ZW50KCkscj1uLmdldExhc3RCbG9jaygpLGk9ci5nZXRLZXkoKSxvPXIuZ2V0TGVuZ3RoKCk7cmV0dXJuIHQuYWNjZXB0U2VsZWN0aW9uKGUsbmV3IF8oe2FuY2hvcktleTppLGFuY2hvck9mZnNldDpvLGZvY3VzS2V5OmksZm9jdXNPZmZzZXQ6byxpc0JhY2t3YXJkOiExfSkpfSx0Lm1vdmVGb2N1c1RvRW5kPWZ1bmN0aW9uKGUpe3ZhciBuPXQubW92ZVNlbGVjdGlvblRvRW5kKGUpO3JldHVybiB0LmZvcmNlU2VsZWN0aW9uKG4sbi5nZXRTZWxlY3Rpb24oKSl9LHQucHVzaD1mdW5jdGlvbihlLG4scil7aWYoZS5nZXRDdXJyZW50Q29udGVudCgpPT09bilyZXR1cm4gZTt2YXIgaT1cImluc2VydC1jaGFyYWN0ZXJzXCIhPT1yLG89Zy5nZXREaXJlY3Rpb25NYXAobixlLmdldERpcmVjdGlvbk1hcCgpKTtpZighZS5nZXRBbGxvd1VuZG8oKSlyZXR1cm4gdC5zZXQoZSx7Y3VycmVudENvbnRlbnQ6bixkaXJlY3Rpb25NYXA6byxsYXN0Q2hhbmdlVHlwZTpyLHNlbGVjdGlvbjpuLmdldFNlbGVjdGlvbkFmdGVyKCksZm9yY2VTZWxlY3Rpb246aSxpbmxpbmVTdHlsZU92ZXJyaWRlOm51bGx9KTt2YXIgdT1lLmdldFNlbGVjdGlvbigpLGE9ZS5nZXRDdXJyZW50Q29udGVudCgpLGM9ZS5nZXRVbmRvU3RhY2soKSxsPW47dSE9PWEuZ2V0U2VsZWN0aW9uQWZ0ZXIoKXx8cyhlLHIpPyhjPWMucHVzaChhKSxsPWwuc2V0KFwic2VsZWN0aW9uQmVmb3JlXCIsdSkpOlwiaW5zZXJ0LWNoYXJhY3RlcnNcIiE9PXImJlwiYmFja3NwYWNlLWNoYXJhY3RlclwiIT09ciYmXCJkZWxldGUtY2hhcmFjdGVyXCIhPT1yfHwobD1sLnNldChcInNlbGVjdGlvbkJlZm9yZVwiLGEuZ2V0U2VsZWN0aW9uQmVmb3JlKCkpKTt2YXIgZj1lLmdldElubGluZVN0eWxlT3ZlcnJpZGUoKTstMT09PVtcImFkanVzdC1kZXB0aFwiLFwiY2hhbmdlLWJsb2NrLXR5cGVcIixcInNwbGl0LWJsb2NrXCJdLmluZGV4T2YocikmJihmPW51bGwpO3ZhciBwPXtjdXJyZW50Q29udGVudDpsLGRpcmVjdGlvbk1hcDpvLHVuZG9TdGFjazpjLHJlZG9TdGFjazpiKCksbGFzdENoYW5nZVR5cGU6cixzZWxlY3Rpb246bi5nZXRTZWxlY3Rpb25BZnRlcigpLGZvcmNlU2VsZWN0aW9uOmksaW5saW5lU3R5bGVPdmVycmlkZTpmfTtyZXR1cm4gdC5zZXQoZSxwKX0sdC51bmRvPWZ1bmN0aW9uKGUpe2lmKCFlLmdldEFsbG93VW5kbygpKXJldHVybiBlO3ZhciBuPWUuZ2V0VW5kb1N0YWNrKCkscj1uLnBlZWsoKTtpZighcilyZXR1cm4gZTt2YXIgaT1lLmdldEN1cnJlbnRDb250ZW50KCksbz1nLmdldERpcmVjdGlvbk1hcChyLGUuZ2V0RGlyZWN0aW9uTWFwKCkpO3JldHVybiB0LnNldChlLHtjdXJyZW50Q29udGVudDpyLGRpcmVjdGlvbk1hcDpvLHVuZG9TdGFjazpuLnNoaWZ0KCkscmVkb1N0YWNrOmUuZ2V0UmVkb1N0YWNrKCkucHVzaChpKSxmb3JjZVNlbGVjdGlvbjohMCxpbmxpbmVTdHlsZU92ZXJyaWRlOm51bGwsbGFzdENoYW5nZVR5cGU6XCJ1bmRvXCIsbmF0aXZlbHlSZW5kZXJlZENvbnRlbnQ6bnVsbCxzZWxlY3Rpb246aS5nZXRTZWxlY3Rpb25CZWZvcmUoKX0pfSx0LnJlZG89ZnVuY3Rpb24oZSl7aWYoIWUuZ2V0QWxsb3dVbmRvKCkpcmV0dXJuIGU7dmFyIG49ZS5nZXRSZWRvU3RhY2soKSxyPW4ucGVlaygpO2lmKCFyKXJldHVybiBlO3ZhciBpPWUuZ2V0Q3VycmVudENvbnRlbnQoKSxvPWcuZ2V0RGlyZWN0aW9uTWFwKHIsZS5nZXREaXJlY3Rpb25NYXAoKSk7cmV0dXJuIHQuc2V0KGUse2N1cnJlbnRDb250ZW50OnIsZGlyZWN0aW9uTWFwOm8sdW5kb1N0YWNrOmUuZ2V0VW5kb1N0YWNrKCkucHVzaChpKSxyZWRvU3RhY2s6bi5zaGlmdCgpLGZvcmNlU2VsZWN0aW9uOiEwLGlubGluZVN0eWxlT3ZlcnJpZGU6bnVsbCxsYXN0Q2hhbmdlVHlwZTpcInJlZG9cIixuYXRpdmVseVJlbmRlcmVkQ29udGVudDpudWxsLHNlbGVjdGlvbjpyLmdldFNlbGVjdGlvbkFmdGVyKCl9KX0sdC5wcm90b3R5cGUuZ2V0SW1tdXRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltbXV0YWJsZX0sdH0oKTt0LmV4cG9ydHM9RX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9cmVxdWlyZShcInJlYWN0XCIpfSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjpcIjIuNS43XCJ9O1wibnVtYmVyXCI9PXR5cGVvZiBfX2UmJihfX2U9bil9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDcpLGk9bigxODApLG89bigzMSksdT1uKDApLGE9bigxODEpLHM9bigxODMpLGM9big2MSksbD1uKDE4NiksZj1uKDE4NykscD1uKDEpLGg9bigxODgpLGQ9bigxMTIpLHk9bigxODkpLGc9bigxOTApLHY9dS5PcmRlcmVkU2V0LF89e3JlcGxhY2VUZXh0OmZ1bmN0aW9uKHQsZSxuLGksbyl7dmFyIHU9ZCh0LGUpLGE9eSh1LGUpLHM9ci5jcmVhdGUoe3N0eWxlOml8fHYoKSxlbnRpdHk6b3x8bnVsbH0pO3JldHVybiBmKGEsYS5nZXRTZWxlY3Rpb25BZnRlcigpLG4scyl9LGluc2VydFRleHQ6ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4gZS5pc0NvbGxhcHNlZCgpfHxwKCExKSxfLnJlcGxhY2VUZXh0KHQsZSxuLHIsaSl9LG1vdmVUZXh0OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1jKHQsZSksaT1fLnJlbW92ZVJhbmdlKHQsZSxcImJhY2t3YXJkXCIpO3JldHVybiBfLnJlcGxhY2VXaXRoRnJhZ21lbnQoaSxuLHIpfSxyZXBsYWNlV2l0aEZyYWdtZW50OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1kKHQsZSksaT15KHIsZSk7cmV0dXJuIGwoaSxpLmdldFNlbGVjdGlvbkFmdGVyKCksbil9LHJlbW92ZVJhbmdlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj12b2lkIDAsaT12b2lkIDAsdT12b2lkIDAsYT12b2lkIDA7ZS5nZXRJc0JhY2t3YXJkKCkmJihlPWUubWVyZ2Uoe2FuY2hvcktleTplLmdldEZvY3VzS2V5KCksYW5jaG9yT2Zmc2V0OmUuZ2V0Rm9jdXNPZmZzZXQoKSxmb2N1c0tleTplLmdldEFuY2hvcktleSgpLGZvY3VzT2Zmc2V0OmUuZ2V0QW5jaG9yT2Zmc2V0KCksaXNCYWNrd2FyZDohMX0pKSxyPWUuZ2V0QW5jaG9yS2V5KCksaT1lLmdldEZvY3VzS2V5KCksdT10LmdldEJsb2NrRm9yS2V5KHIpLGE9dC5nZXRCbG9ja0ZvcktleShpKTt2YXIgYz1lLmdldFN0YXJ0T2Zmc2V0KCksbD1lLmdldEVuZE9mZnNldCgpLGY9dS5nZXRFbnRpdHlBdChjKSxwPWEuZ2V0RW50aXR5QXQobC0xKTtpZihyPT09aSYmZiYmZj09PXApe3ZhciBoPXModC5nZXRFbnRpdHlNYXAoKSx1LGEsZSxuKTtyZXR1cm4geSh0LGgpfXZhciBnPWU7by5kcmFmdF9zZWdtZW50ZWRfZW50aXRpZXNfYmVoYXZpb3ImJihnPXModC5nZXRFbnRpdHlNYXAoKSx1LGEsZSxuKSk7dmFyIHY9ZCh0LGcpO3JldHVybiB5KHYsZyl9LHNwbGl0QmxvY2s6ZnVuY3Rpb24odCxlKXt2YXIgbj1kKHQsZSkscj15KG4sZSk7cmV0dXJuIGcocixyLmdldFNlbGVjdGlvbkFmdGVyKCkpfSxhcHBseUlubGluZVN0eWxlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaS5hZGQodCxlLG4pfSxyZW1vdmVJbmxpbmVTdHlsZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIGkucmVtb3ZlKHQsZSxuKX0sc2V0QmxvY2tUeXBlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaCh0LGUsZnVuY3Rpb24odCl7cmV0dXJuIHQubWVyZ2Uoe3R5cGU6bixkZXB0aDowfSl9KX0sc2V0QmxvY2tEYXRhOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaCh0LGUsZnVuY3Rpb24odCl7cmV0dXJuIHQubWVyZ2Uoe2RhdGE6bn0pfSl9LG1lcmdlQmxvY2tEYXRhOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaCh0LGUsZnVuY3Rpb24odCl7cmV0dXJuIHQubWVyZ2Uoe2RhdGE6dC5nZXREYXRhKCkubWVyZ2Uobil9KX0pfSxhcHBseUVudGl0eTpmdW5jdGlvbih0LGUsbil7dmFyIHI9ZCh0LGUpO3JldHVybiBhKHIsZSxuKX19O3QuZXhwb3J0cz1ffSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3MykoXCJ3a3NcIiksaT1uKDU2KSxvPW4oMTQpLlN5bWJvbCx1PVwiZnVuY3Rpb25cIj09dHlwZW9mIG87KHQuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gclt0XXx8KHJbdF09dSYmb1t0XXx8KHU/bzppKShcIlN5bWJvbC5cIit0KSl9KS5zdG9yZT1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaSh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIG8odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX12YXIgdT1uKDApLGE9dS5NYXAscz11Lk9yZGVyZWRTZXQsYz11LlJlY29yZCxsPXMoKSxmPXtzdHlsZTpsLGVudGl0eTpudWxsfSxwPWMoZiksaD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHIodGhpcyxlKSxpKHRoaXMsdC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBvKGUsdCksZS5wcm90b3R5cGUuZ2V0U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJzdHlsZVwiKX0sZS5wcm90b3R5cGUuZ2V0RW50aXR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFwiZW50aXR5XCIpfSxlLnByb3RvdHlwZS5oYXNTdHlsZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRTdHlsZSgpLmluY2x1ZGVzKHQpfSxlLmFwcGx5U3R5bGU9ZnVuY3Rpb24odCxuKXt2YXIgcj10LnNldChcInN0eWxlXCIsdC5nZXRTdHlsZSgpLmFkZChuKSk7cmV0dXJuIGUuY3JlYXRlKHIpfSxlLnJlbW92ZVN0eWxlPWZ1bmN0aW9uKHQsbil7dmFyIHI9dC5zZXQoXCJzdHlsZVwiLHQuZ2V0U3R5bGUoKS5yZW1vdmUobikpO3JldHVybiBlLmNyZWF0ZShyKX0sZS5hcHBseUVudGl0eT1mdW5jdGlvbih0LG4pe3ZhciByPXQuZ2V0RW50aXR5KCk9PT1uP3Q6dC5zZXQoXCJlbnRpdHlcIixuKTtyZXR1cm4gZS5jcmVhdGUocil9LGUuY3JlYXRlPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiBkO3ZhciBuPXtzdHlsZTpsLGVudGl0eTpudWxsfSxyPWEobikubWVyZ2UodCksaT15LmdldChyKTtpZihpKXJldHVybiBpO3ZhciBvPW5ldyBlKHIpO3JldHVybiB5PXkuc2V0KHIsbyksb30sZX0ocCksZD1uZXcgaCx5PWEoW1thKGYpLGRdXSk7aC5FTVBUWT1kLHQuZXhwb3J0cz1ofSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNCksaT1uKDQpLG89bigzNCksdT1uKDI5KSxhPW4oMzYpLHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBjLGwsZixwPXQmcy5GLGg9dCZzLkcsZD10JnMuUyx5PXQmcy5QLGc9dCZzLkIsdj10JnMuVyxfPWg/aTppW2VdfHwoaVtlXT17fSksbT1fLnByb3RvdHlwZSxTPWg/cjpkP3JbZV06KHJbZV18fHt9KS5wcm90b3R5cGU7aCYmKG49ZSk7Zm9yKGMgaW4gbikobD0hcCYmUyYmdm9pZCAwIT09U1tjXSkmJmEoXyxjKXx8KGY9bD9TW2NdOm5bY10sX1tjXT1oJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBTW2NdP25bY106ZyYmbD9vKGYscik6diYmU1tjXT09Zj9mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihlLG4scil7aWYodGhpcyBpbnN0YW5jZW9mIHQpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyB0O2Nhc2UgMTpyZXR1cm4gbmV3IHQoZSk7Y2FzZSAyOnJldHVybiBuZXcgdChlLG4pfXJldHVybiBuZXcgdChlLG4scil9cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gZS5wcm90b3R5cGU9dC5wcm90b3R5cGUsZX0oZik6eSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZj9vKEZ1bmN0aW9uLmNhbGwsZik6Zix5JiYoKF8udmlydHVhbHx8KF8udmlydHVhbD17fSkpW2NdPWYsdCZzLlImJm0mJiFtW2NdJiZ1KG0sYyxmKSkpfTtzLkY9MSxzLkc9MixzLlM9NCxzLlA9OCxzLkI9MTYscy5XPTMyLHMuVT02NCxzLlI9MTI4LHQuZXhwb3J0cz1zfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtpZihudWxsPT09dHx8dm9pZCAwPT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWRcIik7cmV0dXJuIE9iamVjdCh0KX0vKlxub2JqZWN0LWFzc2lnblxuKGMpIFNpbmRyZSBTb3JodXNcbkBsaWNlbnNlIE1JVFxuKi9cbnZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHU9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt0cnl7aWYoIU9iamVjdC5hc3NpZ24pcmV0dXJuITE7dmFyIHQ9bmV3IFN0cmluZyhcImFiY1wiKTtpZih0WzVdPVwiZGVcIixcIjVcIj09PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpWzBdKXJldHVybiExO2Zvcih2YXIgZT17fSxuPTA7bjwxMDtuKyspZVtcIl9cIitTdHJpbmcuZnJvbUNoYXJDb2RlKG4pXT1uO2lmKFwiMDEyMzQ1Njc4OVwiIT09T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSkuam9pbihcIlwiKSlyZXR1cm4hMTt2YXIgcj17fTtyZXR1cm5cImFiY2RlZmdoaWprbG1ub3BxcnN0XCIuc3BsaXQoXCJcIikuZm9yRWFjaChmdW5jdGlvbih0KXtyW3RdPXR9KSxcImFiY2RlZmdoaWprbG1ub3BxcnN0XCI9PT1PYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LHIpKS5qb2luKFwiXCIpfWNhdGNoKHQpe3JldHVybiExfX0oKT9PYmplY3QuYXNzaWduOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLGEscz1yKHQpLGM9MTtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKXtuPU9iamVjdChhcmd1bWVudHNbY10pO2Zvcih2YXIgbCBpbiBuKW8uY2FsbChuLGwpJiYoc1tsXT1uW2xdKTtpZihpKXthPWkobik7Zm9yKHZhciBmPTA7ZjxhLmxlbmd0aDtmKyspdS5jYWxsKG4sYVtmXSkmJihzW2FbZl1dPW5bYVtmXV0pfX1yZXR1cm4gc319LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBpKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gbyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXZhciB1PW4oNyksYT1uKDApLHM9big1MSksYz1hLkxpc3QsbD1hLk1hcCxmPWEuT3JkZXJlZFNldCxwPWEuUmVjb3JkLGg9YS5SZXBlYXQsZD1mKCkseT17cGFyZW50Om51bGwsY2hhcmFjdGVyTGlzdDpjKCksZGF0YTpsKCksZGVwdGg6MCxrZXk6XCJcIix0ZXh0OlwiXCIsdHlwZTpcInVuc3R5bGVkXCIsY2hpbGRyZW46YygpLHByZXZTaWJsaW5nOm51bGwsbmV4dFNpYmxpbmc6bnVsbH0sZz1mdW5jdGlvbih0LGUpe3JldHVybiB0LmdldFN0eWxlKCk9PT1lLmdldFN0eWxlKCl9LHY9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5nZXRFbnRpdHkoKT09PWUuZ2V0RW50aXR5KCl9LF89ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIHQ7dmFyIGU9dC5jaGFyYWN0ZXJMaXN0LG49dC50ZXh0O3JldHVybiBuJiYhZSYmKHQuY2hhcmFjdGVyTGlzdD1jKGgodS5FTVBUWSxuLmxlbmd0aCkpKSx0fSxtPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06eTtyZXR1cm4gcih0aGlzLGUpLGkodGhpcyx0LmNhbGwodGhpcyxfKG4pKSl9cmV0dXJuIG8oZSx0KSxlLnByb3RvdHlwZS5nZXRLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJrZXlcIil9LGUucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJ0eXBlXCIpfSxlLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFwidGV4dFwiKX0sZS5wcm90b3R5cGUuZ2V0Q2hhcmFjdGVyTGlzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChcImNoYXJhY3Rlckxpc3RcIil9LGUucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRleHQoKS5sZW5ndGh9LGUucHJvdG90eXBlLmdldERlcHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFwiZGVwdGhcIil9LGUucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJkYXRhXCIpfSxlLnByb3RvdHlwZS5nZXRJbmxpbmVTdHlsZUF0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Q2hhcmFjdGVyTGlzdCgpLmdldCh0KTtyZXR1cm4gZT9lLmdldFN0eWxlKCk6ZH0sZS5wcm90b3R5cGUuZ2V0RW50aXR5QXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRDaGFyYWN0ZXJMaXN0KCkuZ2V0KHQpO3JldHVybiBlP2UuZ2V0RW50aXR5KCk6bnVsbH0sZS5wcm90b3R5cGUuZ2V0Q2hpbGRLZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFwiY2hpbGRyZW5cIil9LGUucHJvdG90eXBlLmdldFBhcmVudEtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChcInBhcmVudFwiKX0sZS5wcm90b3R5cGUuZ2V0UHJldlNpYmxpbmdLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJwcmV2U2libGluZ1wiKX0sZS5wcm90b3R5cGUuZ2V0TmV4dFNpYmxpbmdLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJuZXh0U2libGluZ1wiKX0sZS5wcm90b3R5cGUuZmluZFN0eWxlUmFuZ2VzPWZ1bmN0aW9uKHQsZSl7cyh0aGlzLmdldENoYXJhY3Rlckxpc3QoKSxnLHQsZSl9LGUucHJvdG90eXBlLmZpbmRFbnRpdHlSYW5nZXM9ZnVuY3Rpb24odCxlKXtzKHRoaXMuZ2V0Q2hhcmFjdGVyTGlzdCgpLHYsdCxlKX0sZX0ocCh5KSk7dC5leHBvcnRzPW19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMwKSxpPW4oOTkpLG89big2NyksdT1PYmplY3QuZGVmaW5lUHJvcGVydHk7ZS5mPW4oMTUpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbih0LGUsbil7aWYocih0KSxlPW8oZSwhMCkscihuKSxpKXRyeXtyZXR1cm4gdSh0LGUsbil9Y2F0Y2godCl7fWlmKFwiZ2V0XCJpbiBufHxcInNldFwiaW4gbil0aHJvdyBUeXBlRXJyb3IoXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCFcIik7cmV0dXJuXCJ2YWx1ZVwiaW4gbiYmKHRbZV09bi52YWx1ZSksdH19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE3OCksaT1uKDUwKSxvPW4oNyksdT1uKDE5NCksYT1uKDM3KSxzPW4oODIpLGM9big4NSksbD1uKDExOCksZj1uKDE5NSkscD1uKDEyMCksaD1uKDYyKSxkPW4oNSkseT1uKDExNiksZz1uKDIpLHY9big2NSksXz1uKDEzNCksbT1uKDQ0KSxTPW4oMjU4KSxiPW4oMTMyKSx3PW4oMjYxKSxNPW4oMjUpLEU9big5MikseD1uKDI2NiksST17RWRpdG9yOmYsRWRpdG9yQmxvY2s6cCxFZGl0b3JTdGF0ZTpnLENvbXBvc2l0ZURlY29yYXRvcjp1LEVudGl0eTpoLEVudGl0eUluc3RhbmNlOnksQmxvY2tNYXBCdWlsZGVyOmksQ2hhcmFjdGVyTWV0YWRhdGE6byxDb250ZW50QmxvY2s6YSxDb250ZW50U3RhdGU6cyxTZWxlY3Rpb25TdGF0ZTptLEF0b21pY0Jsb2NrVXRpbHM6cixLZXlCaW5kaW5nVXRpbDp2LE1vZGlmaWVyOmQsUmljaFV0aWxzOl8sRGVmYXVsdERyYWZ0QmxvY2tSZW5kZXJNYXA6YyxEZWZhdWx0RHJhZnRJbmxpbmVTdHlsZTpsLGNvbnZlcnRGcm9tSFRNTDpiLGNvbnZlcnRGcm9tUmF3OncsY29udmVydFRvUmF3OlMsZ2VuS2V5Ok0sZ2V0RGVmYXVsdEtleUJpbmRpbmc6RSxnZXRWaXNpYmxlU2VsZWN0aW9uUmVjdDp4fTt0LmV4cG9ydHM9SX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPWZ1bmN0aW9uKHQpe2lmKG51bGwhPXQpcmV0dXJuIHQ7dGhyb3cgbmV3IEVycm9yKFwiR290IHVuZXhwZWN0ZWQgbnVsbCBvciB1bmRlZmluZWRcIil9O3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhwb3J0cz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcIm51bWJlclwiPT10eXBlb2YgX19nJiYoX19nPW4pfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPSFuKDM1KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuX19lc01vZHVsZT0hMDt2YXIgcj1uKDk3KSxpPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0ocik7ZS5kZWZhdWx0PWkuZGVmYXVsdHx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYodFtyXT1uW3JdKX1yZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLl9fZXNNb2R1bGU9ITAsZS5kZWZhdWx0PWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLl9fZXNNb2R1bGU9ITA7dmFyIHI9bigxMDIpLGk9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShyKTtlLmRlZmF1bHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLCgwLGkuZGVmYXVsdCkodCxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX19KCl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSxuLHIpe2lmKHQ9PT1uKXJldHVybiEwO2lmKCFuLnN0YXJ0c1dpdGgodCkpcmV0dXJuITE7dmFyIGk9bi5zbGljZSh0Lmxlbmd0aCk7cmV0dXJuISFlJiYoaT1yP3IoaSk6aSx1LmNvbnRhaW5zKGksZSkpfWZ1bmN0aW9uIGkodCl7cmV0dXJuXCJXaW5kb3dzXCI9PT1vLnBsYXRmb3JtTmFtZT90LnJlcGxhY2UoL15cXHMqTlQvLFwiXCIpOnR9dmFyIG89bigyMDEpLHU9bigyMDQpLGE9bigyMDUpLHM9bigyMDYpLGM9e2lzQnJvd3NlcjpmdW5jdGlvbih0KXtyZXR1cm4gcihvLmJyb3dzZXJOYW1lLG8uYnJvd3NlckZ1bGxWZXJzaW9uLHQpfSxpc0Jyb3dzZXJBcmNoaXRlY3R1cmU6ZnVuY3Rpb24odCl7cmV0dXJuIHIoby5icm93c2VyQXJjaGl0ZWN0dXJlLG51bGwsdCl9LGlzRGV2aWNlOmZ1bmN0aW9uKHQpe3JldHVybiByKG8uZGV2aWNlTmFtZSxudWxsLHQpfSxpc0VuZ2luZTpmdW5jdGlvbih0KXtyZXR1cm4gcihvLmVuZ2luZU5hbWUsby5lbmdpbmVWZXJzaW9uLHQpfSxpc1BsYXRmb3JtOmZ1bmN0aW9uKHQpe3JldHVybiByKG8ucGxhdGZvcm1OYW1lLG8ucGxhdGZvcm1GdWxsVmVyc2lvbix0LGkpfSxpc1BsYXRmb3JtQXJjaGl0ZWN0dXJlOmZ1bmN0aW9uKHQpe3JldHVybiByKG8ucGxhdGZvcm1BcmNoaXRlY3R1cmUsbnVsbCx0KX19O3QuZXhwb3J0cz1hKGMscyl9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl0saT1kW3IuaWRdO2lmKGkpe2kucmVmcysrO2Zvcih2YXIgbz0wO288aS5wYXJ0cy5sZW5ndGg7bysrKWkucGFydHNbb10oci5wYXJ0c1tvXSk7Zm9yKDtvPHIucGFydHMubGVuZ3RoO28rKylpLnBhcnRzLnB1c2gobChyLnBhcnRzW29dLGUpKX1lbHNle2Zvcih2YXIgdT1bXSxvPTA7bzxyLnBhcnRzLmxlbmd0aDtvKyspdS5wdXNoKGwoci5wYXJ0c1tvXSxlKSk7ZFtyLmlkXT17aWQ6ci5pZCxyZWZzOjEscGFydHM6dX19fX1mdW5jdGlvbiBpKHQsZSl7Zm9yKHZhciBuPVtdLHI9e30saT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbz10W2ldLHU9ZS5iYXNlP29bMF0rZS5iYXNlOm9bMF0sYT1vWzFdLHM9b1syXSxjPW9bM10sbD17Y3NzOmEsbWVkaWE6cyxzb3VyY2VNYXA6Y307clt1XT9yW3VdLnBhcnRzLnB1c2gobCk6bi5wdXNoKHJbdV09e2lkOnUscGFydHM6W2xdfSl9cmV0dXJuIG59ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPWcodC5pbnNlcnRJbnRvKTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTt2YXIgcj1tW20ubGVuZ3RoLTFdO2lmKFwidG9wXCI9PT10Lmluc2VydEF0KXI/ci5uZXh0U2libGluZz9uLmluc2VydEJlZm9yZShlLHIubmV4dFNpYmxpbmcpOm4uYXBwZW5kQ2hpbGQoZSk6bi5pbnNlcnRCZWZvcmUoZSxuLmZpcnN0Q2hpbGQpLG0ucHVzaChlKTtlbHNle2lmKFwiYm90dG9tXCIhPT10Lmluc2VydEF0KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtuLmFwcGVuZENoaWxkKGUpfX1mdW5jdGlvbiB1KHQpe2lmKG51bGw9PT10LnBhcmVudE5vZGUpcmV0dXJuITE7dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpO3ZhciBlPW0uaW5kZXhPZih0KTtlPj0wJiZtLnNwbGljZShlLDEpfWZ1bmN0aW9uIGEodCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3JldHVybiB0LmF0dHJzLnR5cGU9XCJ0ZXh0L2Nzc1wiLGMoZSx0LmF0dHJzKSxvKHQsZSksZX1mdW5jdGlvbiBzKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO3JldHVybiB0LmF0dHJzLnR5cGU9XCJ0ZXh0L2Nzc1wiLHQuYXR0cnMucmVsPVwic3R5bGVzaGVldFwiLGMoZSx0LmF0dHJzKSxvKHQsZSksZX1mdW5jdGlvbiBjKHQsZSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihuKXt0LnNldEF0dHJpYnV0ZShuLGVbbl0pfSl9ZnVuY3Rpb24gbCh0LGUpe3ZhciBuLHIsaSxvO2lmKGUudHJhbnNmb3JtJiZ0LmNzcyl7aWYoIShvPWUudHJhbnNmb3JtKHQuY3NzKSkpcmV0dXJuIGZ1bmN0aW9uKCl7fTt0LmNzcz1vfWlmKGUuc2luZ2xldG9uKXt2YXIgYz1fKys7bj12fHwodj1hKGUpKSxyPWYuYmluZChudWxsLG4sYywhMSksaT1mLmJpbmQobnVsbCxuLGMsITApfWVsc2UgdC5zb3VyY2VNYXAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgQmxvYiYmXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYT8obj1zKGUpLHI9aC5iaW5kKG51bGwsbixlKSxpPWZ1bmN0aW9uKCl7dShuKSxuLmhyZWYmJlVSTC5yZXZva2VPYmplY3RVUkwobi5ocmVmKX0pOihuPWEoZSkscj1wLmJpbmQobnVsbCxuKSxpPWZ1bmN0aW9uKCl7dShuKX0pO3JldHVybiByKHQpLGZ1bmN0aW9uKGUpe2lmKGUpe2lmKGUuY3NzPT09dC5jc3MmJmUubWVkaWE9PT10Lm1lZGlhJiZlLnNvdXJjZU1hcD09PXQuc291cmNlTWFwKXJldHVybjtyKHQ9ZSl9ZWxzZSBpKCl9fWZ1bmN0aW9uIGYodCxlLG4scil7dmFyIGk9bj9cIlwiOnIuY3NzO2lmKHQuc3R5bGVTaGVldCl0LnN0eWxlU2hlZXQuY3NzVGV4dD1iKGUsaSk7ZWxzZXt2YXIgbz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShpKSx1PXQuY2hpbGROb2Rlczt1W2VdJiZ0LnJlbW92ZUNoaWxkKHVbZV0pLHUubGVuZ3RoP3QuaW5zZXJ0QmVmb3JlKG8sdVtlXSk6dC5hcHBlbmRDaGlsZChvKX19ZnVuY3Rpb24gcCh0LGUpe3ZhciBuPWUuY3NzLHI9ZS5tZWRpYTtpZihyJiZ0LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsciksdC5zdHlsZVNoZWV0KXQuc3R5bGVTaGVldC5jc3NUZXh0PW47ZWxzZXtmb3IoO3QuZmlyc3RDaGlsZDspdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpO3QuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobikpfX1mdW5jdGlvbiBoKHQsZSxuKXt2YXIgcj1uLmNzcyxpPW4uc291cmNlTWFwLG89dm9pZCAwPT09ZS5jb252ZXJ0VG9BYnNvbHV0ZVVybHMmJmk7KGUuY29udmVydFRvQWJzb2x1dGVVcmxzfHxvKSYmKHI9UyhyKSksaSYmKHIrPVwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShpKSkpKStcIiAqL1wiKTt2YXIgdT1uZXcgQmxvYihbcl0se3R5cGU6XCJ0ZXh0L2Nzc1wifSksYT10LmhyZWY7dC5ocmVmPVVSTC5jcmVhdGVPYmplY3RVUkwodSksYSYmVVJMLnJldm9rZU9iamVjdFVSTChhKX12YXIgZD17fSx5PWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT1lJiYoZT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKSksZX19KGZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdyYmZG9jdW1lbnQmJmRvY3VtZW50LmFsbCYmIXdpbmRvdy5hdG9ifSksZz1mdW5jdGlvbih0KXt2YXIgZT17fTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHZvaWQgMD09PWVbbl0mJihlW25dPXQuY2FsbCh0aGlzLG4pKSxlW25dfX0oZnVuY3Rpb24odCl7cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCl9KSx2PW51bGwsXz0wLG09W10sUz1uKDI5NSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIERFQlVHJiZERUJVRyYmXCJvYmplY3RcIiE9dHlwZW9mIGRvY3VtZW50KXRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtlPWV8fHt9LGUuYXR0cnM9XCJvYmplY3RcIj09dHlwZW9mIGUuYXR0cnM/ZS5hdHRyczp7fSxlLnNpbmdsZXRvbnx8KGUuc2luZ2xldG9uPXkoKSksZS5pbnNlcnRJbnRvfHwoZS5pbnNlcnRJbnRvPVwiaGVhZFwiKSxlLmluc2VydEF0fHwoZS5pbnNlcnRBdD1cImJvdHRvbVwiKTt2YXIgbj1pKHQsZSk7cmV0dXJuIHIobixlKSxmdW5jdGlvbih0KXtmb3IodmFyIG89W10sdT0wO3U8bi5sZW5ndGg7dSsrKXt2YXIgYT1uW3VdLHM9ZFthLmlkXTtzLnJlZnMtLSxvLnB1c2gocyl9dCYmcihpKHQsZSksZSk7Zm9yKHZhciB1PTA7dTxvLmxlbmd0aDt1Kyspe3ZhciBzPW9bdV07aWYoMD09PXMucmVmcyl7Zm9yKHZhciBjPTA7YzxzLnBhcnRzLmxlbmd0aDtjKyspcy5wYXJ0c1tjXSgpO2RlbGV0ZSBkW3MuaWRdfX19fTt2YXIgYj1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiBmdW5jdGlvbihlLG4pe3JldHVybiB0W2VdPW4sdC5maWx0ZXIoQm9vbGVhbikuam9pbihcIlxcblwiKX19KCl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0P251bGwhPT10OlwiZnVuY3Rpb25cIj09dHlwZW9mIHR9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPXtkZWZhdWx0Om4oMTU0KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuX19lc01vZHVsZT0hMDt2YXIgcj1uKDc2KSxpPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0ocik7ZS5kZWZhdWx0PWZ1bmN0aW9uKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjooMCxpLmRlZmF1bHQpKGUpKSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZS5fX2VzTW9kdWxlPSEwO3ZhciBpPW4oMTcxKSxvPXIoaSksdT1uKDE3NSksYT1yKHUpLHM9big3NiksYz1yKHMpO2UuZGVmYXVsdD1mdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiKyh2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6KDAsYy5kZWZhdWx0KShlKSkpO3QucHJvdG90eXBlPSgwLGEuZGVmYXVsdCkoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihvLmRlZmF1bHQ/KDAsby5kZWZhdWx0KSh0LGUpOnQuX19wcm90b19fPWUpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXtmb3IodmFyIHQ9dm9pZCAwO3ZvaWQgMD09PXR8fGkuaGFzT3duUHJvcGVydHkodCl8fCFpc05hTigrdCk7KXQ9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKm8pLnRvU3RyaW5nKDMyKTtyZXR1cm4gaVt0XT0hMCx0fXZhciBpPXt9LG89TWF0aC5wb3coMiwyNCk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSl7dmFyIG47bj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtuPW58fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKXx8KDAsZXZhbCkoXCJ0aGlzXCIpfWNhdGNoKHQpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihuPXdpbmRvdyl9dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpOy8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTcgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbiFmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciByPWFyZ3VtZW50c1tlXTtpZihyKXt2YXIgaT10eXBlb2YgcjtpZihcInN0cmluZ1wiPT09aXx8XCJudW1iZXJcIj09PWkpdC5wdXNoKHIpO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShyKSYmci5sZW5ndGgpe3ZhciB1PW4uYXBwbHkobnVsbCxyKTt1JiZ0LnB1c2godSl9ZWxzZSBpZihcIm9iamVjdFwiPT09aSlmb3IodmFyIGEgaW4gcilvLmNhbGwocixhKSYmclthXSYmdC5wdXNoKGEpfX1yZXR1cm4gdC5qb2luKFwiIFwiKX12YXIgbz17fS5oYXNPd25Qcm9wZXJ0eTt2b2lkIDAhPT10JiZ0LmV4cG9ydHM/KG4uZGVmYXVsdD1uLHQuZXhwb3J0cz1uKToocj1bXSx2b2lkIDAhPT0oaT1mdW5jdGlvbigpe3JldHVybiBufS5hcHBseShlLHIpKSYmKHQuZXhwb3J0cz1pKSl9KCl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0LGUpe3ZhciBuPXRbMV18fFwiXCIsaT10WzNdO2lmKCFpKXJldHVybiBuO2lmKGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGJ0b2Epe3ZhciBvPXIoaSk7cmV0dXJuW25dLmNvbmNhdChpLnNvdXJjZXMubWFwKGZ1bmN0aW9uKHQpe3JldHVyblwiLyojIHNvdXJjZVVSTD1cIitpLnNvdXJjZVJvb3QrdCtcIiAqL1wifSkpLmNvbmNhdChbb10pLmpvaW4oXCJcXG5cIil9cmV0dXJuW25dLmpvaW4oXCJcXG5cIil9ZnVuY3Rpb24gcih0KXtyZXR1cm5cIi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh0KSkpKStcIiAqL1wifXQuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4gZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbihlKXt2YXIgcj1uKGUsdCk7cmV0dXJuIGVbMl0/XCJAbWVkaWEgXCIrZVsyXStcIntcIityK1wifVwiOnJ9KS5qb2luKFwiXCIpfSxlLmk9ZnVuY3Rpb24odCxuKXtcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9W1tudWxsLHQsXCJcIl1dKTtmb3IodmFyIHI9e30saT0wO2k8dGhpcy5sZW5ndGg7aSsrKXt2YXIgbz10aGlzW2ldWzBdO1wibnVtYmVyXCI9PXR5cGVvZiBvJiYocltvXT0hMCl9Zm9yKGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIHU9dFtpXTtcIm51bWJlclwiPT10eXBlb2YgdVswXSYmclt1WzBdXXx8KG4mJiF1WzJdP3VbMl09bjpuJiYodVsyXT1cIihcIit1WzJdK1wiKSBhbmQgKFwiK24rXCIpXCIpLGUucHVzaCh1KSl9fSxlfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTEpLGk9big0Nik7dC5leHBvcnRzPW4oMTUpP2Z1bmN0aW9uKHQsZSxuKXtyZXR1cm4gci5mKHQsZSxpKDEsbikpfTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bix0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjEpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighcih0KSl0aHJvdyBUeXBlRXJyb3IodCtcIiBpcyBub3QgYW4gb2JqZWN0IVwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE3OSk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1uKDI2OCk7T2JqZWN0LmtleXMoaSkuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaVt0XX19KX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiQ29uc3RhbnRzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIoaSkuZGVmYXVsdH19KTt2YXIgbz1uKDI2OSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJnZXRFbnRpdHlSYW5nZXNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcihvKS5kZWZhdWx0fX0pO3ZhciB1PW4oOTQpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiZ2V0U2VsZWN0ZWRCbG9ja3NcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcih1KS5kZWZhdWx0fX0pO3ZhciBhPW4oMjcwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInNlbGVjdGlvbkNvbnRhaW5zRW50aXR5XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIoYSkuZGVmYXVsdH19KTt2YXIgcz1uKDI3MSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJjYWxsTW9kaWZpZXJGb3JTZWxlY3RlZEJsb2Nrc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByKHMpLmRlZmF1bHR9fSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiEwPT09dVt0XX1mdW5jdGlvbiBpKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHR9ZnVuY3Rpb24gbyh0LGUpe251bGw9PWUmJihlPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KSk7Zm9yKHZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLG89bix1PUFycmF5LmlzQXJyYXkobyksYT0wLG89dT9vOm9bU3ltYm9sLml0ZXJhdG9yXSgpOzspe3ZhciBzO2lmKHUpe2lmKGE+PW8ubGVuZ3RoKWJyZWFrO3M9b1thKytdfWVsc2V7aWYoYT1vLm5leHQoKSxhLmRvbmUpYnJlYWs7cz1hLnZhbHVlfXZhciBjPXM7aShlW2NdKSYmIXIoYykmJih0W2NdPWVbY10uYmluZCh0KSl9fWUuX19lc01vZHVsZT0hMCxlLmRlZmF1bHQ9bzt2YXIgdT17Z2V0Q2hpbGRDb250ZXh0OiEwLHJlbmRlcjohMCxjb21wb25lbnRXaWxsTW91bnQ6ITAsY29tcG9uZW50RGlkTW91bnQ6ITAsY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczohMCxzaG91bGRDb21wb25lbnRVcGRhdGU6ITAsY29tcG9uZW50V2lsbFVwZGF0ZTohMCxjb21wb25lbnREaWRVcGRhdGU6ITAsY29tcG9uZW50V2lsbFVubW91bnQ6ITB9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big5OCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtpZihyKHQpLHZvaWQgMD09PWUpcmV0dXJuIHQ7c3dpdGNoKG4pe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQuY2FsbChlLG4pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIHQuY2FsbChlLG4scil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLGkpe3JldHVybiB0LmNhbGwoZSxuLHIsaSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuISF0KCl9Y2F0Y2godCl7cmV0dXJuITB9fX0sZnVuY3Rpb24odCxlKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5jYWxsKHQsZSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaSh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIG8odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1mdW5jdGlvbiB1KHQsZSl7cmV0dXJuIHQuZ2V0U3R5bGUoKT09PWUuZ2V0U3R5bGUoKX1mdW5jdGlvbiBhKHQsZSl7cmV0dXJuIHQuZ2V0RW50aXR5KCk9PT1lLmdldEVudGl0eSgpfXZhciBzPW4oNyksYz1uKDApLGw9big1MSksZj1jLkxpc3QscD1jLk1hcCxoPWMuT3JkZXJlZFNldCxkPWMuUmVjb3JkLHk9Yy5SZXBlYXQsZz1oKCksdj17a2V5OlwiXCIsdHlwZTpcInVuc3R5bGVkXCIsdGV4dDpcIlwiLGNoYXJhY3Rlckxpc3Q6ZigpLGRlcHRoOjAsZGF0YTpwKCl9LF89ZCh2KSxtPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiB0O3ZhciBlPXQuY2hhcmFjdGVyTGlzdCxuPXQudGV4dDtyZXR1cm4gbiYmIWUmJih0LmNoYXJhY3Rlckxpc3Q9Zih5KHMuRU1QVFksbi5sZW5ndGgpKSksdH0sUz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKG4pe3JldHVybiByKHRoaXMsZSksaSh0aGlzLHQuY2FsbCh0aGlzLG0obikpKX1yZXR1cm4gbyhlLHQpLGUucHJvdG90eXBlLmdldEtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChcImtleVwiKX0sZS5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChcInR5cGVcIil9LGUucHJvdG90eXBlLmdldFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJ0ZXh0XCIpfSxlLnByb3RvdHlwZS5nZXRDaGFyYWN0ZXJMaXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFwiY2hhcmFjdGVyTGlzdFwiKX0sZS5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGV4dCgpLmxlbmd0aH0sZS5wcm90b3R5cGUuZ2V0RGVwdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJkZXB0aFwiKX0sZS5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChcImRhdGFcIil9LGUucHJvdG90eXBlLmdldElubGluZVN0eWxlQXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRDaGFyYWN0ZXJMaXN0KCkuZ2V0KHQpO3JldHVybiBlP2UuZ2V0U3R5bGUoKTpnfSxlLnByb3RvdHlwZS5nZXRFbnRpdHlBdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldENoYXJhY3Rlckxpc3QoKS5nZXQodCk7cmV0dXJuIGU/ZS5nZXRFbnRpdHkoKTpudWxsfSxlLnByb3RvdHlwZS5maW5kU3R5bGVSYW5nZXM9ZnVuY3Rpb24odCxlKXtsKHRoaXMuZ2V0Q2hhcmFjdGVyTGlzdCgpLHUsdCxlKX0sZS5wcm90b3R5cGUuZmluZEVudGl0eVJhbmdlcz1mdW5jdGlvbih0LGUpe2wodGhpcy5nZXRDaGFyYWN0ZXJMaXN0KCksYSx0LGUpfSxlfShfKTt0LmV4cG9ydHM9U30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9cmVxdWlyZShcInJlYWN0LWRvbVwiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHA8PXQmJnQ8PXl9ZnVuY3Rpb24gaSh0LGUpe2lmKDA8PWUmJmU8dC5sZW5ndGh8fGYoITEpLGUrMT09PXQubGVuZ3RoKXJldHVybiExO3ZhciBuPXQuY2hhckNvZGVBdChlKSxyPXQuY2hhckNvZGVBdChlKzEpO3JldHVybiBwPD1uJiZuPD1oJiZkPD1yJiZyPD15fWZ1bmN0aW9uIG8odCl7cmV0dXJuIGcudGVzdCh0KX1mdW5jdGlvbiB1KHQsZSl7cmV0dXJuIDErcih0LmNoYXJDb2RlQXQoZSkpfWZ1bmN0aW9uIGEodCl7aWYoIW8odCkpcmV0dXJuIHQubGVuZ3RoO2Zvcih2YXIgZT0wLG49MDtuPHQubGVuZ3RoO24rPXUodCxuKSllKys7cmV0dXJuIGV9ZnVuY3Rpb24gcyh0LGUsbil7aWYoZT1lfHwwLG49dm9pZCAwPT09bj8xLzA6bnx8MCwhbyh0KSlyZXR1cm4gdC5zdWJzdHIoZSxuKTt2YXIgcj10Lmxlbmd0aDtpZihyPD0wfHxlPnJ8fG48PTApcmV0dXJuXCJcIjt2YXIgaT0wO2lmKGU+MCl7Zm9yKDtlPjAmJmk8cjtlLS0paSs9dSh0LGkpO2lmKGk+PXIpcmV0dXJuXCJcIn1lbHNlIGlmKGU8MCl7Zm9yKGk9cjtlPDAmJjA8aTtlKyspaS09dSh0LGktMSk7aTwwJiYoaT0wKX12YXIgYT1yO2lmKG48cilmb3IoYT1pO24+MCYmYTxyO24tLSlhKz11KHQsYSk7cmV0dXJuIHQuc3Vic3RyaW5nKGksYSl9ZnVuY3Rpb24gYyh0LGUsbil7ZT1lfHwwLG49dm9pZCAwPT09bj8xLzA6bnx8MCxlPDAmJihlPTApLG48MCYmKG49MCk7dmFyIHI9TWF0aC5hYnMobi1lKTtyZXR1cm4gZT1lPG4/ZTpuLHModCxlLHIpfWZ1bmN0aW9uIGwodCl7Zm9yKHZhciBlPVtdLG49MDtuPHQubGVuZ3RoO24rPXUodCxuKSllLnB1c2godC5jb2RlUG9pbnRBdChuKSk7cmV0dXJuIGV9dmFyIGY9bigxKSxwPTU1Mjk2LGg9NTYzMTksZD01NjMyMCx5PTU3MzQzLGc9L1tcXHVEODAwLVxcdURGRkZdLyx2PXtnZXRDb2RlUG9pbnRzOmwsZ2V0VVRGMTZMZW5ndGg6dSxoYXNTdXJyb2dhdGVVbml0Om8saXNDb2RlVW5pdEluU3Vycm9nYXRlUmFuZ2U6cixpc1N1cnJvZ2F0ZVBhaXI6aSxzdHJsZW46YSxzdWJzdHJpbmc6YyxzdWJzdHI6c307dC5leHBvcnRzPXZ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDY4KSxpPW4oNzApO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcihpKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcwKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChyKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLl9fZXNNb2R1bGU9ITAsZS5kZWZhdWx0PWZ1bmN0aW9uKHQsZSl7dmFyIG49e307Zm9yKHZhciByIGluIHQpZS5pbmRleE9mKHIpPj0wfHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKG5bcl09dFtyXSk7cmV0dXJuIG59fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGkodCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBvKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9dmFyIHU9bigwKSxhPXUuUmVjb3JkLHM9e2FuY2hvcktleTpcIlwiLGFuY2hvck9mZnNldDowLGZvY3VzS2V5OlwiXCIsZm9jdXNPZmZzZXQ6MCxpc0JhY2t3YXJkOiExLGhhc0ZvY3VzOiExfSxjPWEocyksbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHIodGhpcyxlKSxpKHRoaXMsdC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBvKGUsdCksZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuXCJBbmNob3I6IFwiK3RoaXMuZ2V0QW5jaG9yS2V5KCkrXCI6XCIrdGhpcy5nZXRBbmNob3JPZmZzZXQoKStcIiwgRm9jdXM6IFwiK3RoaXMuZ2V0Rm9jdXNLZXkoKStcIjpcIit0aGlzLmdldEZvY3VzT2Zmc2V0KCkrXCIsIElzIEJhY2t3YXJkOiBcIitTdHJpbmcodGhpcy5nZXRJc0JhY2t3YXJkKCkpK1wiLCBIYXMgRm9jdXM6IFwiK1N0cmluZyh0aGlzLmdldEhhc0ZvY3VzKCkpfSxlLnByb3RvdHlwZS5nZXRBbmNob3JLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJhbmNob3JLZXlcIil9LGUucHJvdG90eXBlLmdldEFuY2hvck9mZnNldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChcImFuY2hvck9mZnNldFwiKX0sZS5wcm90b3R5cGUuZ2V0Rm9jdXNLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJmb2N1c0tleVwiKX0sZS5wcm90b3R5cGUuZ2V0Rm9jdXNPZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJmb2N1c09mZnNldFwiKX0sZS5wcm90b3R5cGUuZ2V0SXNCYWNrd2FyZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChcImlzQmFja3dhcmRcIil9LGUucHJvdG90eXBlLmdldEhhc0ZvY3VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFwiaGFzRm9jdXNcIil9LGUucHJvdG90eXBlLmhhc0VkZ2VXaXRoaW49ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuZ2V0QW5jaG9yS2V5KCksaT10aGlzLmdldEZvY3VzS2V5KCk7aWYocj09PWkmJnI9PT10KXt2YXIgbz10aGlzLmdldFN0YXJ0T2Zmc2V0KCk7cmV0dXJuIGU8PXRoaXMuZ2V0RW5kT2Zmc2V0KCkmJm88PW59aWYodCE9PXImJnQhPT1pKXJldHVybiExO3ZhciB1PXQ9PT1yP3RoaXMuZ2V0QW5jaG9yT2Zmc2V0KCk6dGhpcy5nZXRGb2N1c09mZnNldCgpO3JldHVybiBlPD11JiZuPj11fSxlLnByb3RvdHlwZS5pc0NvbGxhcHNlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEFuY2hvcktleSgpPT09dGhpcy5nZXRGb2N1c0tleSgpJiZ0aGlzLmdldEFuY2hvck9mZnNldCgpPT09dGhpcy5nZXRGb2N1c09mZnNldCgpfSxlLnByb3RvdHlwZS5nZXRTdGFydEtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElzQmFja3dhcmQoKT90aGlzLmdldEZvY3VzS2V5KCk6dGhpcy5nZXRBbmNob3JLZXkoKX0sZS5wcm90b3R5cGUuZ2V0U3RhcnRPZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJc0JhY2t3YXJkKCk/dGhpcy5nZXRGb2N1c09mZnNldCgpOnRoaXMuZ2V0QW5jaG9yT2Zmc2V0KCl9LGUucHJvdG90eXBlLmdldEVuZEtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElzQmFja3dhcmQoKT90aGlzLmdldEFuY2hvcktleSgpOnRoaXMuZ2V0Rm9jdXNLZXkoKX0sZS5wcm90b3R5cGUuZ2V0RW5kT2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SXNCYWNrd2FyZCgpP3RoaXMuZ2V0QW5jaG9yT2Zmc2V0KCk6dGhpcy5nZXRGb2N1c09mZnNldCgpfSxlLmNyZWF0ZUVtcHR5PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh7YW5jaG9yS2V5OnQsYW5jaG9yT2Zmc2V0OjAsZm9jdXNLZXk6dCxmb2N1c09mZnNldDowLGlzQmFja3dhcmQ6ITEsaGFzRm9jdXM6ITF9KX0sZX0oYyk7dC5leHBvcnRzPWx9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0P09iamVjdC5rZXlzKHQpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pLm1hcChpKS5qb2luKFwiIFwiKTpBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYXJndW1lbnRzLGkpLmpvaW4oXCIgXCIpfWZ1bmN0aW9uIGkodCl7cmV0dXJuIHQucmVwbGFjZSgvXFwvL2csXCItXCIpfXQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybntlbnVtZXJhYmxlOiEoMSZ0KSxjb25maWd1cmFibGU6ISgyJnQpLHdyaXRhYmxlOiEoNCZ0KSx2YWx1ZTplfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEwMSksaT1uKDc0KTt0LmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKHQpe3JldHVybiByKHQsaSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5fX2VzTW9kdWxlPSEwO3ZhciByPW4oMTAyKSxpPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0ocik7ZS5kZWZhdWx0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSBpbiB0PygwLGkuZGVmYXVsdCkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxNTgpKCEwKTtuKDc3KShTdHJpbmcsXCJTdHJpbmdcIixmdW5jdGlvbih0KXt0aGlzLl90PVN0cmluZyh0KSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl90LG49dGhpcy5faTtyZXR1cm4gbj49ZS5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfToodD1yKGUsbiksdGhpcy5faSs9dC5sZW5ndGgse3ZhbHVlOnQsZG9uZTohMX0pfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDApLGk9ci5PcmRlcmVkTWFwLG89e2NyZWF0ZUZyb21BcnJheTpmdW5jdGlvbih0KXtyZXR1cm4gaSh0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm5bdC5nZXRLZXkoKSx0XX0pKX19O3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUsbixyKXtpZih0LnNpemUpe3ZhciBpPTA7dC5yZWR1Y2UoZnVuY3Rpb24odCxvLHUpe3JldHVybiBlKHQsbyl8fChuKHQpJiZyKGksdSksaT11KSxvfSksbih0Lmxhc3QoKSkmJnIoaSx0LmNvdW50KCkpfX10LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuXCJoYW5kbGVkXCI9PT10fHwhMD09PXR9dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSxuKXt2YXIgcj10LmdldFNlbGVjdGlvbigpLG89dC5nZXRDdXJyZW50Q29udGVudCgpLHU9cjtpZihyLmlzQ29sbGFwc2VkKCkpe2lmKFwiZm9yd2FyZFwiPT09bil7aWYodC5pc1NlbGVjdGlvbkF0RW5kT2ZDb250ZW50KCkpcmV0dXJuIG99ZWxzZSBpZih0LmlzU2VsZWN0aW9uQXRTdGFydE9mQ29udGVudCgpKXJldHVybiBvO2lmKCh1PWUodCkpPT09cilyZXR1cm4gb31yZXR1cm4gaS5yZW1vdmVSYW5nZShvLHUsbil9dmFyIGk9big1KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNzEpLGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0PjA/aShyKHQpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0hMH0sZnVuY3Rpb24odCxlKXt2YXIgbj0wLHI9TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuXCJTeW1ib2woXCIuY29uY2F0KHZvaWQgMD09PXQ/XCJcIjp0LFwiKV9cIiwoKytuK3IpLnRvU3RyaW5nKDM2KSl9fSxmdW5jdGlvbih0LGUpe2UuZj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzApLGk9bigxNjApLG89big3NCksdT1uKDcyKShcIklFX1BST1RPXCIpLGE9ZnVuY3Rpb24oKXt9LHM9ZnVuY3Rpb24oKXt2YXIgdCxlPW4oMTAwKShcImlmcmFtZVwiKSxyPW8ubGVuZ3RoO2ZvcihlLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsbigxNjEpLmFwcGVuZENoaWxkKGUpLGUuc3JjPVwiamF2YXNjcmlwdDpcIix0PWUuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKFwiPHNjcmlwdD5kb2N1bWVudC5GPU9iamVjdDxcXC9zY3JpcHQ+XCIpLHQuY2xvc2UoKSxzPXQuRjtyLS07KWRlbGV0ZSBzLnByb3RvdHlwZVtvW3JdXTtyZXR1cm4gcygpfTt0LmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbnVsbCE9PXQ/KGEucHJvdG90eXBlPXIodCksbj1uZXcgYSxhLnByb3RvdHlwZT1udWxsLG5bdV09dCk6bj1zKCksdm9pZCAwPT09ZT9uOmkobixlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExKS5mLGk9bigzNiksbz1uKDYpKFwidG9TdHJpbmdUYWdcIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt0JiYhaSh0PW4/dDp0LnByb3RvdHlwZSxvKSYmcih0LG8se2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTplfSl9fSxmdW5jdGlvbih0LGUsbil7bigxNjIpO2Zvcih2YXIgcj1uKDE0KSxpPW4oMjkpLG89big0MyksdT1uKDYpKFwidG9TdHJpbmdUYWdcIiksYT1cIkNTU1J1bGVMaXN0LENTU1N0eWxlRGVjbGFyYXRpb24sQ1NTVmFsdWVMaXN0LENsaWVudFJlY3RMaXN0LERPTVJlY3RMaXN0LERPTVN0cmluZ0xpc3QsRE9NVG9rZW5MaXN0LERhdGFUcmFuc2Zlckl0ZW1MaXN0LEZpbGVMaXN0LEhUTUxBbGxDb2xsZWN0aW9uLEhUTUxDb2xsZWN0aW9uLEhUTUxGb3JtRWxlbWVudCxIVE1MU2VsZWN0RWxlbWVudCxNZWRpYUxpc3QsTWltZVR5cGVBcnJheSxOYW1lZE5vZGVNYXAsTm9kZUxpc3QsUGFpbnRSZXF1ZXN0TGlzdCxQbHVnaW4sUGx1Z2luQXJyYXksU1ZHTGVuZ3RoTGlzdCxTVkdOdW1iZXJMaXN0LFNWR1BhdGhTZWdMaXN0LFNWR1BvaW50TGlzdCxTVkdTdHJpbmdMaXN0LFNWR1RyYW5zZm9ybUxpc3QsU291cmNlQnVmZmVyTGlzdCxTdHlsZVNoZWV0TGlzdCxUZXh0VHJhY2tDdWVMaXN0LFRleHRUcmFja0xpc3QsVG91Y2hMaXN0XCIuc3BsaXQoXCIsXCIpLHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIGM9YVtzXSxsPXJbY10sZj1sJiZsLnByb3RvdHlwZTtmJiYhZlt1XSYmaShmLHUsYyksb1tjXT1vLkFycmF5fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTExKSxpPW4oMTEyKSxvPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5nZXRTdGFydEtleSgpLG89ZS5nZXRTdGFydE9mZnNldCgpLHU9ZS5nZXRFbmRLZXkoKSxhPWUuZ2V0RW5kT2Zmc2V0KCkscz1pKHQsZSksYz1zLmdldEJsb2NrTWFwKCksbD1jLmtleVNlcSgpLGY9bC5pbmRleE9mKG4pLHA9bC5pbmRleE9mKHUpKzE7cmV0dXJuIHIoYy5zbGljZShmLHApLm1hcChmdW5jdGlvbih0LGUpe3ZhciByPXQuZ2V0VGV4dCgpLGk9dC5nZXRDaGFyYWN0ZXJMaXN0KCk7cmV0dXJuIG49PT11P3QubWVyZ2Uoe3RleHQ6ci5zbGljZShvLGEpLGNoYXJhY3Rlckxpc3Q6aS5zbGljZShvLGEpfSk6ZT09PW4/dC5tZXJnZSh7dGV4dDpyLnNsaWNlKG8pLGNoYXJhY3Rlckxpc3Q6aS5zbGljZShvKX0pOmU9PT11P3QubWVyZ2Uoe3RleHQ6ci5zbGljZSgwLGEpLGNoYXJhY3Rlckxpc3Q6aS5zbGljZSgwLGEpfSk6dH0pKX07dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7Y29uc29sZS53YXJuKFwiV0FSTklORzogXCIrdCsnIHdpbGwgYmUgZGVwcmVjYXRlZCBzb29uIVxcblBsZWFzZSB1c2UgXCInK2UrJ1wiIGluc3RlYWQuJyl9dmFyIGk9big5KSxvPWl8fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKHRbcl09bltyXSl9cmV0dXJuIHR9LHU9bigxMTYpLGE9bigwKSxzPW4oMSksYz1hLk1hcCxsPWMoKSxmPTAscD17Z2V0TGFzdENyZWF0ZWRFbnRpdHlLZXk6ZnVuY3Rpb24oKXtyZXR1cm4gcihcIkRyYWZ0RW50aXR5LmdldExhc3RDcmVhdGVkRW50aXR5S2V5XCIsXCJjb250ZW50U3RhdGUuZ2V0TGFzdENyZWF0ZWRFbnRpdHlLZXlcIikscC5fX2dldExhc3RDcmVhdGVkRW50aXR5S2V5KCl9LGNyZWF0ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHIoXCJEcmFmdEVudGl0eS5jcmVhdGVcIixcImNvbnRlbnRTdGF0ZS5jcmVhdGVFbnRpdHlcIikscC5fX2NyZWF0ZSh0LGUsbil9LGFkZDpmdW5jdGlvbih0KXtyZXR1cm4gcihcIkRyYWZ0RW50aXR5LmFkZFwiLFwiY29udGVudFN0YXRlLmFkZEVudGl0eVwiKSxwLl9fYWRkKHQpfSxnZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHIoXCJEcmFmdEVudGl0eS5nZXRcIixcImNvbnRlbnRTdGF0ZS5nZXRFbnRpdHlcIikscC5fX2dldCh0KX0sbWVyZ2VEYXRhOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHIoXCJEcmFmdEVudGl0eS5tZXJnZURhdGFcIixcImNvbnRlbnRTdGF0ZS5tZXJnZUVudGl0eURhdGFcIikscC5fX21lcmdlRGF0YSh0LGUpfSxyZXBsYWNlRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiByKFwiRHJhZnRFbnRpdHkucmVwbGFjZURhdGFcIixcImNvbnRlbnRTdGF0ZS5yZXBsYWNlRW50aXR5RGF0YVwiKSxwLl9fcmVwbGFjZURhdGEodCxlKX0sX19nZXRMYXN0Q3JlYXRlZEVudGl0eUtleTpmdW5jdGlvbigpe3JldHVyblwiXCIrZn0sX19jcmVhdGU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBwLl9fYWRkKG5ldyB1KHt0eXBlOnQsbXV0YWJpbGl0eTplLGRhdGE6bnx8e319KSl9LF9fYWRkOmZ1bmN0aW9uKHQpe3ZhciBlPVwiXCIrICsrZjtyZXR1cm4gbD1sLnNldChlLHQpLGV9LF9fZ2V0OmZ1bmN0aW9uKHQpe3ZhciBlPWwuZ2V0KHQpO3JldHVybiBlfHxzKCExKSxlfSxfX21lcmdlRGF0YTpmdW5jdGlvbih0LGUpe3ZhciBuPXAuX19nZXQodCkscj1vKHt9LG4uZ2V0RGF0YSgpLGUpLGk9bi5zZXQoXCJkYXRhXCIscik7cmV0dXJuIGw9bC5zZXQodCxpKSxpfSxfX3JlcGxhY2VEYXRhOmZ1bmN0aW9uKHQsZSl7dmFyIG49cC5fX2dldCh0KSxyPW4uc2V0KFwiZGF0YVwiLGUpO3JldHVybiBsPWwuc2V0KHQscikscn19O3QuZXhwb3J0cz1wfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPXtCQUNLU1BBQ0U6OCxUQUI6OSxSRVRVUk46MTMsQUxUOjE4LEVTQzoyNyxTUEFDRTozMixQQUdFX1VQOjMzLFBBR0VfRE9XTjozNCxFTkQ6MzUsSE9NRTozNixMRUZUOjM3LFVQOjM4LFJJR0hUOjM5LERPV046NDAsREVMRVRFOjQ2LENPTU1BOjE4OCxQRVJJT0Q6MTkwLEE6NjUsWjo5MCxaRVJPOjQ4LE5VTVBBRF8wOjk2LE5VTVBBRF85OjEwNX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj17ZW5jb2RlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCtcIi1cIitlK1wiLVwiK259LGRlY29kZTpmdW5jdGlvbih0KXt2YXIgZT10LnNwbGl0KFwiLVwiKSxuPWVbMF0scj1lWzFdLGk9ZVsyXTtyZXR1cm57YmxvY2tLZXk6bixkZWNvcmF0b3JLZXk6cGFyc2VJbnQociwxMCksbGVhZktleTpwYXJzZUludChpLDEwKX19fTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTkpLGk9ci5pc1BsYXRmb3JtKFwiTWFjIE9TIFhcIiksbz17aXNDdHJsS2V5Q29tbWFuZDpmdW5jdGlvbih0KXtyZXR1cm4hIXQuY3RybEtleSYmIXQuYWx0S2V5fSxpc09wdGlvbktleUNvbW1hbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIGkmJnQuYWx0S2V5fSxoYXNDb21tYW5kTW9kaWZpZXI6ZnVuY3Rpb24odCl7cmV0dXJuIGk/ISF0Lm1ldGFLZXkmJiF0LmFsdEtleTpvLmlzQ3RybEtleUNvbW1hbmQodCl9fTt0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzQpLGk9bigxMzcpLG89bigxMzgpLHU9bigzMCksYT1uKDU0KSxzPW4oOTUpLGM9e30sbD17fSxlPXQuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixmLHApe3ZhciBoLGQseSxnLHY9cD9mdW5jdGlvbigpe3JldHVybiB0fTpzKHQpLF89cihuLGYsZT8yOjEpLG09MDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB2KXRocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBpdGVyYWJsZSFcIik7aWYobyh2KSl7Zm9yKGg9YSh0Lmxlbmd0aCk7aD5tO20rKylpZigoZz1lP18odShkPXRbbV0pWzBdLGRbMV0pOl8odFttXSkpPT09Y3x8Zz09PWwpcmV0dXJuIGd9ZWxzZSBmb3IoeT12LmNhbGwodCk7IShkPXkubmV4dCgpKS5kb25lOylpZigoZz1pKHksXyxkLnZhbHVlLGUpKT09PWN8fGc9PT1sKXJldHVybiBnfTtlLkJSRUFLPWMsZS5SRVRVUk49bH0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjEpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFyKHQpKXJldHVybiB0O3ZhciBuLGk7aWYoZSYmXCJmdW5jdGlvblwiPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIXIoaT1uLmNhbGwodCkpKXJldHVybiBpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC52YWx1ZU9mKSYmIXIoaT1uLmNhbGwodCkpKXJldHVybiBpO2lmKCFlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZihuPXQudG9TdHJpbmcpJiYhcihpPW4uY2FsbCh0KSkpcmV0dXJuIGk7dGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNjkpO3QuZXhwb3J0cz1PYmplY3QoXCJ6XCIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbih0KXtyZXR1cm5cIlN0cmluZ1wiPT1yKHQpP3Quc3BsaXQoXCJcIik6T2JqZWN0KHQpfX0sZnVuY3Rpb24odCxlKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4uY2FsbCh0KS5zbGljZSg4LC0xKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09dCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIrdCk7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpe3ZhciBuPU1hdGguY2VpbCxyPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0PSt0KT8wOih0PjA/cjpuKSh0KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDczKShcImtleXNcIiksaT1uKDU2KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHJbdF18fChyW3RdPWkodCkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNCksaT1uKDE0KSxvPWlbXCJfX2NvcmUtanNfc2hhcmVkX19cIl18fChpW1wiX19jb3JlLWpzX3NoYXJlZF9fXCJdPXt9KTsodC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG9bdF18fChvW3RdPXZvaWQgMCE9PWU/ZTp7fSl9KShcInZlcnNpb25zXCIsW10pLnB1c2goe3ZlcnNpb246ci52ZXJzaW9uLG1vZGU6big1NSk/XCJwdXJlXCI6XCJnbG9iYWxcIixjb3B5cmlnaHQ6XCLCqSAyMDE4IERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpXCJ9KX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2ZcIi5zcGxpdChcIixcIil9LGZ1bmN0aW9uKHQsZSl7ZS5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1lLl9fZXNNb2R1bGU9ITA7dmFyIGk9bigxNTYpLG89cihpKSx1PW4oMTY0KSxhPXIodSkscz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmRlZmF1bHQmJlwic3ltYm9sXCI9PXR5cGVvZiBvLmRlZmF1bHQ/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5kZWZhdWx0JiZ0LmNvbnN0cnVjdG9yPT09YS5kZWZhdWx0JiZ0IT09YS5kZWZhdWx0LnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fTtlLmRlZmF1bHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgYS5kZWZhdWx0JiZcInN5bWJvbFwiPT09cyhvLmRlZmF1bHQpP2Z1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10P1widW5kZWZpbmVkXCI6cyh0KX06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEuZGVmYXVsdCYmdC5jb25zdHJ1Y3Rvcj09PWEuZGVmYXVsdCYmdCE9PWEuZGVmYXVsdC5wcm90b3R5cGU/XCJzeW1ib2xcIjp2b2lkIDA9PT10P1widW5kZWZpbmVkXCI6cyh0KX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDU1KSxpPW4oOCksbz1uKDEwNSksdT1uKDI5KSxhPW4oNDMpLHM9bigxNTkpLGM9big1OSksbD1uKDEwMyksZj1uKDYpKFwiaXRlcmF0b3JcIikscD0hKFtdLmtleXMmJlwibmV4dFwiaW5bXS5rZXlzKCkpLGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLGQseSxnLHYpe3MobixlLGQpO3ZhciBfLG0sUyxiPWZ1bmN0aW9uKHQpe2lmKCFwJiZ0IGluIHgpcmV0dXJuIHhbdF07c3dpdGNoKHQpe2Nhc2VcImtleXNcIjpjYXNlXCJ2YWx1ZXNcIjpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyx0KX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsdCl9fSx3PWUrXCIgSXRlcmF0b3JcIixNPVwidmFsdWVzXCI9PXksRT0hMSx4PXQucHJvdG90eXBlLEk9eFtmXXx8eFtcIkBAaXRlcmF0b3JcIl18fHkmJnhbeV0saz1JfHxiKHkpLEw9eT9NP2IoXCJlbnRyaWVzXCIpOms6dm9pZCAwLFQ9XCJBcnJheVwiPT1lP3guZW50cmllc3x8STpJO2lmKFQmJihTPWwoVC5jYWxsKG5ldyB0KSkpIT09T2JqZWN0LnByb3RvdHlwZSYmUy5uZXh0JiYoYyhTLHcsITApLHJ8fFwiZnVuY3Rpb25cIj09dHlwZW9mIFNbZl18fHUoUyxmLGgpKSxNJiZJJiZcInZhbHVlc1wiIT09SS5uYW1lJiYoRT0hMCxrPWZ1bmN0aW9uKCl7cmV0dXJuIEkuY2FsbCh0aGlzKX0pLHImJiF2fHwhcCYmIUUmJnhbZl18fHUoeCxmLGspLGFbZV09ayxhW3ddPWgseSlpZihfPXt2YWx1ZXM6TT9rOmIoXCJ2YWx1ZXNcIiksa2V5czpnP2s6YihcImtleXNcIiksZW50cmllczpMfSx2KWZvcihtIGluIF8pbSBpbiB4fHxvKHgsbSxfW21dKTtlbHNlIGkoaS5QK2kuRioocHx8RSksZSxfKTtyZXR1cm4gX319LGZ1bmN0aW9uKHQsZSxuKXtlLmY9big2KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTYpKFwibWV0YVwiKSxpPW4oMjEpLG89bigzNiksdT1uKDExKS5mLGE9MCxzPU9iamVjdC5pc0V4dGVuc2libGV8fGZ1bmN0aW9uKCl7cmV0dXJuITB9LGM9IW4oMzUpKGZ1bmN0aW9uKCl7cmV0dXJuIHMoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSxsPWZ1bmN0aW9uKHQpe3UodCxyLHt2YWx1ZTp7aTpcIk9cIisgKythLHc6e319fSl9LGY9ZnVuY3Rpb24odCxlKXtpZighaSh0KSlyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgdD90OihcInN0cmluZ1wiPT10eXBlb2YgdD9cIlNcIjpcIlBcIikrdDtpZighbyh0LHIpKXtpZighcyh0KSlyZXR1cm5cIkZcIjtpZighZSlyZXR1cm5cIkVcIjtsKHQpfXJldHVybiB0W3JdLml9LHA9ZnVuY3Rpb24odCxlKXtpZighbyh0LHIpKXtpZighcyh0KSlyZXR1cm4hMDtpZighZSlyZXR1cm4hMTtsKHQpfXJldHVybiB0W3JdLnd9LGg9ZnVuY3Rpb24odCl7cmV0dXJuIGMmJmQuTkVFRCYmcyh0KSYmIW8odCxyKSYmbCh0KSx0fSxkPXQuZXhwb3J0cz17S0VZOnIsTkVFRDohMSxmYXN0S2V5OmYsZ2V0V2VhazpwLG9uRnJlZXplOmh9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNCksaT1uKDQpLG89big1NSksdT1uKDc4KSxhPW4oMTEpLmY7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPWkuU3ltYm9sfHwoaS5TeW1ib2w9bz97fTpyLlN5bWJvbHx8e30pO1wiX1wiPT10LmNoYXJBdCgwKXx8dCBpbiBlfHxhKGUsdCx7dmFsdWU6dS5mKHQpfSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19dmFyIGk9ZnVuY3Rpb24oKXt9O2kudGhhdFJldHVybnM9cixpLnRoYXRSZXR1cm5zRmFsc2U9cighMSksaS50aGF0UmV0dXJuc1RydWU9cighMCksaS50aGF0UmV0dXJuc051bGw9cihudWxsKSxpLnRoYXRSZXR1cm5zVGhpcz1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxpLnRoYXRSZXR1cm5zQXJndW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHQuZXhwb3J0cz1pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaSh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIG8odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX12YXIgdT1uKDUwKSxhPW4oNykscz1uKDM3KSxjPW4oMTApLGw9big2MiksZj1uKDMxKSxwPW4oMCksaD1uKDQ0KSxkPW4oMjUpLHk9big4MyksZz1wLkxpc3Qsdj1wLlJlY29yZCxfPXAuUmVwZWF0LG09Zi5kcmFmdF90cmVlX2RhdGFfc3VwcG9ydCxTPXtlbnRpdHlNYXA6bnVsbCxibG9ja01hcDpudWxsLHNlbGVjdGlvbkJlZm9yZTpudWxsLHNlbGVjdGlvbkFmdGVyOm51bGx9LGI9bT9jOnMsdz12KFMpLE09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiByKHRoaXMsZSksaSh0aGlzLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbyhlLHQpLGUucHJvdG90eXBlLmdldEVudGl0eU1hcD1mdW5jdGlvbigpe3JldHVybiBsfSxlLnByb3RvdHlwZS5nZXRCbG9ja01hcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChcImJsb2NrTWFwXCIpfSxlLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25CZWZvcmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJzZWxlY3Rpb25CZWZvcmVcIil9LGUucHJvdG90eXBlLmdldFNlbGVjdGlvbkFmdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFwic2VsZWN0aW9uQWZ0ZXJcIil9LGUucHJvdG90eXBlLmdldEJsb2NrRm9yS2V5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEJsb2NrTWFwKCkuZ2V0KHQpfSxlLnByb3RvdHlwZS5nZXRLZXlCZWZvcmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0QmxvY2tNYXAoKS5yZXZlcnNlKCkua2V5U2VxKCkuc2tpcFVudGlsKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pLnNraXAoMSkuZmlyc3QoKX0sZS5wcm90b3R5cGUuZ2V0S2V5QWZ0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0QmxvY2tNYXAoKS5rZXlTZXEoKS5za2lwVW50aWwoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSkuc2tpcCgxKS5maXJzdCgpfSxlLnByb3RvdHlwZS5nZXRCbG9ja0FmdGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEJsb2NrTWFwKCkuc2tpcFVudGlsKGZ1bmN0aW9uKGUsbil7cmV0dXJuIG49PT10fSkuc2tpcCgxKS5maXJzdCgpfSxlLnByb3RvdHlwZS5nZXRCbG9ja0JlZm9yZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRCbG9ja01hcCgpLnJldmVyc2UoKS5za2lwVW50aWwoZnVuY3Rpb24oZSxuKXtyZXR1cm4gbj09PXR9KS5za2lwKDEpLmZpcnN0KCl9LGUucHJvdG90eXBlLmdldEJsb2Nrc0FzQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRCbG9ja01hcCgpLnRvQXJyYXkoKX0sZS5wcm90b3R5cGUuZ2V0Rmlyc3RCbG9jaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJsb2NrTWFwKCkuZmlyc3QoKX0sZS5wcm90b3R5cGUuZ2V0TGFzdEJsb2NrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QmxvY2tNYXAoKS5sYXN0KCl9LGUucHJvdG90eXBlLmdldFBsYWluVGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRCbG9ja01hcCgpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdD90LmdldFRleHQoKTpcIlwifSkuam9pbih0fHxcIlxcblwiKX0sZS5wcm90b3R5cGUuZ2V0TGFzdENyZWF0ZWRFbnRpdHlLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gbC5fX2dldExhc3RDcmVhdGVkRW50aXR5S2V5KCl9LGUucHJvdG90eXBlLmhhc1RleHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEJsb2NrTWFwKCk7cmV0dXJuIHQuc2l6ZT4xfHx0LmZpcnN0KCkuZ2V0TGVuZ3RoKCk+MH0sZS5wcm90b3R5cGUuY3JlYXRlRW50aXR5PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbC5fX2NyZWF0ZSh0LGUsbiksdGhpc30sZS5wcm90b3R5cGUubWVyZ2VFbnRpdHlEYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGwuX19tZXJnZURhdGEodCxlKSx0aGlzfSxlLnByb3RvdHlwZS5yZXBsYWNlRW50aXR5RGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiBsLl9fcmVwbGFjZURhdGEodCxlKSx0aGlzfSxlLnByb3RvdHlwZS5hZGRFbnRpdHk9ZnVuY3Rpb24odCl7cmV0dXJuIGwuX19hZGQodCksdGhpc30sZS5wcm90b3R5cGUuZ2V0RW50aXR5PWZ1bmN0aW9uKHQpe3JldHVybiBsLl9fZ2V0KHQpfSxlLmNyZWF0ZUZyb21CbG9ja0FycmF5PWZ1bmN0aW9uKHQsbil7dmFyIHI9QXJyYXkuaXNBcnJheSh0KT90OnQuY29udGVudEJsb2NrcyxpPXUuY3JlYXRlRnJvbUFycmF5KHIpLG89aS5pc0VtcHR5KCk/bmV3IGg6aC5jcmVhdGVFbXB0eShpLmZpcnN0KCkuZ2V0S2V5KCkpO3JldHVybiBuZXcgZSh7YmxvY2tNYXA6aSxlbnRpdHlNYXA6bnx8bCxzZWxlY3Rpb25CZWZvcmU6byxzZWxlY3Rpb25BZnRlcjpvfSl9LGUuY3JlYXRlRnJvbVRleHQ9ZnVuY3Rpb24odCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOi9cXHJcXG4/fFxcbi9nLHI9dC5zcGxpdChuKSxpPXIubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0PXkodCksbmV3IGIoe2tleTpkKCksdGV4dDp0LHR5cGU6XCJ1bnN0eWxlZFwiLGNoYXJhY3Rlckxpc3Q6ZyhfKGEuRU1QVFksdC5sZW5ndGgpKX0pfSk7cmV0dXJuIGUuY3JlYXRlRnJvbUJsb2NrQXJyYXkoaSl9LGV9KHcpO3QuZXhwb3J0cz1NfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdC5yZXBsYWNlKGksXCJcIil9dmFyIGk9bmV3IFJlZ0V4cChcIlxcclwiLFwiZ1wiKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQ9PT1sfHx0PT09Zn1mdW5jdGlvbiBpKHQpe3JldHVybiByKHQpfHxjKCExKSx0PT09bD9cImx0clwiOlwicnRsXCJ9ZnVuY3Rpb24gbyh0LGUpe3JldHVybiByKHQpfHxjKCExKSxyKGUpfHxjKCExKSx0PT09ZT9udWxsOmkodCl9ZnVuY3Rpb24gdSh0KXtwPXR9ZnVuY3Rpb24gYSgpe3UobCl9ZnVuY3Rpb24gcygpe3JldHVybiBwfHx0aGlzLmluaXRHbG9iYWxEaXIoKSxwfHxjKCExKSxwfXZhciBjPW4oMSksbD1cIkxUUlwiLGY9XCJSVExcIixwPW51bGwsaD17TkVVVFJBTDpcIk5FVVRSQUxcIixMVFI6bCxSVEw6Zixpc1N0cm9uZzpyLGdldEhUTUxEaXI6aSxnZXRIVE1MRGlySWZEaWZmZXJlbnQ6byxzZXRHbG9iYWxEaXI6dSxpbml0R2xvYmFsRGlyOmEsZ2V0R2xvYmFsRGlyOnN9O3QuZXhwb3J0cz1ofSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigwKSxpPXIuTWFwLG89bigzKSx1PW4oNDUpLGE9by5jcmVhdGVFbGVtZW50KFwidWxcIix7Y2xhc3NOYW1lOnUoXCJwdWJsaWMvRHJhZnRTdHlsZURlZmF1bHQvdWxcIil9KSxzPW8uY3JlYXRlRWxlbWVudChcIm9sXCIse2NsYXNzTmFtZTp1KFwicHVibGljL0RyYWZ0U3R5bGVEZWZhdWx0L29sXCIpfSksYz1vLmNyZWF0ZUVsZW1lbnQoXCJwcmVcIix7Y2xhc3NOYW1lOnUoXCJwdWJsaWMvRHJhZnRTdHlsZURlZmF1bHQvcHJlXCIpfSksbD1pKHtcImhlYWRlci1vbmVcIjp7ZWxlbWVudDpcImgxXCJ9LFwiaGVhZGVyLXR3b1wiOntlbGVtZW50OlwiaDJcIn0sXCJoZWFkZXItdGhyZWVcIjp7ZWxlbWVudDpcImgzXCJ9LFwiaGVhZGVyLWZvdXJcIjp7ZWxlbWVudDpcImg0XCJ9LFwiaGVhZGVyLWZpdmVcIjp7ZWxlbWVudDpcImg1XCJ9LFwiaGVhZGVyLXNpeFwiOntlbGVtZW50OlwiaDZcIn0sXCJ1bm9yZGVyZWQtbGlzdC1pdGVtXCI6e2VsZW1lbnQ6XCJsaVwiLHdyYXBwZXI6YX0sXCJvcmRlcmVkLWxpc3QtaXRlbVwiOntlbGVtZW50OlwibGlcIix3cmFwcGVyOnN9LGJsb2NrcXVvdGU6e2VsZW1lbnQ6XCJibG9ja3F1b3RlXCJ9LGF0b21pYzp7ZWxlbWVudDpcImZpZ3VyZVwifSxcImNvZGUtYmxvY2tcIjp7ZWxlbWVudDpcInByZVwiLHdyYXBwZXI6Y30sdW5zdHlsZWQ6e2VsZW1lbnQ6XCJkaXZcIixhbGlhc2VkRWxlbWVudHM6W1wicFwiXX19KTt0LmV4cG9ydHM9bH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXt2YXIgbjtpZihlLmlzQ29sbGFwc2VkKCkpe3ZhciByPWUuZ2V0QW5jaG9yS2V5KCksbz1lLmdldEFuY2hvck9mZnNldCgpO3JldHVybiBvPjA/KG49dC5nZXRCbG9ja0ZvcktleShyKS5nZXRFbnRpdHlBdChvLTEpLG4hPT10LmdldEJsb2NrRm9yS2V5KHIpLmdldEVudGl0eUF0KG8pP251bGw6aSh0LmdldEVudGl0eU1hcCgpLG4pKTpudWxsfXZhciB1PWUuZ2V0U3RhcnRLZXkoKSxhPWUuZ2V0U3RhcnRPZmZzZXQoKSxzPXQuZ2V0QmxvY2tGb3JLZXkodSk7cmV0dXJuIG49YT09PXMuZ2V0TGVuZ3RoKCk/bnVsbDpzLmdldEVudGl0eUF0KGEpLGkodC5nZXRFbnRpdHlNYXAoKSxuKX1mdW5jdGlvbiBpKHQsZSl7cmV0dXJuIGUmJlwiTVVUQUJMRVwiPT09dC5fX2dldChlKS5nZXRNdXRhYmlsaXR5KCk/ZTpudWxsfXQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe3JldHVybiEoIXR8fCFlKSYmKHQ9PT1lfHwhaSh0KSYmKGkoZSk/cih0LGUucGFyZW50Tm9kZSk6XCJjb250YWluc1wiaW4gdD90LmNvbnRhaW5zKGUpOiEhdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmISEoMTYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKSkpKX12YXIgaT1uKDIwOSk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7dmFyIG49by5nZXQodCxlKTtyZXR1cm5cImF1dG9cIj09PW58fFwic2Nyb2xsXCI9PT1ufXZhciBpPW4oMjExKSxvPXtnZXQ6aSxnZXRTY3JvbGxQYXJlbnQ6ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIG51bGw7Zm9yKHZhciBlPXQub3duZXJEb2N1bWVudDt0JiZ0IT09ZS5ib2R5Oyl7aWYocih0LFwib3ZlcmZsb3dcIil8fHIodCxcIm92ZXJmbG93WVwiKXx8cih0LFwib3ZlcmZsb3dYXCIpKXJldHVybiB0O3Q9dC5wYXJlbnROb2RlfXJldHVybiBlLmRlZmF1bHRWaWV3fHxlLnBhcmVudFdpbmRvd319O3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXt2YXIgZT1pKHQub3duZXJEb2N1bWVudHx8dC5kb2N1bWVudCk7dC5XaW5kb3cmJnQgaW5zdGFuY2VvZiB0LldpbmRvdyYmKHQ9ZSk7dmFyIG49byh0KSxyPXQ9PT1lP3Qub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ6dCx1PXQuc2Nyb2xsV2lkdGgtci5jbGllbnRXaWR0aCxhPXQuc2Nyb2xsSGVpZ2h0LXIuY2xpZW50SGVpZ2h0O3JldHVybiBuLng9TWF0aC5tYXgoMCxNYXRoLm1pbihuLngsdSkpLG4ueT1NYXRoLm1heCgwLE1hdGgubWluKG4ueSxhKSksbn12YXIgaT1uKDIxNiksbz1uKDIxNyk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe2Zvcih2YXIgZT10O2UmJmUhPT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7KXt2YXIgbj1pKGUpO2lmKG51bGwhPW4pcmV0dXJuIG47ZT1lLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9dmFyIGk9bigxMjQpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe3ZhciBuPXQuZ2V0U2VsZWN0aW9uKCkscj10LmdldEN1cnJlbnRDb250ZW50KCksaT1uLmdldFN0YXJ0S2V5KCksbz1uLmdldFN0YXJ0T2Zmc2V0KCksdT1pLGE9MDtpZihlPm8pe3ZhciBzPXIuZ2V0S2V5QmVmb3JlKGkpO251bGw9PXM/dT1pOih1PXMsYT1yLmdldEJsb2NrRm9yS2V5KHMpLmdldFRleHQoKS5sZW5ndGgpfWVsc2UgYT1vLWU7cmV0dXJuIG4ubWVyZ2Uoe2ZvY3VzS2V5OnUsZm9jdXNPZmZzZXQ6YSxpc0JhY2t3YXJkOiEwfSl9dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiBmJiZ0LmFsdEtleXx8eSh0KX1mdW5jdGlvbiBpKHQpe3JldHVybiBkKHQpP3Quc2hpZnRLZXk/XCJyZWRvXCI6XCJ1bmRvXCI6bnVsbH1mdW5jdGlvbiBvKHQpe3JldHVybiBwJiZ0LnNoaWZ0S2V5P251bGw6cih0KT9cImRlbGV0ZS13b3JkXCI6XCJkZWxldGVcIn1mdW5jdGlvbiB1KHQpe3JldHVybiBkKHQpJiZmP1wiYmFja3NwYWNlLXRvLXN0YXJ0LW9mLWxpbmVcIjpyKHQpP1wiYmFja3NwYWNlLXdvcmRcIjpcImJhY2tzcGFjZVwifWZ1bmN0aW9uIGEodCl7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSA2NjpyZXR1cm4gZCh0KT9cImJvbGRcIjpudWxsO2Nhc2UgNjg6cmV0dXJuIHkodCk/XCJkZWxldGVcIjpudWxsO2Nhc2UgNzI6cmV0dXJuIHkodCk/XCJiYWNrc3BhY2VcIjpudWxsO2Nhc2UgNzM6cmV0dXJuIGQodCk/XCJpdGFsaWNcIjpudWxsO2Nhc2UgNzQ6cmV0dXJuIGQodCk/XCJjb2RlXCI6bnVsbDtjYXNlIDc1OnJldHVybiFwJiZ5KHQpP1wic2Vjb25kYXJ5LWN1dFwiOm51bGw7Y2FzZSA3NzpjYXNlIDc5OnJldHVybiB5KHQpP1wic3BsaXQtYmxvY2tcIjpudWxsO2Nhc2UgODQ6cmV0dXJuIGYmJnkodCk/XCJ0cmFuc3Bvc2UtY2hhcmFjdGVyc1wiOm51bGw7Y2FzZSA4NTpyZXR1cm4gZCh0KT9cInVuZGVybGluZVwiOm51bGw7Y2FzZSA4NzpyZXR1cm4gZiYmeSh0KT9cImJhY2tzcGFjZS13b3JkXCI6bnVsbDtjYXNlIDg5OnJldHVybiB5KHQpP3A/XCJyZWRvXCI6XCJzZWNvbmRhcnktcGFzdGVcIjpudWxsO2Nhc2UgOTA6cmV0dXJuIGkodCl8fG51bGw7Y2FzZSBjLlJFVFVSTjpyZXR1cm5cInNwbGl0LWJsb2NrXCI7Y2FzZSBjLkRFTEVURTpyZXR1cm4gbyh0KTtjYXNlIGMuQkFDS1NQQUNFOnJldHVybiB1KHQpO2Nhc2UgYy5MRUZUOnJldHVybiBoJiZkKHQpP1wibW92ZS1zZWxlY3Rpb24tdG8tc3RhcnQtb2YtYmxvY2tcIjpudWxsO2Nhc2UgYy5SSUdIVDpyZXR1cm4gaCYmZCh0KT9cIm1vdmUtc2VsZWN0aW9uLXRvLWVuZC1vZi1ibG9ja1wiOm51bGw7ZGVmYXVsdDpyZXR1cm4gbnVsbH19dmFyIHM9big2NSksYz1uKDYzKSxsPW4oMTkpLGY9bC5pc1BsYXRmb3JtKFwiTWFjIE9TIFhcIikscD1sLmlzUGxhdGZvcm0oXCJXaW5kb3dzXCIpLGg9ZiYmbC5pc0Jyb3dzZXIoXCJGaXJlZm94IDwgMjlcIiksZD1zLmhhc0NvbW1hbmRNb2RpZmllcix5PXMuaXNDdHJsS2V5Q29tbWFuZDt0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlLG4peyFmdW5jdGlvbihlLG4pe3QuZXhwb3J0cz1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxlKXtlJiYodC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSkpLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXR9ZnVuY3Rpb24gZSh0KXtyZXR1cm4gbyh0KT90OlQodCl9ZnVuY3Rpb24gbih0KXtyZXR1cm4gdSh0KT90OkQodCl9ZnVuY3Rpb24gcih0KXtyZXR1cm4gYSh0KT90Ok8odCl9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gbyh0KSYmIXModCk/dDpOKHQpfWZ1bmN0aW9uIG8odCl7cmV0dXJuISghdHx8IXRbY25dKX1mdW5jdGlvbiB1KHQpe3JldHVybiEoIXR8fCF0W2xuXSl9ZnVuY3Rpb24gYSh0KXtyZXR1cm4hKCF0fHwhdFtmbl0pfWZ1bmN0aW9uIHModCl7cmV0dXJuIHUodCl8fGEodCl9ZnVuY3Rpb24gYyh0KXtyZXR1cm4hKCF0fHwhdFtwbl0pfWZ1bmN0aW9uIGwodCl7cmV0dXJuIHQudmFsdWU9ITEsdH1mdW5jdGlvbiBmKHQpe3QmJih0LnZhbHVlPSEwKX1mdW5jdGlvbiBwKCl7fWZ1bmN0aW9uIGgodCxlKXtlPWV8fDA7Zm9yKHZhciBuPU1hdGgubWF4KDAsdC5sZW5ndGgtZSkscj1uZXcgQXJyYXkobiksaT0wO2k8bjtpKyspcltpXT10W2krZV07cmV0dXJuIHJ9ZnVuY3Rpb24gZCh0KXtyZXR1cm4gdm9pZCAwPT09dC5zaXplJiYodC5zaXplPXQuX19pdGVyYXRlKGcpKSx0LnNpemV9ZnVuY3Rpb24geSh0LGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXt2YXIgbj1lPj4+MDtpZihcIlwiK24hPT1lfHw0Mjk0OTY3Mjk1PT09bilyZXR1cm4gTmFOO2U9bn1yZXR1cm4gZTwwP2QodCkrZTplfWZ1bmN0aW9uIGcoKXtyZXR1cm4hMH1mdW5jdGlvbiB2KHQsZSxuKXtyZXR1cm4oMD09PXR8fHZvaWQgMCE9PW4mJnQ8PS1uKSYmKHZvaWQgMD09PWV8fHZvaWQgMCE9PW4mJmU+PW4pfWZ1bmN0aW9uIF8odCxlKXtyZXR1cm4gUyh0LGUsMCl9ZnVuY3Rpb24gbSh0LGUpe3JldHVybiBTKHQsZSxlKX1mdW5jdGlvbiBTKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09dD9uOnQ8MD9NYXRoLm1heCgwLGUrdCk6dm9pZCAwPT09ZT90Ok1hdGgubWluKGUsdCl9ZnVuY3Rpb24gYih0KXt0aGlzLm5leHQ9dH1mdW5jdGlvbiB3KHQsZSxuLHIpe3ZhciBpPTA9PT10P2U6MT09PXQ/bjpbZSxuXTtyZXR1cm4gcj9yLnZhbHVlPWk6cj17dmFsdWU6aSxkb25lOiExfSxyfWZ1bmN0aW9uIE0oKXtyZXR1cm57dmFsdWU6dm9pZCAwLGRvbmU6ITB9fWZ1bmN0aW9uIEUodCl7cmV0dXJuISFrKHQpfWZ1bmN0aW9uIHgodCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQubmV4dH1mdW5jdGlvbiBJKHQpe3ZhciBlPWsodCk7cmV0dXJuIGUmJmUuY2FsbCh0KX1mdW5jdGlvbiBrKHQpe3ZhciBlPXQmJih3biYmdFt3bl18fHRbTW5dKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBlfWZ1bmN0aW9uIEwodCl7cmV0dXJuIHQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aH1mdW5jdGlvbiBUKHQpe3JldHVybiBudWxsPT09dHx8dm9pZCAwPT09dD9SKCk6byh0KT90LnRvU2VxKCk6VSh0KX1mdW5jdGlvbiBEKHQpe3JldHVybiBudWxsPT09dHx8dm9pZCAwPT09dD9SKCkudG9LZXllZFNlcSgpOm8odCk/dSh0KT90LnRvU2VxKCk6dC5mcm9tRW50cnlTZXEoKTpLKHQpfWZ1bmN0aW9uIE8odCl7cmV0dXJuIG51bGw9PT10fHx2b2lkIDA9PT10P1IoKTpvKHQpP3UodCk/dC5lbnRyeVNlcSgpOnQudG9JbmRleGVkU2VxKCk6UCh0KX1mdW5jdGlvbiBOKHQpe3JldHVybihudWxsPT09dHx8dm9pZCAwPT09dD9SKCk6byh0KT91KHQpP3QuZW50cnlTZXEoKTp0OlAodCkpLnRvU2V0U2VxKCl9ZnVuY3Rpb24gQyh0KXt0aGlzLl9hcnJheT10LHRoaXMuc2l6ZT10Lmxlbmd0aH1mdW5jdGlvbiBqKHQpe3ZhciBlPU9iamVjdC5rZXlzKHQpO3RoaXMuX29iamVjdD10LHRoaXMuX2tleXM9ZSx0aGlzLnNpemU9ZS5sZW5ndGh9ZnVuY3Rpb24gQSh0KXt0aGlzLl9pdGVyYWJsZT10LHRoaXMuc2l6ZT10Lmxlbmd0aHx8dC5zaXplfWZ1bmN0aW9uIHoodCl7dGhpcy5faXRlcmF0b3I9dCx0aGlzLl9pdGVyYXRvckNhY2hlPVtdfWZ1bmN0aW9uIEIodCl7cmV0dXJuISghdHx8IXRbeG5dKX1mdW5jdGlvbiBSKCl7cmV0dXJuIElufHwoSW49bmV3IEMoW10pKX1mdW5jdGlvbiBLKHQpe3ZhciBlPUFycmF5LmlzQXJyYXkodCk/bmV3IEModCkuZnJvbUVudHJ5U2VxKCk6eCh0KT9uZXcgeih0KS5mcm9tRW50cnlTZXEoKTpFKHQpP25ldyBBKHQpLmZyb21FbnRyeVNlcSgpOlwib2JqZWN0XCI9PXR5cGVvZiB0P25ldyBqKHQpOnZvaWQgMDtpZighZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgQXJyYXkgb3IgaXRlcmFibGUgb2JqZWN0IG9mIFtrLCB2XSBlbnRyaWVzLCBvciBrZXllZCBvYmplY3Q6IFwiK3QpO3JldHVybiBlfWZ1bmN0aW9uIFAodCl7dmFyIGU9Rih0KTtpZighZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgQXJyYXkgb3IgaXRlcmFibGUgb2JqZWN0IG9mIHZhbHVlczogXCIrdCk7cmV0dXJuIGV9ZnVuY3Rpb24gVSh0KXt2YXIgZT1GKHQpfHxcIm9iamVjdFwiPT10eXBlb2YgdCYmbmV3IGoodCk7aWYoIWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkIEFycmF5IG9yIGl0ZXJhYmxlIG9iamVjdCBvZiB2YWx1ZXMsIG9yIGtleWVkIG9iamVjdDogXCIrdCk7cmV0dXJuIGV9ZnVuY3Rpb24gRih0KXtyZXR1cm4gTCh0KT9uZXcgQyh0KTp4KHQpP25ldyB6KHQpOkUodCk/bmV3IEEodCk6dm9pZCAwfWZ1bmN0aW9uIFkodCxlLG4scil7dmFyIGk9dC5fY2FjaGU7aWYoaSl7Zm9yKHZhciBvPWkubGVuZ3RoLTEsdT0wO3U8PW87dSsrKXt2YXIgYT1pW24/by11OnVdO2lmKCExPT09ZShhWzFdLHI/YVswXTp1LHQpKXJldHVybiB1KzF9cmV0dXJuIHV9cmV0dXJuIHQuX19pdGVyYXRlVW5jYWNoZWQoZSxuKX1mdW5jdGlvbiBIKHQsZSxuLHIpe3ZhciBpPXQuX2NhY2hlO2lmKGkpe3ZhciBvPWkubGVuZ3RoLTEsdT0wO3JldHVybiBuZXcgYihmdW5jdGlvbigpe3ZhciB0PWlbbj9vLXU6dV07cmV0dXJuIHUrKz5vP00oKTp3KGUscj90WzBdOnUtMSx0WzFdKX0pfXJldHVybiB0Ll9faXRlcmF0b3JVbmNhY2hlZChlLG4pfWZ1bmN0aW9uIHEodCxlKXtyZXR1cm4gZT9XKGUsdCxcIlwiLHtcIlwiOnR9KTpHKHQpfWZ1bmN0aW9uIFcodCxlLG4scil7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/dC5jYWxsKHIsbixPKGUpLm1hcChmdW5jdGlvbihuLHIpe3JldHVybiBXKHQsbixyLGUpfSkpOlYoZSk/dC5jYWxsKHIsbixEKGUpLm1hcChmdW5jdGlvbihuLHIpe3JldHVybiBXKHQsbixyLGUpfSkpOmV9ZnVuY3Rpb24gRyh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT9PKHQpLm1hcChHKS50b0xpc3QoKTpWKHQpP0QodCkubWFwKEcpLnRvTWFwKCk6dH1mdW5jdGlvbiBWKHQpe3JldHVybiB0JiYodC5jb25zdHJ1Y3Rvcj09PU9iamVjdHx8dm9pZCAwPT09dC5jb25zdHJ1Y3Rvcil9ZnVuY3Rpb24gUSh0LGUpe2lmKHQ9PT1lfHx0IT09dCYmZSE9PWUpcmV0dXJuITA7aWYoIXR8fCFlKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQudmFsdWVPZiYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS52YWx1ZU9mKXtpZih0PXQudmFsdWVPZigpLGU9ZS52YWx1ZU9mKCksdD09PWV8fHQhPT10JiZlIT09ZSlyZXR1cm4hMDtpZighdHx8IWUpcmV0dXJuITF9cmV0dXJuIShcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LmVxdWFsc3x8XCJmdW5jdGlvblwiIT10eXBlb2YgZS5lcXVhbHN8fCF0LmVxdWFscyhlKSl9ZnVuY3Rpb24gWih0LGUpe2lmKHQ9PT1lKXJldHVybiEwO2lmKCFvKGUpfHx2b2lkIDAhPT10LnNpemUmJnZvaWQgMCE9PWUuc2l6ZSYmdC5zaXplIT09ZS5zaXplfHx2b2lkIDAhPT10Ll9faGFzaCYmdm9pZCAwIT09ZS5fX2hhc2gmJnQuX19oYXNoIT09ZS5fX2hhc2h8fHUodCkhPT11KGUpfHxhKHQpIT09YShlKXx8Yyh0KSE9PWMoZSkpcmV0dXJuITE7aWYoMD09PXQuc2l6ZSYmMD09PWUuc2l6ZSlyZXR1cm4hMDt2YXIgbj0hcyh0KTtpZihjKHQpKXt2YXIgcj10LmVudHJpZXMoKTtyZXR1cm4gZS5ldmVyeShmdW5jdGlvbih0LGUpe3ZhciBpPXIubmV4dCgpLnZhbHVlO3JldHVybiBpJiZRKGlbMV0sdCkmJihufHxRKGlbMF0sZSkpfSkmJnIubmV4dCgpLmRvbmV9dmFyIGk9ITE7aWYodm9pZCAwPT09dC5zaXplKWlmKHZvaWQgMD09PWUuc2l6ZSlcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNhY2hlUmVzdWx0JiZ0LmNhY2hlUmVzdWx0KCk7ZWxzZXtpPSEwO3ZhciBsPXQ7dD1lLGU9bH12YXIgZj0hMCxwPWUuX19pdGVyYXRlKGZ1bmN0aW9uKGUscil7aWYobj8hdC5oYXMoZSk6aT8hUShlLHQuZ2V0KHIsZ24pKTohUSh0LmdldChyLGduKSxlKSlyZXR1cm4gZj0hMSwhMX0pO3JldHVybiBmJiZ0LnNpemU9PT1wfWZ1bmN0aW9uIEoodCxlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBKKSlyZXR1cm4gbmV3IEoodCxlKTtpZih0aGlzLl92YWx1ZT10LHRoaXMuc2l6ZT12b2lkIDA9PT1lPzEvMDpNYXRoLm1heCgwLGUpLDA9PT10aGlzLnNpemUpe2lmKGtuKXJldHVybiBrbjtrbj10aGlzfX1mdW5jdGlvbiBYKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGUpfWZ1bmN0aW9uICQodCxlLG4pe2lmKCEodGhpcyBpbnN0YW5jZW9mICQpKXJldHVybiBuZXcgJCh0LGUsbik7aWYoWCgwIT09bixcIkNhbm5vdCBzdGVwIGEgUmFuZ2UgYnkgMFwiKSx0PXR8fDAsdm9pZCAwPT09ZSYmKGU9MS8wKSxuPXZvaWQgMD09PW4/MTpNYXRoLmFicyhuKSxlPHQmJihuPS1uKSx0aGlzLl9zdGFydD10LHRoaXMuX2VuZD1lLHRoaXMuX3N0ZXA9bix0aGlzLnNpemU9TWF0aC5tYXgoMCxNYXRoLmNlaWwoKGUtdCkvbi0xKSsxKSwwPT09dGhpcy5zaXplKXtpZihMbilyZXR1cm4gTG47TG49dGhpc319ZnVuY3Rpb24gdHQoKXt0aHJvdyBUeXBlRXJyb3IoXCJBYnN0cmFjdFwiKX1mdW5jdGlvbiBldCgpe31mdW5jdGlvbiBudCgpe31mdW5jdGlvbiBydCgpe31mdW5jdGlvbiBpdCh0KXtyZXR1cm4gdD4+PjEmMTA3Mzc0MTgyNHwzMjIxMjI1NDcxJnR9ZnVuY3Rpb24gb3QodCl7aWYoITE9PT10fHxudWxsPT09dHx8dm9pZCAwPT09dClyZXR1cm4gMDtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnZhbHVlT2YmJighMT09PSh0PXQudmFsdWVPZigpKXx8bnVsbD09PXR8fHZvaWQgMD09PXQpKXJldHVybiAwO2lmKCEwPT09dClyZXR1cm4gMTt2YXIgZT10eXBlb2YgdDtpZihcIm51bWJlclwiPT09ZSl7aWYodCE9PXR8fHQ9PT0xLzApcmV0dXJuIDA7dmFyIG49MHx0O2ZvcihuIT09dCYmKG5ePTQyOTQ5NjcyOTUqdCk7dD40Mjk0OTY3Mjk1Oyl0Lz00Mjk0OTY3Mjk1LG5ePXQ7cmV0dXJuIGl0KG4pfWlmKFwic3RyaW5nXCI9PT1lKXJldHVybiB0Lmxlbmd0aD56bj91dCh0KTphdCh0KTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lmhhc2hDb2RlKXJldHVybiB0Lmhhc2hDb2RlKCk7aWYoXCJvYmplY3RcIj09PWUpcmV0dXJuIHN0KHQpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQudG9TdHJpbmcpcmV0dXJuIGF0KHQudG9TdHJpbmcoKSk7dGhyb3cgbmV3IEVycm9yKFwiVmFsdWUgdHlwZSBcIitlK1wiIGNhbm5vdCBiZSBoYXNoZWQuXCIpfWZ1bmN0aW9uIHV0KHQpe3ZhciBlPUtuW3RdO3JldHVybiB2b2lkIDA9PT1lJiYoZT1hdCh0KSxSbj09PUJuJiYoUm49MCxLbj17fSksUm4rKyxLblt0XT1lKSxlfWZ1bmN0aW9uIGF0KHQpe2Zvcih2YXIgZT0wLG49MDtuPHQubGVuZ3RoO24rKyllPTMxKmUrdC5jaGFyQ29kZUF0KG4pfDA7cmV0dXJuIGl0KGUpfWZ1bmN0aW9uIHN0KHQpe3ZhciBlO2lmKENuJiZ2b2lkIDAhPT0oZT1Ubi5nZXQodCkpKXJldHVybiBlO2lmKHZvaWQgMCE9PShlPXRbQW5dKSlyZXR1cm4gZTtpZighTm4pe2lmKHZvaWQgMCE9PShlPXQucHJvcGVydHlJc0VudW1lcmFibGUmJnQucHJvcGVydHlJc0VudW1lcmFibGVbQW5dKSlyZXR1cm4gZTtpZih2b2lkIDAhPT0oZT1jdCh0KSkpcmV0dXJuIGV9aWYoZT0rK2puLDEwNzM3NDE4MjQmam4mJihqbj0wKSxDbilUbi5zZXQodCxlKTtlbHNle2lmKHZvaWQgMCE9PU9uJiYhMT09PU9uKHQpKXRocm93IG5ldyBFcnJvcihcIk5vbi1leHRlbnNpYmxlIG9iamVjdHMgYXJlIG5vdCBhbGxvd2VkIGFzIGtleXMuXCIpO2lmKE5uKU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LEFuLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMSx3cml0YWJsZTohMSx2YWx1ZTplfSk7ZWxzZSBpZih2b2lkIDAhPT10LnByb3BlcnR5SXNFbnVtZXJhYmxlJiZ0LnByb3BlcnR5SXNFbnVtZXJhYmxlPT09dC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUpdC5wcm9wZXJ0eUlzRW51bWVyYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHQucHJvcGVydHlJc0VudW1lcmFibGVbQW5dPWU7ZWxzZXtpZih2b2lkIDA9PT10Lm5vZGVUeXBlKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBzZXQgYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSBvbiBvYmplY3QuXCIpO3RbQW5dPWV9fXJldHVybiBlfWZ1bmN0aW9uIGN0KHQpe2lmKHQmJnQubm9kZVR5cGU+MClzd2l0Y2godC5ub2RlVHlwZSl7Y2FzZSAxOnJldHVybiB0LnVuaXF1ZUlEO2Nhc2UgOTpyZXR1cm4gdC5kb2N1bWVudEVsZW1lbnQmJnQuZG9jdW1lbnRFbGVtZW50LnVuaXF1ZUlEfX1mdW5jdGlvbiBsdCh0KXtYKHQhPT0xLzAsXCJDYW5ub3QgcGVyZm9ybSB0aGlzIGFjdGlvbiB3aXRoIGFuIGluZmluaXRlIHNpemUuXCIpfWZ1bmN0aW9uIGZ0KHQpe3JldHVybiBudWxsPT09dHx8dm9pZCAwPT09dD93dCgpOnB0KHQpJiYhYyh0KT90Ond0KCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbihlKXt2YXIgcj1uKHQpO2x0KHIuc2l6ZSksci5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuc2V0KG4sdCl9KX0pfWZ1bmN0aW9uIHB0KHQpe3JldHVybiEoIXR8fCF0W1BuXSl9ZnVuY3Rpb24gaHQodCxlKXt0aGlzLm93bmVySUQ9dCx0aGlzLmVudHJpZXM9ZX1mdW5jdGlvbiBkdCh0LGUsbil7dGhpcy5vd25lcklEPXQsdGhpcy5iaXRtYXA9ZSx0aGlzLm5vZGVzPW59ZnVuY3Rpb24geXQodCxlLG4pe3RoaXMub3duZXJJRD10LHRoaXMuY291bnQ9ZSx0aGlzLm5vZGVzPW59ZnVuY3Rpb24gZ3QodCxlLG4pe3RoaXMub3duZXJJRD10LHRoaXMua2V5SGFzaD1lLHRoaXMuZW50cmllcz1ufWZ1bmN0aW9uIHZ0KHQsZSxuKXt0aGlzLm93bmVySUQ9dCx0aGlzLmtleUhhc2g9ZSx0aGlzLmVudHJ5PW59ZnVuY3Rpb24gX3QodCxlLG4pe3RoaXMuX3R5cGU9ZSx0aGlzLl9yZXZlcnNlPW4sdGhpcy5fc3RhY2s9dC5fcm9vdCYmU3QodC5fcm9vdCl9ZnVuY3Rpb24gbXQodCxlKXtyZXR1cm4gdyh0LGVbMF0sZVsxXSl9ZnVuY3Rpb24gU3QodCxlKXtyZXR1cm57bm9kZTp0LGluZGV4OjAsX19wcmV2OmV9fWZ1bmN0aW9uIGJ0KHQsZSxuLHIpe3ZhciBpPU9iamVjdC5jcmVhdGUoVW4pO3JldHVybiBpLnNpemU9dCxpLl9yb290PWUsaS5fX293bmVySUQ9bixpLl9faGFzaD1yLGkuX19hbHRlcmVkPSExLGl9ZnVuY3Rpb24gd3QoKXtyZXR1cm4gRm58fChGbj1idCgwKSl9ZnVuY3Rpb24gTXQodCxlLG4pe3ZhciByLGk7aWYodC5fcm9vdCl7dmFyIG89bCh2biksdT1sKF9uKTtpZihyPUV0KHQuX3Jvb3QsdC5fX293bmVySUQsMCx2b2lkIDAsZSxuLG8sdSksIXUudmFsdWUpcmV0dXJuIHQ7aT10LnNpemUrKG8udmFsdWU/bj09PWduPy0xOjE6MCl9ZWxzZXtpZihuPT09Z24pcmV0dXJuIHQ7aT0xLHI9bmV3IGh0KHQuX19vd25lcklELFtbZSxuXV0pfXJldHVybiB0Ll9fb3duZXJJRD8odC5zaXplPWksdC5fcm9vdD1yLHQuX19oYXNoPXZvaWQgMCx0Ll9fYWx0ZXJlZD0hMCx0KTpyP2J0KGkscik6d3QoKX1mdW5jdGlvbiBFdCh0LGUsbixyLGksbyx1LGEpe3JldHVybiB0P3QudXBkYXRlKGUsbixyLGksbyx1LGEpOm89PT1nbj90OihmKGEpLGYodSksbmV3IHZ0KGUscixbaSxvXSkpfWZ1bmN0aW9uIHh0KHQpe3JldHVybiB0LmNvbnN0cnVjdG9yPT09dnR8fHQuY29uc3RydWN0b3I9PT1ndH1mdW5jdGlvbiBJdCh0LGUsbixyLGkpe2lmKHQua2V5SGFzaD09PXIpcmV0dXJuIG5ldyBndChlLHIsW3QuZW50cnksaV0pO3ZhciBvLHU9KDA9PT1uP3Qua2V5SGFzaDp0LmtleUhhc2g+Pj5uKSZ5bixhPSgwPT09bj9yOnI+Pj5uKSZ5bjtyZXR1cm4gbmV3IGR0KGUsMTw8dXwxPDxhLHU9PT1hP1tJdCh0LGUsbitobixyLGkpXToobz1uZXcgdnQoZSxyLGkpLHU8YT9bdCxvXTpbbyx0XSkpfWZ1bmN0aW9uIGt0KHQsZSxuLHIpe3R8fCh0PW5ldyBwKTtmb3IodmFyIGk9bmV3IHZ0KHQsb3QobiksW24scl0pLG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIHU9ZVtvXTtpPWkudXBkYXRlKHQsMCx2b2lkIDAsdVswXSx1WzFdKX1yZXR1cm4gaX1mdW5jdGlvbiBMdCh0LGUsbixyKXtmb3IodmFyIGk9MCxvPTAsdT1uZXcgQXJyYXkobiksYT0wLHM9MSxjPWUubGVuZ3RoO2E8YzthKyssczw8PTEpe3ZhciBsPWVbYV07dm9pZCAwIT09bCYmYSE9PXImJihpfD1zLHVbbysrXT1sKX1yZXR1cm4gbmV3IGR0KHQsaSx1KX1mdW5jdGlvbiBUdCh0LGUsbixyLGkpe2Zvcih2YXIgbz0wLHU9bmV3IEFycmF5KGRuKSxhPTA7MCE9PW47YSsrLG4+Pj49MSl1W2FdPTEmbj9lW28rK106dm9pZCAwO3JldHVybiB1W3JdPWksbmV3IHl0KHQsbysxLHUpfWZ1bmN0aW9uIER0KHQsZSxyKXtmb3IodmFyIGk9W10sdT0wO3U8ci5sZW5ndGg7dSsrKXt2YXIgYT1yW3VdLHM9bihhKTtvKGEpfHwocz1zLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gcSh0KX0pKSxpLnB1c2gocyl9cmV0dXJuIEN0KHQsZSxpKX1mdW5jdGlvbiBPdCh0LGUsbil7cmV0dXJuIHQmJnQubWVyZ2VEZWVwJiZvKGUpP3QubWVyZ2VEZWVwKGUpOlEodCxlKT90OmV9ZnVuY3Rpb24gTnQodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtpZihlJiZlLm1lcmdlRGVlcFdpdGgmJm8obikpcmV0dXJuIGUubWVyZ2VEZWVwV2l0aCh0LG4pO3ZhciBpPXQoZSxuLHIpO3JldHVybiBRKGUsaSk/ZTppfX1mdW5jdGlvbiBDdCh0LGUsbil7cmV0dXJuIG49bi5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIDAhPT10LnNpemV9KSwwPT09bi5sZW5ndGg/dDowIT09dC5zaXplfHx0Ll9fb3duZXJJRHx8MSE9PW4ubGVuZ3RoP3Qud2l0aE11dGF0aW9ucyhmdW5jdGlvbih0KXtmb3IodmFyIHI9ZT9mdW5jdGlvbihuLHIpe3QudXBkYXRlKHIsZ24sZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1nbj9uOmUodCxuLHIpfSl9OmZ1bmN0aW9uKGUsbil7dC5zZXQobixlKX0saT0wO2k8bi5sZW5ndGg7aSsrKW5baV0uZm9yRWFjaChyKX0pOnQuY29uc3RydWN0b3IoblswXSl9ZnVuY3Rpb24ganQodCxlLG4scil7dmFyIGk9dD09PWduLG89ZS5uZXh0KCk7aWYoby5kb25lKXt2YXIgdT1pP246dCxhPXIodSk7cmV0dXJuIGE9PT11P3Q6YX1YKGl8fHQmJnQuc2V0LFwiaW52YWxpZCBrZXlQYXRoXCIpO3ZhciBzPW8udmFsdWUsYz1pP2duOnQuZ2V0KHMsZ24pLGw9anQoYyxlLG4scik7cmV0dXJuIGw9PT1jP3Q6bD09PWduP3QucmVtb3ZlKHMpOihpP3d0KCk6dCkuc2V0KHMsbCl9ZnVuY3Rpb24gQXQodCl7cmV0dXJuIHQtPXQ+PjEmMTQzMTY1NTc2NSx0PSg4NTg5OTM0NTkmdCkrKHQ+PjImODU4OTkzNDU5KSx0PXQrKHQ+PjQpJjI1MjY0NTEzNSx0Kz10Pj44LDEyNyYodCs9dD4+MTYpfWZ1bmN0aW9uIHp0KHQsZSxuLHIpe3ZhciBpPXI/dDpoKHQpO3JldHVybiBpW2VdPW4saX1mdW5jdGlvbiBCdCh0LGUsbixyKXt2YXIgaT10Lmxlbmd0aCsxO2lmKHImJmUrMT09PWkpcmV0dXJuIHRbZV09bix0O2Zvcih2YXIgbz1uZXcgQXJyYXkoaSksdT0wLGE9MDthPGk7YSsrKWE9PT1lPyhvW2FdPW4sdT0tMSk6b1thXT10W2ErdV07cmV0dXJuIG99ZnVuY3Rpb24gUnQodCxlLG4pe3ZhciByPXQubGVuZ3RoLTE7aWYobiYmZT09PXIpcmV0dXJuIHQucG9wKCksdDtmb3IodmFyIGk9bmV3IEFycmF5KHIpLG89MCx1PTA7dTxyO3UrKyl1PT09ZSYmKG89MSksaVt1XT10W3Urb107cmV0dXJuIGl9ZnVuY3Rpb24gS3QodCl7dmFyIGU9SHQoKTtpZihudWxsPT09dHx8dm9pZCAwPT09dClyZXR1cm4gZTtpZihQdCh0KSlyZXR1cm4gdDt2YXIgbj1yKHQpLGk9bi5zaXplO3JldHVybiAwPT09aT9lOihsdChpKSxpPjAmJmk8ZG4/WXQoMCxpLGhuLG51bGwsbmV3IFV0KG4udG9BcnJheSgpKSk6ZS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKHQpe3Quc2V0U2l6ZShpKSxuLmZvckVhY2goZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5zZXQobixlKX0pfSkpfWZ1bmN0aW9uIFB0KHQpe3JldHVybiEoIXR8fCF0W1duXSl9ZnVuY3Rpb24gVXQodCxlKXt0aGlzLmFycmF5PXQsdGhpcy5vd25lcklEPWV9ZnVuY3Rpb24gRnQodCxlKXtmdW5jdGlvbiBuKHQsZSxuKXtyZXR1cm4gMD09PWU/cih0LG4pOmkodCxlLG4pfWZ1bmN0aW9uIHIodCxuKXt2YXIgcj1uPT09YT9zJiZzLmFycmF5OnQmJnQuYXJyYXksaT1uPm8/MDpvLW4sYz11LW47cmV0dXJuIGM+ZG4mJihjPWRuKSxmdW5jdGlvbigpe2lmKGk9PT1jKXJldHVybiBRbjt2YXIgdD1lPy0tYzppKys7cmV0dXJuIHImJnJbdF19fWZ1bmN0aW9uIGkodCxyLGkpe3ZhciBhLHM9dCYmdC5hcnJheSxjPWk+bz8wOm8taT4+cixsPTErKHUtaT4+cik7cmV0dXJuIGw+ZG4mJihsPWRuKSxmdW5jdGlvbigpe2Zvcig7Oyl7aWYoYSl7dmFyIHQ9YSgpO2lmKHQhPT1RbilyZXR1cm4gdDthPW51bGx9aWYoYz09PWwpcmV0dXJuIFFuO3ZhciBvPWU/LS1sOmMrKzthPW4ocyYmc1tvXSxyLWhuLGkrKG88PHIpKX19fXZhciBvPXQuX29yaWdpbix1PXQuX2NhcGFjaXR5LGE9SnQodSkscz10Ll90YWlsO3JldHVybiBuKHQuX3Jvb3QsdC5fbGV2ZWwsMCl9ZnVuY3Rpb24gWXQodCxlLG4scixpLG8sdSl7dmFyIGE9T2JqZWN0LmNyZWF0ZShHbik7cmV0dXJuIGEuc2l6ZT1lLXQsYS5fb3JpZ2luPXQsYS5fY2FwYWNpdHk9ZSxhLl9sZXZlbD1uLGEuX3Jvb3Q9cixhLl90YWlsPWksYS5fX293bmVySUQ9byxhLl9faGFzaD11LGEuX19hbHRlcmVkPSExLGF9ZnVuY3Rpb24gSHQoKXtyZXR1cm4gVm58fChWbj1ZdCgwLDAsaG4pKX1mdW5jdGlvbiBxdCh0LGUsbil7aWYoKGU9eSh0LGUpKSE9PWUpcmV0dXJuIHQ7aWYoZT49dC5zaXplfHxlPDApcmV0dXJuIHQud2l0aE11dGF0aW9ucyhmdW5jdGlvbih0KXtlPDA/UXQodCxlKS5zZXQoMCxuKTpRdCh0LDAsZSsxKS5zZXQoZSxuKX0pO2UrPXQuX29yaWdpbjt2YXIgcj10Ll90YWlsLGk9dC5fcm9vdCxvPWwoX24pO3JldHVybiBlPj1KdCh0Ll9jYXBhY2l0eSk/cj1XdChyLHQuX19vd25lcklELDAsZSxuLG8pOmk9V3QoaSx0Ll9fb3duZXJJRCx0Ll9sZXZlbCxlLG4sbyksby52YWx1ZT90Ll9fb3duZXJJRD8odC5fcm9vdD1pLHQuX3RhaWw9cix0Ll9faGFzaD12b2lkIDAsdC5fX2FsdGVyZWQ9ITAsdCk6WXQodC5fb3JpZ2luLHQuX2NhcGFjaXR5LHQuX2xldmVsLGkscik6dH1mdW5jdGlvbiBXdCh0LGUsbixyLGksbyl7dmFyIHU9cj4+Pm4meW4sYT10JiZ1PHQuYXJyYXkubGVuZ3RoO2lmKCFhJiZ2b2lkIDA9PT1pKXJldHVybiB0O3ZhciBzO2lmKG4+MCl7dmFyIGM9dCYmdC5hcnJheVt1XSxsPVd0KGMsZSxuLWhuLHIsaSxvKTtyZXR1cm4gbD09PWM/dDoocz1HdCh0LGUpLHMuYXJyYXlbdV09bCxzKX1yZXR1cm4gYSYmdC5hcnJheVt1XT09PWk/dDooZihvKSxzPUd0KHQsZSksdm9pZCAwPT09aSYmdT09PXMuYXJyYXkubGVuZ3RoLTE/cy5hcnJheS5wb3AoKTpzLmFycmF5W3VdPWkscyl9ZnVuY3Rpb24gR3QodCxlKXtyZXR1cm4gZSYmdCYmZT09PXQub3duZXJJRD90Om5ldyBVdCh0P3QuYXJyYXkuc2xpY2UoKTpbXSxlKX1mdW5jdGlvbiBWdCh0LGUpe2lmKGU+PUp0KHQuX2NhcGFjaXR5KSlyZXR1cm4gdC5fdGFpbDtpZihlPDE8PHQuX2xldmVsK2huKXtmb3IodmFyIG49dC5fcm9vdCxyPXQuX2xldmVsO24mJnI+MDspbj1uLmFycmF5W2U+Pj5yJnluXSxyLT1objtyZXR1cm4gbn19ZnVuY3Rpb24gUXQodCxlLG4pe3ZvaWQgMCE9PWUmJihlfD0wKSx2b2lkIDAhPT1uJiYobnw9MCk7dmFyIHI9dC5fX293bmVySUR8fG5ldyBwLGk9dC5fb3JpZ2luLG89dC5fY2FwYWNpdHksdT1pK2UsYT12b2lkIDA9PT1uP286bjwwP28rbjppK247aWYodT09PWkmJmE9PT1vKXJldHVybiB0O2lmKHU+PWEpcmV0dXJuIHQuY2xlYXIoKTtmb3IodmFyIHM9dC5fbGV2ZWwsYz10Ll9yb290LGw9MDt1K2w8MDspYz1uZXcgVXQoYyYmYy5hcnJheS5sZW5ndGg/W3ZvaWQgMCxjXTpbXSxyKSxzKz1obixsKz0xPDxzO2wmJih1Kz1sLGkrPWwsYSs9bCxvKz1sKTtmb3IodmFyIGY9SnQobyksaD1KdChhKTtoPj0xPDxzK2huOyljPW5ldyBVdChjJiZjLmFycmF5Lmxlbmd0aD9bY106W10scikscys9aG47dmFyIGQ9dC5fdGFpbCx5PWg8Zj9WdCh0LGEtMSk6aD5mP25ldyBVdChbXSxyKTpkO2lmKGQmJmg+ZiYmdTxvJiZkLmFycmF5Lmxlbmd0aCl7Yz1HdChjLHIpO2Zvcih2YXIgZz1jLHY9czt2PmhuO3YtPWhuKXt2YXIgXz1mPj4+diZ5bjtnPWcuYXJyYXlbX109R3QoZy5hcnJheVtfXSxyKX1nLmFycmF5W2Y+Pj5obiZ5bl09ZH1pZihhPG8mJih5PXkmJnkucmVtb3ZlQWZ0ZXIociwwLGEpKSx1Pj1oKXUtPWgsYS09aCxzPWhuLGM9bnVsbCx5PXkmJnkucmVtb3ZlQmVmb3JlKHIsMCx1KTtlbHNlIGlmKHU+aXx8aDxmKXtmb3IobD0wO2M7KXt2YXIgbT11Pj4+cyZ5bjtpZihtIT09aD4+PnMmeW4pYnJlYWs7bSYmKGwrPSgxPDxzKSptKSxzLT1obixjPWMuYXJyYXlbbV19YyYmdT5pJiYoYz1jLnJlbW92ZUJlZm9yZShyLHMsdS1sKSksYyYmaDxmJiYoYz1jLnJlbW92ZUFmdGVyKHIscyxoLWwpKSxsJiYodS09bCxhLT1sKX1yZXR1cm4gdC5fX293bmVySUQ/KHQuc2l6ZT1hLXUsdC5fb3JpZ2luPXUsdC5fY2FwYWNpdHk9YSx0Ll9sZXZlbD1zLHQuX3Jvb3Q9Yyx0Ll90YWlsPXksdC5fX2hhc2g9dm9pZCAwLHQuX19hbHRlcmVkPSEwLHQpOll0KHUsYSxzLGMseSl9ZnVuY3Rpb24gWnQodCxlLG4pe2Zvcih2YXIgaT1bXSx1PTAsYT0wO2E8bi5sZW5ndGg7YSsrKXt2YXIgcz1uW2FdLGM9cihzKTtjLnNpemU+dSYmKHU9Yy5zaXplKSxvKHMpfHwoYz1jLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gcSh0KX0pKSxpLnB1c2goYyl9cmV0dXJuIHU+dC5zaXplJiYodD10LnNldFNpemUodSkpLEN0KHQsZSxpKX1mdW5jdGlvbiBKdCh0KXtyZXR1cm4gdDxkbj8wOnQtMT4+PmhuPDxobn1mdW5jdGlvbiBYdCh0KXtyZXR1cm4gbnVsbD09PXR8fHZvaWQgMD09PXQ/ZWUoKTokdCh0KT90OmVlKCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbihlKXt2YXIgcj1uKHQpO2x0KHIuc2l6ZSksci5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuc2V0KG4sdCl9KX0pfWZ1bmN0aW9uICR0KHQpe3JldHVybiBwdCh0KSYmYyh0KX1mdW5jdGlvbiB0ZSh0LGUsbixyKXt2YXIgaT1PYmplY3QuY3JlYXRlKFh0LnByb3RvdHlwZSk7cmV0dXJuIGkuc2l6ZT10P3Quc2l6ZTowLGkuX21hcD10LGkuX2xpc3Q9ZSxpLl9fb3duZXJJRD1uLGkuX19oYXNoPXIsaX1mdW5jdGlvbiBlZSgpe3JldHVybiBabnx8KFpuPXRlKHd0KCksSHQoKSkpfWZ1bmN0aW9uIG5lKHQsZSxuKXt2YXIgcixpLG89dC5fbWFwLHU9dC5fbGlzdCxhPW8uZ2V0KGUpLHM9dm9pZCAwIT09YTtpZihuPT09Z24pe2lmKCFzKXJldHVybiB0O3Uuc2l6ZT49ZG4mJnUuc2l6ZT49MipvLnNpemU/KGk9dS5maWx0ZXIoZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwIT09dCYmYSE9PWV9KSxyPWkudG9LZXllZFNlcSgpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pLmZsaXAoKS50b01hcCgpLHQuX19vd25lcklEJiYoci5fX293bmVySUQ9aS5fX293bmVySUQ9dC5fX293bmVySUQpKToocj1vLnJlbW92ZShlKSxpPWE9PT11LnNpemUtMT91LnBvcCgpOnUuc2V0KGEsdm9pZCAwKSl9ZWxzZSBpZihzKXtpZihuPT09dS5nZXQoYSlbMV0pcmV0dXJuIHQ7cj1vLGk9dS5zZXQoYSxbZSxuXSl9ZWxzZSByPW8uc2V0KGUsdS5zaXplKSxpPXUuc2V0KHUuc2l6ZSxbZSxuXSk7cmV0dXJuIHQuX19vd25lcklEPyh0LnNpemU9ci5zaXplLHQuX21hcD1yLHQuX2xpc3Q9aSx0Ll9faGFzaD12b2lkIDAsdCk6dGUocixpKX1mdW5jdGlvbiByZSh0LGUpe3RoaXMuX2l0ZXI9dCx0aGlzLl91c2VLZXlzPWUsdGhpcy5zaXplPXQuc2l6ZX1mdW5jdGlvbiBpZSh0KXt0aGlzLl9pdGVyPXQsdGhpcy5zaXplPXQuc2l6ZX1mdW5jdGlvbiBvZSh0KXt0aGlzLl9pdGVyPXQsdGhpcy5zaXplPXQuc2l6ZX1mdW5jdGlvbiB1ZSh0KXt0aGlzLl9pdGVyPXQsdGhpcy5zaXplPXQuc2l6ZX1mdW5jdGlvbiBhZSh0KXt2YXIgZT1MZSh0KTtyZXR1cm4gZS5faXRlcj10LGUuc2l6ZT10LnNpemUsZS5mbGlwPWZ1bmN0aW9uKCl7cmV0dXJuIHR9LGUucmV2ZXJzZT1mdW5jdGlvbigpe3ZhciBlPXQucmV2ZXJzZS5hcHBseSh0aGlzKTtyZXR1cm4gZS5mbGlwPWZ1bmN0aW9uKCl7cmV0dXJuIHQucmV2ZXJzZSgpfSxlfSxlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gdC5pbmNsdWRlcyhlKX0sZS5pbmNsdWRlcz1mdW5jdGlvbihlKXtyZXR1cm4gdC5oYXMoZSl9LGUuY2FjaGVSZXN1bHQ9VGUsZS5fX2l0ZXJhdGVVbmNhY2hlZD1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXM7cmV0dXJuIHQuX19pdGVyYXRlKGZ1bmN0aW9uKHQsbil7cmV0dXJuITEhPT1lKG4sdCxyKX0sbil9LGUuX19pdGVyYXRvclVuY2FjaGVkPWZ1bmN0aW9uKGUsbil7aWYoZT09PWJuKXt2YXIgcj10Ll9faXRlcmF0b3IoZSxuKTtyZXR1cm4gbmV3IGIoZnVuY3Rpb24oKXt2YXIgdD1yLm5leHQoKTtpZighdC5kb25lKXt2YXIgZT10LnZhbHVlWzBdO3QudmFsdWVbMF09dC52YWx1ZVsxXSx0LnZhbHVlWzFdPWV9cmV0dXJuIHR9KX1yZXR1cm4gdC5fX2l0ZXJhdG9yKGU9PT1Tbj9tbjpTbixuKX0sZX1mdW5jdGlvbiBzZSh0LGUsbil7dmFyIHI9TGUodCk7cmV0dXJuIHIuc2l6ZT10LnNpemUsci5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaGFzKGUpfSxyLmdldD1mdW5jdGlvbihyLGkpe3ZhciBvPXQuZ2V0KHIsZ24pO3JldHVybiBvPT09Z24/aTplLmNhbGwobixvLHIsdCl9LHIuX19pdGVyYXRlVW5jYWNoZWQ9ZnVuY3Rpb24ocixpKXt2YXIgbz10aGlzO3JldHVybiB0Ll9faXRlcmF0ZShmdW5jdGlvbih0LGksdSl7cmV0dXJuITEhPT1yKGUuY2FsbChuLHQsaSx1KSxpLG8pfSxpKX0sci5fX2l0ZXJhdG9yVW5jYWNoZWQ9ZnVuY3Rpb24ocixpKXt2YXIgbz10Ll9faXRlcmF0b3IoYm4saSk7cmV0dXJuIG5ldyBiKGZ1bmN0aW9uKCl7dmFyIGk9by5uZXh0KCk7aWYoaS5kb25lKXJldHVybiBpO3ZhciB1PWkudmFsdWUsYT11WzBdO3JldHVybiB3KHIsYSxlLmNhbGwobix1WzFdLGEsdCksaSl9KX0scn1mdW5jdGlvbiBjZSh0LGUpe3ZhciBuPUxlKHQpO3JldHVybiBuLl9pdGVyPXQsbi5zaXplPXQuc2l6ZSxuLnJldmVyc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdH0sdC5mbGlwJiYobi5mbGlwPWZ1bmN0aW9uKCl7dmFyIGU9YWUodCk7cmV0dXJuIGUucmV2ZXJzZT1mdW5jdGlvbigpe3JldHVybiB0LmZsaXAoKX0sZX0pLG4uZ2V0PWZ1bmN0aW9uKG4scil7cmV0dXJuIHQuZ2V0KGU/bjotMS1uLHIpfSxuLmhhcz1mdW5jdGlvbihuKXtyZXR1cm4gdC5oYXMoZT9uOi0xLW4pfSxuLmluY2x1ZGVzPWZ1bmN0aW9uKGUpe3JldHVybiB0LmluY2x1ZGVzKGUpfSxuLmNhY2hlUmVzdWx0PVRlLG4uX19pdGVyYXRlPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcztyZXR1cm4gdC5fX2l0ZXJhdGUoZnVuY3Rpb24odCxuKXtyZXR1cm4gZSh0LG4scil9LCFuKX0sbi5fX2l0ZXJhdG9yPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuX19pdGVyYXRvcihlLCFuKX0sbn1mdW5jdGlvbiBsZSh0LGUsbixyKXt2YXIgaT1MZSh0KTtyZXR1cm4gciYmKGkuaGFzPWZ1bmN0aW9uKHIpe3ZhciBpPXQuZ2V0KHIsZ24pO3JldHVybiBpIT09Z24mJiEhZS5jYWxsKG4saSxyLHQpfSxpLmdldD1mdW5jdGlvbihyLGkpe3ZhciBvPXQuZ2V0KHIsZ24pO3JldHVybiBvIT09Z24mJmUuY2FsbChuLG8scix0KT9vOml9KSxpLl9faXRlcmF0ZVVuY2FjaGVkPWZ1bmN0aW9uKGksbyl7dmFyIHU9dGhpcyxhPTA7cmV0dXJuIHQuX19pdGVyYXRlKGZ1bmN0aW9uKHQsbyxzKXtpZihlLmNhbGwobix0LG8scykpcmV0dXJuIGErKyxpKHQscj9vOmEtMSx1KX0sbyksYX0saS5fX2l0ZXJhdG9yVW5jYWNoZWQ9ZnVuY3Rpb24oaSxvKXt2YXIgdT10Ll9faXRlcmF0b3IoYm4sbyksYT0wO3JldHVybiBuZXcgYihmdW5jdGlvbigpe2Zvcig7Oyl7dmFyIG89dS5uZXh0KCk7aWYoby5kb25lKXJldHVybiBvO3ZhciBzPW8udmFsdWUsYz1zWzBdLGw9c1sxXTtpZihlLmNhbGwobixsLGMsdCkpcmV0dXJuIHcoaSxyP2M6YSsrLGwsbyl9fSl9LGl9ZnVuY3Rpb24gZmUodCxlLG4pe3ZhciByPWZ0KCkuYXNNdXRhYmxlKCk7cmV0dXJuIHQuX19pdGVyYXRlKGZ1bmN0aW9uKGksbyl7ci51cGRhdGUoZS5jYWxsKG4saSxvLHQpLDAsZnVuY3Rpb24odCl7cmV0dXJuIHQrMX0pfSksci5hc0ltbXV0YWJsZSgpfWZ1bmN0aW9uIHBlKHQsZSxuKXt2YXIgcj11KHQpLGk9KGModCk/WHQoKTpmdCgpKS5hc011dGFibGUoKTt0Ll9faXRlcmF0ZShmdW5jdGlvbihvLHUpe2kudXBkYXRlKGUuY2FsbChuLG8sdSx0KSxmdW5jdGlvbih0KXtyZXR1cm4gdD10fHxbXSx0LnB1c2gocj9bdSxvXTpvKSx0fSl9KTt2YXIgbz1rZSh0KTtyZXR1cm4gaS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEVlKHQsbyhlKSl9KX1mdW5jdGlvbiBoZSh0LGUsbixyKXt2YXIgaT10LnNpemU7aWYodm9pZCAwIT09ZSYmKGV8PTApLHZvaWQgMCE9PW4mJihuPT09MS8wP249aTpufD0wKSx2KGUsbixpKSlyZXR1cm4gdDt2YXIgbz1fKGUsaSksdT1tKG4saSk7aWYobyE9PW98fHUhPT11KXJldHVybiBoZSh0LnRvU2VxKCkuY2FjaGVSZXN1bHQoKSxlLG4scik7dmFyIGEscz11LW87cz09PXMmJihhPXM8MD8wOnMpO3ZhciBjPUxlKHQpO3JldHVybiBjLnNpemU9MD09PWE/YTp0LnNpemUmJmF8fHZvaWQgMCwhciYmQih0KSYmYT49MCYmKGMuZ2V0PWZ1bmN0aW9uKGUsbil7cmV0dXJuIGU9eSh0aGlzLGUpLGU+PTAmJmU8YT90LmdldChlK28sbik6bn0pLGMuX19pdGVyYXRlVW5jYWNoZWQ9ZnVuY3Rpb24oZSxuKXt2YXIgaT10aGlzO2lmKDA9PT1hKXJldHVybiAwO2lmKG4pcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZSxuKTt2YXIgdT0wLHM9ITAsYz0wO3JldHVybiB0Ll9faXRlcmF0ZShmdW5jdGlvbih0LG4pe2lmKCFzfHwhKHM9dSsrPG8pKXJldHVybiBjKyssITEhPT1lKHQscj9uOmMtMSxpKSYmYyE9PWF9KSxjfSxjLl9faXRlcmF0b3JVbmNhY2hlZD1mdW5jdGlvbihlLG4pe2lmKDAhPT1hJiZuKXJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcihlLG4pO3ZhciBpPTAhPT1hJiZ0Ll9faXRlcmF0b3IoZSxuKSx1PTAscz0wO3JldHVybiBuZXcgYihmdW5jdGlvbigpe2Zvcig7dSsrPG87KWkubmV4dCgpO2lmKCsrcz5hKXJldHVybiBNKCk7dmFyIHQ9aS5uZXh0KCk7cmV0dXJuIHJ8fGU9PT1Tbj90OmU9PT1tbj93KGUscy0xLHZvaWQgMCx0KTp3KGUscy0xLHQudmFsdWVbMV0sdCl9KX0sY31mdW5jdGlvbiBkZSh0LGUsbil7dmFyIHI9TGUodCk7cmV0dXJuIHIuX19pdGVyYXRlVW5jYWNoZWQ9ZnVuY3Rpb24ocixpKXt2YXIgbz10aGlzO2lmKGkpcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUocixpKTt2YXIgdT0wO3JldHVybiB0Ll9faXRlcmF0ZShmdW5jdGlvbih0LGksYSl7cmV0dXJuIGUuY2FsbChuLHQsaSxhKSYmKyt1JiZyKHQsaSxvKX0pLHV9LHIuX19pdGVyYXRvclVuY2FjaGVkPWZ1bmN0aW9uKHIsaSl7dmFyIG89dGhpcztpZihpKXJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcihyLGkpO3ZhciB1PXQuX19pdGVyYXRvcihibixpKSxhPSEwO3JldHVybiBuZXcgYihmdW5jdGlvbigpe2lmKCFhKXJldHVybiBNKCk7dmFyIHQ9dS5uZXh0KCk7aWYodC5kb25lKXJldHVybiB0O3ZhciBpPXQudmFsdWUscz1pWzBdLGM9aVsxXTtyZXR1cm4gZS5jYWxsKG4sYyxzLG8pP3I9PT1ibj90OncocixzLGMsdCk6KGE9ITEsTSgpKX0pfSxyfWZ1bmN0aW9uIHllKHQsZSxuLHIpe3ZhciBpPUxlKHQpO3JldHVybiBpLl9faXRlcmF0ZVVuY2FjaGVkPWZ1bmN0aW9uKGksbyl7dmFyIHU9dGhpcztpZihvKXJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGksbyk7dmFyIGE9ITAscz0wO3JldHVybiB0Ll9faXRlcmF0ZShmdW5jdGlvbih0LG8sYyl7aWYoIWF8fCEoYT1lLmNhbGwobix0LG8sYykpKXJldHVybiBzKyssaSh0LHI/bzpzLTEsdSl9KSxzfSxpLl9faXRlcmF0b3JVbmNhY2hlZD1mdW5jdGlvbihpLG8pe3ZhciB1PXRoaXM7aWYobylyZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IoaSxvKTt2YXIgYT10Ll9faXRlcmF0b3IoYm4sbykscz0hMCxjPTA7cmV0dXJuIG5ldyBiKGZ1bmN0aW9uKCl7dmFyIHQsbyxsO2Rve2lmKHQ9YS5uZXh0KCksdC5kb25lKXJldHVybiByfHxpPT09U24/dDppPT09bW4/dyhpLGMrKyx2b2lkIDAsdCk6dyhpLGMrKyx0LnZhbHVlWzFdLHQpO3ZhciBmPXQudmFsdWU7bz1mWzBdLGw9ZlsxXSxzJiYocz1lLmNhbGwobixsLG8sdSkpfXdoaWxlKHMpO3JldHVybiBpPT09Ym4/dDp3KGksbyxsLHQpfSl9LGl9ZnVuY3Rpb24gZ2UodCxlKXt2YXIgcj11KHQpLGk9W3RdLmNvbmNhdChlKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG8odCk/ciYmKHQ9bih0KSk6dD1yP0sodCk6UChBcnJheS5pc0FycmF5KHQpP3Q6W3RdKSx0fSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiAwIT09dC5zaXplfSk7aWYoMD09PWkubGVuZ3RoKXJldHVybiB0O2lmKDE9PT1pLmxlbmd0aCl7dmFyIHM9aVswXTtpZihzPT09dHx8ciYmdShzKXx8YSh0KSYmYShzKSlyZXR1cm4gc312YXIgYz1uZXcgQyhpKTtyZXR1cm4gcj9jPWMudG9LZXllZFNlcSgpOmEodCl8fChjPWMudG9TZXRTZXEoKSksYz1jLmZsYXR0ZW4oITApLGMuc2l6ZT1pLnJlZHVjZShmdW5jdGlvbih0LGUpe2lmKHZvaWQgMCE9PXQpe3ZhciBuPWUuc2l6ZTtpZih2b2lkIDAhPT1uKXJldHVybiB0K259fSwwKSxjfWZ1bmN0aW9uIHZlKHQsZSxuKXt2YXIgcj1MZSh0KTtyZXR1cm4gci5fX2l0ZXJhdGVVbmNhY2hlZD1mdW5jdGlvbihyLGkpe2Z1bmN0aW9uIHUodCxjKXt2YXIgbD10aGlzO3QuX19pdGVyYXRlKGZ1bmN0aW9uKHQsaSl7cmV0dXJuKCFlfHxjPGUpJiZvKHQpP3UodCxjKzEpOiExPT09cih0LG4/aTphKyssbCkmJihzPSEwKSwhc30saSl9dmFyIGE9MCxzPSExO3JldHVybiB1KHQsMCksYX0sci5fX2l0ZXJhdG9yVW5jYWNoZWQ9ZnVuY3Rpb24ocixpKXt2YXIgdT10Ll9faXRlcmF0b3IocixpKSxhPVtdLHM9MDtyZXR1cm4gbmV3IGIoZnVuY3Rpb24oKXtmb3IoO3U7KXt2YXIgdD11Lm5leHQoKTtpZighMT09PXQuZG9uZSl7dmFyIGM9dC52YWx1ZTtpZihyPT09Ym4mJihjPWNbMV0pLGUmJiEoYS5sZW5ndGg8ZSl8fCFvKGMpKXJldHVybiBuP3Q6dyhyLHMrKyxjLHQpO2EucHVzaCh1KSx1PWMuX19pdGVyYXRvcihyLGkpfWVsc2UgdT1hLnBvcCgpfXJldHVybiBNKCl9KX0scn1mdW5jdGlvbiBfZSh0LGUsbil7dmFyIHI9a2UodCk7cmV0dXJuIHQudG9TZXEoKS5tYXAoZnVuY3Rpb24oaSxvKXtyZXR1cm4gcihlLmNhbGwobixpLG8sdCkpfSkuZmxhdHRlbighMCl9ZnVuY3Rpb24gbWUodCxlKXt2YXIgbj1MZSh0KTtyZXR1cm4gbi5zaXplPXQuc2l6ZSYmMip0LnNpemUtMSxuLl9faXRlcmF0ZVVuY2FjaGVkPWZ1bmN0aW9uKG4scil7dmFyIGk9dGhpcyxvPTA7cmV0dXJuIHQuX19pdGVyYXRlKGZ1bmN0aW9uKHQscil7cmV0dXJuKCFvfHwhMSE9PW4oZSxvKyssaSkpJiYhMSE9PW4odCxvKyssaSl9LHIpLG99LG4uX19pdGVyYXRvclVuY2FjaGVkPWZ1bmN0aW9uKG4scil7dmFyIGksbz10Ll9faXRlcmF0b3IoU24sciksdT0wO3JldHVybiBuZXcgYihmdW5jdGlvbigpe3JldHVybighaXx8dSUyKSYmKGk9by5uZXh0KCksaS5kb25lKT9pOnUlMj93KG4sdSsrLGUpOncobix1KyssaS52YWx1ZSxpKX0pfSxufWZ1bmN0aW9uIFNlKHQsZSxuKXtlfHwoZT1EZSk7dmFyIHI9dSh0KSxpPTAsbz10LnRvU2VxKCkubWFwKGZ1bmN0aW9uKGUscil7cmV0dXJuW3IsZSxpKyssbj9uKGUscix0KTplXX0pLnRvQXJyYXkoKTtyZXR1cm4gby5zb3J0KGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUodFszXSxuWzNdKXx8dFsyXS1uWzJdfSkuZm9yRWFjaChyP2Z1bmN0aW9uKHQsZSl7b1tlXS5sZW5ndGg9Mn06ZnVuY3Rpb24odCxlKXtvW2VdPXRbMV19KSxyP0Qobyk6YSh0KT9PKG8pOk4obyl9ZnVuY3Rpb24gYmUodCxlLG4pe2lmKGV8fChlPURlKSxuKXt2YXIgcj10LnRvU2VxKCkubWFwKGZ1bmN0aW9uKGUscil7cmV0dXJuW2UsbihlLHIsdCldfSkucmVkdWNlKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHdlKGUsdFsxXSxuWzFdKT9uOnR9KTtyZXR1cm4gciYmclswXX1yZXR1cm4gdC5yZWR1Y2UoZnVuY3Rpb24odCxuKXtyZXR1cm4gd2UoZSx0LG4pP246dH0pfWZ1bmN0aW9uIHdlKHQsZSxuKXt2YXIgcj10KG4sZSk7cmV0dXJuIDA9PT1yJiZuIT09ZSYmKHZvaWQgMD09PW58fG51bGw9PT1ufHxuIT09bil8fHI+MH1mdW5jdGlvbiBNZSh0LG4scil7dmFyIGk9TGUodCk7cmV0dXJuIGkuc2l6ZT1uZXcgQyhyKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2l6ZX0pLm1pbigpLGkuX19pdGVyYXRlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLHI9dGhpcy5fX2l0ZXJhdG9yKFNuLGUpLGk9MDshKG49ci5uZXh0KCkpLmRvbmUmJiExIT09dChuLnZhbHVlLGkrKyx0aGlzKTspO3JldHVybiBpfSxpLl9faXRlcmF0b3JVbmNhY2hlZD1mdW5jdGlvbih0LGkpe3ZhciBvPXIubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0PWUodCksSShpP3QucmV2ZXJzZSgpOnQpfSksdT0wLGE9ITE7cmV0dXJuIG5ldyBiKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGF8fChlPW8ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5leHQoKX0pLGE9ZS5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRvbmV9KSksYT9NKCk6dyh0LHUrKyxuLmFwcGx5KG51bGwsZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudmFsdWV9KSkpfSl9LGl9ZnVuY3Rpb24gRWUodCxlKXtyZXR1cm4gQih0KT9lOnQuY29uc3RydWN0b3IoZSl9ZnVuY3Rpb24geGUodCl7aWYodCE9PU9iamVjdCh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgW0ssIFZdIHR1cGxlOiBcIit0KX1mdW5jdGlvbiBJZSh0KXtyZXR1cm4gbHQodC5zaXplKSxkKHQpfWZ1bmN0aW9uIGtlKHQpe3JldHVybiB1KHQpP246YSh0KT9yOml9ZnVuY3Rpb24gTGUodCl7cmV0dXJuIE9iamVjdC5jcmVhdGUoKHUodCk/RDphKHQpP086TikucHJvdG90eXBlKX1mdW5jdGlvbiBUZSgpe3JldHVybiB0aGlzLl9pdGVyLmNhY2hlUmVzdWx0Pyh0aGlzLl9pdGVyLmNhY2hlUmVzdWx0KCksdGhpcy5zaXplPXRoaXMuX2l0ZXIuc2l6ZSx0aGlzKTpULnByb3RvdHlwZS5jYWNoZVJlc3VsdC5jYWxsKHRoaXMpfWZ1bmN0aW9uIERlKHQsZSl7cmV0dXJuIHQ+ZT8xOnQ8ZT8tMTowfWZ1bmN0aW9uIE9lKHQpe3ZhciBuPUkodCk7aWYoIW4pe2lmKCFMKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBpdGVyYWJsZSBvciBhcnJheS1saWtlOiBcIit0KTtuPUkoZSh0KSl9cmV0dXJuIG59ZnVuY3Rpb24gTmUodCxlKXt2YXIgbixyPWZ1bmN0aW9uKG8pe2lmKG8gaW5zdGFuY2VvZiByKXJldHVybiBvO2lmKCEodGhpcyBpbnN0YW5jZW9mIHIpKXJldHVybiBuZXcgcihvKTtpZighbil7bj0hMDt2YXIgdT1PYmplY3Qua2V5cyh0KTtBZShpLHUpLGkuc2l6ZT11Lmxlbmd0aCxpLl9uYW1lPWUsaS5fa2V5cz11LGkuX2RlZmF1bHRWYWx1ZXM9dH10aGlzLl9tYXA9ZnQobyl9LGk9ci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShKbik7cmV0dXJuIGkuY29uc3RydWN0b3I9cixyfWZ1bmN0aW9uIENlKHQsZSxuKXt2YXIgcj1PYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSk7cmV0dXJuIHIuX21hcD1lLHIuX19vd25lcklEPW4scn1mdW5jdGlvbiBqZSh0KXtyZXR1cm4gdC5fbmFtZXx8dC5jb25zdHJ1Y3Rvci5uYW1lfHxcIlJlY29yZFwifWZ1bmN0aW9uIEFlKHQsZSl7dHJ5e2UuZm9yRWFjaCh6ZS5iaW5kKHZvaWQgMCx0KSl9Y2F0Y2godCl7fX1mdW5jdGlvbiB6ZSh0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChlKX0sc2V0OmZ1bmN0aW9uKHQpe1godGhpcy5fX293bmVySUQsXCJDYW5ub3Qgc2V0IG9uIGFuIGltbXV0YWJsZSByZWNvcmQuXCIpLHRoaXMuc2V0KGUsdCl9fSl9ZnVuY3Rpb24gQmUodCl7cmV0dXJuIG51bGw9PT10fHx2b2lkIDA9PT10P1VlKCk6UmUodCkmJiFjKHQpP3Q6VWUoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKGUpe3ZhciBuPWkodCk7bHQobi5zaXplKSxuLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUuYWRkKHQpfSl9KX1mdW5jdGlvbiBSZSh0KXtyZXR1cm4hKCF0fHwhdFtYbl0pfWZ1bmN0aW9uIEtlKHQsZSl7cmV0dXJuIHQuX19vd25lcklEPyh0LnNpemU9ZS5zaXplLHQuX21hcD1lLHQpOmU9PT10Ll9tYXA/dDowPT09ZS5zaXplP3QuX19lbXB0eSgpOnQuX19tYWtlKGUpfWZ1bmN0aW9uIFBlKHQsZSl7dmFyIG49T2JqZWN0LmNyZWF0ZSgkbik7cmV0dXJuIG4uc2l6ZT10P3Quc2l6ZTowLG4uX21hcD10LG4uX19vd25lcklEPWUsbn1mdW5jdGlvbiBVZSgpe3JldHVybiB0cnx8KHRyPVBlKHd0KCkpKX1mdW5jdGlvbiBGZSh0KXtyZXR1cm4gbnVsbD09PXR8fHZvaWQgMD09PXQ/cWUoKTpZZSh0KT90OnFlKCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbihlKXt2YXIgbj1pKHQpO2x0KG4uc2l6ZSksbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmFkZCh0KX0pfSl9ZnVuY3Rpb24gWWUodCl7cmV0dXJuIFJlKHQpJiZjKHQpfWZ1bmN0aW9uIEhlKHQsZSl7dmFyIG49T2JqZWN0LmNyZWF0ZShlcik7cmV0dXJuIG4uc2l6ZT10P3Quc2l6ZTowLG4uX21hcD10LG4uX19vd25lcklEPWUsbn1mdW5jdGlvbiBxZSgpe3JldHVybiBucnx8KG5yPUhlKGVlKCkpKX1mdW5jdGlvbiBXZSh0KXtyZXR1cm4gbnVsbD09PXR8fHZvaWQgMD09PXQ/UWUoKTpHZSh0KT90OlFlKCkudW5zaGlmdEFsbCh0KX1mdW5jdGlvbiBHZSh0KXtyZXR1cm4hKCF0fHwhdFtycl0pfWZ1bmN0aW9uIFZlKHQsZSxuLHIpe3ZhciBpPU9iamVjdC5jcmVhdGUoaXIpO3JldHVybiBpLnNpemU9dCxpLl9oZWFkPWUsaS5fX293bmVySUQ9bixpLl9faGFzaD1yLGkuX19hbHRlcmVkPSExLGl9ZnVuY3Rpb24gUWUoKXtyZXR1cm4gb3J8fChvcj1WZSgwKSl9ZnVuY3Rpb24gWmUodCxlKXt2YXIgbj1mdW5jdGlvbihuKXt0LnByb3RvdHlwZVtuXT1lW25dfTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaChuKSxPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiZPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpLmZvckVhY2gobiksdH1mdW5jdGlvbiBKZSh0LGUpe3JldHVybiBlfWZ1bmN0aW9uIFhlKHQsZSl7cmV0dXJuW2UsdF19ZnVuY3Rpb24gJGUodCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiB0bih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4tdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIGVuKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P0pTT04uc3RyaW5naWZ5KHQpOlN0cmluZyh0KX1mdW5jdGlvbiBubigpe3JldHVybiBoKGFyZ3VtZW50cyl9ZnVuY3Rpb24gcm4odCxlKXtyZXR1cm4gdDxlPzE6dD5lPy0xOjB9ZnVuY3Rpb24gb24odCl7aWYodC5zaXplPT09MS8wKXJldHVybiAwO3ZhciBlPWModCksbj11KHQpLHI9ZT8xOjA7cmV0dXJuIHVuKHQuX19pdGVyYXRlKG4/ZT9mdW5jdGlvbih0LGUpe3I9MzEqcithbihvdCh0KSxvdChlKSl8MH06ZnVuY3Rpb24odCxlKXtyPXIrYW4ob3QodCksb3QoZSkpfDB9OmU/ZnVuY3Rpb24odCl7cj0zMSpyK290KHQpfDB9OmZ1bmN0aW9uKHQpe3I9citvdCh0KXwwfSkscil9ZnVuY3Rpb24gdW4odCxlKXtyZXR1cm4gZT1EbihlLDM0MzI5MTgzNTMpLGU9RG4oZTw8MTV8ZT4+Pi0xNSw0NjE4NDU5MDcpLGU9RG4oZTw8MTN8ZT4+Pi0xMyw1KSxlPShlKzM4NjQyOTIxOTZ8MCledCxlPURuKGVeZT4+PjE2LDIyNDY4MjI1MDcpLGU9RG4oZV5lPj4+MTMsMzI2NjQ4OTkwOSksZT1pdChlXmU+Pj4xNil9ZnVuY3Rpb24gYW4odCxlKXtyZXR1cm4gdF5lKzI2NTQ0MzU3NjkrKHQ8PDYpKyh0Pj4yKXwwfXZhciBzbj1BcnJheS5wcm90b3R5cGUuc2xpY2U7dChuLGUpLHQocixlKSx0KGksZSksZS5pc0l0ZXJhYmxlPW8sZS5pc0tleWVkPXUsZS5pc0luZGV4ZWQ9YSxlLmlzQXNzb2NpYXRpdmU9cyxlLmlzT3JkZXJlZD1jLGUuS2V5ZWQ9bixlLkluZGV4ZWQ9cixlLlNldD1pO3ZhciBjbj1cIkBAX19JTU1VVEFCTEVfSVRFUkFCTEVfX0BAXCIsbG49XCJAQF9fSU1NVVRBQkxFX0tFWUVEX19AQFwiLGZuPVwiQEBfX0lNTVVUQUJMRV9JTkRFWEVEX19AQFwiLHBuPVwiQEBfX0lNTVVUQUJMRV9PUkRFUkVEX19AQFwiLGhuPTUsZG49MTw8aG4seW49ZG4tMSxnbj17fSx2bj17dmFsdWU6ITF9LF9uPXt2YWx1ZTohMX0sbW49MCxTbj0xLGJuPTIsd249XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3IsTW49XCJAQGl0ZXJhdG9yXCIsRW49d258fE1uO2IucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbSXRlcmF0b3JdXCJ9LGIuS0VZUz1tbixiLlZBTFVFUz1TbixiLkVOVFJJRVM9Ym4sYi5wcm90b3R5cGUuaW5zcGVjdD1iLnByb3RvdHlwZS50b1NvdXJjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvU3RyaW5nKCl9LGIucHJvdG90eXBlW0VuXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSx0KFQsZSksVC5vZj1mdW5jdGlvbigpe3JldHVybiBUKGFyZ3VtZW50cyl9LFQucHJvdG90eXBlLnRvU2VxPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LFQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX190b1N0cmluZyhcIlNlcSB7XCIsXCJ9XCIpfSxULnByb3RvdHlwZS5jYWNoZVJlc3VsdD1mdW5jdGlvbigpe3JldHVybiF0aGlzLl9jYWNoZSYmdGhpcy5fX2l0ZXJhdGVVbmNhY2hlZCYmKHRoaXMuX2NhY2hlPXRoaXMuZW50cnlTZXEoKS50b0FycmF5KCksdGhpcy5zaXplPXRoaXMuX2NhY2hlLmxlbmd0aCksdGhpc30sVC5wcm90b3R5cGUuX19pdGVyYXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFkodGhpcyx0LGUsITApfSxULnByb3RvdHlwZS5fX2l0ZXJhdG9yPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEgodGhpcyx0LGUsITApfSx0KEQsVCksRC5wcm90b3R5cGUudG9LZXllZFNlcT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSx0KE8sVCksTy5vZj1mdW5jdGlvbigpe3JldHVybiBPKGFyZ3VtZW50cyl9LE8ucHJvdG90eXBlLnRvSW5kZXhlZFNlcT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxPLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fdG9TdHJpbmcoXCJTZXEgW1wiLFwiXVwiKX0sTy5wcm90b3R5cGUuX19pdGVyYXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFkodGhpcyx0LGUsITEpfSxPLnByb3RvdHlwZS5fX2l0ZXJhdG9yPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEgodGhpcyx0LGUsITEpfSx0KE4sVCksTi5vZj1mdW5jdGlvbigpe3JldHVybiBOKGFyZ3VtZW50cyl9LE4ucHJvdG90eXBlLnRvU2V0U2VxPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LFQuaXNTZXE9QixULktleWVkPUQsVC5TZXQ9TixULkluZGV4ZWQ9Tzt2YXIgeG49XCJAQF9fSU1NVVRBQkxFX1NFUV9fQEBcIjtULnByb3RvdHlwZVt4bl09ITAsdChDLE8pLEMucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmhhcyh0KT90aGlzLl9hcnJheVt5KHRoaXMsdCldOmV9LEMucHJvdG90eXBlLl9faXRlcmF0ZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl9hcnJheSxyPW4ubGVuZ3RoLTEsaT0wO2k8PXI7aSsrKWlmKCExPT09dChuW2U/ci1pOmldLGksdGhpcykpcmV0dXJuIGkrMTtyZXR1cm4gaX0sQy5wcm90b3R5cGUuX19pdGVyYXRvcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2FycmF5LHI9bi5sZW5ndGgtMSxpPTA7cmV0dXJuIG5ldyBiKGZ1bmN0aW9uKCl7cmV0dXJuIGk+cj9NKCk6dyh0LGksbltlP3ItaSsrOmkrK10pfSl9LHQoaixEKSxqLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZXx8dGhpcy5oYXModCk/dGhpcy5fb2JqZWN0W3RdOmV9LGoucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fb2JqZWN0Lmhhc093blByb3BlcnR5KHQpfSxqLnByb3RvdHlwZS5fX2l0ZXJhdGU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5fb2JqZWN0LHI9dGhpcy5fa2V5cyxpPXIubGVuZ3RoLTEsbz0wO288PWk7bysrKXt2YXIgdT1yW2U/aS1vOm9dO2lmKCExPT09dChuW3VdLHUsdGhpcykpcmV0dXJuIG8rMX1yZXR1cm4gb30sai5wcm90b3R5cGUuX19pdGVyYXRvcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX29iamVjdCxyPXRoaXMuX2tleXMsaT1yLmxlbmd0aC0xLG89MDtyZXR1cm4gbmV3IGIoZnVuY3Rpb24oKXt2YXIgdT1yW2U/aS1vOm9dO3JldHVybiBvKys+aT9NKCk6dyh0LHUsblt1XSl9KX0sai5wcm90b3R5cGVbcG5dPSEwLHQoQSxPKSxBLnByb3RvdHlwZS5fX2l0ZXJhdGVVbmNhY2hlZD1mdW5jdGlvbih0LGUpe2lmKGUpcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUodCxlKTt2YXIgbj10aGlzLl9pdGVyYWJsZSxyPUkobiksaT0wO2lmKHgocikpZm9yKHZhciBvOyEobz1yLm5leHQoKSkuZG9uZSYmITEhPT10KG8udmFsdWUsaSsrLHRoaXMpOyk7cmV0dXJuIGl9LEEucHJvdG90eXBlLl9faXRlcmF0b3JVbmNhY2hlZD1mdW5jdGlvbih0LGUpe2lmKGUpcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHQsZSk7dmFyIG49dGhpcy5faXRlcmFibGUscj1JKG4pO2lmKCF4KHIpKXJldHVybiBuZXcgYihNKTt2YXIgaT0wO3JldHVybiBuZXcgYihmdW5jdGlvbigpe3ZhciBlPXIubmV4dCgpO3JldHVybiBlLmRvbmU/ZTp3KHQsaSsrLGUudmFsdWUpfSl9LHQoeixPKSx6LnByb3RvdHlwZS5fX2l0ZXJhdGVVbmNhY2hlZD1mdW5jdGlvbih0LGUpe2lmKGUpcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUodCxlKTtmb3IodmFyIG49dGhpcy5faXRlcmF0b3Iscj10aGlzLl9pdGVyYXRvckNhY2hlLGk9MDtpPHIubGVuZ3RoOylpZighMT09PXQocltpXSxpKyssdGhpcykpcmV0dXJuIGk7Zm9yKHZhciBvOyEobz1uLm5leHQoKSkuZG9uZTspe3ZhciB1PW8udmFsdWU7aWYocltpXT11LCExPT09dCh1LGkrKyx0aGlzKSlicmVha31yZXR1cm4gaX0sei5wcm90b3R5cGUuX19pdGVyYXRvclVuY2FjaGVkPWZ1bmN0aW9uKHQsZSl7aWYoZSlyZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IodCxlKTt2YXIgbj10aGlzLl9pdGVyYXRvcixyPXRoaXMuX2l0ZXJhdG9yQ2FjaGUsaT0wO3JldHVybiBuZXcgYihmdW5jdGlvbigpe2lmKGk+PXIubGVuZ3RoKXt2YXIgZT1uLm5leHQoKTtpZihlLmRvbmUpcmV0dXJuIGU7cltpXT1lLnZhbHVlfXJldHVybiB3KHQsaSxyW2krK10pfSl9O3ZhciBJbjt0KEosTyksSi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuc2l6ZT9cIlJlcGVhdCBbXVwiOlwiUmVwZWF0IFsgXCIrdGhpcy5fdmFsdWUrXCIgXCIrdGhpcy5zaXplK1wiIHRpbWVzIF1cIn0sSi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuaGFzKHQpP3RoaXMuX3ZhbHVlOmV9LEoucHJvdG90eXBlLmluY2x1ZGVzPWZ1bmN0aW9uKHQpe3JldHVybiBRKHRoaXMuX3ZhbHVlLHQpfSxKLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuc2l6ZTtyZXR1cm4gdih0LGUsbik/dGhpczpuZXcgSih0aGlzLl92YWx1ZSxtKGUsbiktXyh0LG4pKX0sSi5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxKLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHQpe3JldHVybiBRKHRoaXMuX3ZhbHVlLHQpPzA6LTF9LEoucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKHQpe3JldHVybiBRKHRoaXMuX3ZhbHVlLHQpP3RoaXMuc2l6ZTotMX0sSi5wcm90b3R5cGUuX19pdGVyYXRlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0aGlzLnNpemU7bisrKWlmKCExPT09dCh0aGlzLl92YWx1ZSxuLHRoaXMpKXJldHVybiBuKzE7cmV0dXJuIG59LEoucHJvdG90eXBlLl9faXRlcmF0b3I9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9MDtyZXR1cm4gbmV3IGIoZnVuY3Rpb24oKXtyZXR1cm4gcjxuLnNpemU/dyh0LHIrKyxuLl92YWx1ZSk6TSgpfSl9LEoucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEo/USh0aGlzLl92YWx1ZSx0Ll92YWx1ZSk6Wih0KX07dmFyIGtuO3QoJCxPKSwkLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5zaXplP1wiUmFuZ2UgW11cIjpcIlJhbmdlIFsgXCIrdGhpcy5fc3RhcnQrXCIuLi5cIit0aGlzLl9lbmQrKDEhPT10aGlzLl9zdGVwP1wiIGJ5IFwiK3RoaXMuX3N0ZXA6XCJcIikrXCIgXVwifSwkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5oYXModCk/dGhpcy5fc3RhcnQreSh0aGlzLHQpKnRoaXMuX3N0ZXA6ZX0sJC5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24odCl7dmFyIGU9KHQtdGhpcy5fc3RhcnQpL3RoaXMuX3N0ZXA7cmV0dXJuIGU+PTAmJmU8dGhpcy5zaXplJiZlPT09TWF0aC5mbG9vcihlKX0sJC5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdih0LGUsdGhpcy5zaXplKT90aGlzOih0PV8odCx0aGlzLnNpemUpLGU9bShlLHRoaXMuc2l6ZSksZTw9dD9uZXcgJCgwLDApOm5ldyAkKHRoaXMuZ2V0KHQsdGhpcy5fZW5kKSx0aGlzLmdldChlLHRoaXMuX2VuZCksdGhpcy5fc3RlcCkpfSwkLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHQpe3ZhciBlPXQtdGhpcy5fc3RhcnQ7aWYoZSV0aGlzLl9zdGVwPT0wKXt2YXIgbj1lL3RoaXMuX3N0ZXA7aWYobj49MCYmbjx0aGlzLnNpemUpcmV0dXJuIG59cmV0dXJuLTF9LCQucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmluZGV4T2YodCl9LCQucHJvdG90eXBlLl9faXRlcmF0ZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLnNpemUtMSxyPXRoaXMuX3N0ZXAsaT1lP3RoaXMuX3N0YXJ0K24qcjp0aGlzLl9zdGFydCxvPTA7bzw9bjtvKyspe2lmKCExPT09dChpLG8sdGhpcykpcmV0dXJuIG8rMTtpKz1lPy1yOnJ9cmV0dXJuIG99LCQucHJvdG90eXBlLl9faXRlcmF0b3I9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnNpemUtMSxyPXRoaXMuX3N0ZXAsaT1lP3RoaXMuX3N0YXJ0K24qcjp0aGlzLl9zdGFydCxvPTA7cmV0dXJuIG5ldyBiKGZ1bmN0aW9uKCl7dmFyIHU9aTtyZXR1cm4gaSs9ZT8tcjpyLG8+bj9NKCk6dyh0LG8rKyx1KX0pfSwkLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiAkP3RoaXMuX3N0YXJ0PT09dC5fc3RhcnQmJnRoaXMuX2VuZD09PXQuX2VuZCYmdGhpcy5fc3RlcD09PXQuX3N0ZXA6Wih0aGlzLHQpfTt2YXIgTG47dCh0dCxlKSx0KGV0LHR0KSx0KG50LHR0KSx0KHJ0LHR0KSx0dC5LZXllZD1ldCx0dC5JbmRleGVkPW50LHR0LlNldD1ydDt2YXIgVG4sRG49XCJmdW5jdGlvblwiPT10eXBlb2YgTWF0aC5pbXVsJiYtMj09PU1hdGguaW11bCg0Mjk0OTY3Mjk1LDIpP01hdGguaW11bDpmdW5jdGlvbih0LGUpe3R8PTAsZXw9MDt2YXIgbj02NTUzNSZ0LHI9NjU1MzUmZTtyZXR1cm4gbipyKygodD4+PjE2KSpyK24qKGU+Pj4xNik8PDE2Pj4+MCl8MH0sT249T2JqZWN0LmlzRXh0ZW5zaWJsZSxObj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwiQFwiLHt9KSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksQ249XCJmdW5jdGlvblwiPT10eXBlb2YgV2Vha01hcDtDbiYmKFRuPW5ldyBXZWFrTWFwKTt2YXIgam49MCxBbj1cIl9faW1tdXRhYmxlaGFzaF9fXCI7XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoQW49U3ltYm9sKEFuKSk7dmFyIHpuPTE2LEJuPTI1NSxSbj0wLEtuPXt9O3QoZnQsZXQpLGZ0Lm9mPWZ1bmN0aW9uKCl7dmFyIHQ9c24uY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuIHd0KCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbihlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rPTIpe2lmKG4rMT49dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyB2YWx1ZSBmb3Iga2V5OiBcIit0W25dKTtlLnNldCh0W25dLHRbbisxXSl9fSl9LGZ0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fdG9TdHJpbmcoXCJNYXAge1wiLFwifVwiKX0sZnQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9yb290P3RoaXMuX3Jvb3QuZ2V0KDAsdm9pZCAwLHQsZSk6ZX0sZnQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3JldHVybiBNdCh0aGlzLHQsZSl9LGZ0LnByb3RvdHlwZS5zZXRJbj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnVwZGF0ZUluKHQsZ24sZnVuY3Rpb24oKXtyZXR1cm4gZX0pfSxmdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3JldHVybiBNdCh0aGlzLHQsZ24pfSxmdC5wcm90b3R5cGUuZGVsZXRlSW49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudXBkYXRlSW4odCxmdW5jdGlvbigpe3JldHVybiBnbn0pfSxmdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dCh0aGlzKTp0aGlzLnVwZGF0ZUluKFt0XSxlLG4pfSxmdC5wcm90b3R5cGUudXBkYXRlSW49ZnVuY3Rpb24odCxlLG4pe258fChuPWUsZT12b2lkIDApO3ZhciByPWp0KHRoaXMsT2UodCksZSxuKTtyZXR1cm4gcj09PWduP3ZvaWQgMDpyfSxmdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuc2l6ZT90aGlzOnRoaXMuX19vd25lcklEPyh0aGlzLnNpemU9MCx0aGlzLl9yb290PW51bGwsdGhpcy5fX2hhc2g9dm9pZCAwLHRoaXMuX19hbHRlcmVkPSEwLHRoaXMpOnd0KCl9LGZ0LnByb3RvdHlwZS5tZXJnZT1mdW5jdGlvbigpe3JldHVybiBEdCh0aGlzLHZvaWQgMCxhcmd1bWVudHMpfSxmdC5wcm90b3R5cGUubWVyZ2VXaXRoPWZ1bmN0aW9uKHQpe3JldHVybiBEdCh0aGlzLHQsc24uY2FsbChhcmd1bWVudHMsMSkpfSxmdC5wcm90b3R5cGUubWVyZ2VJbj1mdW5jdGlvbih0KXt2YXIgZT1zbi5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gdGhpcy51cGRhdGVJbih0LHd0KCksZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdC5tZXJnZT90Lm1lcmdlLmFwcGx5KHQsZSk6ZVtlLmxlbmd0aC0xXX0pfSxmdC5wcm90b3R5cGUubWVyZ2VEZWVwPWZ1bmN0aW9uKCl7cmV0dXJuIER0KHRoaXMsT3QsYXJndW1lbnRzKX0sZnQucHJvdG90eXBlLm1lcmdlRGVlcFdpdGg9ZnVuY3Rpb24odCl7dmFyIGU9c24uY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIER0KHRoaXMsTnQodCksZSl9LGZ0LnByb3RvdHlwZS5tZXJnZURlZXBJbj1mdW5jdGlvbih0KXt2YXIgZT1zbi5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gdGhpcy51cGRhdGVJbih0LHd0KCksZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdC5tZXJnZURlZXA/dC5tZXJnZURlZXAuYXBwbHkodCxlKTplW2UubGVuZ3RoLTFdfSl9LGZ0LnByb3RvdHlwZS5zb3J0PWZ1bmN0aW9uKHQpe3JldHVybiBYdChTZSh0aGlzLHQpKX0sZnQucHJvdG90eXBlLnNvcnRCeT1mdW5jdGlvbih0LGUpe3JldHVybiBYdChTZSh0aGlzLGUsdCkpfSxmdC5wcm90b3R5cGUud2l0aE11dGF0aW9ucz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmFzTXV0YWJsZSgpO3JldHVybiB0KGUpLGUud2FzQWx0ZXJlZCgpP2UuX19lbnN1cmVPd25lcih0aGlzLl9fb3duZXJJRCk6dGhpc30sZnQucHJvdG90eXBlLmFzTXV0YWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fb3duZXJJRD90aGlzOnRoaXMuX19lbnN1cmVPd25lcihuZXcgcCl9LGZ0LnByb3RvdHlwZS5hc0ltbXV0YWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fZW5zdXJlT3duZXIoKX0sZnQucHJvdG90eXBlLndhc0FsdGVyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2FsdGVyZWR9LGZ0LnByb3RvdHlwZS5fX2l0ZXJhdG9yPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBfdCh0aGlzLHQsZSl9LGZ0LnByb3RvdHlwZS5fX2l0ZXJhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9MDtyZXR1cm4gdGhpcy5fcm9vdCYmdGhpcy5fcm9vdC5pdGVyYXRlKGZ1bmN0aW9uKGUpe3JldHVybiByKyssdChlWzFdLGVbMF0sbil9LGUpLHJ9LGZ0LnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dGhpcy5fX293bmVySUQ/dGhpczp0P2J0KHRoaXMuc2l6ZSx0aGlzLl9yb290LHQsdGhpcy5fX2hhc2gpOih0aGlzLl9fb3duZXJJRD10LHRoaXMuX19hbHRlcmVkPSExLHRoaXMpfSxmdC5pc01hcD1wdDt2YXIgUG49XCJAQF9fSU1NVVRBQkxFX01BUF9fQEBcIixVbj1mdC5wcm90b3R5cGU7VW5bUG5dPSEwLFVuLmRlbGV0ZT1Vbi5yZW1vdmUsVW4ucmVtb3ZlSW49VW4uZGVsZXRlSW4saHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIGk9dGhpcy5lbnRyaWVzLG89MCx1PWkubGVuZ3RoO288dTtvKyspaWYoUShuLGlbb11bMF0pKXJldHVybiBpW29dWzFdO3JldHVybiByfSxodC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxuLHIsaSxvLHUpe2Zvcih2YXIgYT1pPT09Z24scz10aGlzLmVudHJpZXMsYz0wLGw9cy5sZW5ndGg7YzxsJiYhUShyLHNbY11bMF0pO2MrKyk7dmFyIHA9YzxsO2lmKHA/c1tjXVsxXT09PWk6YSlyZXR1cm4gdGhpcztpZihmKHUpLChhfHwhcCkmJmYobyksIWF8fDEhPT1zLmxlbmd0aCl7aWYoIXAmJiFhJiZzLmxlbmd0aD49WW4pcmV0dXJuIGt0KHQscyxyLGkpO3ZhciBkPXQmJnQ9PT10aGlzLm93bmVySUQseT1kP3M6aChzKTtyZXR1cm4gcD9hP2M9PT1sLTE/eS5wb3AoKTp5W2NdPXkucG9wKCk6eVtjXT1bcixpXTp5LnB1c2goW3IsaV0pLGQ/KHRoaXMuZW50cmllcz15LHRoaXMpOm5ldyBodCh0LHkpfX0sZHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUsbixyKXt2b2lkIDA9PT1lJiYoZT1vdChuKSk7dmFyIGk9MTw8KCgwPT09dD9lOmU+Pj50KSZ5biksbz10aGlzLmJpdG1hcDtyZXR1cm4gMD09KG8maSk/cjp0aGlzLm5vZGVzW0F0KG8maS0xKV0uZ2V0KHQraG4sZSxuLHIpfSxkdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxuLHIsaSxvLHUpe3ZvaWQgMD09PW4mJihuPW90KHIpKTt2YXIgYT0oMD09PWU/bjpuPj4+ZSkmeW4scz0xPDxhLGM9dGhpcy5iaXRtYXAsbD0wIT0oYyZzKTtpZighbCYmaT09PWduKXJldHVybiB0aGlzO3ZhciBmPUF0KGMmcy0xKSxwPXRoaXMubm9kZXMsaD1sP3BbZl06dm9pZCAwLGQ9RXQoaCx0LGUraG4sbixyLGksbyx1KTtpZihkPT09aClyZXR1cm4gdGhpcztpZighbCYmZCYmcC5sZW5ndGg+PUhuKXJldHVybiBUdCh0LHAsYyxhLGQpO2lmKGwmJiFkJiYyPT09cC5sZW5ndGgmJnh0KHBbMV5mXSkpcmV0dXJuIHBbMV5mXTtpZihsJiZkJiYxPT09cC5sZW5ndGgmJnh0KGQpKXJldHVybiBkO3ZhciB5PXQmJnQ9PT10aGlzLm93bmVySUQsZz1sP2Q/YzpjXnM6Y3xzLHY9bD9kP3p0KHAsZixkLHkpOlJ0KHAsZix5KTpCdChwLGYsZCx5KTtyZXR1cm4geT8odGhpcy5iaXRtYXA9Zyx0aGlzLm5vZGVzPXYsdGhpcyk6bmV3IGR0KHQsZyx2KX0seXQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUsbixyKXt2b2lkIDA9PT1lJiYoZT1vdChuKSk7dmFyIGk9KDA9PT10P2U6ZT4+PnQpJnluLG89dGhpcy5ub2Rlc1tpXTtyZXR1cm4gbz9vLmdldCh0K2huLGUsbixyKTpyfSx5dC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxuLHIsaSxvLHUpe3ZvaWQgMD09PW4mJihuPW90KHIpKTt2YXIgYT0oMD09PWU/bjpuPj4+ZSkmeW4scz1pPT09Z24sYz10aGlzLm5vZGVzLGw9Y1thXTtpZihzJiYhbClyZXR1cm4gdGhpczt2YXIgZj1FdChsLHQsZStobixuLHIsaSxvLHUpO2lmKGY9PT1sKXJldHVybiB0aGlzO3ZhciBwPXRoaXMuY291bnQ7aWYobCl7aWYoIWYmJi0tcDxxbilyZXR1cm4gTHQodCxjLHAsYSl9ZWxzZSBwKys7dmFyIGg9dCYmdD09PXRoaXMub3duZXJJRCxkPXp0KGMsYSxmLGgpO3JldHVybiBoPyh0aGlzLmNvdW50PXAsdGhpcy5ub2Rlcz1kLHRoaXMpOm5ldyB5dCh0LHAsZCl9LGd0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBpPXRoaXMuZW50cmllcyxvPTAsdT1pLmxlbmd0aDtvPHU7bysrKWlmKFEobixpW29dWzBdKSlyZXR1cm4gaVtvXVsxXTtyZXR1cm4gcn0sZ3QucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUsbixyLGksbyx1KXt2b2lkIDA9PT1uJiYobj1vdChyKSk7dmFyIGE9aT09PWduO2lmKG4hPT10aGlzLmtleUhhc2gpcmV0dXJuIGE/dGhpczooZih1KSxmKG8pLEl0KHRoaXMsdCxlLG4sW3IsaV0pKTtmb3IodmFyIHM9dGhpcy5lbnRyaWVzLGM9MCxsPXMubGVuZ3RoO2M8bCYmIVEocixzW2NdWzBdKTtjKyspO3ZhciBwPWM8bDtpZihwP3NbY11bMV09PT1pOmEpcmV0dXJuIHRoaXM7aWYoZih1KSwoYXx8IXApJiZmKG8pLGEmJjI9PT1sKXJldHVybiBuZXcgdnQodCx0aGlzLmtleUhhc2gsc1sxXmNdKTt2YXIgZD10JiZ0PT09dGhpcy5vd25lcklELHk9ZD9zOmgocyk7cmV0dXJuIHA/YT9jPT09bC0xP3kucG9wKCk6eVtjXT15LnBvcCgpOnlbY109W3IsaV06eS5wdXNoKFtyLGldKSxkPyh0aGlzLmVudHJpZXM9eSx0aGlzKTpuZXcgZ3QodCx0aGlzLmtleUhhc2gseSl9LHZ0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIFEobix0aGlzLmVudHJ5WzBdKT90aGlzLmVudHJ5WzFdOnJ9LHZ0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLG4scixpLG8sdSl7dmFyIGE9aT09PWduLHM9UShyLHRoaXMuZW50cnlbMF0pO3JldHVybihzP2k9PT10aGlzLmVudHJ5WzFdOmEpP3RoaXM6KGYodSksYT92b2lkIGYobyk6cz90JiZ0PT09dGhpcy5vd25lcklEPyh0aGlzLmVudHJ5WzFdPWksdGhpcyk6bmV3IHZ0KHQsdGhpcy5rZXlIYXNoLFtyLGldKTooZihvKSxJdCh0aGlzLHQsZSxvdChyKSxbcixpXSkpKX0saHQucHJvdG90eXBlLml0ZXJhdGU9Z3QucHJvdG90eXBlLml0ZXJhdGU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5lbnRyaWVzLHI9MCxpPW4ubGVuZ3RoLTE7cjw9aTtyKyspaWYoITE9PT10KG5bZT9pLXI6cl0pKXJldHVybiExfSxkdC5wcm90b3R5cGUuaXRlcmF0ZT15dC5wcm90b3R5cGUuaXRlcmF0ZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLm5vZGVzLHI9MCxpPW4ubGVuZ3RoLTE7cjw9aTtyKyspe3ZhciBvPW5bZT9pLXI6cl07aWYobyYmITE9PT1vLml0ZXJhdGUodCxlKSlyZXR1cm4hMX19LHZ0LnByb3RvdHlwZS5pdGVyYXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQodGhpcy5lbnRyeSl9LHQoX3QsYiksX3QucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fdHlwZSxlPXRoaXMuX3N0YWNrO2U7KXt2YXIgbixyPWUubm9kZSxpPWUuaW5kZXgrKztpZihyLmVudHJ5KXtpZigwPT09aSlyZXR1cm4gbXQodCxyLmVudHJ5KX1lbHNlIGlmKHIuZW50cmllcyl7aWYobj1yLmVudHJpZXMubGVuZ3RoLTEsaTw9bilyZXR1cm4gbXQodCxyLmVudHJpZXNbdGhpcy5fcmV2ZXJzZT9uLWk6aV0pfWVsc2UgaWYobj1yLm5vZGVzLmxlbmd0aC0xLGk8PW4pe3ZhciBvPXIubm9kZXNbdGhpcy5fcmV2ZXJzZT9uLWk6aV07aWYobyl7aWYoby5lbnRyeSlyZXR1cm4gbXQodCxvLmVudHJ5KTtlPXRoaXMuX3N0YWNrPVN0KG8sZSl9Y29udGludWV9ZT10aGlzLl9zdGFjaz10aGlzLl9zdGFjay5fX3ByZXZ9cmV0dXJuIE0oKX07dmFyIEZuLFluPWRuLzQsSG49ZG4vMixxbj1kbi80O3QoS3QsbnQpLEt0Lm9mPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMoYXJndW1lbnRzKX0sS3QucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX190b1N0cmluZyhcIkxpc3QgW1wiLFwiXVwiKX0sS3QucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe2lmKCh0PXkodGhpcyx0KSk+PTAmJnQ8dGhpcy5zaXplKXt0Kz10aGlzLl9vcmlnaW47dmFyIG49VnQodGhpcyx0KTtyZXR1cm4gbiYmbi5hcnJheVt0JnluXX1yZXR1cm4gZX0sS3QucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3JldHVybiBxdCh0aGlzLHQsZSl9LEt0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGFzKHQpPzA9PT10P3RoaXMuc2hpZnQoKTp0PT09dGhpcy5zaXplLTE/dGhpcy5wb3AoKTp0aGlzLnNwbGljZSh0LDEpOnRoaXN9LEt0LnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zcGxpY2UodCwwLGUpfSxLdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuc2l6ZT90aGlzOnRoaXMuX19vd25lcklEPyh0aGlzLnNpemU9dGhpcy5fb3JpZ2luPXRoaXMuX2NhcGFjaXR5PTAsdGhpcy5fbGV2ZWw9aG4sdGhpcy5fcm9vdD10aGlzLl90YWlsPW51bGwsdGhpcy5fX2hhc2g9dm9pZCAwLHRoaXMuX19hbHRlcmVkPSEwLHRoaXMpOkh0KCl9LEt0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLGU9dGhpcy5zaXplO3JldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24obil7UXQobiwwLGUrdC5sZW5ndGgpO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKW4uc2V0KGUrcix0W3JdKX0pfSxLdC5wcm90b3R5cGUucG9wPWZ1bmN0aW9uKCl7cmV0dXJuIFF0KHRoaXMsMCwtMSl9LEt0LnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzO3JldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24oZSl7UXQoZSwtdC5sZW5ndGgpO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWUuc2V0KG4sdFtuXSl9KX0sS3QucHJvdG90eXBlLnNoaWZ0PWZ1bmN0aW9uKCl7cmV0dXJuIFF0KHRoaXMsMSl9LEt0LnByb3RvdHlwZS5tZXJnZT1mdW5jdGlvbigpe3JldHVybiBadCh0aGlzLHZvaWQgMCxhcmd1bWVudHMpfSxLdC5wcm90b3R5cGUubWVyZ2VXaXRoPWZ1bmN0aW9uKHQpe3JldHVybiBadCh0aGlzLHQsc24uY2FsbChhcmd1bWVudHMsMSkpfSxLdC5wcm90b3R5cGUubWVyZ2VEZWVwPWZ1bmN0aW9uKCl7cmV0dXJuIFp0KHRoaXMsT3QsYXJndW1lbnRzKX0sS3QucHJvdG90eXBlLm1lcmdlRGVlcFdpdGg9ZnVuY3Rpb24odCl7dmFyIGU9c24uY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIFp0KHRoaXMsTnQodCksZSl9LEt0LnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKHQpe3JldHVybiBRdCh0aGlzLDAsdCl9LEt0LnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuc2l6ZTtyZXR1cm4gdih0LGUsbik/dGhpczpRdCh0aGlzLF8odCxuKSxtKGUsbikpfSxLdC5wcm90b3R5cGUuX19pdGVyYXRvcj1mdW5jdGlvbih0LGUpe3ZhciBuPTAscj1GdCh0aGlzLGUpO3JldHVybiBuZXcgYihmdW5jdGlvbigpe3ZhciBlPXIoKTtyZXR1cm4gZT09PVFuP00oKTp3KHQsbisrLGUpfSl9LEt0LnByb3RvdHlwZS5fX2l0ZXJhdGU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4scj0wLGk9RnQodGhpcyxlKTsobj1pKCkpIT09UW4mJiExIT09dChuLHIrKyx0aGlzKTspO3JldHVybiByfSxLdC5wcm90b3R5cGUuX19lbnN1cmVPd25lcj1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXRoaXMuX19vd25lcklEP3RoaXM6dD9ZdCh0aGlzLl9vcmlnaW4sdGhpcy5fY2FwYWNpdHksdGhpcy5fbGV2ZWwsdGhpcy5fcm9vdCx0aGlzLl90YWlsLHQsdGhpcy5fX2hhc2gpOih0aGlzLl9fb3duZXJJRD10LHRoaXMpfSxLdC5pc0xpc3Q9UHQ7dmFyIFduPVwiQEBfX0lNTVVUQUJMRV9MSVNUX19AQFwiLEduPUt0LnByb3RvdHlwZTtHbltXbl09ITAsR24uZGVsZXRlPUduLnJlbW92ZSxHbi5zZXRJbj1Vbi5zZXRJbixHbi5kZWxldGVJbj1Hbi5yZW1vdmVJbj1Vbi5yZW1vdmVJbixHbi51cGRhdGU9VW4udXBkYXRlLEduLnVwZGF0ZUluPVVuLnVwZGF0ZUluLEduLm1lcmdlSW49VW4ubWVyZ2VJbixHbi5tZXJnZURlZXBJbj1Vbi5tZXJnZURlZXBJbixHbi53aXRoTXV0YXRpb25zPVVuLndpdGhNdXRhdGlvbnMsR24uYXNNdXRhYmxlPVVuLmFzTXV0YWJsZSxHbi5hc0ltbXV0YWJsZT1Vbi5hc0ltbXV0YWJsZSxHbi53YXNBbHRlcmVkPVVuLndhc0FsdGVyZWQsVXQucHJvdG90eXBlLnJlbW92ZUJlZm9yZT1mdW5jdGlvbih0LGUsbil7aWYobj09PWU/MTw8ZTowPT09dGhpcy5hcnJheS5sZW5ndGgpcmV0dXJuIHRoaXM7dmFyIHI9bj4+PmUmeW47aWYocj49dGhpcy5hcnJheS5sZW5ndGgpcmV0dXJuIG5ldyBVdChbXSx0KTt2YXIgaSxvPTA9PT1yO2lmKGU+MCl7dmFyIHU9dGhpcy5hcnJheVtyXTtpZigoaT11JiZ1LnJlbW92ZUJlZm9yZSh0LGUtaG4sbikpPT09dSYmbylyZXR1cm4gdGhpc31pZihvJiYhaSlyZXR1cm4gdGhpczt2YXIgYT1HdCh0aGlzLHQpO2lmKCFvKWZvcih2YXIgcz0wO3M8cjtzKyspYS5hcnJheVtzXT12b2lkIDA7cmV0dXJuIGkmJihhLmFycmF5W3JdPWkpLGF9LFV0LnByb3RvdHlwZS5yZW1vdmVBZnRlcj1mdW5jdGlvbih0LGUsbil7aWYobj09PShlPzE8PGU6MCl8fDA9PT10aGlzLmFycmF5Lmxlbmd0aClyZXR1cm4gdGhpczt2YXIgcj1uLTE+Pj5lJnluO2lmKHI+PXRoaXMuYXJyYXkubGVuZ3RoKXJldHVybiB0aGlzO3ZhciBpO2lmKGU+MCl7dmFyIG89dGhpcy5hcnJheVtyXTtpZigoaT1vJiZvLnJlbW92ZUFmdGVyKHQsZS1obixuKSk9PT1vJiZyPT09dGhpcy5hcnJheS5sZW5ndGgtMSlyZXR1cm4gdGhpc312YXIgdT1HdCh0aGlzLHQpO3JldHVybiB1LmFycmF5LnNwbGljZShyKzEpLGkmJih1LmFycmF5W3JdPWkpLHV9O3ZhciBWbixRbj17fTt0KFh0LGZ0KSxYdC5vZj1mdW5jdGlvbigpe3JldHVybiB0aGlzKGFyZ3VtZW50cyl9LFh0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fdG9TdHJpbmcoXCJPcmRlcmVkTWFwIHtcIixcIn1cIil9LFh0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9tYXAuZ2V0KHQpO3JldHVybiB2b2lkIDAhPT1uP3RoaXMuX2xpc3QuZ2V0KG4pWzFdOmV9LFh0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5zaXplP3RoaXM6dGhpcy5fX293bmVySUQ/KHRoaXMuc2l6ZT0wLHRoaXMuX21hcC5jbGVhcigpLHRoaXMuX2xpc3QuY2xlYXIoKSx0aGlzKTplZSgpfSxYdC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5lKHRoaXMsdCxlKX0sWHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmUodGhpcyx0LGduKX0sWHQucHJvdG90eXBlLndhc0FsdGVyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFwLndhc0FsdGVyZWQoKXx8dGhpcy5fbGlzdC53YXNBbHRlcmVkKCl9LFh0LnByb3RvdHlwZS5fX2l0ZXJhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLl9saXN0Ll9faXRlcmF0ZShmdW5jdGlvbihlKXtyZXR1cm4gZSYmdChlWzFdLGVbMF0sbil9LGUpfSxYdC5wcm90b3R5cGUuX19pdGVyYXRvcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9saXN0LmZyb21FbnRyeVNlcSgpLl9faXRlcmF0b3IodCxlKX0sWHQucHJvdG90eXBlLl9fZW5zdXJlT3duZXI9ZnVuY3Rpb24odCl7aWYodD09PXRoaXMuX19vd25lcklEKXJldHVybiB0aGlzO3ZhciBlPXRoaXMuX21hcC5fX2Vuc3VyZU93bmVyKHQpLG49dGhpcy5fbGlzdC5fX2Vuc3VyZU93bmVyKHQpO3JldHVybiB0P3RlKGUsbix0LHRoaXMuX19oYXNoKToodGhpcy5fX293bmVySUQ9dCx0aGlzLl9tYXA9ZSx0aGlzLl9saXN0PW4sdGhpcyl9LFh0LmlzT3JkZXJlZE1hcD0kdCxYdC5wcm90b3R5cGVbcG5dPSEwLFh0LnByb3RvdHlwZS5kZWxldGU9WHQucHJvdG90eXBlLnJlbW92ZTt2YXIgWm47dChyZSxEKSxyZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2l0ZXIuZ2V0KHQsZSl9LHJlLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2l0ZXIuaGFzKHQpfSxyZS5wcm90b3R5cGUudmFsdWVTZXE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXRlci52YWx1ZVNlcSgpfSxyZS5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1jZSh0aGlzLCEwKTtyZXR1cm4gdGhpcy5fdXNlS2V5c3x8KGUudmFsdWVTZXE9ZnVuY3Rpb24oKXtyZXR1cm4gdC5faXRlci50b1NlcSgpLnJldmVyc2UoKX0pLGV9LHJlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9c2UodGhpcyx0LGUpO3JldHVybiB0aGlzLl91c2VLZXlzfHwoci52YWx1ZVNlcT1mdW5jdGlvbigpe3JldHVybiBuLl9pdGVyLnRvU2VxKCkubWFwKHQsZSl9KSxyfSxyZS5wcm90b3R5cGUuX19pdGVyYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG4scj10aGlzO3JldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0ZSh0aGlzLl91c2VLZXlzP2Z1bmN0aW9uKGUsbil7cmV0dXJuIHQoZSxuLHIpfToobj1lP0llKHRoaXMpOjAsZnVuY3Rpb24oaSl7cmV0dXJuIHQoaSxlPy0tbjpuKysscil9KSxlKX0scmUucHJvdG90eXBlLl9faXRlcmF0b3I9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl91c2VLZXlzKXJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0b3IodCxlKTt2YXIgbj10aGlzLl9pdGVyLl9faXRlcmF0b3IoU24sZSkscj1lP0llKHRoaXMpOjA7cmV0dXJuIG5ldyBiKGZ1bmN0aW9uKCl7dmFyIGk9bi5uZXh0KCk7cmV0dXJuIGkuZG9uZT9pOncodCxlPy0tcjpyKyssaS52YWx1ZSxpKX0pfSxyZS5wcm90b3R5cGVbcG5dPSEwLHQoaWUsTyksaWUucHJvdG90eXBlLmluY2x1ZGVzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pdGVyLmluY2x1ZGVzKHQpfSxpZS5wcm90b3R5cGUuX19pdGVyYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPTA7cmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRlKGZ1bmN0aW9uKGUpe3JldHVybiB0KGUscisrLG4pfSxlKX0saWUucHJvdG90eXBlLl9faXRlcmF0b3I9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9pdGVyLl9faXRlcmF0b3IoU24sZSkscj0wO3JldHVybiBuZXcgYihmdW5jdGlvbigpe3ZhciBlPW4ubmV4dCgpO3JldHVybiBlLmRvbmU/ZTp3KHQscisrLGUudmFsdWUsZSl9KX0sdChvZSxOKSxvZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pdGVyLmluY2x1ZGVzKHQpfSxvZS5wcm90b3R5cGUuX19pdGVyYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5faXRlci5fX2l0ZXJhdGUoZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSxlLG4pfSxlKX0sb2UucHJvdG90eXBlLl9faXRlcmF0b3I9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9pdGVyLl9faXRlcmF0b3IoU24sZSk7cmV0dXJuIG5ldyBiKGZ1bmN0aW9uKCl7dmFyIGU9bi5uZXh0KCk7cmV0dXJuIGUuZG9uZT9lOncodCxlLnZhbHVlLGUudmFsdWUsZSl9KX0sdCh1ZSxEKSx1ZS5wcm90b3R5cGUuZW50cnlTZXE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXRlci50b1NlcSgpfSx1ZS5wcm90b3R5cGUuX19pdGVyYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5faXRlci5fX2l0ZXJhdGUoZnVuY3Rpb24oZSl7aWYoZSl7eGUoZSk7dmFyIHI9byhlKTtyZXR1cm4gdChyP2UuZ2V0KDEpOmVbMV0scj9lLmdldCgwKTplWzBdLG4pfX0sZSl9LHVlLnByb3RvdHlwZS5fX2l0ZXJhdG9yPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5faXRlci5fX2l0ZXJhdG9yKFNuLGUpO3JldHVybiBuZXcgYihmdW5jdGlvbigpe2Zvcig7Oyl7dmFyIGU9bi5uZXh0KCk7aWYoZS5kb25lKXJldHVybiBlO3ZhciByPWUudmFsdWU7aWYocil7eGUocik7dmFyIGk9byhyKTtyZXR1cm4gdyh0LGk/ci5nZXQoMCk6clswXSxpP3IuZ2V0KDEpOnJbMV0sZSl9fX0pfSxpZS5wcm90b3R5cGUuY2FjaGVSZXN1bHQ9cmUucHJvdG90eXBlLmNhY2hlUmVzdWx0PW9lLnByb3RvdHlwZS5jYWNoZVJlc3VsdD11ZS5wcm90b3R5cGUuY2FjaGVSZXN1bHQ9VGUsdChOZSxldCksTmUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX190b1N0cmluZyhqZSh0aGlzKStcIiB7XCIsXCJ9XCIpfSxOZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kZWZhdWx0VmFsdWVzLmhhc093blByb3BlcnR5KHQpfSxOZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuaGFzKHQpKXJldHVybiBlO3ZhciBuPXRoaXMuX2RlZmF1bHRWYWx1ZXNbdF07cmV0dXJuIHRoaXMuX21hcD90aGlzLl9tYXAuZ2V0KHQsbik6bn0sTmUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7aWYodGhpcy5fX293bmVySUQpcmV0dXJuIHRoaXMuX21hcCYmdGhpcy5fbWFwLmNsZWFyKCksdGhpczt2YXIgdD10aGlzLmNvbnN0cnVjdG9yO3JldHVybiB0Ll9lbXB0eXx8KHQuX2VtcHR5PUNlKHRoaXMsd3QoKSkpfSxOZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuaGFzKHQpKXRocm93IG5ldyBFcnJvcignQ2Fubm90IHNldCB1bmtub3duIGtleSBcIicrdCsnXCIgb24gJytqZSh0aGlzKSk7aWYodGhpcy5fbWFwJiYhdGhpcy5fbWFwLmhhcyh0KSYmZT09PXRoaXMuX2RlZmF1bHRWYWx1ZXNbdF0pcmV0dXJuIHRoaXM7dmFyIG49dGhpcy5fbWFwJiZ0aGlzLl9tYXAuc2V0KHQsZSk7cmV0dXJuIHRoaXMuX19vd25lcklEfHxuPT09dGhpcy5fbWFwP3RoaXM6Q2UodGhpcyxuKX0sTmUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXtpZighdGhpcy5oYXModCkpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy5fbWFwJiZ0aGlzLl9tYXAucmVtb3ZlKHQpO3JldHVybiB0aGlzLl9fb3duZXJJRHx8ZT09PXRoaXMuX21hcD90aGlzOkNlKHRoaXMsZSl9LE5lLnByb3RvdHlwZS53YXNBbHRlcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcC53YXNBbHRlcmVkKCl9LE5lLnByb3RvdHlwZS5fX2l0ZXJhdG9yPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcztyZXR1cm4gbih0aGlzLl9kZWZhdWx0VmFsdWVzKS5tYXAoZnVuY3Rpb24odCxlKXtyZXR1cm4gci5nZXQoZSl9KS5fX2l0ZXJhdG9yKHQsZSl9LE5lLnByb3RvdHlwZS5fX2l0ZXJhdGU9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzO3JldHVybiBuKHRoaXMuX2RlZmF1bHRWYWx1ZXMpLm1hcChmdW5jdGlvbih0LGUpe3JldHVybiByLmdldChlKX0pLl9faXRlcmF0ZSh0LGUpfSxOZS5wcm90b3R5cGUuX19lbnN1cmVPd25lcj1mdW5jdGlvbih0KXtpZih0PT09dGhpcy5fX293bmVySUQpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy5fbWFwJiZ0aGlzLl9tYXAuX19lbnN1cmVPd25lcih0KTtyZXR1cm4gdD9DZSh0aGlzLGUsdCk6KHRoaXMuX19vd25lcklEPXQsdGhpcy5fbWFwPWUsdGhpcyl9O3ZhciBKbj1OZS5wcm90b3R5cGU7Sm4uZGVsZXRlPUpuLnJlbW92ZSxKbi5kZWxldGVJbj1Kbi5yZW1vdmVJbj1Vbi5yZW1vdmVJbixKbi5tZXJnZT1Vbi5tZXJnZSxKbi5tZXJnZVdpdGg9VW4ubWVyZ2VXaXRoLEpuLm1lcmdlSW49VW4ubWVyZ2VJbixKbi5tZXJnZURlZXA9VW4ubWVyZ2VEZWVwLEpuLm1lcmdlRGVlcFdpdGg9VW4ubWVyZ2VEZWVwV2l0aCxKbi5tZXJnZURlZXBJbj1Vbi5tZXJnZURlZXBJbixKbi5zZXRJbj1Vbi5zZXRJbixKbi51cGRhdGU9VW4udXBkYXRlLEpuLnVwZGF0ZUluPVVuLnVwZGF0ZUluLEpuLndpdGhNdXRhdGlvbnM9VW4ud2l0aE11dGF0aW9ucyxKbi5hc011dGFibGU9VW4uYXNNdXRhYmxlLEpuLmFzSW1tdXRhYmxlPVVuLmFzSW1tdXRhYmxlLHQoQmUscnQpLEJlLm9mPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMoYXJndW1lbnRzKX0sQmUuZnJvbUtleXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMobih0KS5rZXlTZXEoKSl9LEJlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fdG9TdHJpbmcoXCJTZXQge1wiLFwifVwiKX0sQmUucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbWFwLmhhcyh0KX0sQmUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4gS2UodGhpcyx0aGlzLl9tYXAuc2V0KHQsITApKX0sQmUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXtyZXR1cm4gS2UodGhpcyx0aGlzLl9tYXAucmVtb3ZlKHQpKX0sQmUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIEtlKHRoaXMsdGhpcy5fbWFwLmNsZWFyKCkpfSxCZS5wcm90b3R5cGUudW5pb249ZnVuY3Rpb24oKXt2YXIgdD1zbi5jYWxsKGFyZ3VtZW50cywwKTtyZXR1cm4gdD10LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gMCE9PXQuc2l6ZX0pLDA9PT10Lmxlbmd0aD90aGlzOjAhPT10aGlzLnNpemV8fHRoaXMuX19vd25lcklEfHwxIT09dC5sZW5ndGg/dGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWkodFtuXSkuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZS5hZGQodCl9KX0pOnRoaXMuY29uc3RydWN0b3IodFswXSl9LEJlLnByb3RvdHlwZS5pbnRlcnNlY3Q9ZnVuY3Rpb24oKXt2YXIgdD1zbi5jYWxsKGFyZ3VtZW50cywwKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHRoaXM7dD10Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gaSh0KX0pO3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbihuKXtlLmZvckVhY2goZnVuY3Rpb24oZSl7dC5ldmVyeShmdW5jdGlvbih0KXtyZXR1cm4gdC5pbmNsdWRlcyhlKX0pfHxuLnJlbW92ZShlKX0pfSl9LEJlLnByb3RvdHlwZS5zdWJ0cmFjdD1mdW5jdGlvbigpe3ZhciB0PXNuLmNhbGwoYXJndW1lbnRzLDApO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gdGhpczt0PXQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBpKHQpfSk7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKG4pe2UuZm9yRWFjaChmdW5jdGlvbihlKXt0LnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5jbHVkZXMoZSl9KSYmbi5yZW1vdmUoZSl9KX0pfSxCZS5wcm90b3R5cGUubWVyZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LEJlLnByb3RvdHlwZS5tZXJnZVdpdGg9ZnVuY3Rpb24odCl7dmFyIGU9c24uY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIHRoaXMudW5pb24uYXBwbHkodGhpcyxlKX0sQmUucHJvdG90eXBlLnNvcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIEZlKFNlKHRoaXMsdCkpfSxCZS5wcm90b3R5cGUuc29ydEJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEZlKFNlKHRoaXMsZSx0KSl9LEJlLnByb3RvdHlwZS53YXNBbHRlcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcC53YXNBbHRlcmVkKCl9LEJlLnByb3RvdHlwZS5fX2l0ZXJhdGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLl9tYXAuX19pdGVyYXRlKGZ1bmN0aW9uKGUscil7cmV0dXJuIHQocixyLG4pfSxlKX0sQmUucHJvdG90eXBlLl9faXRlcmF0b3I9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fbWFwLm1hcChmdW5jdGlvbih0LGUpe3JldHVybiBlfSkuX19pdGVyYXRvcih0LGUpfSxCZS5wcm90b3R5cGUuX19lbnN1cmVPd25lcj1mdW5jdGlvbih0KXtpZih0PT09dGhpcy5fX293bmVySUQpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy5fbWFwLl9fZW5zdXJlT3duZXIodCk7cmV0dXJuIHQ/dGhpcy5fX21ha2UoZSx0KToodGhpcy5fX293bmVySUQ9dCx0aGlzLl9tYXA9ZSx0aGlzKX0sQmUuaXNTZXQ9UmU7dmFyIFhuPVwiQEBfX0lNTVVUQUJMRV9TRVRfX0BAXCIsJG49QmUucHJvdG90eXBlOyRuW1huXT0hMCwkbi5kZWxldGU9JG4ucmVtb3ZlLCRuLm1lcmdlRGVlcD0kbi5tZXJnZSwkbi5tZXJnZURlZXBXaXRoPSRuLm1lcmdlV2l0aCwkbi53aXRoTXV0YXRpb25zPVVuLndpdGhNdXRhdGlvbnMsJG4uYXNNdXRhYmxlPVVuLmFzTXV0YWJsZSwkbi5hc0ltbXV0YWJsZT1Vbi5hc0ltbXV0YWJsZSwkbi5fX2VtcHR5PVVlLCRuLl9fbWFrZT1QZTt2YXIgdHI7dChGZSxCZSksRmUub2Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcyhhcmd1bWVudHMpfSxGZS5mcm9tS2V5cz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyhuKHQpLmtleVNlcSgpKX0sRmUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX190b1N0cmluZyhcIk9yZGVyZWRTZXQge1wiLFwifVwiKX0sRmUuaXNPcmRlcmVkU2V0PVllO3ZhciBlcj1GZS5wcm90b3R5cGU7ZXJbcG5dPSEwLGVyLl9fZW1wdHk9cWUsZXIuX19tYWtlPUhlO3ZhciBucjt0KFdlLG50KSxXZS5vZj1mdW5jdGlvbigpe3JldHVybiB0aGlzKGFyZ3VtZW50cyl9LFdlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fdG9TdHJpbmcoXCJTdGFjayBbXCIsXCJdXCIpfSxXZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5faGVhZDtmb3IodD15KHRoaXMsdCk7biYmdC0tOyluPW4ubmV4dDtyZXR1cm4gbj9uLnZhbHVlOmV9LFdlLnByb3RvdHlwZS5wZWVrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hlYWQmJnRoaXMuX2hlYWQudmFsdWV9LFdlLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKCl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXM7Zm9yKHZhciB0PXRoaXMuc2l6ZSthcmd1bWVudHMubGVuZ3RoLGU9dGhpcy5faGVhZCxuPWFyZ3VtZW50cy5sZW5ndGgtMTtuPj0wO24tLSllPXt2YWx1ZTphcmd1bWVudHNbbl0sbmV4dDplfTtyZXR1cm4gdGhpcy5fX293bmVySUQ/KHRoaXMuc2l6ZT10LHRoaXMuX2hlYWQ9ZSx0aGlzLl9faGFzaD12b2lkIDAsdGhpcy5fX2FsdGVyZWQ9ITAsdGhpcyk6VmUodCxlKX0sV2UucHJvdG90eXBlLnB1c2hBbGw9ZnVuY3Rpb24odCl7aWYodD1yKHQpLDA9PT10LnNpemUpcmV0dXJuIHRoaXM7bHQodC5zaXplKTt2YXIgZT10aGlzLnNpemUsbj10aGlzLl9oZWFkO3JldHVybiB0LnJldmVyc2UoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UrKyxuPXt2YWx1ZTp0LG5leHQ6bn19KSx0aGlzLl9fb3duZXJJRD8odGhpcy5zaXplPWUsdGhpcy5faGVhZD1uLHRoaXMuX19oYXNoPXZvaWQgMCx0aGlzLl9fYWx0ZXJlZD0hMCx0aGlzKTpWZShlLG4pfSxXZS5wcm90b3R5cGUucG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2xpY2UoMSl9LFdlLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LFdlLnByb3RvdHlwZS51bnNoaWZ0QWxsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnB1c2hBbGwodCl9LFdlLnByb3RvdHlwZS5zaGlmdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LFdlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5zaXplP3RoaXM6dGhpcy5fX293bmVySUQ/KHRoaXMuc2l6ZT0wLHRoaXMuX2hlYWQ9dm9pZCAwLHRoaXMuX19oYXNoPXZvaWQgMCx0aGlzLl9fYWx0ZXJlZD0hMCx0aGlzKTpRZSgpfSxXZS5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxlKXtpZih2KHQsZSx0aGlzLnNpemUpKXJldHVybiB0aGlzO3ZhciBuPV8odCx0aGlzLnNpemUpO2lmKG0oZSx0aGlzLnNpemUpIT09dGhpcy5zaXplKXJldHVybiBudC5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLHQsZSk7Zm9yKHZhciByPXRoaXMuc2l6ZS1uLGk9dGhpcy5faGVhZDtuLS07KWk9aS5uZXh0O3JldHVybiB0aGlzLl9fb3duZXJJRD8odGhpcy5zaXplPXIsdGhpcy5faGVhZD1pLHRoaXMuX19oYXNoPXZvaWQgMCx0aGlzLl9fYWx0ZXJlZD0hMCx0aGlzKTpWZShyLGkpfSxXZS5wcm90b3R5cGUuX19lbnN1cmVPd25lcj1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXRoaXMuX19vd25lcklEP3RoaXM6dD9WZSh0aGlzLnNpemUsdGhpcy5faGVhZCx0LHRoaXMuX19oYXNoKToodGhpcy5fX293bmVySUQ9dCx0aGlzLl9fYWx0ZXJlZD0hMSx0aGlzKX0sV2UucHJvdG90eXBlLl9faXRlcmF0ZT1mdW5jdGlvbih0LGUpe2lmKGUpcmV0dXJuIHRoaXMucmV2ZXJzZSgpLl9faXRlcmF0ZSh0KTtmb3IodmFyIG49MCxyPXRoaXMuX2hlYWQ7ciYmITEhPT10KHIudmFsdWUsbisrLHRoaXMpOylyPXIubmV4dDtyZXR1cm4gbn0sV2UucHJvdG90eXBlLl9faXRlcmF0b3I9ZnVuY3Rpb24odCxlKXtpZihlKXJldHVybiB0aGlzLnJldmVyc2UoKS5fX2l0ZXJhdG9yKHQpO3ZhciBuPTAscj10aGlzLl9oZWFkO3JldHVybiBuZXcgYihmdW5jdGlvbigpe2lmKHIpe3ZhciBlPXIudmFsdWU7cmV0dXJuIHI9ci5uZXh0LHcodCxuKyssZSl9cmV0dXJuIE0oKX0pfSxXZS5pc1N0YWNrPUdlO3ZhciBycj1cIkBAX19JTU1VVEFCTEVfU1RBQ0tfX0BAXCIsaXI9V2UucHJvdG90eXBlO2lyW3JyXT0hMCxpci53aXRoTXV0YXRpb25zPVVuLndpdGhNdXRhdGlvbnMsaXIuYXNNdXRhYmxlPVVuLmFzTXV0YWJsZSxpci5hc0ltbXV0YWJsZT1Vbi5hc0ltbXV0YWJsZSxpci53YXNBbHRlcmVkPVVuLndhc0FsdGVyZWQ7dmFyIG9yO2UuSXRlcmF0b3I9YixaZShlLHt0b0FycmF5OmZ1bmN0aW9uKCl7bHQodGhpcy5zaXplKTt2YXIgdD1uZXcgQXJyYXkodGhpcy5zaXplfHwwKTtyZXR1cm4gdGhpcy52YWx1ZVNlcSgpLl9faXRlcmF0ZShmdW5jdGlvbihlLG4pe3Rbbl09ZX0pLHR9LHRvSW5kZXhlZFNlcTpmdW5jdGlvbigpe3JldHVybiBuZXcgaWUodGhpcyl9LHRvSlM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b1NlcSgpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC50b0pTP3QudG9KUygpOnR9KS5fX3RvSlMoKX0sdG9KU09OOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9TZXEoKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQudG9KU09OP3QudG9KU09OKCk6dH0pLl9fdG9KUygpfSx0b0tleWVkU2VxOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByZSh0aGlzLCEwKX0sdG9NYXA6ZnVuY3Rpb24oKXtyZXR1cm4gZnQodGhpcy50b0tleWVkU2VxKCkpfSx0b09iamVjdDpmdW5jdGlvbigpe2x0KHRoaXMuc2l6ZSk7dmFyIHQ9e307cmV0dXJuIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uKGUsbil7dFtuXT1lfSksdH0sdG9PcmRlcmVkTWFwOmZ1bmN0aW9uKCl7cmV0dXJuIFh0KHRoaXMudG9LZXllZFNlcSgpKX0sdG9PcmRlcmVkU2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEZlKHUodGhpcyk/dGhpcy52YWx1ZVNlcSgpOnRoaXMpfSx0b1NldDpmdW5jdGlvbigpe3JldHVybiBCZSh1KHRoaXMpP3RoaXMudmFsdWVTZXEoKTp0aGlzKX0sdG9TZXRTZXE6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG9lKHRoaXMpfSx0b1NlcTpmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpP3RoaXMudG9JbmRleGVkU2VxKCk6dSh0aGlzKT90aGlzLnRvS2V5ZWRTZXEoKTp0aGlzLnRvU2V0U2VxKCl9LHRvU3RhY2s6ZnVuY3Rpb24oKXtyZXR1cm4gV2UodSh0aGlzKT90aGlzLnZhbHVlU2VxKCk6dGhpcyl9LHRvTGlzdDpmdW5jdGlvbigpe3JldHVybiBLdCh1KHRoaXMpP3RoaXMudmFsdWVTZXEoKTp0aGlzKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5cIltJdGVyYWJsZV1cIn0sX190b1N0cmluZzpmdW5jdGlvbih0LGUpe3JldHVybiAwPT09dGhpcy5zaXplP3QrZTp0K1wiIFwiK3RoaXMudG9TZXEoKS5tYXAodGhpcy5fX3RvU3RyaW5nTWFwcGVyKS5qb2luKFwiLCBcIikrXCIgXCIrZX0sY29uY2F0OmZ1bmN0aW9uKCl7cmV0dXJuIEVlKHRoaXMsZ2UodGhpcyxzbi5jYWxsKGFyZ3VtZW50cywwKSkpfSxpbmNsdWRlczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBRKGUsdCl9KX0sZW50cmllczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9faXRlcmF0b3IoYm4pfSxldmVyeTpmdW5jdGlvbih0LGUpe2x0KHRoaXMuc2l6ZSk7dmFyIG49ITA7cmV0dXJuIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uKHIsaSxvKXtpZighdC5jYWxsKGUscixpLG8pKXJldHVybiBuPSExLCExfSksbn0sZmlsdGVyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEVlKHRoaXMsbGUodGhpcyx0LGUsITApKX0sZmluZDpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5maW5kRW50cnkodCxlKTtyZXR1cm4gcj9yWzFdOm59LGZvckVhY2g6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbHQodGhpcy5zaXplKSx0aGlzLl9faXRlcmF0ZShlP3QuYmluZChlKTp0KX0sam9pbjpmdW5jdGlvbih0KXtsdCh0aGlzLnNpemUpLHQ9dm9pZCAwIT09dD9cIlwiK3Q6XCIsXCI7dmFyIGU9XCJcIixuPSEwO3JldHVybiB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbihyKXtuP249ITE6ZSs9dCxlKz1udWxsIT09ciYmdm9pZCAwIT09cj9yLnRvU3RyaW5nKCk6XCJcIn0pLGV9LGtleXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2l0ZXJhdG9yKG1uKX0sbWFwOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEVlKHRoaXMsc2UodGhpcyx0LGUpKX0scmVkdWNlOmZ1bmN0aW9uKHQsZSxuKXtsdCh0aGlzLnNpemUpO3ZhciByLGk7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj9pPSEwOnI9ZSx0aGlzLl9faXRlcmF0ZShmdW5jdGlvbihlLG8sdSl7aT8oaT0hMSxyPWUpOnI9dC5jYWxsKG4scixlLG8sdSl9KSxyfSxyZWR1Y2VSaWdodDpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy50b0tleWVkU2VxKCkucmV2ZXJzZSgpO3JldHVybiByLnJlZHVjZS5hcHBseShyLGFyZ3VtZW50cyl9LHJldmVyc2U6ZnVuY3Rpb24oKXtyZXR1cm4gRWUodGhpcyxjZSh0aGlzLCEwKSl9LHNsaWNlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEVlKHRoaXMsaGUodGhpcyx0LGUsITApKX0sc29tZTpmdW5jdGlvbih0LGUpe3JldHVybiF0aGlzLmV2ZXJ5KCRlKHQpLGUpfSxzb3J0OmZ1bmN0aW9uKHQpe3JldHVybiBFZSh0aGlzLFNlKHRoaXMsdCkpfSx2YWx1ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2l0ZXJhdG9yKFNuKX0sYnV0TGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNsaWNlKDAsLTEpfSxpc0VtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuc2l6ZT8wPT09dGhpcy5zaXplOiF0aGlzLnNvbWUoZnVuY3Rpb24oKXtyZXR1cm4hMH0pfSxjb3VudDpmdW5jdGlvbih0LGUpe3JldHVybiBkKHQ/dGhpcy50b1NlcSgpLmZpbHRlcih0LGUpOnRoaXMpfSxjb3VudEJ5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZlKHRoaXMsdCxlKX0sZXF1YWxzOmZ1bmN0aW9uKHQpe3JldHVybiBaKHRoaXMsdCl9LGVudHJ5U2VxOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0Ll9jYWNoZSlyZXR1cm4gbmV3IEModC5fY2FjaGUpO3ZhciBlPXQudG9TZXEoKS5tYXAoWGUpLnRvSW5kZXhlZFNlcSgpO3JldHVybiBlLmZyb21FbnRyeVNlcT1mdW5jdGlvbigpe3JldHVybiB0LnRvU2VxKCl9LGV9LGZpbHRlck5vdDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmZpbHRlcigkZSh0KSxlKX0sZmluZEVudHJ5OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uO3JldHVybiB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbihuLGksbyl7aWYodC5jYWxsKGUsbixpLG8pKXJldHVybiByPVtpLG5dLCExfSkscn0sZmluZEtleTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZmluZEVudHJ5KHQsZSk7cmV0dXJuIG4mJm5bMF19LGZpbmRMYXN0OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy50b0tleWVkU2VxKCkucmV2ZXJzZSgpLmZpbmQodCxlLG4pfSxmaW5kTGFzdEVudHJ5OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy50b0tleWVkU2VxKCkucmV2ZXJzZSgpLmZpbmRFbnRyeSh0LGUsbil9LGZpbmRMYXN0S2V5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudG9LZXllZFNlcSgpLnJldmVyc2UoKS5maW5kS2V5KHQsZSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmluZChnKX0sZmxhdE1hcDpmdW5jdGlvbih0LGUpe3JldHVybiBFZSh0aGlzLF9lKHRoaXMsdCxlKSl9LGZsYXR0ZW46ZnVuY3Rpb24odCl7cmV0dXJuIEVlKHRoaXMsdmUodGhpcyx0LCEwKSl9LGZyb21FbnRyeVNlcTpmdW5jdGlvbigpe3JldHVybiBuZXcgdWUodGhpcyl9LGdldDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmZpbmQoZnVuY3Rpb24oZSxuKXtyZXR1cm4gUShuLHQpfSx2b2lkIDAsZSl9LGdldEluOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLHI9dGhpcyxpPU9lKHQpOyEobj1pLm5leHQoKSkuZG9uZTspe3ZhciBvPW4udmFsdWU7aWYoKHI9ciYmci5nZXQ/ci5nZXQobyxnbik6Z24pPT09Z24pcmV0dXJuIGV9cmV0dXJuIHJ9LGdyb3VwQnk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gcGUodGhpcyx0LGUpfSxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0KHQsZ24pIT09Z259LGhhc0luOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEluKHQsZ24pIT09Z259LGlzU3Vic2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIHQuaW5jbHVkZXM/dDplKHQpLHRoaXMuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaW5jbHVkZXMoZSl9KX0saXNTdXBlcnNldDpmdW5jdGlvbih0KXtyZXR1cm4gdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmlzU3Vic2V0P3Q6ZSh0KSx0LmlzU3Vic2V0KHRoaXMpfSxrZXlPZjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5maW5kS2V5KGZ1bmN0aW9uKGUpe3JldHVybiBRKGUsdCl9KX0sa2V5U2VxOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9TZXEoKS5tYXAoSmUpLnRvSW5kZXhlZFNlcSgpfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9TZXEoKS5yZXZlcnNlKCkuZmlyc3QoKX0sbGFzdEtleU9mOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRvS2V5ZWRTZXEoKS5yZXZlcnNlKCkua2V5T2YodCl9LG1heDpmdW5jdGlvbih0KXtyZXR1cm4gYmUodGhpcyx0KX0sbWF4Qnk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gYmUodGhpcyxlLHQpfSxtaW46ZnVuY3Rpb24odCl7cmV0dXJuIGJlKHRoaXMsdD90bih0KTpybil9LG1pbkJ5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGJlKHRoaXMsZT90bihlKTpybix0KX0scmVzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNsaWNlKDEpfSxza2lwOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNsaWNlKE1hdGgubWF4KDAsdCkpfSxza2lwTGFzdDpmdW5jdGlvbih0KXtyZXR1cm4gRWUodGhpcyx0aGlzLnRvU2VxKCkucmV2ZXJzZSgpLnNraXAodCkucmV2ZXJzZSgpKX0sc2tpcFdoaWxlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEVlKHRoaXMseWUodGhpcyx0LGUsITApKX0sc2tpcFVudGlsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2tpcFdoaWxlKCRlKHQpLGUpfSxzb3J0Qnk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gRWUodGhpcyxTZSh0aGlzLGUsdCkpfSx0YWtlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNsaWNlKDAsTWF0aC5tYXgoMCx0KSl9LHRha2VMYXN0OmZ1bmN0aW9uKHQpe3JldHVybiBFZSh0aGlzLHRoaXMudG9TZXEoKS5yZXZlcnNlKCkudGFrZSh0KS5yZXZlcnNlKCkpfSx0YWtlV2hpbGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gRWUodGhpcyxkZSh0aGlzLHQsZSkpfSx0YWtlVW50aWw6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50YWtlV2hpbGUoJGUodCksZSl9LHZhbHVlU2VxOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9JbmRleGVkU2VxKCl9LGhhc2hDb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19oYXNofHwodGhpcy5fX2hhc2g9b24odGhpcykpfX0pO3ZhciB1cj1lLnByb3RvdHlwZTt1cltjbl09ITAsdXJbRW5dPXVyLnZhbHVlcyx1ci5fX3RvSlM9dXIudG9BcnJheSx1ci5fX3RvU3RyaW5nTWFwcGVyPWVuLHVyLmluc3BlY3Q9dXIudG9Tb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b1N0cmluZygpfSx1ci5jaGFpbj11ci5mbGF0TWFwLHVyLmNvbnRhaW5zPXVyLmluY2x1ZGVzLFplKG4se2ZsaXA6ZnVuY3Rpb24oKXtyZXR1cm4gRWUodGhpcyxhZSh0aGlzKSl9LG1hcEVudHJpZXM6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9MDtyZXR1cm4gRWUodGhpcyx0aGlzLnRvU2VxKCkubWFwKGZ1bmN0aW9uKGksbyl7cmV0dXJuIHQuY2FsbChlLFtvLGldLHIrKyxuKX0pLmZyb21FbnRyeVNlcSgpKX0sbWFwS2V5czpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIEVlKHRoaXMsdGhpcy50b1NlcSgpLmZsaXAoKS5tYXAoZnVuY3Rpb24ocixpKXtyZXR1cm4gdC5jYWxsKGUscixpLG4pfSkuZmxpcCgpKX19KTt2YXIgYXI9bi5wcm90b3R5cGU7cmV0dXJuIGFyW2xuXT0hMCxhcltFbl09dXIuZW50cmllcyxhci5fX3RvSlM9dXIudG9PYmplY3QsYXIuX190b1N0cmluZ01hcHBlcj1mdW5jdGlvbih0LGUpe3JldHVybiBKU09OLnN0cmluZ2lmeShlKStcIjogXCIrZW4odCl9LFplKHIse3RvS2V5ZWRTZXE6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHJlKHRoaXMsITEpfSxmaWx0ZXI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gRWUodGhpcyxsZSh0aGlzLHQsZSwhMSkpfSxmaW5kSW5kZXg6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmZpbmRFbnRyeSh0LGUpO3JldHVybiBuP25bMF06LTF9LGluZGV4T2Y6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5rZXlPZih0KTtyZXR1cm4gdm9pZCAwPT09ZT8tMTplfSxsYXN0SW5kZXhPZjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmxhc3RLZXlPZih0KTtyZXR1cm4gdm9pZCAwPT09ZT8tMTplfSxyZXZlcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIEVlKHRoaXMsY2UodGhpcywhMSkpfSxzbGljZTpmdW5jdGlvbih0LGUpe3JldHVybiBFZSh0aGlzLGhlKHRoaXMsdCxlLCExKSl9LHNwbGljZTpmdW5jdGlvbih0LGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg7aWYoZT1NYXRoLm1heCgwfGUsMCksMD09PW58fDI9PT1uJiYhZSlyZXR1cm4gdGhpczt0PV8odCx0PDA/dGhpcy5jb3VudCgpOnRoaXMuc2l6ZSk7dmFyIHI9dGhpcy5zbGljZSgwLHQpO3JldHVybiBFZSh0aGlzLDE9PT1uP3I6ci5jb25jYXQoaChhcmd1bWVudHMsMiksdGhpcy5zbGljZSh0K2UpKSl9LGZpbmRMYXN0SW5kZXg6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmZpbmRMYXN0RW50cnkodCxlKTtyZXR1cm4gbj9uWzBdOi0xfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgwKX0sZmxhdHRlbjpmdW5jdGlvbih0KXtyZXR1cm4gRWUodGhpcyx2ZSh0aGlzLHQsITEpKX0sZ2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9eSh0aGlzLHQpLHQ8MHx8dGhpcy5zaXplPT09MS8wfHx2b2lkIDAhPT10aGlzLnNpemUmJnQ+dGhpcy5zaXplP2U6dGhpcy5maW5kKGZ1bmN0aW9uKGUsbil7cmV0dXJuIG49PT10fSx2b2lkIDAsZSl9LGhhczpmdW5jdGlvbih0KXtyZXR1cm4odD15KHRoaXMsdCkpPj0wJiYodm9pZCAwIT09dGhpcy5zaXplP3RoaXMuc2l6ZT09PTEvMHx8dDx0aGlzLnNpemU6LTEhPT10aGlzLmluZGV4T2YodCkpfSxpbnRlcnBvc2U6ZnVuY3Rpb24odCl7cmV0dXJuIEVlKHRoaXMsbWUodGhpcyx0KSl9LGludGVybGVhdmU6ZnVuY3Rpb24oKXt2YXIgdD1bdGhpc10uY29uY2F0KGgoYXJndW1lbnRzKSksZT1NZSh0aGlzLnRvU2VxKCksTy5vZix0KSxuPWUuZmxhdHRlbighMCk7cmV0dXJuIGUuc2l6ZSYmKG4uc2l6ZT1lLnNpemUqdC5sZW5ndGgpLEVlKHRoaXMsbil9LGtleVNlcTpmdW5jdGlvbigpe3JldHVybiAkKDAsdGhpcy5zaXplKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgtMSl9LHNraXBXaGlsZTpmdW5jdGlvbih0LGUpe3JldHVybiBFZSh0aGlzLHllKHRoaXMsdCxlLCExKSl9LHppcDpmdW5jdGlvbigpe3JldHVybiBFZSh0aGlzLE1lKHRoaXMsbm4sW3RoaXNdLmNvbmNhdChoKGFyZ3VtZW50cykpKSl9LHppcFdpdGg6ZnVuY3Rpb24odCl7dmFyIGU9aChhcmd1bWVudHMpO3JldHVybiBlWzBdPXRoaXMsRWUodGhpcyxNZSh0aGlzLHQsZSkpfX0pLHIucHJvdG90eXBlW2ZuXT0hMCxyLnByb3RvdHlwZVtwbl09ITAsWmUoaSx7Z2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuaGFzKHQpP3Q6ZX0saW5jbHVkZXM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGFzKHQpfSxrZXlTZXE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZVNlcSgpfX0pLGkucHJvdG90eXBlLmhhcz11ci5pbmNsdWRlcyxpLnByb3RvdHlwZS5jb250YWlucz1pLnByb3RvdHlwZS5pbmNsdWRlcyxaZShELG4ucHJvdG90eXBlKSxaZShPLHIucHJvdG90eXBlKSxaZShOLGkucHJvdG90eXBlKSxaZShldCxuLnByb3RvdHlwZSksWmUobnQsci5wcm90b3R5cGUpLFplKHJ0LGkucHJvdG90eXBlKSx7SXRlcmFibGU6ZSxTZXE6VCxDb2xsZWN0aW9uOnR0LE1hcDpmdCxPcmRlcmVkTWFwOlh0LExpc3Q6S3QsU3RhY2s6V2UsU2V0OkJlLE9yZGVyZWRTZXQ6RmUsUmVjb3JkOk5lLFJhbmdlOiQsUmVwZWF0OkosaXM6USxmcm9tSlM6cX19KCl9KCl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmRlZmF1bHQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPWU9PT1uLGk9dC5nZXRCbG9ja0ZvcktleShlKTtpZighaSlyZXR1cm5bXTt2YXIgbz1baV07aWYoIXIpZm9yKHZhciB1PWU7dSE9PW47KXt2YXIgYT10LmdldEJsb2NrQWZ0ZXIodSk7aWYoIWEpe289W107YnJlYWt9by5wdXNoKGEpLHU9YS5nZXRLZXkoKX1yZXR1cm4gb319LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDk2KSxpPW4oNikoXCJpdGVyYXRvclwiKSxvPW4oNDMpO3QuZXhwb3J0cz1uKDQpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9dClyZXR1cm4gdFtpXXx8dFtcIkBAaXRlcmF0b3JcIl18fG9bcih0KV19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big2OSksaT1uKDYpKFwidG9TdHJpbmdUYWdcIiksbz1cIkFyZ3VtZW50c1wiPT1yKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSksdT1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gdFtlXX1jYXRjaCh0KXt9fTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUsbixhO3JldHVybiB2b2lkIDA9PT10P1wiVW5kZWZpbmVkXCI6bnVsbD09PXQ/XCJOdWxsXCI6XCJzdHJpbmdcIj09dHlwZW9mKG49dShlPU9iamVjdCh0KSxpKSk/bjpvP3IoZSk6XCJPYmplY3RcIj09KGE9cihlKSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY2FsbGVlP1wiQXJndW1lbnRzXCI6YX19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e2RlZmF1bHQ6bigxNDcpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBhIGZ1bmN0aW9uIVwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9IW4oMTUpJiYhbigzNSkoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4oMTAwKShcImRpdlwiKSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMSksaT1uKDE0KS5kb2N1bWVudCxvPXIoaSkmJnIoaS5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8/aS5jcmVhdGVFbGVtZW50KHQpOnt9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzYpLGk9big0MCksbz1uKDE1MCkoITEpLHU9big3MikoXCJJRV9QUk9UT1wiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbixhPWkodCkscz0wLGM9W107Zm9yKG4gaW4gYSluIT11JiZyKGEsbikmJmMucHVzaChuKTtmb3IoO2UubGVuZ3RoPnM7KXIoYSxuPWVbcysrXSkmJih+byhjLG4pfHxjLnB1c2gobikpO3JldHVybiBjfX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz17ZGVmYXVsdDpuKDE1MiksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDM2KSxpPW4oNDEpLG89big3MikoXCJJRV9QUk9UT1wiKSx1PU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24odCl7cmV0dXJuIHQ9aSh0KSxyKHQsbyk/dFtvXTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbnN0cnVjdG9yJiZ0IGluc3RhbmNlb2YgdC5jb25zdHJ1Y3Rvcj90LmNvbnN0cnVjdG9yLnByb3RvdHlwZTp0IGluc3RhbmNlb2YgT2JqZWN0P3U6bnVsbH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDgpLGk9big0KSxvPW4oMzUpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuPShpLk9iamVjdHx8e30pW3RdfHxPYmplY3RbdF0sdT17fTt1W3RdPWUobikscihyLlMrci5GKm8oZnVuY3Rpb24oKXtuKDEpfSksXCJPYmplY3RcIix1KX19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigyOSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJue3ZhbHVlOmUsZG9uZTohIXR9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNjkpO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm5cIkFycmF5XCI9PXIodCl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMDEpLGk9big3NCkuY29uY2F0KFwibGVuZ3RoXCIsXCJwcm90b3R5cGVcIik7ZS5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbih0KXtyZXR1cm4gcih0LGkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTcpLGk9big0Niksbz1uKDQwKSx1PW4oNjcpLGE9bigzNikscz1uKDk5KSxjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7ZS5mPW4oMTUpP2M6ZnVuY3Rpb24odCxlKXtpZih0PW8odCksZT11KGUsITApLHMpdHJ5e3JldHVybiBjKHQsZSl9Y2F0Y2godCl7fWlmKGEodCxlKSlyZXR1cm4gaSghci5mLmNhbGwodCxlKSx0W2VdKX19LGZ1bmN0aW9uKHQsZSl7fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxMCksaT1uKDApLG89bigyNSksdT1pLk9yZGVyZWRNYXAsYT1mdW5jdGlvbih0KXt2YXIgZT17fSxuPXZvaWQgMDtyZXR1cm4gdSh0LndpdGhNdXRhdGlvbnMoZnVuY3Rpb24odCl7dC5mb3JFYWNoKGZ1bmN0aW9uKHIsaSl7dmFyIHU9ci5nZXRLZXkoKSxhPXIuZ2V0TmV4dFNpYmxpbmdLZXkoKSxzPXIuZ2V0UHJldlNpYmxpbmdLZXkoKSxjPXIuZ2V0Q2hpbGRLZXlzKCksbD1yLmdldFBhcmVudEtleSgpLGY9bygpO2lmKGVbdV09ZixhJiYodC5nZXQoYSk/dC5zZXRJbihbYSxcInByZXZTaWJsaW5nXCJdLGYpOnQuc2V0SW4oW3UsXCJuZXh0U2libGluZ1wiXSxudWxsKSkscyYmKHQuZ2V0KHMpP3Quc2V0SW4oW3MsXCJuZXh0U2libGluZ1wiXSxmKTp0LnNldEluKFt1LFwicHJldlNpYmxpbmdcIl0sbnVsbCkpLGwmJnQuZ2V0KGwpKXt2YXIgcD10LmdldChsKSxoPXAuZ2V0Q2hpbGRLZXlzKCk7dC5zZXRJbihbbCxcImNoaWxkcmVuXCJdLGguc2V0KGguaW5kZXhPZihyLmdldEtleSgpKSxmKSl9ZWxzZSB0LnNldEluKFt1LFwicGFyZW50XCJdLG51bGwpLG4mJih0LnNldEluKFtuLmdldEtleSgpLFwibmV4dFNpYmxpbmdcIl0sZiksdC5zZXRJbihbdSxcInByZXZTaWJsaW5nXCJdLGVbbi5nZXRLZXkoKV0pKSxuPXQuZ2V0KHUpO2MuZm9yRWFjaChmdW5jdGlvbihlKXt0LmdldChlKT90LnNldEluKFtlLFwicGFyZW50XCJdLGYpOnQuc2V0SW4oW3UsXCJjaGlsZHJlblwiXSxyLmdldENoaWxkS2V5cygpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdCE9PWV9KSl9KX0pfSkudG9BcnJheSgpLm1hcChmdW5jdGlvbih0KXtyZXR1cm5bZVt0LmdldEtleSgpXSx0LnNldChcImtleVwiLGVbdC5nZXRLZXkoKV0pXX0pKX0scz1mdW5jdGlvbih0KXtyZXR1cm4gdSh0LnRvQXJyYXkoKS5tYXAoZnVuY3Rpb24odCl7dmFyIGU9bygpO3JldHVybltlLHQuc2V0KFwia2V5XCIsZSldfSkpfSxjPWZ1bmN0aW9uKHQpe3JldHVybiB0LmZpcnN0KClpbnN0YW5jZW9mIHI/YSh0KTpzKHQpfTt0LmV4cG9ydHM9Y30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXt2YXIgbj10LmdldEJsb2NrTWFwKCkscj10LmdldEVudGl0eU1hcCgpLGk9e30sdT1lLmdldFN0YXJ0S2V5KCksYT1lLmdldFN0YXJ0T2Zmc2V0KCkscz1uLmdldCh1KSxjPW8ocixzLGEpO2MhPT1zJiYoaVt1XT1jKTt2YXIgbD1lLmdldEVuZEtleSgpLGY9ZS5nZXRFbmRPZmZzZXQoKSxwPW4uZ2V0KGwpO3U9PT1sJiYocD1jKTt2YXIgaD1vKHIscCxmKTtyZXR1cm4gaCE9PXAmJihpW2xdPWgpLE9iamVjdC5rZXlzKGkpLmxlbmd0aD90Lm1lcmdlKHtibG9ja01hcDpuLm1lcmdlKGkpLHNlbGVjdGlvbkFmdGVyOmV9KTp0LnNldChcInNlbGVjdGlvbkFmdGVyXCIsZSl9ZnVuY3Rpb24gaSh0LGUsbil7dmFyIHI7cmV0dXJuIGEodCxmdW5jdGlvbih0LGUpe3JldHVybiB0LmdldEVudGl0eSgpPT09ZS5nZXRFbnRpdHkoKX0sZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0RW50aXR5KCk9PT1lfSxmdW5jdGlvbih0LGUpe3Q8PW4mJmU+PW4mJihyPXtzdGFydDp0LGVuZDplfSl9KSxcIm9iamVjdFwiIT10eXBlb2YgciYmcyghMSkscn1mdW5jdGlvbiBvKHQsZSxuKXt2YXIgcj1lLmdldENoYXJhY3Rlckxpc3QoKSxvPW4+MD9yLmdldChuLTEpOnZvaWQgMCxhPW48ci5jb3VudCgpP3IuZ2V0KG4pOnZvaWQgMCxzPW8/by5nZXRFbnRpdHkoKTp2b2lkIDAsYz1hP2EuZ2V0RW50aXR5KCk6dm9pZCAwO2lmKGMmJmM9PT1zJiZcIk1VVEFCTEVcIiE9PXQuX19nZXQoYykuZ2V0TXV0YWJpbGl0eSgpKXtmb3IodmFyIGwsZj1pKHIsYyxuKSxwPWYuc3RhcnQsaD1mLmVuZDtwPGg7KWw9ci5nZXQocCkscj1yLnNldChwLHUuYXBwbHlFbnRpdHkobCxudWxsKSkscCsrO3JldHVybiBlLnNldChcImNoYXJhY3Rlckxpc3RcIixyKX1yZXR1cm4gZX12YXIgdT1uKDcpLGE9big1MSkscz1uKDEpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUsbil7aWYobj09PXQuY291bnQoKSllLmZvckVhY2goZnVuY3Rpb24oZSl7dD10LnB1c2goZSl9KTtlbHNlIGlmKDA9PT1uKWUucmV2ZXJzZSgpLmZvckVhY2goZnVuY3Rpb24oZSl7dD10LnVuc2hpZnQoZSl9KTtlbHNle3ZhciByPXQuc2xpY2UoMCxuKSxpPXQuc2xpY2Uobik7dD1yLmNvbmNhdChlLGkpLnRvTGlzdCgpfXJldHVybiB0fXQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxMCksaT1mdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIHIpKXJldHVybiBudWxsO3ZhciBuPXQuZ2V0TmV4dFNpYmxpbmdLZXkoKTtpZihuKXJldHVybiBuO3ZhciBpPXQuZ2V0UGFyZW50S2V5KCk7aWYoIWkpcmV0dXJuIG51bGw7Zm9yKHZhciBvPWUuZ2V0KGkpO28mJiFvLmdldE5leHRTaWJsaW5nS2V5KCk7KXt2YXIgdT1vLmdldFBhcmVudEtleSgpO289dT9lLmdldCh1KTpudWxsfXJldHVybiBvP28uZ2V0TmV4dFNpYmxpbmdLZXkoKTpudWxsfTt0LmV4cG9ydHM9aX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXt2YXIgbj1bXSxyPXQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFN0eWxlKCl9KS50b0xpc3QoKTtyZXR1cm4gYShyLGksZixmdW5jdGlvbih0LHIpe24ucHVzaChuZXcgaCh7c3RhcnQ6dCtlLGVuZDpyK2V9KSl9KSxzKG4pfWZ1bmN0aW9uIGkodCxlKXtyZXR1cm4gdD09PWV9dmFyIG89bigwKSx1PW4oODEpLGE9big1MSkscz1vLkxpc3QsYz1vLlJlcGVhdCxsPW8uUmVjb3JkLGY9dS50aGF0UmV0dXJuc1RydWUscD17c3RhcnQ6bnVsbCxlbmQ6bnVsbH0saD1sKHApLGQ9e3N0YXJ0Om51bGwsZW5kOm51bGwsZGVjb3JhdG9yS2V5Om51bGwsbGVhdmVzOm51bGx9LHk9bChkKSxnPXtnZW5lcmF0ZTpmdW5jdGlvbih0LGUsbil7dmFyIG89ZS5nZXRMZW5ndGgoKTtpZighbylyZXR1cm4gcy5vZihuZXcgeSh7c3RhcnQ6MCxlbmQ6MCxkZWNvcmF0b3JLZXk6bnVsbCxsZWF2ZXM6cy5vZihuZXcgaCh7c3RhcnQ6MCxlbmQ6MH0pKX0pKTt2YXIgdT1bXSxsPW4/bi5nZXREZWNvcmF0aW9ucyhlLHQpOnMoYyhudWxsLG8pKSxwPWUuZ2V0Q2hhcmFjdGVyTGlzdCgpO3JldHVybiBhKGwsaSxmLGZ1bmN0aW9uKHQsZSl7dS5wdXNoKG5ldyB5KHtzdGFydDp0LGVuZDplLGRlY29yYXRvcktleTpsLmdldCh0KSxsZWF2ZXM6cihwLnNsaWNlKHQsZSkudG9MaXN0KCksdCl9KSl9KSxzKHUpfSxnZXRGaW5nZXJwcmludDpmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXQoXCJkZWNvcmF0b3JLZXlcIik7cmV0dXJuKG51bGwhPT1lP2UrXCIuXCIrKHQuZ2V0KFwiZW5kXCIpLXQuZ2V0KFwic3RhcnRcIikpOlwiXCIpK1wiLlwiK3QuZ2V0KFwibGVhdmVzXCIpLnNpemV9KS5qb2luKFwiLVwiKX19O3QuZXhwb3J0cz1nfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaSh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIG8odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX12YXIgdT1uKDApLGE9dS5SZWNvcmQscz1hKHt0eXBlOlwiVE9LRU5cIixtdXRhYmlsaXR5OlwiSU1NVVRBQkxFXCIsZGF0YTpPYmplY3R9KSxjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gcih0aGlzLGUpLGkodGhpcyx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG8oZSx0KSxlLnByb3RvdHlwZS5nZXRUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFwidHlwZVwiKX0sZS5wcm90b3R5cGUuZ2V0TXV0YWJpbGl0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChcIm11dGFiaWxpdHlcIil9LGUucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJkYXRhXCIpfSxlfShzKTt0LmV4cG9ydHM9Y30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7dmFyIGU9cC5leGVjKHQpO3JldHVybiBudWxsPT1lP251bGw6ZVswXX1mdW5jdGlvbiBpKHQpe3ZhciBlPXIodCk7cmV0dXJuIG51bGw9PWU/Yy5ORVVUUkFMOmguZXhlYyhlKT9jLlJUTDpjLkxUUn1mdW5jdGlvbiBvKHQsZSl7aWYoZT1lfHxjLk5FVVRSQUwsIXQubGVuZ3RoKXJldHVybiBlO3ZhciBuPWkodCk7cmV0dXJuIG49PT1jLk5FVVRSQUw/ZTpufWZ1bmN0aW9uIHUodCxlKXtyZXR1cm4gZXx8KGU9Yy5nZXRHbG9iYWxEaXIoKSksYy5pc1N0cm9uZyhlKXx8bCghMSksbyh0LGUpfWZ1bmN0aW9uIGEodCxlKXtyZXR1cm4gdSh0LGUpPT09Yy5MVFJ9ZnVuY3Rpb24gcyh0LGUpe3JldHVybiB1KHQsZSk9PT1jLlJUTH12YXIgYz1uKDg0KSxsPW4oMSksZj17TDpcIkEtWmEtesKqwrXCusOALcOWw5gtw7bDuC3Gusa7xrwtxr/HgC3Hg8eELcqTypTKlS3Kr8qwLcq4yrsty4HLkC3LkcugLcuky67NsC3Ns822Lc23zbrNuy3Nvc2/zobOiC3Ois6Mzo4tzqHOoy3Ptc+3LdKB0oLSii3Ur9SxLdWW1ZnVmi3Vn9WhLdaH1ongpIPgpIQt4KS54KS74KS94KS+LeClgOCliS3gpYzgpY4t4KWP4KWQ4KWYLeCloeClpC3gpaXgpaYt4KWv4KWw4KWx4KWyLeCmgOCmgi3gpoPgpoUt4KaM4KaPLeCmkOCmky3gpqjgpqot4Kaw4Kay4Ka2LeCmueCmveCmvi3gp4Dgp4ct4KeI4KeLLeCnjOCnjuCnl+CnnC3gp53gp58t4Keh4KemLeCnr+CnsC3gp7Hgp7Qt4Ke54Ke64KiD4KiFLeCoiuCojy3gqJDgqJMt4Kio4KiqLeCosOCosi3gqLPgqLUt4Ki24Ki4LeCoueCovi3gqYDgqZkt4Kmc4Kme4KmmLeCpr+Cpsi3gqbTgqoPgqoUt4KqN4KqPLeCqkeCqky3gqqjgqqot4Kqw4KqyLeCqs+CqtS3gqrngqr3gqr4t4KuA4KuJ4KuLLeCrjOCrkOCroC3gq6Hgq6Yt4Kuv4Kuw4KyCLeCsg+CshS3grIzgrI8t4KyQ4KyTLeCsqOCsqi3grLDgrLIt4Kyz4Ky1LeCsueCsveCsvuCtgOCthy3grYjgrYst4K2M4K2X4K2cLeCtneCtny3graHgraYt4K2v4K2w4K2x4K2yLeCtt+Cug+CuhS3grorgro4t4K6Q4K6SLeCuleCumS3grprgrpzgrp4t4K6f4K6jLeCupOCuqC3grqrgrq4t4K654K6+LeCuv+CvgS3gr4Lgr4Yt4K+I4K+KLeCvjOCvkOCvl+Cvpi3gr6/gr7At4K+y4LCBLeCwg+CwhS3gsIzgsI4t4LCQ4LCSLeCwqOCwqi3gsLngsL3gsYEt4LGE4LGYLeCxmeCxoC3gsaHgsaYt4LGv4LG/4LKCLeCyg+CyhS3gsozgso4t4LKQ4LKSLeCyqOCyqi3gsrPgsrUt4LK54LK94LK+4LK/4LOALeCzhOCzhuCzhy3gs4jgs4ot4LOL4LOVLeCzluCznuCzoC3gs6Hgs6Yt4LOv4LOxLeCzsuC0gi3gtIPgtIUt4LSM4LSOLeC0kOC0ki3gtLrgtL3gtL4t4LWA4LWGLeC1iOC1ii3gtYzgtY7gtZfgtaAt4LWh4LWmLeC1r+C1sC3gtbXgtbngtbot4LW/4LaCLeC2g+C2hS3gtpbgtpot4Lax4LazLeC2u+C2veC3gC3gt4bgt48t4LeR4LeYLeC3n+C3pi3gt6/gt7It4Lez4Le04LiBLeC4sOC4si3guLPguYAt4LmF4LmG4LmP4LmQLeC5meC5mi3guZvguoEt4LqC4LqE4LqHLeC6iOC6iuC6jeC6lC3gupfgupkt4Lqf4LqhLeC6o+C6peC6p+C6qi3guqvguq0t4Lqw4LqyLeC6s+C6veC7gC3gu4Tgu4bgu5At4LuZ4LucLeC7n+C8gOC8gS3gvIPgvIQt4LyS4LyT4LyU4LyVLeC8l+C8mi3gvJ/gvKAt4Lyp4LyqLeC8s+C8tOC8tuC8uOC8vi3gvL/gvYAt4L2H4L2JLeC9rOC9v+C+heC+iC3gvozgvr4t4L+F4L+HLeC/jOC/ji3gv4/gv5At4L+U4L+VLeC/mOC/mS3gv5rhgIAt4YCq4YCrLeGArOGAseGAuOGAuy3hgLzhgL/hgYAt4YGJ4YGKLeGBj+GBkC3hgZXhgZYt4YGX4YGaLeGBneGBoeGBoi3hgaThgaUt4YGm4YGnLeGBreGBri3hgbDhgbUt4YKB4YKDLeGChOGChy3hgozhgo7hgo/hgpAt4YKZ4YKaLeGCnOGCni3hgp/hgqAt4YOF4YOH4YON4YOQLeGDuuGDu+GDvOGDvS3hiYjhiYot4YmN4YmQLeGJluGJmOGJmi3hiZ3hiaAt4YqI4YqKLeGKjeGKkC3hirDhirIt4Yq14Yq4LeGKvuGLgOGLgi3hi4Xhi4gt4YuW4YuYLeGMkOGMki3hjJXhjJgt4Y2a4Y2gLeGNqOGNqS3hjbzhjoAt4Y6P4Y6gLeGPtOGQgS3hmazhma0t4Zmu4ZmvLeGZv+GagS3hmprhmqAt4Zuq4ZurLeGbreGbri3hm7Dhm7Et4Zu44ZyALeGcjOGcji3hnJHhnKAt4Zyx4Zy1LeGctuGdgC3hnZHhnaAt4Z2s4Z2uLeGdsOGegC3hnrPhnrbhnr4t4Z+F4Z+HLeGfiOGflC3hn5bhn5fhn5gt4Z+a4Z+c4Z+gLeGfqeGgkC3hoJnhoKAt4aGC4aGD4aGELeGht+GigC3hoqjhoqrhorAt4aO14aSALeGknuGkoy3hpKbhpKkt4aSr4aSwLeGkseGksy3hpLjhpYYt4aWP4aWQLeGlreGlsC3hpbThpoAt4aar4aawLeGngOGngS3hp4fhp4gt4aeJ4aeQLeGnmeGnmuGogC3hqJbhqJkt4aia4aieLeGon+GooC3hqZThqZXhqZfhqaHhqaMt4amk4amtLeGpsuGqgC3hqonhqpAt4aqZ4aqgLeGqpuGqp+GqqC3hqq3hrIThrIUt4ayz4ay14ay74ay9LeGtgeGtgy3hrYThrYUt4a2L4a2QLeGtmeGtmi3hraDhraEt4a2q4a20LeGtvOGuguGugy3hrqDhrqHhrqYt4a6n4a6q4a6uLeGur+GusC3hrrnhrrot4a+l4a+n4a+qLeGvrOGvruGvsi3hr7Phr7wt4a+/4bCALeGwo+GwpC3hsKvhsLQt4bC14bC7LeGwv+GxgC3hsYnhsY0t4bGP4bGQLeGxmeGxmi3hsbfhsbgt4bG94bG+LeGxv+GzgC3hs4fhs5Phs6Hhs6kt4bOs4bOuLeGzseGzsi3hs7Phs7Ut4bO24bSALeG0q+G0rC3htarhtast4bW34bW44bW5LeG2muG2my3htr/huIAt4byV4byYLeG8neG8oC3hvYXhvYgt4b2N4b2QLeG9l+G9meG9m+G9neG9ny3hvb3hvoAt4b604b62LeG+vOG+vuG/gi3hv4Thv4Yt4b+M4b+QLeG/k+G/li3hv5vhv6At4b+s4b+yLeG/tOG/ti3hv7zigI7igbHigb/igpAt4oKc4oSC4oSH4oSKLeKEk+KEleKEmS3ihJ3ihKTihKbihKjihKot4oSt4oSvLeKEtOKEtS3ihLjihLnihLwt4oS/4oWFLeKFieKFjuKFj+KFoC3ihoLihoMt4oaE4oaFLeKGiOKMti3ijbrijpXikpwt4pOp4pqs4qCALeKjv+KwgC3isK7isLAt4rGe4rGgLeKxu+KxvC3isb3isb4t4rOk4rOrLeKzruKzsi3is7PitIAt4rSl4rSn4rSt4rSwLeK1p+K1r+K1sOK2gC3itpbitqAt4ram4raoLeK2ruK2sC3itrbitrgt4ra+4reALeK3huK3iC3it47it5At4reW4reYLeK3nuOAheOAhuOAh+OAoS3jgKnjgK4t44Cv44CxLeOAteOAuC3jgLrjgLvjgLzjgYEt44KW44KdLeOCnuOCn+OCoS3jg7rjg7wt44O+44O/44SFLeOEreOEsS3jho7jhpAt44aR44aSLeOGleOGli3jhp/jhqAt44a644ewLeOHv+OIgC3jiJzjiKAt44ip44iqLeOJh+OJiC3jiY/jiaAt44m744m/44qALeOKieOKii3jirDji4At44uL44uQLeOLvuOMgC3jjbbjjbst44+d44+gLeOPvuOQgC3ktrXkuIAt6b+M6oCALeqAlOqAleqAli3qkozqk5At6pO36pO4LeqTveqTvi3qk7/qlIAt6piL6piM6piQLeqYn+qYoC3qmKnqmKot6pir6pmALeqZreqZruqagC3qmpvqmpwt6pqd6pqgLeqbpeqbpi3qm6/qm7It6pu36pyiLeqdr+qdsOqdsS3qnofqnokt6p6K6p6LLeqejuqekC3qnq3qnrAt6p6x6p+36p+4Leqfueqfuuqfuy3qoIHqoIMt6qCF6qCHLeqgiuqgjC3qoKLqoKMt6qCk6qCn6qCwLeqgteqgti3qoLfqoYAt6qGz6qKALeqigeqigi3qorPqorQt6qOD6qOOLeqjj+qjkC3qo5nqo7It6qO36qO4Leqjuuqju+qkgC3qpInqpIot6qSl6qSuLeqkr+qksC3qpYbqpZIt6qWT6qWf6qWgLeqlvOqmg+qmhC3qprLqprQt6qa16qa6Leqmu+qmvS3qp4Dqp4Et6qeN6qeP6qeQLeqnmeqnni3qp5/qp6At6qek6qem6qenLeqnr+qnsC3qp7nqp7ot6qe+6qiALeqoqOqory3qqLDqqLMt6qi06qmALeqpguqphC3qqYvqqY3qqZAt6qmZ6qmcLeqpn+qpoC3qqa/qqbDqqbEt6qm26qm3Leqpueqpuuqpu+qpveqpvi3qqq/qqrHqqrUt6qq26qq5LeqqveqrgOqrguqrmy3qq5zqq53qq54t6quf6qugLeqrquqrq+qrri3qq6/qq7At6qux6quy6quzLeqrtOqrteqsgS3qrIbqrIkt6qyO6qyRLeqsluqsoC3qrKbqrKgt6qyu6qywLeqtmuqtm+qtnC3qrZ/qraQt6q2l6q+ALeqvouqvoy3qr6Tqr6Yt6q+n6q+pLeqvquqvq+qvrOqvsC3qr7nqsIAt7Z6j7Z6wLe2fhu2fiy3tn7vugIAt76O/76SALe+pre+psC3vq5nvrIAt76yG76yTLe+sl++8oS3vvLrvvYEt772a772mLe+9r++9sO+9sS3vvp3vvp4t776f776gLe++vu+/gi3vv4fvv4ot77+P77+SLe+/l++/mi3vv5xcIixSOlwi1pDWvteA14PXhteILdeP15At16rXqy3Xr9ewLdey17Mt17TXtS3Xv9+ALd+J34ot36rftC3ftd+637st37/goIAt4KCV4KCa4KCk4KCo4KCuLeCgr+CgsC3goL7goL/goYAt4KGY4KGcLeChneChnuChny3gop/igI/vrJ3vrJ8t76yo76yqLe+stu+st++suC3vrLzvrL3vrL7vrL/vrYAt762B762C762DLe+thO+the+thi3vrY9cIixBTDpcItiI2IvYjdib2JzYndieLdif2KAt2L/ZgNmBLdmK2a3Zri3Zr9mxLduT25TbldulLdum264t26/bui3bvNu9Ldu+27/cgC3cjdyO3I/ckNySLdyv3Yst3YzdjS3epd6x3rIt3r/goqAt4KKy4KKzLeCjo++tkC3vrrHvrrIt76+B76+CLe+vku+vky3vtL3vtYAt77WP77WQLe+2j++2kC3vtpHvtpIt77eH77eILe+3j++3sC3vt7vvt7zvt74t77e/77mwLe+5tO+5te+5ti3vu7zvu70t77u+XCJ9LHA9bmV3IFJlZ0V4cChcIltcIitmLkwrZi5SK2YuQUwrXCJdXCIpLGg9bmV3IFJlZ0V4cChcIltcIitmLlIrZi5BTCtcIl1cIiksZD17Zmlyc3RTdHJvbmdDaGFyOnIsZmlyc3RTdHJvbmdDaGFyRGlyOmkscmVzb2x2ZUJsb2NrRGlyOm8sZ2V0RGlyZWN0aW9uOnUsaXNEaXJlY3Rpb25MVFI6YSxpc0RpcmVjdGlvblJUTDpzfTt0LmV4cG9ydHM9ZH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz17Qk9MRDp7Zm9udFdlaWdodDpcImJvbGRcIn0sQ09ERTp7Zm9udEZhbWlseTpcIm1vbm9zcGFjZVwiLHdvcmRXcmFwOlwiYnJlYWstd29yZFwifSxJVEFMSUM6e2ZvbnRTdHlsZTpcIml0YWxpY1wifSxTVFJJS0VUSFJPVUdIOnt0ZXh0RGVjb3JhdGlvbjpcImxpbmUtdGhyb3VnaFwifSxVTkRFUkxJTkU6e3RleHREZWNvcmF0aW9uOlwidW5kZXJsaW5lXCJ9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7dmFyIGU9dC5nZXRTZWxlY3Rpb24oKSxuPWUuZ2V0QW5jaG9yS2V5KCkscj10LmdldEJsb2NrVHJlZShuKSxpPWUuZ2V0U3RhcnRPZmZzZXQoKSxvPSExO3JldHVybiByLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIGk9PT10LmdldChcInN0YXJ0XCIpPyhvPSEwLCEwKTppPHQuZ2V0KFwiZW5kXCIpJiZ0LmdldChcImxlYXZlc1wiKS5zb21lKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0KFwic3RhcnRcIik7cmV0dXJuIGk9PT1lJiYobz0hMCwhMCl9KX0pLG99dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBpKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gbyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfXZhciB1PW4oOSksYT11fHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fSxzPW4oMTk5KSxjPW4oNjQpLGw9bigzKSxmPW4oMzgpLHA9bigxMjIpLGg9big4OCksZD1uKDExNykseT1uKDg0KSxnPW4oNDUpLHY9bigyMTQpLF89big4OSksbT1uKDIxOCksUz1uKDEpLGI9bigxMyksdz1mdW5jdGlvbih0LGUpe3JldHVybiB0LmdldEFuY2hvcktleSgpPT09ZXx8dC5nZXRGb2N1c0tleSgpPT09ZX0sTT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHIodGhpcyxlKSxpKHRoaXMsdC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBvKGUsdCksZS5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnByb3BzLmJsb2NrIT09dC5ibG9ja3x8dGhpcy5wcm9wcy50cmVlIT09dC50cmVlfHx0aGlzLnByb3BzLmRpcmVjdGlvbiE9PXQuZGlyZWN0aW9ufHx3KHQuc2VsZWN0aW9uLHQuYmxvY2suZ2V0S2V5KCkpJiZ0LmZvcmNlU2VsZWN0aW9ufSxlLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe3ZhciB0PXRoaXMucHJvcHMuc2VsZWN0aW9uLGU9dC5nZXRFbmRLZXkoKTtpZih0LmdldEhhc0ZvY3VzKCkmJmU9PT10aGlzLnByb3BzLmJsb2NrLmdldEtleSgpKXt2YXIgbj1mLmZpbmRET01Ob2RlKHRoaXMpLHI9aC5nZXRTY3JvbGxQYXJlbnQobiksaT1fKHIpLG89dm9pZCAwO2lmKHI9PT13aW5kb3cpe3ZhciB1PXYobik7KG89dS55K3UuaGVpZ2h0LW0oKS5oZWlnaHQpPjAmJndpbmRvdy5zY3JvbGxUbyhpLngsaS55K28rMTApfWVsc2UgbiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50fHxTKCExKSwobz1uLm9mZnNldEhlaWdodCtuLm9mZnNldFRvcC0oci5vZmZzZXRIZWlnaHQraS55KSk+MCYmcC5zZXRUb3AocixwLmdldFRvcChyKStvKzEwKX19LGUucHJvdG90eXBlLl9yZW5kZXJDaGlsZHJlbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLnByb3BzLmJsb2NrLG49ZS5nZXRLZXkoKSxyPWUuZ2V0VGV4dCgpLGk9dGhpcy5wcm9wcy50cmVlLnNpemUtMSxvPXcodGhpcy5wcm9wcy5zZWxlY3Rpb24sbik7cmV0dXJuIHRoaXMucHJvcHMudHJlZS5tYXAoZnVuY3Rpb24odSxmKXt2YXIgcD11LmdldChcImxlYXZlc1wiKSxoPXAuc2l6ZS0xLGc9cC5tYXAoZnVuY3Rpb24odSxhKXt2YXIgcD1jLmVuY29kZShuLGYsYSksZD11LmdldChcInN0YXJ0XCIpLHk9dS5nZXQoXCJlbmRcIik7cmV0dXJuIGwuY3JlYXRlRWxlbWVudChzLHtrZXk6cCxvZmZzZXRLZXk6cCxibG9jazplLHN0YXJ0OmQsc2VsZWN0aW9uOm8/dC5wcm9wcy5zZWxlY3Rpb246bnVsbCxmb3JjZVNlbGVjdGlvbjp0LnByb3BzLmZvcmNlU2VsZWN0aW9uLHRleHQ6ci5zbGljZShkLHkpLHN0eWxlU2V0OmUuZ2V0SW5saW5lU3R5bGVBdChkKSxjdXN0b21TdHlsZU1hcDp0LnByb3BzLmN1c3RvbVN0eWxlTWFwLGN1c3RvbVN0eWxlRm46dC5wcm9wcy5jdXN0b21TdHlsZUZuLGlzTGFzdDpmPT09aSYmYT09PWh9KX0pLnRvQXJyYXkoKSx2PXUuZ2V0KFwiZGVjb3JhdG9yS2V5XCIpO2lmKG51bGw9PXYpcmV0dXJuIGc7aWYoIXQucHJvcHMuZGVjb3JhdG9yKXJldHVybiBnO3ZhciBfPWIodC5wcm9wcy5kZWNvcmF0b3IpLG09Xy5nZXRDb21wb25lbnRGb3JLZXkodik7aWYoIW0pcmV0dXJuIGc7dmFyIFM9Xy5nZXRQcm9wc0ZvcktleSh2KSx3PWMuZW5jb2RlKG4sZiwwKSxNPXIuc2xpY2UocC5maXJzdCgpLmdldChcInN0YXJ0XCIpLHAubGFzdCgpLmdldChcImVuZFwiKSksRT15LmdldEhUTUxEaXJJZkRpZmZlcmVudChkLmdldERpcmVjdGlvbihNKSx0LnByb3BzLmRpcmVjdGlvbik7cmV0dXJuIGwuY3JlYXRlRWxlbWVudChtLGEoe30sUyx7Y29udGVudFN0YXRlOnQucHJvcHMuY29udGVudFN0YXRlLGRlY29yYXRlZFRleHQ6TSxkaXI6RSxrZXk6dyxlbnRpdHlLZXk6ZS5nZXRFbnRpdHlBdCh1LmdldChcInN0YXJ0XCIpKSxvZmZzZXRLZXk6d30pLGcpfSkudG9BcnJheSgpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLGU9dC5kaXJlY3Rpb24sbj10Lm9mZnNldEtleSxyPWcoe1wicHVibGljL0RyYWZ0U3R5bGVEZWZhdWx0L2Jsb2NrXCI6ITAsXCJwdWJsaWMvRHJhZnRTdHlsZURlZmF1bHQvbHRyXCI6XCJMVFJcIj09PWUsXCJwdWJsaWMvRHJhZnRTdHlsZURlZmF1bHQvcnRsXCI6XCJSVExcIj09PWV9KTtyZXR1cm4gbC5jcmVhdGVFbGVtZW50KFwiZGl2XCIse1wiZGF0YS1vZmZzZXQta2V5XCI6bixjbGFzc05hbWU6cn0sdGhpcy5fcmVuZGVyQ2hpbGRyZW4oKSl9LGV9KGwuQ29tcG9uZW50KTt0LmV4cG9ydHM9TX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7aWYodm9pZCAwPT09KHQ9dHx8KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudDp2b2lkIDApKSlyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIHQuYWN0aXZlRWxlbWVudHx8dC5ib2R5fWNhdGNoKGUpe3JldHVybiB0LmJvZHl9fXQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe3JldHVybiEhZSYmKHQ9PT1lLmRvY3VtZW50RWxlbWVudHx8dD09PWUuYm9keSl9dmFyIGk9e2dldFRvcDpmdW5jdGlvbih0KXt2YXIgZT10Lm93bmVyRG9jdW1lbnQ7cmV0dXJuIHIodCxlKT9lLmJvZHkuc2Nyb2xsVG9wfHxlLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A6dC5zY3JvbGxUb3B9LHNldFRvcDpmdW5jdGlvbih0LGUpe3ZhciBuPXQub3duZXJEb2N1bWVudDtyKHQsbik/bi5ib2R5LnNjcm9sbFRvcD1uLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A9ZTp0LnNjcm9sbFRvcD1lfSxnZXRMZWZ0OmZ1bmN0aW9uKHQpe3ZhciBlPXQub3duZXJEb2N1bWVudDtyZXR1cm4gcih0LGUpP2UuYm9keS5zY3JvbGxMZWZ0fHxlLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0OnQuc2Nyb2xsTGVmdH0sc2V0TGVmdDpmdW5jdGlvbih0LGUpe3ZhciBuPXQub3duZXJEb2N1bWVudDtyKHQsbik/bi5ib2R5LnNjcm9sbExlZnQ9bi5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdD1lOnQuc2Nyb2xsTGVmdD1lfX07dC5leHBvcnRzPWl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBpKHQpe2lmKFwiZmlsZVwiPT10LmtpbmQpcmV0dXJuIHQuZ2V0QXNGaWxlKCl9dmFyIG89bigyMjEpLHU9bigyMjIpLGE9big4MSkscz1uZXcgUmVnRXhwKFwiXFxyXFxuXCIsXCJnXCIpLGM9e1widGV4dC9ydGZcIjoxLFwidGV4dC9odG1sXCI6MX0sbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7cih0aGlzLHQpLHRoaXMuZGF0YT1lLHRoaXMudHlwZXM9ZS50eXBlcz91KGUudHlwZXMpOltdfXJldHVybiB0LnByb3RvdHlwZS5pc1JpY2hUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuISghdGhpcy5nZXRIVE1MKCl8fCF0aGlzLmdldFRleHQoKSl8fCF0aGlzLmlzSW1hZ2UoKSYmdGhpcy50eXBlcy5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiBjW3RdfSl9LHQucHJvdG90eXBlLmdldFRleHQ9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdGhpcy5kYXRhLmdldERhdGEmJih0aGlzLnR5cGVzLmxlbmd0aD8tMSE9dGhpcy50eXBlcy5pbmRleE9mKFwidGV4dC9wbGFpblwiKSYmKHQ9dGhpcy5kYXRhLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpKTp0PXRoaXMuZGF0YS5nZXREYXRhKFwiVGV4dFwiKSksdD90LnJlcGxhY2UocyxcIlxcblwiKTpudWxsfSx0LnByb3RvdHlwZS5nZXRIVE1MPWZ1bmN0aW9uKCl7aWYodGhpcy5kYXRhLmdldERhdGEpe2lmKCF0aGlzLnR5cGVzLmxlbmd0aClyZXR1cm4gdGhpcy5kYXRhLmdldERhdGEoXCJUZXh0XCIpO2lmKC0xIT10aGlzLnR5cGVzLmluZGV4T2YoXCJ0ZXh0L2h0bWxcIikpcmV0dXJuIHRoaXMuZGF0YS5nZXREYXRhKFwidGV4dC9odG1sXCIpfX0sdC5wcm90b3R5cGUuaXNMaW5rPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZXMuc29tZShmdW5jdGlvbih0KXtyZXR1cm4tMSE9dC5pbmRleE9mKFwiVXJsXCIpfHwtMSE9dC5pbmRleE9mKFwidGV4dC91cmktbGlzdFwiKXx8dC5pbmRleE9mKFwidGV4dC94LW1vei11cmxcIil9KX0sdC5wcm90b3R5cGUuZ2V0TGluaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuZ2V0RGF0YT8tMSE9dGhpcy50eXBlcy5pbmRleE9mKFwidGV4dC94LW1vei11cmxcIik/dGhpcy5kYXRhLmdldERhdGEoXCJ0ZXh0L3gtbW96LXVybFwiKS5zcGxpdChcIlxcblwiKVswXTotMSE9dGhpcy50eXBlcy5pbmRleE9mKFwidGV4dC91cmktbGlzdFwiKT90aGlzLmRhdGEuZ2V0RGF0YShcInRleHQvdXJpLWxpc3RcIik6dGhpcy5kYXRhLmdldERhdGEoXCJ1cmxcIik6bnVsbH0sdC5wcm90b3R5cGUuaXNJbWFnZT1mdW5jdGlvbigpe2lmKHRoaXMudHlwZXMuc29tZShmdW5jdGlvbih0KXtyZXR1cm4tMSE9dC5pbmRleE9mKFwiYXBwbGljYXRpb24veC1tb3otZmlsZVwiKX0pKXJldHVybiEwO2Zvcih2YXIgdD10aGlzLmdldEZpbGVzKCksZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgbj10W2VdLnR5cGU7aWYoIW8uaXNJbWFnZShuKSlyZXR1cm4hMX1yZXR1cm4hMH0sdC5wcm90b3R5cGUuZ2V0Q291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLmhhc093blByb3BlcnR5KFwiaXRlbXNcIik/dGhpcy5kYXRhLml0ZW1zLmxlbmd0aDp0aGlzLmRhdGEuaGFzT3duUHJvcGVydHkoXCJtb3pJdGVtQ291bnRcIik/dGhpcy5kYXRhLm1vekl0ZW1Db3VudDp0aGlzLmRhdGEuZmlsZXM/dGhpcy5kYXRhLmZpbGVzLmxlbmd0aDpudWxsfSx0LnByb3RvdHlwZS5nZXRGaWxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuaXRlbXM/QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5kYXRhLml0ZW1zKS5tYXAoaSkuZmlsdGVyKGEudGhhdFJldHVybnNBcmd1bWVudCk6dGhpcy5kYXRhLmZpbGVzP0FycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuZGF0YS5maWxlcyk6W119LHQucHJvdG90eXBlLmhhc0ZpbGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RmlsZXMoKS5sZW5ndGg+MH0sdH0oKTt0LmV4cG9ydHM9bH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7aWYodCBpbnN0YW5jZW9mIEVsZW1lbnQpe3ZhciBlPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1vZmZzZXQta2V5XCIpO2lmKGUpcmV0dXJuIGU7Zm9yKHZhciBuPTA7bjx0LmNoaWxkTm9kZXMubGVuZ3RoO24rKyl7dmFyIGk9cih0LmNoaWxkTm9kZXNbbl0pO2lmKGkpcmV0dXJuIGl9fXJldHVybiBudWxsfXQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIodCxlKXt2YXIgbj0wLHI9W107dC5mb3JFYWNoKGZ1bmN0aW9uKG8pe2kobyxmdW5jdGlvbihpKXtuKyssaSYmci5wdXNoKGkuc2xpY2UoMCxzKSksbj09dC5sZW5ndGgmJmUoci5qb2luKFwiXFxyXCIpKX0pfSl9ZnVuY3Rpb24gaSh0LG4pe2lmKCFlLkZpbGVSZWFkZXJ8fHQudHlwZSYmISh0LnR5cGUgaW4gYSkpcmV0dXJuIHZvaWQgbihcIlwiKTtpZihcIlwiPT09dC50eXBlKXt2YXIgcj1cIlwiO3JldHVybiB1LnRlc3QodC5uYW1lKSYmKHI9dC5uYW1lLnJlcGxhY2UodSxcIlwiKSksdm9pZCBuKHIpfXZhciBpPW5ldyBGaWxlUmVhZGVyO2kub25sb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9aS5yZXN1bHQ7XCJzdHJpbmdcIiE9dHlwZW9mIHQmJm8oITEpLG4odCl9LGkub25lcnJvcj1mdW5jdGlvbigpe24oXCJcIil9LGkucmVhZEFzVGV4dCh0KX12YXIgbz1uKDEpLHU9L1xcLnRleHRDbGlwcGluZyQvLGE9e1widGV4dC9wbGFpblwiOiEwLFwidGV4dC9odG1sXCI6ITAsXCJ0ZXh0L3J0ZlwiOiEwfSxzPTVlMzt0LmV4cG9ydHM9cn0pLmNhbGwoZSxuKDI2KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSxuLHIsdSl7dmFyIGE9byh0LmdldFNlbGVjdGlvbigpKSxzPWkuZGVjb2RlKGUpLGM9cy5ibG9ja0tleSxsPXQuZ2V0QmxvY2tUcmVlKGMpLmdldEluKFtzLmRlY29yYXRvcktleSxcImxlYXZlc1wiLHMubGVhZktleV0pLGY9aS5kZWNvZGUocikscD1mLmJsb2NrS2V5LGg9dC5nZXRCbG9ja1RyZWUocCkuZ2V0SW4oW2YuZGVjb3JhdG9yS2V5LFwibGVhdmVzXCIsZi5sZWFmS2V5XSksZD1sLmdldChcInN0YXJ0XCIpLHk9aC5nZXQoXCJzdGFydFwiKSxnPWw/ZCtuOm51bGwsdj1oP3krdTpudWxsO2lmKGEuZ2V0QW5jaG9yS2V5KCk9PT1jJiZhLmdldEFuY2hvck9mZnNldCgpPT09ZyYmYS5nZXRGb2N1c0tleSgpPT09cCYmYS5nZXRGb2N1c09mZnNldCgpPT09dilyZXR1cm4gYTt2YXIgXz0hMTtpZihjPT09cCl7dmFyIG09bC5nZXQoXCJlbmRcIiksUz1oLmdldChcImVuZFwiKTtfPXk9PT1kJiZTPT09bT91PG46eTxkfWVsc2UgXz10LmdldEN1cnJlbnRDb250ZW50KCkuZ2V0QmxvY2tNYXAoKS5rZXlTZXEoKS5za2lwVW50aWwoZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1jfHx0PT09cH0pLmZpcnN0KCk9PT1wO3JldHVybiBhLm1lcmdlKHthbmNob3JLZXk6YyxhbmNob3JPZmZzZXQ6Zyxmb2N1c0tleTpwLGZvY3VzT2Zmc2V0OnYsaXNCYWNrd2FyZDpffSl9dmFyIGk9big2NCksbz1uKDEzKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7dmFyIGU9dC5nZXRTZWxlY3Rpb24oKTtyZXR1cm4gZS5pc0NvbGxhcHNlZCgpP251bGw6aSh0LmdldEN1cnJlbnRDb250ZW50KCksZSl9dmFyIGk9big2MSk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe2Zvcih2YXIgZT10LmNsb25lUmFuZ2UoKSxuPVtdLHI9dC5lbmRDb250YWluZXI7bnVsbCE9cjtyPXIucGFyZW50Tm9kZSl7dmFyIGk9cj09PXQuY29tbW9uQW5jZXN0b3JDb250YWluZXI7aT9lLnNldFN0YXJ0KHQuc3RhcnRDb250YWluZXIsdC5zdGFydE9mZnNldCk6ZS5zZXRTdGFydChlLmVuZENvbnRhaW5lciwwKTt2YXIgdT1BcnJheS5mcm9tKGUuZ2V0Q2xpZW50UmVjdHMoKSk7aWYobi5wdXNoKHUpLGkpe3ZhciBhO3JldHVybiBuLnJldmVyc2UoKSwoYT1bXSkuY29uY2F0LmFwcGx5KGEsbil9ZS5zZXRFbmRCZWZvcmUocil9byghMSl9dmFyIGk9bigxOSksbz1uKDEpLHU9aS5pc0Jyb3dzZXIoXCJDaHJvbWVcIiksYT11P3I6ZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmZyb20odC5nZXRDbGllbnRSZWN0cygpKX07dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSxuLHIsaSxvKXt2YXIgYT1uLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREUsYz1pLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREU7aWYoYSYmYylyZXR1cm57c2VsZWN0aW9uU3RhdGU6bCh0LHAocyhuKSkscixwKHMoaSkpLG8pLG5lZWRzUmVjb3Zlcnk6ITF9O3ZhciBmPW51bGwsaD1udWxsLGQ9ITA7cmV0dXJuIGE/KGY9e2tleTpwKHMobikpLG9mZnNldDpyfSxoPXUoZSxpLG8pKTpjPyhoPXtrZXk6cChzKGkpKSxvZmZzZXQ6b30sZj11KGUsbixyKSk6KGY9dShlLG4sciksaD11KGUsaSxvKSxuPT09aSYmcj09PW8mJihkPSEhbi5maXJzdENoaWxkJiZcIkJSXCIhPT1uLmZpcnN0Q2hpbGQubm9kZU5hbWUpKSx7c2VsZWN0aW9uU3RhdGU6bCh0LGYua2V5LGYub2Zmc2V0LGgua2V5LGgub2Zmc2V0KSxuZWVkc1JlY292ZXJ5OmR9fWZ1bmN0aW9uIGkodCl7Zm9yKDt0LmZpcnN0Q2hpbGQmJih0LmZpcnN0Q2hpbGQgaW5zdGFuY2VvZiBFbGVtZW50JiZcInRydWVcIj09PXQuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJsb2Nrc1wiKXx8Yyh0LmZpcnN0Q2hpbGQpKTspdD10LmZpcnN0Q2hpbGQ7cmV0dXJuIHR9ZnVuY3Rpb24gbyh0KXtmb3IoO3QubGFzdENoaWxkJiYodC5sYXN0Q2hpbGQgaW5zdGFuY2VvZiBFbGVtZW50JiZcInRydWVcIj09PXQubGFzdENoaWxkLmdldEF0dHJpYnV0ZShcImRhdGEtYmxvY2tzXCIpfHxjKHQubGFzdENoaWxkKSk7KXQ9dC5sYXN0Q2hpbGQ7cmV0dXJuIHR9ZnVuY3Rpb24gdSh0LGUsbil7dmFyIHI9ZSx1PXMocik7aWYobnVsbCE9dXx8dCYmKHQ9PT1yfHx0LmZpcnN0Q2hpbGQ9PT1yKXx8ZighMSksdD09PXImJihyPXIuZmlyc3RDaGlsZCxyIGluc3RhbmNlb2YgRWxlbWVudCYmXCJ0cnVlXCI9PT1yLmdldEF0dHJpYnV0ZShcImRhdGEtY29udGVudHNcIil8fGYoITEpLG4+MCYmKG49ci5jaGlsZE5vZGVzLmxlbmd0aCkpLDA9PT1uKXt2YXIgbD1udWxsO2lmKG51bGwhPXUpbD11O2Vsc2V7dmFyIGg9aShyKTtsPXAoYyhoKSl9cmV0dXJue2tleTpsLG9mZnNldDowfX12YXIgZD1yLmNoaWxkTm9kZXNbbi0xXSx5PW51bGwsZz1udWxsO2lmKGMoZCkpe3ZhciB2PW8oZCk7eT1wKGModikpLGc9YSh2KX1lbHNlIHk9cCh1KSxnPWEoZCk7cmV0dXJue2tleTp5LG9mZnNldDpnfX1mdW5jdGlvbiBhKHQpe3ZhciBlPXQudGV4dENvbnRlbnQ7cmV0dXJuXCJcXG5cIj09PWU/MDplLmxlbmd0aH12YXIgcz1uKDkwKSxjPW4oMTI0KSxsPW4oMTI2KSxmPW4oMSkscD1uKDEzKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXt2YXIgbj1lP2wuZXhlYyh0KTpzLmV4ZWModCk7cmV0dXJuIG4/blswXTp0fXZhciBpPW4oMjQxKSxvPWkuZ2V0UHVuY3R1YXRpb24oKSx1PVwiXFxcXHN8KD8hW19dKVwiK28sYT1cIl4oPzpcIit1K1wiKSooPzpbJ+KAmOKAmV18KD8hXCIrdStcIikuKSooPzooPyFcIit1K1wiKS4pXCIscz1uZXcgUmVnRXhwKGEpLGM9XCIoPzooPyFcIit1K1wiKS4pKD86WyfigJjigJldfCg/IVwiK3UrXCIpLikqKD86XCIrdStcIikqJFwiLGw9bmV3IFJlZ0V4cChjKSxmPXtnZXRCYWNrd2FyZDpmdW5jdGlvbih0KXtyZXR1cm4gcih0LCEwKX0sZ2V0Rm9yd2FyZDpmdW5jdGlvbih0KXtyZXR1cm4gcih0LCExKX19O3QuZXhwb3J0cz1mfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe3ZhciBuLHI9dC5nZXRTZWxlY3Rpb24oKSxpPXIuZ2V0U3RhcnRLZXkoKSxvPXIuZ2V0U3RhcnRPZmZzZXQoKSx1PXQuZ2V0Q3VycmVudENvbnRlbnQoKSxhPWk7cmV0dXJuIGU+dS5nZXRCbG9ja0ZvcktleShpKS5nZXRUZXh0KCkubGVuZ3RoLW8/KGE9dS5nZXRLZXlBZnRlcihpKSxuPTApOm49bytlLHIubWVyZ2Uoe2ZvY3VzS2V5OmEsZm9jdXNPZmZzZXQ6bn0pfXQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUsbil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9dmFyIGksbz11fHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fSx1PW4oOSksYT1uKDcpLHM9bigzNyksYz1uKDEwKSxsPW4oODUpLGY9big2MikscD1uKDMxKSxoPW4oMCksZD1uKDApLHk9ZC5TZXQsZz1uKDI1Miksdj1uKDQ1KSxfPW4oMjUpLG09bigxMzMpLFM9bigxKSxiPW4oODMpLHc9cC5kcmFmdF90cmVlX2RhdGFfc3VwcG9ydCxNPWguTGlzdCxFPWguT3JkZXJlZFNldCx4PW5ldyBSZWdFeHAoXCJcXHJcIixcImdcIiksST1uZXcgUmVnRXhwKFwiXFxuXCIsXCJnXCIpLGs9bmV3IFJlZ0V4cChcIiZuYnNwO1wiLFwiZ1wiKSxMPW5ldyBSZWdFeHAoXCImIzEzOz9cIixcImdcIiksVD1uZXcgUmVnRXhwKFwiJiM4MjAzOz9cIixcImdcIiksRD1bXCJib2xkXCIsXCJib2xkZXJcIixcIjUwMFwiLFwiNjAwXCIsXCI3MDBcIixcIjgwMFwiLFwiOTAwXCJdLE89W1wibGlnaHRcIixcImxpZ2h0ZXJcIixcIjEwMFwiLFwiMjAwXCIsXCIzMDBcIixcIjQwMFwiXSxOPXtiOlwiQk9MRFwiLGNvZGU6XCJDT0RFXCIsZGVsOlwiU1RSSUtFVEhST1VHSFwiLGVtOlwiSVRBTElDXCIsaTpcIklUQUxJQ1wiLHM6XCJTVFJJS0VUSFJPVUdIXCIsc3RyaWtlOlwiU1RSSUtFVEhST1VHSFwiLHN0cm9uZzpcIkJPTERcIix1OlwiVU5ERVJMSU5FXCJ9LEM9KGk9e30scihpLHYoXCJwdWJsaWMvRHJhZnRTdHlsZURlZmF1bHQvZGVwdGgwXCIpLDApLHIoaSx2KFwicHVibGljL0RyYWZ0U3R5bGVEZWZhdWx0L2RlcHRoMVwiKSwxKSxyKGksdihcInB1YmxpYy9EcmFmdFN0eWxlRGVmYXVsdC9kZXB0aDJcIiksMikscihpLHYoXCJwdWJsaWMvRHJhZnRTdHlsZURlZmF1bHQvZGVwdGgzXCIpLDMpLHIoaSx2KFwicHVibGljL0RyYWZ0U3R5bGVEZWZhdWx0L2RlcHRoNFwiKSw0KSxpKSxqPVtcImNsYXNzTmFtZVwiLFwiaHJlZlwiLFwicmVsXCIsXCJ0YXJnZXRcIixcInRpdGxlXCJdLEE9W1wiYWx0XCIsXCJjbGFzc05hbWVcIixcImhlaWdodFwiLFwic3JjXCIsXCJ3aWR0aFwiXSx6PXZvaWQgMCxCPXt0ZXh0OlwiXCIsaW5saW5lczpbXSxlbnRpdGllczpbXSxibG9ja3M6W119LFI9e2NoaWxkcmVuOk0oKSxkZXB0aDowLGtleTpcIlwiLHR5cGU6XCJcIn0sSz1mdW5jdGlvbih0LGUpe3JldHVyblwibGlcIj09PXQ/XCJvbFwiPT09ZT9cIm9yZGVyZWQtbGlzdC1pdGVtXCI6XCJ1bm9yZGVyZWQtbGlzdC1pdGVtXCI6bnVsbH0sUD1mdW5jdGlvbih0KXt2YXIgZT10LmdldChcInVuc3R5bGVkXCIpLmVsZW1lbnQsbj15KFtdKTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuYWxpYXNlZEVsZW1lbnRzJiZ0LmFsaWFzZWRFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe249bi5hZGQodCl9KSxuPW4uYWRkKHQuZWxlbWVudCl9KSxuLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdCYmdCE9PWV9KS50b0FycmF5KCkuc29ydCgpfSxVPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9bltyXSh0LGUpO2lmKGkpcmV0dXJuIGl9cmV0dXJuIG51bGx9LEY9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4uZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVsZW1lbnQ9PT10fHxlLndyYXBwZXI9PT10fHxlLmFsaWFzZWRFbGVtZW50cyYmZS5hbGlhc2VkRWxlbWVudHMuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KX0pLmtleVNlcSgpLnRvU2V0KCkudG9BcnJheSgpLnNvcnQoKTtzd2l0Y2goci5sZW5ndGgpe2Nhc2UgMDpyZXR1cm5cInVuc3R5bGVkXCI7Y2FzZSAxOnJldHVybiByWzBdO2RlZmF1bHQ6cmV0dXJuIFUodCxlLFtLXSl8fFwidW5zdHlsZWRcIn19LFk9ZnVuY3Rpb24odCxlLG4pe3ZhciByPU5bdF07aWYociluPW4uYWRkKHIpLnRvT3JkZXJlZFNldCgpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KXt2YXIgaT1lO249bi53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKHQpe3ZhciBlPWkuc3R5bGUuZm9udFdlaWdodCxuPWkuc3R5bGUuZm9udFN0eWxlLHI9aS5zdHlsZS50ZXh0RGVjb3JhdGlvbjtELmluZGV4T2YoZSk+PTA/dC5hZGQoXCJCT0xEXCIpOk8uaW5kZXhPZihlKT49MCYmdC5yZW1vdmUoXCJCT0xEXCIpLFwiaXRhbGljXCI9PT1uP3QuYWRkKFwiSVRBTElDXCIpOlwibm9ybWFsXCI9PT1uJiZ0LnJlbW92ZShcIklUQUxJQ1wiKSxcInVuZGVybGluZVwiPT09ciYmdC5hZGQoXCJVTkRFUkxJTkVcIiksXCJsaW5lLXRocm91Z2hcIj09PXImJnQuYWRkKFwiU1RSSUtFVEhST1VHSFwiKSxcIm5vbmVcIj09PXImJih0LnJlbW92ZShcIlVOREVSTElORVwiKSx0LnJlbW92ZShcIlNUUklLRVRIUk9VR0hcIikpfSkudG9PcmRlcmVkU2V0KCl9cmV0dXJuIG59LEg9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQudGV4dC5zbGljZSgtMSksaT1lLnRleHQuc2xpY2UoMCwxKTtpZihcIlxcclwiIT09cnx8XCJcXHJcIiE9PWl8fG58fCh0LnRleHQ9dC50ZXh0LnNsaWNlKDAsLTEpLHQuaW5saW5lcy5wb3AoKSx0LmVudGl0aWVzLnBvcCgpLHQuYmxvY2tzLnBvcCgpKSxcIlxcclwiPT09cil7aWYoXCIgXCI9PT1lLnRleHR8fFwiXFxuXCI9PT1lLnRleHQpcmV0dXJuIHQ7XCIgXCIhPT1pJiZcIlxcblwiIT09aXx8KGUudGV4dD1lLnRleHQuc2xpY2UoMSksZS5pbmxpbmVzLnNoaWZ0KCksZS5lbnRpdGllcy5zaGlmdCgpKX1yZXR1cm57dGV4dDp0LnRleHQrZS50ZXh0LGlubGluZXM6dC5pbmxpbmVzLmNvbmNhdChlLmlubGluZXMpLGVudGl0aWVzOnQuZW50aXRpZXMuY29uY2F0KGUuZW50aXRpZXMpLGJsb2Nrczp0LmJsb2Nrcy5jb25jYXQoZS5ibG9ja3MpfX0scT1mdW5jdGlvbih0LGUpe3JldHVybiBlLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT10LmluZGV4T2YoXCI8XCIrZSl9KX0sVz1mdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgSFRNTEFuY2hvckVsZW1lbnR8fFMoITEpO3ZhciBlPXQucHJvdG9jb2w7cmV0dXJuXCJodHRwOlwiPT09ZXx8XCJodHRwczpcIj09PWV8fFwibWFpbHRvOlwiPT09ZX0sRz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQXJyYXkoMSk7cmV0dXJuIHQmJihlWzBdPXQpLG8oe30sQix7dGV4dDpcIiBcIixpbmxpbmVzOltFKCldLGVudGl0aWVzOmV9KX0sVj1mdW5jdGlvbigpe3JldHVybiBvKHt9LEIse3RleHQ6XCJcXG5cIixpbmxpbmVzOltFKCldLGVudGl0aWVzOm5ldyBBcnJheSgxKX0pfSxRPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiBvKHt9LFIsdCl9LFo9ZnVuY3Rpb24odCxlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbDtyZXR1cm57dGV4dDpcIlxcclwiLGlubGluZXM6W0UoKV0sZW50aXRpZXM6bmV3IEFycmF5KDEpLGJsb2NrczpbUSh7cGFyZW50Om4sa2V5Ol8oKSx0eXBlOnQsZGVwdGg6TWF0aC5tYXgoMCxNYXRoLm1pbig0LGUpKX0pXX19LEo9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjA7cmV0dXJuIE9iamVjdC5rZXlzKEMpLnNvbWUoZnVuY3Rpb24obil7dC5jbGFzc0xpc3QuY29udGFpbnMobikmJihlPUNbbl0pfSksZX0sWD1mdW5jdGlvbiB0KGUsbixyLGksdSxhLHMsYyxsLHApe3ZhciBoPXosZD1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkseT1lLHY9XCJ1bnN0eWxlZFwiLF89ITEsbT11JiZGKHUsaSxjKSxTPW8oe30sQiksYj1udWxsLE09dm9pZCAwO2lmKFwiI3RleHRcIj09PWQpe3ZhciBFPW4udGV4dENvbnRlbnQseD1FLnRyaW0oKTtpZihpJiZcIlwiPT09eCYmbi5wYXJlbnRFbGVtZW50KXt2YXIgaz1uLnBhcmVudEVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihcIm9sXCI9PT1rfHxcInVsXCI9PT1rKXJldHVybntjaHVuazpvKHt9LEIpLGVudGl0eU1hcDplfX1yZXR1cm5cIlwiPT09eCYmXCJwcmVcIiE9PXU/e2NodW5rOkcobCksZW50aXR5TWFwOmV9OihcInByZVwiIT09dSYmKEU9RS5yZXBsYWNlKEksXCIgXCIpKSx6PWQse2NodW5rOnt0ZXh0OkUsaW5saW5lczpBcnJheShFLmxlbmd0aCkuZmlsbChyKSxlbnRpdGllczpBcnJheShFLmxlbmd0aCkuZmlsbChsKSxibG9ja3M6W119LGVudGl0eU1hcDplfSl9aWYoej1kLFwiYnJcIj09PWQpcmV0dXJuXCJiclwiIT09aHx8dSYmXCJ1bnN0eWxlZFwiIT09bT97Y2h1bms6VigpLGVudGl0eU1hcDplfTp7Y2h1bms6WihcInVuc3R5bGVkXCIscyxwKSxlbnRpdHlNYXA6ZX07aWYoXCJpbWdcIj09PWQmJm4gaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50JiZuLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwic3JjXCIpJiZuLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwic3JjXCIpLnZhbHVlKXt2YXIgTD1uLFQ9e307QS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPUwuZ2V0QXR0cmlidXRlKHQpO2UmJihUW3RdPWUpfSksbi50ZXh0Q29udGVudD1cIvCfk7dcIixsPWYuX19jcmVhdGUoXCJJTUFHRVwiLFwiTVVUQUJMRVwiLFR8fHt9KX1yPVkoZCxuLHIpLFwidWxcIiE9PWQmJlwib2xcIiE9PWR8fChpJiYocys9MSksaT1kKSwhdyYmXCJsaVwiPT09ZCYmbiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50JiYocz1KKG4scykpO3ZhciBEPUYoZCxpLGMpLE89aSYmXCJsaVwiPT09dSYmXCJsaVwiPT09ZCxOPSghdXx8dykmJi0xIT09YS5pbmRleE9mKGQpOyhPfHxOKSYmKFM9WihELHMscCksTT1TLmJsb2Nrc1swXS5rZXksdT1kLF89IXcpLE8mJih2PVwidWxcIj09PWk/XCJ1bm9yZGVyZWQtbGlzdC1pdGVtXCI6XCJvcmRlcmVkLWxpc3QtaXRlbVwiKTt2YXIgQz1uLmZpcnN0Q2hpbGQ7bnVsbCE9QyYmKGQ9Qy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTtmb3IodmFyIFI9bnVsbDtDOyl7QyBpbnN0YW5jZW9mIEhUTUxBbmNob3JFbGVtZW50JiZDLmhyZWYmJlcoQyk/ZnVuY3Rpb24oKXt2YXIgdD1DLGU9e307ai5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciByPXQuZ2V0QXR0cmlidXRlKG4pO3ImJihlW25dPXIpfSksZS51cmw9bmV3IGcodC5ocmVmKS50b1N0cmluZygpLFI9Zi5fX2NyZWF0ZShcIkxJTktcIixcIk1VVEFCTEVcIixlfHx7fSl9KCk6Uj12b2lkIDA7dmFyIEs9dCh5LEMscixpLHUsYSxzLGMsUnx8bCx3P006bnVsbCksUD1LLmNodW5rLFU9Sy5lbnRpdHlNYXA7Yj1QLHk9VSxTPUgoUyxiLHcpO3ZhciBxPUMubmV4dFNpYmxpbmc7IXAmJnEmJmEuaW5kZXhPZihkKT49MCYmdSYmKFM9SChTLFYoKSkpLHEmJihkPXEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSksQz1xfXJldHVybiBfJiYoUz1IKFMsWih2LHMscCkpKSx7Y2h1bms6UyxlbnRpdHlNYXA6eX19LCQ9ZnVuY3Rpb24odCxlLG4scil7dD10LnRyaW0oKS5yZXBsYWNlKHgsXCJcIikucmVwbGFjZShrLFwiIFwiKS5yZXBsYWNlKEwsXCJcIikucmVwbGFjZShULFwiXCIpO3ZhciBpPVAobiksdT1lKHQpO2lmKCF1KXJldHVybiBudWxsO3o9bnVsbDt2YXIgYT1xKHQsaSk/aTpbXCJkaXZcIl0scz1YKHIsdSxFKCksXCJ1bFwiLG51bGwsYSwtMSxuKSxjPXMuY2h1bmssbD1zLmVudGl0eU1hcDtyZXR1cm4gMD09PWMudGV4dC5pbmRleE9mKFwiXFxyXCIpJiYoYz17dGV4dDpjLnRleHQuc2xpY2UoMSksaW5saW5lczpjLmlubGluZXMuc2xpY2UoMSksZW50aXRpZXM6Yy5lbnRpdGllcy5zbGljZSgxKSxibG9ja3M6Yy5ibG9ja3N9KSxcIlxcclwiPT09Yy50ZXh0LnNsaWNlKC0xKSYmKGMudGV4dD1jLnRleHQuc2xpY2UoMCwtMSksYy5pbmxpbmVzPWMuaW5saW5lcy5zbGljZSgwLC0xKSxjLmVudGl0aWVzPWMuZW50aXRpZXMuc2xpY2UoMCwtMSksYy5ibG9ja3MucG9wKCkpLDA9PT1jLmJsb2Nrcy5sZW5ndGgmJmMuYmxvY2tzLnB1c2gobyh7fSxCLHt0eXBlOlwidW5zdHlsZWRcIixkZXB0aDowfSkpLGMudGV4dC5zcGxpdChcIlxcclwiKS5sZW5ndGg9PT1jLmJsb2Nrcy5sZW5ndGgrMSYmYy5ibG9ja3MudW5zaGlmdCh7dHlwZTpcInVuc3R5bGVkXCIsZGVwdGg6MH0pLHtjaHVuazpjLGVudGl0eU1hcDpsfX0sdHQ9ZnVuY3Rpb24odCl7aWYoIXR8fCF0LnRleHR8fCFBcnJheS5pc0FycmF5KHQuYmxvY2tzKSlyZXR1cm4gbnVsbDt2YXIgZT17Y2FjaGVSZWY6e30sY29udGVudEJsb2NrczpbXX0sbj0wLHI9dC5ibG9ja3MsaT10LmlubGluZXMsbz10LmVudGl0aWVzLHU9dz9jOnM7cmV0dXJuIHQudGV4dC5zcGxpdChcIlxcclwiKS5yZWR1Y2UoZnVuY3Rpb24odCxlLHMpe2U9YihlKTt2YXIgbD1yW3NdLGY9bitlLmxlbmd0aCxwPWkuc2xpY2UobixmKSxoPW8uc2xpY2UobixmKSxkPU0ocC5tYXAoZnVuY3Rpb24odCxlKXt2YXIgbj17c3R5bGU6dCxlbnRpdHk6bnVsbH07cmV0dXJuIGhbZV0mJihuLmVudGl0eT1oW2VdKSxhLmNyZWF0ZShuKX0pKTtuPWYrMTt2YXIgeT1sLmRlcHRoLGc9bC50eXBlLHY9bC5wYXJlbnQsbT1sLmtleXx8XygpLFM9bnVsbDtpZih2KXt2YXIgdz10LmNhY2hlUmVmW3ZdLEU9dC5jb250ZW50QmxvY2tzW3ddO2lmKEUuZ2V0Q2hpbGRLZXlzKCkuaXNFbXB0eSgpJiZFLmdldFRleHQoKSl7dmFyIHg9RS5nZXRDaGFyYWN0ZXJMaXN0KCksST1FLmdldFRleHQoKTtTPV8oKTt2YXIgaz1uZXcgYyh7a2V5OlMsdGV4dDpJLGNoYXJhY3Rlckxpc3Q6eCxwYXJlbnQ6dixuZXh0U2libGluZzptfSk7dC5jb250ZW50QmxvY2tzLnB1c2goayksRT1FLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24odCl7dC5zZXQoXCJjaGFyYWN0ZXJMaXN0XCIsTSgpKS5zZXQoXCJ0ZXh0XCIsXCJcIikuc2V0KFwiY2hpbGRyZW5cIixFLmNoaWxkcmVuLnB1c2goay5nZXRLZXkoKSkpfSl9dC5jb250ZW50QmxvY2tzW3ddPUUuc2V0KFwiY2hpbGRyZW5cIixFLmNoaWxkcmVuLnB1c2gobSkpfXZhciBMPW5ldyB1KHtrZXk6bSxwYXJlbnQ6dix0eXBlOmcsZGVwdGg6eSx0ZXh0OmUsY2hhcmFjdGVyTGlzdDpkLHByZXZTaWJsaW5nOlN8fCgwPT09c3x8cltzLTFdLnBhcmVudCE9PXY/bnVsbDpyW3MtMV0ua2V5KSxuZXh0U2libGluZzpzPT09ci5sZW5ndGgtMXx8cltzKzFdLnBhcmVudCE9PXY/bnVsbDpyW3MrMV0ua2V5fSk7cmV0dXJuIHQuY29udGVudEJsb2Nrcy5wdXNoKEwpLHQuY2FjaGVSZWZbTC5rZXldPXMsdH0sZSkuY29udGVudEJsb2Nrc30sZXQ9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm0sbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bCxyPSQodCxlLG4sZik7aWYobnVsbD09cilyZXR1cm4gbnVsbDt2YXIgaT1yLmNodW5rLG89ci5lbnRpdHlNYXA7cmV0dXJue2NvbnRlbnRCbG9ja3M6dHQoaSksZW50aXR5TWFwOm99fTt0LmV4cG9ydHM9ZXR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3ZhciBlLG49bnVsbDtyZXR1cm4hdSYmZG9jdW1lbnQuaW1wbGVtZW50YXRpb24mJmRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCYmKGU9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiZm9vXCIpLGUuZG9jdW1lbnRFbGVtZW50fHxvKCExKSxlLmRvY3VtZW50RWxlbWVudC5pbm5lckhUTUw9dCxuPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdKSxufXZhciBpPW4oMTkpLG89bigxKSx1PWkuaXNCcm93c2VyKFwiSUUgPD0gOVwiKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oNSksaT1uKDIpLG89KG4oNDQpLG4oMjUzKSksdT1uKDEzKSxhPXtjdXJyZW50QmxvY2tDb250YWluc0xpbms6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRTZWxlY3Rpb24oKSxuPXQuZ2V0Q3VycmVudENvbnRlbnQoKSxyPW4uZ2V0RW50aXR5TWFwKCk7cmV0dXJuIG4uZ2V0QmxvY2tGb3JLZXkoZS5nZXRBbmNob3JLZXkoKSkuZ2V0Q2hhcmFjdGVyTGlzdCgpLnNsaWNlKGUuZ2V0U3RhcnRPZmZzZXQoKSxlLmdldEVuZE9mZnNldCgpKS5zb21lKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RW50aXR5KCk7cmV0dXJuISFlJiZcIkxJTktcIj09PXIuX19nZXQoZSkuZ2V0VHlwZSgpfSl9LGdldEN1cnJlbnRCbG9ja1R5cGU6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRTZWxlY3Rpb24oKTtyZXR1cm4gdC5nZXRDdXJyZW50Q29udGVudCgpLmdldEJsb2NrRm9yS2V5KGUuZ2V0U3RhcnRLZXkoKSkuZ2V0VHlwZSgpfSxnZXREYXRhT2JqZWN0Rm9yTGlua1VSTDpmdW5jdGlvbih0KXtyZXR1cm57dXJsOnQudG9TdHJpbmcoKX19LGhhbmRsZUtleUNvbW1hbmQ6ZnVuY3Rpb24odCxlKXtzd2l0Y2goZSl7Y2FzZVwiYm9sZFwiOnJldHVybiBhLnRvZ2dsZUlubGluZVN0eWxlKHQsXCJCT0xEXCIpO2Nhc2VcIml0YWxpY1wiOnJldHVybiBhLnRvZ2dsZUlubGluZVN0eWxlKHQsXCJJVEFMSUNcIik7Y2FzZVwidW5kZXJsaW5lXCI6cmV0dXJuIGEudG9nZ2xlSW5saW5lU3R5bGUodCxcIlVOREVSTElORVwiKTtjYXNlXCJjb2RlXCI6cmV0dXJuIGEudG9nZ2xlQ29kZSh0KTtjYXNlXCJiYWNrc3BhY2VcIjpjYXNlXCJiYWNrc3BhY2Utd29yZFwiOmNhc2VcImJhY2tzcGFjZS10by1zdGFydC1vZi1saW5lXCI6cmV0dXJuIGEub25CYWNrc3BhY2UodCk7Y2FzZVwiZGVsZXRlXCI6Y2FzZVwiZGVsZXRlLXdvcmRcIjpjYXNlXCJkZWxldGUtdG8tZW5kLW9mLWJsb2NrXCI6cmV0dXJuIGEub25EZWxldGUodCk7ZGVmYXVsdDpyZXR1cm4gbnVsbH19LGluc2VydFNvZnROZXdsaW5lOmZ1bmN0aW9uKHQpe3ZhciBlPXIuaW5zZXJ0VGV4dCh0LmdldEN1cnJlbnRDb250ZW50KCksdC5nZXRTZWxlY3Rpb24oKSxcIlxcblwiLHQuZ2V0Q3VycmVudElubGluZVN0eWxlKCksbnVsbCksbj1pLnB1c2godCxlLFwiaW5zZXJ0LWNoYXJhY3RlcnNcIik7cmV0dXJuIGkuZm9yY2VTZWxlY3Rpb24obixlLmdldFNlbGVjdGlvbkFmdGVyKCkpfSxvbkJhY2tzcGFjZTpmdW5jdGlvbih0KXt2YXIgZT10LmdldFNlbGVjdGlvbigpO2lmKCFlLmlzQ29sbGFwc2VkKCl8fGUuZ2V0QW5jaG9yT2Zmc2V0KCl8fGUuZ2V0Rm9jdXNPZmZzZXQoKSlyZXR1cm4gbnVsbDt2YXIgbj10LmdldEN1cnJlbnRDb250ZW50KCkscj1lLmdldFN0YXJ0S2V5KCksbz1uLmdldEJsb2NrQmVmb3JlKHIpO2lmKG8mJlwiYXRvbWljXCI9PT1vLmdldFR5cGUoKSl7dmFyIHU9bi5nZXRCbG9ja01hcCgpLmRlbGV0ZShvLmdldEtleSgpKSxzPW4ubWVyZ2Uoe2Jsb2NrTWFwOnUsc2VsZWN0aW9uQWZ0ZXI6ZX0pO2lmKHMhPT1uKXJldHVybiBpLnB1c2godCxzLFwicmVtb3ZlLXJhbmdlXCIpfXZhciBjPWEudHJ5VG9SZW1vdmVCbG9ja1N0eWxlKHQpO3JldHVybiBjP2kucHVzaCh0LGMsXCJjaGFuZ2UtYmxvY2stdHlwZVwiKTpudWxsfSxvbkRlbGV0ZTpmdW5jdGlvbih0KXt2YXIgZT10LmdldFNlbGVjdGlvbigpO2lmKCFlLmlzQ29sbGFwc2VkKCkpcmV0dXJuIG51bGw7dmFyIG49dC5nZXRDdXJyZW50Q29udGVudCgpLG89ZS5nZXRTdGFydEtleSgpLHU9bi5nZXRCbG9ja0ZvcktleShvKSxhPXUuZ2V0TGVuZ3RoKCk7aWYoZS5nZXRTdGFydE9mZnNldCgpPGEpcmV0dXJuIG51bGw7dmFyIHM9bi5nZXRCbG9ja0FmdGVyKG8pO2lmKCFzfHxcImF0b21pY1wiIT09cy5nZXRUeXBlKCkpcmV0dXJuIG51bGw7dmFyIGM9ZS5tZXJnZSh7Zm9jdXNLZXk6cy5nZXRLZXkoKSxmb2N1c09mZnNldDpzLmdldExlbmd0aCgpfSksbD1yLnJlbW92ZVJhbmdlKG4sYyxcImZvcndhcmRcIik7cmV0dXJuIGwhPT1uP2kucHVzaCh0LGwsXCJyZW1vdmUtcmFuZ2VcIik6bnVsbH0sb25UYWI6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWUuZ2V0U2VsZWN0aW9uKCksdT1yLmdldEFuY2hvcktleSgpO2lmKHUhPT1yLmdldEZvY3VzS2V5KCkpcmV0dXJuIGU7dmFyIGE9ZS5nZXRDdXJyZW50Q29udGVudCgpLHM9YS5nZXRCbG9ja0ZvcktleSh1KSxjPXMuZ2V0VHlwZSgpO2lmKFwidW5vcmRlcmVkLWxpc3QtaXRlbVwiIT09YyYmXCJvcmRlcmVkLWxpc3QtaXRlbVwiIT09YylyZXR1cm4gZTt0LnByZXZlbnREZWZhdWx0KCk7dmFyIGw9YS5nZXRCbG9ja0JlZm9yZSh1KTtpZighbClyZXR1cm4gZTt2YXIgZj1sLmdldFR5cGUoKTtpZihcInVub3JkZXJlZC1saXN0LWl0ZW1cIiE9PWYmJlwib3JkZXJlZC1saXN0LWl0ZW1cIiE9PWYpcmV0dXJuIGU7dmFyIHA9cy5nZXREZXB0aCgpO2lmKCF0LnNoaWZ0S2V5JiZwPT09bilyZXR1cm4gZTtuPU1hdGgubWluKGwuZ2V0RGVwdGgoKSsxLG4pO3ZhciBoPW8oYSxyLHQuc2hpZnRLZXk/LTE6MSxuKTtyZXR1cm4gaS5wdXNoKGUsaCxcImFkanVzdC1kZXB0aFwiKX0sdG9nZ2xlQmxvY2tUeXBlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRTZWxlY3Rpb24oKSxvPW4uZ2V0U3RhcnRLZXkoKSxhPW4uZ2V0RW5kS2V5KCkscz10LmdldEN1cnJlbnRDb250ZW50KCksYz1uO2lmKG8hPT1hJiYwPT09bi5nZXRFbmRPZmZzZXQoKSl7dmFyIGw9dShzLmdldEJsb2NrQmVmb3JlKGEpKTthPWwuZ2V0S2V5KCksYz1jLm1lcmdlKHthbmNob3JLZXk6byxhbmNob3JPZmZzZXQ6bi5nZXRTdGFydE9mZnNldCgpLGZvY3VzS2V5OmEsZm9jdXNPZmZzZXQ6bC5nZXRMZW5ndGgoKSxpc0JhY2t3YXJkOiExfSl9aWYocy5nZXRCbG9ja01hcCgpLnNraXBXaGlsZShmdW5jdGlvbih0LGUpe3JldHVybiBlIT09b30pLnJldmVyc2UoKS5za2lwV2hpbGUoZnVuY3Rpb24odCxlKXtyZXR1cm4gZSE9PWF9KS5zb21lKGZ1bmN0aW9uKHQpe3JldHVyblwiYXRvbWljXCI9PT10LmdldFR5cGUoKX0pKXJldHVybiB0O3ZhciBmPXMuZ2V0QmxvY2tGb3JLZXkobykuZ2V0VHlwZSgpPT09ZT9cInVuc3R5bGVkXCI6ZTtyZXR1cm4gaS5wdXNoKHQsci5zZXRCbG9ja1R5cGUocyxjLGYpLFwiY2hhbmdlLWJsb2NrLXR5cGVcIil9LHRvZ2dsZUNvZGU6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRTZWxlY3Rpb24oKSxuPWUuZ2V0QW5jaG9yS2V5KCkscj1lLmdldEZvY3VzS2V5KCk7cmV0dXJuIGUuaXNDb2xsYXBzZWQoKXx8biE9PXI/YS50b2dnbGVCbG9ja1R5cGUodCxcImNvZGUtYmxvY2tcIik6YS50b2dnbGVJbmxpbmVTdHlsZSh0LFwiQ09ERVwiKX0sdG9nZ2xlSW5saW5lU3R5bGU6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldFNlbGVjdGlvbigpLG89dC5nZXRDdXJyZW50SW5saW5lU3R5bGUoKTtpZihuLmlzQ29sbGFwc2VkKCkpcmV0dXJuIGkuc2V0SW5saW5lU3R5bGVPdmVycmlkZSh0LG8uaGFzKGUpP28ucmVtb3ZlKGUpOm8uYWRkKGUpKTt2YXIgdSxhPXQuZ2V0Q3VycmVudENvbnRlbnQoKTtyZXR1cm4gdT1vLmhhcyhlKT9yLnJlbW92ZUlubGluZVN0eWxlKGEsbixlKTpyLmFwcGx5SW5saW5lU3R5bGUoYSxuLGUpLGkucHVzaCh0LHUsXCJjaGFuZ2UtaW5saW5lLXN0eWxlXCIpfSx0b2dnbGVMaW5rOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1yLmFwcGx5RW50aXR5KHQuZ2V0Q3VycmVudENvbnRlbnQoKSxlLG4pO3JldHVybiBpLnB1c2godCxvLFwiYXBwbHktZW50aXR5XCIpfSx0cnlUb1JlbW92ZUJsb2NrU3R5bGU6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRTZWxlY3Rpb24oKSxuPWUuZ2V0QW5jaG9yT2Zmc2V0KCk7aWYoZS5pc0NvbGxhcHNlZCgpJiYwPT09bil7dmFyIGk9ZS5nZXRBbmNob3JLZXkoKSxvPXQuZ2V0Q3VycmVudENvbnRlbnQoKSx1PW8uZ2V0QmxvY2tGb3JLZXkoaSksYT1vLmdldEZpcnN0QmxvY2soKTtpZih1LmdldExlbmd0aCgpPjAmJnUhPT1hKXJldHVybiBudWxsO3ZhciBzPXUuZ2V0VHlwZSgpLGM9by5nZXRCbG9ja0JlZm9yZShpKTtpZihcImNvZGUtYmxvY2tcIj09PXMmJmMmJlwiY29kZS1ibG9ja1wiPT09Yy5nZXRUeXBlKCkmJjAhPT1jLmdldExlbmd0aCgpKXJldHVybiBudWxsO2lmKFwidW5zdHlsZWRcIiE9PXMpcmV0dXJuIHIuc2V0QmxvY2tUeXBlKG8sZSxcInVuc3R5bGVkXCIpfXJldHVybiBudWxsfX07dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj17c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe3JldHVyblwiX1wiK1N0cmluZyh0KX0sdW5zdHJpbmdpZnk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuc2xpY2UoMSl9fTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz17ZGVmYXVsdDpuKDI3MyksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMwKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4saSl7dHJ5e3JldHVybiBpP2UocihuKVswXSxuWzFdKTplKG4pfWNhdGNoKGUpe3ZhciBvPXQucmV0dXJuO3Rocm93IHZvaWQgMCE9PW8mJnIoby5jYWxsKHQpKSxlfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQzKSxpPW4oNikoXCJpdGVyYXRvclwiKSxvPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXQmJihyLkFycmF5PT09dHx8b1tpXT09PXQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjkpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpIGluIGUpbiYmdFtpXT90W2ldPWVbaV06cih0LGksZVtpXSk7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixyKXtpZighKHQgaW5zdGFuY2VvZiBlKXx8dm9pZCAwIT09ciYmciBpbiB0KXRocm93IFR5cGVFcnJvcihuK1wiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiFcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIXIodCl8fHQuX3QhPT1lKXRocm93IFR5cGVFcnJvcihcIkluY29tcGF0aWJsZSByZWNlaXZlciwgXCIrZStcIiByZXF1aXJlZCFcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPXtkZWZhdWx0Om4oMzAzKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPW4oMzI2KTtPYmplY3Qua2V5cyhyKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByW3RdfX0pfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1uKDMyOCk7T2JqZWN0LmtleXMocikuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gclt0XX19KX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXt0aGlzLnRva2Vucz1bXSx0aGlzLnRva2Vucy5saW5rcz17fSx0aGlzLm9wdGlvbnM9bCh7fSx0fHxwKSx0aGlzLnJ1bGVzPWgubm9ybWFsLHRoaXMub3B0aW9ucy5nZm0mJih0aGlzLnJ1bGVzPWguZ2ZtKX1mdW5jdGlvbiBpKHQsZSl7aWYodGhpcy5vcHRpb25zPWwoe30sZXx8cCksdGhpcy5saW5rcz10LHRoaXMucnVsZXM9ZC5ub3JtYWwsdGhpcy5yZW5kZXJlcj10aGlzLm9wdGlvbnMucmVuZGVyZXJ8fG5ldyBvLHRoaXMucmVuZGVyZXIub3B0aW9ucz10aGlzLm9wdGlvbnMsIXRoaXMubGlua3MpdGhyb3cgbmV3IEVycm9yKFwiVG9rZW5zIGFycmF5IHJlcXVpcmVzIGEgYGxpbmtzYCBwcm9wZXJ0eS5cIik7dGhpcy5vcHRpb25zLmdmbT90aGlzLm9wdGlvbnMuYnJlYWtzP3RoaXMucnVsZXM9ZC5icmVha3M6dGhpcy5ydWxlcz1kLmdmbTp0aGlzLm9wdGlvbnMucGVkYW50aWMmJih0aGlzLnJ1bGVzPWQucGVkYW50aWMpfWZ1bmN0aW9uIG8odCl7dGhpcy5vcHRpb25zPXR8fHt9fWZ1bmN0aW9uIHUodCl7dGhpcy50b2tlbnM9W10sdGhpcy50b2tlbj1udWxsLHRoaXMub3B0aW9ucz1sKHt9LHR8fHApLHRoaXMub3B0aW9ucy5yZW5kZXJlcj10aGlzLm9wdGlvbnMucmVuZGVyZXJ8fG5ldyBvLHRoaXMucmVuZGVyZXI9dGhpcy5vcHRpb25zLnJlbmRlcmVyLHRoaXMucmVuZGVyZXIub3B0aW9ucz10aGlzLm9wdGlvbnN9ZnVuY3Rpb24gYSh0LGUpe3JldHVybiB0PXQuc291cmNlLGU9ZXx8XCJcIixmdW5jdGlvbiBuKHIsaSl7cmV0dXJuIHI/KGk9aS5zb3VyY2V8fGksaT1pLnJlcGxhY2UoLyhefFteXFxbXSlcXF4vZyxcIiQxXCIpLHQ9dC5yZXBsYWNlKHIsaSksbik6bmV3IFJlZ0V4cCh0LGUpfX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1uKDE0NCksYz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGw9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgciBpbiBuKWMuY2FsbChuLHIpJiYodFtyXT1uW3JdKX1yZXR1cm4gdH0sZj1mdW5jdGlvbigpe307Zi5leGVjPWY7dmFyIHA9e2dmbTohMCxicmVha3M6ITEscGVkYW50aWM6ITEsc21hcnRMaXN0czohMSxzaWxlbnQ6ITEsbGFuZ1ByZWZpeDpcImxhbmctXCIscmVuZGVyZXI6bmV3IG8seGh0bWw6ITF9LGg9e25ld2xpbmU6L15cXG4rLyxjb2RlOi9eKCB7NH1bXlxcbl0rXFxuKikrLyxmZW5jZXM6ZixocjovXiggKlstKl9dKXszLH0gKig/Olxcbit8JCkvLGhlYWRpbmc6L14gKigjezEsNn0pICooW15cXG5dKz8pICojKiAqKD86XFxuK3wkKS8sbnB0YWJsZTpmLGxoZWFkaW5nOi9eKFteXFxuXSspXFxuICooPXwtKXsyLH0gKig/Olxcbit8JCkvLGJsb2NrcXVvdGU6L14oICo+W15cXG5dKyhcXG4oPyFkZWYpW15cXG5dKykqXFxuKikrLyxsaXN0Oi9eKCAqKShidWxsKSBbXFxzXFxTXSs/KD86aHJ8ZGVmfFxcbnsyLH0oPyEgKSg/IVxcMWJ1bGwgKVxcbip8XFxzKiQpLyxkZWY6L14gKlxcWyhbXlxcXV0rKVxcXTogKjw/KFteXFxzPl0rKT4/KD86ICtbXCIoXShbXlxcbl0rKVtcIildKT8gKig/Olxcbit8JCkvLHBhcmFncmFwaDovXigoPzpbXlxcbl0rXFxuPyg/IWhyfGhlYWRpbmd8bGhlYWRpbmd8YmxvY2txdW90ZXxkZWYpKSspXFxuKi8sdGV4dDovXlteXFxuXSsvfTtoLmJ1bGxldD0vKD86WyorLV18XFxkK1xcLikvLGguaXRlbT0vXiggKikoYnVsbCkgW15cXG5dKig/Olxcbig/IVxcMWJ1bGwgKVteXFxuXSopKi8saC5pdGVtPWEoaC5pdGVtLFwiZ21cIikoL2J1bGwvZyxoLmJ1bGxldCkoKSxoLmxpc3Q9YShoLmxpc3QpKC9idWxsL2csaC5idWxsZXQpKFwiaHJcIixcIlxcXFxuKyg/PVxcXFwxPyg/OlstKl9dICopezMsfSg/OlxcXFxuK3wkKSlcIikoXCJkZWZcIixcIlxcXFxuKyg/PVwiK2guZGVmLnNvdXJjZStcIilcIikoKSxoLmJsb2NrcXVvdGU9YShoLmJsb2NrcXVvdGUpKFwiZGVmXCIsaC5kZWYpKCksaC5wYXJhZ3JhcGg9YShoLnBhcmFncmFwaCkoXCJoclwiLGguaHIpKFwiaGVhZGluZ1wiLGguaGVhZGluZykoXCJsaGVhZGluZ1wiLGgubGhlYWRpbmcpKFwiYmxvY2txdW90ZVwiLGguYmxvY2txdW90ZSkoXCJkZWZcIixoLmRlZikoKSxoLm5vcm1hbD1sKHt9LGgpLGguZ2ZtPWwoe30saC5ub3JtYWwse2ZlbmNlczovXiAqKGB7Myx9fH57Myx9KVsgXFwuXSooXFxTKyk/ICpcXG4oW1xcc1xcU10rPylcXHMqXFwxICooPzpcXG4rfCQpLyxwYXJhZ3JhcGg6L14vLGhlYWRpbmc6L14gKigjezEsNn0pICsoW15cXG5dKz8pICojKiAqKD86XFxuK3wkKS99KSxoLmdmbS5wYXJhZ3JhcGg9YShoLnBhcmFncmFwaCkoXCIoPyFcIixcIig/IVwiK2guZ2ZtLmZlbmNlcy5zb3VyY2UucmVwbGFjZShcIlxcXFwxXCIsXCJcXFxcMlwiKStcInxcIitoLmxpc3Quc291cmNlLnJlcGxhY2UoXCJcXFxcMVwiLFwiXFxcXDNcIikrXCJ8XCIpKCksci5ydWxlcz1oLHIucGFyc2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHIoZSkucGFyc2UodCl9LHIucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQpe3JldHVybiB0PXQucmVwbGFjZSgvXFxyXFxufFxcci9nLFwiXFxuXCIpLnJlcGxhY2UoL1xcdC9nLFwiICAgIFwiKS5yZXBsYWNlKC9cXHUwMGEwL2csXCIgXCIpLnJlcGxhY2UoL1xcdTI0MjQvZyxcIlxcblwiKSx0aGlzLnRva2VuKHQsITApfSxyLnByb3RvdHlwZS50b2tlbj1mdW5jdGlvbih0LGUsbil7dmFyIHIsaSxvLHUsYSxzLGMsbCxmO2Zvcih0PXQucmVwbGFjZSgvXiArJC9nbSxcIlwiKTt0OylpZigobz10aGlzLnJ1bGVzLm5ld2xpbmUuZXhlYyh0KSkmJih0PXQuc3Vic3RyaW5nKG9bMF0ubGVuZ3RoKSxvWzBdLmxlbmd0aD4xJiZ0aGlzLnRva2Vucy5wdXNoKHt0eXBlOlwic3BhY2VcIn0pKSxvPXRoaXMucnVsZXMuY29kZS5leGVjKHQpKXQ9dC5zdWJzdHJpbmcob1swXS5sZW5ndGgpLG89b1swXS5yZXBsYWNlKC9eIHs0fS9nbSxcIlwiKSx0aGlzLnRva2Vucy5wdXNoKHt0eXBlOlwiY29kZVwiLHRleHQ6dGhpcy5vcHRpb25zLnBlZGFudGljP286by5yZXBsYWNlKC9cXG4rJC8sXCJcIil9KTtlbHNlIGlmKG89dGhpcy5ydWxlcy5mZW5jZXMuZXhlYyh0KSl0PXQuc3Vic3RyaW5nKG9bMF0ubGVuZ3RoKSx0aGlzLnRva2Vucy5wdXNoKHt0eXBlOlwiY29kZVwiLGxhbmc6b1syXSx0ZXh0Om9bM119KTtlbHNlIGlmKG89dGhpcy5ydWxlcy5oZWFkaW5nLmV4ZWModCkpdD10LnN1YnN0cmluZyhvWzBdLmxlbmd0aCksdGhpcy50b2tlbnMucHVzaCh7dHlwZTpcImhlYWRpbmdcIixkZXB0aDpvWzFdLmxlbmd0aCx0ZXh0Om9bMl19KTtlbHNlIGlmKG89dGhpcy5ydWxlcy5saGVhZGluZy5leGVjKHQpKXQ9dC5zdWJzdHJpbmcob1swXS5sZW5ndGgpLHRoaXMudG9rZW5zLnB1c2goe3R5cGU6XCJoZWFkaW5nXCIsZGVwdGg6XCI9XCI9PT1vWzJdPzE6Mix0ZXh0Om9bMV19KTtlbHNlIGlmKG89dGhpcy5ydWxlcy5oci5leGVjKHQpKXQ9dC5zdWJzdHJpbmcob1swXS5sZW5ndGgpLHRoaXMudG9rZW5zLnB1c2goe3R5cGU6XCJoclwifSk7ZWxzZSBpZihvPXRoaXMucnVsZXMuYmxvY2txdW90ZS5leGVjKHQpKXQ9dC5zdWJzdHJpbmcob1swXS5sZW5ndGgpLHRoaXMudG9rZW5zLnB1c2goe3R5cGU6XCJibG9ja3F1b3RlX3N0YXJ0XCJ9KSxvPW9bMF0ucmVwbGFjZSgvXiAqPiA/L2dtLFwiXCIpLHRoaXMudG9rZW4obyxlLCEwKSx0aGlzLnRva2Vucy5wdXNoKHt0eXBlOlwiYmxvY2txdW90ZV9lbmRcIn0pO2Vsc2UgaWYobz10aGlzLnJ1bGVzLmxpc3QuZXhlYyh0KSl7Zm9yKHQ9dC5zdWJzdHJpbmcob1swXS5sZW5ndGgpLHU9b1syXSx0aGlzLnRva2Vucy5wdXNoKHt0eXBlOlwibGlzdF9zdGFydFwiLG9yZGVyZWQ6dS5sZW5ndGg+MX0pLG89b1swXS5tYXRjaCh0aGlzLnJ1bGVzLml0ZW0pLHI9ITEsZj1vLmxlbmd0aCxsPTA7bDxmO2wrKylzPW9bbF0sYz1zLmxlbmd0aCxzPXMucmVwbGFjZSgvXiAqKFsqKy1dfFxcZCtcXC4pICsvLFwiXCIpLH5zLmluZGV4T2YoXCJcXG4gXCIpJiYoYy09cy5sZW5ndGgscz10aGlzLm9wdGlvbnMucGVkYW50aWM/cy5yZXBsYWNlKC9eIHsxLDR9L2dtLFwiXCIpOnMucmVwbGFjZShuZXcgUmVnRXhwKFwiXiB7MSxcIitjK1wifVwiLFwiZ21cIiksXCJcIikpLHRoaXMub3B0aW9ucy5zbWFydExpc3RzJiZsIT09Zi0xJiYoYT1oLmJ1bGxldC5leGVjKG9bbCsxXSlbMF0sdT09PWF8fHUubGVuZ3RoPjEmJmEubGVuZ3RoPjF8fCh0PW8uc2xpY2UobCsxKS5qb2luKFwiXFxuXCIpK3QsbD1mLTEpKSxpPXJ8fC9cXG5cXG4oPyFcXHMqJCkvLnRlc3QocyksbCE9PWYtMSYmKHI9XCJcXG5cIj09PXMuY2hhckF0KHMubGVuZ3RoLTEpLGl8fChpPXIpKSx0aGlzLnRva2Vucy5wdXNoKHt0eXBlOmk/XCJsb29zZV9pdGVtX3N0YXJ0XCI6XCJsaXN0X2l0ZW1fc3RhcnRcIn0pLHRoaXMudG9rZW4ocywhMSxuKSx0aGlzLnRva2Vucy5wdXNoKHt0eXBlOlwibGlzdF9pdGVtX2VuZFwifSk7dGhpcy50b2tlbnMucHVzaCh7dHlwZTpcImxpc3RfZW5kXCJ9KX1lbHNlIGlmKCFuJiZlJiYobz10aGlzLnJ1bGVzLmRlZi5leGVjKHQpKSl0PXQuc3Vic3RyaW5nKG9bMF0ubGVuZ3RoKSx0aGlzLnRva2Vucy5saW5rc1tvWzFdLnRvTG93ZXJDYXNlKCldPXtocmVmOm9bMl0sdGl0bGU6b1szXX07ZWxzZSBpZihlJiYobz10aGlzLnJ1bGVzLnBhcmFncmFwaC5leGVjKHQpKSl0PXQuc3Vic3RyaW5nKG9bMF0ubGVuZ3RoKSx0aGlzLnRva2Vucy5wdXNoKHt0eXBlOlwicGFyYWdyYXBoXCIsdGV4dDpcIlxcblwiPT09b1sxXS5jaGFyQXQob1sxXS5sZW5ndGgtMSk/b1sxXS5zbGljZSgwLC0xKTpvWzFdfSk7ZWxzZSBpZihvPXRoaXMucnVsZXMudGV4dC5leGVjKHQpKXQ9dC5zdWJzdHJpbmcob1swXS5sZW5ndGgpLHRoaXMudG9rZW5zLnB1c2goe3R5cGU6XCJ0ZXh0XCIsdGV4dDpvWzBdfSk7ZWxzZSBpZih0KXRocm93IG5ldyBFcnJvcihcIkluZmluaXRlIGxvb3Agb24gYnl0ZTogXCIrdC5jaGFyQ29kZUF0KDApKTtyZXR1cm4gdGhpcy50b2tlbnN9O3ZhciBkPXtlc2NhcGU6L15cXFxcKFtcXFxcYCp7fVxcW1xcXSgpIytcXC0uIV8+XSkvLGxpbms6L14hP1xcWyhpbnNpZGUpXFxdXFwoaHJlZlxcKS8scmVmbGluazovXiE/XFxbKGluc2lkZSlcXF1cXHMqXFxbKFteXFxdXSopXFxdLyxub2xpbms6L14hP1xcWygoPzpcXFtbXlxcXV0qXFxdfFteXFxbXFxdXSkqKVxcXS8sc3Ryb25nOi9eX18oW1xcc1xcU10rPylfXyg/IV8pfF5cXCpcXCooW1xcc1xcU10rPylcXCpcXCooPyFcXCopLyxlbTovXlxcYl8oKD86X198W1xcc1xcU10pKz8pX1xcYnxeXFwqKCg/OlxcKlxcKnxbXFxzXFxTXSkrPylcXCooPyFcXCopLyxjb2RlOi9eKGArKVxccyooW1xcc1xcU10qP1teYF0pXFxzKlxcMSg/IWApLyxicjovXiB7Mix9XFxuKD8hXFxzKiQpLyxkZWw6ZixpbnM6Zix0ZXh0Oi9eW1xcc1xcU10rPyg/PVtcXFxcPCFcXFtfKmBdfCB7Mix9XFxufCQpL307ZC5faW5zaWRlPS8oPzpcXFtbXlxcXV0qXFxdfFteXFxbXFxdXXxcXF0oPz1bXlxcW10qXFxdKSkqLyxkLl9ocmVmPS9cXHMqPD8oW1xcc1xcU10qPyk+Pyg/OlxccytbJ1wiXShbXFxzXFxTXSo/KVsnXCJdKT9cXHMqLyxkLmxpbms9YShkLmxpbmspKFwiaW5zaWRlXCIsZC5faW5zaWRlKShcImhyZWZcIixkLl9ocmVmKSgpLGQucmVmbGluaz1hKGQucmVmbGluaykoXCJpbnNpZGVcIixkLl9pbnNpZGUpKCksZC5ub3JtYWw9bCh7fSxkKSxkLnBlZGFudGljPWwoe30sZC5ub3JtYWwse3N0cm9uZzovXl9fKD89XFxTKShbXFxzXFxTXSo/XFxTKV9fKD8hXyl8XlxcKlxcKig/PVxcUykoW1xcc1xcU10qP1xcUylcXCpcXCooPyFcXCopLyxlbTovXl8oPz1cXFMpKFtcXHNcXFNdKj9cXFMpXyg/IV8pfF5cXCooPz1cXFMpKFtcXHNcXFNdKj9cXFMpXFwqKD8hXFwqKS99KSxkLmdmbT1sKHt9LGQubm9ybWFsLHtlc2NhcGU6YShkLmVzY2FwZSkoXCJdKVwiLFwifnxdKVwiKSgpLGRlbDovXn5+KD89XFxTKShbXFxzXFxTXSo/XFxTKX5+LyxpbnM6L15cXCtcXCsoPz1cXFMpKFtcXHNcXFNdKj9cXFMpXFwrXFwrLyx0ZXh0OmEoZC50ZXh0KShcIl18XCIsXCJ+K118XCIpKCl9KSxkLmJyZWFrcz1sKHt9LGQuZ2ZtLHticjphKGQuYnIpKFwiezIsfVwiLFwiKlwiKSgpLHRleHQ6YShkLmdmbS50ZXh0KShcInsyLH1cIixcIipcIikoKX0pLGkucnVsZXM9ZCxpLnBhcnNlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IGkoZSxuKS5wYXJzZSh0KX0saS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG4scj1uZXcgcy5GcmFnbWVudE5vZGU7dDspaWYobj10aGlzLnJ1bGVzLmVzY2FwZS5leGVjKHQpKXQ9dC5zdWJzdHJpbmcoblswXS5sZW5ndGgpLHIuYXBwZW5kQ2hpbGQobmV3IHMuVGV4dE5vZGUoblsxXSkpO2Vsc2UgaWYobj10aGlzLnJ1bGVzLmxpbmsuZXhlYyh0KSl0PXQuc3Vic3RyaW5nKG5bMF0ubGVuZ3RoKSx0aGlzLmluTGluaz0hMCxyLmFwcGVuZENoaWxkKHRoaXMub3V0cHV0TGluayhuLHtocmVmOm5bMl0sdGl0bGU6blszXX0pKSx0aGlzLmluTGluaz0hMTtlbHNlIGlmKChuPXRoaXMucnVsZXMucmVmbGluay5leGVjKHQpKXx8KG49dGhpcy5ydWxlcy5ub2xpbmsuZXhlYyh0KSkpe2lmKHQ9dC5zdWJzdHJpbmcoblswXS5sZW5ndGgpLGU9KG5bMl18fG5bMV0pLnJlcGxhY2UoL1xccysvZyxcIiBcIiksIShlPXRoaXMubGlua3NbZS50b0xvd2VyQ2FzZSgpXSl8fCFlLmhyZWYpe3IuYXBwZW5kQ2hpbGQobmV3IHMuVGV4dE5vZGUoblswXS5jaGFyQXQoMCkpKSx0PW5bMF0uc3Vic3RyaW5nKDEpK3Q7Y29udGludWV9dGhpcy5pbkxpbms9ITAsci5hcHBlbmRDaGlsZCh0aGlzLm91dHB1dExpbmsobixlKSksdGhpcy5pbkxpbms9ITF9ZWxzZSBpZihuPXRoaXMucnVsZXMuc3Ryb25nLmV4ZWModCkpdD10LnN1YnN0cmluZyhuWzBdLmxlbmd0aCksci5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLnN0cm9uZyh0aGlzLnBhcnNlKG5bMl18fG5bMV0pKSk7ZWxzZSBpZihuPXRoaXMucnVsZXMuZW0uZXhlYyh0KSl0PXQuc3Vic3RyaW5nKG5bMF0ubGVuZ3RoKSxyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZW0odGhpcy5wYXJzZShuWzJdfHxuWzFdKSkpO2Vsc2UgaWYobj10aGlzLnJ1bGVzLmNvZGUuZXhlYyh0KSl0PXQuc3Vic3RyaW5nKG5bMF0ubGVuZ3RoKSxyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuY29kZXNwYW4oblsyXSkpO2Vsc2UgaWYobj10aGlzLnJ1bGVzLmJyLmV4ZWModCkpdD10LnN1YnN0cmluZyhuWzBdLmxlbmd0aCksci5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmJyKCkpO2Vsc2UgaWYobj10aGlzLnJ1bGVzLmRlbC5leGVjKHQpKXQ9dC5zdWJzdHJpbmcoblswXS5sZW5ndGgpLHIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kZWwodGhpcy5wYXJzZShuWzFdKSkpO2Vsc2UgaWYobj10aGlzLnJ1bGVzLmlucy5leGVjKHQpKXQ9dC5zdWJzdHJpbmcoblswXS5sZW5ndGgpLHIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5pbnModGhpcy5wYXJzZShuWzFdKSkpO2Vsc2UgaWYobj10aGlzLnJ1bGVzLnRleHQuZXhlYyh0KSl0PXQuc3Vic3RyaW5nKG5bMF0ubGVuZ3RoKSxyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIudGV4dChuZXcgcy5UZXh0Tm9kZShuWzBdKSkpO2Vsc2UgaWYodCl0aHJvdyBuZXcgRXJyb3IoXCJJbmZpbml0ZSBsb29wIG9uIGJ5dGU6IFwiK3QuY2hhckNvZGVBdCgwKSk7cmV0dXJuIHJ9LGkucHJvdG90eXBlLm91dHB1dExpbms9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmhyZWYscj1lLnRpdGxlO3JldHVyblwiIVwiIT09dFswXS5jaGFyQXQoMCk/dGhpcy5yZW5kZXJlci5saW5rKG4scix0aGlzLnBhcnNlKHRbMV0pKTp0aGlzLnJlbmRlcmVyLmltYWdlKG4scix0WzFdKX0sby5wcm90b3R5cGUuY29kZT1mdW5jdGlvbih0LGUpe3ZhciBuPVtdO2UmJm4ucHVzaCh7bmFtZTpcImNsYXNzXCIsdmFsdWU6dGhpcy5vcHRpb25zLmxhbmdQcmVmaXgrZX0pO3ZhciByPW5ldyBzLkVsZW1lbnROb2RlKFwiY29kZVwiLG4sW3RdKTtyZXR1cm4gbmV3IHMuRWxlbWVudE5vZGUoXCJwcmVcIixbXSxbcl0pfSxvLnByb3RvdHlwZS5ibG9ja3F1b3RlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcy5FbGVtZW50Tm9kZShcImJsb2NrcXVvdGVcIixbXSxbdF0pfSxvLnByb3RvdHlwZS5oZWFkaW5nPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBzLkVsZW1lbnROb2RlKFwiaFwiK2UsW10sW3RdKX0sby5wcm90b3R5cGUuaHI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHMuRWxlbWVudE5vZGUoXCJoclwiLFtdLHMuU0VMRl9DTE9TSU5HKX0sby5wcm90b3R5cGUubGlzdD1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgcy5FbGVtZW50Tm9kZShlP1wib2xcIjpcInVsXCIsW10sW3RdKX0sby5wcm90b3R5cGUubGlzdGl0ZW09ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBzLkVsZW1lbnROb2RlKFwibGlcIixbXSxbdF0pfSxvLnByb3RvdHlwZS5wYXJhZ3JhcGg9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBzLkVsZW1lbnROb2RlKFwicFwiLFtdLFt0XSl9LG8ucHJvdG90eXBlLnN0cm9uZz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHMuRWxlbWVudE5vZGUoXCJzdHJvbmdcIixbXSxbdF0pfSxvLnByb3RvdHlwZS5lbT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHMuRWxlbWVudE5vZGUoXCJlbVwiLFtdLFt0XSl9LG8ucHJvdG90eXBlLmNvZGVzcGFuPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcy5FbGVtZW50Tm9kZShcImNvZGVcIixbXSxbbmV3IHMuVGV4dE5vZGUodCldKX0sby5wcm90b3R5cGUuYnI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHMuRWxlbWVudE5vZGUoXCJiclwiLFtdLHMuU0VMRl9DTE9TSU5HKX0sby5wcm90b3R5cGUuZGVsPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcy5FbGVtZW50Tm9kZShcImRlbFwiLFtdLFt0XSl9LG8ucHJvdG90eXBlLmlucz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHMuRWxlbWVudE5vZGUoXCJpbnNcIixbXSxbdF0pfSxvLnByb3RvdHlwZS5saW5rPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1be25hbWU6XCJocmVmXCIsdmFsdWU6dH1dO3JldHVybiBlJiZyLnB1c2goe25hbWU6XCJ0aXRsZVwiLHZhbHVlOmV9KSxuZXcgcy5FbGVtZW50Tm9kZShcImFcIixyLFtuXSl9LG8ucHJvdG90eXBlLmltYWdlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1be25hbWU6XCJzcmNcIix2YWx1ZTp0fV07cmV0dXJuIGUmJnIucHVzaCh7bmFtZTpcInRpdGxlXCIsdmFsdWU6ZX0pLG4mJnIucHVzaCh7bmFtZTpcImFsdFwiLHZhbHVlOm59KSxuZXcgcy5FbGVtZW50Tm9kZShcImltZ1wiLHIscy5TRUxGX0NMT1NJTkcpfSxvLnByb3RvdHlwZS50ZXh0PWZ1bmN0aW9uKHQpe3JldHVybiB0fSx1LnBhcnNlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IHUoZSxuKS5wYXJzZSh0KX0sdS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCl7dGhpcy5pbmxpbmU9bmV3IGkodC5saW5rcyx0aGlzLm9wdGlvbnMsdGhpcy5yZW5kZXJlciksdGhpcy50b2tlbnM9dC5zbGljZSgpLnJldmVyc2UoKTtmb3IodmFyIGU9bmV3IHMuRnJhZ21lbnROb2RlO3RoaXMubmV4dCgpOyllLmFwcGVuZENoaWxkKHRoaXMudG9rKCkpO3JldHVybiBlfSx1LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9rZW49dGhpcy50b2tlbnMucG9wKCl9LHUucHJvdG90eXBlLnBlZWs9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2tlbnNbdGhpcy50b2tlbnMubGVuZ3RoLTFdfHwwfSx1LnByb3RvdHlwZS5wYXJzZVRleHQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy50b2tlbi50ZXh0O1widGV4dFwiPT09dGhpcy5wZWVrKCkudHlwZTspdCs9XCJcXG5cIit0aGlzLm5leHQoKS50ZXh0O3JldHVybiB0aGlzLmlubGluZS5wYXJzZSh0KX0sdS5wcm90b3R5cGUudG9rPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMudG9rZW4udHlwZSl7Y2FzZVwic3BhY2VcIjpyZXR1cm4gbmV3IHMuVGV4dE5vZGUoXCJcIik7Y2FzZVwiaHJcIjpyZXR1cm4gdGhpcy5yZW5kZXJlci5ocigpO2Nhc2VcImhlYWRpbmdcIjpyZXR1cm4gdGhpcy5yZW5kZXJlci5oZWFkaW5nKHRoaXMuaW5saW5lLnBhcnNlKHRoaXMudG9rZW4udGV4dCksdGhpcy50b2tlbi5kZXB0aCk7Y2FzZVwiY29kZVwiOnJldHVybiB0aGlzLnJlbmRlcmVyLmNvZGUodGhpcy50b2tlbi50ZXh0LHRoaXMudG9rZW4ubGFuZyk7Y2FzZVwiYmxvY2txdW90ZV9zdGFydFwiOmZvcih2YXIgdD1uZXcgcy5GcmFnbWVudE5vZGU7XCJibG9ja3F1b3RlX2VuZFwiIT09dGhpcy5uZXh0KCkudHlwZTspdC5hcHBlbmRDaGlsZCh0aGlzLnRvaygpKTtyZXR1cm4gdGhpcy5yZW5kZXJlci5ibG9ja3F1b3RlKHQpO2Nhc2VcImxpc3Rfc3RhcnRcIjpmb3IodmFyIGU9bmV3IHMuRnJhZ21lbnROb2RlLG49dGhpcy50b2tlbi5vcmRlcmVkO1wibGlzdF9lbmRcIiE9PXRoaXMubmV4dCgpLnR5cGU7KWUuYXBwZW5kQ2hpbGQodGhpcy50b2soKSk7cmV0dXJuIHRoaXMucmVuZGVyZXIubGlzdChlLG4pO2Nhc2VcImxpc3RfaXRlbV9zdGFydFwiOmZvcih2YXIgcj1uZXcgcy5GcmFnbWVudE5vZGU7XCJsaXN0X2l0ZW1fZW5kXCIhPT10aGlzLm5leHQoKS50eXBlOylyLmFwcGVuZENoaWxkKFwidGV4dFwiPT09dGhpcy50b2tlbi50eXBlP3RoaXMucGFyc2VUZXh0KCk6dGhpcy50b2soKSk7cmV0dXJuIHRoaXMucmVuZGVyZXIubGlzdGl0ZW0ocik7Y2FzZVwibG9vc2VfaXRlbV9zdGFydFwiOmZvcih2YXIgaT1uZXcgcy5GcmFnbWVudE5vZGU7XCJsaXN0X2l0ZW1fZW5kXCIhPT10aGlzLm5leHQoKS50eXBlOylpLmFwcGVuZENoaWxkKHRoaXMudG9rKCkpO3JldHVybiB0aGlzLnJlbmRlcmVyLmxpc3RpdGVtKGkpO2Nhc2VcInBhcmFncmFwaFwiOnJldHVybiB0aGlzLnJlbmRlcmVyLnBhcmFncmFwaCh0aGlzLmlubGluZS5wYXJzZSh0aGlzLnRva2VuLnRleHQpKTtjYXNlXCJ0ZXh0XCI6cmV0dXJuIHRoaXMucmVuZGVyZXIucGFyYWdyYXBoKHRoaXMucGFyc2VUZXh0KCkpfX07dmFyIHk9e3BhcnNlOmZ1bmN0aW9uKHQsZSl7ZT1sKHt9LHAsZSk7dHJ5e3ZhciBuPXUucGFyc2Uoci5wYXJzZSh0LGUpLGUpfWNhdGNoKHQpe2lmKCFlLnNpbGVudCl0aHJvdyB0O249bmV3IHMuRnJhZ21lbnROb2RlKFtuZXcgcy5FbGVtZW50Tm9kZShcInBcIixbXSxbbmV3IHMuVGV4dE5vZGUoXCJBbiBlcnJvciBvY2N1cmVkOlwiKV0pLG5ldyBzLkVsZW1lbnROb2RlKFwicHJlXCIsW10sW25ldyBzLlRleHROb2RlKHQubWVzc2FnZSldKV0pfXJldHVybiBlLmdldEFTVD9uZXcgcy5FbGVtZW50Tm9kZShcImJvZHlcIixbXSxbbl0pOm4udG9TdHJpbmcodGhpcy5vcHRpb25zLnhodG1sKX19O2UuZGVmYXVsdD15fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUsbil7dmFyIHI9dC5nZXRDdXJyZW50Q29udGVudCgpLGk9ci5nZXRCbG9ja0ZvcktleShlKTtpZihpLmdldERlcHRoKCk9PT1uKXJldHVybiB0O3ZhciBvPWkuc2V0KFwiZGVwdGhcIixuKSx1PXIubWVyZ2Uoe2Jsb2NrTWFwOnIuZ2V0QmxvY2tNYXAoKS5zZXQoZSxvKX0pO3JldHVybiBGLkVkaXRvclN0YXRlLnB1c2godCx1LFwiYWRqdXN0LWRlcHRoXCIpfWZ1bmN0aW9uIGkodCxlLG4pe3ZhciByPXQuZ2V0Q3VycmVudENvbnRlbnQoKSxpPXIuZ2V0QmxvY2tGb3JLZXkoZSk7aWYoaS5nZXRUeXBlKCk9PT1uKXJldHVybiB0O3ZhciBvPWkuc2V0KFwidHlwZVwiLG4pLHU9ci5tZXJnZSh7YmxvY2tNYXA6ci5nZXRCbG9ja01hcCgpLnNldChlLG8pfSk7cmV0dXJuIEYuRWRpdG9yU3RhdGUucHVzaCh0LHUsXCJjaGFuZ2UtYmxvY2stdHlwZVwiKX1mdW5jdGlvbiBvKHQpe3ZhciBlPXQuZ2V0Q3VycmVudENvbnRlbnQoKSxuPWUuZ2V0QmxvY2tNYXAoKSxyPXQuZ2V0U2VsZWN0aW9uKCk7aWYoci5pc0NvbGxhcHNlZCgpKXJldHVybiBuZXcgVi5PcmRlcmVkTWFwO3ZhciBpPXIuZ2V0U3RhcnRLZXkoKSxvPXIuZ2V0RW5kS2V5KCk7cmV0dXJuIGk9PT1vP25ldyBWLk9yZGVyZWRNYXAoe3N0YXJ0S2V5OmUuZ2V0QmxvY2tGb3JLZXkoaSl9KTpuLnRha2VVbnRpbChmdW5jdGlvbih0LGUpe3JldHVybiBlPT09b30pLnNraXBVbnRpbChmdW5jdGlvbih0LGUpe3JldHVybiBlPT09aX0pfWZ1bmN0aW9uIHUodCxlLG4pe3ZhciByPXQuZ2V0Q3VycmVudENvbnRlbnQoKSxpPXIuZ2V0QmxvY2tNYXAoKSxvPWkuZ2V0KGUpLHU9aS50b1NlcSgpLnRha2VVbnRpbChmdW5jdGlvbih0KXtyZXR1cm4gdD09PW99KSxhPWkudG9TZXEoKS5za2lwVW50aWwoZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1vfSkucmVzdCgpLHM9T2JqZWN0KEYuZ2VuS2V5KSgpLGM9bmV3IEYuQ29udGVudEJsb2NrKHtrZXk6cyx0eXBlOm4sdGV4dDpcIlwiLGNoYXJhY3Rlckxpc3Q6by5nZXRDaGFyYWN0ZXJMaXN0KCkuc2xpY2UoMCwwKSxkZXB0aDowfSksbD11LmNvbmNhdChbW2Usb10sW3MsY11dLGEpLnRvT3JkZXJlZE1hcCgpLGY9dC5nZXRTZWxlY3Rpb24oKSxwPXIubWVyZ2Uoe2Jsb2NrTWFwOmwsc2VsZWN0aW9uQmVmb3JlOmYsc2VsZWN0aW9uQWZ0ZXI6Zi5tZXJnZSh7YW5jaG9yS2V5OnMsYW5jaG9yT2Zmc2V0OjAsZm9jdXNLZXk6cyxmb2N1c09mZnNldDowLGlzQmFja3dhcmQ6ITF9KX0pO3JldHVybiBGLkVkaXRvclN0YXRlLnB1c2godCxwLFwic3BsaXQtYmxvY2tcIil9ZnVuY3Rpb24gYSh0KXt2YXIgZT10LmdldFR5cGUoKTtyZXR1cm4gZT09PVEuQkxPQ0tfVFlQRS5VTk9SREVSRURfTElTVF9JVEVNfHxlPT09US5CTE9DS19UWVBFLk9SREVSRURfTElTVF9JVEVNfWZ1bmN0aW9uIHModCl7dmFyIGU9ZHQoKSh0LmNsYXNzTmFtZSx3dC5hLnJvb3QpO3JldHVybiBVLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLGsoKSh7fSx0LHtjbGFzc05hbWU6ZX0pKX1mdW5jdGlvbiBjKHQpe3ZhciBlPWR0KCkodC5jbGFzc05hbWUsanQuYS5yb290KTtyZXR1cm4gVS5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixrKCkoe30sdCx7Y2xhc3NOYW1lOmV9KSl9ZnVuY3Rpb24gbCh0LGUpe3ZhciBuPXQuZ2V0RW50aXR5QXQoZSk7aWYobnVsbD09bilyZXR1cm4gbnVsbDtmb3IodmFyIHI9ZTtyPjAmJnQuZ2V0RW50aXR5QXQoci0xKT09PW47KXItPTE7Zm9yKHZhciBpPXIsbz10LmdldExlbmd0aCgpO2k8byYmdC5nZXRFbnRpdHlBdChpKzEpPT09bjspaSs9MTtyZXR1cm57ZW50aXR5S2V5Om4sYmxvY2tLZXk6dC5nZXRLZXkoKSxzdGFydE9mZnNldDpyLGVuZE9mZnNldDppKzF9fWZ1bmN0aW9uIGYodCl7dmFyIGU9dC5nZXRTZWxlY3Rpb24oKSxuPWUuZ2V0U3RhcnRLZXkoKSxyPXQuZ2V0Q3VycmVudENvbnRlbnQoKS5nZXRCbG9ja0ZvcktleShuKSxpPWUuZ2V0U3RhcnRPZmZzZXQoKTtpZihlLmlzQ29sbGFwc2VkKCkpcmV0dXJuIGwociwwPT09aT9pOmktMSk7aWYobiE9PWUuZ2V0RW5kS2V5KCkpcmV0dXJuIG51bGw7Zm9yKHZhciBvPWUuZ2V0RW5kT2Zmc2V0KCksdT1yLmdldEVudGl0eUF0KGkpLGE9aTthPG87YSsrKXt2YXIgcz1yLmdldEVudGl0eUF0KGEpO2lmKG51bGw9PXN8fHMhPT11KXJldHVybiBudWxsfXJldHVybntlbnRpdHlLZXk6dSxibG9ja0tleTpyLmdldEtleSgpLHN0YXJ0T2Zmc2V0OmksZW5kT2Zmc2V0Om99fWZ1bmN0aW9uIHAodCxlLG4scil7dmFyIGk9dC5nZXRDdXJyZW50Q29udGVudCgpLG89aS5nZXRCbG9ja01hcCgpLHU9by5nZXQoZSksYT11LmdldENoYXJhY3Rlckxpc3QoKSxzPWEubWFwKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU+PW4mJmU8cj9GLkNoYXJhY3Rlck1ldGFkYXRhLmFwcGx5RW50aXR5KHQsbnVsbCk6dH0pLGM9dS5zZXQoXCJjaGFyYWN0ZXJMaXN0XCIscyksbD1vLnNldChlLGMpLGY9aS5zZXQoXCJibG9ja01hcFwiLGwpO3JldHVybiBGLkVkaXRvclN0YXRlLnB1c2godCxmLFwiYXBwbHktZW50aXR5XCIpfWZ1bmN0aW9uIGgodCxlLG4pe3ZhciByPXQuZ2V0Q3VycmVudENvbnRlbnQoKTtzd2l0Y2goZSl7Y2FzZVwiaHRtbFwiOnJldHVybiBPYmplY3QoJHQuc3RhdGVUb0hUTUwpKHIsbik7Y2FzZVwibWFya2Rvd25cIjpyZXR1cm4gT2JqZWN0KGVlLnN0YXRlVG9NYXJrZG93bikocik7Y2FzZVwicmF3XCI6cmV0dXJuIFh0KCkoT2JqZWN0KEYuY29udmVydFRvUmF3KShyKSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJGb3JtYXQgbm90IHN1cHBvcnRlZDogXCIrZSl9fWZ1bmN0aW9uIGQodCxlLG4pe3N3aXRjaChlKXtjYXNlXCJodG1sXCI6cmV0dXJuIE9iamVjdCh0ZS5zdGF0ZUZyb21IVE1MKSh0LG4pO2Nhc2VcIm1hcmtkb3duXCI6cmV0dXJuIE9iamVjdChuZS5zdGF0ZUZyb21NYXJrZG93bikodCxuKTtjYXNlXCJyYXdcIjpyZXR1cm4gT2JqZWN0KEYuY29udmVydEZyb21SYXcpKEpTT04ucGFyc2UodCkpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiRm9ybWF0IG5vdCBzdXBwb3J0ZWQ6IFwiK2UpfX1mdW5jdGlvbiB5KHQpe3ZhciBlPXQuY29udGVudFN0YXRlLmdldEVudGl0eSh0LmVudGl0eUtleSkuZ2V0RGF0YSgpLG49ZS51cmw7cmV0dXJuIFUuYS5jcmVhdGVFbGVtZW50KFwiYVwiLHtocmVmOm59LHQuY2hpbGRyZW4pfWZ1bmN0aW9uIGcodCxlLG4pe3QuZmluZEVudGl0eVJhbmdlcyhmdW5jdGlvbih0KXt2YXIgZT10LmdldEVudGl0eSgpO2lmKG51bGwhPWUpe3ZhciByPW4/bi5nZXRFbnRpdHkoZSk6bnVsbDtyZXR1cm4gbnVsbCE9ciYmci5nZXRUeXBlKCk9PT1RLkVOVElUWV9UWVBFLkxJTkt9cmV0dXJuITF9LGUpfWZ1bmN0aW9uIHYodCxlLG4pe3QuZmluZEVudGl0eVJhbmdlcyhmdW5jdGlvbih0KXt2YXIgZT10LmdldEVudGl0eSgpO2lmKG51bGwhPWUpe3ZhciByPW4/bi5nZXRFbnRpdHkoZSk6bnVsbDtyZXR1cm4gbnVsbCE9ciYmci5nZXRUeXBlKCk9PT1RLkVOVElUWV9UWVBFLklNQUdFfXJldHVybiExfSxlKX1mdW5jdGlvbiBfKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKGUpe3ZhciByPWUobik7aWYobnVsbCE9cilyZXR1cm4gcn1yZXR1cm4gdChuKX19ZnVuY3Rpb24gbSh0KXt2YXIgZT15ZS5hLmJsb2NrO3N3aXRjaCh0LmdldFR5cGUoKSl7Y2FzZVwidW5zdHlsZWRcIjpyZXR1cm4gZHQoKShlLHllLmEucGFyYWdyYXBoKTtjYXNlXCJibG9ja3F1b3RlXCI6cmV0dXJuIGR0KCkoZSx5ZS5hLmJsb2NrcXVvdGUpO2Nhc2VcImNvZGUtYmxvY2tcIjpyZXR1cm4gZHQoKShlLHllLmEuY29kZUJsb2NrKTtkZWZhdWx0OnJldHVybiBlfX1mdW5jdGlvbiBTKCl7cmV0dXJuIGllLmNyZWF0ZUVtcHR5KF9lKX1mdW5jdGlvbiBiKHQsZSxuKXtyZXR1cm4gaWUuY3JlYXRlRnJvbVN0cmluZyh0LGUsX2Usbil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHc9big5NyksTT1uLm4odyksRT1uKDQ4KSx4PW4ubihFKSxJPW4oMTYpLGs9bi5uKEkpLEw9big0MiksVD1uLm4oTCksRD1uKDIyKSxPPW4ubihEKSxOPW4oMTcpLEM9bi5uKE4pLGo9bigxOCksQT1uLm4oaiksej1uKDIzKSxCPW4ubih6KSxSPW4oMjQpLEs9bi5uKFIpLFA9bigzKSxVPW4ubihQKSxGPW4oMTIpLFk9big5MiksSD1uLm4oWSkscT1mdW5jdGlvbih0KXtzd2l0Y2godC5nZXREYXRhKCkuZ2V0KFwidGV4dEFsaWduXCIpKXtjYXNlXCJBTElHTl9MRUZUXCI6cmV0dXJuXCJ0ZXh0LWFsaWduLS1sZWZ0XCI7Y2FzZVwiQUxJR05fQ0VOVEVSXCI6cmV0dXJuXCJ0ZXh0LWFsaWduLS1jZW50ZXJcIjtjYXNlXCJBTElHTl9SSUdIVFwiOnJldHVyblwidGV4dC1hbGlnbi0tcmlnaHRcIjtjYXNlXCJBTElHTl9KVVNUSUZZXCI6cmV0dXJuXCJ0ZXh0LWFsaWduLS1qdXN0aWZ5XCI7ZGVmYXVsdDpyZXR1cm5cIlwifX0sVz1mdW5jdGlvbih0KXtzd2l0Y2godC5nZXREYXRhKCkuZ2V0KFwidGV4dEFsaWduXCIpKXtjYXNlXCJBTElHTl9MRUZUXCI6cmV0dXJue3N0eWxlOnt0ZXh0QWxpZ246XCJsZWZ0XCJ9fTtjYXNlXCJBTElHTl9DRU5URVJcIjpyZXR1cm57c3R5bGU6e3RleHRBbGlnbjpcImNlbnRlclwifX07Y2FzZVwiQUxJR05fUklHSFRcIjpyZXR1cm57c3R5bGU6e3RleHRBbGlnbjpcInJpZ2h0XCJ9fTtjYXNlXCJBTElHTl9KVVNUSUZZXCI6cmV0dXJue3N0eWxlOnt0ZXh0QWxpZ246XCJqdXN0aWZ5XCJ9fTtkZWZhdWx0OnJldHVybnt9fX0sRz1mdW5jdGlvbih0KXtzd2l0Y2godC5zdHlsZS50ZXh0QWxpZ24pe2Nhc2VcInJpZ2h0XCI6cmV0dXJue2RhdGE6e3RleHRBbGlnbjpcIkFMSUdOX1JJR0hUXCJ9fTtjYXNlXCJjZW50ZXJcIjpyZXR1cm57ZGF0YTp7dGV4dEFsaWduOlwiQUxJR05fQ0VOVEVSXCJ9fTtjYXNlXCJqdXN0aWZ5XCI6cmV0dXJue2RhdGE6e3RleHRBbGlnbjpcIkFMSUdOX0pVU1RJRllcIn19O2Nhc2VcImxlZnRcIjpyZXR1cm57ZGF0YTp7dGV4dEFsaWduOlwiQUxJR05fTEVGVFwifX07ZGVmYXVsdDpyZXR1cm57fX19LFY9big5MyksUT1uKDMyKSxaPW4oMjcyKSxKPW4ubihaKSxYPW4oMTM2KSwkPW4ubihYKSx0dD1uKDI3NyksZXQ9bi5uKHR0KSxudD1uKDc2KSxydD1uLm4obnQpLGl0PW4oNjUpLG90PW4oMzgpLHV0PW4ubihvdCksYXQ9W3tsYWJlbDpcIkJvbGRcIixzdHlsZTpcIkJPTERcIn0se2xhYmVsOlwiSXRhbGljXCIsc3R5bGU6XCJJVEFMSUNcIn0se2xhYmVsOlwiU3RyaWtldGhyb3VnaFwiLHN0eWxlOlwiU1RSSUtFVEhST1VHSFwifSx7bGFiZWw6XCJNb25vc3BhY2VcIixzdHlsZTpcIkNPREVcIn0se2xhYmVsOlwiVW5kZXJsaW5lXCIsc3R5bGU6XCJVTkRFUkxJTkVcIn1dLHN0PVt7bGFiZWw6XCJBbGlnbiBMZWZ0XCIsc3R5bGU6XCJBTElHTl9MRUZUXCJ9LHtsYWJlbDpcIkFsaWduIENlbnRlclwiLHN0eWxlOlwiQUxJR05fQ0VOVEVSXCJ9LHtsYWJlbDpcIkFsaWduIFJpZ2h0XCIsc3R5bGU6XCJBTElHTl9SSUdIVFwifSx7bGFiZWw6XCJBbGlnbiBKdXN0aWZ5XCIsc3R5bGU6XCJBTElHTl9KVVNUSUZZXCJ9XSxjdD1be2xhYmVsOlwiTm9ybWFsXCIsc3R5bGU6XCJ1bnN0eWxlZFwifSx7bGFiZWw6XCJIZWFkaW5nIExhcmdlXCIsc3R5bGU6XCJoZWFkZXItb25lXCJ9LHtsYWJlbDpcIkhlYWRpbmcgTWVkaXVtXCIsc3R5bGU6XCJoZWFkZXItdHdvXCJ9LHtsYWJlbDpcIkhlYWRpbmcgU21hbGxcIixzdHlsZTpcImhlYWRlci10aHJlZVwifSx7bGFiZWw6XCJDb2RlIEJsb2NrXCIsc3R5bGU6XCJjb2RlLWJsb2NrXCJ9XSxsdD1be2xhYmVsOlwiVUxcIixzdHlsZTpcInVub3JkZXJlZC1saXN0LWl0ZW1cIn0se2xhYmVsOlwiT0xcIixzdHlsZTpcIm9yZGVyZWQtbGlzdC1pdGVtXCJ9LHtsYWJlbDpcIkJsb2NrcXVvdGVcIixzdHlsZTpcImJsb2NrcXVvdGVcIn1dLGZ0PXtkaXNwbGF5OltcIklOTElORV9TVFlMRV9CVVRUT05TXCIsXCJCTE9DS19BTElHTk1FTlRfQlVUVE9OU1wiLFwiQkxPQ0tfVFlQRV9CVVRUT05TXCIsXCJMSU5LX0JVVFRPTlNcIixcIklNQUdFX0JVVFRPTlwiLFwiQkxPQ0tfVFlQRV9EUk9QRE9XTlwiLFwiSElTVE9SWV9CVVRUT05TXCJdLElOTElORV9TVFlMRV9CVVRUT05TOmF0LEJMT0NLX0FMSUdOTUVOVF9CVVRUT05TOnN0LEJMT0NLX1RZUEVfRFJPUERPV046Y3QsQkxPQ0tfVFlQRV9CVVRUT05TOmx0fSxwdD1mdCxodD1uKDI3KSxkdD1uLm4oaHQpLHl0PW4oMzMpLGd0PW4ubih5dCksdnQ9bigyOTMpLF90PW4ubih2dCksbXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe0MoKSh0aGlzLGUpO3ZhciB0PUIoKSh0aGlzLChlLl9fcHJvdG9fX3x8TygpKGUpKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpO3JldHVybiBndCgpKHQpLHR9cmV0dXJuIEsoKShlLHQpLEEoKShlLFt7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLGU9dC5jbGFzc05hbWUsbj10LmlzRGlzYWJsZWQscj10LmZvY3VzT25DbGljayxpPXQuZm9ybVN1Ym1pdCxvPVQoKSh0LFtcImNsYXNzTmFtZVwiLFwiaXNEaXNhYmxlZFwiLFwiZm9jdXNPbkNsaWNrXCIsXCJmb3JtU3VibWl0XCJdKTtlPWR0KCkoZSxfdC5hLnJvb3QpO3ZhciB1PSExPT09cj90aGlzLl9vbk1vdXNlRG93blByZXZlbnREZWZhdWx0OnQub25Nb3VzZURvd24sYT1pP1wic3VibWl0XCI6XCJidXR0b25cIjtyZXR1cm4gVS5hLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIixrKCkoe3R5cGU6YX0sbyx7b25Nb3VzZURvd246dSxjbGFzc05hbWU6ZSxkaXNhYmxlZDpufSksdC5jaGlsZHJlbil9fSx7a2V5OlwiX29uTW91c2VEb3duUHJldmVudERlZmF1bHRcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCk7dmFyIGU9dGhpcy5wcm9wcy5vbk1vdXNlRG93bjtudWxsIT1lJiZlKHQpfX1dKSxlfShQLkNvbXBvbmVudCksU3Q9bXQsYnQ9bigyOTYpLHd0PW4ubihidCksTXQ9bigyOTgpLEV0PW4ubihNdCkseHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBDKCkodGhpcyxlKSxCKCkodGhpcywoZS5fX3Byb3RvX198fE8oKShlKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gSygpKGUsdCksQSgpKGUsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5wcm9wcyxuPWUuY2xhc3NOYW1lLHI9ZS5pY29uTmFtZSxpPWUubGFiZWwsbz1lLmNoaWxkcmVuLHU9ZS5pc0FjdGl2ZSxhPVQoKShlLFtcImNsYXNzTmFtZVwiLFwiaWNvbk5hbWVcIixcImxhYmVsXCIsXCJjaGlsZHJlblwiLFwiaXNBY3RpdmVcIl0pO3JldHVybiBuPWR0KCkobiwodD17fSx4KCkodCxFdC5hLnJvb3QsITApLHgoKSh0LEV0LmEuaXNBY3RpdmUsdSksdCkpLFUuYS5jcmVhdGVFbGVtZW50KHMsbnVsbCxVLmEuY3JlYXRlRWxlbWVudChTdCxrKCkoe30sYSx7dGl0bGU6aSxjbGFzc05hbWU6bn0pLFUuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6RXQuYVtcImljb24tXCIrcl19KSksbyl9fV0pLGV9KFAuQ29tcG9uZW50KSxJdD14dCxrdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7QygpKHRoaXMsZSk7dmFyIHQ9QigpKHRoaXMsKGUuX19wcm90b19ffHxPKCkoZSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSk7cmV0dXJuIGd0KCkodCksdH1yZXR1cm4gSygpKGUsdCksQSgpKGUsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucHJvcHMsZT10LnN0eWxlLG49KHQub25Ub2dnbGUsVCgpKHQsW1wic3R5bGVcIixcIm9uVG9nZ2xlXCJdKSkscj1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIFUuYS5jcmVhdGVFbGVtZW50KEl0LGsoKSh7fSxuLHtpY29uTmFtZTpyLG9uQ2xpY2s6dGhpcy5fb25DbGljayxmb2N1c09uQ2xpY2s6ITF9KSl9fSx7a2V5OlwiX29uQ2xpY2tcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucHJvcHMub25Ub2dnbGUodGhpcy5wcm9wcy5zdHlsZSl9fV0pLGV9KFAuQ29tcG9uZW50KSxMdD1rdCxUdD1uKDMwMCksRHQ9bi5uKFR0KSxPdD1uKDE0MiksTnQ9bi5uKE90KSxDdD1uKDMwNSksanQ9bi5uKEN0KSxBdD1uKDMwNyksenQ9bi5uKEF0KSxCdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7QygpKHRoaXMsZSk7dmFyIHQ9QigpKHRoaXMsKGUuX19wcm90b19ffHxPKCkoZSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSk7Z3QoKSh0KTt2YXIgbj10LnByb3BzLmNoZWNrT3B0aW9ucyxyPXt9O2lmKG4pe3ZhciBpPSEwLG89ITEsdT12b2lkIDA7dHJ5e2Zvcih2YXIgYSxzPU50KCkoRHQoKShuKSk7IShpPShhPXMubmV4dCgpKS5kb25lKTtpPSEwKXt2YXIgYz1hLnZhbHVlLGw9bltjXS5kZWZhdWx0VmFsdWU7cltjXT1sfX1jYXRjaCh0KXtvPSEwLHU9dH1maW5hbGx5e3RyeXshaSYmcy5yZXR1cm4mJnMucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IHV9fX1yZXR1cm4gdC5zdGF0ZT17Y2hlY2tPcHRpb25WYWx1ZXM6cn0sdH1yZXR1cm4gSygpKGUsdCksQSgpKGUsW3trZXk6XCJjb21wb25lbnREaWRNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fb25Eb2N1bWVudENsaWNrKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuX29uRG9jdW1lbnRLZXlkb3duKSx0aGlzLl9pbnB1dFJlZiYmdGhpcy5faW5wdXRSZWYuZm9jdXMoKX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fb25Eb2N1bWVudENsaWNrKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuX29uRG9jdW1lbnRLZXlkb3duKX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucHJvcHMsZT1kdCgpKHQuY2xhc3NOYW1lLHp0LmEucm9vdCk7cmV0dXJuIFUuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTplfSxVLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6enQuYS5pbm5lcn0sVS5hLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLHtyZWY6dGhpcy5fc2V0SW5wdXRSZWYsZGVmYXVsdFZhbHVlOnQuZGVmYXVsdFZhbHVlLHR5cGU6XCJ0ZXh0XCIscGxhY2Vob2xkZXI6XCJodHRwczovL2V4YW1wbGUuY29tL1wiLGNsYXNzTmFtZTp6dC5hLmlucHV0LG9uS2V5UHJlc3M6dGhpcy5fb25JbnB1dEtleVByZXNzfSksVS5hLmNyZWF0ZUVsZW1lbnQoYyx7Y2xhc3NOYW1lOnp0LmEuYnV0dG9uR3JvdXB9LFUuYS5jcmVhdGVFbGVtZW50KEl0LHtsYWJlbDpcIkNhbmNlbFwiLGljb25OYW1lOlwiY2FuY2VsXCIsb25DbGljazp0Lm9uQ2FuY2VsfSksVS5hLmNyZWF0ZUVsZW1lbnQoSXQse2xhYmVsOlwiU3VibWl0XCIsaWNvbk5hbWU6XCJhY2NlcHRcIixvbkNsaWNrOnRoaXMuX29uU3VibWl0fSkpKSx0aGlzLl9yZW5kZXJDaGVja09wdGlvbnMoKSl9fSx7a2V5OlwiX3JlbmRlckNoZWNrT3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZighdGhpcy5wcm9wcy5jaGVja09wdGlvbnMpcmV0dXJuIG51bGw7dmFyIGU9dGhpcy5wcm9wcy5jaGVja09wdGlvbnM7cmV0dXJuIER0KCkoZSkubWFwKGZ1bmN0aW9uKG4pe3ZhciByPWUmJmVbbl0/ZVtuXS5sYWJlbDpcIlwiO3JldHVybiBVLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtrZXk6bixjbGFzc05hbWU6enQuYS5jaGVja09wdGlvbn0sVS5hLmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLG51bGwsVS5hLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLHt0eXBlOlwiY2hlY2tib3hcIixjaGVja2VkOnQuc3RhdGUuY2hlY2tPcHRpb25WYWx1ZXNbbl0sb25DaGFuZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdC5fb25DaGVja09wdGlvblByZXNzKG4pfX0pLFUuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLG51bGwscikpKX0pfX0se2tleTpcIl9zZXRJbnB1dFJlZlwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX2lucHV0UmVmPXR9fSx7a2V5OlwiX29uQ2hlY2tPcHRpb25QcmVzc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGUuY2hlY2tPcHRpb25WYWx1ZXMsbj1Cb29sZWFuKGVbdF0pLHI9aygpKHt9LGUseCgpKHt9LHQsIW4pKTt0aGlzLnNldFN0YXRlKHtjaGVja09wdGlvblZhbHVlczpyfSl9fSx7a2V5OlwiX29uSW5wdXRLZXlQcmVzc1wiLHZhbHVlOmZ1bmN0aW9uKHQpezEzPT09dC53aGljaCYmKHQucHJldmVudERlZmF1bHQoKSx0aGlzLl9vblN1Ym1pdCgpKX19LHtrZXk6XCJfb25TdWJtaXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2lucHV0UmVmP3RoaXMuX2lucHV0UmVmLnZhbHVlOlwiXCI7dGhpcy5wcm9wcy5vblN1Ym1pdCh0LHRoaXMuc3RhdGUuY2hlY2tPcHRpb25WYWx1ZXMpfX0se2tleTpcIl9vbkRvY3VtZW50Q2xpY2tcIix2YWx1ZTpmdW5jdGlvbih0KXt1dC5hLmZpbmRET01Ob2RlKHRoaXMpLmNvbnRhaW5zKHQudGFyZ2V0KXx8dGhpcy5wcm9wcy5vbkNhbmNlbCh0KX19LHtrZXk6XCJfb25Eb2N1bWVudEtleWRvd25cIix2YWx1ZTpmdW5jdGlvbih0KXsyNz09PXQua2V5Q29kZSYmdGhpcy5wcm9wcy5vbkNhbmNlbCgpfX1dKSxlfShQLkNvbXBvbmVudCksUnQ9QnQsS3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe0MoKSh0aGlzLGUpO3ZhciB0PUIoKSh0aGlzLChlLl9fcHJvdG9fX3x8TygpKGUpKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpO3JldHVybiBndCgpKHQpLHR9cmV0dXJuIEsoKShlLHQpLEEoKShlLFt7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLGU9dC5vblRvZ2dsZVBvcG92ZXIsbj0odC5zaG93UG9wb3ZlcixUKCkodCxbXCJvblRvZ2dsZVBvcG92ZXJcIixcInNob3dQb3BvdmVyXCJdKSk7cmV0dXJuIFUuYS5jcmVhdGVFbGVtZW50KEl0LGsoKSh7fSxuLHtvbkNsaWNrOmV9KSx0aGlzLl9yZW5kZXJQb3BvdmVyKCkpfX0se2tleTpcIl9yZW5kZXJQb3BvdmVyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5zaG93UG9wb3Zlcj9VLmEuY3JlYXRlRWxlbWVudChSdCx7ZGVmYXVsdFZhbHVlOnRoaXMucHJvcHMuZGVmYXVsdFZhbHVlLGNoZWNrT3B0aW9uczp0aGlzLnByb3BzLmNoZWNrT3B0aW9ucyxvblN1Ym1pdDp0aGlzLl9vblN1Ym1pdCxvbkNhbmNlbDp0aGlzLl9oaWRlUG9wb3Zlcn0pOm51bGx9fSx7a2V5OlwiX29uU3VibWl0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDsodD10aGlzLnByb3BzKS5vblN1Ym1pdC5hcHBseSh0LGFyZ3VtZW50cyl9fSx7a2V5OlwiX2hpZGVQb3BvdmVyXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLnByb3BzLnNob3dQb3BvdmVyKXt2YXIgdDsodD10aGlzLnByb3BzKS5vblRvZ2dsZVBvcG92ZXIuYXBwbHkodCxhcmd1bWVudHMpfX19XSksZX0oUC5Db21wb25lbnQpLFB0PUt0LFV0PW4oMzA5KSxGdD1uLm4oVXQpLFl0PW4oMzEzKSxIdD1uLm4oWXQpLHF0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtDKCkodGhpcyxlKTt2YXIgdD1CKCkodGhpcywoZS5fX3Byb3RvX198fE8oKShlKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKTtyZXR1cm4gZ3QoKSh0KSx0fXJldHVybiBLKCkoZSx0KSxBKCkoZSxbe2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9wcyxlPXQuY2hvaWNlcyxuPXQuc2VsZWN0ZWRLZXkscj10LmNsYXNzTmFtZSxpPVQoKSh0LFtcImNob2ljZXNcIixcInNlbGVjdGVkS2V5XCIsXCJjbGFzc05hbWVcIl0pO3I9ZHQoKShyLEh0LmEucm9vdCk7dmFyIG89bnVsbD09bj9udWxsOmUuZ2V0KG4pLHU9byYmby5sYWJlbHx8XCJcIjtyZXR1cm4gVS5hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpyLHRpdGxlOnV9LFUuYS5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIsaygpKHt9LGkse3ZhbHVlOm4sb25DaGFuZ2U6dGhpcy5fb25DaGFuZ2V9KSx0aGlzLl9yZW5kZXJDaG9pY2VzKCkpLFUuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6SHQuYS52YWx1ZX0sdSkpfX0se2tleTpcIl9vbkNoYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudGFyZ2V0LnZhbHVlO3RoaXMucHJvcHMub25DaGFuZ2UoZSl9fSx7a2V5OlwiX3JlbmRlckNob2ljZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucHJvcHMuY2hvaWNlcztyZXR1cm4gJCgpKHQuZW50cmllcygpKS5tYXAoZnVuY3Rpb24odCl7dmFyIGU9RnQoKSh0LDIpLG49ZVswXSxyPWVbMV0saT1yLmxhYmVsLG89ci5jbGFzc05hbWU7cmV0dXJuIFUuYS5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIse2tleTpuLHZhbHVlOm4sY2xhc3NOYW1lOm99LGkpfSl9fV0pLGV9KFAuQ29tcG9uZW50KSxXdD1xdCxHdD1uKDMxNSksVnQ9bi5uKEd0KSxRdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7QygpKHRoaXMsZSk7dmFyIHQ9QigpKHRoaXMsKGUuX19wcm90b19ffHxPKCkoZSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSk7cmV0dXJuIGd0KCkodCksdC5zdGF0ZT17c2hvd0xpbmtJbnB1dDohMSxzaG93SW1hZ2VJbnB1dDohMSxjdXN0b21Db250cm9sU3RhdGU6e319LHR9cmV0dXJuIEsoKShlLHQpLEEoKShlLFt7a2V5OlwiVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wcm9wcy5rZXlFbWl0dGVyLm9uKFwia2V5cHJlc3NcIix0aGlzLl9vbktleXByZXNzKX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wcm9wcy5rZXlFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKFwia2V5cHJlc3NcIix0aGlzLl9vbktleXByZXNzKX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLnByb3BzLG49ZS5jbGFzc05hbWUscj1lLnRvb2xiYXJDb25maWcsaT1lLnJvb3RTdHlsZSxvPWUuaXNPbkJvdHRvbTtudWxsPT1yJiYocj1wdCk7dmFyIHU9ci5kaXNwbGF5fHxwdC5kaXNwbGF5LGE9dS5tYXAoZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2VcIklOTElORV9TVFlMRV9CVVRUT05TXCI6cmV0dXJuIHQuX3JlbmRlcklubGluZVN0eWxlQnV0dG9ucyhlLHIpO2Nhc2VcIkJMT0NLX0FMSUdOTUVOVF9CVVRUT05TXCI6cmV0dXJuIHQuX3JlbmRlckJsb2NrQWxpZ25tZW50QnV0dG9ucyhlLHIpO2Nhc2VcIkJMT0NLX1RZUEVfRFJPUERPV05cIjpyZXR1cm4gdC5fcmVuZGVyQmxvY2tUeXBlRHJvcGRvd24oZSxyKTtjYXNlXCJMSU5LX0JVVFRPTlNcIjpyZXR1cm4gdC5fcmVuZGVyTGlua0J1dHRvbnMoZSxyKTtjYXNlXCJJTUFHRV9CVVRUT05cIjpyZXR1cm4gdC5fcmVuZGVySW1hZ2VCdXR0b24oZSxyKTtjYXNlXCJCTE9DS19UWVBFX0JVVFRPTlNcIjpyZXR1cm4gdC5fcmVuZGVyQmxvY2tUeXBlQnV0dG9ucyhlLHIpO2Nhc2VcIkhJU1RPUllfQlVUVE9OU1wiOnJldHVybiB0Ll9yZW5kZXJVbmRvUmVkbyhlLHIpfX0pO3JldHVybiBVLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6ZHQoKShWdC5hLnJvb3QsbyYmVnQuYS5vbkJvdHRvbSxuKSxzdHlsZTppfSxhLHRoaXMuX3JlbmRlckN1c3RvbUNvbnRyb2xzKCkpfX0se2tleTpcIl9yZW5kZXJDdXN0b21Db250cm9sc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMucHJvcHMsbj1lLmN1c3RvbUNvbnRyb2xzLHI9ZS5lZGl0b3JTdGF0ZTtpZihudWxsIT1uKXJldHVybiBuLm1hcChmdW5jdGlvbihlKXtzd2l0Y2godm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOnJ0KCkoZSkpe2Nhc2VcImZ1bmN0aW9uXCI6cmV0dXJuIGUodC5fc2V0Q3VzdG9tQ29udHJvbFN0YXRlLHQuX2dldEN1c3RvbUNvbnRyb2xTdGF0ZSxyKTtkZWZhdWx0OnJldHVybiBlfX0pfX0se2tleTpcIl9zZXRDdXN0b21Db250cm9sU3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24obil7dmFyIHI9bi5jdXN0b21Db250cm9sU3RhdGU7cmV0dXJue2N1c3RvbUNvbnRyb2xTdGF0ZTprKCkoe30scix4KCkoe30sdCxlKSl9fSl9fSx7a2V5OlwiX2dldEN1c3RvbUNvbnRyb2xTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXRlLmN1c3RvbUNvbnRyb2xTdGF0ZVt0XX19LHtrZXk6XCJfcmVuZGVyQmxvY2tUeXBlRHJvcGRvd25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2dldEN1cnJlbnRCbG9ja1R5cGUoKSxyPW5ldyBldC5hKChlLkJMT0NLX1RZUEVfRFJPUERPV058fFtdKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuW3Quc3R5bGUse2xhYmVsOnQubGFiZWwsY2xhc3NOYW1lOnQuY2xhc3NOYW1lfV19KSk7cmV0dXJuIHIuaGFzKG4pfHwobj0kKCkoci5rZXlzKCkpWzBdKSxVLmEuY3JlYXRlRWxlbWVudChjLHtrZXk6dH0sVS5hLmNyZWF0ZUVsZW1lbnQoV3QsaygpKHt9LGUuZXh0cmFQcm9wcyx7Y2hvaWNlczpyLHNlbGVjdGVkS2V5Om4sb25DaGFuZ2U6dGhpcy5fc2VsZWN0QmxvY2tUeXBlfSkpKX19LHtrZXk6XCJfcmVuZGVyQmxvY2tUeXBlQnV0dG9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMuX2dldEN1cnJlbnRCbG9ja1R5cGUoKSxpPShlLkJMT0NLX1RZUEVfQlVUVE9OU3x8W10pLm1hcChmdW5jdGlvbih0LGkpe3JldHVybiBVLmEuY3JlYXRlRWxlbWVudChMdCxrKCkoe30sZS5leHRyYVByb3BzLHtrZXk6U3RyaW5nKGkpLGlzQWN0aXZlOnQuc3R5bGU9PT1yLGxhYmVsOnQubGFiZWwsb25Ub2dnbGU6bi5fdG9nZ2xlQmxvY2tUeXBlLHN0eWxlOnQuc3R5bGUsY2xhc3NOYW1lOnQuY2xhc3NOYW1lfSkpfSk7cmV0dXJuIFUuYS5jcmVhdGVFbGVtZW50KGMse2tleTp0fSxpKX19LHtrZXk6XCJfcmVuZGVySW5saW5lU3R5bGVCdXR0b25zXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9dGhpcy5wcm9wcy5lZGl0b3JTdGF0ZSxpPXIuZ2V0Q3VycmVudElubGluZVN0eWxlKCksbz0oZS5JTkxJTkVfU1RZTEVfQlVUVE9OU3x8W10pLm1hcChmdW5jdGlvbih0LHIpe3JldHVybiBVLmEuY3JlYXRlRWxlbWVudChMdCxrKCkoe30sZS5leHRyYVByb3BzLHtrZXk6U3RyaW5nKHIpLGlzQWN0aXZlOmkuaGFzKHQuc3R5bGUpLGxhYmVsOnQubGFiZWwsb25Ub2dnbGU6bi5fdG9nZ2xlSW5saW5lU3R5bGUsc3R5bGU6dC5zdHlsZSxjbGFzc05hbWU6dC5jbGFzc05hbWV9KSl9KTtyZXR1cm4gVS5hLmNyZWF0ZUVsZW1lbnQoYyx7a2V5OnR9LG8pfX0se2tleTpcIl9yZW5kZXJCbG9ja0FsaWdubWVudEJ1dHRvbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj10aGlzLnByb3BzLmVkaXRvclN0YXRlLGk9ci5nZXRDdXJyZW50Q29udGVudCgpLG89ci5nZXRTZWxlY3Rpb24oKSx1PW8uZ2V0U3RhcnRLZXkoKSxhPWkuZ2V0QmxvY2tGb3JLZXkodSkscz1hLmdldERhdGEoKS5nZXQoXCJ0ZXh0QWxpZ25cIiksbD0oZS5CTE9DS19BTElHTk1FTlRfQlVUVE9OU3x8W10pLm1hcChmdW5jdGlvbih0LHIpe3JldHVybiBVLmEuY3JlYXRlRWxlbWVudChMdCxrKCkoe30sZS5leHRyYVByb3BzLHtrZXk6U3RyaW5nKHIpLGlzQWN0aXZlOnM9PT10LnN0eWxlLGxhYmVsOnQubGFiZWwsb25Ub2dnbGU6bi5fdG9nZ2xlQWxpZ25tZW50LHN0eWxlOnQuc3R5bGUsY2xhc3NOYW1lOnQuY2xhc3NOYW1lfSkpfSk7cmV0dXJuIFUuYS5jcmVhdGVFbGVtZW50KGMse2tleTp0fSxsKX19LHtrZXk6XCJfcmVuZGVyTGlua0J1dHRvbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMucHJvcHMuZWRpdG9yU3RhdGUscj1uLmdldFNlbGVjdGlvbigpLGk9dGhpcy5fZ2V0RW50aXR5QXRDdXJzb3IoKSxvPSFyLmlzQ29sbGFwc2VkKCksdT1udWxsIT1pJiZpLnR5cGU9PT1RLkVOVElUWV9UWVBFLkxJTkssYT1vfHx1LHM9aSYmdT9pLmdldERhdGEoKS51cmw6XCJcIixsPWUuTElOS19CVVRUT05TfHx7fSxmPWwubGlua3x8e30scD1sLnJlbW92ZUxpbmt8fHt9LGg9Zi5sYWJlbHx8XCJMaW5rXCIsZD1wLmxhYmVsfHxcIlJlbW92ZSBMaW5rXCIseT0hKCFpfHwhdSkmJlwiX2JsYW5rXCI9PT1pLmdldERhdGEoKS50YXJnZXQsZz0hKCFpfHwhdSkmJlwibm9mb2xsb3dcIj09PWkuZ2V0RGF0YSgpLnJlbDtyZXR1cm4gVS5hLmNyZWF0ZUVsZW1lbnQoYyx7a2V5OnR9LFUuYS5jcmVhdGVFbGVtZW50KFB0LHtsYWJlbDpoLGljb25OYW1lOlwibGlua1wiLGlzRGlzYWJsZWQ6IWEsc2hvd1BvcG92ZXI6dGhpcy5zdGF0ZS5zaG93TGlua0lucHV0LG9uVG9nZ2xlUG9wb3Zlcjp0aGlzLl90b2dnbGVTaG93TGlua0lucHV0LGRlZmF1bHRWYWx1ZTpzLG9uU3VibWl0OnRoaXMuX3NldExpbmssY2hlY2tPcHRpb25zOnt0YXJnZXRCbGFuazp7bGFiZWw6XCJPcGVuIGxpbmsgaW4gbmV3IHRhYlwiLGRlZmF1bHRWYWx1ZTp5fSxub0ZvbGxvdzp7bGFiZWw6XCJObyBmb2xsb3dcIixkZWZhdWx0VmFsdWU6Z319fSksVS5hLmNyZWF0ZUVsZW1lbnQoSXQsaygpKHt9LGUuZXh0cmFQcm9wcyx7bGFiZWw6ZCxpY29uTmFtZTpcInJlbW92ZS1saW5rXCIsaXNEaXNhYmxlZDohdSxvbkNsaWNrOnRoaXMuX3JlbW92ZUxpbmssZm9jdXNPbkNsaWNrOiExfSkpKX19LHtrZXk6XCJfcmVuZGVySW1hZ2VCdXR0b25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUuSU1BR0VfQlVUVE9OfHx7fSxyPW4ubGFiZWx8fFwiSW1hZ2VcIjtyZXR1cm4gVS5hLmNyZWF0ZUVsZW1lbnQoYyx7a2V5OnR9LFUuYS5jcmVhdGVFbGVtZW50KFB0LHtsYWJlbDpyLGljb25OYW1lOlwiaW1hZ2VcIixzaG93UG9wb3Zlcjp0aGlzLnN0YXRlLnNob3dJbWFnZUlucHV0LG9uVG9nZ2xlUG9wb3Zlcjp0aGlzLl90b2dnbGVTaG93SW1hZ2VJbnB1dCxvblN1Ym1pdDp0aGlzLl9zZXRJbWFnZX0pKX19LHtrZXk6XCJfcmVuZGVyVW5kb1JlZG9cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMucHJvcHMuZWRpdG9yU3RhdGUscj0wIT09bi5nZXRVbmRvU3RhY2soKS5zaXplLGk9MCE9PW4uZ2V0UmVkb1N0YWNrKCkuc2l6ZSxvPWUuSElTVE9SWV9CVVRUT05TfHx7fSx1PW8udW5kb3x8e30sYT1vLnJlZG98fHt9LHM9dS5sYWJlbHx8XCJVbmRvXCIsbD1hLmxhYmVsfHxcIlJlZG9cIjtyZXR1cm4gVS5hLmNyZWF0ZUVsZW1lbnQoYyx7a2V5OnR9LFUuYS5jcmVhdGVFbGVtZW50KEl0LGsoKSh7fSxlLmV4dHJhUHJvcHMse2xhYmVsOnMsaWNvbk5hbWU6XCJ1bmRvXCIsaXNEaXNhYmxlZDohcixvbkNsaWNrOnRoaXMuX3VuZG8sZm9jdXNPbkNsaWNrOiExfSkpLFUuYS5jcmVhdGVFbGVtZW50KEl0LGsoKSh7fSxlLmV4dHJhUHJvcHMse2xhYmVsOmwsaWNvbk5hbWU6XCJyZWRvXCIsaXNEaXNhYmxlZDohaSxvbkNsaWNrOnRoaXMuX3JlZG8sZm9jdXNPbkNsaWNrOiExfSkpKX19LHtrZXk6XCJfb25LZXlwcmVzc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7T2JqZWN0KGl0Lmhhc0NvbW1hbmRNb2RpZmllcikodCkmJjc1PT09dC5rZXlDb2RlJiYodGhpcy5wcm9wcy5lZGl0b3JTdGF0ZS5nZXRTZWxlY3Rpb24oKS5pc0NvbGxhcHNlZCgpfHwodGhpcy5zZXRTdGF0ZSh7c2hvd0xpbmtJbnB1dDohMH0pLGUud2FzSGFuZGxlZD0hMCkpfX0se2tleTpcIl90b2dnbGVTaG93TGlua0lucHV0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZS5zaG93TGlua0lucHV0O2lmKGUpe3ZhciBuPSEwO2lmKHQmJlwiY2xpY2tcIj09PXQudHlwZSl7dmFyIHI9dXQuYS5maW5kRE9NTm9kZSh0aGlzKS5wYXJlbnROb2RlLGk9ZG9jdW1lbnQsbz1pLmFjdGl2ZUVsZW1lbnQ7bnVsbD09b3x8bz09PWRvY3VtZW50LmJvZHl8fHIuY29udGFpbnMobyl8fChuPSExKX1uJiZ0aGlzLnByb3BzLmZvY3VzRWRpdG9yKCl9dGhpcy5zZXRTdGF0ZSh7c2hvd0xpbmtJbnB1dDohZX0pfX0se2tleTpcIl90b2dnbGVTaG93SW1hZ2VJbnB1dFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGUuc2hvd0ltYWdlSW5wdXQ7aWYoZSl7dmFyIG49ITA7aWYodCYmXCJjbGlja1wiPT09dC50eXBlKXt2YXIgcj11dC5hLmZpbmRET01Ob2RlKHRoaXMpLnBhcmVudE5vZGUsaT1kb2N1bWVudCxvPWkuYWN0aXZlRWxlbWVudDtudWxsPT1vfHxvPT09ZG9jdW1lbnQuYm9keXx8ci5jb250YWlucyhvKXx8KG49ITEpfW4mJnRoaXMucHJvcHMuZm9jdXNFZGl0b3IoKX10aGlzLnNldFN0YXRlKHtzaG93SW1hZ2VJbnB1dDohZX0pfX0se2tleTpcIl9zZXRJbWFnZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucHJvcHMuZWRpdG9yU3RhdGUsbj1lLmdldEN1cnJlbnRDb250ZW50KCkscj1lLmdldFNlbGVjdGlvbigpO249bi5jcmVhdGVFbnRpdHkoUS5FTlRJVFlfVFlQRS5JTUFHRSxcIklNTVVUQUJMRVwiLHtzcmM6dH0pO3ZhciBpPW4uZ2V0TGFzdENyZWF0ZWRFbnRpdHlLZXkoKSxvPUYuTW9kaWZpZXIuaW5zZXJ0VGV4dChuLHIsXCIgXCIsbnVsbCxpKTt0aGlzLnNldFN0YXRlKHtzaG93SW1hZ2VJbnB1dDohMX0pLHRoaXMucHJvcHMub25DaGFuZ2UoRi5FZGl0b3JTdGF0ZS5wdXNoKGUsbykpLHRoaXMuX2ZvY3VzRWRpdG9yKCl9fSx7a2V5OlwiX3NldExpbmtcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMucHJvcHMuZWRpdG9yU3RhdGUscj1uLmdldEN1cnJlbnRDb250ZW50KCksaT1uLmdldFNlbGVjdGlvbigpLG89aSx1PSExO2lmKGkuaXNDb2xsYXBzZWQoKSl7dmFyIGE9dGhpcy5fZ2V0RW50aXR5RGVzY3JpcHRpb25BdEN1cnNvcigpO2EmJih1PSEwLGk9aS5tZXJnZSh7YW5jaG9yT2Zmc2V0OmEuc3RhcnRPZmZzZXQsZm9jdXNPZmZzZXQ6YS5lbmRPZmZzZXQsaXNCYWNrd2FyZDohMX0pKX1lbHNlIHU9ITA7aWYodGhpcy5zZXRTdGF0ZSh7c2hvd0xpbmtJbnB1dDohMX0pLHUpe3ZhciBzPWUudGFyZ2V0Qmxhbms/XCJfYmxhbmtcIjp2b2lkIDAsYz1lLm5vRm9sbG93P1wibm9mb2xsb3dcIjp2b2lkIDA7cj1yLmNyZWF0ZUVudGl0eShRLkVOVElUWV9UWVBFLkxJTkssXCJNVVRBQkxFXCIse3VybDp0LHRhcmdldDpzLHJlbDpjfSk7dmFyIGw9ci5nZXRMYXN0Q3JlYXRlZEVudGl0eUtleSgpO249Ri5FZGl0b3JTdGF0ZS5wdXNoKG4sciksbj1GLlJpY2hVdGlscy50b2dnbGVMaW5rKG4saSxsKSxuPUYuRWRpdG9yU3RhdGUuYWNjZXB0U2VsZWN0aW9uKG4sbyksdGhpcy5wcm9wcy5vbkNoYW5nZShuKX10aGlzLl9mb2N1c0VkaXRvcigpfX0se2tleTpcIl9yZW1vdmVMaW5rXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLmVkaXRvclN0YXRlLGU9Zih0KTtpZihudWxsIT1lKXt2YXIgbj1lLmJsb2NrS2V5LHI9ZS5zdGFydE9mZnNldCxpPWUuZW5kT2Zmc2V0O3RoaXMucHJvcHMub25DaGFuZ2UocCh0LG4scixpKSl9fX0se2tleTpcIl9nZXRFbnRpdHlEZXNjcmlwdGlvbkF0Q3Vyc29yXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLnByb3BzLmVkaXRvclN0YXRlKX19LHtrZXk6XCJfZ2V0RW50aXR5QXRDdXJzb3JcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucHJvcHMuZWRpdG9yU3RhdGUsZT10LmdldEN1cnJlbnRDb250ZW50KCksbj1mKHQpO3JldHVybiBudWxsPT1uP251bGw6ZS5nZXRFbnRpdHkobi5lbnRpdHlLZXkpfX0se2tleTpcIl9nZXRDdXJyZW50QmxvY2tUeXBlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLmVkaXRvclN0YXRlLGU9dC5nZXRTZWxlY3Rpb24oKTtyZXR1cm4gdC5nZXRDdXJyZW50Q29udGVudCgpLmdldEJsb2NrRm9yS2V5KGUuZ2V0U3RhcnRLZXkoKSkuZ2V0VHlwZSgpfX0se2tleTpcIl9zZWxlY3RCbG9ja1R5cGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3RvZ2dsZUJsb2NrVHlwZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fZm9jdXNFZGl0b3IoKX19LHtrZXk6XCJfdG9nZ2xlQmxvY2tUeXBlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5wcm9wcy5vbkNoYW5nZShGLlJpY2hVdGlscy50b2dnbGVCbG9ja1R5cGUodGhpcy5wcm9wcy5lZGl0b3JTdGF0ZSx0KSl9fSx7a2V5OlwiX3RvZ2dsZUlubGluZVN0eWxlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5wcm9wcy5vbkNoYW5nZShGLlJpY2hVdGlscy50b2dnbGVJbmxpbmVTdHlsZSh0aGlzLnByb3BzLmVkaXRvclN0YXRlLHQpKX19LHtrZXk6XCJfdG9nZ2xlQWxpZ25tZW50XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9wcy5lZGl0b3JTdGF0ZSxuPWUuZ2V0U2VsZWN0aW9uKCkscj1lLmdldEN1cnJlbnRDb250ZW50KCksaT1uLmdldFN0YXJ0S2V5KCksbz1yLmdldEJsb2NrRm9yS2V5KGkpLHU9by5nZXREYXRhKCksYT12b2lkIDA7YT11LmdldChcInRleHRBbGlnblwiKT09PXQ/dS5yZW1vdmUoXCJ0ZXh0QWxpZ25cIik6dS5zZXQoXCJ0ZXh0QWxpZ25cIix0KTt2YXIgcz1vLnNldChcImRhdGFcIixhKSxjPXIubWVyZ2Uoe2Jsb2NrTWFwOnIuZ2V0QmxvY2tNYXAoKS5zZXQoaSxzKX0pLGw9Ri5FZGl0b3JTdGF0ZS5wdXNoKGUsYyxcImNoYW5nZS1ibG9jay1kYXRhXCIpO3RoaXMucHJvcHMub25DaGFuZ2UobCl9fSx7a2V5OlwiX3VuZG9cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucHJvcHMuZWRpdG9yU3RhdGU7dGhpcy5wcm9wcy5vbkNoYW5nZShGLkVkaXRvclN0YXRlLnVuZG8odCkpfX0se2tleTpcIl9yZWRvXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLmVkaXRvclN0YXRlO3RoaXMucHJvcHMub25DaGFuZ2UoRi5FZGl0b3JTdGF0ZS5yZWRvKHQpKX19LHtrZXk6XCJfZm9jdXNFZGl0b3JcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe3QucHJvcHMuZm9jdXNFZGl0b3IoKX0sNTApfX1dKSxlfShQLkNvbXBvbmVudCksWnQ9UXQsSnQ9bigzMTcpLFh0PW4ubihKdCksJHQ9bigzMTkpLHRlPW4oMzI0KSxlZT1uKDMzMSksbmU9bigzMzMpLHJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307QygpKHRoaXMsdCksdGhpcy5fY2FjaGU9bix0aGlzLl9lZGl0b3JTdGF0ZT1lfXJldHVybiBBKCkodCxbe2tleTpcImdldEVkaXRvclN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZWRpdG9yU3RhdGV9fSx7a2V5Olwic2V0RWRpdG9yU3RhdGVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZWRpdG9yU3RhdGU9PT1lP3RoaXM6bmV3IHQoZSl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2NhY2hlW3RdO3JldHVybiBudWxsIT1uP246dGhpcy5fY2FjaGVbdF09aCh0aGlzLmdldEVkaXRvclN0YXRlKCksdCxlKX19LHtrZXk6XCJzZXRDb250ZW50RnJvbVN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbmV3IHQoRi5FZGl0b3JTdGF0ZS5wdXNoKHRoaXMuX2VkaXRvclN0YXRlLGQoZSxuLHIpLFwic2Vjb25kYXJ5LXBhc3RlXCIpLHgoKSh7fSxuLGUpKX19XSxbe2tleTpcImNyZWF0ZUVtcHR5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KEYuRWRpdG9yU3RhdGUuY3JlYXRlRW1wdHkoZSkpfX0se2tleTpcImNyZWF0ZUZyb21TdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdChlKX19LHtrZXk6XCJjcmVhdGVGcm9tU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSxuLHIsaSl7dmFyIG89ZChlLG4saSk7cmV0dXJuIG5ldyB0KEYuRWRpdG9yU3RhdGUuY3JlYXRlV2l0aENvbnRlbnQobyxyKSx4KCkoe30sbixlKSl9fV0pLHR9KCksaWU9cmUsb2U9e3N0cmF0ZWd5OmcsY29tcG9uZW50Onl9LHVlPW4oMzM1KSxhZT1uLm4odWUpLHNlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7QygpKHRoaXMsZSk7dmFyIG49QigpKHRoaXMsKGUuX19wcm90b19ffHxPKCkoZSkpLmNhbGwodGhpcyx0KSk7Z3QoKShuKTt2YXIgcj10LmNvbnRlbnRTdGF0ZS5nZXRFbnRpdHkodC5lbnRpdHlLZXkpLGk9ci5nZXREYXRhKCksbz1pLndpZHRoLHU9aS5oZWlnaHQ7cmV0dXJuIG4uc3RhdGU9e3dpZHRoOm8saGVpZ2h0OnV9LG59cmV0dXJuIEsoKShlLHQpLEEoKShlLFt7a2V5OlwiY29tcG9uZW50RGlkTW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLnN0YXRlLG49ZS53aWR0aCxyPWUuaGVpZ2h0LGk9dGhpcy5wcm9wcy5jb250ZW50U3RhdGUuZ2V0RW50aXR5KHRoaXMucHJvcHMuZW50aXR5S2V5KSxvPW5ldyBJbWFnZSx1PWkuZ2V0RGF0YSgpLGE9dS5zcmM7by5zcmM9YSxvLm9ubG9hZD1mdW5jdGlvbigpe251bGwhPW4mJm51bGwhPXJ8fCh0LnNldFN0YXRlKHt3aWR0aDpvLndpZHRoLGhlaWdodDpvLmhlaWdodH0pLEYuRW50aXR5Lm1lcmdlRGF0YSh0LnByb3BzLmVudGl0eUtleSx7d2lkdGg6by53aWR0aCxoZWlnaHQ6by5oZWlnaHQsb3JpZ2luYWxXaWR0aDpvLndpZHRoLG9yaWdpbmFsSGVpZ2h0Om8uaGVpZ2h0fSkpfX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc3RhdGUsZT10LndpZHRoLG49dC5oZWlnaHQscj10aGlzLnByb3BzLmNsYXNzTmFtZSxpPXRoaXMucHJvcHMuY29udGVudFN0YXRlLmdldEVudGl0eSh0aGlzLnByb3BzLmVudGl0eUtleSksbz1pLmdldERhdGEoKSx1PW8uc3JjO3I9ZHQoKShyLGFlLmEucm9vdCk7dmFyIGE9e3ZlcnRpY2FsQWxpZ246XCJib3R0b21cIixiYWNrZ3JvdW5kSW1hZ2U6J3VybChcIicrdSsnXCIpJyxiYWNrZ3JvdW5kU2l6ZTplK1wicHggXCIrbitcInB4XCIsbGluZUhlaWdodDpuK1wicHhcIixmb250U2l6ZTpuK1wicHhcIix3aWR0aDplLGhlaWdodDpuLGxldHRlclNwYWNpbmc6ZX07cmV0dXJuIFUuYS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6cixzdHlsZTphLG9uQ2xpY2s6dGhpcy5fb25DbGlja30sdGhpcy5wcm9wcy5jaGlsZHJlbil9fSx7a2V5OlwiX29uQ2xpY2tcIix2YWx1ZTpmdW5jdGlvbigpe2NvbnNvbGUubG9nKFwiaW1hZ2UgY2xpY2tlZFwiKX19LHtrZXk6XCJfaGFuZGxlUmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLnNpemUscj1uLndpZHRoLGk9bi5oZWlnaHQ7dGhpcy5zZXRTdGF0ZSh7d2lkdGg6cixoZWlnaHQ6aX0pLEYuRW50aXR5Lm1lcmdlRGF0YSh0aGlzLnByb3BzLmVudGl0eUtleSx7d2lkdGg6cixoZWlnaHQ6aX0pfX1dKSxlfShQLkNvbXBvbmVudCksY2U9c2UsbGU9e3N0cmF0ZWd5OnYsY29tcG9uZW50OmNlfSxmZT1fLHBlPW4oMzM3KSxoZT1uLm4ocGUpLGRlPShuKDMzOCksbigzNDApKSx5ZT1uLm4oZGUpO24uZChlLFwiZGVjb3JhdG9yXCIsZnVuY3Rpb24oKXtyZXR1cm4gX2V9KSxuLmQoZSxcImNyZWF0ZUVtcHR5VmFsdWVcIixmdW5jdGlvbigpe3JldHVybiBTfSksbi5kKGUsXCJjcmVhdGVWYWx1ZUZyb21TdHJpbmdcIixmdW5jdGlvbigpe3JldHVybiBifSksbi5kKGUsXCJFZGl0b3JWYWx1ZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGllfSksbi5kKGUsXCJnZXRUZXh0QWxpZ25CbG9ja01ldGFkYXRhXCIsZnVuY3Rpb24oKXtyZXR1cm4gR30pLG4uZChlLFwiZ2V0VGV4dEFsaWduQ2xhc3NOYW1lXCIsZnVuY3Rpb24oKXtyZXR1cm4gcX0pLG4uZChlLFwiZ2V0VGV4dEFsaWduU3R5bGVzXCIsZnVuY3Rpb24oKXtyZXR1cm4gV30pLG4uZChlLFwiQnV0dG9uR3JvdXBcIixmdW5jdGlvbigpe3JldHVybiBjfSksbi5kKGUsXCJCdXR0b25cIixmdW5jdGlvbigpe3JldHVybiBTdH0pLG4uZChlLFwiRHJvcGRvd25cIixmdW5jdGlvbigpe3JldHVybiBXdH0pO3ZhciBnZT17Q09ERTp7YmFja2dyb3VuZENvbG9yOlwiI2YzZjNmM1wiLGZvbnRGYW1pbHk6J1wiSW5jb25zb2xhdGFcIiwgXCJNZW5sb1wiLCBcIkNvbnNvbGFzXCIsIG1vbm9zcGFjZScsZm9udFNpemU6MTYscGFkZGluZzoyfX0sdmU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe0MoKSh0aGlzLGUpO3ZhciB0PUIoKSh0aGlzLChlLl9fcHJvdG9fX3x8TygpKGUpKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpO3JldHVybiB0Ll9rZXlFbWl0dGVyPW5ldyBoZS5hLGd0KCkodCksdH1yZXR1cm4gSygpKGUsdCksQSgpKGUsW3trZXk6XCJjb21wb25lbnREaWRNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wcm9wcy5hdXRvRm9jdXMmJnRoaXMuX2ZvY3VzKCl9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMsbj10aGlzLnByb3BzLHI9bi52YWx1ZSxpPW4uY2xhc3NOYW1lLG89bi50b29sYmFyQ2xhc3NOYW1lLHU9bi5lZGl0b3JDbGFzc05hbWUsYT1uLnBsYWNlaG9sZGVyLHM9bi5jdXN0b21TdHlsZU1hcCxjPW4ucmVhZE9ubHksbD1uLmRpc2FibGVkLGY9bi50b29sYmFyQ29uZmlnLHA9bi50b29sYmFyT25Cb3R0b20saD1uLmJsb2NrU3R5bGVGbixkPW4uY3VzdG9tQ29udHJvbHMseT1uLmtleUJpbmRpbmdGbixnPW4ucm9vdFN0eWxlLHY9bi50b29sYmFyU3R5bGUsXz1uLmVkaXRvclN0eWxlLFM9VCgpKG4sW1widmFsdWVcIixcImNsYXNzTmFtZVwiLFwidG9vbGJhckNsYXNzTmFtZVwiLFwiZWRpdG9yQ2xhc3NOYW1lXCIsXCJwbGFjZWhvbGRlclwiLFwiY3VzdG9tU3R5bGVNYXBcIixcInJlYWRPbmx5XCIsXCJkaXNhYmxlZFwiLFwidG9vbGJhckNvbmZpZ1wiLFwidG9vbGJhck9uQm90dG9tXCIsXCJibG9ja1N0eWxlRm5cIixcImN1c3RvbUNvbnRyb2xzXCIsXCJrZXlCaW5kaW5nRm5cIixcInJvb3RTdHlsZVwiLFwidG9vbGJhclN0eWxlXCIsXCJlZGl0b3JTdHlsZVwiXSksYj1yLmdldEVkaXRvclN0YXRlKCk7cz1zP2soKSh7fSxnZSxzKTpnZTt2YXIgdz1kdCgpKCh0PXt9LHgoKSh0LHllLmEuZWRpdG9yLCEwKSx4KCkodCx5ZS5hLmhpZGVQbGFjZWhvbGRlcix0aGlzLl9zaG91bGRIaWRlUGxhY2Vob2xkZXIoKSksdCksdSk7bnVsbD09YyYmKGM9bCk7dmFyIE09dm9pZCAwO3JldHVybiBjfHwoTT1VLmEuY3JlYXRlRWxlbWVudChadCx7cm9vdFN0eWxlOnYsaXNPbkJvdHRvbTpwLGNsYXNzTmFtZTpvLGtleUVtaXR0ZXI6dGhpcy5fa2V5RW1pdHRlcixlZGl0b3JTdGF0ZTpiLG9uQ2hhbmdlOnRoaXMuX29uQ2hhbmdlLGZvY3VzRWRpdG9yOnRoaXMuX2ZvY3VzLHRvb2xiYXJDb25maWc6ZixjdXN0b21Db250cm9sczpkfSkpLFUuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpkdCgpKHllLmEucm9vdCxpKSxzdHlsZTpnfSwhcCYmTSxVLmEuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6dyxzdHlsZTpffSxVLmEuY3JlYXRlRWxlbWVudChGLkVkaXRvcixrKCkoe30sUyx7YmxvY2tTdHlsZUZuOmZlKG0saCksY3VzdG9tU3R5bGVNYXA6cyxlZGl0b3JTdGF0ZTpiLGhhbmRsZVJldHVybjp0aGlzLl9oYW5kbGVSZXR1cm4sa2V5QmluZGluZ0ZuOnl8fHRoaXMuX2N1c3RvbUtleUhhbmRsZXIsaGFuZGxlS2V5Q29tbWFuZDp0aGlzLl9oYW5kbGVLZXlDb21tYW5kLG9uVGFiOnRoaXMuX29uVGFiLG9uQ2hhbmdlOnRoaXMuX29uQ2hhbmdlLHBsYWNlaG9sZGVyOmEscmVmOmZ1bmN0aW9uKHQpe2UuZWRpdG9yPXR9LHNwZWxsQ2hlY2s6ITAscmVhZE9ubHk6Y30pKSkscCYmTSl9fSx7a2V5OlwiX3Nob3VsZEhpZGVQbGFjZWhvbGRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9wcy52YWx1ZS5nZXRFZGl0b3JTdGF0ZSgpLGU9dC5nZXRDdXJyZW50Q29udGVudCgpO3JldHVybiFlLmhhc1RleHQoKSYmXCJ1bnN0eWxlZFwiIT09ZS5nZXRCbG9ja01hcCgpLmZpcnN0KCkuZ2V0VHlwZSgpfX0se2tleTpcIl9oYW5kbGVSZXR1cm5cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnByb3BzLmhhbmRsZVJldHVybjtyZXR1cm4hIShudWxsIT1lJiZlKHQpfHx0aGlzLl9oYW5kbGVSZXR1cm5Tb2Z0TmV3bGluZSh0KXx8dGhpcy5faGFuZGxlUmV0dXJuRW1wdHlMaXN0SXRlbSgpfHx0aGlzLl9oYW5kbGVSZXR1cm5TcGVjaWFsQmxvY2soKSl9fSx7a2V5OlwiX2hhbmRsZVJldHVyblNvZnROZXdsaW5lXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9wcy52YWx1ZS5nZXRFZGl0b3JTdGF0ZSgpO2lmKEooKSh0KSl7dmFyIG49ZS5nZXRTZWxlY3Rpb24oKTtpZihuLmlzQ29sbGFwc2VkKCkpdGhpcy5fb25DaGFuZ2UoRi5SaWNoVXRpbHMuaW5zZXJ0U29mdE5ld2xpbmUoZSkpO2Vsc2V7dmFyIHI9ZS5nZXRDdXJyZW50Q29udGVudCgpLGk9Ri5Nb2RpZmllci5yZW1vdmVSYW5nZShyLG4sXCJmb3J3YXJkXCIpLG89aS5nZXRTZWxlY3Rpb25BZnRlcigpLHU9aS5nZXRCbG9ja0ZvcktleShvLmdldFN0YXJ0S2V5KCkpO2k9Ri5Nb2RpZmllci5pbnNlcnRUZXh0KGksbyxcIlxcblwiLHUuZ2V0SW5saW5lU3R5bGVBdChvLmdldFN0YXJ0T2Zmc2V0KCkpLG51bGwpLHRoaXMuX29uQ2hhbmdlKEYuRWRpdG9yU3RhdGUucHVzaChlLGksXCJpbnNlcnQtZnJhZ21lbnRcIikpfXJldHVybiEwfXJldHVybiExfX0se2tleTpcIl9oYW5kbGVSZXR1cm5FbXB0eUxpc3RJdGVtXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnByb3BzLnZhbHVlLmdldEVkaXRvclN0YXRlKCksZT10LmdldFNlbGVjdGlvbigpO2lmKGUuaXNDb2xsYXBzZWQoKSl7dmFyIG49dC5nZXRDdXJyZW50Q29udGVudCgpLG89ZS5nZXRTdGFydEtleSgpLHU9bi5nZXRCbG9ja0ZvcktleShvKTtpZihhKHUpJiYwPT09dS5nZXRMZW5ndGgoKSl7dmFyIHM9dS5nZXREZXB0aCgpLGM9MD09PXM/aSh0LG8sUS5CTE9DS19UWVBFLlVOU1RZTEVEKTpyKHQsbyxzLTEpO3JldHVybiB0aGlzLl9vbkNoYW5nZShjKSwhMH19cmV0dXJuITF9fSx7a2V5OlwiX2hhbmRsZVJldHVyblNwZWNpYWxCbG9ja1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9wcy52YWx1ZS5nZXRFZGl0b3JTdGF0ZSgpLGU9dC5nZXRTZWxlY3Rpb24oKTtpZihlLmlzQ29sbGFwc2VkKCkpe3ZhciBuPXQuZ2V0Q3VycmVudENvbnRlbnQoKSxyPWUuZ2V0U3RhcnRLZXkoKSxpPW4uZ2V0QmxvY2tGb3JLZXkocik7aWYoIWEoaSkmJmkuZ2V0VHlwZSgpIT09US5CTE9DS19UWVBFLlVOU1RZTEVEJiZpLmdldExlbmd0aCgpPT09ZS5nZXRTdGFydE9mZnNldCgpKXt2YXIgbz11KHQscixRLkJMT0NLX1RZUEUuVU5TVFlMRUQpO3JldHVybiB0aGlzLl9vbkNoYW5nZShvKSwhMH19cmV0dXJuITF9fSx7a2V5OlwiX29uVGFiXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9wcy52YWx1ZS5nZXRFZGl0b3JTdGF0ZSgpLG49Ri5SaWNoVXRpbHMub25UYWIodCxlLDIpO24hPT1lJiZ0aGlzLl9vbkNoYW5nZShuKX19LHtrZXk6XCJfY3VzdG9tS2V5SGFuZGxlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXt9O3JldHVybiB0aGlzLl9rZXlFbWl0dGVyLmVtaXQoXCJrZXlwcmVzc1wiLHQsZSksZS53YXNIYW5kbGVkP251bGw6SCgpKHQpfX0se2tleTpcIl9oYW5kbGVLZXlDb21tYW5kXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9wcy52YWx1ZS5nZXRFZGl0b3JTdGF0ZSgpLG49Ri5SaWNoVXRpbHMuaGFuZGxlS2V5Q29tbWFuZChlLHQpO3JldHVybiEhbiYmKHRoaXMuX29uQ2hhbmdlKG4pLCEwKX19LHtrZXk6XCJfb25DaGFuZ2VcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnByb3BzLG49ZS5vbkNoYW5nZSxyPWUudmFsdWU7aWYobnVsbCE9bil7dmFyIGk9ci5zZXRFZGl0b3JTdGF0ZSh0KSxvPWkuZ2V0RWRpdG9yU3RhdGUoKTt0aGlzLl9oYW5kbGVJbmxpbmVJbWFnZVNlbGVjdGlvbihvKSxuKGkpfX19LHtrZXk6XCJfaGFuZGxlSW5saW5lSW1hZ2VTZWxlY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmdldFNlbGVjdGlvbigpLG49byh0KSxyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRFbnRpdHlBdChlKTtGLkVudGl0eS5tZXJnZURhdGEobix7c2VsZWN0ZWQ6ITB9KX0saT1mdW5jdGlvbih0KXtyZXR1cm4gdD4wJiZ0PG4uc2l6ZS0xfSx1PWZ1bmN0aW9uKHQsbil7cmV0dXJuIDA9PT1uJiZ0PmUuZ2V0U3RhcnRPZmZzZXQoKX0sYT1mdW5jdGlvbih0LHIpe3JldHVybiByPT09bi5zaXplLTEmJnQ8ZS5nZXRFbmRPZmZzZXQoKX07bi50b0luZGV4ZWRTZXEoKS5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7bGUuc3RyYXRlZ3kodCxmdW5jdGlvbihuKXsodShuLGUpfHxpKGUpfHxhKG4sZSkpJiZyKHQsbil9KX0pfX0se2tleTpcIl9mb2N1c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5lZGl0b3IuZm9jdXMoKX19XSksZX0oUC5Db21wb25lbnQpLF9lPShlLmRlZmF1bHQ9dmUsbmV3IEYuQ29tcG9zaXRlRGVjb3JhdG9yKFtvZSxsZV0pKTtNKCkodmUse0VkaXRvclZhbHVlOmllLGRlY29yYXRvcjpfZSxjcmVhdGVFbXB0eVZhbHVlOlMsY3JlYXRlVmFsdWVGcm9tU3RyaW5nOmIsQnV0dG9uR3JvdXA6YyxCdXR0b246U3QsRHJvcGRvd246V3R9KX0sZnVuY3Rpb24odCxlLG4pe24oMTQ4KSx0LmV4cG9ydHM9big0KS5PYmplY3QuYXNzaWdufSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big4KTtyKHIuUytyLkYsXCJPYmplY3RcIix7YXNzaWduOm4oMTQ5KX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big0NyksaT1uKDc1KSxvPW4oNTcpLHU9big0MSksYT1uKDY4KSxzPU9iamVjdC5hc3NpZ247dC5leHBvcnRzPSFzfHxuKDM1KShmdW5jdGlvbigpe3ZhciB0PXt9LGU9e30sbj1TeW1ib2woKSxyPVwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIjtyZXR1cm4gdFtuXT03LHIuc3BsaXQoXCJcIikuZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdPXR9KSw3IT1zKHt9LHQpW25dfHxPYmplY3Qua2V5cyhzKHt9LGUpKS5qb2luKFwiXCIpIT1yfSk/ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dSh0KSxzPWFyZ3VtZW50cy5sZW5ndGgsYz0xLGw9aS5mLGY9by5mO3M+YzspZm9yKHZhciBwLGg9YShhcmd1bWVudHNbYysrXSksZD1sP3IoaCkuY29uY2F0KGwoaCkpOnIoaCkseT1kLmxlbmd0aCxnPTA7eT5nOylmLmNhbGwoaCxwPWRbZysrXSkmJihuW3BdPWhbcF0pO3JldHVybiBufTpzfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0MCksaT1uKDU0KSxvPW4oMTUxKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbix1KXt2YXIgYSxzPXIoZSksYz1pKHMubGVuZ3RoKSxsPW8odSxjKTtpZih0JiZuIT1uKXtmb3IoO2M+bDspaWYoKGE9c1tsKytdKSE9YSlyZXR1cm4hMH1lbHNlIGZvcig7Yz5sO2wrKylpZigodHx8bCBpbiBzKSYmc1tsXT09PW4pcmV0dXJuIHR8fGx8fDA7cmV0dXJuIXQmJi0xfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcxKSxpPU1hdGgubWF4LG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9cih0KSx0PDA/aSh0K2UsMCk6byh0LGUpfX0sZnVuY3Rpb24odCxlLG4pe24oMTUzKTt2YXIgcj1uKDQpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiByLmRlZmluZVByb3BlcnR5KHQsZSxuKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDgpO3Ioci5TK3IuRiohbigxNSksXCJPYmplY3RcIix7ZGVmaW5lUHJvcGVydHk6bigxMSkuZn0pfSxmdW5jdGlvbih0LGUsbil7bigxNTUpLHQuZXhwb3J0cz1uKDQpLk9iamVjdC5nZXRQcm90b3R5cGVPZn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDEpLGk9bigxMDMpO24oMTA0KShcImdldFByb3RvdHlwZU9mXCIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGkocih0KSl9fSl9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e2RlZmF1bHQ6bigxNTcpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7big0OSksbig2MCksdC5leHBvcnRzPW4oNzgpLmYoXCJpdGVyYXRvclwiKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNzEpLGk9big3MCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciBvLHUsYT1TdHJpbmcoaShlKSkscz1yKG4pLGM9YS5sZW5ndGg7cmV0dXJuIHM8MHx8cz49Yz90P1wiXCI6dm9pZCAwOihvPWEuY2hhckNvZGVBdChzKSxvPDU1Mjk2fHxvPjU2MzE5fHxzKzE9PT1jfHwodT1hLmNoYXJDb2RlQXQocysxKSk8NTYzMjB8fHU+NTczNDM/dD9hLmNoYXJBdChzKTpvOnQ/YS5zbGljZShzLHMrMik6dS01NjMyMCsoby01NTI5Njw8MTApKzY1NTM2KX19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big1OCksaT1uKDQ2KSxvPW4oNTkpLHU9e307bigyOSkodSxuKDYpKFwiaXRlcmF0b3JcIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dC5wcm90b3R5cGU9cih1LHtuZXh0OmkoMSxuKX0pLG8odCxlK1wiIEl0ZXJhdG9yXCIpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTEpLGk9bigzMCksbz1uKDQ3KTt0LmV4cG9ydHM9bigxNSk/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24odCxlKXtpKHQpO2Zvcih2YXIgbix1PW8oZSksYT11Lmxlbmd0aCxzPTA7YT5zOylyLmYodCxuPXVbcysrXSxlW25dKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE0KS5kb2N1bWVudDt0LmV4cG9ydHM9ciYmci5kb2N1bWVudEVsZW1lbnR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE2MyksaT1uKDEwNiksbz1uKDQzKSx1PW4oNDApO3QuZXhwb3J0cz1uKDc3KShBcnJheSxcIkFycmF5XCIsZnVuY3Rpb24odCxlKXt0aGlzLl90PXUodCksdGhpcy5faT0wLHRoaXMuX2s9ZX0sZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90LGU9dGhpcy5fayxuPXRoaXMuX2krKztyZXR1cm4hdHx8bj49dC5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLGkoMSkpOlwia2V5c1wiPT1lP2koMCxuKTpcInZhbHVlc1wiPT1lP2koMCx0W25dKTppKDAsW24sdFtuXV0pfSxcInZhbHVlc1wiKSxvLkFyZ3VtZW50cz1vLkFycmF5LHIoXCJrZXlzXCIpLHIoXCJ2YWx1ZXNcIikscihcImVudHJpZXNcIil9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz17ZGVmYXVsdDpuKDE2NSksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKHQsZSxuKXtuKDE2NiksbigxMTApLG4oMTY5KSxuKDE3MCksdC5leHBvcnRzPW4oNCkuU3ltYm9sfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxNCksaT1uKDM2KSxvPW4oMTUpLHU9big4KSxhPW4oMTA1KSxzPW4oNzkpLktFWSxjPW4oMzUpLGw9big3MyksZj1uKDU5KSxwPW4oNTYpLGg9big2KSxkPW4oNzgpLHk9big4MCksZz1uKDE2Nyksdj1uKDEwNyksXz1uKDMwKSxtPW4oMjEpLFM9big0MCksYj1uKDY3KSx3PW4oNDYpLE09big1OCksRT1uKDE2OCkseD1uKDEwOSksST1uKDExKSxrPW4oNDcpLEw9eC5mLFQ9SS5mLEQ9RS5mLE89ci5TeW1ib2wsTj1yLkpTT04sQz1OJiZOLnN0cmluZ2lmeSxqPWgoXCJfaGlkZGVuXCIpLEE9aChcInRvUHJpbWl0aXZlXCIpLHo9e30ucHJvcGVydHlJc0VudW1lcmFibGUsQj1sKFwic3ltYm9sLXJlZ2lzdHJ5XCIpLFI9bChcInN5bWJvbHNcIiksSz1sKFwib3Atc3ltYm9sc1wiKSxQPU9iamVjdC5wcm90b3R5cGUsVT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBPLEY9ci5RT2JqZWN0LFk9IUZ8fCFGLnByb3RvdHlwZXx8IUYucHJvdG90eXBlLmZpbmRDaGlsZCxIPW8mJmMoZnVuY3Rpb24oKXtyZXR1cm4gNyE9TShUKHt9LFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVCh0aGlzLFwiYVwiLHt2YWx1ZTo3fSkuYX19KSkuYX0pP2Z1bmN0aW9uKHQsZSxuKXt2YXIgcj1MKFAsZSk7ciYmZGVsZXRlIFBbZV0sVCh0LGUsbiksciYmdCE9PVAmJlQoUCxlLHIpfTpULHE9ZnVuY3Rpb24odCl7dmFyIGU9Ult0XT1NKE8ucHJvdG90eXBlKTtyZXR1cm4gZS5faz10LGV9LFc9VSYmXCJzeW1ib2xcIj09dHlwZW9mIE8uaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgT30sRz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9PT1QJiZHKEssZSxuKSxfKHQpLGU9YihlLCEwKSxfKG4pLGkoUixlKT8obi5lbnVtZXJhYmxlPyhpKHQsaikmJnRbal1bZV0mJih0W2pdW2VdPSExKSxuPU0obix7ZW51bWVyYWJsZTp3KDAsITEpfSkpOihpKHQsail8fFQodCxqLHcoMSx7fSkpLHRbal1bZV09ITApLEgodCxlLG4pKTpUKHQsZSxuKX0sVj1mdW5jdGlvbih0LGUpe18odCk7Zm9yKHZhciBuLHI9ZyhlPVMoZSkpLGk9MCxvPXIubGVuZ3RoO28+aTspRyh0LG49cltpKytdLGVbbl0pO3JldHVybiB0fSxRPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWU/TSh0KTpWKE0odCksZSl9LFo9ZnVuY3Rpb24odCl7dmFyIGU9ei5jYWxsKHRoaXMsdD1iKHQsITApKTtyZXR1cm4hKHRoaXM9PT1QJiZpKFIsdCkmJiFpKEssdCkpJiYoIShlfHwhaSh0aGlzLHQpfHwhaShSLHQpfHxpKHRoaXMsaikmJnRoaXNbal1bdF0pfHxlKX0sSj1mdW5jdGlvbih0LGUpe2lmKHQ9Uyh0KSxlPWIoZSwhMCksdCE9PVB8fCFpKFIsZSl8fGkoSyxlKSl7dmFyIG49TCh0LGUpO3JldHVybiFufHwhaShSLGUpfHxpKHQsaikmJnRbal1bZV18fChuLmVudW1lcmFibGU9ITApLG59fSxYPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPUQoUyh0KSkscj1bXSxvPTA7bi5sZW5ndGg+bzspaShSLGU9bltvKytdKXx8ZT09anx8ZT09c3x8ci5wdXNoKGUpO3JldHVybiByfSwkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPXQ9PT1QLHI9RChuP0s6Uyh0KSksbz1bXSx1PTA7ci5sZW5ndGg+dTspIWkoUixlPXJbdSsrXSl8fG4mJiFpKFAsZSl8fG8ucHVzaChSW2VdKTtyZXR1cm4gb307VXx8KE89ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2YgTyl0aHJvdyBUeXBlRXJyb3IoXCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhXCIpO3ZhciB0PXAoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApLGU9ZnVuY3Rpb24obil7dGhpcz09PVAmJmUuY2FsbChLLG4pLGkodGhpcyxqKSYmaSh0aGlzW2pdLHQpJiYodGhpc1tqXVt0XT0hMSksSCh0aGlzLHQsdygxLG4pKX07cmV0dXJuIG8mJlkmJkgoUCx0LHtjb25maWd1cmFibGU6ITAsc2V0OmV9KSxxKHQpfSxhKE8ucHJvdG90eXBlLFwidG9TdHJpbmdcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSkseC5mPUosSS5mPUcsbigxMDgpLmY9RS5mPVgsbig1NykuZj1aLG4oNzUpLmY9JCxvJiYhbig1NSkmJmEoUCxcInByb3BlcnR5SXNFbnVtZXJhYmxlXCIsWiwhMCksZC5mPWZ1bmN0aW9uKHQpe3JldHVybiBxKGgodCkpfSksdSh1LkcrdS5XK3UuRiohVSx7U3ltYm9sOk99KTtmb3IodmFyIHR0PVwiaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXNcIi5zcGxpdChcIixcIiksZXQ9MDt0dC5sZW5ndGg+ZXQ7KWgodHRbZXQrK10pO2Zvcih2YXIgbnQ9ayhoLnN0b3JlKSxydD0wO250Lmxlbmd0aD5ydDspeShudFtydCsrXSk7dSh1LlMrdS5GKiFVLFwiU3ltYm9sXCIse2ZvcjpmdW5jdGlvbih0KXtyZXR1cm4gaShCLHQrPVwiXCIpP0JbdF06Qlt0XT1PKHQpfSxrZXlGb3I6ZnVuY3Rpb24odCl7aWYoIVcodCkpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGEgc3ltYm9sIVwiKTtmb3IodmFyIGUgaW4gQilpZihCW2VdPT09dClyZXR1cm4gZX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7WT0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7WT0hMX19KSx1KHUuUyt1LkYqIVUsXCJPYmplY3RcIix7Y3JlYXRlOlEsZGVmaW5lUHJvcGVydHk6RyxkZWZpbmVQcm9wZXJ0aWVzOlYsZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOkosZ2V0T3duUHJvcGVydHlOYW1lczpYLGdldE93blByb3BlcnR5U3ltYm9sczokfSksTiYmdSh1LlMrdS5GKighVXx8YyhmdW5jdGlvbigpe3ZhciB0PU8oKTtyZXR1cm5cIltudWxsXVwiIT1DKFt0XSl8fFwie31cIiE9Qyh7YTp0fSl8fFwie31cIiE9QyhPYmplY3QodCkpfSkpLFwiSlNPTlwiLHtzdHJpbmdpZnk6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG4scj1bdF0saT0xO2FyZ3VtZW50cy5sZW5ndGg+aTspci5wdXNoKGFyZ3VtZW50c1tpKytdKTtpZihuPWU9clsxXSwobShlKXx8dm9pZCAwIT09dCkmJiFXKHQpKXJldHVybiB2KGUpfHwoZT1mdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihlPW4uY2FsbCh0aGlzLHQsZSkpLCFXKGUpKXJldHVybiBlfSksclsxXT1lLEMuYXBwbHkoTixyKX19KSxPLnByb3RvdHlwZVtBXXx8bigyOSkoTy5wcm90b3R5cGUsQSxPLnByb3RvdHlwZS52YWx1ZU9mKSxmKE8sXCJTeW1ib2xcIiksZihNYXRoLFwiTWF0aFwiLCEwKSxmKHIuSlNPTixcIkpTT05cIiwhMCl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQ3KSxpPW4oNzUpLG89big1Nyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXIodCksbj1pLmY7aWYobilmb3IodmFyIHUsYT1uKHQpLHM9by5mLGM9MDthLmxlbmd0aD5jOylzLmNhbGwodCx1PWFbYysrXSkmJmUucHVzaCh1KTtyZXR1cm4gZX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQwKSxpPW4oMTA4KS5mLG89e30udG9TdHJpbmcsdT1cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W10sYT1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIGkodCl9Y2F0Y2godCl7cmV0dXJuIHUuc2xpY2UoKX19O3QuZXhwb3J0cy5mPWZ1bmN0aW9uKHQpe3JldHVybiB1JiZcIltvYmplY3QgV2luZG93XVwiPT1vLmNhbGwodCk/YSh0KTppKHIodCkpfX0sZnVuY3Rpb24odCxlLG4pe24oODApKFwiYXN5bmNJdGVyYXRvclwiKX0sZnVuY3Rpb24odCxlLG4pe24oODApKFwib2JzZXJ2YWJsZVwiKX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz17ZGVmYXVsdDpuKDE3MiksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKHQsZSxuKXtuKDE3MyksdC5leHBvcnRzPW4oNCkuT2JqZWN0LnNldFByb3RvdHlwZU9mfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big4KTtyKHIuUyxcIk9iamVjdFwiLHtzZXRQcm90b3R5cGVPZjpuKDE3NCkuc2V0fSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIxKSxpPW4oMzApLG89ZnVuY3Rpb24odCxlKXtpZihpKHQpLCFyKGUpJiZudWxsIT09ZSl0aHJvdyBUeXBlRXJyb3IoZStcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KFwiX19wcm90b19fXCJpbnt9P2Z1bmN0aW9uKHQsZSxyKXt0cnl7cj1uKDM0KShGdW5jdGlvbi5jYWxsLG4oMTA5KS5mKE9iamVjdC5wcm90b3R5cGUsXCJfX3Byb3RvX19cIikuc2V0LDIpLHIodCxbXSksZT0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2godCl7ZT0hMH1yZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4gbyh0LG4pLGU/dC5fX3Byb3RvX189bjpyKHQsbiksdH19KHt9LCExKTp2b2lkIDApLGNoZWNrOm99fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPXtkZWZhdWx0Om4oMTc2KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24odCxlLG4pe24oMTc3KTt2YXIgcj1uKDQpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gci5jcmVhdGUodCxlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDgpO3Ioci5TLFwiT2JqZWN0XCIse2NyZWF0ZTpuKDU4KX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big5KSxpPXJ8fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKHRbcl09bltyXSl9cmV0dXJuIHR9LG89big1MCksdT1uKDcpLGE9bigzNykscz1uKDEwKSxjPW4oMzEpLGw9big1KSxmPW4oMikscD1uKDApLGg9KG4oNDQpLG4oMjUpKSxkPW4oMTkzKSx5PWMuZHJhZnRfdHJlZV9kYXRhX3N1cHBvcnQsZz15P3M6YSx2PXAuTGlzdCxfPXAuUmVwZWF0LG09e2luc2VydEF0b21pY0Jsb2NrOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LmdldEN1cnJlbnRDb250ZW50KCksYT10LmdldFNlbGVjdGlvbigpLHM9bC5yZW1vdmVSYW5nZShyLGEsXCJiYWNrd2FyZFwiKSxjPXMuZ2V0U2VsZWN0aW9uQWZ0ZXIoKSxwPWwuc3BsaXRCbG9jayhzLGMpLGQ9cC5nZXRTZWxlY3Rpb25BZnRlcigpLG09bC5zZXRCbG9ja1R5cGUocCxkLFwiYXRvbWljXCIpLFM9dS5jcmVhdGUoe2VudGl0eTplfSksYj17a2V5OmgoKSx0eXBlOlwiYXRvbWljXCIsdGV4dDpuLGNoYXJhY3Rlckxpc3Q6dihfKFMsbi5sZW5ndGgpKX0sdz17a2V5OmgoKSx0eXBlOlwidW5zdHlsZWRcIn07eSYmKGI9aSh7fSxiLHtuZXh0U2libGluZzp3LmtleX0pLHc9aSh7fSx3LHtwcmV2U2libGluZzpiLmtleX0pKTt2YXIgTT1bbmV3IGcoYiksbmV3IGcodyldLEU9by5jcmVhdGVGcm9tQXJyYXkoTSkseD1sLnJlcGxhY2VXaXRoRnJhZ21lbnQobSxkLEUpLEk9eC5tZXJnZSh7c2VsZWN0aW9uQmVmb3JlOmEsc2VsZWN0aW9uQWZ0ZXI6eC5nZXRTZWxlY3Rpb25BZnRlcigpLnNldChcImhhc0ZvY3VzXCIsITApfSk7cmV0dXJuIGYucHVzaCh0LEksXCJpbnNlcnQtZnJhZ21lbnRcIil9LG1vdmVBdG9taWNCbG9jazpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT10LmdldEN1cnJlbnRDb250ZW50KCksbz10LmdldFNlbGVjdGlvbigpLHU9dm9pZCAwO2lmKFwiYmVmb3JlXCI9PT1yfHxcImFmdGVyXCI9PT1yKXt2YXIgYT1pLmdldEJsb2NrRm9yS2V5KFwiYmVmb3JlXCI9PT1yP24uZ2V0U3RhcnRLZXkoKTpuLmdldEVuZEtleSgpKTt1PWQoaSxlLGEscil9ZWxzZXt2YXIgcz1sLnJlbW92ZVJhbmdlKGksbixcImJhY2t3YXJkXCIpLGM9cy5nZXRTZWxlY3Rpb25BZnRlcigpLHA9cy5nZXRCbG9ja0ZvcktleShjLmdldEZvY3VzS2V5KCkpO2lmKDA9PT1jLmdldFN0YXJ0T2Zmc2V0KCkpdT1kKHMsZSxwLFwiYmVmb3JlXCIpO2Vsc2UgaWYoYy5nZXRFbmRPZmZzZXQoKT09PXAuZ2V0TGVuZ3RoKCkpdT1kKHMsZSxwLFwiYWZ0ZXJcIik7ZWxzZXt2YXIgaD1sLnNwbGl0QmxvY2socyxjKSx5PWguZ2V0U2VsZWN0aW9uQWZ0ZXIoKSxnPWguZ2V0QmxvY2tGb3JLZXkoeS5nZXRGb2N1c0tleSgpKTt1PWQoaCxlLGcsXCJiZWZvcmVcIil9fXZhciB2PXUubWVyZ2Uoe3NlbGVjdGlvbkJlZm9yZTpvLHNlbGVjdGlvbkFmdGVyOnUuZ2V0U2VsZWN0aW9uQWZ0ZXIoKS5zZXQoXCJoYXNGb2N1c1wiLCEwKX0pO3JldHVybiBmLnB1c2godCx2LFwibW92ZS1ibG9ja1wiKX19O3QuZXhwb3J0cz1tfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9e2RyYWZ0X2tpbGxzd2l0Y2hfYWxsb3dfbm9udGV4dG5vZGVzOiExLGRyYWZ0X3NlZ21lbnRlZF9lbnRpdGllc19iZWhhdmlvcjohMSxkcmFmdF9oYW5kbGViZWZvcmVpbnB1dF9jb21wb3NlZF90ZXh0OiExLGRyYWZ0X3RyZWVfZGF0YV9zdXBwb3J0OiExfTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlLG4scil7dmFyIG89dC5nZXRCbG9ja01hcCgpLGE9ZS5nZXRTdGFydEtleSgpLHM9ZS5nZXRTdGFydE9mZnNldCgpLGM9ZS5nZXRFbmRLZXkoKSxsPWUuZ2V0RW5kT2Zmc2V0KCksZj1vLnNraXBVbnRpbChmdW5jdGlvbih0LGUpe3JldHVybiBlPT09YX0pLnRha2VVbnRpbChmdW5jdGlvbih0LGUpe3JldHVybiBlPT09Y30pLmNvbmNhdCh1KFtbYyxvLmdldChjKV1dKSkubWFwKGZ1bmN0aW9uKHQsZSl7dmFyIG8sdTthPT09Yz8obz1zLHU9bCk6KG89ZT09PWE/czowLHU9ZT09PWM/bDp0LmdldExlbmd0aCgpKTtmb3IodmFyIGYscD10LmdldENoYXJhY3Rlckxpc3QoKTtvPHU7KWY9cC5nZXQobykscD1wLnNldChvLHI/aS5hcHBseVN0eWxlKGYsbik6aS5yZW1vdmVTdHlsZShmLG4pKSxvKys7cmV0dXJuIHQuc2V0KFwiY2hhcmFjdGVyTGlzdFwiLHApfSk7cmV0dXJuIHQubWVyZ2Uoe2Jsb2NrTWFwOm8ubWVyZ2UoZiksc2VsZWN0aW9uQmVmb3JlOmUsc2VsZWN0aW9uQWZ0ZXI6ZX0pfXZhciBpPW4oNyksbz1uKDApLHU9by5NYXAsYT17YWRkOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gcih0LGUsbiwhMCl9LHJlbW92ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHIodCxlLG4sITEpfX07dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSxuKXt2YXIgcj10LmdldEJsb2NrTWFwKCksdT1lLmdldFN0YXJ0S2V5KCksYT1lLmdldFN0YXJ0T2Zmc2V0KCkscz1lLmdldEVuZEtleSgpLGM9ZS5nZXRFbmRPZmZzZXQoKSxsPXIuc2tpcFVudGlsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9PT11fSkudGFrZVVudGlsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9PT1zfSkudG9PcmRlcmVkTWFwKCkubWVyZ2UoaS5PcmRlcmVkTWFwKFtbcyxyLmdldChzKV1dKSkubWFwKGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZT09PXU/YTowLGk9ZT09PXM/Yzp0LmdldExlbmd0aCgpO3JldHVybiBvKHQscixpLG4pfSk7cmV0dXJuIHQubWVyZ2Uoe2Jsb2NrTWFwOnIubWVyZ2UobCksc2VsZWN0aW9uQmVmb3JlOmUsc2VsZWN0aW9uQWZ0ZXI6ZX0pfXZhciBpPW4oMCksbz1uKDE4Mik7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSxuLHIpe2Zvcih2YXIgbz10LmdldENoYXJhY3Rlckxpc3QoKTtlPG47KW89by5zZXQoZSxpLmFwcGx5RW50aXR5KG8uZ2V0KGUpLHIpKSxlKys7cmV0dXJuIHQuc2V0KFwiY2hhcmFjdGVyTGlzdFwiLG8pfXZhciBpPW4oNyk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSxuLHIsbyl7dmFyIHU9ci5nZXRTdGFydE9mZnNldCgpLGE9ci5nZXRFbmRPZmZzZXQoKSxzPWUuZ2V0RW50aXR5QXQodSksYz1uLmdldEVudGl0eUF0KGEtMSk7aWYoIXMmJiFjKXJldHVybiByO3ZhciBsPXI7aWYocyYmcz09PWMpbD1pKHQsZSxsLG8scywhMCwhMCk7ZWxzZSBpZihzJiZjKXt2YXIgZj1pKHQsZSxsLG8scywhMSwhMCkscD1pKHQsbixsLG8sYywhMSwhMSk7bD1sLm1lcmdlKHthbmNob3JPZmZzZXQ6Zi5nZXRBbmNob3JPZmZzZXQoKSxmb2N1c09mZnNldDpwLmdldEZvY3VzT2Zmc2V0KCksaXNCYWNrd2FyZDohMX0pfWVsc2UgaWYocyl7dmFyIGg9aSh0LGUsbCxvLHMsITEsITApO2w9bC5tZXJnZSh7YW5jaG9yT2Zmc2V0OmguZ2V0U3RhcnRPZmZzZXQoKSxpc0JhY2t3YXJkOiExfSl9ZWxzZSBpZihjKXt2YXIgZD1pKHQsbixsLG8sYywhMSwhMSk7bD1sLm1lcmdlKHtmb2N1c09mZnNldDpkLmdldEVuZE9mZnNldCgpLGlzQmFja3dhcmQ6ITF9KX1yZXR1cm4gbH1mdW5jdGlvbiBpKHQsZSxuLHIsaSxzLGMpe3ZhciBsPW4uZ2V0U3RhcnRPZmZzZXQoKSxmPW4uZ2V0RW5kT2Zmc2V0KCkscD10Ll9fZ2V0KGkpLGg9cC5nZXRNdXRhYmlsaXR5KCksZD1jP2w6ZjtpZihcIk1VVEFCTEVcIj09PWgpcmV0dXJuIG47dmFyIHk9dShlLGkpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gZDw9dC5lbmQmJmQ+PXQuc3RhcnR9KTsxIT15Lmxlbmd0aCYmYSghMSk7dmFyIGc9eVswXTtpZihcIklNTVVUQUJMRVwiPT09aClyZXR1cm4gbi5tZXJnZSh7YW5jaG9yT2Zmc2V0Omcuc3RhcnQsZm9jdXNPZmZzZXQ6Zy5lbmQsaXNCYWNrd2FyZDohMX0pO3N8fChjP2Y9Zy5lbmQ6bD1nLnN0YXJ0KTt2YXIgdj1vLmdldFJlbW92YWxSYW5nZShsLGYsZS5nZXRUZXh0KCkuc2xpY2UoZy5zdGFydCxnLmVuZCksZy5zdGFydCxyKTtyZXR1cm4gbi5tZXJnZSh7YW5jaG9yT2Zmc2V0OnYuc3RhcnQsZm9jdXNPZmZzZXQ6di5lbmQsaXNCYWNrd2FyZDohMX0pfXZhciBvPW4oMTg0KSx1PW4oMTg1KSxhPW4oMSk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj17Z2V0UmVtb3ZhbFJhbmdlOmZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG89bi5zcGxpdChcIiBcIik7bz1vLm1hcChmdW5jdGlvbih0LGUpe2lmKFwiZm9yd2FyZFwiPT09aSl7aWYoZT4wKXJldHVyblwiIFwiK3R9ZWxzZSBpZihlPG8ubGVuZ3RoLTEpcmV0dXJuIHQrXCIgXCI7cmV0dXJuIHR9KTtmb3IodmFyIHUsYSxzPXIsYz1udWxsLGw9bnVsbCxmPTA7ZjxvLmxlbmd0aDtmKyspe2lmKGE9b1tmXSx1PXMrYS5sZW5ndGgsdDx1JiZzPGUpbnVsbCE9PWM/bD11OihjPXMsbD11KTtlbHNlIGlmKG51bGwhPT1jKWJyZWFrO3M9dX12YXIgcD1yK24ubGVuZ3RoLGg9Yz09PXIsZD1sPT09cDtyZXR1cm4oIWgmJmR8fGgmJiFkKSYmKFwiZm9yd2FyZFwiPT09aT9sIT09cCYmbCsrOmMhPT1yJiZjLS0pLHtzdGFydDpjLGVuZDpsfX19O3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe3ZhciBuPVtdO3JldHVybiB0LmZpbmRFbnRpdHlSYW5nZXMoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0RW50aXR5KCk9PT1lfSxmdW5jdGlvbih0LGUpe24ucHVzaCh7c3RhcnQ6dCxlbmQ6ZX0pfSksbi5sZW5ndGh8fGkoITEpLG59dmFyIGk9bigxKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oNTApLGk9bigxMCksbz1uKDApLHU9bigxMTMpLGE9bigxKSxzPW4oMTExKSxjPW8uTGlzdCxsPWZ1bmN0aW9uKHQsZSxuLHIsaSxvKXt2YXIgYT1uLmdldChpKSxzPWEuZ2V0VGV4dCgpLGM9YS5nZXRDaGFyYWN0ZXJMaXN0KCksbD1pLGY9bytyLmdldFRleHQoKS5sZW5ndGgscD1hLm1lcmdlKHt0ZXh0OnMuc2xpY2UoMCxvKStyLmdldFRleHQoKStzLnNsaWNlKG8pLGNoYXJhY3Rlckxpc3Q6dShjLHIuZ2V0Q2hhcmFjdGVyTGlzdCgpLG8pLGRhdGE6ci5nZXREYXRhKCl9KTtyZXR1cm4gdC5tZXJnZSh7YmxvY2tNYXA6bi5zZXQoaSxwKSxzZWxlY3Rpb25CZWZvcmU6ZSxzZWxlY3Rpb25BZnRlcjplLm1lcmdlKHthbmNob3JLZXk6bCxhbmNob3JPZmZzZXQ6Zixmb2N1c0tleTpsLGZvY3VzT2Zmc2V0OmYsaXNCYWNrd2FyZDohMX0pfSl9LGY9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQuZ2V0VGV4dCgpLGk9dC5nZXRDaGFyYWN0ZXJMaXN0KCksbz1yLnNsaWNlKDAsZSksdT1pLnNsaWNlKDAsZSksYT1uLmZpcnN0KCk7cmV0dXJuIHQubWVyZ2Uoe3RleHQ6bythLmdldFRleHQoKSxjaGFyYWN0ZXJMaXN0OnUuY29uY2F0KGEuZ2V0Q2hhcmFjdGVyTGlzdCgpKSx0eXBlOm8/dC5nZXRUeXBlKCk6YS5nZXRUeXBlKCksZGF0YTphLmdldERhdGEoKX0pfSxwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LmdldFRleHQoKSxpPXQuZ2V0Q2hhcmFjdGVyTGlzdCgpLG89ci5sZW5ndGgsdT1yLnNsaWNlKGUsbyksYT1pLnNsaWNlKGUsbykscz1uLmxhc3QoKTtyZXR1cm4gcy5tZXJnZSh7dGV4dDpzLmdldFRleHQoKSt1LGNoYXJhY3Rlckxpc3Q6cy5nZXRDaGFyYWN0ZXJMaXN0KCkuY29uY2F0KGEpLGRhdGE6cy5nZXREYXRhKCl9KX0saD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0S2V5KCkscj10LGk9W107Zm9yKGUuZ2V0KG4pJiZpLnB1c2gobik7ciYmci5nZXROZXh0U2libGluZ0tleSgpOyl7dmFyIG89ci5nZXROZXh0U2libGluZ0tleSgpO2lmKCFvKWJyZWFrO2kucHVzaChvKSxyPWUuZ2V0KG8pfXJldHVybiBpfSxkPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB0LndpdGhNdXRhdGlvbnMoZnVuY3Rpb24oZSl7dmFyIGk9bi5nZXRLZXkoKSxvPXIuZ2V0S2V5KCksdT1uLmdldE5leHRTaWJsaW5nS2V5KCksYT1uLmdldFBhcmVudEtleSgpLHM9aChyLHQpLGw9c1tzLmxlbmd0aC0xXTtpZihlLmdldChvKT8oZS5zZXRJbihbaSxcIm5leHRTaWJsaW5nXCJdLG8pLGUuc2V0SW4oW28sXCJwcmV2U2libGluZ1wiXSxpKSk6KGUuc2V0SW4oW2ksXCJuZXh0U2libGluZ1wiXSxyLmdldE5leHRTaWJsaW5nS2V5KCkpLGUuc2V0SW4oW3IuZ2V0TmV4dFNpYmxpbmdLZXkoKSxcInByZXZTaWJsaW5nXCJdLGkpKSxlLnNldEluKFtsLFwibmV4dFNpYmxpbmdcIl0sdSksdSYmZS5zZXRJbihbdSxcInByZXZTaWJsaW5nXCJdLGwpLHMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZS5zZXRJbihbdCxcInBhcmVudFwiXSxhKX0pLGEpe3ZhciBmPXQuZ2V0KGEpLHA9Zi5nZXRDaGlsZEtleXMoKSxkPXAuaW5kZXhPZihpKSx5PWQrMSxnPXAudG9BcnJheSgpO2cuc3BsaWNlLmFwcGx5KGcsW3ksMF0uY29uY2F0KHMpKSxlLnNldEluKFthLFwiY2hpbGRyZW5cIl0sYyhnKSl9fSl9LHk9ZnVuY3Rpb24odCxlLG4sbyx1LGEpe3ZhciBzPW4uZmlyc3QoKWluc3RhbmNlb2YgaSxjPVtdLGw9by5zaXplLGg9bi5nZXQodSkseT1vLmZpcnN0KCksZz1vLmxhc3QoKSx2PWcuZ2V0TGVuZ3RoKCksXz1nLmdldEtleSgpLG09cyYmKCFoLmdldENoaWxkS2V5cygpLmlzRW1wdHkoKXx8IXkuZ2V0Q2hpbGRLZXlzKCkuaXNFbXB0eSgpKTtuLmZvckVhY2goZnVuY3Rpb24odCxlKXtpZihlIT09dSlyZXR1cm4gdm9pZCBjLnB1c2godCk7bT9jLnB1c2godCk6Yy5wdXNoKGYodCxhLG8pKSxvLnNsaWNlKG0/MDoxLGwtMSkuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gYy5wdXNoKHQpfSksYy5wdXNoKHAodCxhLG8pKX0pO3ZhciBTPXIuY3JlYXRlRnJvbUFycmF5KGMpO3JldHVybiBzJiYoUz1kKFMsMCxoLHkpKSx0Lm1lcmdlKHtibG9ja01hcDpTLHNlbGVjdGlvbkJlZm9yZTplLHNlbGVjdGlvbkFmdGVyOmUubWVyZ2Uoe2FuY2hvcktleTpfLGFuY2hvck9mZnNldDp2LGZvY3VzS2V5Ol8sZm9jdXNPZmZzZXQ6dixpc0JhY2t3YXJkOiExfSl9KX0sZz1mdW5jdGlvbih0LGUsbil7ZS5pc0NvbGxhcHNlZCgpfHxhKCExKTt2YXIgcj10LmdldEJsb2NrTWFwKCksbz1zKG4pLHU9ZS5nZXRTdGFydEtleSgpLGM9ZS5nZXRTdGFydE9mZnNldCgpLGY9ci5nZXQodSk7cmV0dXJuIGYgaW5zdGFuY2VvZiBpJiYoZi5nZXRDaGlsZEtleXMoKS5pc0VtcHR5KCl8fGEoITEpKSwxPT09by5zaXplP2wodCxlLHIsby5maXJzdCgpLHUsYyk6eSh0LGUscixvLHUsYyl9O3QuZXhwb3J0cz1nfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUsbixyKXtlLmlzQ29sbGFwc2VkKCl8fHUoITEpO3ZhciBpPW4ubGVuZ3RoO2lmKCFpKXJldHVybiB0O3ZhciBzPXQuZ2V0QmxvY2tNYXAoKSxjPWUuZ2V0U3RhcnRLZXkoKSxsPWUuZ2V0U3RhcnRPZmZzZXQoKSxmPXMuZ2V0KGMpLHA9Zi5nZXRUZXh0KCksaD1mLm1lcmdlKHt0ZXh0OnAuc2xpY2UoMCxsKStuK3Auc2xpY2UobCxmLmdldExlbmd0aCgpKSxjaGFyYWN0ZXJMaXN0Om8oZi5nZXRDaGFyYWN0ZXJMaXN0KCksYShyLGkpLnRvTGlzdCgpLGwpfSksZD1sK2k7cmV0dXJuIHQubWVyZ2Uoe2Jsb2NrTWFwOnMuc2V0KGMsaCksc2VsZWN0aW9uQWZ0ZXI6ZS5tZXJnZSh7YW5jaG9yT2Zmc2V0OmQsZm9jdXNPZmZzZXQ6ZH0pfSl9dmFyIGk9bigwKSxvPW4oMTEzKSx1PW4oMSksYT1pLlJlcGVhdDt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlLG4pe3ZhciByPWUuZ2V0U3RhcnRLZXkoKSxpPWUuZ2V0RW5kS2V5KCksdT10LmdldEJsb2NrTWFwKCksYT11LnRvU2VxKCkuc2tpcFVudGlsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9PT1yfSkudGFrZVVudGlsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9PT1pfSkuY29uY2F0KG8oW1tpLHUuZ2V0KGkpXV0pKS5tYXAobik7cmV0dXJuIHQubWVyZ2Uoe2Jsb2NrTWFwOnUubWVyZ2UoYSksc2VsZWN0aW9uQmVmb3JlOmUsc2VsZWN0aW9uQWZ0ZXI6ZX0pfXZhciBpPW4oMCksbz1pLk1hcDt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTApLGk9bigwKSxvPW4oMTE0KSx1PShpLkxpc3QsaS5NYXApLGE9ZnVuY3Rpb24odCxlLG4pe2lmKHQpe3ZhciByPWUuZ2V0KHQpO3ImJmUuc2V0KHQsbihyKSl9fSxzPWZ1bmN0aW9uKHQsZSl7dmFyIG49W107aWYoIXQpcmV0dXJuIG47Zm9yKHZhciByPWUuZ2V0KHQpO3ImJnIuZ2V0UGFyZW50S2V5KCk7KXt2YXIgaT1yLmdldFBhcmVudEtleSgpO2kmJm4ucHVzaChpKSxyPWk/ZS5nZXQoaSk6bnVsbH1yZXR1cm4gbn0sYz1mdW5jdGlvbih0LGUpe3ZhciBuPVtdO2lmKCF0KXJldHVybiBuO2Zvcih2YXIgcj1vKHQsZSk7ciYmZS5nZXQocik7KXt2YXIgaT1lLmdldChyKTtuLnB1c2gocikscj1pLmdldFBhcmVudEtleSgpP28oaSxlKTpudWxsfXJldHVybiBufSxsPWZ1bmN0aW9uKHQsZSxuKXtpZighdClyZXR1cm4gbnVsbDtmb3IodmFyIHI9bi5nZXQodC5nZXRLZXkoKSkuZ2V0TmV4dFNpYmxpbmdLZXkoKTtyJiYhZS5nZXQocik7KXI9bi5nZXQocikuZ2V0TmV4dFNpYmxpbmdLZXkoKXx8bnVsbDtyZXR1cm4gcn0sZj1mdW5jdGlvbih0LGUsbil7aWYoIXQpcmV0dXJuIG51bGw7Zm9yKHZhciByPW4uZ2V0KHQuZ2V0S2V5KCkpLmdldFByZXZTaWJsaW5nS2V5KCk7ciYmIWUuZ2V0KHIpOylyPW4uZ2V0KHIpLmdldFByZXZTaWJsaW5nS2V5KCl8fG51bGw7cmV0dXJuIHJ9LHA9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHQud2l0aE11dGF0aW9ucyhmdW5jdGlvbih0KXthKGUuZ2V0S2V5KCksdCxmdW5jdGlvbihuKXtyZXR1cm4gbi5tZXJnZSh7bmV4dFNpYmxpbmc6bChlLHQscikscHJldlNpYmxpbmc6ZihlLHQscil9KX0pLGEobi5nZXRLZXkoKSx0LGZ1bmN0aW9uKGUpe3JldHVybiBlLm1lcmdlKHtuZXh0U2libGluZzpsKG4sdCxyKSxwcmV2U2libGluZzpmKG4sdCxyKX0pfSkscyhlLmdldEtleSgpLHIpLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSx0LGZ1bmN0aW9uKGUpe3JldHVybiBlLm1lcmdlKHtjaGlsZHJlbjplLmdldENoaWxkS2V5cygpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdC5nZXQoZSl9KSxuZXh0U2libGluZzpsKGUsdCxyKSxwcmV2U2libGluZzpmKGUsdCxyKX0pfSl9KSxhKGUuZ2V0TmV4dFNpYmxpbmdLZXkoKSx0LGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1lcmdlKHtwcmV2U2libGluZzplLmdldFByZXZTaWJsaW5nS2V5KCl9KX0pLGEoZS5nZXRQcmV2U2libGluZ0tleSgpLHQsZnVuY3Rpb24obil7cmV0dXJuIG4ubWVyZ2Uoe25leHRTaWJsaW5nOmwoZSx0LHIpfSl9KSxhKG4uZ2V0TmV4dFNpYmxpbmdLZXkoKSx0LGZ1bmN0aW9uKGUpe3JldHVybiBlLm1lcmdlKHtwcmV2U2libGluZzpmKG4sdCxyKX0pfSksYShuLmdldFByZXZTaWJsaW5nS2V5KCksdCxmdW5jdGlvbih0KXtyZXR1cm4gdC5tZXJnZSh7bmV4dFNpYmxpbmc6bi5nZXROZXh0U2libGluZ0tleSgpfSl9KSxzKG4uZ2V0S2V5KCkscikuZm9yRWFjaChmdW5jdGlvbihlKXthKGUsdCxmdW5jdGlvbihlKXtyZXR1cm4gZS5tZXJnZSh7Y2hpbGRyZW46ZS5nZXRDaGlsZEtleXMoKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZ2V0KGUpfSksbmV4dFNpYmxpbmc6bChlLHQscikscHJldlNpYmxpbmc6ZihlLHQscil9KX0pfSksYyhuLHIpLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSx0LGZ1bmN0aW9uKGUpe3JldHVybiBlLm1lcmdlKHtuZXh0U2libGluZzpsKGUsdCxyKSxwcmV2U2libGluZzpmKGUsdCxyKX0pfSl9KX0pfSxoPWZ1bmN0aW9uKHQsZSl7aWYoZS5pc0NvbGxhcHNlZCgpKXJldHVybiB0O3ZhciBuPXQuZ2V0QmxvY2tNYXAoKSxpPWUuZ2V0U3RhcnRLZXkoKSxhPWUuZ2V0U3RhcnRPZmZzZXQoKSxjPWUuZ2V0RW5kS2V5KCksbD1lLmdldEVuZE9mZnNldCgpLGY9bi5nZXQoaSksaD1uLmdldChjKSx5PWYgaW5zdGFuY2VvZiByLGc9W107aWYoeSl7dmFyIHY9aC5nZXRDaGlsZEtleXMoKSxfPXMoYyxuKTtoLmdldE5leHRTaWJsaW5nS2V5KCkmJihnPWcuY29uY2F0KF8pKSx2LmlzRW1wdHkoKXx8KGc9Zy5jb25jYXQoXy5jb25jYXQoW2NdKSkpLGc9Zy5jb25jYXQocyhvKGgsbiksbikpfXZhciBtPXZvaWQgMDttPWY9PT1oP2QoZi5nZXRDaGFyYWN0ZXJMaXN0KCksYSxsKTpmLmdldENoYXJhY3Rlckxpc3QoKS5zbGljZSgwLGEpLmNvbmNhdChoLmdldENoYXJhY3Rlckxpc3QoKS5zbGljZShsKSk7dmFyIFM9Zi5tZXJnZSh7dGV4dDpmLmdldFRleHQoKS5zbGljZSgwLGEpK2guZ2V0VGV4dCgpLnNsaWNlKGwpLGNoYXJhY3Rlckxpc3Q6bX0pLGI9bi50b1NlcSgpLnNraXBVbnRpbChmdW5jdGlvbih0LGUpe3JldHVybiBlPT09aX0pLnRha2VVbnRpbChmdW5jdGlvbih0LGUpe3JldHVybiBlPT09Y30pLmZpbHRlcihmdW5jdGlvbih0LGUpe3JldHVybi0xPT09Zy5pbmRleE9mKGUpfSkuY29uY2F0KHUoW1tjLG51bGxdXSkpLm1hcChmdW5jdGlvbih0LGUpe3JldHVybiBlPT09aT9TOm51bGx9KSx3PW4ubWVyZ2UoYikuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiEhdH0pO3JldHVybiB5JiYodz1wKHcsZixoLG4pKSx0Lm1lcmdlKHtibG9ja01hcDp3LHNlbGVjdGlvbkJlZm9yZTplLHNlbGVjdGlvbkFmdGVyOmUubWVyZ2Uoe2FuY2hvcktleTppLGFuY2hvck9mZnNldDphLGZvY3VzS2V5OmksZm9jdXNPZmZzZXQ6YSxpc0JhY2t3YXJkOiExfSl9KX0sZD1mdW5jdGlvbih0LGUsbil7aWYoMD09PWUpZm9yKDtlPG47KXQ9dC5zaGlmdCgpLGUrKztlbHNlIGlmKG49PT10LmNvdW50KCkpZm9yKDtuPmU7KXQ9dC5wb3AoKSxuLS07ZWxzZXt2YXIgcj10LnNsaWNlKDAsZSksaT10LnNsaWNlKG4pO3Q9ci5jb25jYXQoaSkudG9MaXN0KCl9cmV0dXJuIHR9O3QuZXhwb3J0cz1ofSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxMCksaT1uKDApLG89bigyNSksdT1uKDEpLGE9aS5MaXN0LHM9aS5NYXAsYz1mdW5jdGlvbih0LGUsbil7aWYodCl7dmFyIHI9ZS5nZXQodCk7ciYmZS5zZXQodCxuKHIpKX19LGw9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LndpdGhNdXRhdGlvbnMoZnVuY3Rpb24odCl7dmFyIHI9ZS5nZXRLZXkoKSxpPW4uZ2V0S2V5KCk7YyhlLmdldFBhcmVudEtleSgpLHQsZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRDaGlsZEtleXMoKSxuPWUuaW5kZXhPZihyKSsxLG89ZS50b0FycmF5KCk7cmV0dXJuIG8uc3BsaWNlKG4sMCxpKSx0Lm1lcmdlKHtjaGlsZHJlbjphKG8pfSl9KSxjKGUuZ2V0TmV4dFNpYmxpbmdLZXkoKSx0LGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1lcmdlKHtwcmV2U2libGluZzppfSl9KSxjKHIsdCxmdW5jdGlvbih0KXtyZXR1cm4gdC5tZXJnZSh7bmV4dFNpYmxpbmc6aX0pfSksYyhpLHQsZnVuY3Rpb24odCl7cmV0dXJuIHQubWVyZ2Uoe3ByZXZTaWJsaW5nOnJ9KX0pfSl9LGY9ZnVuY3Rpb24odCxlKXtlLmlzQ29sbGFwc2VkKCl8fHUoITEpO3ZhciBuPWUuZ2V0QW5jaG9yS2V5KCksaT1lLmdldEFuY2hvck9mZnNldCgpLGE9dC5nZXRCbG9ja01hcCgpLGM9YS5nZXQobiksZj1jLmdldFRleHQoKSxwPWMuZ2V0Q2hhcmFjdGVyTGlzdCgpLGg9bygpLGQ9YyBpbnN0YW5jZW9mIHIseT1jLm1lcmdlKHt0ZXh0OmYuc2xpY2UoMCxpKSxjaGFyYWN0ZXJMaXN0OnAuc2xpY2UoMCxpKX0pLGc9eS5tZXJnZSh7a2V5OmgsdGV4dDpmLnNsaWNlKGkpLGNoYXJhY3Rlckxpc3Q6cC5zbGljZShpKSxkYXRhOnMoKX0pLHY9YS50b1NlcSgpLnRha2VVbnRpbChmdW5jdGlvbih0KXtyZXR1cm4gdD09PWN9KSxfPWEudG9TZXEoKS5za2lwVW50aWwoZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1jfSkucmVzdCgpLG09di5jb25jYXQoW1tuLHldLFtoLGddXSxfKS50b09yZGVyZWRNYXAoKTtyZXR1cm4gZCYmKGMuZ2V0Q2hpbGRLZXlzKCkuaXNFbXB0eSgpfHx1KCExKSxtPWwobSx5LGcpKSx0Lm1lcmdlKHtibG9ja01hcDptLHNlbGVjdGlvbkJlZm9yZTplLHNlbGVjdGlvbkFmdGVyOmUubWVyZ2Uoe2FuY2hvcktleTpoLGFuY2hvck9mZnNldDowLGZvY3VzS2V5OmgsZm9jdXNPZmZzZXQ6MCxpc0JhY2t3YXJkOiExfSl9KX07dC5leHBvcnRzPWZ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpPW4oMCksbz1uKDE5MiksdT1uKDEzKSxhPWkuT3JkZXJlZE1hcCxzPXtnZXREaXJlY3Rpb25NYXA6ZnVuY3Rpb24odCxlKXtyP3IucmVzZXQoKTpyPW5ldyBvO3ZhciBuPXQuZ2V0QmxvY2tNYXAoKSxzPW4udmFsdWVTZXEoKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHUocikuZ2V0RGlyZWN0aW9uKHQuZ2V0VGV4dCgpKX0pLGM9YShuLmtleVNlcSgpLnppcChzKSk7cmV0dXJuIG51bGwhPWUmJmkuaXMoZSxjKT9lOmN9fTt0LmV4cG9ydHM9c30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXZhciBpPW4oMTE3KSxvPW4oODQpLHU9bigxKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtyKHRoaXMsdCksZT9vLmlzU3Ryb25nKGUpfHx1KCExKTplPW8uZ2V0R2xvYmFsRGlyKCksdGhpcy5fZGVmYXVsdERpcj1lLHRoaXMucmVzZXQoKX1yZXR1cm4gdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9sYXN0RGlyPXRoaXMuX2RlZmF1bHREaXJ9LHQucHJvdG90eXBlLmdldERpcmVjdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGFzdERpcj1pLmdldERpcmVjdGlvbih0LHRoaXMuX2xhc3REaXIpLHRoaXMuX2xhc3REaXJ9LHR9KCk7dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDEwKSxpPW4oMCksbz1uKDExNCksdT1uKDEpLGE9aS5PcmRlcmVkTWFwLHM9aS5MaXN0LGM9ZnVuY3Rpb24odCxlLG4pe2lmKHQpe3ZhciByPWUuZ2V0KHQpO3ImJmUuc2V0KHQsbihyKSl9fSxsPWZ1bmN0aW9uKHQsZSxuLHIsaSl7aWYoIWkpcmV0dXJuIHQ7dmFyIG89XCJhZnRlclwiPT09cix1PWUuZ2V0S2V5KCksYT1uLmdldEtleSgpLGw9ZS5nZXRQYXJlbnRLZXkoKSxmPWUuZ2V0TmV4dFNpYmxpbmdLZXkoKSxwPWUuZ2V0UHJldlNpYmxpbmdLZXkoKSxoPW4uZ2V0UGFyZW50S2V5KCksZD1vP24uZ2V0TmV4dFNpYmxpbmdLZXkoKTphLHk9bz9hOm4uZ2V0UHJldlNpYmxpbmdLZXkoKTtyZXR1cm4gdC53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKHQpe2MobCx0LGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0Q2hpbGRLZXlzKCk7cmV0dXJuIHQubWVyZ2Uoe2NoaWxkcmVuOmUuZGVsZXRlKGUuaW5kZXhPZih1KSl9KX0pLGMocCx0LGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1lcmdlKHtuZXh0U2libGluZzpmfSl9KSxjKGYsdCxmdW5jdGlvbih0KXtyZXR1cm4gdC5tZXJnZSh7cHJldlNpYmxpbmc6cH0pfSksYyhkLHQsZnVuY3Rpb24odCl7cmV0dXJuIHQubWVyZ2Uoe3ByZXZTaWJsaW5nOnV9KX0pLGMoeSx0LGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1lcmdlKHtuZXh0U2libGluZzp1fSl9KSxjKGgsdCxmdW5jdGlvbih0KXt2YXIgZT10LmdldENoaWxkS2V5cygpLG49ZS5pbmRleE9mKGEpLHI9bz9uKzE6MCE9PW4/bi0xOjAsaT1lLnRvQXJyYXkoKTtyZXR1cm4gaS5zcGxpY2UociwwLHUpLHQubWVyZ2Uoe2NoaWxkcmVuOnMoaSl9KX0pLGModSx0LGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1lcmdlKHtuZXh0U2libGluZzpkLHByZXZTaWJsaW5nOnkscGFyZW50Omh9KX0pfSl9LGY9ZnVuY3Rpb24odCxlLG4saSl7XCJyZXBsYWNlXCI9PT1pJiZ1KCExKTt2YXIgcz1uLmdldEtleSgpLGM9ZS5nZXRLZXkoKTtjPT09cyYmdSghMSk7dmFyIGY9dC5nZXRCbG9ja01hcCgpLHA9ZSBpbnN0YW5jZW9mIHIsaD1bZV0sZD1mLmRlbGV0ZShjKTtwJiYoaD1bXSxkPWYud2l0aE11dGF0aW9ucyhmdW5jdGlvbih0KXt2YXIgbj1lLmdldE5leHRTaWJsaW5nS2V5KCkscj1vKGUsdCk7dC50b1NlcSgpLnNraXBVbnRpbChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRLZXkoKT09PWN9KS50YWtlV2hpbGUoZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRLZXkoKSxpPWU9PT1jLG89biYmZSE9PW4sdT0hbiYmdC5nZXRQYXJlbnRLZXkoKSYmKCFyfHxlIT09cik7cmV0dXJuISEoaXx8b3x8dSl9KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2gucHVzaChlKSx0LmRlbGV0ZShlLmdldEtleSgpKX0pfSkpO3ZhciB5PWQudG9TZXEoKS50YWtlVW50aWwoZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1ufSksZz1kLnRvU2VxKCkuc2tpcFVudGlsKGZ1bmN0aW9uKHQpe3JldHVybiB0PT09bn0pLnNraXAoMSksdj1oLm1hcChmdW5jdGlvbih0KXtyZXR1cm5bdC5nZXRLZXkoKSx0XX0pLF89YSgpO2lmKFwiYmVmb3JlXCI9PT1pKXt2YXIgbT10LmdldEJsb2NrQmVmb3JlKHMpO20mJm0uZ2V0S2V5KCk9PT1lLmdldEtleSgpJiZ1KCExKSxfPXkuY29uY2F0KFtdLmNvbmNhdCh2LFtbcyxuXV0pLGcpLnRvT3JkZXJlZE1hcCgpfWVsc2UgaWYoXCJhZnRlclwiPT09aSl7dmFyIFM9dC5nZXRCbG9ja0FmdGVyKHMpO1MmJlMuZ2V0S2V5KCk9PT1jJiZ1KCExKSxfPXkuY29uY2F0KFtbcyxuXV0uY29uY2F0KHYpLGcpLnRvT3JkZXJlZE1hcCgpfXJldHVybiB0Lm1lcmdlKHtibG9ja01hcDpsKF8sZSxuLGkscCksc2VsZWN0aW9uQmVmb3JlOnQuZ2V0U2VsZWN0aW9uQWZ0ZXIoKSxzZWxlY3Rpb25BZnRlcjp0LmdldFNlbGVjdGlvbkFmdGVyKCkubWVyZ2Uoe2FuY2hvcktleTpjLGZvY3VzS2V5OmN9KX0pfTt0LmV4cG9ydHM9Zn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGkodCxlLG4pe2Zvcih2YXIgcj1lO3I8bjtyKyspaWYobnVsbCE9dFtyXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBvKHQsZSxuLHIpe2Zvcih2YXIgaT1lO2k8bjtpKyspdFtpXT1yfXZhciB1PW4oMCksYT11Lkxpc3Qscz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7cih0aGlzLHQpLHRoaXMuX2RlY29yYXRvcnM9ZS5zbGljZSgpfXJldHVybiB0LnByb3RvdHlwZS5nZXREZWNvcmF0aW9ucz1mdW5jdGlvbih0LGUpe3ZhciBuPUFycmF5KHQuZ2V0VGV4dCgpLmxlbmd0aCkuZmlsbChudWxsKTtyZXR1cm4gdGhpcy5fZGVjb3JhdG9ycy5mb3JFYWNoKGZ1bmN0aW9uKHIsdSl7dmFyIGE9MDsoMCxyLnN0cmF0ZWd5KSh0LGZ1bmN0aW9uKHQsZSl7aShuLHQsZSkmJihvKG4sdCxlLHUrXCIuXCIrYSksYSsrKX0sZSl9KSxhKG4pfSx0LnByb3RvdHlwZS5nZXRDb21wb25lbnRGb3JLZXk9ZnVuY3Rpb24odCl7dmFyIGU9cGFyc2VJbnQodC5zcGxpdChcIi5cIilbMF0sMTApO3JldHVybiB0aGlzLl9kZWNvcmF0b3JzW2VdLmNvbXBvbmVudH0sdC5wcm90b3R5cGUuZ2V0UHJvcHNGb3JLZXk9ZnVuY3Rpb24odCl7dmFyIGU9cGFyc2VJbnQodC5zcGxpdChcIi5cIilbMF0sMTApO3JldHVybiB0aGlzLl9kZWNvcmF0b3JzW2VdLnByb3BzfSx0fSgpO3QuZXhwb3J0cz1zfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaSh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIG8odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX12YXIgdT1uKDkpLGE9dXx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYodFtyXT1uW3JdKX1yZXR1cm4gdH0scz1uKDg1KSxjPW4oMTE4KSxsPW4oMTk2KSxmPW4oMTk3KSxwPW4oMjIwKSxoPW4oMjIzKSxkPW4oMjU3KSx5PW4oMiksZz1uKDMpLHY9bigzOCksXz1uKDEyMiksbT1uKDg4KSxTPW4oMTkpLGI9big0NSksdz1uKDgxKSxNPW4oMjUpLEU9big5MikseD1uKDg5KSxJPW4oMSksaz1uKDEzKSxMPVMuaXNCcm93c2VyKFwiSUVcIiksVD0hTCxEPXtlZGl0OmgsY29tcG9zaXRlOmwsZHJhZzpwLGN1dDpudWxsLHJlbmRlcjpudWxsfSxPPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUobil7cih0aGlzLGUpO3ZhciBvPWkodGhpcyx0LmNhbGwodGhpcyxuKSk7cmV0dXJuIG8uZm9jdXM9ZnVuY3Rpb24odCl7dmFyIGU9by5wcm9wcy5lZGl0b3JTdGF0ZSxuPWUuZ2V0U2VsZWN0aW9uKCkuZ2V0SGFzRm9jdXMoKSxyPXYuZmluZERPTU5vZGUoby5lZGl0b3IpO2lmKHIpe3ZhciBpPW0uZ2V0U2Nyb2xsUGFyZW50KHIpLHU9dHx8eChpKSxhPXUueCxzPXUueTtyIGluc3RhbmNlb2YgSFRNTEVsZW1lbnR8fEkoITEpLHIuZm9jdXMoKSxpPT09d2luZG93P3dpbmRvdy5zY3JvbGxUbyhhLHMpOl8uc2V0VG9wKGkscyksbnx8by51cGRhdGUoeS5mb3JjZVNlbGVjdGlvbihlLGUuZ2V0U2VsZWN0aW9uKCkpKX19LG8uYmx1cj1mdW5jdGlvbigpe3ZhciB0PXYuZmluZERPTU5vZGUoby5lZGl0b3IpO3QgaW5zdGFuY2VvZiBIVE1MRWxlbWVudHx8SSghMSksdC5ibHVyKCl9LG8uc2V0TW9kZT1mdW5jdGlvbih0KXtvLl9oYW5kbGVyPURbdF19LG8uZXhpdEN1cnJlbnRNb2RlPWZ1bmN0aW9uKCl7by5zZXRNb2RlKFwiZWRpdFwiKX0sby5yZXN0b3JlRWRpdG9yRE9NPWZ1bmN0aW9uKHQpe28uc2V0U3RhdGUoe2NvbnRlbnRzS2V5Om8uc3RhdGUuY29udGVudHNLZXkrMX0sZnVuY3Rpb24oKXtvLmZvY3VzKHQpfSl9LG8uc2V0Q2xpcGJvYXJkPWZ1bmN0aW9uKHQpe28uX2NsaXBib2FyZD10fSxvLmdldENsaXBib2FyZD1mdW5jdGlvbigpe3JldHVybiBvLl9jbGlwYm9hcmR9LG8udXBkYXRlPWZ1bmN0aW9uKHQpe28uX2xhdGVzdEVkaXRvclN0YXRlPXQsby5wcm9wcy5vbkNoYW5nZSh0KX0sby5vbkRyYWdFbnRlcj1mdW5jdGlvbigpe28uX2RyYWdDb3VudCsrfSxvLm9uRHJhZ0xlYXZlPWZ1bmN0aW9uKCl7MD09LS1vLl9kcmFnQ291bnQmJm8uZXhpdEN1cnJlbnRNb2RlKCl9LG8uX2Jsb2NrU2VsZWN0RXZlbnRzPSExLG8uX2NsaXBib2FyZD1udWxsLG8uX2hhbmRsZXI9bnVsbCxvLl9kcmFnQ291bnQ9MCxvLl9lZGl0b3JLZXk9bi5lZGl0b3JLZXl8fE0oKSxvLl9wbGFjZWhvbGRlckFjY2Vzc2liaWxpdHlJRD1cInBsYWNlaG9sZGVyLVwiK28uX2VkaXRvcktleSxvLl9sYXRlc3RFZGl0b3JTdGF0ZT1uLmVkaXRvclN0YXRlLG8uX2xhdGVzdENvbW1pdHRlZEVkaXRvclN0YXRlPW4uZWRpdG9yU3RhdGUsby5fb25CZWZvcmVJbnB1dD1vLl9idWlsZEhhbmRsZXIoXCJvbkJlZm9yZUlucHV0XCIpLG8uX29uQmx1cj1vLl9idWlsZEhhbmRsZXIoXCJvbkJsdXJcIiksby5fb25DaGFyYWN0ZXJEYXRhPW8uX2J1aWxkSGFuZGxlcihcIm9uQ2hhcmFjdGVyRGF0YVwiKSxvLl9vbkNvbXBvc2l0aW9uRW5kPW8uX2J1aWxkSGFuZGxlcihcIm9uQ29tcG9zaXRpb25FbmRcIiksby5fb25Db21wb3NpdGlvblN0YXJ0PW8uX2J1aWxkSGFuZGxlcihcIm9uQ29tcG9zaXRpb25TdGFydFwiKSxvLl9vbkNvcHk9by5fYnVpbGRIYW5kbGVyKFwib25Db3B5XCIpLG8uX29uQ3V0PW8uX2J1aWxkSGFuZGxlcihcIm9uQ3V0XCIpLG8uX29uRHJhZ0VuZD1vLl9idWlsZEhhbmRsZXIoXCJvbkRyYWdFbmRcIiksby5fb25EcmFnT3Zlcj1vLl9idWlsZEhhbmRsZXIoXCJvbkRyYWdPdmVyXCIpLG8uX29uRHJhZ1N0YXJ0PW8uX2J1aWxkSGFuZGxlcihcIm9uRHJhZ1N0YXJ0XCIpLG8uX29uRHJvcD1vLl9idWlsZEhhbmRsZXIoXCJvbkRyb3BcIiksby5fb25JbnB1dD1vLl9idWlsZEhhbmRsZXIoXCJvbklucHV0XCIpLG8uX29uRm9jdXM9by5fYnVpbGRIYW5kbGVyKFwib25Gb2N1c1wiKSxvLl9vbktleURvd249by5fYnVpbGRIYW5kbGVyKFwib25LZXlEb3duXCIpLG8uX29uS2V5UHJlc3M9by5fYnVpbGRIYW5kbGVyKFwib25LZXlQcmVzc1wiKSxvLl9vbktleVVwPW8uX2J1aWxkSGFuZGxlcihcIm9uS2V5VXBcIiksby5fb25Nb3VzZURvd249by5fYnVpbGRIYW5kbGVyKFwib25Nb3VzZURvd25cIiksby5fb25Nb3VzZVVwPW8uX2J1aWxkSGFuZGxlcihcIm9uTW91c2VVcFwiKSxvLl9vblBhc3RlPW8uX2J1aWxkSGFuZGxlcihcIm9uUGFzdGVcIiksby5fb25TZWxlY3Q9by5fYnVpbGRIYW5kbGVyKFwib25TZWxlY3RcIiksby5nZXRFZGl0b3JLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gby5fZWRpdG9yS2V5fSxvLnN0YXRlPXtjb250ZW50c0tleTowfSxvfXJldHVybiBvKGUsdCksZS5wcm90b3R5cGUuX2J1aWxkSGFuZGxlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbihuKXtpZighZS5wcm9wcy5yZWFkT25seSl7dmFyIHI9ZS5faGFuZGxlciYmZS5faGFuZGxlclt0XTtyJiZyKGUsbil9fX0sZS5wcm90b3R5cGUuX3Nob3dQbGFjZWhvbGRlcj1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5wcm9wcy5wbGFjZWhvbGRlciYmIXRoaXMucHJvcHMuZWRpdG9yU3RhdGUuaXNJbkNvbXBvc2l0aW9uTW9kZSgpJiYhdGhpcy5wcm9wcy5lZGl0b3JTdGF0ZS5nZXRDdXJyZW50Q29udGVudCgpLmhhc1RleHQoKX0sZS5wcm90b3R5cGUuX3JlbmRlclBsYWNlaG9sZGVyPWZ1bmN0aW9uKCl7aWYodGhpcy5fc2hvd1BsYWNlaG9sZGVyKCkpe3ZhciB0PXt0ZXh0OmsodGhpcy5wcm9wcy5wbGFjZWhvbGRlciksZWRpdG9yU3RhdGU6dGhpcy5wcm9wcy5lZGl0b3JTdGF0ZSx0ZXh0QWxpZ25tZW50OnRoaXMucHJvcHMudGV4dEFsaWdubWVudCxhY2Nlc3NpYmlsaXR5SUQ6dGhpcy5fcGxhY2Vob2xkZXJBY2Nlc3NpYmlsaXR5SUR9O3JldHVybiBnLmNyZWF0ZUVsZW1lbnQoZCx0KX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMucHJvcHMsbj1lLmJsb2NrUmVuZGVyTWFwLHI9ZS5ibG9ja1JlbmRlcmVyRm4saT1lLmJsb2NrU3R5bGVGbixvPWUuY3VzdG9tU3R5bGVGbix1PWUuY3VzdG9tU3R5bGVNYXAscz1lLmVkaXRvclN0YXRlLGw9ZS5yZWFkT25seSxwPWUudGV4dEFsaWdubWVudCxoPWUudGV4dERpcmVjdGlvbmFsaXR5LGQ9Yih7XCJEcmFmdEVkaXRvci9yb290XCI6ITAsXCJEcmFmdEVkaXRvci9hbGlnbkxlZnRcIjpcImxlZnRcIj09PXAsXCJEcmFmdEVkaXRvci9hbGlnblJpZ2h0XCI6XCJyaWdodFwiPT09cCxcIkRyYWZ0RWRpdG9yL2FsaWduQ2VudGVyXCI6XCJjZW50ZXJcIj09PXB9KSx5PXtvdXRsaW5lOlwibm9uZVwiLHVzZXJTZWxlY3Q6XCJ0ZXh0XCIsV2Via2l0VXNlclNlbGVjdDpcInRleHRcIix3aGl0ZVNwYWNlOlwicHJlLXdyYXBcIix3b3JkV3JhcDpcImJyZWFrLXdvcmRcIn0sdj10aGlzLnByb3BzLnJvbGV8fFwidGV4dGJveFwiLF89XCJjb21ib2JveFwiPT09dj8hIXRoaXMucHJvcHMuYXJpYUV4cGFuZGVkOm51bGwsbT17YmxvY2tSZW5kZXJNYXA6bixibG9ja1JlbmRlcmVyRm46cixibG9ja1N0eWxlRm46aSxjdXN0b21TdHlsZU1hcDphKHt9LGMsdSksY3VzdG9tU3R5bGVGbjpvLGVkaXRvcktleTp0aGlzLl9lZGl0b3JLZXksZWRpdG9yU3RhdGU6cyxrZXk6XCJjb250ZW50c1wiK3RoaXMuc3RhdGUuY29udGVudHNLZXksdGV4dERpcmVjdGlvbmFsaXR5Omh9O3JldHVybiBnLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOmR9LHRoaXMuX3JlbmRlclBsYWNlaG9sZGVyKCksZy5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2NsYXNzTmFtZTpiKFwiRHJhZnRFZGl0b3IvZWRpdG9yQ29udGFpbmVyXCIpLHJlZjpmdW5jdGlvbihlKXtyZXR1cm4gdC5lZGl0b3JDb250YWluZXI9ZX19LGcuY3JlYXRlRWxlbWVudChcImRpdlwiLHtcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiOmw/bnVsbDp0aGlzLnByb3BzLmFyaWFBY3RpdmVEZXNjZW5kYW50SUQsXCJhcmlhLWF1dG9jb21wbGV0ZVwiOmw/bnVsbDp0aGlzLnByb3BzLmFyaWFBdXRvQ29tcGxldGUsXCJhcmlhLWNvbnRyb2xzXCI6bD9udWxsOnRoaXMucHJvcHMuYXJpYUNvbnRyb2xzLFwiYXJpYS1kZXNjcmliZWRieVwiOnRoaXMucHJvcHMuYXJpYURlc2NyaWJlZEJ5fHx0aGlzLl9wbGFjZWhvbGRlckFjY2Vzc2liaWxpdHlJRCxcImFyaWEtZXhwYW5kZWRcIjpsP251bGw6XyxcImFyaWEtbGFiZWxcIjp0aGlzLnByb3BzLmFyaWFMYWJlbCxcImFyaWEtbGFiZWxsZWRieVwiOnRoaXMucHJvcHMuYXJpYUxhYmVsbGVkQnksXCJhcmlhLW11bHRpbGluZVwiOnRoaXMucHJvcHMuYXJpYU11bHRpbGluZSxhdXRvQ2FwaXRhbGl6ZTp0aGlzLnByb3BzLmF1dG9DYXBpdGFsaXplLGF1dG9Db21wbGV0ZTp0aGlzLnByb3BzLmF1dG9Db21wbGV0ZSxhdXRvQ29ycmVjdDp0aGlzLnByb3BzLmF1dG9Db3JyZWN0LGNsYXNzTmFtZTpiKHtub3RyYW5zbGF0ZTohbCxcInB1YmxpYy9EcmFmdEVkaXRvci9jb250ZW50XCI6ITB9KSxjb250ZW50RWRpdGFibGU6IWwsXCJkYXRhLXRlc3RpZFwiOnRoaXMucHJvcHMud2ViRHJpdmVyVGVzdElELG9uQmVmb3JlSW5wdXQ6dGhpcy5fb25CZWZvcmVJbnB1dCxvbkJsdXI6dGhpcy5fb25CbHVyLG9uQ29tcG9zaXRpb25FbmQ6dGhpcy5fb25Db21wb3NpdGlvbkVuZCxvbkNvbXBvc2l0aW9uU3RhcnQ6dGhpcy5fb25Db21wb3NpdGlvblN0YXJ0LG9uQ29weTp0aGlzLl9vbkNvcHksb25DdXQ6dGhpcy5fb25DdXQsb25EcmFnRW5kOnRoaXMuX29uRHJhZ0VuZCxvbkRyYWdFbnRlcjp0aGlzLm9uRHJhZ0VudGVyLG9uRHJhZ0xlYXZlOnRoaXMub25EcmFnTGVhdmUsb25EcmFnT3Zlcjp0aGlzLl9vbkRyYWdPdmVyLG9uRHJhZ1N0YXJ0OnRoaXMuX29uRHJhZ1N0YXJ0LG9uRHJvcDp0aGlzLl9vbkRyb3Asb25Gb2N1czp0aGlzLl9vbkZvY3VzLG9uSW5wdXQ6dGhpcy5fb25JbnB1dCxvbktleURvd246dGhpcy5fb25LZXlEb3duLG9uS2V5UHJlc3M6dGhpcy5fb25LZXlQcmVzcyxvbktleVVwOnRoaXMuX29uS2V5VXAsb25Nb3VzZVVwOnRoaXMuX29uTW91c2VVcCxvblBhc3RlOnRoaXMuX29uUGFzdGUsb25TZWxlY3Q6dGhpcy5fb25TZWxlY3QscmVmOmZ1bmN0aW9uKGUpe3JldHVybiB0LmVkaXRvcj1lfSxyb2xlOmw/bnVsbDp2LHNwZWxsQ2hlY2s6VCYmdGhpcy5wcm9wcy5zcGVsbENoZWNrLHN0eWxlOnksc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nOiEwLHRhYkluZGV4OnRoaXMucHJvcHMudGFiSW5kZXh9LGcuY3JlYXRlRWxlbWVudChmLG0pKSkpfSxlLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe3RoaXMuc2V0TW9kZShcImVkaXRcIiksTCYmZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJBdXRvVXJsRGV0ZWN0XCIsITEsITEpfSxlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrU2VsZWN0RXZlbnRzPSEwLHRoaXMuX2xhdGVzdEVkaXRvclN0YXRlPXQuZWRpdG9yU3RhdGV9LGUucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX2Jsb2NrU2VsZWN0RXZlbnRzPSExLHRoaXMuX2xhdGVzdENvbW1pdHRlZEVkaXRvclN0YXRlPXRoaXMucHJvcHMuZWRpdG9yU3RhdGV9LGV9KGcuQ29tcG9uZW50KTtPLmRlZmF1bHRQcm9wcz17YmxvY2tSZW5kZXJNYXA6cyxibG9ja1JlbmRlcmVyRm46dy50aGF0UmV0dXJuc051bGwsYmxvY2tTdHlsZUZuOncudGhhdFJldHVybnMoXCJcIiksa2V5QmluZGluZ0ZuOkUscmVhZE9ubHk6ITEsc3BlbGxDaGVjazohMSxzdHJpcFBhc3RlZFN0eWxlczohMX0sdC5leHBvcnRzPU99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDMxKSxpPW4oNSksbz1uKDIpLHU9big2MyksYT1uKDg2KSxzPW4oNTIpLGM9bigxMTkpLGw9ITEsZj0hMSxwPVwiXCIsaD17b25CZWZvcmVJbnB1dDpmdW5jdGlvbih0LGUpe3A9KHB8fFwiXCIpK2UuZGF0YX0sb25Db21wb3NpdGlvblN0YXJ0OmZ1bmN0aW9uKHQpe2Y9ITB9LG9uQ29tcG9zaXRpb25FbmQ6ZnVuY3Rpb24odCl7bD0hMSxmPSExLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtsfHxoLnJlc29sdmVDb21wb3NpdGlvbih0KX0sMjApfSxvbktleURvd246ZnVuY3Rpb24odCxlKXtpZighZilyZXR1cm4gaC5yZXNvbHZlQ29tcG9zaXRpb24odCksdm9pZCB0Ll9vbktleURvd24oZSk7ZS53aGljaCE9PXUuUklHSFQmJmUud2hpY2ghPT11LkxFRlR8fGUucHJldmVudERlZmF1bHQoKX0sb25LZXlQcmVzczpmdW5jdGlvbih0LGUpe2Uud2hpY2g9PT11LlJFVFVSTiYmZS5wcmV2ZW50RGVmYXVsdCgpfSxyZXNvbHZlQ29tcG9zaXRpb246ZnVuY3Rpb24odCl7aWYoIWYpe2w9ITA7dmFyIGU9cDtwPVwiXCI7dmFyIG49by5zZXQodC5fbGF0ZXN0RWRpdG9yU3RhdGUse2luQ29tcG9zaXRpb25Nb2RlOiExfSksdT1uLmdldEN1cnJlbnRJbmxpbmVTdHlsZSgpLGg9YShuLmdldEN1cnJlbnRDb250ZW50KCksbi5nZXRTZWxlY3Rpb24oKSksZD0hZXx8YyhuKXx8dS5zaXplPjB8fG51bGwhPT1oO2lmKGQmJnQucmVzdG9yZUVkaXRvckRPTSgpLHQuZXhpdEN1cnJlbnRNb2RlKCksZSl7aWYoci5kcmFmdF9oYW5kbGViZWZvcmVpbnB1dF9jb21wb3NlZF90ZXh0JiZ0LnByb3BzLmhhbmRsZUJlZm9yZUlucHV0JiZzKHQucHJvcHMuaGFuZGxlQmVmb3JlSW5wdXQoZSxuKSkpcmV0dXJuO3ZhciB5PWkucmVwbGFjZVRleHQobi5nZXRDdXJyZW50Q29udGVudCgpLG4uZ2V0U2VsZWN0aW9uKCksZSx1LGgpO3JldHVybiB2b2lkIHQudXBkYXRlKG8ucHVzaChuLHksXCJpbnNlcnQtY2hhcmFjdGVyc1wiKSl9ZCYmdC51cGRhdGUoby5zZXQobix7bmF0aXZlbHlSZW5kZXJlZENvbnRlbnQ6bnVsbCxmb3JjZVNlbGVjdGlvbjohMH0pKX19fTt0LmV4cG9ydHM9aH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTk4KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGkodCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBvKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9dmFyIHU9big5KSxhPXV8fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKHRbcl09bltyXSl9cmV0dXJuIHR9LHM9bigxMjApLGM9big2NCksbD0obigyKSxuKDMpKSxmPW4oNDUpLHA9bigyMTkpLGg9bigxMyksZD1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gZih7XCJwdWJsaWMvRHJhZnRTdHlsZURlZmF1bHQvdW5vcmRlcmVkTGlzdEl0ZW1cIjpcInVub3JkZXJlZC1saXN0LWl0ZW1cIj09PXQsXCJwdWJsaWMvRHJhZnRTdHlsZURlZmF1bHQvb3JkZXJlZExpc3RJdGVtXCI6XCJvcmRlcmVkLWxpc3QtaXRlbVwiPT09dCxcInB1YmxpYy9EcmFmdFN0eWxlRGVmYXVsdC9yZXNldFwiOm4sXCJwdWJsaWMvRHJhZnRTdHlsZURlZmF1bHQvZGVwdGgwXCI6MD09PWUsXCJwdWJsaWMvRHJhZnRTdHlsZURlZmF1bHQvZGVwdGgxXCI6MT09PWUsXCJwdWJsaWMvRHJhZnRTdHlsZURlZmF1bHQvZGVwdGgyXCI6Mj09PWUsXCJwdWJsaWMvRHJhZnRTdHlsZURlZmF1bHQvZGVwdGgzXCI6Mz09PWUsXCJwdWJsaWMvRHJhZnRTdHlsZURlZmF1bHQvZGVwdGg0XCI6ND09PWUsXCJwdWJsaWMvRHJhZnRTdHlsZURlZmF1bHQvbGlzdExUUlwiOlwiTFRSXCI9PT1yLFwicHVibGljL0RyYWZ0U3R5bGVEZWZhdWx0L2xpc3RSVExcIjpcIlJUTFwiPT09cn0pfSx5PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gcih0aGlzLGUpLGkodGhpcyx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIG8oZSx0KSxlLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9wcy5lZGl0b3JTdGF0ZSxuPXQuZWRpdG9yU3RhdGU7aWYoZS5nZXREaXJlY3Rpb25NYXAoKSE9PW4uZ2V0RGlyZWN0aW9uTWFwKCkpcmV0dXJuITA7aWYoZS5nZXRTZWxlY3Rpb24oKS5nZXRIYXNGb2N1cygpIT09bi5nZXRTZWxlY3Rpb24oKS5nZXRIYXNGb2N1cygpKXJldHVybiEwO3ZhciByPW4uZ2V0TmF0aXZlbHlSZW5kZXJlZENvbnRlbnQoKSxpPWUuaXNJbkNvbXBvc2l0aW9uTW9kZSgpLG89bi5pc0luQ29tcG9zaXRpb25Nb2RlKCk7aWYoZT09PW58fG51bGwhPT1yJiZuLmdldEN1cnJlbnRDb250ZW50KCk9PT1yfHxpJiZvKXJldHVybiExO3ZhciB1PWUuZ2V0Q3VycmVudENvbnRlbnQoKSxhPW4uZ2V0Q3VycmVudENvbnRlbnQoKSxzPWUuZ2V0RGVjb3JhdG9yKCksYz1uLmdldERlY29yYXRvcigpO3JldHVybiBpIT09b3x8dSE9PWF8fHMhPT1jfHxuLm11c3RGb3JjZVNlbGVjdGlvbigpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5wcm9wcyxlPXQuYmxvY2tSZW5kZXJNYXAsbj10LmJsb2NrUmVuZGVyZXJGbixyPXQuYmxvY2tTdHlsZUZuLGk9dC5jdXN0b21TdHlsZU1hcCxvPXQuY3VzdG9tU3R5bGVGbix1PXQuZWRpdG9yU3RhdGUsZj10LmVkaXRvcktleSx5PXQudGV4dERpcmVjdGlvbmFsaXR5LGc9dS5nZXRDdXJyZW50Q29udGVudCgpLHY9dS5nZXRTZWxlY3Rpb24oKSxfPXUubXVzdEZvcmNlU2VsZWN0aW9uKCksbT11LmdldERlY29yYXRvcigpLFM9aCh1LmdldERpcmVjdGlvbk1hcCgpKSxiPWcuZ2V0QmxvY2tzQXNBcnJheSgpLHc9W10sTT1udWxsLEU9bnVsbCx4PTA7eDxiLmxlbmd0aDt4Kyspe3ZhciBJPWJbeF0saz1JLmdldEtleSgpLEw9SS5nZXRUeXBlKCksVD1uKEkpLEQ9dm9pZCAwLE89dm9pZCAwLE49dm9pZCAwO1QmJihEPVQuY29tcG9uZW50LE89VC5wcm9wcyxOPVQuZWRpdGFibGUpO3ZhciBDPXl8fFMuZ2V0KGspLGo9Yy5lbmNvZGUoaywwLDApLEE9e2NvbnRlbnRTdGF0ZTpnLGJsb2NrOkksYmxvY2tQcm9wczpPLGJsb2NrU3R5bGVGbjpyLGN1c3RvbVN0eWxlTWFwOmksY3VzdG9tU3R5bGVGbjpvLGRlY29yYXRvcjptLGRpcmVjdGlvbjpDLGZvcmNlU2VsZWN0aW9uOl8sa2V5Omssb2Zmc2V0S2V5Omosc2VsZWN0aW9uOnYsdHJlZTp1LmdldEJsb2NrVHJlZShrKX0sej1lLmdldChMKXx8ZS5nZXQoXCJ1bnN0eWxlZFwiKSxCPXoud3JhcHBlcixSPXouZWxlbWVudHx8ZS5nZXQoXCJ1bnN0eWxlZFwiKS5lbGVtZW50LEs9SS5nZXREZXB0aCgpLFA9XCJcIjtyJiYoUD1yKEkpKSxcImxpXCI9PT1SJiYoUD1wKFAsZChMLEssRSE9PUJ8fG51bGw9PT1NfHxLPk0sQykpKTt2YXIgVT1EfHxzLEY9e2NsYXNzTmFtZTpQLFwiZGF0YS1ibG9ja1wiOiEwLFwiZGF0YS1lZGl0b3JcIjpmLFwiZGF0YS1vZmZzZXQta2V5XCI6aixrZXk6a307dm9pZCAwIT09TiYmKEY9YSh7fSxGLHtjb250ZW50RWRpdGFibGU6TixzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmc6ITB9KSk7dmFyIFk9bC5jcmVhdGVFbGVtZW50KFIsRixsLmNyZWF0ZUVsZW1lbnQoVSxBKSk7dy5wdXNoKHtibG9jazpZLHdyYXBwZXJUZW1wbGF0ZTpCLGtleTprLG9mZnNldEtleTpqfSksTT1CP0kuZ2V0RGVwdGgoKTpudWxsLEU9Qn1mb3IodmFyIEg9W10scT0wO3E8dy5sZW5ndGg7KXt2YXIgVz13W3FdO2lmKFcud3JhcHBlclRlbXBsYXRlKXt2YXIgRz1bXTtkb3tHLnB1c2god1txXS5ibG9jaykscSsrfXdoaWxlKHE8dy5sZW5ndGgmJndbcV0ud3JhcHBlclRlbXBsYXRlPT09Vy53cmFwcGVyVGVtcGxhdGUpO3ZhciBWPWwuY2xvbmVFbGVtZW50KFcud3JhcHBlclRlbXBsYXRlLHtrZXk6Vy5rZXkrXCItd3JhcFwiLFwiZGF0YS1vZmZzZXQta2V5XCI6Vy5vZmZzZXRLZXl9LEcpO0gucHVzaChWKX1lbHNlIEgucHVzaChXLmJsb2NrKSxxKyt9cmV0dXJuIGwuY3JlYXRlRWxlbWVudChcImRpdlwiLHtcImRhdGEtY29udGVudHNcIjpcInRydWVcIn0sSCl9LGV9KGwuQ29tcG9uZW50KTt0LmV4cG9ydHM9eX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGkodCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBvKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9dmFyIHU9big5KSxhPW4oMjAwKSxzPW4oMyksYz1uKDM4KSxsPW4oMSksZj1uKDIwNykscD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHIodGhpcyxlKSxpKHRoaXMsdC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBvKGUsdCksZS5wcm90b3R5cGUuX3NldFNlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMucHJvcHMuc2VsZWN0aW9uO2lmKG51bGwhPXQmJnQuZ2V0SGFzRm9jdXMoKSl7dmFyIGU9dGhpcy5wcm9wcyxuPWUuYmxvY2sscj1lLnN0YXJ0LGk9ZS50ZXh0LG89bi5nZXRLZXkoKSx1PXIraS5sZW5ndGg7aWYodC5oYXNFZGdlV2l0aGluKG8scix1KSl7dmFyIGE9Yy5maW5kRE9NTm9kZSh0aGlzKTthfHxsKCExKTt2YXIgcz1hLmZpcnN0Q2hpbGQ7c3x8bCghMSk7dmFyIHA9dm9pZCAwO3Mubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERT9wPXM6XCJCUlwiPT09cy50YWdOYW1lP3A9YToocD1zLmZpcnN0Q2hpbGQpfHxsKCExKSxmKHQscCxvLHIsdSl9fX0sZS5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlPWZ1bmN0aW9uKHQpe3ZhciBlPWMuZmluZERPTU5vZGUodGhpcy5sZWFmKTtyZXR1cm4gZXx8bCghMSksZS50ZXh0Q29udGVudCE9PXQudGV4dHx8dC5zdHlsZVNldCE9PXRoaXMucHJvcHMuc3R5bGVTZXR8fHQuZm9yY2VTZWxlY3Rpb259LGUucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX3NldFNlbGVjdGlvbigpfSxlLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe3RoaXMuX3NldFNlbGVjdGlvbigpfSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5wcm9wcy5ibG9jayxuPXRoaXMucHJvcHMudGV4dDtuLmVuZHNXaXRoKFwiXFxuXCIpJiZ0aGlzLnByb3BzLmlzTGFzdCYmKG4rPVwiXFxuXCIpO3ZhciByPXRoaXMucHJvcHMsaT1yLmN1c3RvbVN0eWxlTWFwLG89ci5jdXN0b21TdHlsZUZuLGM9ci5vZmZzZXRLZXksbD1yLnN0eWxlU2V0LGY9bC5yZWR1Y2UoZnVuY3Rpb24odCxlKXt2YXIgbj17fSxyPWlbZV07cmV0dXJuIHZvaWQgMCE9PXImJnQudGV4dERlY29yYXRpb24hPT1yLnRleHREZWNvcmF0aW9uJiYobi50ZXh0RGVjb3JhdGlvbj1bdC50ZXh0RGVjb3JhdGlvbixyLnRleHREZWNvcmF0aW9uXS5qb2luKFwiIFwiKS50cmltKCkpLHUodCxyLG4pfSx7fSk7aWYobyl7dmFyIHA9byhsLGUpO2Y9dShmLHApfXJldHVybiBzLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse1wiZGF0YS1vZmZzZXQta2V5XCI6YyxyZWY6ZnVuY3Rpb24oZSl7cmV0dXJuIHQubGVhZj1lfSxzdHlsZTpmfSxzLmNyZWF0ZUVsZW1lbnQoYSxudWxsLG4pKX0sZX0ocy5Db21wb25lbnQpO3QuZXhwb3J0cz1wfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaSh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIG8odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1mdW5jdGlvbiB1KHQpe3JldHVybiBmP1wiXFxuXCI9PT10LnRleHRDb250ZW50OlwiQlJcIj09PXQudGFnTmFtZX12YXIgYT1uKDMpLHM9bigzOCksYz1uKDE5KSxsPW4oMSksZj1jLmlzQnJvd3NlcihcIklFIDw9IDExXCIpLHA9Zj9hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2tleTpcIkFcIixcImRhdGEtdGV4dFwiOlwidHJ1ZVwifSxcIlxcblwiKTphLmNyZWF0ZUVsZW1lbnQoXCJiclwiLHtrZXk6XCJBXCIsXCJkYXRhLXRleHRcIjpcInRydWVcIn0pLGg9Zj9hLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2tleTpcIkJcIixcImRhdGEtdGV4dFwiOlwidHJ1ZVwifSxcIlxcblwiKTphLmNyZWF0ZUVsZW1lbnQoXCJiclwiLHtrZXk6XCJCXCIsXCJkYXRhLXRleHRcIjpcInRydWVcIn0pLGQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShuKXtyKHRoaXMsZSk7dmFyIG89aSh0aGlzLHQuY2FsbCh0aGlzLG4pKTtyZXR1cm4gby5fZm9yY2VGbGFnPSExLG99cmV0dXJuIG8oZSx0KSxlLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGU9ZnVuY3Rpb24odCl7dmFyIGU9cy5maW5kRE9NTm9kZSh0aGlzKSxuPVwiXCI9PT10LmNoaWxkcmVuO3JldHVybiBlIGluc3RhbmNlb2YgRWxlbWVudHx8bCghMSksbj8hdShlKTplLnRleHRDb250ZW50IT09dC5jaGlsZHJlbn0sZS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQ9ZnVuY3Rpb24oKXt0aGlzLl9mb3JjZUZsYWc9IXRoaXMuX2ZvcmNlRmxhZ30sZS5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5fZm9yY2VGbGFnPSF0aGlzLl9mb3JjZUZsYWd9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3JldHVyblwiXCI9PT10aGlzLnByb3BzLmNoaWxkcmVuP3RoaXMuX2ZvcmNlRmxhZz9wOmg6YS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtrZXk6dGhpcy5fZm9yY2VGbGFnP1wiQVwiOlwiQlwiLFwiZGF0YS10ZXh0XCI6XCJ0cnVlXCJ9LHRoaXMucHJvcHMuY2hpbGRyZW4pfSxlfShhLkNvbXBvbmVudCk7dC5leHBvcnRzPWR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDIwMiksaT1cIlVua25vd25cIixvPXtcIk1hYyBPU1wiOlwiTWFjIE9TIFhcIn0sdT1uZXcgcixhPXUuZ2V0UmVzdWx0KCkscz1mdW5jdGlvbih0KXtpZighdClyZXR1cm57bWFqb3I6XCJcIixtaW5vcjpcIlwifTt2YXIgZT10LnNwbGl0KFwiLlwiKTtyZXR1cm57bWFqb3I6ZVswXSxtaW5vcjplWzFdfX0oYS5icm93c2VyLnZlcnNpb24pLGM9e2Jyb3dzZXJBcmNoaXRlY3R1cmU6YS5jcHUuYXJjaGl0ZWN0dXJlfHxpLGJyb3dzZXJGdWxsVmVyc2lvbjphLmJyb3dzZXIudmVyc2lvbnx8aSxicm93c2VyTWlub3JWZXJzaW9uOnMubWlub3J8fGksYnJvd3Nlck5hbWU6YS5icm93c2VyLm5hbWV8fGksYnJvd3NlclZlcnNpb246YS5icm93c2VyLm1ham9yfHxpLGRldmljZU5hbWU6YS5kZXZpY2UubW9kZWx8fGksZW5naW5lTmFtZTphLmVuZ2luZS5uYW1lfHxpLGVuZ2luZVZlcnNpb246YS5lbmdpbmUudmVyc2lvbnx8aSxwbGF0Zm9ybUFyY2hpdGVjdHVyZTphLmNwdS5hcmNoaXRlY3R1cmV8fGkscGxhdGZvcm1OYW1lOmZ1bmN0aW9uKHQpe3JldHVybiBvW3RdfHx0fShhLm9zLm5hbWUpfHxpLHBsYXRmb3JtVmVyc2lvbjphLm9zLnZlcnNpb258fGkscGxhdGZvcm1GdWxsVmVyc2lvbjphLm9zLnZlcnNpb258fGl9O3QuZXhwb3J0cz1jfSxmdW5jdGlvbih0LGUsbil7dmFyIHI7LyohXG4gKiBVQVBhcnNlci5qcyB2MC43LjE4XG4gKiBMaWdodHdlaWdodCBKYXZhU2NyaXB0LWJhc2VkIFVzZXItQWdlbnQgc3RyaW5nIHBhcnNlclxuICogaHR0cHM6Ly9naXRodWIuY29tL2ZhaXNhbG1hbi91YS1wYXJzZXItanNcbiAqXG4gKiBDb3B5cmlnaHQgwqkgMjAxMi0yMDE2IEZhaXNhbCBTYWxtYW4gPGZ5emxtYW5AZ21haWwuY29tPlxuICogRHVhbCBsaWNlbnNlZCB1bmRlciBHUEx2MiBvciBNSVRcbiAqL1xuIWZ1bmN0aW9uKGksbyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHU9XCJtb2RlbFwiLGE9XCJuYW1lXCIscz1cInR5cGVcIixjPVwidmVuZG9yXCIsbD1cInZlcnNpb25cIixmPVwibW9iaWxlXCIscD1cInRhYmxldFwiLGg9e2V4dGVuZDpmdW5jdGlvbih0LGUpe3ZhciBuPXt9O2Zvcih2YXIgciBpbiB0KWVbcl0mJmVbcl0ubGVuZ3RoJTI9PTA/bltyXT1lW3JdLmNvbmNhdCh0W3JdKTpuW3JdPXRbcl07cmV0dXJuIG59LGhhczpmdW5jdGlvbih0LGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0JiYtMSE9PWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHQudG9Mb3dlckNhc2UoKSl9LGxvd2VyaXplOmZ1bmN0aW9uKHQpe3JldHVybiB0LnRvTG93ZXJDYXNlKCl9LG1ham9yOmZ1bmN0aW9uKHQpey8qIVxuICogVUFQYXJzZXIuanMgdjAuNy4xOFxuICogTGlnaHR3ZWlnaHQgSmF2YVNjcmlwdC1iYXNlZCBVc2VyLUFnZW50IHN0cmluZyBwYXJzZXJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWlzYWxtYW4vdWEtcGFyc2VyLWpzXG4gKlxuICogQ29weXJpZ2h0IMKpIDIwMTItMjAxNiBGYWlzYWwgU2FsbWFuIDxmeXpsbWFuQGdtYWlsLmNvbT5cbiAqIER1YWwgbGljZW5zZWQgdW5kZXIgR1BMdjIgb3IgTUlUXG4gKi9cbnJldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P3QucmVwbGFjZSgvW15cXGRcXC5dL2csXCJcIikuc3BsaXQoXCIuXCIpWzBdOnZvaWQgMH0sdHJpbTpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZyxcIlwiKX19LGQ9e3JneDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbixyLGksbyx1LGEscz0wO3M8ZS5sZW5ndGgmJiF1Oyl7dmFyIGM9ZVtzXSxsPWVbcysxXTtmb3Iobj1yPTA7bjxjLmxlbmd0aCYmIXU7KWlmKHU9Y1tuKytdLmV4ZWModCkpZm9yKGk9MDtpPGwubGVuZ3RoO2krKylhPXVbKytyXSxvPWxbaV0sXCJvYmplY3RcIj09dHlwZW9mIG8mJm8ubGVuZ3RoPjA/Mj09by5sZW5ndGg/XCJmdW5jdGlvblwiPT10eXBlb2Ygb1sxXT90aGlzW29bMF1dPW9bMV0uY2FsbCh0aGlzLGEpOnRoaXNbb1swXV09b1sxXTozPT1vLmxlbmd0aD9cImZ1bmN0aW9uXCIhPXR5cGVvZiBvWzFdfHxvWzFdLmV4ZWMmJm9bMV0udGVzdD90aGlzW29bMF1dPWE/YS5yZXBsYWNlKG9bMV0sb1syXSk6dm9pZCAwOnRoaXNbb1swXV09YT9vWzFdLmNhbGwodGhpcyxhLG9bMl0pOnZvaWQgMDo0PT1vLmxlbmd0aCYmKHRoaXNbb1swXV09YT9vWzNdLmNhbGwodGhpcyxhLnJlcGxhY2Uob1sxXSxvWzJdKSk6dm9pZCAwKTp0aGlzW29dPWF8fHZvaWQgMDtzKz0yfX0sc3RyOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpaWYoXCJvYmplY3RcIj09dHlwZW9mIGVbbl0mJmVbbl0ubGVuZ3RoPjApe2Zvcih2YXIgcj0wO3I8ZVtuXS5sZW5ndGg7cisrKWlmKGguaGFzKGVbbl1bcl0sdCkpcmV0dXJuXCI/XCI9PT1uP3ZvaWQgMDpufWVsc2UgaWYoaC5oYXMoZVtuXSx0KSlyZXR1cm5cIj9cIj09PW4/dm9pZCAwOm47cmV0dXJuIHR9fSx5PXticm93c2VyOntvbGRzYWZhcmk6e3ZlcnNpb246e1wiMS4wXCI6XCIvOFwiLDEuMjpcIi8xXCIsMS4zOlwiLzNcIixcIjIuMFwiOlwiLzQxMlwiLFwiMi4wLjJcIjpcIi80MTZcIixcIjIuMC4zXCI6XCIvNDE3XCIsXCIyLjAuNFwiOlwiLzQxOVwiLFwiP1wiOlwiL1wifX19LGRldmljZTp7YW1hem9uOnttb2RlbDp7XCJGaXJlIFBob25lXCI6W1wiU0RcIixcIktGXCJdfX0sc3ByaW50Onttb2RlbDp7XCJFdm8gU2hpZnQgNEdcIjpcIjczNzNLVFwifSx2ZW5kb3I6e0hUQzpcIkFQQVwiLFNwcmludDpcIlNwcmludFwifX19LG9zOnt3aW5kb3dzOnt2ZXJzaW9uOntNRTpcIjQuOTBcIixcIk5UIDMuMTFcIjpcIk5UMy41MVwiLFwiTlQgNC4wXCI6XCJOVDQuMFwiLDJlMzpcIk5UIDUuMFwiLFhQOltcIk5UIDUuMVwiLFwiTlQgNS4yXCJdLFZpc3RhOlwiTlQgNi4wXCIsNzpcIk5UIDYuMVwiLDg6XCJOVCA2LjJcIiw4LjE6XCJOVCA2LjNcIiwxMDpbXCJOVCA2LjRcIixcIk5UIDEwLjBcIl0sUlQ6XCJBUk1cIn19fX0sZz17YnJvd3NlcjpbWy8ob3BlcmFcXHNtaW5pKVxcLyhbXFx3XFwuLV0rKS9pLC8ob3BlcmFcXHNbbW9iaWxldGFiXSspLit2ZXJzaW9uXFwvKFtcXHdcXC4tXSspL2ksLyhvcGVyYSkuK3ZlcnNpb25cXC8oW1xcd1xcLl0rKS9pLC8ob3BlcmEpW1xcL1xcc10rKFtcXHdcXC5dKykvaV0sW2EsbF0sWy8ob3Bpb3MpW1xcL1xcc10rKFtcXHdcXC5dKykvaV0sW1thLFwiT3BlcmEgTWluaVwiXSxsXSxbL1xccyhvcHIpXFwvKFtcXHdcXC5dKykvaV0sW1thLFwiT3BlcmFcIl0sbF0sWy8oa2luZGxlKVxcLyhbXFx3XFwuXSspL2ksLyhsdW5hc2NhcGV8bWF4dGhvbnxuZXRmcm9udHxqYXNtaW5lfGJsYXplcilbXFwvXFxzXT8oW1xcd1xcLl0qKS9pLC8oYXZhbnRcXHN8aWVtb2JpbGV8c2xpbXxiYWlkdSkoPzpicm93c2VyKT9bXFwvXFxzXT8oW1xcd1xcLl0qKS9pLC8oPzptc3xcXCgpKGllKVxccyhbXFx3XFwuXSspL2ksLyhyZWtvbnEpXFwvKFtcXHdcXC5dKikvaSwvKGNocm9taXVtfGZsb2NrfHJvY2ttZWx0fG1pZG9yaXxlcGlwaGFueXxzaWxrfHNreWZpcmV8b3ZpYnJvd3Nlcnxib2x0fGlyb258dml2YWxkaXxpcmlkaXVtfHBoYW50b21qc3xib3dzZXJ8cXVhcmspXFwvKFtcXHdcXC4tXSspL2ldLFthLGxdLFsvKHRyaWRlbnQpLitydls6XFxzXShbXFx3XFwuXSspLitsaWtlXFxzZ2Vja28vaV0sW1thLFwiSUVcIl0sbF0sWy8oZWRnZXxlZGdpb3N8ZWRnZWEpXFwvKChcXGQrKT9bXFx3XFwuXSspL2ldLFtbYSxcIkVkZ2VcIl0sbF0sWy8oeWFicm93c2VyKVxcLyhbXFx3XFwuXSspL2ldLFtbYSxcIllhbmRleFwiXSxsXSxbLyhwdWZmaW4pXFwvKFtcXHdcXC5dKykvaV0sW1thLFwiUHVmZmluXCJdLGxdLFsvKCg/OltcXHNcXC9dKXVjP1xccz9icm93c2VyfCg/Omp1Yy4rKXVjd2ViKVtcXC9cXHNdPyhbXFx3XFwuXSspL2ldLFtbYSxcIlVDQnJvd3NlclwiXSxsXSxbLyhjb21vZG9fZHJhZ29uKVxcLyhbXFx3XFwuXSspL2ldLFtbYSwvXy9nLFwiIFwiXSxsXSxbLyhtaWNyb21lc3NlbmdlcilcXC8oW1xcd1xcLl0rKS9pXSxbW2EsXCJXZUNoYXRcIl0sbF0sWy8ocXFicm93c2VybGl0ZSlcXC8oW1xcd1xcLl0rKS9pXSxbYSxsXSxbLyhRUSlcXC8oW1xcZFxcLl0rKS9pXSxbYSxsXSxbL20/KHFxYnJvd3NlcilbXFwvXFxzXT8oW1xcd1xcLl0rKS9pXSxbYSxsXSxbLyhCSURVQnJvd3NlcilbXFwvXFxzXT8oW1xcd1xcLl0rKS9pXSxbYSxsXSxbLygyMzQ1RXhwbG9yZXIpW1xcL1xcc10/KFtcXHdcXC5dKykvaV0sW2EsbF0sWy8oTWV0YVNyKVtcXC9cXHNdPyhbXFx3XFwuXSspL2ldLFthXSxbLyhMQkJST1dTRVIpL2ldLFthXSxbL3hpYW9taVxcL21pdWlicm93c2VyXFwvKFtcXHdcXC5dKykvaV0sW2wsW2EsXCJNSVVJIEJyb3dzZXJcIl1dLFsvO2ZiYXZcXC8oW1xcd1xcLl0rKTsvaV0sW2wsW2EsXCJGYWNlYm9va1wiXV0sWy9oZWFkbGVzc2Nocm9tZSg/OlxcLyhbXFx3XFwuXSspfFxccykvaV0sW2wsW2EsXCJDaHJvbWUgSGVhZGxlc3NcIl1dLFsvXFxzd3ZcXCkuKyhjaHJvbWUpXFwvKFtcXHdcXC5dKykvaV0sW1thLC8oLispLyxcIiQxIFdlYlZpZXdcIl0sbF0sWy8oKD86b2N1bHVzfHNhbXN1bmcpYnJvd3NlcilcXC8oW1xcd1xcLl0rKS9pXSxbW2EsLyguKyg/Omd8dXMpKSguKykvLFwiJDEgJDJcIl0sbF0sWy9hbmRyb2lkLit2ZXJzaW9uXFwvKFtcXHdcXC5dKylcXHMrKD86bW9iaWxlXFxzP3NhZmFyaXxzYWZhcmkpKi9pXSxbbCxbYSxcIkFuZHJvaWQgQnJvd3NlclwiXV0sWy8oY2hyb21lfG9tbml3ZWJ8YXJvcmF8W3RpemVub2thXXs1fVxccz9icm93c2VyKVxcL3Y/KFtcXHdcXC5dKykvaV0sW2EsbF0sWy8oZG9sZmluKVxcLyhbXFx3XFwuXSspL2ldLFtbYSxcIkRvbHBoaW5cIl0sbF0sWy8oKD86YW5kcm9pZC4rKWNybW98Y3Jpb3MpXFwvKFtcXHdcXC5dKykvaV0sW1thLFwiQ2hyb21lXCJdLGxdLFsvKGNvYXN0KVxcLyhbXFx3XFwuXSspL2ldLFtbYSxcIk9wZXJhIENvYXN0XCJdLGxdLFsvZnhpb3NcXC8oW1xcd1xcLi1dKykvaV0sW2wsW2EsXCJGaXJlZm94XCJdXSxbL3ZlcnNpb25cXC8oW1xcd1xcLl0rKS4rP21vYmlsZVxcL1xcdytcXHMoc2FmYXJpKS9pXSxbbCxbYSxcIk1vYmlsZSBTYWZhcmlcIl1dLFsvdmVyc2lvblxcLyhbXFx3XFwuXSspLis/KG1vYmlsZVxccz9zYWZhcml8c2FmYXJpKS9pXSxbbCxhXSxbL3dlYmtpdC4rPyhnc2EpXFwvKFtcXHdcXC5dKykuKz8obW9iaWxlXFxzP3NhZmFyaXxzYWZhcmkpKFxcL1tcXHdcXC5dKykvaV0sW1thLFwiR1NBXCJdLGxdLFsvd2Via2l0Lis/KG1vYmlsZVxccz9zYWZhcml8c2FmYXJpKShcXC9bXFx3XFwuXSspL2ldLFthLFtsLGQuc3RyLHkuYnJvd3Nlci5vbGRzYWZhcmkudmVyc2lvbl1dLFsvKGtvbnF1ZXJvcilcXC8oW1xcd1xcLl0rKS9pLC8od2Via2l0fGtodG1sKVxcLyhbXFx3XFwuXSspL2ldLFthLGxdLFsvKG5hdmlnYXRvcnxuZXRzY2FwZSlcXC8oW1xcd1xcLi1dKykvaV0sW1thLFwiTmV0c2NhcGVcIl0sbF0sWy8oc3dpZnRmb3gpL2ksLyhpY2VkcmFnb258aWNld2Vhc2VsfGNhbWlub3xjaGltZXJhfGZlbm5lY3xtYWVtb1xcc2Jyb3dzZXJ8bWluaW1vfGNvbmtlcm9yKVtcXC9cXHNdPyhbXFx3XFwuXFwrXSspL2ksLyhmaXJlZm94fHNlYW1vbmtleXxrLW1lbGVvbnxpY2VjYXR8aWNlYXBlfGZpcmViaXJkfHBob2VuaXh8cGFsZW1vb258YmFzaWxpc2t8d2F0ZXJmb3gpXFwvKFtcXHdcXC4tXSspJC9pLC8obW96aWxsYSlcXC8oW1xcd1xcLl0rKS4rcnZcXDouK2dlY2tvXFwvXFxkKy9pLC8ocG9sYXJpc3xseW54fGRpbGxvfGljYWJ8ZG9yaXN8YW1heWF8dzNtfG5ldHN1cmZ8c2xlaXBuaXIpW1xcL1xcc10/KFtcXHdcXC5dKykvaSwvKGxpbmtzKVxcc1xcKChbXFx3XFwuXSspL2ksLyhnb2Jyb3dzZXIpXFwvPyhbXFx3XFwuXSopL2ksLyhpY2VcXHM/YnJvd3NlcilcXC92PyhbXFx3XFwuX10rKS9pLC8obW9zYWljKVtcXC9cXHNdKFtcXHdcXC5dKykvaV0sW2EsbF1dLGNwdTpbWy8oPzooYW1kfHgoPzooPzo4Nnw2NClbXy1dKT98d293fHdpbik2NClbO1xcKV0vaV0sW1tcImFyY2hpdGVjdHVyZVwiLFwiYW1kNjRcIl1dLFsvKGlhMzIoPz07KSkvaV0sW1tcImFyY2hpdGVjdHVyZVwiLGgubG93ZXJpemVdXSxbLygoPzppWzM0Nl18eCk4NilbO1xcKV0vaV0sW1tcImFyY2hpdGVjdHVyZVwiLFwiaWEzMlwiXV0sWy93aW5kb3dzXFxzKGNlfG1vYmlsZSk7XFxzcHBjOy9pXSxbW1wiYXJjaGl0ZWN0dXJlXCIsXCJhcm1cIl1dLFsvKCg/OnBwY3xwb3dlcnBjKSg/OjY0KT8pKD86XFxzbWFjfDt8XFwpKS9pXSxbW1wiYXJjaGl0ZWN0dXJlXCIsL293ZXIvLFwiXCIsaC5sb3dlcml6ZV1dLFsvKHN1bjRcXHcpWztcXCldL2ldLFtbXCJhcmNoaXRlY3R1cmVcIixcInNwYXJjXCJdXSxbLygoPzphdnIzMnxpYTY0KD89OykpfDY4ayg/PVxcKSl8YXJtKD86NjR8KD89dlxcZCs7KSl8KD89YXRtZWxcXHMpYXZyfCg/OmlyaXh8bWlwc3xzcGFyYykoPzo2NCk/KD89Oyl8cGEtcmlzYykvaV0sW1tcImFyY2hpdGVjdHVyZVwiLGgubG93ZXJpemVdXV0sZGV2aWNlOltbL1xcKChpcGFkfHBsYXlib29rKTtbXFx3XFxzXFwpOy1dKyhyaW18YXBwbGUpL2ldLFt1LGMsW3MscF1dLFsvYXBwbGVjb3JlbWVkaWFcXC9bXFx3XFwuXSsgXFwoKGlwYWQpL10sW3UsW2MsXCJBcHBsZVwiXSxbcyxwXV0sWy8oYXBwbGVcXHN7MCwxfXR2KS9pXSxbW3UsXCJBcHBsZSBUVlwiXSxbYyxcIkFwcGxlXCJdXSxbLyhhcmNob3MpXFxzKGdhbWVwYWQyPykvaSwvKGhwKS4rKHRvdWNocGFkKS9pLC8oaHApLisodGFibGV0KS9pLC8oa2luZGxlKVxcLyhbXFx3XFwuXSspL2ksL1xccyhub29rKVtcXHdcXHNdK2J1aWxkXFwvKFxcdyspL2ksLyhkZWxsKVxccyhzdHJlYVtrcHJcXHNcXGRdKltcXGRrb10pL2ldLFtjLHUsW3MscF1dLFsvKGtmW0Etel0rKVxcc2J1aWxkXFwvLitzaWxrXFwvL2ldLFt1LFtjLFwiQW1hem9uXCJdLFtzLHBdXSxbLyhzZHxrZilbMDM0OWhpam9yc3R1d10rXFxzYnVpbGRcXC8uK3NpbGtcXC8vaV0sW1t1LGQuc3RyLHkuZGV2aWNlLmFtYXpvbi5tb2RlbF0sW2MsXCJBbWF6b25cIl0sW3MsZl1dLFsvXFwoKGlwW2hvbmVkfFxcc1xcdypdKyk7LisoYXBwbGUpL2ldLFt1LGMsW3MsZl1dLFsvXFwoKGlwW2hvbmVkfFxcc1xcdypdKyk7L2ldLFt1LFtjLFwiQXBwbGVcIl0sW3MsZl1dLFsvKGJsYWNrYmVycnkpW1xccy1dPyhcXHcrKS9pLC8oYmxhY2tiZXJyeXxiZW5xfHBhbG0oPz1cXC0pfHNvbnllcmljc3NvbnxhY2VyfGFzdXN8ZGVsbHxtZWl6dXxtb3Rvcm9sYXxwb2x5dHJvbilbXFxzXy1dPyhbXFx3LV0qKS9pLC8oaHApXFxzKFtcXHdcXHNdK1xcdykvaSwvKGFzdXMpLT8oXFx3KykvaV0sW2MsdSxbcyxmXV0sWy9cXChiYjEwO1xccyhcXHcrKS9pXSxbdSxbYyxcIkJsYWNrQmVycnlcIl0sW3MsZl1dLFsvYW5kcm9pZC4rKHRyYW5zZm9bcHJpbWVcXHNdezQsMTB9XFxzXFx3K3xlZWVwY3xzbGlkZXJcXHNcXHcrfG5leHVzIDd8cGFkZm9uZSkvaV0sW3UsW2MsXCJBc3VzXCJdLFtzLHBdXSxbLyhzb255KVxccyh0YWJsZXRcXHNbcHNdKVxcc2J1aWxkXFwvL2ksLyhzb255KT8oPzpzZ3AuKylcXHNidWlsZFxcLy9pXSxbW2MsXCJTb255XCJdLFt1LFwiWHBlcmlhIFRhYmxldFwiXSxbcyxwXV0sWy9hbmRyb2lkLitcXHMoW2MtZ11cXGR7NH18c29bLWxdXFx3KylcXHNidWlsZFxcLy9pXSxbdSxbYyxcIlNvbnlcIl0sW3MsZl1dLFsvXFxzKG91eWEpXFxzL2ksLyhuaW50ZW5kbylcXHMoW3dpZHMzdV0rKS9pXSxbYyx1LFtzLFwiY29uc29sZVwiXV0sWy9hbmRyb2lkLis7XFxzKHNoaWVsZClcXHNidWlsZC9pXSxbdSxbYyxcIk52aWRpYVwiXSxbcyxcImNvbnNvbGVcIl1dLFsvKHBsYXlzdGF0aW9uXFxzWzM0cG9ydGFibGV2aV0rKS9pXSxbdSxbYyxcIlNvbnlcIl0sW3MsXCJjb25zb2xlXCJdXSxbLyhzcHJpbnRcXHMoXFx3KykpL2ldLFtbYyxkLnN0cix5LmRldmljZS5zcHJpbnQudmVuZG9yXSxbdSxkLnN0cix5LmRldmljZS5zcHJpbnQubW9kZWxdLFtzLGZdXSxbLyhsZW5vdm8pXFxzPyhTKD86NTAwMHw2MDAwKSsoPzpbLV1bXFx3K10pKS9pXSxbYyx1LFtzLHBdXSxbLyhodGMpWztfXFxzLV0rKFtcXHdcXHNdKyg/PVxcKSl8XFx3KykqL2ksLyh6dGUpLShcXHcqKS9pLC8oYWxjYXRlbHxnZWVrc3Bob25lfGxlbm92b3xuZXhpYW58cGFuYXNvbmljfCg/PTtcXHMpc29ueSlbX1xccy1dPyhbXFx3LV0qKS9pXSxbYyxbdSwvXy9nLFwiIFwiXSxbcyxmXV0sWy8obmV4dXNcXHM5KS9pXSxbdSxbYyxcIkhUQ1wiXSxbcyxwXV0sWy9kXFwvaHVhd2VpKFtcXHdcXHMtXSspWztcXCldL2ksLyhuZXh1c1xcczZwKS9pXSxbdSxbYyxcIkh1YXdlaVwiXSxbcyxmXV0sWy8obWljcm9zb2Z0KTtcXHMobHVtaWFbXFxzXFx3XSspL2ldLFtjLHUsW3MsZl1dLFsvW1xcc1xcKDtdKHhib3goPzpcXHNvbmUpPylbXFxzXFwpO10vaV0sW3UsW2MsXCJNaWNyb3NvZnRcIl0sW3MsXCJjb25zb2xlXCJdXSxbLyhraW5cXC5bb25ldHddezN9KS9pXSxbW3UsL1xcLi9nLFwiIFwiXSxbYyxcIk1pY3Jvc29mdFwiXSxbcyxmXV0sWy9cXHMobWlsZXN0b25lfGRyb2lkKD86WzItNHhdfFxccyg/OmJpb25pY3x4Mnxwcm98cmF6cikpPzo/KFxcczRnKT8pW1xcd1xcc10rYnVpbGRcXC8vaSwvbW90W1xccy1dPyhcXHcqKS9pLC8oWFRcXGR7Myw0fSkgYnVpbGRcXC8vaSwvKG5leHVzXFxzNikvaV0sW3UsW2MsXCJNb3Rvcm9sYVwiXSxbcyxmXV0sWy9hbmRyb2lkLitcXHMobXo2MFxcZHx4b29tW1xcczJdezAsMn0pXFxzYnVpbGRcXC8vaV0sW3UsW2MsXCJNb3Rvcm9sYVwiXSxbcyxwXV0sWy9oYmJ0dlxcL1xcZCtcXC5cXGQrXFwuXFxkK1xccytcXChbXFx3XFxzXSo7XFxzKihcXHdbXjtdKik7KFteO10qKS9pXSxbW2MsaC50cmltXSxbdSxoLnRyaW1dLFtzLFwic21hcnR0dlwiXV0sWy9oYmJ0di4rbWFwbGU7KFxcZCspL2ldLFtbdSwvXi8sXCJTbWFydFRWXCJdLFtjLFwiU2Ftc3VuZ1wiXSxbcyxcInNtYXJ0dHZcIl1dLFsvXFwoZHR2W1xcKTtdLisoYXF1b3MpL2ldLFt1LFtjLFwiU2hhcnBcIl0sW3MsXCJzbWFydHR2XCJdXSxbL2FuZHJvaWQuKygoc2NoLWlbODldMFxcZHxzaHctbTM4MHN8Z3QtcFxcZHs0fXxndC1uXFxkK3xzZ2gtdDhbNTZdOXxuZXh1cyAxMCkpL2ksLygoU00tVFxcdyspKS9pXSxbW2MsXCJTYW1zdW5nXCJdLHUsW3MscF1dLFsvc21hcnQtdHYuKyhzYW1zdW5nKS9pXSxbYyxbcyxcInNtYXJ0dHZcIl0sdV0sWy8oKHNbY2dwXWgtXFx3K3xndC1cXHcrfGdhbGF4eVxcc25leHVzfHNtLVxcd1tcXHdcXGRdKykpL2ksLyhzYW1bc3VuZ10qKVtcXHMtXSooXFx3Ky0/W1xcdy1dKikvaSwvc2VjLSgoc2doXFx3KykpL2ldLFtbYyxcIlNhbXN1bmdcIl0sdSxbcyxmXV0sWy9zaWUtKFxcdyopL2ldLFt1LFtjLFwiU2llbWVuc1wiXSxbcyxmXV0sWy8obWFlbW98bm9raWEpLioobjkwMHxsdW1pYVxcc1xcZCspL2ksLyhub2tpYSlbXFxzXy1dPyhbXFx3LV0qKS9pXSxbW2MsXCJOb2tpYVwiXSx1LFtzLGZdXSxbL2FuZHJvaWRcXHMzXFwuW1xcc1xcdzstXXsxMH0oYVxcZHszfSkvaV0sW3UsW2MsXCJBY2VyXCJdLFtzLHBdXSxbL2FuZHJvaWQuKyhbdmxda1xcLT9cXGR7M30pXFxzK2J1aWxkL2ldLFt1LFtjLFwiTEdcIl0sW3MscF1dLFsvYW5kcm9pZFxcczNcXC5bXFxzXFx3Oy1dezEwfShsZz8pLShbMDZjdjldezMsNH0pL2ldLFtbYyxcIkxHXCJdLHUsW3MscF1dLFsvKGxnKSBuZXRjYXN0XFwudHYvaV0sW2MsdSxbcyxcInNtYXJ0dHZcIl1dLFsvKG5leHVzXFxzWzQ1XSkvaSwvbGdbZTtcXHNcXC8tXSsoXFx3KikvaSwvYW5kcm9pZC4rbGcoXFwtP1tcXGRcXHddKylcXHMrYnVpbGQvaV0sW3UsW2MsXCJMR1wiXSxbcyxmXV0sWy9hbmRyb2lkLisoaWRlYXRhYlthLXowLTlcXC1cXHNdKykvaV0sW3UsW2MsXCJMZW5vdm9cIl0sW3MscF1dLFsvbGludXg7LisoKGpvbGxhKSk7L2ldLFtjLHUsW3MsZl1dLFsvKChwZWJibGUpKWFwcFxcL1tcXGRcXC5dK1xccy9pXSxbYyx1LFtzLFwid2VhcmFibGVcIl1dLFsvYW5kcm9pZC4rO1xccyhvcHBvKVxccz8oW1xcd1xcc10rKVxcc2J1aWxkL2ldLFtjLHUsW3MsZl1dLFsvY3JrZXkvaV0sW1t1LFwiQ2hyb21lY2FzdFwiXSxbYyxcIkdvb2dsZVwiXV0sWy9hbmRyb2lkLis7XFxzKGdsYXNzKVxcc1xcZC9pXSxbdSxbYyxcIkdvb2dsZVwiXSxbcyxcIndlYXJhYmxlXCJdXSxbL2FuZHJvaWQuKztcXHMocGl4ZWwgYylcXHMvaV0sW3UsW2MsXCJHb29nbGVcIl0sW3MscF1dLFsvYW5kcm9pZC4rO1xccyhwaXhlbCB4bHxwaXhlbClcXHMvaV0sW3UsW2MsXCJHb29nbGVcIl0sW3MsZl1dLFsvYW5kcm9pZC4rO1xccyhcXHcrKVxccytidWlsZFxcL2htXFwxL2ksL2FuZHJvaWQuKyhobVtcXHNcXC1fXSpub3RlP1tcXHNfXSooPzpcXGRcXHcpPylcXHMrYnVpbGQvaSwvYW5kcm9pZC4rKG1pW1xcc1xcLV9dKig/Om9uZXxvbmVbXFxzX11wbHVzfG5vdGUgbHRlKT9bXFxzX10qKD86XFxkP1xcdz8pW1xcc19dKig/OnBsdXMpPylcXHMrYnVpbGQvaSwvYW5kcm9pZC4rKHJlZG1pW1xcc1xcLV9dKig/Om5vdGUpPyg/OltcXHNfXSpbXFx3XFxzXSspKVxccytidWlsZC9pXSxbW3UsL18vZyxcIiBcIl0sW2MsXCJYaWFvbWlcIl0sW3MsZl1dLFsvYW5kcm9pZC4rKG1pW1xcc1xcLV9dKig/OnBhZCkoPzpbXFxzX10qW1xcd1xcc10rKSlcXHMrYnVpbGQvaV0sW1t1LC9fL2csXCIgXCJdLFtjLFwiWGlhb21pXCJdLFtzLHBdXSxbL2FuZHJvaWQuKztcXHMobVsxLTVdXFxzbm90ZSlcXHNidWlsZC9pXSxbdSxbYyxcIk1laXp1XCJdLFtzLHBdXSxbL2FuZHJvaWQuK2EwMDAoMSlcXHMrYnVpbGQvaSwvYW5kcm9pZC4rb25lcGx1c1xccyhhXFxkezR9KVxccytidWlsZC9pXSxbdSxbYyxcIk9uZVBsdXNcIl0sW3MsZl1dLFsvYW5kcm9pZC4rWztcXC9dXFxzKihSQ1RbXFxkXFx3XSspXFxzK2J1aWxkL2ldLFt1LFtjLFwiUkNBXCJdLFtzLHBdXSxbL2FuZHJvaWQuK1s7XFwvXFxzXSsoVmVudWVbXFxkXFxzXXsyLDd9KVxccytidWlsZC9pXSxbdSxbYyxcIkRlbGxcIl0sW3MscF1dLFsvYW5kcm9pZC4rWztcXC9dXFxzKihRW1R8TV1bXFxkXFx3XSspXFxzK2J1aWxkL2ldLFt1LFtjLFwiVmVyaXpvblwiXSxbcyxwXV0sWy9hbmRyb2lkLitbO1xcL11cXHMrKEJhcm5lc1smXFxzXStOb2JsZVxccyt8Qk5bUlRdKShWPy4qKVxccytidWlsZC9pXSxbW2MsXCJCYXJuZXMgJiBOb2JsZVwiXSx1LFtzLHBdXSxbL2FuZHJvaWQuK1s7XFwvXVxccysoVE1cXGR7M30uKlxcYilcXHMrYnVpbGQvaV0sW3UsW2MsXCJOdVZpc2lvblwiXSxbcyxwXV0sWy9hbmRyb2lkLis7XFxzKGs4OClcXHNidWlsZC9pXSxbdSxbYyxcIlpURVwiXSxbcyxwXV0sWy9hbmRyb2lkLitbO1xcL11cXHMqKGdlblxcZHszfSlcXHMrYnVpbGQuKjQ5aC9pXSxbdSxbYyxcIlN3aXNzXCJdLFtzLGZdXSxbL2FuZHJvaWQuK1s7XFwvXVxccyooenVyXFxkezN9KVxccytidWlsZC9pXSxbdSxbYyxcIlN3aXNzXCJdLFtzLHBdXSxbL2FuZHJvaWQuK1s7XFwvXVxccyooKFpla2kpP1RCLipcXGIpXFxzK2J1aWxkL2ldLFt1LFtjLFwiWmVraVwiXSxbcyxwXV0sWy8oYW5kcm9pZCkuK1s7XFwvXVxccysoW1lSXVxcZHsyfSlcXHMrYnVpbGQvaSwvYW5kcm9pZC4rWztcXC9dXFxzKyhEcmFnb25bXFwtXFxzXStUb3VjaFxccyt8RFQpKFxcd3s1fSlcXHNidWlsZC9pXSxbW2MsXCJEcmFnb24gVG91Y2hcIl0sdSxbcyxwXV0sWy9hbmRyb2lkLitbO1xcL11cXHMqKE5TLT9cXHd7MCw5fSlcXHNidWlsZC9pXSxbdSxbYyxcIkluc2lnbmlhXCJdLFtzLHBdXSxbL2FuZHJvaWQuK1s7XFwvXVxccyooKE5YfE5leHQpLT9cXHd7MCw5fSlcXHMrYnVpbGQvaV0sW3UsW2MsXCJOZXh0Qm9va1wiXSxbcyxwXV0sWy9hbmRyb2lkLitbO1xcL11cXHMqKFh0cmVtZVxcXyk/KFYoMVswNDVdfDJbMDE1XXwzMHw0MHw2MHw3WzA1XXw5MCkpXFxzK2J1aWxkL2ldLFtbYyxcIlZvaWNlXCJdLHUsW3MsZl1dLFsvYW5kcm9pZC4rWztcXC9dXFxzKihMVlRFTFxcLSk/KFYxWzEyXSlcXHMrYnVpbGQvaV0sW1tjLFwiTHZUZWxcIl0sdSxbcyxmXV0sWy9hbmRyb2lkLitbO1xcL11cXHMqKFYoMTAwTUR8NzAwTkF8NzAxMXw5MTdHKS4qXFxiKVxccytidWlsZC9pXSxbdSxbYyxcIkVudml6ZW5cIl0sW3MscF1dLFsvYW5kcm9pZC4rWztcXC9dXFxzKihMZVtcXHNcXC1dK1BhbilbXFxzXFwtXSsoXFx3ezEsOX0pXFxzK2J1aWxkL2ldLFtjLHUsW3MscF1dLFsvYW5kcm9pZC4rWztcXC9dXFxzKihUcmlvW1xcc1xcLV0qLiopXFxzK2J1aWxkL2ldLFt1LFtjLFwiTWFjaFNwZWVkXCJdLFtzLHBdXSxbL2FuZHJvaWQuK1s7XFwvXVxccyooVHJpbml0eSlbXFwtXFxzXSooVFxcZHszfSlcXHMrYnVpbGQvaV0sW2MsdSxbcyxwXV0sWy9hbmRyb2lkLitbO1xcL11cXHMqVFVfKDE0OTEpXFxzK2J1aWxkL2ldLFt1LFtjLFwiUm90b3JcIl0sW3MscF1dLFsvYW5kcm9pZC4rKEtTKC4rKSlcXHMrYnVpbGQvaV0sW3UsW2MsXCJBbWF6b25cIl0sW3MscF1dLFsvYW5kcm9pZC4rKEdpZ2FzZXQpW1xcc1xcLV0rKFFcXHd7MSw5fSlcXHMrYnVpbGQvaV0sW2MsdSxbcyxwXV0sWy9cXHModGFibGV0fHRhYilbO1xcL10vaSwvXFxzKG1vYmlsZSkoPzpbO1xcL118XFxzc2FmYXJpKS9pXSxbW3MsaC5sb3dlcml6ZV0sYyx1XSxbLyhhbmRyb2lkW1xcd1xcLlxcc1xcLV17MCw5fSk7LitidWlsZC9pXSxbdSxbYyxcIkdlbmVyaWNcIl1dXSxlbmdpbmU6W1svd2luZG93cy4rXFxzZWRnZVxcLyhbXFx3XFwuXSspL2ldLFtsLFthLFwiRWRnZUhUTUxcIl1dLFsvKHByZXN0bylcXC8oW1xcd1xcLl0rKS9pLC8od2Via2l0fHRyaWRlbnR8bmV0ZnJvbnR8bmV0c3VyZnxhbWF5YXxseW54fHczbSlcXC8oW1xcd1xcLl0rKS9pLC8oa2h0bWx8dGFzbWFufGxpbmtzKVtcXC9cXHNdXFwoPyhbXFx3XFwuXSspL2ksLyhpY2FiKVtcXC9cXHNdKFsyM11cXC5bXFxkXFwuXSspL2ldLFthLGxdLFsvcnZcXDooW1xcd1xcLl17MSw5fSkuKyhnZWNrbykvaV0sW2wsYV1dLG9zOltbL21pY3Jvc29mdFxccyh3aW5kb3dzKVxccyh2aXN0YXx4cCkvaV0sW2EsbF0sWy8od2luZG93cylcXHNudFxcczZcXC4yO1xccyhhcm0pL2ksLyh3aW5kb3dzXFxzcGhvbmUoPzpcXHNvcykqKVtcXHNcXC9dPyhbXFxkXFwuXFxzXFx3XSopL2ksLyh3aW5kb3dzXFxzbW9iaWxlfHdpbmRvd3MpW1xcc1xcL10/KFtudGNlXFxkXFwuXFxzXStcXHcpL2ldLFthLFtsLGQuc3RyLHkub3Mud2luZG93cy52ZXJzaW9uXV0sWy8od2luKD89M3w5fG4pfHdpblxcczl4XFxzKShbbnRcXGRcXC5dKykvaV0sW1thLFwiV2luZG93c1wiXSxbbCxkLnN0cix5Lm9zLndpbmRvd3MudmVyc2lvbl1dLFsvXFwoKGJiKSgxMCk7L2ldLFtbYSxcIkJsYWNrQmVycnlcIl0sbF0sWy8oYmxhY2tiZXJyeSlcXHcqXFwvPyhbXFx3XFwuXSopL2ksLyh0aXplbilbXFwvXFxzXShbXFx3XFwuXSspL2ksLyhhbmRyb2lkfHdlYm9zfHBhbG1cXHNvc3xxbnh8YmFkYXxyaW1cXHN0YWJsZXRcXHNvc3xtZWVnb3xjb250aWtpKVtcXC9cXHMtXT8oW1xcd1xcLl0qKS9pLC9saW51eDsuKyhzYWlsZmlzaCk7L2ldLFthLGxdLFsvKHN5bWJpYW5cXHM/b3N8c3ltYm9zfHM2MCg/PTspKVtcXC9cXHMtXT8oW1xcd1xcLl0qKS9pXSxbW2EsXCJTeW1iaWFuXCJdLGxdLFsvXFwoKHNlcmllczQwKTsvaV0sW2FdLFsvbW96aWxsYS4rXFwobW9iaWxlOy4rZ2Vja28uK2ZpcmVmb3gvaV0sW1thLFwiRmlyZWZveCBPU1wiXSxsXSxbLyhuaW50ZW5kb3xwbGF5c3RhdGlvbilcXHMoW3dpZHMzNHBvcnRhYmxldnVdKykvaSwvKG1pbnQpW1xcL1xcc1xcKF0/KFxcdyopL2ksLyhtYWdlaWF8dmVjdG9ybGludXgpWztcXHNdL2ksLyhqb2xpfFtreGxuXT91YnVudHV8ZGViaWFufHN1c2V8b3BlbnN1c2V8Z2VudG9vfCg/PVxccylhcmNofHNsYWNrd2FyZXxmZWRvcmF8bWFuZHJpdmF8Y2VudG9zfHBjbGludXhvc3xyZWRoYXR8emVud2Fsa3xsaW5wdXMpW1xcL1xccy1dPyg/IWNocm9tKShbXFx3XFwuLV0qKS9pLC8oaHVyZHxsaW51eClcXHM/KFtcXHdcXC5dKikvaSwvKGdudSlcXHM/KFtcXHdcXC5dKikvaV0sW2EsbF0sWy8oY3JvcylcXHNbXFx3XStcXHMoW1xcd1xcLl0rXFx3KS9pXSxbW2EsXCJDaHJvbWl1bSBPU1wiXSxsXSxbLyhzdW5vcylcXHM/KFtcXHdcXC5cXGRdKikvaV0sW1thLFwiU29sYXJpc1wiXSxsXSxbL1xccyhbZnJlbnRvcGMtXXswLDR9YnNkfGRyYWdvbmZseSlcXHM/KFtcXHdcXC5dKikvaV0sW2EsbF0sWy8oaGFpa3UpXFxzKFxcdyspL2ldLFthLGxdLFsvY2ZuZXR3b3JrXFwvLitkYXJ3aW4vaSwvaXBbaG9uZWFkXXsyLDR9KD86Lipvc1xccyhbXFx3XSspXFxzbGlrZVxcc21hY3w7XFxzb3BlcmEpL2ldLFtbbCwvXy9nLFwiLlwiXSxbYSxcImlPU1wiXV0sWy8obWFjXFxzb3NcXHN4KVxccz8oW1xcd1xcc1xcLl0qKS9pLC8obWFjaW50b3NofG1hYyg/PV9wb3dlcnBjKVxccykvaV0sW1thLFwiTWFjIE9TXCJdLFtsLC9fL2csXCIuXCJdXSxbLygoPzpvcGVuKT9zb2xhcmlzKVtcXC9cXHMtXT8oW1xcd1xcLl0qKS9pLC8oYWl4KVxccygoXFxkKSg/PVxcLnxcXCl8XFxzKVtcXHdcXC5dKSovaSwvKHBsYW5cXHM5fG1pbml4fGJlb3N8b3NcXC8yfGFtaWdhb3N8bW9ycGhvc3xyaXNjXFxzb3N8b3BlbnZtcykvaSwvKHVuaXgpXFxzPyhbXFx3XFwuXSopL2ldLFthLGxdXX0sdj1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0JiYoZT10LHQ9dm9pZCAwKSwhKHRoaXMgaW5zdGFuY2VvZiB2KSlyZXR1cm4gbmV3IHYodCxlKS5nZXRSZXN1bHQoKTt2YXIgbj10fHwoaSYmaS5uYXZpZ2F0b3ImJmkubmF2aWdhdG9yLnVzZXJBZ2VudD9pLm5hdmlnYXRvci51c2VyQWdlbnQ6XCJcIikscj1lP2guZXh0ZW5kKGcsZSk6ZztyZXR1cm4gdGhpcy5nZXRCcm93c2VyPWZ1bmN0aW9uKCl7dmFyIHQ9e25hbWU6dm9pZCAwLHZlcnNpb246dm9pZCAwfTtyZXR1cm4gZC5yZ3guY2FsbCh0LG4sci5icm93c2VyKSx0Lm1ham9yPWgubWFqb3IodC52ZXJzaW9uKSx0fSx0aGlzLmdldENQVT1mdW5jdGlvbigpe3ZhciB0PXthcmNoaXRlY3R1cmU6dm9pZCAwfTtyZXR1cm4gZC5yZ3guY2FsbCh0LG4sci5jcHUpLHR9LHRoaXMuZ2V0RGV2aWNlPWZ1bmN0aW9uKCl7dmFyIHQ9e3ZlbmRvcjp2b2lkIDAsbW9kZWw6dm9pZCAwLHR5cGU6dm9pZCAwfTtyZXR1cm4gZC5yZ3guY2FsbCh0LG4sci5kZXZpY2UpLHR9LHRoaXMuZ2V0RW5naW5lPWZ1bmN0aW9uKCl7dmFyIHQ9e25hbWU6dm9pZCAwLHZlcnNpb246dm9pZCAwfTtyZXR1cm4gZC5yZ3guY2FsbCh0LG4sci5lbmdpbmUpLHR9LHRoaXMuZ2V0T1M9ZnVuY3Rpb24oKXt2YXIgdD17bmFtZTp2b2lkIDAsdmVyc2lvbjp2b2lkIDB9O3JldHVybiBkLnJneC5jYWxsKHQsbixyLm9zKSx0fSx0aGlzLmdldFJlc3VsdD1mdW5jdGlvbigpe3JldHVybnt1YTp0aGlzLmdldFVBKCksYnJvd3Nlcjp0aGlzLmdldEJyb3dzZXIoKSxlbmdpbmU6dGhpcy5nZXRFbmdpbmUoKSxvczp0aGlzLmdldE9TKCksZGV2aWNlOnRoaXMuZ2V0RGV2aWNlKCksY3B1OnRoaXMuZ2V0Q1BVKCl9fSx0aGlzLmdldFVBPWZ1bmN0aW9uKCl7cmV0dXJuIG59LHRoaXMuc2V0VUE9ZnVuY3Rpb24odCl7cmV0dXJuIG49dCx0aGlzfSx0aGlzfTt2LlZFUlNJT049XCIwLjcuMThcIix2LkJST1dTRVI9e05BTUU6YSxNQUpPUjpcIm1ham9yXCIsVkVSU0lPTjpsfSx2LkNQVT17QVJDSElURUNUVVJFOlwiYXJjaGl0ZWN0dXJlXCJ9LHYuREVWSUNFPXtNT0RFTDp1LFZFTkRPUjpjLFRZUEU6cyxDT05TT0xFOlwiY29uc29sZVwiLE1PQklMRTpmLFNNQVJUVFY6XCJzbWFydHR2XCIsVEFCTEVUOnAsV0VBUkFCTEU6XCJ3ZWFyYWJsZVwiLEVNQkVEREVEOlwiZW1iZWRkZWRcIn0sdi5FTkdJTkU9e05BTUU6YSxWRVJTSU9OOmx9LHYuT1M9e05BTUU6YSxWRVJTSU9OOmx9LHZvaWQgMCE9PWU/KHZvaWQgMCE9PXQmJnQuZXhwb3J0cyYmKGU9dC5leHBvcnRzPXYpLGUuVUFQYXJzZXI9dik6bigyMDMpP3ZvaWQgMCE9PShyPWZ1bmN0aW9uKCl7cmV0dXJuIHZ9LmNhbGwoZSxuLGUsdCkpJiYodC5leHBvcnRzPXIpOmkmJihpLlVBUGFyc2VyPXYpO3ZhciBfPWkmJihpLmpRdWVyeXx8aS5aZXB0byk7aWYodm9pZCAwIT09Xyl7dmFyIG09bmV3IHY7Xy51YT1tLmdldFJlc3VsdCgpLF8udWEuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG0uZ2V0VUEoKX0sXy51YS5zZXQ9ZnVuY3Rpb24odCl7bS5zZXRVQSh0KTt2YXIgZT1tLmdldFJlc3VsdCgpO2Zvcih2YXIgbiBpbiBlKV8udWFbbl09ZVtuXX19fShcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzKX0sZnVuY3Rpb24odCxlKXsoZnVuY3Rpb24oZSl7dC5leHBvcnRzPWV9KS5jYWxsKGUse30pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe3ZhciBuPXQuc3BsaXQodyk7cmV0dXJuIG4ubGVuZ3RoPjE/bi5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiBJLmNvbnRhaW5zKHQsZSl9KToodD1uWzBdLnRyaW0oKSxpKHQsZSkpfWZ1bmN0aW9uIGkodCxlKXt2YXIgbj10LnNwbGl0KE0pO2lmKG4ubGVuZ3RoPjAmJm4ubGVuZ3RoPD0yfHxTKCExKSwxPT09bi5sZW5ndGgpcmV0dXJuIG8oblswXSxlKTt2YXIgcj1uWzBdLGk9blsxXTtyZXR1cm4gZChyKSYmZChpKXx8UyghMSksbyhcIj49XCIrcixlKSYmbyhcIjw9XCIraSxlKX1mdW5jdGlvbiBvKHQsZSl7aWYoXCJcIj09PSh0PXQudHJpbSgpKSlyZXR1cm4hMDt2YXIgbj1lLnNwbGl0KGIpLHI9cCh0KSxpPXIubW9kaWZpZXIsbz1yLnJhbmdlQ29tcG9uZW50cztzd2l0Y2goaSl7Y2FzZVwiPFwiOnJldHVybiB1KG4sbyk7Y2FzZVwiPD1cIjpyZXR1cm4gYShuLG8pO2Nhc2VcIj49XCI6cmV0dXJuIGMobixvKTtjYXNlXCI+XCI6cmV0dXJuIGwobixvKTtjYXNlXCJ+XCI6Y2FzZVwifj5cIjpyZXR1cm4gZihuLG8pO2RlZmF1bHQ6cmV0dXJuIHMobixvKX19ZnVuY3Rpb24gdSh0LGUpe3JldHVybi0xPT09bSh0LGUpfWZ1bmN0aW9uIGEodCxlKXt2YXIgbj1tKHQsZSk7cmV0dXJuLTE9PT1ufHwwPT09bn1mdW5jdGlvbiBzKHQsZSl7cmV0dXJuIDA9PT1tKHQsZSl9ZnVuY3Rpb24gYyh0LGUpe3ZhciBuPW0odCxlKTtyZXR1cm4gMT09PW58fDA9PT1ufWZ1bmN0aW9uIGwodCxlKXtyZXR1cm4gMT09PW0odCxlKX1mdW5jdGlvbiBmKHQsZSl7dmFyIG49ZS5zbGljZSgpLHI9ZS5zbGljZSgpO3IubGVuZ3RoPjEmJnIucG9wKCk7dmFyIGk9ci5sZW5ndGgtMSxvPXBhcnNlSW50KHJbaV0sMTApO3JldHVybiBoKG8pJiYocltpXT1vKzErXCJcIiksYyh0LG4pJiZ1KHQscil9ZnVuY3Rpb24gcCh0KXt2YXIgZT10LnNwbGl0KGIpLG49ZVswXS5tYXRjaChFKTtyZXR1cm4gbnx8UyghMSkse21vZGlmaWVyOm5bMV0scmFuZ2VDb21wb25lbnRzOltuWzJdXS5jb25jYXQoZS5zbGljZSgxKSl9fWZ1bmN0aW9uIGgodCl7cmV0dXJuIWlzTmFOKHQpJiZpc0Zpbml0ZSh0KX1mdW5jdGlvbiBkKHQpe3JldHVybiFwKHQpLm1vZGlmaWVyfWZ1bmN0aW9uIHkodCxlKXtmb3IodmFyIG49dC5sZW5ndGg7bjxlO24rKyl0W25dPVwiMFwifWZ1bmN0aW9uIGcodCxlKXt0PXQuc2xpY2UoKSxlPWUuc2xpY2UoKSx5KHQsZS5sZW5ndGgpO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dLm1hdGNoKC9eW3gqXSQvaSk7aWYociYmKGVbbl09dFtuXT1cIjBcIixcIipcIj09PXJbMF0mJm49PT1lLmxlbmd0aC0xKSlmb3IodmFyIGk9bjtpPHQubGVuZ3RoO2krKyl0W2ldPVwiMFwifXJldHVybiB5KGUsdC5sZW5ndGgpLFt0LGVdfWZ1bmN0aW9uIHYodCxlKXt2YXIgbj10Lm1hdGNoKHgpWzFdLHI9ZS5tYXRjaCh4KVsxXSxpPXBhcnNlSW50KG4sMTApLG89cGFyc2VJbnQociwxMCk7cmV0dXJuIGgoaSkmJmgobykmJmkhPT1vP18oaSxvKTpfKHQsZSl9ZnVuY3Rpb24gXyh0LGUpe3JldHVybiB0eXBlb2YgdCE9dHlwZW9mIGUmJlMoITEpLHQ+ZT8xOnQ8ZT8tMTowfWZ1bmN0aW9uIG0odCxlKXtmb3IodmFyIG49Zyh0LGUpLHI9blswXSxpPW5bMV0sbz0wO288aS5sZW5ndGg7bysrKXt2YXIgdT12KHJbb10saVtvXSk7aWYodSlyZXR1cm4gdX1yZXR1cm4gMH12YXIgUz1uKDEpLGI9L1xcLi8sdz0vXFx8XFx8LyxNPS9cXHMrXFwtXFxzKy8sRT0vXig8PXw8fD18Pj18fj58fnw+fCk/XFxzKiguKykvLHg9L14oXFxkKikoLiopLyxJPXtjb250YWluczpmdW5jdGlvbih0LGUpe3JldHVybiByKHQudHJpbSgpLGUudHJpbSgpKX19O3QuZXhwb3J0cz1JfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUsbil7aWYoIXQpcmV0dXJuIG51bGw7dmFyIHI9e307Zm9yKHZhciBvIGluIHQpaS5jYWxsKHQsbykmJihyW29dPWUuY2FsbChuLHRbb10sbyx0KSk7cmV0dXJuIHJ9dmFyIGk9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7dmFyIGU9e307cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBlLmhhc093blByb3BlcnR5KG4pfHwoZVtuXT10LmNhbGwodGhpcyxuKSksZVtuXX19dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcih0LGUpe2lmKCF0KXJldHVyblwiW2VtcHR5XVwiO3ZhciBuPWkodCxlKTtyZXR1cm4gbi5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFP24udGV4dENvbnRlbnQ6KG4gaW5zdGFuY2VvZiBFbGVtZW50fHxoKCExKSxuLm91dGVySFRNTCl9ZnVuY3Rpb24gaSh0LGUpe3ZhciBuPXZvaWQgMCE9PWU/ZSh0KTpbXTtpZih0Lm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREUpe3ZhciByPXQudGV4dENvbnRlbnQubGVuZ3RoO3JldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlt0ZXh0IFwiK3IrKG4ubGVuZ3RoP1wiIHwgXCIrbi5qb2luKFwiLCBcIik6XCJcIikrXCJdXCIpfXZhciBvPXQuY2xvbmVOb2RlKCk7MT09PW8ubm9kZVR5cGUmJm4ubGVuZ3RoJiZvLnNldEF0dHJpYnV0ZShcImRhdGEtbGFiZWxzXCIsbi5qb2luKFwiLCBcIikpO2Zvcih2YXIgdT10LmNoaWxkTm9kZXMsYT0wO2E8dS5sZW5ndGg7YSsrKW8uYXBwZW5kQ2hpbGQoaSh1W2FdLGUpKTtyZXR1cm4gb31mdW5jdGlvbiBvKHQsZSl7Zm9yKHZhciBuPXQ7bjspe2lmKG4gaW5zdGFuY2VvZiBFbGVtZW50JiZuLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm4gcihuLGUpO249bi5wYXJlbnROb2RlfXJldHVyblwiQ291bGQgbm90IGZpbmQgY29udGVudEVkaXRhYmxlIHBhcmVudCBvZiBub2RlXCJ9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gbnVsbD09PXQubm9kZVZhbHVlP3QuY2hpbGROb2Rlcy5sZW5ndGg6dC5ub2RlVmFsdWUubGVuZ3RofWZ1bmN0aW9uIGEodCxuLHIsaSxvKXtpZihmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxuKSl7dmFyIHU9ZS5nZXRTZWxlY3Rpb24oKSxhPXQuZ2V0QW5jaG9yS2V5KCksbD10LmdldEFuY2hvck9mZnNldCgpLHA9dC5nZXRGb2N1c0tleSgpLGg9dC5nZXRGb2N1c09mZnNldCgpLGQ9dC5nZXRJc0JhY2t3YXJkKCk7aWYoIXUuZXh0ZW5kJiZkKXt2YXIgeT1hLGc9bDthPXAsbD1oLHA9eSxoPWcsZD0hMX12YXIgdj1hPT09ciYmaTw9bCYmbz49bCxfPXA9PT1yJiZpPD1oJiZvPj1oO2lmKHYmJl8pcmV0dXJuIHUucmVtb3ZlQWxsUmFuZ2VzKCksYyh1LG4sbC1pLHQpLHZvaWQgcyh1LG4saC1pLHQpO2lmKGQpe2lmKF8mJih1LnJlbW92ZUFsbFJhbmdlcygpLGModSxuLGgtaSx0KSksdil7dmFyIG09dS5mb2N1c05vZGUsUz11LmZvY3VzT2Zmc2V0O3UucmVtb3ZlQWxsUmFuZ2VzKCksYyh1LG4sbC1pLHQpLHModSxtLFMsdCl9fWVsc2UgdiYmKHUucmVtb3ZlQWxsUmFuZ2VzKCksYyh1LG4sbC1pLHQpKSxfJiZzKHUsbixoLWksdCl9fWZ1bmN0aW9uIHModCxlLG4scil7dmFyIGk9cCgpO2lmKHQuZXh0ZW5kJiZmKGksZSkpe24+dShlKSYmbC5sb2dTZWxlY3Rpb25TdGF0ZUZhaWx1cmUoe2Fub255bWl6ZWREb206byhlKSxleHRyYVBhcmFtczpKU09OLnN0cmluZ2lmeSh7b2Zmc2V0Om59KSxzZWxlY3Rpb25TdGF0ZTpKU09OLnN0cmluZ2lmeShyLnRvSlMoKSl9KTt2YXIgYT1lPT09dC5mb2N1c05vZGU7dHJ5e3QuZXh0ZW5kKGUsbil9Y2F0Y2godSl7dGhyb3cgbC5sb2dTZWxlY3Rpb25TdGF0ZUZhaWx1cmUoe2Fub255bWl6ZWREb206byhlLGZ1bmN0aW9uKGUpe3ZhciBuPVtdO3JldHVybiBlPT09aSYmbi5wdXNoKFwiYWN0aXZlIGVsZW1lbnRcIiksZT09PXQuYW5jaG9yTm9kZSYmbi5wdXNoKFwic2VsZWN0aW9uIGFuY2hvciBub2RlXCIpLGU9PT10LmZvY3VzTm9kZSYmbi5wdXNoKFwic2VsZWN0aW9uIGZvY3VzIG5vZGVcIiksbn0pLGV4dHJhUGFyYW1zOkpTT04uc3RyaW5naWZ5KHthY3RpdmVFbGVtZW50TmFtZTppP2kubm9kZU5hbWU6bnVsbCxub2RlSXNGb2N1czplPT09dC5mb2N1c05vZGUsbm9kZVdhc0ZvY3VzOmEsc2VsZWN0aW9uUmFuZ2VDb3VudDp0LnJhbmdlQ291bnQsc2VsZWN0aW9uQW5jaG9yTm9kZU5hbWU6dC5hbmNob3JOb2RlP3QuYW5jaG9yTm9kZS5ub2RlTmFtZTpudWxsLHNlbGVjdGlvbkFuY2hvck9mZnNldDp0LmFuY2hvck9mZnNldCxzZWxlY3Rpb25Gb2N1c05vZGVOYW1lOnQuZm9jdXNOb2RlP3QuZm9jdXNOb2RlLm5vZGVOYW1lOm51bGwsc2VsZWN0aW9uRm9jdXNPZmZzZXQ6dC5mb2N1c09mZnNldCxtZXNzYWdlOnU/XCJcIit1Om51bGwsb2Zmc2V0Om59LG51bGwsMiksc2VsZWN0aW9uU3RhdGU6SlNPTi5zdHJpbmdpZnkoci50b0pTKCksbnVsbCwyKX0pLHV9fWVsc2V7dmFyIHM9dC5nZXRSYW5nZUF0KDApO3Muc2V0RW5kKGUsbiksdC5hZGRSYW5nZShzLmNsb25lUmFuZ2UoKSl9fWZ1bmN0aW9uIGModCxlLG4scil7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtuPnUoZSkmJmwubG9nU2VsZWN0aW9uU3RhdGVGYWlsdXJlKHthbm9ueW1pemVkRG9tOm8oZSksZXh0cmFQYXJhbXM6SlNPTi5zdHJpbmdpZnkoe29mZnNldDpufSksc2VsZWN0aW9uU3RhdGU6SlNPTi5zdHJpbmdpZnkoci50b0pTKCkpfSksaS5zZXRTdGFydChlLG4pLHQuYWRkUmFuZ2UoaSl9dmFyIGw9bigyMDgpLGY9big4NykscD1uKDEyMSksaD1uKDEpO3QuZXhwb3J0cz1hfSkuY2FsbChlLG4oMjYpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz17bG9nU2VsZWN0aW9uU3RhdGVGYWlsdXJlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIGkodCkmJjM9PXQubm9kZVR5cGV9dmFyIGk9bigyMTApO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXt2YXIgZT10P3Qub3duZXJEb2N1bWVudHx8dDpkb2N1bWVudCxuPWUuZGVmYXVsdFZpZXd8fHdpbmRvdztyZXR1cm4hKCF0fHwhKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4uTm9kZT90IGluc3RhbmNlb2Ygbi5Ob2RlOlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcIm51bWJlclwiPT10eXBlb2YgdC5ub2RlVHlwZSYmXCJzdHJpbmdcIj09dHlwZW9mIHQubm9kZU5hbWUpKX10LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIG51bGw9PXQ/dDpTdHJpbmcodCl9ZnVuY3Rpb24gaSh0LGUpe3ZhciBuPXZvaWQgMDtpZih3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSYmKG49d2luZG93LmdldENvbXB1dGVkU3R5bGUodCxudWxsKSkpcmV0dXJuIHIobi5nZXRQcm9wZXJ0eVZhbHVlKHUoZSkpKTtpZihkb2N1bWVudC5kZWZhdWx0VmlldyYmZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSl7aWYobj1kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHQsbnVsbCkpcmV0dXJuIHIobi5nZXRQcm9wZXJ0eVZhbHVlKHUoZSkpKTtpZihcImRpc3BsYXlcIj09PWUpcmV0dXJuXCJub25lXCJ9cmV0dXJuIHIodC5jdXJyZW50U3R5bGU/XCJmbG9hdFwiPT09ZT90LmN1cnJlbnRTdHlsZS5jc3NGbG9hdHx8dC5jdXJyZW50U3R5bGUuc3R5bGVGbG9hdDp0LmN1cnJlbnRTdHlsZVtvKGUpXTp0LnN0eWxlJiZ0LnN0eWxlW28oZSldKX12YXIgbz1uKDIxMiksdT1uKDIxMyk7dC5leHBvcnRzPWl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0LnJlcGxhY2UoaSxmdW5jdGlvbih0LGUpe3JldHVybiBlLnRvVXBwZXJDYXNlKCl9KX12YXIgaT0vLSguKS9nO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdC5yZXBsYWNlKGksXCItJDFcIikudG9Mb3dlckNhc2UoKX12YXIgaT0vKFtBLVpdKS9nO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXt2YXIgZT1pKHQpO3JldHVybnt4OmUubGVmdCx5OmUudG9wLHdpZHRoOmUucmlnaHQtZS5sZWZ0LGhlaWdodDplLmJvdHRvbS1lLnRvcH19dmFyIGk9bigyMTUpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXt2YXIgZT10Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2lmKCEoXCJnZXRCb3VuZGluZ0NsaWVudFJlY3RcImluIHQmJmkoZSx0KSkpcmV0dXJue2xlZnQ6MCxyaWdodDowLHRvcDowLGJvdHRvbTowfTt2YXIgbj10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybntsZWZ0Ok1hdGgucm91bmQobi5sZWZ0KS1lLmNsaWVudExlZnQscmlnaHQ6TWF0aC5yb3VuZChuLnJpZ2h0KS1lLmNsaWVudExlZnQsdG9wOk1hdGgucm91bmQobi50b3ApLWUuY2xpZW50VG9wLGJvdHRvbTpNYXRoLnJvdW5kKG4uYm90dG9tKS1lLmNsaWVudFRvcH19dmFyIGk9big4Nyk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0PXR8fGRvY3VtZW50LHQuc2Nyb2xsaW5nRWxlbWVudD90LnNjcm9sbGluZ0VsZW1lbnQ6aXx8XCJDU1MxQ29tcGF0XCIhPT10LmNvbXBhdE1vZGU/dC5ib2R5OnQuZG9jdW1lbnRFbGVtZW50fXZhciBpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkFwcGxlV2ViS2l0XCIpPi0xO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdC5XaW5kb3cmJnQgaW5zdGFuY2VvZiB0LldpbmRvdz97eDp0LnBhZ2VYT2Zmc2V0fHx0LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LHk6dC5wYWdlWU9mZnNldHx8dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfTp7eDp0LnNjcm9sbExlZnQseTp0LnNjcm9sbFRvcH19dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKCl7dmFyIHQ9dm9pZCAwO3JldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJih0PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCksIXQmJmRvY3VtZW50LmJvZHkmJih0PWRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpLHR8fDB9ZnVuY3Rpb24gaSgpe3ZhciB0PXZvaWQgMDtyZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiYodD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSwhdCYmZG9jdW1lbnQuYm9keSYmKHQ9ZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQpLHR8fDB9ZnVuY3Rpb24gbygpe3JldHVybnt3aWR0aDp3aW5kb3cuaW5uZXJXaWR0aHx8cigpLGhlaWdodDp3aW5kb3cuaW5uZXJIZWlnaHR8fGkoKX19by53aXRob3V0U2Nyb2xsYmFycz1mdW5jdGlvbigpe3JldHVybnt3aWR0aDpyKCksaGVpZ2h0OmkoKX19LHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXt0fHwodD1cIlwiKTt2YXIgZT12b2lkIDAsbj1hcmd1bWVudHMubGVuZ3RoO2lmKG4+MSlmb3IodmFyIHI9MTtyPG47cisrKShlPWFyZ3VtZW50c1tyXSkmJih0PSh0P3QrXCIgXCI6XCJcIikrZSk7cmV0dXJuIHR9dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7dmFyIG49bnVsbCxyPW51bGw7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZG9jdW1lbnQuY2FyZXRSYW5nZUZyb21Qb2ludCl7dmFyIGk9ZG9jdW1lbnQuY2FyZXRSYW5nZUZyb21Qb2ludCh0LngsdC55KTtuPWkuc3RhcnRDb250YWluZXIscj1pLnN0YXJ0T2Zmc2V0fWVsc2V7aWYoIXQucmFuZ2VQYXJlbnQpcmV0dXJuIG51bGw7bj10LnJhbmdlUGFyZW50LHI9dC5yYW5nZU9mZnNldH1uPWgobikscj1oKHIpO3ZhciBvPWgoYyhuKSk7cmV0dXJuIGYoZSxvLHIsbyxyKX1mdW5jdGlvbiBpKHQsZSl7dmFyIG49YS5tb3ZlVGV4dCh0LmdldEN1cnJlbnRDb250ZW50KCksdC5nZXRTZWxlY3Rpb24oKSxlKTtyZXR1cm4gcy5wdXNoKHQsbixcImluc2VydC1mcmFnbWVudFwiKX1mdW5jdGlvbiBvKHQsZSxuKXt2YXIgcj1hLmluc2VydFRleHQodC5nZXRDdXJyZW50Q29udGVudCgpLGUsbix0LmdldEN1cnJlbnRJbmxpbmVTdHlsZSgpKTtyZXR1cm4gcy5wdXNoKHQscixcImluc2VydC1mcmFnbWVudFwiKX12YXIgdT1uKDEyMyksYT1uKDUpLHM9bigyKSxjPW4oOTApLGw9bigxMjUpLGY9bigxMjYpLHA9big1MiksaD1uKDEzKSxkPXtvbkRyYWdFbmQ6ZnVuY3Rpb24odCl7dC5leGl0Q3VycmVudE1vZGUoKX0sb25Ecm9wOmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHUoZS5uYXRpdmVFdmVudC5kYXRhVHJhbnNmZXIpLGE9dC5fbGF0ZXN0RWRpdG9yU3RhdGUscz1yKGUubmF0aXZlRXZlbnQsYSk7aWYoZS5wcmV2ZW50RGVmYXVsdCgpLHQuZXhpdEN1cnJlbnRNb2RlKCksbnVsbCE9cyl7dmFyIGM9bi5nZXRGaWxlcygpO2lmKGMubGVuZ3RoPjApe2lmKHQucHJvcHMuaGFuZGxlRHJvcHBlZEZpbGVzJiZwKHQucHJvcHMuaGFuZGxlRHJvcHBlZEZpbGVzKHMsYykpKXJldHVybjtyZXR1cm4gdm9pZCBsKGMsZnVuY3Rpb24oZSl7ZSYmdC51cGRhdGUobyhhLHMsZSkpfSl9dmFyIGY9dC5faW50ZXJuYWxEcmFnP1wiaW50ZXJuYWxcIjpcImV4dGVybmFsXCI7aWYoIXQucHJvcHMuaGFuZGxlRHJvcHx8IXAodC5wcm9wcy5oYW5kbGVEcm9wKHMsbixmKSkpcmV0dXJuIHQuX2ludGVybmFsRHJhZz92b2lkIHQudXBkYXRlKGkoYSxzKSk6dm9pZCB0LnVwZGF0ZShvKGEscyxuLmdldFRleHQoKSkpfX19O3QuZXhwb3J0cz1kfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdC5zcGxpdChcIi9cIil9dmFyIGk9e2lzSW1hZ2U6ZnVuY3Rpb24odCl7cmV0dXJuXCJpbWFnZVwiPT09cih0KVswXX0saXNKcGVnOmZ1bmN0aW9uKHQpe3ZhciBlPXIodCk7cmV0dXJuIGkuaXNJbWFnZSh0KSYmKFwianBlZ1wiPT09ZVsxXXx8XCJwanBlZ1wiPT09ZVsxXSl9fTt0LmV4cG9ydHM9aX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7dmFyIGU9dC5sZW5ndGg7aWYoKEFycmF5LmlzQXJyYXkodCl8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KSYmdSghMSksXCJudW1iZXJcIiE9dHlwZW9mIGUmJnUoITEpLDA9PT1lfHxlLTEgaW4gdHx8dSghMSksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jYWxsZWUmJnUoITEpLHQuaGFzT3duUHJvcGVydHkpdHJ5e3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0KX1jYXRjaCh0KXt9Zm9yKHZhciBuPUFycmF5KGUpLHI9MDtyPGU7cisrKW5bcl09dFtyXTtyZXR1cm4gbn1mdW5jdGlvbiBpKHQpe3JldHVybiEhdCYmKFwib2JqZWN0XCI9PXR5cGVvZiB0fHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KSYmXCJsZW5ndGhcImluIHQmJiEoXCJzZXRJbnRlcnZhbFwiaW4gdCkmJlwibnVtYmVyXCIhPXR5cGVvZiB0Lm5vZGVUeXBlJiYoQXJyYXkuaXNBcnJheSh0KXx8XCJjYWxsZWVcImluIHR8fFwiaXRlbVwiaW4gdCl9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gaSh0KT9BcnJheS5pc0FycmF5KHQpP3Quc2xpY2UoKTpyKHQpOlt0XX12YXIgdT1uKDEpO3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyMjQpLGk9bigyMjgpLG89bigyMjkpLHU9bigyMzApLGE9bigyMzEpLHM9bigyMzIpLGM9bigyMzMpLGw9bigyMzQpLGY9bigyMzUpLHA9bigyMzYpLGg9bigyNTApLGQ9bigyNTUpLHk9e29uQmVmb3JlSW5wdXQ6cixvbkJsdXI6aSxvbkNvbXBvc2l0aW9uU3RhcnQ6byxvbkNvcHk6dSxvbkN1dDphLG9uRHJhZ092ZXI6cyxvbkRyYWdTdGFydDpjLG9uRm9jdXM6bCxvbklucHV0OmYsb25LZXlEb3duOnAsb25QYXN0ZTpoLG9uU2VsZWN0OmR9O3QuZXhwb3J0cz15fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIodCl7cmV0dXJuIHYmJih0PT15fHx0PT1nKX1mdW5jdGlvbiBpKHQsZSxuLHIpe3ZhciBpPWEucmVwbGFjZVRleHQodC5nZXRDdXJyZW50Q29udGVudCgpLHQuZ2V0U2VsZWN0aW9uKCksZSxuLHIpO3JldHVybiBzLnB1c2godCxpLFwiaW5zZXJ0LWNoYXJhY3RlcnNcIil9ZnVuY3Rpb24gbyh0LG4pe3ZvaWQgMCE9PXQuX3BlbmRpbmdTdGF0ZUZyb21CZWZvcmVJbnB1dCYmKHQudXBkYXRlKHQuX3BlbmRpbmdTdGF0ZUZyb21CZWZvcmVJbnB1dCksdC5fcGVuZGluZ1N0YXRlRnJvbUJlZm9yZUlucHV0PXZvaWQgMCk7dmFyIG89dC5fbGF0ZXN0RWRpdG9yU3RhdGUsYT1uLmRhdGE7aWYoYSl7aWYodC5wcm9wcy5oYW5kbGVCZWZvcmVJbnB1dCYmZih0LnByb3BzLmhhbmRsZUJlZm9yZUlucHV0KGEsbykpKXJldHVybiB2b2lkIG4ucHJldmVudERlZmF1bHQoKTt2YXIgYz1vLmdldFNlbGVjdGlvbigpLHk9Yy5nZXRTdGFydE9mZnNldCgpLGc9Yy5nZXRFbmRPZmZzZXQoKSx2PWMuZ2V0QW5jaG9yS2V5KCk7aWYoIWMuaXNDb2xsYXBzZWQoKSlyZXR1cm4gbi5wcmV2ZW50RGVmYXVsdCgpLHZvaWQoYT09PW8uZ2V0Q3VycmVudENvbnRlbnQoKS5nZXRQbGFpblRleHQoKS5zbGljZSh5LGcpP3QudXBkYXRlKHMuZm9yY2VTZWxlY3Rpb24obyxjLm1lcmdlKHtmb2N1c09mZnNldDpnfSkpKTp0LnVwZGF0ZShpKG8sYSxvLmdldEN1cnJlbnRJbmxpbmVTdHlsZSgpLGwoby5nZXRDdXJyZW50Q29udGVudCgpLG8uZ2V0U2VsZWN0aW9uKCkpKSkpO3ZhciBfPWkobyxhLG8uZ2V0Q3VycmVudElubGluZVN0eWxlKCksbChvLmdldEN1cnJlbnRDb250ZW50KCksby5nZXRTZWxlY3Rpb24oKSkpLG09ITE7aWYobXx8KG09cCh0Ll9sYXRlc3RDb21taXR0ZWRFZGl0b3JTdGF0ZSkpLCFtKXt2YXIgUz1lLmdldFNlbGVjdGlvbigpO2lmKFMuYW5jaG9yTm9kZSYmUy5hbmNob3JOb2RlLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREUpe3ZhciBiPVMuYW5jaG9yTm9kZS5wYXJlbnROb2RlO209XCJTUEFOXCI9PT1iLm5vZGVOYW1lJiZiLmZpcnN0Q2hpbGQubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERSYmLTEhPT1iLmZpcnN0Q2hpbGQubm9kZVZhbHVlLmluZGV4T2YoXCJcXHRcIil9fWlmKG18fChtPXUuZ2V0RmluZ2VycHJpbnQoby5nZXRCbG9ja1RyZWUodikpIT09dS5nZXRGaW5nZXJwcmludChfLmdldEJsb2NrVHJlZSh2KSkpLG18fChtPXIoYSkpLG18fChtPWgoXy5nZXREaXJlY3Rpb25NYXAoKSkuZ2V0KHYpIT09aChvLmdldERpcmVjdGlvbk1hcCgpKS5nZXQodikpLG0pcmV0dXJuIG4ucHJldmVudERlZmF1bHQoKSx2b2lkIHQudXBkYXRlKF8pO189cy5zZXQoXyx7bmF0aXZlbHlSZW5kZXJlZENvbnRlbnQ6Xy5nZXRDdXJyZW50Q29udGVudCgpfSksdC5fcGVuZGluZ1N0YXRlRnJvbUJlZm9yZUlucHV0PV8sZChmdW5jdGlvbigpe3ZvaWQgMCE9PXQuX3BlbmRpbmdTdGF0ZUZyb21CZWZvcmVJbnB1dCYmKHQudXBkYXRlKHQuX3BlbmRpbmdTdGF0ZUZyb21CZWZvcmVJbnB1dCksdC5fcGVuZGluZ1N0YXRlRnJvbUJlZm9yZUlucHV0PXZvaWQgMCl9KX19dmFyIHU9bigxMTUpLGE9big1KSxzPW4oMiksYz1uKDE5KSxsPW4oODYpLGY9big1MikscD1uKDExOSksaD1uKDEzKSxkPW4oMjI1KSx5PVwiJ1wiLGc9XCIvXCIsdj1jLmlzQnJvd3NlcihcIkZpcmVmb3hcIik7dC5leHBvcnRzPW99KS5jYWxsKGUsbigyNikpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe24oMjI2KSx0LmV4cG9ydHM9ZS5zZXRJbW1lZGlhdGV9KS5jYWxsKGUsbigyNikpfSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKHQsZSl7IWZ1bmN0aW9uKHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiYodD1uZXcgRnVuY3Rpb24oXCJcIit0KSk7Zm9yKHZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpLG49MDtuPGUubGVuZ3RoO24rKyllW25dPWFyZ3VtZW50c1tuKzFdO3ZhciByPXtjYWxsYmFjazp0LGFyZ3M6ZX07cmV0dXJuIGNbc109cixhKHMpLHMrK31mdW5jdGlvbiBpKHQpe2RlbGV0ZSBjW3RdfWZ1bmN0aW9uIG8odCl7dmFyIGU9dC5jYWxsYmFjayxyPXQuYXJncztzd2l0Y2goci5sZW5ndGgpe2Nhc2UgMDplKCk7YnJlYWs7Y2FzZSAxOmUoclswXSk7YnJlYWs7Y2FzZSAyOmUoclswXSxyWzFdKTticmVhaztjYXNlIDM6ZShyWzBdLHJbMV0sclsyXSk7YnJlYWs7ZGVmYXVsdDplLmFwcGx5KG4scil9fWZ1bmN0aW9uIHUodCl7aWYobClzZXRUaW1lb3V0KHUsMCx0KTtlbHNle3ZhciBlPWNbdF07aWYoZSl7bD0hMDt0cnl7byhlKX1maW5hbGx5e2kodCksbD0hMX19fX1pZighdC5zZXRJbW1lZGlhdGUpe3ZhciBhLHM9MSxjPXt9LGw9ITEsZj10LmRvY3VtZW50LHA9T2JqZWN0LmdldFByb3RvdHlwZU9mJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7cD1wJiZwLnNldFRpbWVvdXQ/cDp0LFwiW29iamVjdCBwcm9jZXNzXVwiPT09e30udG9TdHJpbmcuY2FsbCh0LnByb2Nlc3MpP2Z1bmN0aW9uKCl7YT1mdW5jdGlvbih0KXtlLm5leHRUaWNrKGZ1bmN0aW9uKCl7dSh0KX0pfX0oKTpmdW5jdGlvbigpe2lmKHQucG9zdE1lc3NhZ2UmJiF0LmltcG9ydFNjcmlwdHMpe3ZhciBlPSEwLG49dC5vbm1lc3NhZ2U7cmV0dXJuIHQub25tZXNzYWdlPWZ1bmN0aW9uKCl7ZT0hMX0sdC5wb3N0TWVzc2FnZShcIlwiLFwiKlwiKSx0Lm9ubWVzc2FnZT1uLGV9fSgpP2Z1bmN0aW9uKCl7dmFyIGU9XCJzZXRJbW1lZGlhdGUkXCIrTWF0aC5yYW5kb20oKStcIiRcIixuPWZ1bmN0aW9uKG4pe24uc291cmNlPT09dCYmXCJzdHJpbmdcIj09dHlwZW9mIG4uZGF0YSYmMD09PW4uZGF0YS5pbmRleE9mKGUpJiZ1KCtuLmRhdGEuc2xpY2UoZS5sZW5ndGgpKX07dC5hZGRFdmVudExpc3RlbmVyP3QuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixuLCExKTp0LmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsbiksYT1mdW5jdGlvbihuKXt0LnBvc3RNZXNzYWdlKGUrbixcIipcIil9fSgpOnQuTWVzc2FnZUNoYW5uZWw/ZnVuY3Rpb24oKXt2YXIgdD1uZXcgTWVzc2FnZUNoYW5uZWw7dC5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24odCl7dSh0LmRhdGEpfSxhPWZ1bmN0aW9uKGUpe3QucG9ydDIucG9zdE1lc3NhZ2UoZSl9fSgpOmYmJlwib25yZWFkeXN0YXRlY2hhbmdlXCJpbiBmLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik/ZnVuY3Rpb24oKXt2YXIgdD1mLmRvY3VtZW50RWxlbWVudDthPWZ1bmN0aW9uKGUpe3ZhciBuPWYuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtuLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3UoZSksbi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCx0LnJlbW92ZUNoaWxkKG4pLG49bnVsbH0sdC5hcHBlbmRDaGlsZChuKX19KCk6ZnVuY3Rpb24oKXthPWZ1bmN0aW9uKHQpe3NldFRpbWVvdXQodSwwLHQpfX0oKSxwLnNldEltbWVkaWF0ZT1yLHAuY2xlYXJJbW1lZGlhdGU9aX19KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzZWxmP3ZvaWQgMD09PXQ/dGhpczp0OnNlbGYpfSkuY2FsbChlLG4oMjYpLG4oMjI3KSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gcigpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBpKHQpe2lmKGw9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KHQsMCk7aWYoKGw9PT1ufHwhbCkmJnNldFRpbWVvdXQpcmV0dXJuIGw9c2V0VGltZW91dCxzZXRUaW1lb3V0KHQsMCk7dHJ5e3JldHVybiBsKHQsMCl9Y2F0Y2goZSl7dHJ5e3JldHVybiBsLmNhbGwobnVsbCx0LDApfWNhdGNoKGUpe3JldHVybiBsLmNhbGwodGhpcyx0LDApfX19ZnVuY3Rpb24gbyh0KXtpZihmPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQodCk7aWYoKGY9PT1yfHwhZikmJmNsZWFyVGltZW91dClyZXR1cm4gZj1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KHQpO3RyeXtyZXR1cm4gZih0KX1jYXRjaChlKXt0cnl7cmV0dXJuIGYuY2FsbChudWxsLHQpfWNhdGNoKGUpe3JldHVybiBmLmNhbGwodGhpcyx0KX19fWZ1bmN0aW9uIHUoKXt5JiZoJiYoeT0hMSxoLmxlbmd0aD9kPWguY29uY2F0KGQpOmc9LTEsZC5sZW5ndGgmJmEoKSl9ZnVuY3Rpb24gYSgpe2lmKCF5KXt2YXIgdD1pKHUpO3k9ITA7Zm9yKHZhciBlPWQubGVuZ3RoO2U7KXtmb3IoaD1kLGQ9W107KytnPGU7KWgmJmhbZ10ucnVuKCk7Zz0tMSxlPWQubGVuZ3RofWg9bnVsbCx5PSExLG8odCl9fWZ1bmN0aW9uIHModCxlKXt0aGlzLmZ1bj10LHRoaXMuYXJyYXk9ZX1mdW5jdGlvbiBjKCl7fXZhciBsLGYscD10LmV4cG9ydHM9e307IWZ1bmN0aW9uKCl7dHJ5e2w9XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Om59Y2F0Y2godCl7bD1ufXRyeXtmPVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6cn1jYXRjaCh0KXtmPXJ9fSgpO3ZhciBoLGQ9W10seT0hMSxnPS0xO3AubmV4dFRpY2s9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTFdPWFyZ3VtZW50c1tuXTtkLnB1c2gobmV3IHModCxlKSksMSE9PWQubGVuZ3RofHx5fHxpKGEpfSxzLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxwLnRpdGxlPVwiYnJvd3NlclwiLHAuYnJvd3Nlcj0hMCxwLmVudj17fSxwLmFyZ3Y9W10scC52ZXJzaW9uPVwiXCIscC52ZXJzaW9ucz17fSxwLm9uPWMscC5hZGRMaXN0ZW5lcj1jLHAub25jZT1jLHAub2ZmPWMscC5yZW1vdmVMaXN0ZW5lcj1jLHAucmVtb3ZlQWxsTGlzdGVuZXJzPWMscC5lbWl0PWMscC5wcmVwZW5kTGlzdGVuZXI9YyxwLnByZXBlbmRPbmNlTGlzdGVuZXI9YyxwLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm5bXX0scC5iaW5kaW5nPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxwLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxwLmNoZGlyPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0scC51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXtmdW5jdGlvbiByKHQsbil7aWYodSgpPT09ZG9jdW1lbnQuYm9keSl7dmFyIHI9ZS5nZXRTZWxlY3Rpb24oKSxhPXQuZWRpdG9yOzE9PT1yLnJhbmdlQ291bnQmJm8oYSxyLmFuY2hvck5vZGUpJiZvKGEsci5mb2N1c05vZGUpJiZyLnJlbW92ZUFsbFJhbmdlcygpfXZhciBzPXQuX2xhdGVzdEVkaXRvclN0YXRlLGM9cy5nZXRTZWxlY3Rpb24oKTtpZihjLmdldEhhc0ZvY3VzKCkpe3ZhciBsPWMuc2V0KFwiaGFzRm9jdXNcIiwhMSk7dC5wcm9wcy5vbkJsdXImJnQucHJvcHMub25CbHVyKG4pLHQudXBkYXRlKGkuYWNjZXB0U2VsZWN0aW9uKHMsbCkpfX12YXIgaT1uKDIpLG89big4NyksdT1uKDEyMSk7dC5leHBvcnRzPXJ9KS5jYWxsKGUsbigyNikpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe3Quc2V0TW9kZShcImNvbXBvc2l0ZVwiKSx0LnVwZGF0ZShpLnNldCh0Ll9sYXRlc3RFZGl0b3JTdGF0ZSx7aW5Db21wb3NpdGlvbk1vZGU6ITB9KSksdC5fb25Db21wb3NpdGlvblN0YXJ0KGUpfXZhciBpPW4oMik7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7aWYodC5fbGF0ZXN0RWRpdG9yU3RhdGUuZ2V0U2VsZWN0aW9uKCkuaXNDb2xsYXBzZWQoKSlyZXR1cm4gdm9pZCBlLnByZXZlbnREZWZhdWx0KCk7dC5zZXRDbGlwYm9hcmQoaSh0Ll9sYXRlc3RFZGl0b3JTdGF0ZSkpfXZhciBpPW4oMTI3KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXt2YXIgbj10Ll9sYXRlc3RFZGl0b3JTdGF0ZSxyPW4uZ2V0U2VsZWN0aW9uKCksbz1lLnRhcmdldCx1PXZvaWQgMDtpZihyLmlzQ29sbGFwc2VkKCkpcmV0dXJuIHZvaWQgZS5wcmV2ZW50RGVmYXVsdCgpO28gaW5zdGFuY2VvZiBOb2RlJiYodT1jKGEuZ2V0U2Nyb2xsUGFyZW50KG8pKSk7dmFyIGw9cyhuKTt0LnNldENsaXBib2FyZChsKSx0LnNldE1vZGUoXCJjdXRcIiksc2V0VGltZW91dChmdW5jdGlvbigpe3QucmVzdG9yZUVkaXRvckRPTSh1KSx0LmV4aXRDdXJyZW50TW9kZSgpLHQudXBkYXRlKGkobikpfSwwKX1mdW5jdGlvbiBpKHQpe3ZhciBlPW8ucmVtb3ZlUmFuZ2UodC5nZXRDdXJyZW50Q29udGVudCgpLHQuZ2V0U2VsZWN0aW9uKCksXCJmb3J3YXJkXCIpO3JldHVybiB1LnB1c2godCxlLFwicmVtb3ZlLXJhbmdlXCIpfXZhciBvPW4oNSksdT1uKDIpLGE9big4OCkscz1uKDEyNyksYz1uKDg5KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXt0Ll9pbnRlcm5hbERyYWc9ITEsdC5zZXRNb2RlKFwiZHJhZ1wiKSxlLnByZXZlbnREZWZhdWx0KCl9dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3QuX2ludGVybmFsRHJhZz0hMCx0LnNldE1vZGUoXCJkcmFnXCIpfXQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe3ZhciBuPXQuX2xhdGVzdEVkaXRvclN0YXRlLHI9bi5nZXRTZWxlY3Rpb24oKTtpZighci5nZXRIYXNGb2N1cygpKXt2YXIgdT1yLnNldChcImhhc0ZvY3VzXCIsITApO3QucHJvcHMub25Gb2N1cyYmdC5wcm9wcy5vbkZvY3VzKGUpLG8uaXNCcm93c2VyKFwiQ2hyb21lIDwgNjAuMC4zMDgxLjBcIik/dC51cGRhdGUoaS5mb3JjZVNlbGVjdGlvbihuLHUpKTp0LnVwZGF0ZShpLmFjY2VwdFNlbGVjdGlvbihuLHUpKX19dmFyIGk9bigyKSxvPW4oMTkpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIodCl7dm9pZCAwIT09dC5fcGVuZGluZ1N0YXRlRnJvbUJlZm9yZUlucHV0JiYodC51cGRhdGUodC5fcGVuZGluZ1N0YXRlRnJvbUJlZm9yZUlucHV0KSx0Ll9wZW5kaW5nU3RhdGVGcm9tQmVmb3JlSW5wdXQ9dm9pZCAwKTt2YXIgbj1lLmdldFNlbGVjdGlvbigpLHI9bi5hbmNob3JOb2RlLHM9bi5pc0NvbGxhcHNlZCxoPXIubm9kZVR5cGUhPT1Ob2RlLlRFWFRfTk9ERSxkPXIubm9kZVR5cGUhPT1Ob2RlLlRFWFRfTk9ERSYmci5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFO2lmKGkuZHJhZnRfa2lsbHN3aXRjaF9hbGxvd19ub250ZXh0bm9kZXMpe2lmKGgpcmV0dXJufWVsc2UgaWYoZClyZXR1cm47aWYoci5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFJiYobnVsbCE9PXIucHJldmlvdXNTaWJsaW5nfHxudWxsIT09ci5uZXh0U2libGluZykpe3ZhciB5PXIucGFyZW50Tm9kZTtyLm5vZGVWYWx1ZT15LnRleHRDb250ZW50O2Zvcih2YXIgZz15LmZpcnN0Q2hpbGQ7bnVsbCE9PWc7Zz1nLm5leHRTaWJsaW5nKWchPT1yJiZ5LnJlbW92ZUNoaWxkKGcpfXZhciB2PXIudGV4dENvbnRlbnQsXz10Ll9sYXRlc3RFZGl0b3JTdGF0ZSxtPWwoYyhyKSksUz11LmRlY29kZShtKSxiPVMuYmxvY2tLZXksdz1TLmRlY29yYXRvcktleSxNPVMubGVhZktleSxFPV8uZ2V0QmxvY2tUcmVlKGIpLmdldEluKFt3LFwibGVhdmVzXCIsTV0pLHg9RS5zdGFydCxJPUUuZW5kLGs9Xy5nZXRDdXJyZW50Q29udGVudCgpLEw9ay5nZXRCbG9ja0ZvcktleShiKSxUPUwuZ2V0VGV4dCgpLnNsaWNlKHgsSSk7aWYodi5lbmRzV2l0aChwKSYmKHY9di5zbGljZSgwLC0xKSksdiE9PVQpe3ZhciBELE8sTixDLGo9Xy5nZXRTZWxlY3Rpb24oKSxBPWoubWVyZ2Uoe2FuY2hvck9mZnNldDp4LGZvY3VzT2Zmc2V0OkksaXNCYWNrd2FyZDohMX0pLHo9TC5nZXRFbnRpdHlBdCh4KSxCPXomJmsuZ2V0RW50aXR5KHopLFI9QiYmQi5nZXRNdXRhYmlsaXR5KCksSz1cIk1VVEFCTEVcIj09PVIsUD1LP1wic3BlbGxjaGVjay1jaGFuZ2VcIjpcImFwcGx5LWVudGl0eVwiLFU9by5yZXBsYWNlVGV4dChrLEEsdixMLmdldElubGluZVN0eWxlQXQoeCksSz9MLmdldEVudGl0eUF0KHgpOm51bGwpO2lmKGYpRD1uLmFuY2hvck9mZnNldCxPPW4uZm9jdXNPZmZzZXQsTj14K01hdGgubWluKEQsTyksQz1OK01hdGguYWJzKEQtTyksRD1OLE89QztlbHNle3ZhciBGPXYubGVuZ3RoLVQubGVuZ3RoO049ai5nZXRTdGFydE9mZnNldCgpLEM9ai5nZXRFbmRPZmZzZXQoKSxEPXM/QytGOk4sTz1DK0Z9dmFyIFk9VS5tZXJnZSh7c2VsZWN0aW9uQmVmb3JlOmsuZ2V0U2VsZWN0aW9uQWZ0ZXIoKSxzZWxlY3Rpb25BZnRlcjpqLm1lcmdlKHthbmNob3JPZmZzZXQ6RCxmb2N1c09mZnNldDpPfSl9KTt0LnVwZGF0ZShhLnB1c2goXyxZLFApKX19dmFyIGk9bigzMSksbz1uKDUpLHU9big2NCksYT1uKDIpLHM9bigxOSksYz1uKDkwKSxsPW4oMTMpLGY9cy5pc0VuZ2luZShcIkdlY2tvXCIpLHA9XCJcXG5cXG5cIjt0LmV4cG9ydHM9cn0pLmNhbGwoZSxuKDI2KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7c3dpdGNoKHQpe2Nhc2VcInJlZG9cIjpyZXR1cm4gdS5yZWRvKGUpO2Nhc2VcImRlbGV0ZVwiOnJldHVybiBtKGUpO2Nhc2VcImRlbGV0ZS13b3JkXCI6cmV0dXJuIGQoZSk7Y2FzZVwiYmFja3NwYWNlXCI6cmV0dXJuIF8oZSk7Y2FzZVwiYmFja3NwYWNlLXdvcmRcIjpyZXR1cm4gaChlKTtjYXNlXCJiYWNrc3BhY2UtdG8tc3RhcnQtb2YtbGluZVwiOnJldHVybiBwKGUpO2Nhc2VcInNwbGl0LWJsb2NrXCI6cmV0dXJuIHkoZSk7Y2FzZVwidHJhbnNwb3NlLWNoYXJhY3RlcnNcIjpyZXR1cm4gUyhlKTtjYXNlXCJtb3ZlLXNlbGVjdGlvbi10by1zdGFydC1vZi1ibG9ja1wiOnJldHVybiB2KGUpO2Nhc2VcIm1vdmUtc2VsZWN0aW9uLXRvLWVuZC1vZi1ibG9ja1wiOnJldHVybiBnKGUpO2Nhc2VcInNlY29uZGFyeS1jdXRcIjpyZXR1cm4gYy5jdXQoZSk7Y2FzZVwic2Vjb25kYXJ5LXBhc3RlXCI6cmV0dXJuIGMucGFzdGUoZSk7ZGVmYXVsdDpyZXR1cm4gZX19ZnVuY3Rpb24gaSh0LGUpe3ZhciBuPWUud2hpY2gsaT10Ll9sYXRlc3RFZGl0b3JTdGF0ZTtzd2l0Y2gobil7Y2FzZSBzLlJFVFVSTjppZihlLnByZXZlbnREZWZhdWx0KCksdC5wcm9wcy5oYW5kbGVSZXR1cm4mJmYodC5wcm9wcy5oYW5kbGVSZXR1cm4oZSxpKSkpcmV0dXJuO2JyZWFrO2Nhc2Ugcy5FU0M6cmV0dXJuIGUucHJldmVudERlZmF1bHQoKSx2b2lkKHQucHJvcHMub25Fc2NhcGUmJnQucHJvcHMub25Fc2NhcGUoZSkpO2Nhc2Ugcy5UQUI6cmV0dXJuIHZvaWQodC5wcm9wcy5vblRhYiYmdC5wcm9wcy5vblRhYihlKSk7Y2FzZSBzLlVQOnJldHVybiB2b2lkKHQucHJvcHMub25VcEFycm93JiZ0LnByb3BzLm9uVXBBcnJvdyhlKSk7Y2FzZSBzLlJJR0hUOnJldHVybiB2b2lkKHQucHJvcHMub25SaWdodEFycm93JiZ0LnByb3BzLm9uUmlnaHRBcnJvdyhlKSk7Y2FzZSBzLkRPV046cmV0dXJuIHZvaWQodC5wcm9wcy5vbkRvd25BcnJvdyYmdC5wcm9wcy5vbkRvd25BcnJvdyhlKSk7Y2FzZSBzLkxFRlQ6cmV0dXJuIHZvaWQodC5wcm9wcy5vbkxlZnRBcnJvdyYmdC5wcm9wcy5vbkxlZnRBcnJvdyhlKSk7Y2FzZSBzLlNQQUNFOmlmKE0mJncoZSkpe2UucHJldmVudERlZmF1bHQoKTt2YXIgYT1vLnJlcGxhY2VUZXh0KGkuZ2V0Q3VycmVudENvbnRlbnQoKSxpLmdldFNlbGVjdGlvbigpLFwiwqBcIik7cmV0dXJuIHZvaWQgdC51cGRhdGUodS5wdXNoKGksYSxcImluc2VydC1jaGFyYWN0ZXJzXCIpKX19dmFyIGM9dC5wcm9wcy5rZXlCaW5kaW5nRm4oZSk7aWYoYyl7aWYoXCJ1bmRvXCI9PT1jKXJldHVybiB2b2lkIGIoZSxpLHQudXBkYXRlKTtpZihlLnByZXZlbnREZWZhdWx0KCksIXQucHJvcHMuaGFuZGxlS2V5Q29tbWFuZHx8IWYodC5wcm9wcy5oYW5kbGVLZXlDb21tYW5kKGMsaSkpKXt2YXIgbD1yKGMsaSk7bCE9PWkmJnQudXBkYXRlKGwpfX19dmFyIG89big1KSx1PW4oMiksYT1uKDY1KSxzPW4oNjMpLGM9bigyMzcpLGw9bigxOSksZj1uKDUyKSxwPW4oMjM4KSxoPW4oMjQwKSxkPW4oMjQyKSx5PW4oMjQzKSxnPW4oMjQ0KSx2PW4oMjQ1KSxfPW4oMjQ2KSxtPW4oMjQ3KSxTPW4oMjQ4KSxiPW4oMjQ5KSx3PWEuaXNPcHRpb25LZXlDb21tYW5kLE09bC5pc0Jyb3dzZXIoXCJDaHJvbWVcIik7dC5leHBvcnRzPWl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDUpLGk9bigyKSxvPW4oNjEpLHU9bigxMyksYT1udWxsLHM9e2N1dDpmdW5jdGlvbih0KXt2YXIgZT10LmdldEN1cnJlbnRDb250ZW50KCksbj10LmdldFNlbGVjdGlvbigpLHM9bnVsbDtpZihuLmlzQ29sbGFwc2VkKCkpe3ZhciBjPW4uZ2V0QW5jaG9yS2V5KCksbD1lLmdldEJsb2NrRm9yS2V5KGMpLmdldExlbmd0aCgpO2lmKGw9PT1uLmdldEFuY2hvck9mZnNldCgpKXJldHVybiB0O3M9bi5zZXQoXCJmb2N1c09mZnNldFwiLGwpfWVsc2Ugcz1uO3M9dShzKSxhPW8oZSxzKTt2YXIgZj1yLnJlbW92ZVJhbmdlKGUscyxcImZvcndhcmRcIik7cmV0dXJuIGY9PT1lP3Q6aS5wdXNoKHQsZixcInJlbW92ZS1yYW5nZVwiKX0scGFzdGU6ZnVuY3Rpb24odCl7aWYoIWEpcmV0dXJuIHQ7dmFyIGU9ci5yZXBsYWNlV2l0aEZyYWdtZW50KHQuZ2V0Q3VycmVudENvbnRlbnQoKSx0LmdldFNlbGVjdGlvbigpLGEpO3JldHVybiBpLnB1c2godCxlLFwiaW5zZXJ0LWZyYWdtZW50XCIpfX07dC5leHBvcnRzPXN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcih0KXt2YXIgbj1zKHQsZnVuY3Rpb24odCl7dmFyIG49dC5nZXRTZWxlY3Rpb24oKTtpZihuLmlzQ29sbGFwc2VkKCkmJjA9PT1uLmdldEFuY2hvck9mZnNldCgpKXJldHVybiBhKHQsMSk7dmFyIHI9ZS5nZXRTZWxlY3Rpb24oKSxpPXIuZ2V0UmFuZ2VBdCgwKTtyZXR1cm4gaT1vKGkpLHUodCxudWxsLGkuZW5kQ29udGFpbmVyLGkuZW5kT2Zmc2V0LGkuc3RhcnRDb250YWluZXIsaS5zdGFydE9mZnNldCkuc2VsZWN0aW9uU3RhdGV9LFwiYmFja3dhcmRcIik7cmV0dXJuIG49PT10LmdldEN1cnJlbnRDb250ZW50KCk/dDppLnB1c2godCxuLFwicmVtb3ZlLXJhbmdlXCIpfXZhciBpPW4oMiksbz1uKDIzOSksdT1uKDEyOSksYT1uKDkxKSxzPW4oNTMpO3QuZXhwb3J0cz1yfSkuY2FsbChlLG4oMjYpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7dmFyIGU9Z2V0Q29tcHV0ZWRTdHlsZSh0KSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bi5zdHlsZS5mb250RmFtaWx5PWUuZm9udEZhbWlseSxuLnN0eWxlLmZvbnRTaXplPWUuZm9udFNpemUsbi5zdHlsZS5mb250U3R5bGU9ZS5mb250U3R5bGUsbi5zdHlsZS5mb250V2VpZ2h0PWUuZm9udFdlaWdodCxuLnN0eWxlLmxpbmVIZWlnaHQ9ZS5saW5lSGVpZ2h0LG4uc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLG4udGV4dENvbnRlbnQ9XCJNXCI7dmFyIHI9ZG9jdW1lbnQuYm9keTtyfHxjKCExKSxyLmFwcGVuZENoaWxkKG4pO3ZhciBpPW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuIHIucmVtb3ZlQ2hpbGQobiksaS5oZWlnaHR9ZnVuY3Rpb24gaSh0LGUpe2Zvcih2YXIgbj0xLzAscj0xLzAsaT0tMS8wLG89LTEvMCx1PTA7dTx0Lmxlbmd0aDt1Kyspe3ZhciBhPXRbdV07MCE9PWEud2lkdGgmJjEhPT1hLndpZHRoJiYobj1NYXRoLm1pbihuLGEudG9wKSxyPU1hdGgubWluKHIsYS5ib3R0b20pLGk9TWF0aC5tYXgoaSxhLnRvcCksbz1NYXRoLm1heChvLGEuYm90dG9tKSl9cmV0dXJuIGk8PXImJmktbjxlJiZvLXI8ZX1mdW5jdGlvbiBvKHQpe3N3aXRjaCh0Lm5vZGVUeXBlKXtjYXNlIE5vZGUuRE9DVU1FTlRfVFlQRV9OT0RFOnJldHVybiAwO2Nhc2UgTm9kZS5URVhUX05PREU6Y2FzZSBOb2RlLlBST0NFU1NJTkdfSU5TVFJVQ1RJT05fTk9ERTpjYXNlIE5vZGUuQ09NTUVOVF9OT0RFOnJldHVybiB0Lmxlbmd0aDtkZWZhdWx0OnJldHVybiB0LmNoaWxkTm9kZXMubGVuZ3RofX1mdW5jdGlvbiB1KHQpe3QuY29sbGFwc2VkfHxjKCExKSx0PXQuY2xvbmVSYW5nZSgpO3ZhciBlPXQuc3RhcnRDb250YWluZXI7MSE9PWUubm9kZVR5cGUmJihlPWUucGFyZW50Tm9kZSk7dmFyIG49cihlKSx1PXQuZW5kQ29udGFpbmVyLGw9dC5lbmRPZmZzZXQ7Zm9yKHQuc2V0U3RhcnQodC5zdGFydENvbnRhaW5lciwwKTtpKHModCksbikmJih1PXQuc3RhcnRDb250YWluZXIsbD10LnN0YXJ0T2Zmc2V0LHUucGFyZW50Tm9kZXx8YyghMSksdC5zZXRTdGFydEJlZm9yZSh1KSwxIT09dS5ub2RlVHlwZXx8XCJpbmxpbmVcIj09PWdldENvbXB1dGVkU3R5bGUodSkuZGlzcGxheSk7KTtmb3IodmFyIGY9dSxwPWwtMTs7KXtmb3IodmFyIGg9Zi5ub2RlVmFsdWUsZD1wO2Q+PTA7ZC0tKWlmKCEobnVsbCE9aCYmZD4wJiZhLmlzU3Vycm9nYXRlUGFpcihoLGQtMSkpKXtpZih0LnNldFN0YXJ0KGYsZCksIWkocyh0KSxuKSlicmVhazt1PWYsbD1kfWlmKC0xPT09ZHx8MD09PWYuY2hpbGROb2Rlcy5sZW5ndGgpYnJlYWs7Zj1mLmNoaWxkTm9kZXNbZF0scD1vKGYpfXJldHVybiB0LnNldFN0YXJ0KHUsbCksdH12YXIgYT1uKDM5KSxzPW4oMTI4KSxjPW4oMSk7dC5leHBvcnRzPXV9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3ZhciBlPWEodCxmdW5jdGlvbih0KXt2YXIgZT10LmdldFNlbGVjdGlvbigpLG49ZS5nZXRTdGFydE9mZnNldCgpO2lmKDA9PT1uKXJldHVybiB1KHQsMSk7dmFyIHI9ZS5nZXRTdGFydEtleSgpLG89dC5nZXRDdXJyZW50Q29udGVudCgpLGE9by5nZXRCbG9ja0ZvcktleShyKS5nZXRUZXh0KCkuc2xpY2UoMCxuKSxzPWkuZ2V0QmFja3dhcmQoYSk7cmV0dXJuIHUodCxzLmxlbmd0aHx8MSl9LFwiYmFja3dhcmRcIik7cmV0dXJuIGU9PT10LmdldEN1cnJlbnRDb250ZW50KCk/dDpvLnB1c2godCxlLFwicmVtb3ZlLXJhbmdlXCIpfXZhciBpPW4oMTMwKSxvPW4oMiksdT1uKDkxKSxhPW4oNTMpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPXtnZXRQdW5jdHVhdGlvbjpmdW5jdGlvbigpe3JldHVyblwiWy4sKyo/JHwje30oKSdcXFxcXlxcXFwtXFxcXFtcXFxcXVxcXFxcXFxcXFxcXC8hQCVcXFwifj08Pl86O+ODu+OAgeOAguOAiC3jgJHjgJQt44Cf77yaLe+8n++8gS3vvI/vvLst772A772bLe+9peK4rtif2aot2azYm9iM2I3vtL7vtL/hoIHgpaThgYrhgYvigJAt4oCn4oCwLeKBnsKhLcKxwrQtwrjCusK7wr9dXCJ9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7dmFyIGU9YSh0LGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0U2VsZWN0aW9uKCksbj1lLmdldFN0YXJ0T2Zmc2V0KCkscj1lLmdldFN0YXJ0S2V5KCksbz10LmdldEN1cnJlbnRDb250ZW50KCksYT1vLmdldEJsb2NrRm9yS2V5KHIpLmdldFRleHQoKS5zbGljZShuKSxzPWkuZ2V0Rm9yd2FyZChhKTtyZXR1cm4gdSh0LHMubGVuZ3RofHwxKX0sXCJmb3J3YXJkXCIpO3JldHVybiBlPT09dC5nZXRDdXJyZW50Q29udGVudCgpP3Q6by5wdXNoKHQsZSxcInJlbW92ZS1yYW5nZVwiKX12YXIgaT1uKDEzMCksbz1uKDIpLHU9bigxMzEpLGE9big1Myk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3ZhciBlPWkuc3BsaXRCbG9jayh0LmdldEN1cnJlbnRDb250ZW50KCksdC5nZXRTZWxlY3Rpb24oKSk7cmV0dXJuIG8ucHVzaCh0LGUsXCJzcGxpdC1ibG9ja1wiKX12YXIgaT1uKDUpLG89bigyKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7dmFyIGU9dC5nZXRTZWxlY3Rpb24oKSxuPWUuZ2V0RW5kS2V5KCkscj10LmdldEN1cnJlbnRDb250ZW50KCksbz1yLmdldEJsb2NrRm9yS2V5KG4pLmdldExlbmd0aCgpO3JldHVybiBpLnNldCh0LHtzZWxlY3Rpb246ZS5tZXJnZSh7YW5jaG9yS2V5Om4sYW5jaG9yT2Zmc2V0Om8sZm9jdXNLZXk6bixmb2N1c09mZnNldDpvLGlzQmFja3dhcmQ6ITF9KSxmb3JjZVNlbGVjdGlvbjohMH0pfXZhciBpPW4oMik7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3ZhciBlPXQuZ2V0U2VsZWN0aW9uKCksbj1lLmdldFN0YXJ0S2V5KCk7cmV0dXJuIGkuc2V0KHQse3NlbGVjdGlvbjplLm1lcmdlKHthbmNob3JLZXk6bixhbmNob3JPZmZzZXQ6MCxmb2N1c0tleTpuLGZvY3VzT2Zmc2V0OjAsaXNCYWNrd2FyZDohMX0pLGZvcmNlU2VsZWN0aW9uOiEwfSl9dmFyIGk9bigyKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7dmFyIGU9YSh0LGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0U2VsZWN0aW9uKCksbj10LmdldEN1cnJlbnRDb250ZW50KCkscj1lLmdldEFuY2hvcktleSgpLGk9ZS5nZXRBbmNob3JPZmZzZXQoKSxhPW4uZ2V0QmxvY2tGb3JLZXkocikuZ2V0VGV4dCgpW2ktMV07cmV0dXJuIHUodCxhP28uZ2V0VVRGMTZMZW5ndGgoYSwwKToxKX0sXCJiYWNrd2FyZFwiKTtpZihlPT09dC5nZXRDdXJyZW50Q29udGVudCgpKXJldHVybiB0O3ZhciBuPXQuZ2V0U2VsZWN0aW9uKCk7cmV0dXJuIGkucHVzaCh0LGUuc2V0KFwic2VsZWN0aW9uQmVmb3JlXCIsbiksbi5pc0NvbGxhcHNlZCgpP1wiYmFja3NwYWNlLWNoYXJhY3RlclwiOlwicmVtb3ZlLXJhbmdlXCIpfXZhciBpPW4oMiksbz1uKDM5KSx1PW4oOTEpLGE9big1Myk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3ZhciBlPWEodCxmdW5jdGlvbih0KXt2YXIgZT10LmdldFNlbGVjdGlvbigpLG49dC5nZXRDdXJyZW50Q29udGVudCgpLHI9ZS5nZXRBbmNob3JLZXkoKSxpPWUuZ2V0QW5jaG9yT2Zmc2V0KCksYT1uLmdldEJsb2NrRm9yS2V5KHIpLmdldFRleHQoKVtpXTtyZXR1cm4gdSh0LGE/by5nZXRVVEYxNkxlbmd0aChhLDApOjEpfSxcImZvcndhcmRcIik7aWYoZT09PXQuZ2V0Q3VycmVudENvbnRlbnQoKSlyZXR1cm4gdDt2YXIgbj10LmdldFNlbGVjdGlvbigpO3JldHVybiBpLnB1c2godCxlLnNldChcInNlbGVjdGlvbkJlZm9yZVwiLG4pLG4uaXNDb2xsYXBzZWQoKT9cImRlbGV0ZS1jaGFyYWN0ZXJcIjpcInJlbW92ZS1yYW5nZVwiKX12YXIgaT1uKDIpLG89bigzOSksdT1uKDEzMSksYT1uKDUzKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7dmFyIGU9dC5nZXRTZWxlY3Rpb24oKTtpZighZS5pc0NvbGxhcHNlZCgpKXJldHVybiB0O3ZhciBuPWUuZ2V0QW5jaG9yT2Zmc2V0KCk7aWYoMD09PW4pcmV0dXJuIHQ7dmFyIHI9ZS5nZXRBbmNob3JLZXkoKSxhPXQuZ2V0Q3VycmVudENvbnRlbnQoKSxzPWEuZ2V0QmxvY2tGb3JLZXkociksYz1zLmdldExlbmd0aCgpO2lmKGM8PTEpcmV0dXJuIHQ7dmFyIGwsZjtuPT09Yz8obD1lLnNldChcImFuY2hvck9mZnNldFwiLG4tMSksZj1lKToobD1lLnNldChcImZvY3VzT2Zmc2V0XCIsbisxKSxmPWwuc2V0KFwiYW5jaG9yT2Zmc2V0XCIsbisxKSk7dmFyIHA9dShhLGwpLGg9aS5yZW1vdmVSYW5nZShhLGwsXCJiYWNrd2FyZFwiKSxkPWguZ2V0U2VsZWN0aW9uQWZ0ZXIoKSx5PWQuZ2V0QW5jaG9yT2Zmc2V0KCktMSxnPWQubWVyZ2Uoe2FuY2hvck9mZnNldDp5LGZvY3VzT2Zmc2V0Onl9KSx2PWkucmVwbGFjZVdpdGhGcmFnbWVudChoLGcscCksXz1vLnB1c2godCx2LFwiaW5zZXJ0LWZyYWdtZW50XCIpO3JldHVybiBvLmFjY2VwdFNlbGVjdGlvbihfLGYpfXZhciBpPW4oNSksbz1uKDIpLHU9big2MSk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSxuKXt2YXIgcj1pLnVuZG8oZSk7aWYoXCJzcGVsbGNoZWNrLWNoYW5nZVwiPT09ZS5nZXRMYXN0Q2hhbmdlVHlwZSgpKXt2YXIgbz1yLmdldEN1cnJlbnRDb250ZW50KCk7cmV0dXJuIHZvaWQgbihpLnNldChyLHtuYXRpdmVseVJlbmRlcmVkQ29udGVudDpvfSkpfWlmKHQucHJldmVudERlZmF1bHQoKSwhZS5nZXROYXRpdmVseVJlbmRlcmVkQ29udGVudCgpKXJldHVybiB2b2lkIG4ocik7bihpLnNldChlLHtuYXRpdmVseVJlbmRlcmVkQ29udGVudDpudWxsfSkpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuKHIpfSwwKX12YXIgaT1uKDIpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe2UucHJldmVudERlZmF1bHQoKTt2YXIgbj1uZXcgcyhlLmNsaXBib2FyZERhdGEpO2lmKCFuLmlzUmljaFRleHQoKSl7dmFyIHI9bi5nZXRGaWxlcygpLHY9bi5nZXRUZXh0KCk7aWYoci5sZW5ndGg+MCl7aWYodC5wcm9wcy5oYW5kbGVQYXN0ZWRGaWxlcyYmeSh0LnByb3BzLmhhbmRsZVBhc3RlZEZpbGVzKHIpKSlyZXR1cm47cmV0dXJuIHZvaWQgZChyLGZ1bmN0aW9uKGUpe2lmKGU9ZXx8dil7dmFyIG49dC5fbGF0ZXN0RWRpdG9yU3RhdGUscj1nKGUpLGk9YS5jcmVhdGUoe3N0eWxlOm4uZ2V0Q3VycmVudElubGluZVN0eWxlKCksZW50aXR5Omgobi5nZXRDdXJyZW50Q29udGVudCgpLG4uZ2V0U2VsZWN0aW9uKCkpfSksbz1wLmdldEN1cnJlbnRCbG9ja1R5cGUobikscz1sLnByb2Nlc3NUZXh0KHIsaSxvKSxkPXUuY3JlYXRlRnJvbUFycmF5KHMpLHk9Yy5yZXBsYWNlV2l0aEZyYWdtZW50KG4uZ2V0Q3VycmVudENvbnRlbnQoKSxuLmdldFNlbGVjdGlvbigpLGQpO3QudXBkYXRlKGYucHVzaChuLHksXCJpbnNlcnQtZnJhZ21lbnRcIikpfX0pfX12YXIgXz1bXSxtPW4uZ2V0VGV4dCgpLFM9bi5nZXRIVE1MKCksYj10Ll9sYXRlc3RFZGl0b3JTdGF0ZTtpZighdC5wcm9wcy5oYW5kbGVQYXN0ZWRUZXh0fHwheSh0LnByb3BzLmhhbmRsZVBhc3RlZFRleHQobSxTLGIpKSl7aWYobSYmKF89ZyhtKSksIXQucHJvcHMuc3RyaXBQYXN0ZWRTdHlsZXMpe3ZhciB3PXQuZ2V0Q2xpcGJvYXJkKCk7aWYobi5pc1JpY2hUZXh0KCkmJncpe2lmKC0xIT09Uy5pbmRleE9mKHQuZ2V0RWRpdG9yS2V5KCkpfHwxPT09Xy5sZW5ndGgmJjE9PT13LnNpemUmJncuZmlyc3QoKS5nZXRUZXh0KCk9PT1tKXJldHVybiB2b2lkIHQudXBkYXRlKGkodC5fbGF0ZXN0RWRpdG9yU3RhdGUsdykpfWVsc2UgaWYodyYmbi50eXBlcy5pbmNsdWRlcyhcImNvbS5hcHBsZS53ZWJhcmNoaXZlXCIpJiYhbi50eXBlcy5pbmNsdWRlcyhcInRleHQvaHRtbFwiKSYmbyhfLHcpKXJldHVybiB2b2lkIHQudXBkYXRlKGkodC5fbGF0ZXN0RWRpdG9yU3RhdGUsdykpO2lmKFMpe3ZhciBNPWwucHJvY2Vzc0hUTUwoUyx0LnByb3BzLmJsb2NrUmVuZGVyTWFwKTtpZihNKXt2YXIgRT1NLmNvbnRlbnRCbG9ja3MseD1NLmVudGl0eU1hcDtpZihFKXt2YXIgST11LmNyZWF0ZUZyb21BcnJheShFKTtyZXR1cm4gdm9pZCB0LnVwZGF0ZShpKHQuX2xhdGVzdEVkaXRvclN0YXRlLEkseCkpfX19dC5zZXRDbGlwYm9hcmQobnVsbCl9aWYoXy5sZW5ndGgpe3ZhciBrPWEuY3JlYXRlKHtzdHlsZTpiLmdldEN1cnJlbnRJbmxpbmVTdHlsZSgpLGVudGl0eTpoKGIuZ2V0Q3VycmVudENvbnRlbnQoKSxiLmdldFNlbGVjdGlvbigpKX0pLEw9cC5nZXRDdXJyZW50QmxvY2tUeXBlKGIpLFQ9bC5wcm9jZXNzVGV4dChfLGssTCksRD11LmNyZWF0ZUZyb21BcnJheShUKTt0LnVwZGF0ZShpKHQuX2xhdGVzdEVkaXRvclN0YXRlLEQpKX19fWZ1bmN0aW9uIGkodCxlLG4pe3ZhciByPWMucmVwbGFjZVdpdGhGcmFnbWVudCh0LmdldEN1cnJlbnRDb250ZW50KCksdC5nZXRTZWxlY3Rpb24oKSxlKTtyZXR1cm4gZi5wdXNoKHQsci5zZXQoXCJlbnRpdHlNYXBcIixuKSxcImluc2VydC1mcmFnbWVudFwiKX1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIHQubGVuZ3RoPT09ZS5zaXplJiZlLnZhbHVlU2VxKCkuZXZlcnkoZnVuY3Rpb24oZSxuKXtyZXR1cm4gZS5nZXRUZXh0KCk9PT10W25dfSl9dmFyIHU9big1MCksYT1uKDcpLHM9bigxMjMpLGM9big1KSxsPW4oMjUxKSxmPW4oMikscD1uKDEzNCksaD1uKDg2KSxkPW4oMTI1KSx5PW4oNTIpLGc9bigyNTQpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big5KSxpPXJ8fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKHRbcl09bltyXSl9cmV0dXJuIHR9LG89KG4oNyksbigzNykpLHU9bigxMCksYT1uKDMxKSxzPW4oMCksYz1uKDEzMiksbD1uKDI1KSxmPW4oMTMzKSxwPW4oODMpLGg9cy5MaXN0LGQ9cy5SZXBlYXQseT1hLmRyYWZ0X3RyZWVfZGF0YV9zdXBwb3J0LGc9eT91Om8sdj17cHJvY2Vzc0hUTUw6ZnVuY3Rpb24odCxlKXtyZXR1cm4gYyh0LGYsZSl9LHByb2Nlc3NUZXh0OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdC5yZWR1Y2UoZnVuY3Rpb24odCxyLG8pe3I9cChyKTt2YXIgdT1sKCksYT17a2V5OnUsdHlwZTpuLHRleHQ6cixjaGFyYWN0ZXJMaXN0OmgoZChlLHIubGVuZ3RoKSl9O2lmKHkmJjAhPT1vKXt2YXIgcz1vLTEsYz10W3NdPXRbc10ubWVyZ2Uoe25leHRTaWJsaW5nOnV9KTthPWkoe30sYSx7cHJldlNpYmxpbmc6Yy5nZXRLZXkoKX0pfXJldHVybiB0LnB1c2gobmV3IGcoYSkpLHR9LFtdKX19O3QuZXhwb3J0cz12fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3IodGhpcyx0KSx0aGlzLl91cmk9ZX1yZXR1cm4gdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXJpfSx0fSgpO3QuZXhwb3J0cz1pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUsbixyKXt2YXIgaT1lLmdldFN0YXJ0S2V5KCksbz1lLmdldEVuZEtleSgpLHU9dC5nZXRCbG9ja01hcCgpLGE9dS50b1NlcSgpLnNraXBVbnRpbChmdW5jdGlvbih0LGUpe3JldHVybiBlPT09aX0pLnRha2VVbnRpbChmdW5jdGlvbih0LGUpe3JldHVybiBlPT09b30pLmNvbmNhdChbW28sdS5nZXQobyldXSkubWFwKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGVwdGgoKStuO3JldHVybiBlPU1hdGgubWF4KDAsTWF0aC5taW4oZSxyKSksdC5zZXQoXCJkZXB0aFwiLGUpfSk7cmV0dXJuIHU9dS5tZXJnZShhKSx0Lm1lcmdlKHtibG9ja01hcDp1LHNlbGVjdGlvbkJlZm9yZTplLHNlbGVjdGlvbkFmdGVyOmV9KX10LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQuc3BsaXQoaSl9dmFyIGk9L1xcclxcbj98XFxuL2c7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe2lmKCF0Ll9ibG9ja1NlbGVjdEV2ZW50cyYmdC5fbGF0ZXN0RWRpdG9yU3RhdGU9PT10LnByb3BzLmVkaXRvclN0YXRlKXt2YXIgZT10LnByb3BzLmVkaXRvclN0YXRlLG49by5maW5kRE9NTm9kZSh0LmVkaXRvckNvbnRhaW5lcik7bnx8YSghMSksbi5maXJzdENoaWxkIGluc3RhbmNlb2YgSFRNTEVsZW1lbnR8fGEoITEpO3ZhciByPXUoZSxuLmZpcnN0Q2hpbGQpLHM9ci5zZWxlY3Rpb25TdGF0ZTtzIT09ZS5nZXRTZWxlY3Rpb24oKSYmKGU9ci5uZWVkc1JlY292ZXJ5P2kuZm9yY2VTZWxlY3Rpb24oZSxzKTppLmFjY2VwdFNlbGVjdGlvbihlLHMpLHQudXBkYXRlKGUpKX19dmFyIGk9bigyKSxvPW4oMzgpLHU9bigyNTYpLGE9bigxKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXtmdW5jdGlvbiByKHQsbil7dmFyIHI9ZS5nZXRTZWxlY3Rpb24oKTtyZXR1cm4gMD09PXIucmFuZ2VDb3VudD97c2VsZWN0aW9uU3RhdGU6dC5nZXRTZWxlY3Rpb24oKS5zZXQoXCJoYXNGb2N1c1wiLCExKSxuZWVkc1JlY292ZXJ5OiExfTppKHQsbixyLmFuY2hvck5vZGUsci5hbmNob3JPZmZzZXQsci5mb2N1c05vZGUsci5mb2N1c09mZnNldCl9dmFyIGk9bigxMjkpO3QuZXhwb3J0cz1yfSkuY2FsbChlLG4oMjYpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGkodCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiBvKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9dmFyIHU9bigzKSxhPW4oNDUpLHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiByKHRoaXMsZSksaSh0aGlzLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gbyhlLHQpLGUucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wcm9wcy50ZXh0IT09dC50ZXh0fHx0aGlzLnByb3BzLmVkaXRvclN0YXRlLmdldFNlbGVjdGlvbigpLmdldEhhc0ZvY3VzKCkhPT10LmVkaXRvclN0YXRlLmdldFNlbGVjdGlvbigpLmdldEhhc0ZvY3VzKCl9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMucHJvcHMuZWRpdG9yU3RhdGUuZ2V0U2VsZWN0aW9uKCkuZ2V0SGFzRm9jdXMoKSxlPWEoe1wicHVibGljL0RyYWZ0RWRpdG9yUGxhY2Vob2xkZXIvcm9vdFwiOiEwLFwicHVibGljL0RyYWZ0RWRpdG9yUGxhY2Vob2xkZXIvaGFzRm9jdXNcIjp0fSksbj17d2hpdGVTcGFjZTpcInByZS13cmFwXCJ9O3JldHVybiB1LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7Y2xhc3NOYW1lOmV9LHUuY3JlYXRlRWxlbWVudChcImRpdlwiLHtjbGFzc05hbWU6YShcInB1YmxpYy9EcmFmdEVkaXRvclBsYWNlaG9sZGVyL2lubmVyXCIpLGlkOnRoaXMucHJvcHMuYWNjZXNzaWJpbGl0eUlELHN0eWxlOm59LHRoaXMucHJvcHMudGV4dCkpfSxlfSh1LkNvbXBvbmVudCk7dC5leHBvcnRzPXN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDkpLGk9cnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYodFtyXT1uW3JdKX1yZXR1cm4gdH0sbz1uKDM3KSx1PW4oMTApLGE9bigxMzUpLHM9bigyNTkpLGM9bigyNjApLGw9bigxKSxmPWZ1bmN0aW9uKHQsZSl7cmV0dXJue2tleTp0LmdldEtleSgpLHRleHQ6dC5nZXRUZXh0KCksdHlwZTp0LmdldFR5cGUoKSxkZXB0aDp0LmdldERlcHRoKCksaW5saW5lU3R5bGVSYW5nZXM6Yyh0KSxlbnRpdHlSYW5nZXM6cyh0LGUpLGRhdGE6dC5nZXREYXRhKCkudG9PYmplY3QoKX19LHA9ZnVuY3Rpb24odCxlLG4scil7aWYodCBpbnN0YW5jZW9mIG8pcmV0dXJuIHZvaWQgbi5wdXNoKGYodCxlKSk7dCBpbnN0YW5jZW9mIHV8fGwoITEpO3ZhciBhPXQuZ2V0UGFyZW50S2V5KCkscz1yW3QuZ2V0S2V5KCldPWkoe30sZih0LGUpLHtjaGlsZHJlbjpbXX0pO2lmKGEpcmV0dXJuIHZvaWQgclthXS5jaGlsZHJlbi5wdXNoKHMpO24ucHVzaChzKX0saD1mdW5jdGlvbih0LGUpe3ZhciBuPWUuZW50aXR5TWFwLHI9W10saT17fSxvPXt9LHU9MDtyZXR1cm4gdC5nZXRCbG9ja01hcCgpLmZvckVhY2goZnVuY3Rpb24odCl7dC5maW5kRW50aXR5UmFuZ2VzKGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dC5nZXRFbnRpdHkoKX0sZnVuY3Rpb24oZSl7dmFyIHI9dC5nZXRFbnRpdHlBdChlKSxpPWEuc3RyaW5naWZ5KHIpO29baV18fChvW2ldPXIsbltpXT1cIlwiK3UsdSsrKX0pLHAodCxuLHIsaSl9KSx7YmxvY2tzOnIsZW50aXR5TWFwOm59fSxkPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5ibG9ja3Mscj1lLmVudGl0eU1hcCxpPXt9O3JldHVybiBPYmplY3Qua2V5cyhyKS5mb3JFYWNoKGZ1bmN0aW9uKGUsbil7dmFyIHI9dC5nZXRFbnRpdHkoYS51bnN0cmluZ2lmeShlKSk7aVtuXT17dHlwZTpyLmdldFR5cGUoKSxtdXRhYmlsaXR5OnIuZ2V0TXV0YWJpbGl0eSgpLGRhdGE6ci5nZXREYXRhKCl9fSkse2Jsb2NrczpuLGVudGl0eU1hcDppfX0seT1mdW5jdGlvbih0KXt2YXIgZT17ZW50aXR5TWFwOnt9LGJsb2NrczpbXX07cmV0dXJuIGU9aCh0LGUpLGU9ZCh0LGUpfTt0LmV4cG9ydHM9eX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXt2YXIgbj1bXTtyZXR1cm4gdC5maW5kRW50aXR5UmFuZ2VzKGZ1bmN0aW9uKHQpe3JldHVybiEhdC5nZXRFbnRpdHkoKX0sZnVuY3Rpb24ocixvKXt2YXIgYT10LmdldFRleHQoKSxzPXQuZ2V0RW50aXR5QXQocik7bi5wdXNoKHtvZmZzZXQ6dShhLnNsaWNlKDAscikpLGxlbmd0aDp1KGEuc2xpY2UocixvKSksa2V5Ok51bWJlcihlW2kuc3RyaW5naWZ5KHMpXSl9KX0pLG59dmFyIGk9bigxMzUpLG89bigzOSksdT1vLnN0cmxlbjt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlLG4pe3ZhciByPVtdLGk9ZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuaGFzKG4pfSkudG9MaXN0KCk7cmV0dXJuIHUoaSxhLHMsZnVuY3Rpb24oZSxpKXt2YXIgdT10LmdldFRleHQoKTtyLnB1c2goe29mZnNldDpvLnN0cmxlbih1LnNsaWNlKDAsZSkpLGxlbmd0aDpvLnN0cmxlbih1LnNsaWNlKGUsaSkpLHN0eWxlOm59KX0pLHJ9ZnVuY3Rpb24gaSh0KXt2YXIgZT10LmdldENoYXJhY3Rlckxpc3QoKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0U3R5bGUoKX0pLnRvTGlzdCgpLG49ZS5mbGF0dGVuKCkudG9TZXQoKS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIHIodCxlLG4pfSk7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoYyxuLnRvSlMoKSl9dmFyIG89bigzOSksdT1uKDUxKSxhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PT1lfSxzPWZ1bmN0aW9uKHQpe3JldHVybiEhdH0sYz1bXTt0LmV4cG9ydHM9aX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oOSksaT1yfHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fSxvPW4oMzcpLHU9bigxMCksYT1uKDgyKSxzPW4oNjIpLGM9bigzMSksbD1uKDI2MiksZj1uKDApLHA9big0NCksaD1uKDI2MyksZD1uKDI2NCkseT1uKDI2NSksZz1uKDI1KSx2PW4oMSksXz1jLmRyYWZ0X3RyZWVfZGF0YV9zdXBwb3J0LG09Zi5MaXN0LFM9Zi5NYXAsYj1mLk9yZGVyZWRNYXAsdz1mdW5jdGlvbih0LGUpe3ZhciBuPXQua2V5LHI9dC50eXBlLGk9dC5kYXRhO3JldHVybnt0ZXh0OnQudGV4dCxkZXB0aDp0LmRlcHRofHwwLHR5cGU6cnx8XCJ1bnN0eWxlZFwiLGtleTpufHxnKCksZGF0YTpTKGkpLGNoYXJhY3Rlckxpc3Q6TSh0LGUpfX0sTT1mdW5jdGlvbih0LGUpe3ZhciBuPXQudGV4dCxyPXQuZW50aXR5UmFuZ2VzLG89dC5pbmxpbmVTdHlsZVJhbmdlcyx1PXJ8fFtdO3JldHVybiBoKHkobixvfHxbXSksZChuLHUuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBlLmhhc093blByb3BlcnR5KHQua2V5KX0pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gaSh7fSx0LHtrZXk6ZVt0LmtleV19KX0pKSl9LEU9ZnVuY3Rpb24odCl7cmV0dXJuIGkoe30sdCx7a2V5OnQua2V5fHxnKCl9KX0seD1mdW5jdGlvbih0LGUsbil7dmFyIHI9ZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGkoe30sdCx7cGFyZW50UmVmOm59KX0pO3JldHVybiB0LmNvbmNhdChyLnJldmVyc2UoKSl9LEk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5tYXAoRSkucmVkdWNlKGZ1bmN0aW9uKG4scixvKXtBcnJheS5pc0FycmF5KHIuY2hpbGRyZW4pfHx2KCExKTt2YXIgYT1yLmNoaWxkcmVuLm1hcChFKSxzPW5ldyB1KGkoe30sdyhyLGUpLHtwcmV2U2libGluZzowPT09bz9udWxsOnRbby0xXS5rZXksbmV4dFNpYmxpbmc6bz09PXQubGVuZ3RoLTE/bnVsbDp0W28rMV0ua2V5LGNoaWxkcmVuOm0oYS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5fSkpfSkpO249bi5zZXQocy5nZXRLZXkoKSxzKTtmb3IodmFyIGM9eChbXSxhLHMpO2MubGVuZ3RoPjA7KXt2YXIgbD1jLnBvcCgpLGY9bC5wYXJlbnRSZWYscD1mLmdldENoaWxkS2V5cygpLGg9cC5pbmRleE9mKGwua2V5KSxkPUFycmF5LmlzQXJyYXkobC5jaGlsZHJlbik7aWYoIWQpe2R8fHYoITEpO2JyZWFrfXZhciB5PWwuY2hpbGRyZW4ubWFwKEUpLGc9bmV3IHUoaSh7fSx3KGwsZSkse3BhcmVudDpmLmdldEtleSgpLGNoaWxkcmVuOm0oeS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5fSkpLHByZXZTaWJsaW5nOjA9PT1oP251bGw6cC5nZXQoaC0xKSxuZXh0U2libGluZzpoPT09cC5zaXplLTE/bnVsbDpwLmdldChoKzEpfSkpO249bi5zZXQoZy5nZXRLZXkoKSxnKSxjPXgoYyx5LGcpfXJldHVybiBufSxiKCkpfSxrPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGIodC5tYXAoZnVuY3Rpb24odCl7dmFyIG49bmV3IG8odyh0LGUpKTtyZXR1cm5bbi5nZXRLZXkoKSxuXX0pKX0sTD1mdW5jdGlvbih0LGUpe3ZhciBuPUFycmF5LmlzQXJyYXkodC5ibG9ja3NbMF0uY2hpbGRyZW4pLHI9XyYmIW4/bC5mcm9tUmF3U3RhdGVUb1Jhd1RyZWVTdGF0ZSh0KS5ibG9ja3M6dC5ibG9ja3M7cmV0dXJuIF8/SShyLGUpOmsobj9sLmZyb21SYXdUcmVlU3RhdGVUb1Jhd1N0YXRlKHQpLmJsb2NrczpyLGUpfSxUPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZW50aXR5TWFwLG49e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9ZVt0XSxpPXIudHlwZSxvPXIubXV0YWJpbGl0eSx1PXIuZGF0YTtuW3RdPXMuX19jcmVhdGUoaSxvLHV8fHt9KX0pLG59LEQ9ZnVuY3Rpb24odCl7QXJyYXkuaXNBcnJheSh0LmJsb2Nrcyl8fHYoITEpO3ZhciBlPVQodCksbj1MKHQsZSkscj1uLmlzRW1wdHkoKT9uZXcgcDpwLmNyZWF0ZUVtcHR5KG4uZmlyc3QoKS5nZXRLZXkoKSk7cmV0dXJuIG5ldyBhKHtibG9ja01hcDpuLGVudGl0eU1hcDplLHNlbGVjdGlvbkJlZm9yZTpyLHNlbGVjdGlvbkFmdGVyOnJ9KX07dC5leHBvcnRzPUR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDkpLGk9cnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYodFtyXT1uW3JdKX1yZXR1cm4gdH0sbz1uKDEpLHU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10uY29uY2F0KHQpLnJldmVyc2UoKTtuLmxlbmd0aDspe3ZhciByPW4ucG9wKCk7ZShyKTt2YXIgaT1yLmNoaWxkcmVuO0FycmF5LmlzQXJyYXkoaSl8fG8oITEpLG49bi5jb25jYXQoW10uY29uY2F0KGkucmV2ZXJzZSgpKSl9fSxhPWZ1bmN0aW9uKHQpe2lmKCF0fHwhdC50eXBlKXJldHVybiExO3ZhciBlPXQudHlwZTtyZXR1cm5cInVub3JkZXJlZC1saXN0LWl0ZW1cIj09PWV8fFwib3JkZXJlZC1saXN0LWl0ZW1cIj09PWV9LHM9ZnVuY3Rpb24odCl7QXJyYXkuaXNBcnJheSh0LmNoaWxkcmVuKSYmKHQuY2hpbGRyZW49dC5jaGlsZHJlbi5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHlwZT09PXQudHlwZT9pKHt9LGUse2RlcHRoOih0LmRlcHRofHwwKSsxfSk6ZX0pKX0sYz17ZnJvbVJhd1RyZWVTdGF0ZVRvUmF3U3RhdGU6ZnVuY3Rpb24odCl7dmFyIGU9dC5ibG9ja3Msbj1bXTtyZXR1cm4gQXJyYXkuaXNBcnJheShlKXx8byghMSksQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg/KHUoZSxmdW5jdGlvbih0KXt2YXIgZT1pKHt9LHQpO2EodCkmJihlLmRlcHRoPWUuZGVwdGh8fDAscyh0KSksZGVsZXRlIGUuY2hpbGRyZW4sbi5wdXNoKGUpfSksdC5ibG9ja3M9bixpKHt9LHQse2Jsb2NrczpufSkpOnR9LGZyb21SYXdTdGF0ZVRvUmF3VHJlZVN0YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXt9LG49W107cmV0dXJuIHQuYmxvY2tzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9YSh0KSx1PXQuZGVwdGh8fDAscz1pKHt9LHQse2NoaWxkcmVuOltdfSk7aWYoIXIpcmV0dXJuIGU9e30sdm9pZCBuLnB1c2gocyk7aWYoZVt1XT1zLHU+MCl7dmFyIGM9ZVt1LTFdO3JldHVybiBjfHxvKCExKSx2b2lkIGMuY2hpbGRyZW4ucHVzaChzKX1uLnB1c2gocyl9KSxpKHt9LHQse2Jsb2NrczpufSl9fTt0LmV4cG9ydHM9Y30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXt2YXIgbj10Lm1hcChmdW5jdGlvbih0LG4pe3ZhciByPWVbbl07cmV0dXJuIGkuY3JlYXRlKHtzdHlsZTp0LGVudGl0eTpyfSl9KTtyZXR1cm4gdShuKX12YXIgaT1uKDcpLG89bigwKSx1PW8uTGlzdDt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXt2YXIgbj1BcnJheSh0Lmxlbmd0aCkuZmlsbChudWxsKTtyZXR1cm4gZSYmZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj1vKHQsMCxlLm9mZnNldCkubGVuZ3RoLGk9citvKHQsZS5vZmZzZXQsZS5sZW5ndGgpLmxlbmd0aCx1PXI7dTxpO3UrKyluW3VdPWUua2V5fSksbn12YXIgaT1uKDM5KSxvPWkuc3Vic3RyO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe3ZhciBuPUFycmF5KHQubGVuZ3RoKS5maWxsKHMpO3JldHVybiBlJiZlLmZvckVhY2goZnVuY3Rpb24oZSl7Zm9yKHZhciByPWEodCwwLGUub2Zmc2V0KS5sZW5ndGgsaT1yK2EodCxlLm9mZnNldCxlLmxlbmd0aCkubGVuZ3RoO3I8aTspbltyXT1uW3JdLmFkZChlLnN0eWxlKSxyKyt9KSxufXZhciBpPW4oMCksbz1pLk9yZGVyZWRTZXQsdT1uKDM5KSxhPXUuc3Vic3RyLHM9bygpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXt2YXIgZT10LmdldFNlbGVjdGlvbigpO2lmKCFlLnJhbmdlQ291bnQpcmV0dXJuIG51bGw7dmFyIG49ZS5nZXRSYW5nZUF0KDApLHI9aShuKSxvPXIudG9wLHU9ci5yaWdodCxhPXIuYm90dG9tLHM9ci5sZWZ0O3JldHVybiAwPT09byYmMD09PXUmJjA9PT1hJiYwPT09cz9udWxsOnJ9dmFyIGk9bigyNjcpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXt2YXIgZT1pKHQpLG49MCxyPTAsbz0wLHU9MDtpZihlLmxlbmd0aCl7aWYoZS5sZW5ndGg+MSYmMD09PWVbMF0ud2lkdGgpe3ZhciBhPWVbMV07bj1hLnRvcCxyPWEucmlnaHQsbz1hLmJvdHRvbSx1PWEubGVmdH1lbHNle3ZhciBzPWVbMF07bj1zLnRvcCxyPXMucmlnaHQsbz1zLmJvdHRvbSx1PXMubGVmdH1mb3IodmFyIGM9MTtjPGUubGVuZ3RoO2MrKyl7dmFyIGw9ZVtjXTswIT09bC5oZWlnaHQmJjAhPT1sLndpZHRoJiYobj1NYXRoLm1pbihuLGwudG9wKSxyPU1hdGgubWF4KHIsbC5yaWdodCksbz1NYXRoLm1heChvLGwuYm90dG9tKSx1PU1hdGgubWluKHUsbC5sZWZ0KSl9fXJldHVybnt0b3A6bixyaWdodDpyLGJvdHRvbTpvLGxlZnQ6dSx3aWR0aDpyLXUsaGVpZ2h0Om8tbn19dmFyIGk9bigxMjgpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZS5CTE9DS19UWVBFPXtVTlNUWUxFRDpcInVuc3R5bGVkXCIsSEVBREVSX09ORTpcImhlYWRlci1vbmVcIixIRUFERVJfVFdPOlwiaGVhZGVyLXR3b1wiLEhFQURFUl9USFJFRTpcImhlYWRlci10aHJlZVwiLEhFQURFUl9GT1VSOlwiaGVhZGVyLWZvdXJcIixIRUFERVJfRklWRTpcImhlYWRlci1maXZlXCIsSEVBREVSX1NJWDpcImhlYWRlci1zaXhcIixVTk9SREVSRURfTElTVF9JVEVNOlwidW5vcmRlcmVkLWxpc3QtaXRlbVwiLE9SREVSRURfTElTVF9JVEVNOlwib3JkZXJlZC1saXN0LWl0ZW1cIixCTE9DS1FVT1RFOlwiYmxvY2txdW90ZVwiLFBVTExRVU9URTpcInB1bGxxdW90ZVwiLENPREU6XCJjb2RlLWJsb2NrXCIsQVRPTUlDOlwiYXRvbWljXCJ9LGk9ZS5FTlRJVFlfVFlQRT17TElOSzpcIkxJTktcIixJTUFHRTpcIklNQUdFXCJ9LG89ZS5JTkxJTkVfU1RZTEU9e0JPTEQ6XCJCT0xEXCIsQ09ERTpcIkNPREVcIixJVEFMSUM6XCJJVEFMSUNcIixTVFJJS0VUSFJPVUdIOlwiU1RSSUtFVEhST1VHSFwiLFVOREVSTElORTpcIlVOREVSTElORVwifTtlLmRlZmF1bHQ9e0JMT0NLX1RZUEU6cixFTlRJVFlfVFlQRTppLElOTElORV9TVFlMRTpvfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtmb3IodmFyIG49bnVsbCxyPW51bGwsbz1bXSx1PTAsYT0wLHM9dC5sZW5ndGg7YTxzO2ErKyl7cj1uO3ZhciBjPWUuZ2V0KGEpO249Yz9jLmdldEVudGl0eSgpOm51bGwsYT4wJiZuIT09ciYmKG8ucHVzaChbcixpKHQuc2xpY2UodSxhKSxlLnNsaWNlKHUsYSkpXSksdT1hKX1yZXR1cm4gby5wdXNoKFtuLGkodC5zbGljZSh1KSxlLnNsaWNlKHUpKV0pLG99ZnVuY3Rpb24gaSh0LGUpe2Zvcih2YXIgbj11LHI9dSxpPVtdLGE9MCxzPTAsYz10Lmxlbmd0aDtzPGM7cysrKXtyPW47dmFyIGw9ZS5nZXQocyk7bj1sP2wuZ2V0U3R5bGUoKTp1LHM+MCYmISgwLG8uaXMpKG4scikmJihpLnB1c2goW3Quc2xpY2UoYSxzKSxyXSksYT1zKX1yZXR1cm4gaS5wdXNoKFt0LnNsaWNlKGEpLG5dKSxpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuRU1QVFlfU0VUPXZvaWQgMCxlLmRlZmF1bHQ9cjt2YXIgbz1uKDkzKSx1PWUuRU1QVFlfU0VUPW5ldyBvLk9yZGVyZWRTZXR9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1uKDk0KSxpPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0ocik7ZS5kZWZhdWx0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciByPWUuZ2V0Q3VycmVudENvbnRlbnQoKSxvPW58fGUuZ2V0U2VsZWN0aW9uKCksdT1vLmdldFN0YXJ0S2V5KCksYT1vLmdldEVuZEtleSgpLHM9by5nZXRTdGFydE9mZnNldCgpLGM9by5nZXRFbmRPZmZzZXQoKSxsPXU9PT1hLGY9KDAsaS5kZWZhdWx0KShyLHUsYSkscD0hMSxoPXMrMSxkPWMtMTtyZXR1cm4gZi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QoZSxmdW5jdGlvbih0LG4pe2lmKCFwKXt2YXIgcj1lLmdldEtleSgpO2wmJihuPGh8fHQ+ZCl8fHI9PT11JiZuPGh8fHI9PT1hJiZ0PmR8fChwPSEwKX19LHIpfSkscH19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9bigxMiksaT1uKDk0KSxvPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0oaSk7ZS5kZWZhdWx0PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgsaT1BcnJheShuPjI/bi0yOjApLHU9Mjt1PG47dSsrKWlbdS0yXT1hcmd1bWVudHNbdV07dmFyIGE9dC5nZXRDdXJyZW50Q29udGVudCgpLHM9dC5nZXRTZWxlY3Rpb24oKSxjPXMuZ2V0U3RhcnRLZXkoKSxsPXMuZ2V0RW5kS2V5KCksZj1zLmdldFN0YXJ0T2Zmc2V0KCkscD1zLmdldEVuZE9mZnNldCgpLGg9Yz09PWwsZD0oMCxvLmRlZmF1bHQpKGEsYyxsKSx5PXQ7cmV0dXJuIGQuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbj10LmdldEtleSgpLG89Zix1PXA7bj09PWM/KG89Zix1PWg/cDp0LmdldFRleHQoKS5sZW5ndGgpOm49PT1sPyhvPWg/ZjowLHU9cCk6KG89MCx1PXQuZ2V0VGV4dCgpLmxlbmd0aCk7dmFyIGE9bmV3IHIuU2VsZWN0aW9uU3RhdGUoe2FuY2hvcktleTpuLGFuY2hvck9mZnNldDpvLGZvY3VzS2V5Om4sZm9jdXNPZmZzZXQ6dX0pO3k9ZS5hcHBseSh2b2lkIDAsW3ksYV0uY29uY2F0KGkpKX0pLHIuRWRpdG9yU3RhdGUuZm9yY2VTZWxlY3Rpb24oeSxzKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0LndoaWNoPT09aS5SRVRVUk4mJih0LmdldE1vZGlmaWVyU3RhdGUoXCJTaGlmdFwiKXx8dC5nZXRNb2RpZmllclN0YXRlKFwiQWx0XCIpfHx0LmdldE1vZGlmaWVyU3RhdGUoXCJDb250cm9sXCIpKX12YXIgaT1uKDYzKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe24oNDkpLG4oMjc0KSx0LmV4cG9ydHM9big0KS5BcnJheS5mcm9tfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzNCksaT1uKDgpLG89big0MSksdT1uKDEzNyksYT1uKDEzOCkscz1uKDU0KSxjPW4oMjc1KSxsPW4oOTUpO2koaS5TK2kuRiohbigyNzYpKGZ1bmN0aW9uKHQpe0FycmF5LmZyb20odCl9KSxcIkFycmF5XCIse2Zyb206ZnVuY3Rpb24odCl7dmFyIGUsbixpLGYscD1vKHQpLGg9XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcz90aGlzOkFycmF5LGQ9YXJndW1lbnRzLmxlbmd0aCx5PWQ+MT9hcmd1bWVudHNbMV06dm9pZCAwLGc9dm9pZCAwIT09eSx2PTAsXz1sKHApO2lmKGcmJih5PXIoeSxkPjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSksdm9pZCAwPT1ffHxoPT1BcnJheSYmYShfKSlmb3IoZT1zKHAubGVuZ3RoKSxuPW5ldyBoKGUpO2U+djt2KyspYyhuLHYsZz95KHBbdl0sdik6cFt2XSk7ZWxzZSBmb3IoZj1fLmNhbGwocCksbj1uZXcgaDshKGk9Zi5uZXh0KCkpLmRvbmU7disrKWMobix2LGc/dShmLHksW2kudmFsdWUsdl0sITApOmkudmFsdWUpO3JldHVybiBuLmxlbmd0aD12LG59fSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDExKSxpPW4oNDYpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7ZSBpbiB0P3IuZih0LGUsaSgwLG4pKTp0W2VdPW59fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big2KShcIml0ZXJhdG9yXCIpLGk9ITE7dHJ5e3ZhciBvPVs3XVtyXSgpO28ucmV0dXJuPWZ1bmN0aW9uKCl7aT0hMH0sQXJyYXkuZnJvbShvLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHQpe310LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZighZSYmIWkpcmV0dXJuITE7dmFyIG49ITE7dHJ5e3ZhciBvPVs3XSx1PW9bcl0oKTt1Lm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTpuPSEwfX0sb1tyXT1mdW5jdGlvbigpe3JldHVybiB1fSx0KG8pfWNhdGNoKHQpe31yZXR1cm4gbn19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e2RlZmF1bHQ6bigyNzgpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7bigxMTApLG4oNDkpLG4oNjApLG4oMjc5KSxuKDI4NiksbigyODkpLG4oMjkxKSx0LmV4cG9ydHM9big0KS5NYXB9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDI4MCksaT1uKDE0MSk7dC5leHBvcnRzPW4oMjgyKShcIk1hcFwiLGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0KHRoaXMsYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApfX0se2dldDpmdW5jdGlvbih0KXt2YXIgZT1yLmdldEVudHJ5KGkodGhpcyxcIk1hcFwiKSx0KTtyZXR1cm4gZSYmZS52fSxzZXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gci5kZWYoaSh0aGlzLFwiTWFwXCIpLDA9PT10PzA6dCxlKX19LHIsITApfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxMSkuZixpPW4oNTgpLG89bigxMzkpLHU9bigzNCksYT1uKDE0MCkscz1uKDY2KSxjPW4oNzcpLGw9bigxMDYpLGY9bigyODEpLHA9bigxNSksaD1uKDc5KS5mYXN0S2V5LGQ9bigxNDEpLHk9cD9cIl9zXCI6XCJzaXplXCIsZz1mdW5jdGlvbih0LGUpe3ZhciBuLHI9aChlKTtpZihcIkZcIiE9PXIpcmV0dXJuIHQuX2lbcl07Zm9yKG49dC5fZjtuO249bi5uKWlmKG4uaz09ZSlyZXR1cm4gbn07dC5leHBvcnRzPXtnZXRDb25zdHJ1Y3RvcjpmdW5jdGlvbih0LGUsbixjKXt2YXIgbD10KGZ1bmN0aW9uKHQscil7YSh0LGwsZSxcIl9pXCIpLHQuX3Q9ZSx0Ll9pPWkobnVsbCksdC5fZj12b2lkIDAsdC5fbD12b2lkIDAsdFt5XT0wLHZvaWQgMCE9ciYmcyhyLG4sdFtjXSx0KX0pO3JldHVybiBvKGwucHJvdG90eXBlLHtjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgdD1kKHRoaXMsZSksbj10Ll9pLHI9dC5fZjtyO3I9ci5uKXIucj0hMCxyLnAmJihyLnA9ci5wLm49dm9pZCAwKSxkZWxldGUgbltyLmldO3QuX2Y9dC5fbD12b2lkIDAsdFt5XT0wfSxkZWxldGU6ZnVuY3Rpb24odCl7dmFyIG49ZCh0aGlzLGUpLHI9ZyhuLHQpO2lmKHIpe3ZhciBpPXIubixvPXIucDtkZWxldGUgbi5faVtyLmldLHIucj0hMCxvJiYoby5uPWkpLGkmJihpLnA9byksbi5fZj09ciYmKG4uX2Y9aSksbi5fbD09ciYmKG4uX2w9byksblt5XS0tfXJldHVybiEhcn0sZm9yRWFjaDpmdW5jdGlvbih0KXtkKHRoaXMsZSk7Zm9yKHZhciBuLHI9dSh0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpO249bj9uLm46dGhpcy5fZjspZm9yKHIobi52LG4uayx0aGlzKTtuJiZuLnI7KW49bi5wfSxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuISFnKGQodGhpcyxlKSx0KX19KSxwJiZyKGwucHJvdG90eXBlLFwic2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZCh0aGlzLGUpW3ldfX0pLGx9LGRlZjpmdW5jdGlvbih0LGUsbil7dmFyIHIsaSxvPWcodCxlKTtyZXR1cm4gbz9vLnY9bjoodC5fbD1vPXtpOmk9aChlLCEwKSxrOmUsdjpuLHA6cj10Ll9sLG46dm9pZCAwLHI6ITF9LHQuX2Z8fCh0Ll9mPW8pLHImJihyLm49byksdFt5XSsrLFwiRlwiIT09aSYmKHQuX2lbaV09bykpLHR9LGdldEVudHJ5Omcsc2V0U3Ryb25nOmZ1bmN0aW9uKHQsZSxuKXtjKHQsZSxmdW5jdGlvbih0LG4pe3RoaXMuX3Q9ZCh0LGUpLHRoaXMuX2s9bix0aGlzLl9sPXZvaWQgMH0sZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxlPXQuX2ssbj10Ll9sO24mJm4ucjspbj1uLnA7cmV0dXJuIHQuX3QmJih0Ll9sPW49bj9uLm46dC5fdC5fZik/XCJrZXlzXCI9PWU/bCgwLG4uayk6XCJ2YWx1ZXNcIj09ZT9sKDAsbi52KTpsKDAsW24uayxuLnZdKToodC5fdD12b2lkIDAsbCgxKSl9LG4/XCJlbnRyaWVzXCI6XCJ2YWx1ZXNcIiwhbiwhMCksZihlKX19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxNCksaT1uKDQpLG89bigxMSksdT1uKDE1KSxhPW4oNikoXCJzcGVjaWVzXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBpW3RdP2lbdF06clt0XTt1JiZlJiYhZVthXSYmby5mKGUsYSx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTQpLGk9big4KSxvPW4oNzkpLHU9bigzNSksYT1uKDI5KSxzPW4oMTM5KSxjPW4oNjYpLGw9bigxNDApLGY9bigyMSkscD1uKDU5KSxoPW4oMTEpLmYsZD1uKDI4MykoMCkseT1uKDE1KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4sZyx2LF8pe3ZhciBtPXJbdF0sUz1tLGI9dj9cInNldFwiOlwiYWRkXCIsdz1TJiZTLnByb3RvdHlwZSxNPXt9O3JldHVybiB5JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTJiYoX3x8dy5mb3JFYWNoJiYhdShmdW5jdGlvbigpeyhuZXcgUykuZW50cmllcygpLm5leHQoKX0pKT8oUz1lKGZ1bmN0aW9uKGUsbil7bChlLFMsdCxcIl9jXCIpLGUuX2M9bmV3IG0sdm9pZCAwIT1uJiZjKG4sdixlW2JdLGUpfSksZChcImFkZCxjbGVhcixkZWxldGUsZm9yRWFjaCxnZXQsaGFzLHNldCxrZXlzLHZhbHVlcyxlbnRyaWVzLHRvSlNPTlwiLnNwbGl0KFwiLFwiKSxmdW5jdGlvbih0KXt2YXIgZT1cImFkZFwiPT10fHxcInNldFwiPT10O3QgaW4gdyYmKCFffHxcImNsZWFyXCIhPXQpJiZhKFMucHJvdG90eXBlLHQsZnVuY3Rpb24obixyKXtpZihsKHRoaXMsUyx0KSwhZSYmXyYmIWYobikpcmV0dXJuXCJnZXRcIj09dCYmdm9pZCAwO3ZhciBpPXRoaXMuX2NbdF0oMD09PW4/MDpuLHIpO3JldHVybiBlP3RoaXM6aX0pfSksX3x8aChTLnByb3RvdHlwZSxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Muc2l6ZX19KSk6KFM9Zy5nZXRDb25zdHJ1Y3RvcihlLHQsdixiKSxzKFMucHJvdG90eXBlLG4pLG8uTkVFRD0hMCkscChTLHQpLE1bdF09UyxpKGkuRytpLlcraS5GLE0pLF98fGcuc2V0U3Ryb25nKFMsdCx2KSxTfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzQpLGk9big2OCksbz1uKDQxKSx1PW4oNTQpLGE9bigyODQpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuPTE9PXQscz0yPT10LGM9Mz09dCxsPTQ9PXQsZj02PT10LHA9NT09dHx8ZixoPWV8fGE7cmV0dXJuIGZ1bmN0aW9uKGUsYSxkKXtmb3IodmFyIHksZyx2PW8oZSksXz1pKHYpLG09cihhLGQsMyksUz11KF8ubGVuZ3RoKSxiPTAsdz1uP2goZSxTKTpzP2goZSwwKTp2b2lkIDA7Uz5iO2IrKylpZigocHx8YiBpbiBfKSYmKHk9X1tiXSxnPW0oeSxiLHYpLHQpKWlmKG4pd1tiXT1nO2Vsc2UgaWYoZylzd2l0Y2godCl7Y2FzZSAzOnJldHVybiEwO2Nhc2UgNTpyZXR1cm4geTtjYXNlIDY6cmV0dXJuIGI7Y2FzZSAyOncucHVzaCh5KX1lbHNlIGlmKGwpcmV0dXJuITE7cmV0dXJuIGY/LTE6Y3x8bD9sOnd9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjg1KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3KHIodCkpKGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjEpLGk9bigxMDcpLG89big2KShcInNwZWNpZXNcIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBpKHQpJiYoZT10LmNvbnN0cnVjdG9yLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGV8fGUhPT1BcnJheSYmIWkoZS5wcm90b3R5cGUpfHwoZT12b2lkIDApLHIoZSkmJm51bGw9PT0oZT1lW29dKSYmKGU9dm9pZCAwKSksdm9pZCAwPT09ZT9BcnJheTplfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOCk7cihyLlArci5SLFwiTWFwXCIse3RvSlNPTjpuKDI4NykoXCJNYXBcIil9KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOTYpLGk9bigyODgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtpZihyKHRoaXMpIT10KXRocm93IFR5cGVFcnJvcih0K1wiI3RvSlNPTiBpc24ndCBnZW5lcmljXCIpO3JldHVybiBpKHRoaXMpfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDY2KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtyZXR1cm4gcih0LCExLG4ucHVzaCxuLGUpLG59fSxmdW5jdGlvbih0LGUsbil7bigyOTApKFwiTWFwXCIpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cihyLlMsdCx7b2Y6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KTt0LS07KWVbdF09YXJndW1lbnRzW3RdO3JldHVybiBuZXcgdGhpcyhlKX19KX19LGZ1bmN0aW9uKHQsZSxuKXtuKDI5MikoXCJNYXBcIil9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDgpLGk9big5OCksbz1uKDM0KSx1PW4oNjYpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyKHIuUyx0LHtmcm9tOmZ1bmN0aW9uKHQpe3ZhciBlLG4scixhLHM9YXJndW1lbnRzWzFdO3JldHVybiBpKHRoaXMpLGU9dm9pZCAwIT09cyxlJiZpKHMpLHZvaWQgMD09dD9uZXcgdGhpczoobj1bXSxlPyhyPTAsYT1vKHMsYXJndW1lbnRzWzJdLDIpLHUodCwhMSxmdW5jdGlvbih0KXtuLnB1c2goYSh0LHIrKykpfSkpOnUodCwhMSxuLnB1c2gsbiksbmV3IHRoaXMobikpfX0pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjk0KTtcInN0cmluZ1wiPT10eXBlb2YgciYmKHI9W1t0LmkscixcIlwiXV0pO3ZhciBpPXtzb3VyY2VNYXA6ITB9O2kudHJhbnNmb3JtPXZvaWQgMCxuKDIwKShyLGkpLHIubG9jYWxzJiYodC5leHBvcnRzPXIubG9jYWxzKX0sZnVuY3Rpb24odCxlLG4pe2U9dC5leHBvcnRzPW4oMjgpKCExKSxlLnB1c2goW3QuaSxcIi5CdXR0b25fX3Jvb3RfX18xZ3owY3tkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW46MCA1cHggMCAwO3BhZGRpbmc6M3B4IDhweDtoZWlnaHQ6MzBweDtsaW5lLWhlaWdodDoyMnB4O2JveC1zaXppbmc6Ym9yZGVyLWJveDtiYWNrZ3JvdW5kOm5vbmUgI2ZkZmRmZDtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxODBkZWcsI2ZkZmRmZCAwLCNmNmY3ZjgpO2JvcmRlcjoxcHggc29saWQgIzk5OTtib3JkZXItcmFkaXVzOjJweDtjb2xvcjojMzMzO3RleHQtZGVjb3JhdGlvbjpub25lO2ZvbnQtc2l6ZTppbmhlcml0O2ZvbnQtZmFtaWx5OmluaGVyaXQ7Y3Vyc29yOnBvaW50ZXI7d2hpdGUtc3BhY2U6bm93cmFwfS5CdXR0b25fX3Jvb3RfX18xZ3owYzpkaXNhYmxlZHtjdXJzb3I6bm90LWFsbG93ZWQ7YmFja2dyb3VuZDpub25lIHRyYW5zcGFyZW50fS5CdXR0b25fX3Jvb3RfX18xZ3owYzpkaXNhYmxlZD4qe29wYWNpdHk6LjV9XCIsXCJcIl0pLGUubG9jYWxzPXtyb290OlwiQnV0dG9uX19yb290X19fMWd6MGNcIn19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5sb2NhdGlvbjtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtpZighdHx8XCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuIHQ7dmFyIG49ZS5wcm90b2NvbCtcIi8vXCIrZS5ob3N0LHI9bitlLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLyxcIi9cIik7cmV0dXJuIHQucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksZnVuY3Rpb24odCxlKXt2YXIgaT1lLnRyaW0oKS5yZXBsYWNlKC9eXCIoLiopXCIkLyxmdW5jdGlvbih0LGUpe3JldHVybiBlfSkucmVwbGFjZSgvXicoLiopJyQvLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV9KTtpZigvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcLykvaS50ZXN0KGkpKXJldHVybiB0O3ZhciBvO3JldHVybiBvPTA9PT1pLmluZGV4T2YoXCIvL1wiKT9pOjA9PT1pLmluZGV4T2YoXCIvXCIpP24raTpyK2kucmVwbGFjZSgvXlxcLlxcLy8sXCJcIiksXCJ1cmwoXCIrSlNPTi5zdHJpbmdpZnkobykrXCIpXCJ9KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI5Nyk7XCJzdHJpbmdcIj09dHlwZW9mIHImJihyPVtbdC5pLHIsXCJcIl1dKTt2YXIgaT17c291cmNlTWFwOiEwfTtpLnRyYW5zZm9ybT12b2lkIDAsbigyMCkocixpKSxyLmxvY2FscyYmKHQuZXhwb3J0cz1yLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSxuKXtlPXQuZXhwb3J0cz1uKDI4KSghMSksZS5wdXNoKFt0LmksXCIuQnV0dG9uV3JhcF9fcm9vdF9fXzFFT19Se2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6MTB9XCIsXCJcIl0pLGUubG9jYWxzPXtyb290OlwiQnV0dG9uV3JhcF9fcm9vdF9fXzFFT19SXCJ9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyOTkpO1wic3RyaW5nXCI9PXR5cGVvZiByJiYocj1bW3QuaSxyLFwiXCJdXSk7dmFyIGk9e3NvdXJjZU1hcDohMH07aS50cmFuc2Zvcm09dm9pZCAwLG4oMjApKHIsaSksci5sb2NhbHMmJih0LmV4cG9ydHM9ci5sb2NhbHMpfSxmdW5jdGlvbih0LGUsbil7ZT10LmV4cG9ydHM9bigyOCkoITEpLGUucHVzaChbdC5pLCcuSWNvbkJ1dHRvbl9fcm9vdF9fXzN0cVpXe3BhZGRpbmctbGVmdDozcHg7cGFkZGluZy1yaWdodDozcHh9Lkljb25CdXR0b25fX2ljb25fX18zWWdPU3tkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDoyMnB4O2hlaWdodDoyMnB4O2JhY2tncm91bmQtcG9zaXRpb246NTAlO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXNpemU6MThweH0uSWNvbkJ1dHRvbl9faXNBY3RpdmVfX18yRXk4cHtiYWNrZ3JvdW5kOm5vbmUgI2Q4ZDhkOH0uSWNvbkJ1dHRvbl9faWNvbi11bmRvX19fRVFTUlB7YmFja2dyb3VuZC1pbWFnZTp1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlOQ0lnYUdWcFoyaDBQU0l5TkNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElqNDhjR0YwYUNCa1BTSk5NVGN1T0RVMklESTBZekl1TmpZMUxUUXVPRE1nTXk0eE1UVXRNVEl1TVRrMUxUY3VNelUyTFRFeExqazFWakU0YkMwNUxUa2dPUzA1ZGpVdU9ESkRNak11TURNNElEVXVORGsxSURJMExqUXpOU0F4Tmk0NE9TQXhOeTQ0TlRZZ01qUjZJaTgrUEM5emRtYytcIik7YmFja2dyb3VuZC1zaXplOjE0cHh9Lkljb25CdXR0b25fX2ljb24tcmVkb19fXzMwTVZ6e2JhY2tncm91bmQtaW1hZ2U6dXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TkNJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJajQ4Y0dGMGFDQmtQU0pOTVRNdU5TQTFMamd5VmpCc09TQTVMVGtnT1hZdE5TNDVOVU16TGpBeklERXhMamd3TmlBekxqUTNPQ0F4T1M0eE55QTJMakUwTkNBeU5DMHVORE0ySURFMkxqZzVMamsyTWlBMUxqUTVOQ0F4TXk0MUlEVXVPREo2SWk4K1BDOXpkbWMrXCIpO2JhY2tncm91bmQtc2l6ZToxNHB4fS5JY29uQnV0dG9uX19pY29uLXVub3JkZXJlZC1saXN0LWl0ZW1fX19QdmtycntiYWNrZ3JvdW5kLWltYWdlOnVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeE5pSWdhR1ZwWjJoMFBTSXhOaUlnZG1sbGQwSnZlRDBpTUNBd0lERTJJREUySWo0OGNHRjBhQ0JrUFNKTk5DNDJOVFlnTXk0ek5EUklNVFIyTVM0ek1UTklOQzQyTlRaV015NHpORFI2YlRBZ05TNHpNVEpXTnk0ek5ETklNVFIyTVM0ek1UTklOQzQyTlRaNmJUQWdOSFl0TVM0ek1UTklNVFIyTVM0ek1UTklOQzQyTlRaNmJTMHlMVEV1TlROeExqTTNOU0F3SUM0Mk5DNHlOWFF1TWpZM0xqWXlOQzB1TWpZMkxqWXlOUzB1TmpRdU1qVXRMall5TmkwdU1qVlVNUzQzT0NBeE1uUXVNalV0TGpZeU5TNDJNall0TGpJMWVtMHdMVGd1TVRJMmNTNDBNRFlnTUNBdU56QXpMakk0ZEM0eU9UWXVOekl0TGpJNU55NDNNaTB1TnpBMExqSTRMUzQzTURNdExqSTRWREV1TmpVMklEUjBMakk1TnkwdU56SXVOekF6TFM0eU9IcHRNQ0EwY1M0ME1EWWdNQ0F1TnpBekxqSTRkQzR5T1RZdU56SXRMakk1Tnk0M01pMHVOekEwTGpJNExTNDNNRE10TGpJNFZERXVOalUySURoMExqSTVOeTB1TnpJdU56QXpMUzR5T0hvaUx6NDhMM04yWno0PVwiKX0uSWNvbkJ1dHRvbl9faWNvbi1vcmRlcmVkLWxpc3QtaXRlbV9fXzJyekQwe2JhY2tncm91bmQtaW1hZ2U6dXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l4TmlJZ2FHVnBaMmgwUFNJeE5pSWdkbWxsZDBKdmVEMGlNQ0F3SURFMklERTJJajQ4Y0dGMGFDQmtQU0pOTkM0Mk5UWWdPQzQyTlRaV055NHpORE5JTVRSMk1TNHpNVE5JTkM0Mk5UWjZiVEFnTkhZdE1TNHpNVE5JTVRSMk1TNHpNVE5JTkM0Mk5UWjZiVEF0T1M0ek1USklNVFIyTVM0ek1UTklOQzQyTlRaV015NHpORFI2YlMwekxqTXhNaUEwZGkwdU5qZzRhREoyTGpZeU5Xd3RNUzR5TWlBeExqTTNObWd4TGpJeWRpNDJPRGhvTFRKV09DNDNNbXd4TGpFNE9DMHhMak0zTmtneExqTTBOSHB0TGpZMU5pMHlkaTB5YUMwdU5qVTJkaTB1TmpnNGFERXVNekV6ZGpJdU5qZzRTREo2YlMwdU5qVTJJRFoyTFM0Mk9EaG9Nbll5TGpZNE9HZ3RNbll0TGpZNE9HZ3hMak14TTNZdExqTXhNMGd5ZGkwdU5qZzRhQzQyTlRkMkxTNHpNVE5JTVM0ek5EUjZJaTgrUEM5emRtYytcIil9Lkljb25CdXR0b25fX2ljb24tYmxvY2txdW90ZV9fXzE3VlNYe2JhY2tncm91bmQtaW1hZ2U6dXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l4TmlJZ2FHVnBaMmgwUFNJeE5pSWdkbWxsZDBKdmVEMGlNQ0F3SURFMklERTJJajQ4Y0dGMGFDQmtQU0pOT1M0ek5EUWdNVEV1TXpRMGJERXVNekV6TFRJdU5qZzRhQzB5ZGkwMGFEUjJOR3d0TVM0ek1UTWdNaTQyT0Rob0xUSjZiUzAxTGpNME5DQXdiREV1TXpRMExUSXVOamc0YUMweWRpMDBhRFIyTkV3MklERXhMak0wTkVnMGVpSXZQand2YzNablBnPT1cIil9Lkljb25CdXR0b25fX2ljb24tYm9sZF9fXzJ6bDl0e2JhY2tncm91bmQtaW1hZ2U6dXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l4TmlJZ2FHVnBaMmgwUFNJeE5pSWdkbWxsZDBKdmVEMGlNQ0F3SURFMklERTJJajQ4Y0dGMGFDQmtQU0pOT1NBeE1DNHpORFJ4TGpRek9DQXdJQzQzTWkwdU1qazNkQzR5T0MwdU56QXpMUzR5T0MwdU56QXpWRGtnT0M0ek5EVklOaTQyTlRaMk1rZzVlbTB0TWk0ek5EUXRObll5YURKeExqUXdOaUF3SUM0M01ETXRMakk1TjNRdU1qazJMUzQzTURNdExqSTVOeTB1TnpBekxTNDNNRFF0TGpJNU5tZ3RNbnB0TXk0M05TQXlMamcwTkhFeExqUXpPQzQyTlRZZ01TNDBNemdnTWk0eU9DQXdJREV1TURZMExTNDNNRE1nTVM0M09UaFVPUzR6TnpZZ01USm9MVFF1TnpKV01pNDJOVFpvTkM0eE9YRXhMakV5TkNBd0lERXVPRGt1TnpoMExqYzJOaUF4TGprd055MHhMakE1TXlBeExqZzBOSG9pTHo0OEwzTjJaejQ9XCIpfS5JY29uQnV0dG9uX19pY29uLWl0YWxpY19fXzJoSHpje2JhY2tncm91bmQtaW1hZ2U6dXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l4TmlJZ2FHVnBaMmgwUFNJeE5pSWdkbWxsZDBKdmVEMGlNQ0F3SURFMklERTJJajQ4Y0dGMGFDQmtQU0pOTmk0Mk5UWWdNaTQyTlRaSU1USjJNbWd0TVM0NE56Vk1OeTQ0TnpVZ01UQm9NUzQwTjNZeVNEUjJMVEpvTVM0NE56VnNNaTR5TlMwMUxqTTBOR2d0TVM0ME4zWXRNbm9pTHo0OEwzTjJaejQ9XCIpfS5JY29uQnV0dG9uX19pY29uLXVuZGVybGluZV9fXzJFbVpKe2JhY2tncm91bmQtaW1hZ2U6dXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l4TmlJZ2FHVnBaMmgwUFNJeE5pSWdkbWxsZDBKdmVEMGlNQ0F3SURFMklERTJJajQ4Y0dGMGFDQmtQU0pOTXk0ek5EUWdNVEl1TmpVMmFEa3VNekV6VmpFMFNETXVNelEwZGkweExqTTBOSHBOT0NBeE1TNHpORFJ4TFRFdU5qVTJJREF0TWk0NE1qZ3RNUzR4TnpKVU5DQTNMak0wTkZZeWFERXVOalUyZGpVdU16UTBjVEFnTGprM0xqWTRPQ0F4TGpZMFZEZ2dPUzQyTlRoME1TNDJOVFl0TGpZM01pNDJPRGd0TVM0Mk5GWXlTREV5ZGpVdU16UTBVVEV5SURrZ01UQXVPREk0SURFd0xqRTNNbFE0SURFeExqTTBOSG9pTHo0OEwzTjJaejQ9XCIpfS5JY29uQnV0dG9uX19pY29uLXN0cmlrZXRocm91Z2hfX19RdEUyWHtiYWNrZ3JvdW5kLWltYWdlOnVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1qTXVOVGNnTVRKeExqRTVJREFnTGpNeExqRXlkQzR4TWk0ek1YWXVPRFUyY1RBZ0xqRTRPQzB1TVRJdU16QTRkQzB1TXpFdU1USklMalF6Y1MwdU1UZzRJREF0TGpNd09DMHVNVEpVTUNBeE15NHlPRFoyTFM0NE5UZHhNQzB1TVRrdU1USXRMak14VkM0ME1qZ2dNVEpJTWpNdU5UZDZiUzB4Tnk0eExTNDROVGR4TFM0ek56WXRMalEzTFM0Mk9EUXRNUzR3TnkwdU5qUXpMVEV1TXkwdU5qUXpMVEl1TlRJZ01DMHlMalF5TXlBeExqYzVOUzAwTGpFek55QXhMamM0TFRFdU55QTFMakkyTXkweExqY3VOamNnTUNBeUxqSXpPQzR5TlRNdU9EZzBMakUySURJdU16Y3VOalF5TGpFek5TNDFNUzR5T0RJZ01TNDFPQzR4T0RnZ01TNDJORGN1TVRnNElESXVORFVnTUNBdU1qUXlMUzR3TmpjdU5qQTBiQzB1TVRZdU1EUXRNUzR4TWpVdExqQTRMUzR4T0RndExqQXlOM0V0TGpZM0xURXVPVGszTFRFdU16Z3RNaTQzTkRjdE1TNHhOemd0TVM0eU1pMHlMamd4TWkweExqSXlMVEV1TlRJM0lEQXRNaTQwTXpndU56a3RMamc1Tnk0M056Z3RMamc1TnlBeExqazFOaUF3SUM0NU56Y3VPRGcwSURFdU9EYzBkRE11TnpNM0lERXVOekk0Y1M0NU1qVXVNalk0SURJdU16RTRMamc0TkM0M056Y3VNemMxSURFdU1qY3lMalk1TmtnMkxqUTNlbTAyTGpjNUlETXVOREk0YURVdU5UQXpjUzR3T1RRdU5USXpMakE1TkNBeExqSXpNeUF3SURFdU5EZzNMUzQxTlNBeUxqZzBMUzR6TURjdU56TTJMUzQ1TlNBeExqTTVNaTB1TkRrMkxqUTNMVEV1TkRZZ01TNHdPRFV0TVM0d055NDJORE10TWk0d05TNDRPRFF0TVM0d055NHlPQzB5TGpjeE9DNHlPQzB4TGpVeU9DQXdMVEl1TmpFekxTNHpNRGRzTFRFdU9EYzFMUzQxTXpaeExTNDNOak10TGpJeE15MHVPVFkwTFM0ek56UXRMakV3TnkwdU1UQTNMUzR4TURjdExqSTVOWFl0TGpFM00zRXdMVEV1TkRRMkxTNHdNall0TWk0d09TMHVNREV6TFM0MElEQXRMamt4YkM0d01qY3RMalE1Tm5ZdExqVTRPR3d4TGpNMk55MHVNREkzY1M0eUxqUTFOUzQwTURJdU9UVjBMak11TnpVdU1UWTNMak0yTTNFdU5EY3VOell6SURFdU1EY2dNUzR5Tmk0MU56Y3VORGdnTVM0ME1EY3VOell5TGpjNUxqSTVOU0F4TGpjMk9DNHlPVFV1T0RVM0lEQWdNUzQ0TmpJdExqTTJNaUF4TGpBekxTNHpORGdnTVM0Mk16UXRNUzR4TlRJdU5qTXRMamd4Tmk0Mk15MHhMamN5TnlBd0xURXVNVEkxTFRFdU1EZzJMVEl1TVRBekxTNDBOVFV0TGpNNE9DMHhMamd6TlMwdU9UVjZJaTgrUEM5emRtYytcIik7YmFja2dyb3VuZC1zaXplOjE0cHh9Lkljb25CdXR0b25fX2ljb24tY29kZV9fXzNGMXBle2JhY2tncm91bmQtaW1hZ2U6dXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCMmFXVjNRbTk0UFNJd0lEQWdNVEUySURFeE5pSWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQm1hV3hzTFhKMWJHVTlJbVYyWlc1dlpHUWlJR05zYVhBdGNuVnNaVDBpWlhabGJtOWtaQ0lnYzNSeWIydGxMV3hwYm1WcWIybHVQU0p5YjNWdVpDSWdjM1J5YjJ0bExXMXBkR1Z5YkdsdGFYUTlJakV1TkRFMElqNDhaeUJtYVd4c0xYSjFiR1U5SW01dmJucGxjbThpUGp4d1lYUm9JR1E5SWsweU1pNDBOalFnTWpndU5EaGpNQ0F5TGpnNU5TNHpORFFnTlM0NU1EVXVPREEySURrdU1ESXVNelF5SURNdU1ERXVOamtnTmk0d01pNDJPU0E0TGpreE55QXdJRE11TlRZeUxTNDVNVGNnTnk0M09TMDRMamsxTlNBM0xqa3hNblkzTGpJek5tTTRMakF6Tmk0eE1UVWdPQzQ1TlRZZ05DNDJOeklnT0M0NU5UWWdOeTQ1TVRJZ01DQXlMamc0TmkwdU16UTRJRFV1TnpnekxTNDJPU0E0TGpjNE55MHVORFl5SURNdU1ERXpMUzQ0TURZZ05pNHhNelF0TGpnd05pQTRMamt5SURBZ01URXVNak00SURjdU1UQTJJREUxTGpJMU1pQXhOeTR3T0RjZ01UVXVNalV5YURNdU16SjJMVGN1T1RFeWFDMHlMakEyTW1NdE5TNDNNallnTUMwNExqQXlOUzB6TGpJek15MDRMakF5TlMwNExqYzVOaUF3TFRJdU1qTTJMak0wTkMwMExqVTNMamd3TmkwM0xqQXlNeTR5TWpjdE1pNDBNemd1TmpnMExUVXVNVEl1TmpnMExUZ3VNVEl1TVRFMUxUY3VOemt5TFRNdU16SXRNVEV1TWpVekxUa3VNVGMwTFRFeUxqVTRObll0TGpJeU5XTTFMamcxTkMweExqTXpNaUE1TGpJNU15MDBMalkzTmlBNUxqRTNMVEV5TGpRM0lEQXRNaTQ0T1RVdExqUTFOeTAxTGpVMk5TMHVOamcwTFRndU1ESTBMUzQwTmpJdE1pNDBOQzB1T0RBM0xUUXVOemMzTFM0NE1EY3ROeTR3TVRJZ01DMDFMalExSURJdU1EVTRMVGd1TmpnNElEZ3VNREkwTFRndU5qZzRhREl1TURZMmRpMDRMakF4TkdndE15NHpNbU10TVRBdU1qQTFMUzR3TURNdE1UY3VNRGcySURRdU5EUTBMVEUzTGpBNE5pQXhOQzQ1TVRWNlRUa3lMakEySURRMkxqUXhOMk13TFRJdU9Ea3pMalExTXkwMUxqa3dNeTQ0TURNdE9DNDVNVGd1TXpRekxUTXVNVEUwTGpjNU55MDJMakV5TGpjNU55MDVMakF5SURBdE1UQXVORGN0Tmk0NE56VXRNVFF1T1RFM0xURTNMakE0TFRFMExqa3hOMmd0TXk0ek1qZDJPQzR3TVRkb01pNHdObU0xTGpnMU1pNHhNVFFnTnk0NU1TQXpMakl6TXlBM0xqa3hJRGd1TmpnNElEQWdNaTR5TXkwdU16UXlJRFF1TlRZMUxTNDJPRFVnTnk0d01USXRMak0xSURJdU5EVTFMUzQyT1RJZ05TNHhNall0TGpZNU1pQTRMakF5TkMwdU1UQTFJRGN1TnprM0lETXVNekkzSURFeExqRXpOaUE1TGpBMU5pQXhNaTQwTjNZdU1qSXlZeTAxTGpjeUlERXVNek16TFRrdU1UWWdOQzQzT1RZdE9TNHdOVFlnTVRJdU5UZzNJREFnTXlBdU16UXlJRFV1TmpnMkxqWTVNaUE0TGpFeUxqTTBNeUF5TGpRMU5TNDJPRFlnTkM0M09TNDJPRFlnTnk0d01qVWdNQ0ExTGpVMU5DMHlMakU0SURndU5qZ3ROeTQ1TVRJZ09DNDNPRGhvTFRJdU1EWjJOeTQ1TVRKb015NHpNalZqT1M0NU56VWdNQ0F4Tnk0d056WXROQzR3TVNBeE55NHdOell0TVRVdU1qVWdNQzB5TGpjNE15MHVORFUwTFRVdU9TMHVOemsyTFRndU9URTBMUzR6TkRjdE15NHdNUzB1T0RBMUxUVXVPUzB1T0RBMUxUZ3VOemsxSURBdE15NHlNek1nTVM0d016VXROeTQzT1NBNExqazBNeTAzTGpreE0xWTFOQzR6TW1NdE55NDVNRFF0TGpFeE1pMDRMamt6TlMwMExqTTBMVGd1T1RNMUxUY3VPVEF6ZWlJdlBqd3ZaejQ4TDNOMlp6ND1cIil9Lkljb25CdXR0b25fX2ljb24tbGlua19fXzJ1bUVse2JhY2tncm91bmQtaW1hZ2U6dXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TWlJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJeUlESTBJajQ4Y0dGMGFDQmtQU0pOTVRrdU5TQXhOaTR5T0RaeE1DMHVOVE0yTFM0ek56VXRMamt4YkMweUxqYzROaTB5TGpjNE4zRXRMak0zTmkwdU16YzJMUzQ1TVRJdExqTTNOaTB1TlRZeklEQXRMamsyTkM0ME0yd3VNalUwTGpJME4zRXVNakUwTGpJd09DNHlPRGd1TWpsMExqSXVNalV6TGpFM05TNHpOREl1TURRNExqTTJPSEV3SUM0MU16WXRMak0zTlM0NU1YUXRMamt4TGpNM05uRXRMakl3TWlBd0xTNHpOeTB1TURRNGRDMHVNelF0TGpFM05DMHVNalUxTFM0eUxTNHlPRGd0TGpJNUxTNHlORGd0TGpJMU0zRXRMalEwTWk0ME1UVXRMalEwTWk0NU56Z2dNQ0F1TlRNMkxqTTNOUzQ1TVd3eUxqYzJJREl1TnpjemNTNHpOaTR6TmpJdU9URXVNell5TGpVek5pQXdJQzQ1TVMwdU16UTRiREV1T1RjdE1TNDVOVFZ4TGpNM05TMHVNemMxTGpNM05TMHVPRGszZW0wdE9TNDBNVFV0T1M0ME5ESnhNQzB1TlRNMkxTNHpOelV0TGpreFREWXVPVFVnTXk0eE5uRXRMak0zTkMwdU16YzBMUzQ1TVMwdU16YzBMUzQxTWpJZ01DMHVPVEV1TXpZeVRETXVNVFlnTlM0eE1ETnhMUzR6TnpVdU16YzFMUzR6TnpVdU9EazNJREFnTGpVek5pNHpOelV1T1RGc01pNDNPRFlnTWk0M09EZHhMak0yTWk0ek5qSXVPVEV1TXpZeUxqVTJOQ0F3SUM0NU5qVXRMalF4Tm13dExqSTFNeTB1TWpRNGNTMHVNakV6TFM0eU1EZ3RMakk0T0MwdU1qZzRkQzB1TWpBeUxTNHlOVFF0TGpFM05DMHVNelF5TFM0d05EY3RMak0yT0hFd0xTNDFNell1TXpjMUxTNDVNWFF1T1RFdExqTTNObkV1TWpBeUlEQWdMak0zTGpBME4zUXVNelF1TVRjMExqSTFOUzR5TGpJNE9DNHlPRGd1TWpRNExqSTFOSEV1TkRReUxTNDBNVFV1TkRReUxTNDVOemg2YlRFeExqazROaUE1TGpRME1uRXdJREV1TmpBM0xURXVNVE0zSURJdU56SnNMVEV1T1RjZ01TNDVOVFJ4TFRFdU1URWdNUzR4TVRJdE1pNDNNVGdnTVM0eE1USXRNUzQyTWlBd0xUSXVOek15TFRFdU1UTTRiQzB5TGpjMkxUSXVOemN5Y1MweExqRXhMVEV1TVRFeUxURXVNVEV0TWk0M01pQXdMVEV1TmpRMklERXVNVGM0TFRJdU56azRiQzB4TGpFM09DMHhMakU0Y1MweExqRTFNaUF4TGpFNExUSXVOemcySURFdU1UZ3RNUzQyTURjZ01DMHlMamN6TWkweExqRXlOVXd4TGpNek9DQTRMamN6TWxFdU1qRXpJRGN1TmpBNExqSXhNeUEyVkRFdU16VWdNeTR5T0ROc01TNDVOeTB4TGprMU5WRTBMalF6TWk0eU1UVWdOaTR3TkM0eU1UVnhNUzQyTWlBd0lESXVOek1nTVM0eE16aHNNaTQzTmlBeUxqYzNNbkV4TGpFeE1pQXhMakV4TWlBeExqRXhNaUF5TGpjeUlEQWdNUzQyTkRZdE1TNHhPQ0F5TGpjNU9Hd3hMakU0SURFdU1UaHhNUzR4TlRJdE1TNHhPQ0F5TGpjNE5pMHhMakU0SURFdU5qQTNJREFnTWk0M016SWdNUzR4TWpWc01pNDNPRFlnTWk0M09EWnhNUzR4TWpVZ01TNHhNalVnTVM0eE1qVWdNaTQzTXpKNklpOCtQQzl6ZG1jK1wiKTtiYWNrZ3JvdW5kLXNpemU6MTRweH0uSWNvbkJ1dHRvbl9faWNvbi1yZW1vdmUtbGlua19fX2o2MXB3e2JhY2tncm91bmQtaW1hZ2U6dXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TWlJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJeUlESTBJajQ4Y0dGMGFDQmtQU0pOTlM0NE9DQXhOeTR3TWpKc0xUTXVORE1nTXk0ME0zRXRMakV6TkM0eE1pMHVNekE0TGpFeUxTNHhOaUF3TFM0ek1EZ3RMakV5TFM0eE1pMHVNVE0xTFM0eE1pMHVNekYwTGpFeUxTNHpNRGRzTXk0ME15MHpMalF6Y1M0eE16TXRMakV5TGpNd055MHVNVEowTGpNeExqRXljUzR4TWk0eE16VXVNVEl1TXpGMExTNHhNaTR6TURkNmJUSXVNall6TGpVMWRqUXVNamcxY1RBZ0xqRTRPQzB1TVRJdU16QTRkQzB1TXpFdU1USXRMak13TnkwdU1USXRMakV5TFM0ek1EaFdNVGN1TlRkeE1DMHVNVGczTGpFeUxTNHpNRGQwTGpNd09DMHVNVEl1TXpBNExqRXlMakV5TGpNd09IcHRMVE10TTNFd0lDNHhPRGN0TGpFeUxqTXdOM1F0TGpNeExqRXlTQzQwTTNFdExqRTRPQ0F3TFM0ek1EZ3RMakV5VkRBZ01UUXVOVGQwTGpFeUxTNHpNRGN1TXpBNExTNHhNbWcwTGpJNE5uRXVNVGc0SURBZ0xqTXdPQzR4TW5RdU1USXVNekE0ZW0weE5pNDVNamdnTVM0M01UUnhNQ0F4TGpZd055MHhMakV6TnlBeUxqY3liQzB4TGprM0lERXVPVFUwY1MweExqRXhJREV1TVRFeUxUSXVOekU0SURFdU1URXlMVEV1TmpJZ01DMHlMamN6TWkweExqRXpPRXc1TGpBMElERTJMalEwTjNFdExqSTRMUzR5T0MwdU5UWXpMUzQzTld3ekxqSXRMakkwSURNdU5qVTNJRE11TmpkeExqTTJNaTR6Tmk0NU1TNHpOamQwTGpreE1pMHVNelUxYkRFdU9UY3RNUzQ1TlRaeExqTTNOQzB1TXpjMUxqTTNOQzB1T0RrM0lEQXRMalV6TmkwdU16YzFMUzQ1TVd3dE15NDJOeTB6TGpZNE5DNHlOQzB6TGpKeExqUTNMakk0TGpjMUxqVTJNbXcwTGpVZ05DNDFjVEV1TVRJMklERXVNVFV5SURFdU1USTJJREl1TnpNeWVrMHhNeTQ0TVNBMkxqVTViQzB6TGpJdU1qUk1OaTQ1TlNBekxqRTJjUzB1TXpjMExTNHpOelV0TGpreExTNHpOelV0TGpVeU1pQXdMUzQ1TVM0ek5qSk1NeTR4TmlBMUxqRXdNbkV0TGpNM05TNHpOelV0TGpNM05TNDRPVGNnTUNBdU5UTTFMak0zTlM0NU1Xd3pMalkzSURNdU5qY3RMakkwSURNdU1qRTBjUzB1TkRjdExqSTRMUzQzTlMwdU5UWXpiQzAwTGpVdE5DNDFVUzR5TVRNZ055NDFPQzR5TVRNZ05uRXdMVEV1TmpBNElERXVNVE00TFRJdU56SnNNUzQ1TnkweExqazFOVkUwTGpRekxqSXhNeUEyTGpBMExqSXhNM0V4TGpZeUlEQWdNaTQzTXpJZ01TNHhNemhzTkM0ME56TWdOQzQwT0RoeExqSTRMakk0TGpVMk15NDNOWHB0T0M0ME56Z2dNUzR4TWpSeE1DQXVNVGc0TFM0eE1pNHpNRGgwTFM0ek1TNHhNbWd0TkM0eU9EVnhMUzR4T0RjZ01DMHVNekEzTFM0eE1uUXRMakV5TFM0ek1EZ3VNVEl0TGpNd09DNHpNRGd0TGpFeWFEUXVNamczY1M0eE9EZ2dNQ0F1TXpBNExqRXlkQzR4TWk0ek1EaDZUVEUxSUM0ME0zWTBMakk0TlhFd0lDNHhPRGd0TGpFeUxqTXdPSFF0TGpNeExqRXlMUzR6TURjdExqRXlMUzR4TWkwdU16QTRWaTQwTTNFd0xTNHhPUzR4TWkwdU16RlVNVFF1TlRjZ01IUXVNekV1TVRJdU1USXVNekY2YlRVdU5EVWdNaTR3TW13dE15NDBNamdnTXk0ME0zRXRMakUwTnk0eE1pMHVNekE0TGpFeWRDMHVNekE0TFM0eE1uRXRMakV5TFM0eE16UXRMakV5TFM0ek1EaDBMakV5TFM0ek1EaHNNeTQwTXkwekxqUXpjUzR4TXpNdExqRXlMak13TnkwdU1USjBMak13T0M0eE1uRXVNVEl5TGpFek5TNHhNakl1TXpGMExTNHhNaTR6TURkNklpOCtQQzl6ZG1jK1wiKTtiYWNrZ3JvdW5kLXNpemU6MTRweH0uSWNvbkJ1dHRvbl9faWNvbi1pbWFnZV9fXzFnVzdVe2JhY2tncm91bmQtaW1hZ2U6dXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO3V0Zjg7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlhWE52TFRnNE5Ua3RNU0kvUGdvOElTMHRJRWRsYm1WeVlYUnZjam9nUVdSdlltVWdTV3hzZFhOMGNtRjBiM0lnTVRZdU1DNHdMQ0JUVmtjZ1JYaHdiM0owSUZCc2RXY3RTVzRnTGlCVFZrY2dWbVZ5YzJsdmJqb2dOaTR3TUNCQ2RXbHNaQ0F3S1NBZ0xTMCtDandoUkU5RFZGbFFSU0J6ZG1jZ1VGVkNURWxESUNJdEx5OVhNME12TDBSVVJDQlRWa2NnTVM0eEx5OUZUaUlnSW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTDBkeVlYQm9hV056TDFOV1J5OHhMakV2UkZSRUwzTjJaekV4TG1SMFpDSStDanh6ZG1jZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWlCNGJXeHVjenA0YkdsdWF6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNVGs1T1M5NGJHbHVheUlnZG1WeWMybHZiajBpTVM0eElpQnBaRDBpUTJGd1lWOHhJaUI0UFNJd2NIZ2lJSGs5SWpCd2VDSWdkMmxrZEdnOUlqVXhNbkI0SWlCb1pXbG5hSFE5SWpVeE1uQjRJaUIyYVdWM1FtOTRQU0l3SURBZ05UTXpMak16TXlBMU16TXVNek0wSWlCemRIbHNaVDBpWlc1aFlteGxMV0poWTJ0bmNtOTFibVE2Ym1WM0lEQWdNQ0ExTXpNdU16TXpJRFV6TXk0ek16UTdJaUI0Yld3NmMzQmhZMlU5SW5CeVpYTmxjblpsSWo0S1BHYytDZ2s4Y0dGMGFDQmtQU0pOTkRZMkxqWTJOeXd4TURCb0xUUXdNSFl6TXpNdU16TXphRFF3TUZZeE1EQjZJRTAxTXpNdU16TXpMRE16TGpNek0wdzFNek11TXpNekxETXpMak16TTFZMU1EQklNRll6TXk0ek16TklOVE16TGpNek0zb2dUVFF6TXk0ek16TXNOREF3U0RFd01IWXROall1TmpZM0lDQWdiREV3TUMweE5qWXVOalkzYkRFek5pNDVOemtzTVRZMkxqWTJOMnc1Tmk0ek5UUXROall1TmpZMlZqTXdNRlkwTURCNklFMHpNek11TXpNekxERTRNeTR6TXpOak1Dd3lOeTQyTVRRc01qSXVNemcyTERVd0xEVXdMRFV3Y3pVd0xUSXlMak00Tml3MU1DMDFNSE10TWpJdU16ZzJMVFV3TFRVd0xUVXdJQ0FnVXpNek15NHpNek1zTVRVMUxqY3hPU3d6TXpNdU16TXpMREU0TXk0ek16TjZJaUJtYVd4c1BTSWpNREF3TURBd0lpOCtDand2Wno0S1BHYytDand2Wno0S1BHYytDand2Wno0S1BHYytDand2Wno0S1BHYytDand2Wno0S1BHYytDand2Wno0S1BHYytDand2Wno0S1BHYytDand2Wno0S1BHYytDand2Wno0S1BHYytDand2Wno0S1BHYytDand2Wno0S1BHYytDand2Wno0S1BHYytDand2Wno0S1BHYytDand2Wno0S1BHYytDand2Wno0S1BHYytDand2Wno0S1BDOXpkbWMrQ2c9PVwiKTtiYWNrZ3JvdW5kLXNpemU6MTRweH0uSWNvbkJ1dHRvbl9faWNvbi1jYW5jZWxfX19meDRUVHtiYWNrZ3JvdW5kLWltYWdlOnVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1qTXVOemdnTVRrdU1qaE1NVFl1TlNBeE1tdzNMakk0TFRjdU1qaGhMamMwT0M0M05EZ2dNQ0F3SURBZ01DMHhMakEyVERJd0xqTTBMakl4T0dFdU56VXVOelVnTUNBd0lEQXRNUzR3TmkwdU1EQXlUREV5SURjdU5EazRJRFF1TnpFM0xqSXlZUzQzTkRndU56UTRJREFnTUNBd0xURXVNRFlnTUV3dU1qRTNJRE11TmpaaExqYzFMamMxSURBZ01DQXdJREFnTVM0d05rdzNMalE1TnlBeE1td3ROeTR5T0NBM0xqSTRZUzQzTkRndU56UTRJREFnTUNBd0lEQWdNUzR3Tm13ekxqUTBJRE11TkRSaExqYzFMamMxSURBZ01DQXdJREV1TURZdU1EQXliRGN1TWpndE55NHlPQ0EzTGpJNE1pQTNMakk0WXk0d056Z3VNRGM0TGpFM0xqRXpOUzR5TmpndU1UY3VNalkzTGpFdU5UZ3VNRFEwTGpjNU15MHVNVGRzTXk0ME5DMHpMalEwWVM0M05TNDNOU0F3SURBZ01DQXdMVEV1TURaNklpOCtQQzl6ZG1jK1wiKTtiYWNrZ3JvdW5kLXNpemU6MTNweH0uSWNvbkJ1dHRvbl9faWNvbi1hY2NlcHRfX18yRDZNOXtiYWNrZ3JvdW5kLWltYWdlOnVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1qQXVNalVnTTB3NUlERTBMakkxSURNdU56VWdPU0F3SURFeUxqYzFiRGtnT1NBeE5TMHhOWG9pTHo0OEwzTjJaejQ9XCIpO2JhY2tncm91bmQtc2l6ZToxM3B4fS5JY29uQnV0dG9uX19pY29uLWFsaWduX2xlZnRfX18xUzlydHtiYWNrZ3JvdW5kLWltYWdlOnVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeE5pSWdhR1ZwWjJoMFBTSXhOaUlnZG1sbGQwSnZlRDBpTUNBd0lERTJJREUySWo0S1BIQmhkR2dnWkQwaVRUa3VPU3d4TUdndE9GWTRMamRvT0ZZeE1Ib2dUVGt1T1N3ekxqTm9MVGgyTVM0emFEaFdNeTR6ZWlCTk1TNDRMREV5TGpkb01USXVNM1l0TVM0elNERXVPRll4TWk0M2VpQk5NUzQ0TERaMk1TNHphREV5TGpOV05rZ3hMamg2SWk4K0Nqd3ZjM1puUGdvPVwiKX0uSWNvbkJ1dHRvbl9faWNvbi1hbGlnbl9jZW50ZXJfX19LQldHUntiYWNrZ3JvdW5kLWltYWdlOnVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeE5pSWdhR1ZwWjJoMFBTSXhOaUlnZG1sbGQwSnZlRDBpTUNBd0lERTJJREUySWo0S1BIQmhkR2dnWkQwaVRURXlMRFF1TjBnMFZqTXVNMmc0VmpRdU4zb2dUVEV5TERndU4wZzBWakV3YURoV09DNDNlaUJOTVM0NExEWjJNUzR6YURFeUxqTldOa2d4TGpoNklFMHhMamdzTVRJdU4yZ3hNaTR6ZGkweExqTklNUzQ0VmpFeUxqZDZJaTgrQ2p3dmMzWm5QZ289XCIpfS5JY29uQnV0dG9uX19pY29uLWFsaWduX3JpZ2h0X19fMWJXR1p7YmFja2dyb3VuZC1pbWFnZTp1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXhOaUlnYUdWcFoyaDBQU0l4TmlJZ2RtbGxkMEp2ZUQwaU1DQXdJREUySURFMklqNEtQSEJoZEdnZ1pEMGlUVEV1T0N3eE1TNHphREV5TGpOMk1TNHpTREV1T0ZZeE1TNHplaUJOTVRRdU1pd3pMak5vTFRoMk1TNHphRGhXTXk0emVpQk5OaTR4TERndU4xWXhNR2c0VmpndU4wZzJMakY2SUUweExqZ3NObll4TGpOb01USXVNMVkyU0RFdU9Ib2lMejRLUEM5emRtYytDZz09XCIpfS5JY29uQnV0dG9uX19pY29uLWFsaWduX2p1c3RpZnlfX18zZUJWNXtiYWNrZ3JvdW5kLWltYWdlOnVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeE5pSWdhR1ZwWjJoMFBTSXhOaUlnZG1sbGQwSnZlRDBpTUNBd0lERTJJREUySWo0S1BIQmhkR2dnWkQwaVRURXVPQ3c0TGpkb01USXVNMVl4TUVneExqaFdPQzQzZWlCTk1TNDRMREV5TGpkb01USXVNM1l0TVM0elNERXVPRll4TWk0M2VpQk5NUzQ0TERjdU0yZ3hNaTR6VmpaSU1TNDRWamN1TTNvZ1RURXVPQ3d6TGpOMk1TNHphREV5TGpOV015NHpTREV1T0hvaUx6NEtQQzl6ZG1jK0NnPT1cIil9JyxcIlwiXSksZS5sb2NhbHM9e3Jvb3Q6XCJJY29uQnV0dG9uX19yb290X19fM3RxWldcIixpY29uOlwiSWNvbkJ1dHRvbl9faWNvbl9fXzNZZ09TXCIsaXNBY3RpdmU6XCJJY29uQnV0dG9uX19pc0FjdGl2ZV9fXzJFeThwXCIsXCJpY29uLXVuZG9cIjpcIkljb25CdXR0b25fX2ljb24tdW5kb19fX0VRU1JQIEljb25CdXR0b25fX2ljb25fX18zWWdPU1wiLFwiaWNvbi1yZWRvXCI6XCJJY29uQnV0dG9uX19pY29uLXJlZG9fX18zME1WeiBJY29uQnV0dG9uX19pY29uX19fM1lnT1NcIixcImljb24tdW5vcmRlcmVkLWxpc3QtaXRlbVwiOlwiSWNvbkJ1dHRvbl9faWNvbi11bm9yZGVyZWQtbGlzdC1pdGVtX19fUHZrcnIgSWNvbkJ1dHRvbl9faWNvbl9fXzNZZ09TXCIsXCJpY29uLW9yZGVyZWQtbGlzdC1pdGVtXCI6XCJJY29uQnV0dG9uX19pY29uLW9yZGVyZWQtbGlzdC1pdGVtX19fMnJ6RDAgSWNvbkJ1dHRvbl9faWNvbl9fXzNZZ09TXCIsXCJpY29uLWJsb2NrcXVvdGVcIjpcIkljb25CdXR0b25fX2ljb24tYmxvY2txdW90ZV9fXzE3VlNYIEljb25CdXR0b25fX2ljb25fX18zWWdPU1wiLFwiaWNvbi1ib2xkXCI6XCJJY29uQnV0dG9uX19pY29uLWJvbGRfX18yemw5dCBJY29uQnV0dG9uX19pY29uX19fM1lnT1NcIixcImljb24taXRhbGljXCI6XCJJY29uQnV0dG9uX19pY29uLWl0YWxpY19fXzJoSHpjIEljb25CdXR0b25fX2ljb25fX18zWWdPU1wiLFwiaWNvbi11bmRlcmxpbmVcIjpcIkljb25CdXR0b25fX2ljb24tdW5kZXJsaW5lX19fMkVtWkogSWNvbkJ1dHRvbl9faWNvbl9fXzNZZ09TXCIsXCJpY29uLXN0cmlrZXRocm91Z2hcIjpcIkljb25CdXR0b25fX2ljb24tc3RyaWtldGhyb3VnaF9fX1F0RTJYIEljb25CdXR0b25fX2ljb25fX18zWWdPU1wiLFwiaWNvbi1jb2RlXCI6XCJJY29uQnV0dG9uX19pY29uLWNvZGVfX18zRjFwZSBJY29uQnV0dG9uX19pY29uX19fM1lnT1NcIixcImljb24tbGlua1wiOlwiSWNvbkJ1dHRvbl9faWNvbi1saW5rX19fMnVtRWwgSWNvbkJ1dHRvbl9faWNvbl9fXzNZZ09TXCIsXCJpY29uLXJlbW92ZS1saW5rXCI6XCJJY29uQnV0dG9uX19pY29uLXJlbW92ZS1saW5rX19fajYxcHcgSWNvbkJ1dHRvbl9faWNvbl9fXzNZZ09TXCIsXCJpY29uLWltYWdlXCI6XCJJY29uQnV0dG9uX19pY29uLWltYWdlX19fMWdXN1UgSWNvbkJ1dHRvbl9faWNvbl9fXzNZZ09TXCIsXCJpY29uLWNhbmNlbFwiOlwiSWNvbkJ1dHRvbl9faWNvbi1jYW5jZWxfX19meDRUVCBJY29uQnV0dG9uX19pY29uX19fM1lnT1NcIixcImljb24tYWNjZXB0XCI6XCJJY29uQnV0dG9uX19pY29uLWFjY2VwdF9fXzJENk05IEljb25CdXR0b25fX2ljb25fX18zWWdPU1wiLFwiaWNvbi1hbGlnbl9sZWZ0XCI6XCJJY29uQnV0dG9uX19pY29uLWFsaWduX2xlZnRfX18xUzlydCBJY29uQnV0dG9uX19pY29uX19fM1lnT1NcIixcImljb24tYWxpZ25fY2VudGVyXCI6XCJJY29uQnV0dG9uX19pY29uLWFsaWduX2NlbnRlcl9fX0tCV0dSIEljb25CdXR0b25fX2ljb25fX18zWWdPU1wiLFwiaWNvbi1hbGlnbl9yaWdodFwiOlwiSWNvbkJ1dHRvbl9faWNvbi1hbGlnbl9yaWdodF9fXzFiV0daIEljb25CdXR0b25fX2ljb25fX18zWWdPU1wiLFwiaWNvbi1hbGlnbl9qdXN0aWZ5XCI6XCJJY29uQnV0dG9uX19pY29uLWFsaWduX2p1c3RpZnlfX18zZUJWNSBJY29uQnV0dG9uX19pY29uX19fM1lnT1NcIn19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e2RlZmF1bHQ6bigzMDEpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7bigzMDIpLHQuZXhwb3J0cz1uKDQpLk9iamVjdC5rZXlzfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0MSksaT1uKDQ3KTtuKDEwNCkoXCJrZXlzXCIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGkocih0KSl9fSl9LGZ1bmN0aW9uKHQsZSxuKXtuKDYwKSxuKDQ5KSx0LmV4cG9ydHM9bigzMDQpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMCksaT1uKDk1KTt0LmV4cG9ydHM9big0KS5nZXRJdGVyYXRvcj1mdW5jdGlvbih0KXt2YXIgZT1pKHQpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGl0ZXJhYmxlIVwiKTtyZXR1cm4gcihlLmNhbGwodCkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzA2KTtcInN0cmluZ1wiPT10eXBlb2YgciYmKHI9W1t0LmkscixcIlwiXV0pO3ZhciBpPXtzb3VyY2VNYXA6ITB9O2kudHJhbnNmb3JtPXZvaWQgMCxuKDIwKShyLGkpLHIubG9jYWxzJiYodC5leHBvcnRzPXIubG9jYWxzKX0sZnVuY3Rpb24odCxlLG4pe2U9dC5leHBvcnRzPW4oMjgpKCExKSxlLnB1c2goW3QuaSxcIi5CdXR0b25Hcm91cF9fcm9vdF9fXzNsRUFue2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOnRvcDttYXJnaW46MCA1cHggNXB4IDA7d2hpdGUtc3BhY2U6bm93cmFwfS5CdXR0b25Hcm91cF9fcm9vdF9fXzNsRUFuOmxhc3QtY2hpbGR7bWFyZ2luLXJpZ2h0OjB9LkJ1dHRvbkdyb3VwX19yb290X19fM2xFQW4+ZGl2PmJ1dHRvbnttYXJnaW4tcmlnaHQ6MDtib3JkZXItcmFkaXVzOjB9LkJ1dHRvbkdyb3VwX19yb290X19fM2xFQW4+ZGl2PmJ1dHRvbjpmb2N1c3twb3NpdGlvbjpyZWxhdGl2ZTt6LWluZGV4OjF9LkJ1dHRvbkdyb3VwX19yb290X19fM2xFQW4+ZGl2OmZpcnN0LWNoaWxkPmJ1dHRvbntib3JkZXItdG9wLWxlZnQtcmFkaXVzOjJweDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjJweH0uQnV0dG9uR3JvdXBfX3Jvb3RfX18zbEVBbj5kaXYrZGl2PmJ1dHRvbntib3JkZXItbGVmdC13aWR0aDowfS5CdXR0b25Hcm91cF9fcm9vdF9fXzNsRUFuPmRpdjpsYXN0LWNoaWxkPmJ1dHRvbntib3JkZXItdG9wLXJpZ2h0LXJhZGl1czoycHg7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MnB4fVwiLFwiXCJdKSxlLmxvY2Fscz17cm9vdDpcIkJ1dHRvbkdyb3VwX19yb290X19fM2xFQW5cIn19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMwOCk7XCJzdHJpbmdcIj09dHlwZW9mIHImJihyPVtbdC5pLHIsXCJcIl1dKTt2YXIgaT17c291cmNlTWFwOiEwfTtpLnRyYW5zZm9ybT12b2lkIDAsbigyMCkocixpKSxyLmxvY2FscyYmKHQuZXhwb3J0cz1yLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSxuKXtlPXQuZXhwb3J0cz1uKDI4KSghMSksZS5wdXNoKFt0LmksJy5JbnB1dFBvcG92ZXJfX3Jvb3RfX18zSHBqOXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6Y2FsYygxMDAlICsgNXB4KTtsZWZ0OjA7d2lkdGg6MjYwcHg7YmFja2dyb3VuZDpub25lICNmZGZkZmQ7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCNmZGZkZmQgMCwjZjZmN2Y4KTtib3JkZXI6MXB4IHNvbGlkICM5OTk7Ym9yZGVyLXJhZGl1czoycHg7Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6NHB4fS5JbnB1dFBvcG92ZXJfX3Jvb3RfX18zSHBqOTpiZWZvcmV7dG9wOi0xMHB4O2JvcmRlcjo1cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWJvdHRvbS1jb2xvcjojOTk5fS5JbnB1dFBvcG92ZXJfX3Jvb3RfX18zSHBqOTphZnRlciwuSW5wdXRQb3BvdmVyX19yb290X19fM0hwajk6YmVmb3Jle2NvbnRlbnQ6XCJcIjtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjA7aGVpZ2h0OjA7bGVmdDoxMHB4fS5JbnB1dFBvcG92ZXJfX3Jvb3RfX18zSHBqOTphZnRlcnt0b3A6LTlweDtib3JkZXI6NXB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1ib3R0b20tY29sb3I6I2ZkZmRmZH0uSW5wdXRQb3BvdmVyX19pbm5lcl9fXzMyVjVQe2Rpc3BsYXk6ZmxleH0uSW5wdXRQb3BvdmVyX19pbnB1dF9fXzI2NFphe2Rpc3BsYXk6YmxvY2s7ZmxleDoxIDAgYXV0bztoZWlnaHQ6MzBweDtiYWNrZ3JvdW5kOm5vbmUgI2ZmZjtib3JkZXI6MXB4IHNvbGlkICM5OTk7Ym9yZGVyLXJhZGl1czoycHg7Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MnB4IDZweDtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtc2l6ZTppbmhlcml0O2xpbmUtaGVpZ2h0OjI0cHh9LklucHV0UG9wb3Zlcl9faW5uZXJfX18zMlY1UCAuSW5wdXRQb3BvdmVyX19idXR0b25Hcm91cF9fXzJjM1Nse2ZsZXg6MCAxIGF1dG87bWFyZ2luLWxlZnQ6NHB4O21hcmdpbi1ib3R0b206MH0uSW5wdXRQb3BvdmVyX19jaGVja09wdGlvbl9fXzMyUzg3e21hcmdpbjo4cHggMnB4fS5JbnB1dFBvcG92ZXJfX2NoZWNrT3B0aW9uX19fMzJTODcgaW5wdXR7bWFyZ2luLXJpZ2h0OjhweDtjdXJzb3I6cG9pbnRlcn0nLFwiXCJdKSxlLmxvY2Fscz17cm9vdDpcIklucHV0UG9wb3Zlcl9fcm9vdF9fXzNIcGo5XCIsaW5uZXI6XCJJbnB1dFBvcG92ZXJfX2lubmVyX19fMzJWNVBcIixpbnB1dDpcIklucHV0UG9wb3Zlcl9faW5wdXRfX18yNjRaYVwiLGJ1dHRvbkdyb3VwOlwiSW5wdXRQb3BvdmVyX19idXR0b25Hcm91cF9fXzJjM1NsXCIsY2hlY2tPcHRpb246XCJJbnB1dFBvcG92ZXJfX2NoZWNrT3B0aW9uX19fMzJTODdcIn19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1lLl9fZXNNb2R1bGU9ITA7dmFyIGk9bigzMTApLG89cihpKSx1PW4oMTQyKSxhPXIodSk7ZS5kZWZhdWx0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBuPVtdLHI9ITAsaT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciB1LHM9KDAsYS5kZWZhdWx0KSh0KTshKHI9KHU9cy5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKHUudmFsdWUpLCFlfHxuLmxlbmd0aCE9PWUpO3I9ITApO31jYXRjaCh0KXtpPSEwLG89dH1maW5hbGx5e3RyeXshciYmcy5yZXR1cm4mJnMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IG99fXJldHVybiBufXJldHVybiBmdW5jdGlvbihlLG4pe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGU7aWYoKDAsby5kZWZhdWx0KShPYmplY3QoZSkpKXJldHVybiB0KGUsbik7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIil9fSgpfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPXtkZWZhdWx0Om4oMzExKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24odCxlLG4pe24oNjApLG4oNDkpLHQuZXhwb3J0cz1uKDMxMil9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDk2KSxpPW4oNikoXCJpdGVyYXRvclwiKSxvPW4oNDMpO3QuZXhwb3J0cz1uKDQpLmlzSXRlcmFibGU9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0KHQpO3JldHVybiB2b2lkIDAhPT1lW2ldfHxcIkBAaXRlcmF0b3JcImluIGV8fG8uaGFzT3duUHJvcGVydHkocihlKSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMTQpO1wic3RyaW5nXCI9PXR5cGVvZiByJiYocj1bW3QuaSxyLFwiXCJdXSk7dmFyIGk9e3NvdXJjZU1hcDohMH07aS50cmFuc2Zvcm09dm9pZCAwLG4oMjApKHIsaSksci5sb2NhbHMmJih0LmV4cG9ydHM9ci5sb2NhbHMpfSxmdW5jdGlvbih0LGUsbil7ZT10LmV4cG9ydHM9bigyOCkoITEpLGUucHVzaChbdC5pLCcuRHJvcGRvd25fX3Jvb3RfX18zQUxteHtkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjpyZWxhdGl2ZTtsaW5lLWhlaWdodDoyMnB4O3ZlcnRpY2FsLWFsaWduOnRvcDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9LkRyb3Bkb3duX19yb290X19fM0FMbXggc2VsZWN0e3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6MjtkaXNwbGF5OmlubGluZS1ibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7aGVpZ2h0OjMwcHg7bGluZS1oZWlnaHQ6aW5oZXJpdDtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtc2l6ZTppbmhlcml0O2NvbG9yOmluaGVyaXQ7bWFyZ2luOjA7cGFkZGluZzowO2JvcmRlcjo0cHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXJpZ2h0LXdpZHRoOjEwcHg7Ym9yZGVyLWxlZnQtd2lkdGg6NXB4O2JhY2tncm91bmQ6bm9uZSB0cmFuc3BhcmVudDtvcGFjaXR5OjA7Y3Vyc29yOnBvaW50ZXJ9LkRyb3Bkb3duX19yb290X19fM0FMbXggLkRyb3Bkb3duX192YWx1ZV9fXzM0UHk5e2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxO2xlZnQ6MDt0b3A6MDtyaWdodDowO2JvdHRvbTowO2xpbmUtaGVpZ2h0OjIzcHg7Ym9yZGVyOjFweCBzb2xpZCAjOTk5O2JvcmRlci1yYWRpdXM6MnB4O3BhZGRpbmc6M3B4O3BhZGRpbmctcmlnaHQ6MzNweDtwYWRkaW5nLWxlZnQ6MTJweDt3aGl0ZS1zcGFjZTpub3dyYXA7dGV4dC1vdmVyZmxvdzplbGxpcHNpc30uRHJvcGRvd25fX3Jvb3RfX18zQUxteCAuRHJvcGRvd25fX3ZhbHVlX19fMzRQeTk6YWZ0ZXIsLkRyb3Bkb3duX19yb290X19fM0FMbXggLkRyb3Bkb3duX192YWx1ZV9fXzM0UHk5OmJlZm9yZXtkaXNwbGF5OmJsb2NrO2NvbnRlbnQ6XCJcIjtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO3JpZ2h0OjEwcHg7d2lkdGg6MDtoZWlnaHQ6MDtib3JkZXI6NHB4IHNvbGlkIHRyYW5zcGFyZW50fS5Ecm9wZG93bl9fcm9vdF9fXzNBTG14IC5Ecm9wZG93bl9fdmFsdWVfX18zNFB5OTpiZWZvcmV7bWFyZ2luLXRvcDotMTBweDtib3JkZXItYm90dG9tLWNvbG9yOiM1NTV9LkRyb3Bkb3duX19yb290X19fM0FMbXggLkRyb3Bkb3duX192YWx1ZV9fXzM0UHk5OmFmdGVye21hcmdpbi10b3A6MXB4O2JvcmRlci10b3AtY29sb3I6IzU1NX0uRHJvcGRvd25fX3Jvb3RfX18zQUxteCBzZWxlY3Q6Zm9jdXMrLkRyb3Bkb3duX192YWx1ZV9fXzM0UHk5e2JvcmRlci1jb2xvcjojNjZhZmU5fUBtZWRpYSBzY3JlZW4gYW5kICgtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86MCl7LkRyb3Bkb3duX19yb290X19fM0FMbXggc2VsZWN0e29wYWNpdHk6MTtjb2xvcjppbmhlcml0Oy13ZWJraXQtYXBwZWFyYW5jZTpub25lO2JvcmRlci1sZWZ0LXdpZHRoOjEycHg7Ym9yZGVyLXJpZ2h0LXdpZHRoOjM1cHh9LkRyb3Bkb3duX19yb290X19fM0FMbXggc2VsZWN0Ky5Ecm9wZG93bl9fdmFsdWVfX18zNFB5OXtjb2xvcjp0cmFuc3BhcmVudH0uRHJvcGRvd25fX3Jvb3RfX18zQUxteCBzZWxlY3Q6Zm9jdXMrLkRyb3Bkb3duX192YWx1ZV9fXzM0UHk5e2JvcmRlci1jb2xvcjojOTk5fX0nLFwiXCJdKSxlLmxvY2Fscz17cm9vdDpcIkRyb3Bkb3duX19yb290X19fM0FMbXhcIix2YWx1ZTpcIkRyb3Bkb3duX192YWx1ZV9fXzM0UHk5XCJ9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMTYpO1wic3RyaW5nXCI9PXR5cGVvZiByJiYocj1bW3QuaSxyLFwiXCJdXSk7dmFyIGk9e3NvdXJjZU1hcDohMH07aS50cmFuc2Zvcm09dm9pZCAwLG4oMjApKHIsaSksci5sb2NhbHMmJih0LmV4cG9ydHM9ci5sb2NhbHMpfSxmdW5jdGlvbih0LGUsbil7ZT10LmV4cG9ydHM9bigyOCkoITEpLGUucHVzaChbdC5pLFwiLkVkaXRvclRvb2xiYXJfX3Jvb3RfX18zX0Fxentmb250LWZhbWlseTpIZWx2ZXRpY2Esc2Fucy1zZXJpZjtmb250LXNpemU6MTRweDttYXJnaW46MCAxMHB4O3BhZGRpbmc6MTBweCAwIDVweDtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZGRkOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0uRWRpdG9yVG9vbGJhcl9fb25Cb3R0b21fX18xaDdsMHtib3JkZXItdG9wOjFweCBzb2xpZCAjZGRkO2JvcmRlci1ib3R0b206bm9uZX1cIixcIlwiXSksZS5sb2NhbHM9e3Jvb3Q6XCJFZGl0b3JUb29sYmFyX19yb290X19fM19BcXpcIixvbkJvdHRvbTpcIkVkaXRvclRvb2xiYXJfX29uQm90dG9tX19fMWg3bDBcIn19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e2RlZmF1bHQ6bigzMTgpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0KSxpPXIuSlNPTnx8KHIuSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpLnN0cmluZ2lmeS5hcHBseShpLGFyZ3VtZW50cyl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9bigzMjApO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwic3RhdGVUb0hUTUxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcihpKS5kZWZhdWx0fX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbyh0LGUsbil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9ZnVuY3Rpb24gdSh0LGUpe3N3aXRjaCh0KXtjYXNlIHguQkxPQ0tfVFlQRS5IRUFERVJfT05FOnJldHVybltcImgxXCJdO2Nhc2UgeC5CTE9DS19UWVBFLkhFQURFUl9UV086cmV0dXJuW1wiaDJcIl07Y2FzZSB4LkJMT0NLX1RZUEUuSEVBREVSX1RIUkVFOnJldHVybltcImgzXCJdO2Nhc2UgeC5CTE9DS19UWVBFLkhFQURFUl9GT1VSOnJldHVybltcImg0XCJdO2Nhc2UgeC5CTE9DS19UWVBFLkhFQURFUl9GSVZFOnJldHVybltcImg1XCJdO2Nhc2UgeC5CTE9DS19UWVBFLkhFQURFUl9TSVg6cmV0dXJuW1wiaDZcIl07Y2FzZSB4LkJMT0NLX1RZUEUuVU5PUkRFUkVEX0xJU1RfSVRFTTpjYXNlIHguQkxPQ0tfVFlQRS5PUkRFUkVEX0xJU1RfSVRFTTpyZXR1cm5bXCJsaVwiXTtjYXNlIHguQkxPQ0tfVFlQRS5CTE9DS1FVT1RFOnJldHVybltcImJsb2NrcXVvdGVcIl07Y2FzZSB4LkJMT0NLX1RZUEUuQ09ERTpyZXR1cm5bXCJwcmVcIixcImNvZGVcIl07Y2FzZSB4LkJMT0NLX1RZUEUuQVRPTUlDOnJldHVybltcImZpZ3VyZVwiXTtkZWZhdWx0OnJldHVybltlfHxcInBcIl19fWZ1bmN0aW9uIGEodCl7c3dpdGNoKHQpe2Nhc2UgeC5CTE9DS19UWVBFLlVOT1JERVJFRF9MSVNUX0lURU06cmV0dXJuXCJ1bFwiO2Nhc2UgeC5CTE9DS19UWVBFLk9SREVSRURfTElTVF9JVEVNOnJldHVyblwib2xcIjtkZWZhdWx0OnJldHVybiBudWxsfX1mdW5jdGlvbiBzKHQpe2lmKG51bGw9PXQpcmV0dXJuXCJcIjt2YXIgZT1bXSxuPSEwLHI9ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgbyx1PU9iamVjdC5rZXlzKHQpW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KG89dS5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBhPW8udmFsdWUscz10W2FdO251bGwhPXMmJmUucHVzaChcIiBcIithKyc9XCInK2YocytcIlwiKSsnXCInKX19Y2F0Y2godCl7cj0hMCxpPXR9ZmluYWxseXt0cnl7IW4mJnUucmV0dXJuJiZ1LnJldHVybigpfWZpbmFsbHl7aWYocil0aHJvdyBpfX1yZXR1cm4gZS5qb2luKFwiXCIpfWZ1bmN0aW9uIGModCl7c3dpdGNoKHQpe2Nhc2UgeC5CTE9DS19UWVBFLlVOT1JERVJFRF9MSVNUX0lURU06Y2FzZSB4LkJMT0NLX1RZUEUuT1JERVJFRF9MSVNUX0lURU06cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gbCh0KXtyZXR1cm4gdC5zcGxpdChcIiZcIikuam9pbihcIiZhbXA7XCIpLnNwbGl0KFwiPFwiKS5qb2luKFwiJmx0O1wiKS5zcGxpdChcIj5cIikuam9pbihcIiZndDtcIikuc3BsaXQoXCLCoFwiKS5qb2luKFwiJm5ic3A7XCIpLnNwbGl0KFwiXFxuXCIpLmpvaW4oTitcIlxcblwiKX1mdW5jdGlvbiBmKHQpe3JldHVybiB0LnNwbGl0KFwiJlwiKS5qb2luKFwiJmFtcDtcIikuc3BsaXQoXCI8XCIpLmpvaW4oXCImbHQ7XCIpLnNwbGl0KFwiPlwiKS5qb2luKFwiJmd0O1wiKS5zcGxpdCgnXCInKS5qb2luKFwiJnF1b3Q7XCIpfWZ1bmN0aW9uIHAodCxlKXtyZXR1cm4gbmV3IFIodCxlKS5nZW5lcmF0ZSgpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBoLGQseSxnPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKHRbcl09bltyXSl9cmV0dXJuIHR9LHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIG49W10scj0hMCxpPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIHUsYT10W1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KHU9YS5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKHUudmFsdWUpLCFlfHxuLmxlbmd0aCE9PWUpO3I9ITApO31jYXRjaCh0KXtpPSEwLG89dH1maW5hbGx5e3RyeXshciYmYS5yZXR1cm4mJmEucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IG99fXJldHVybiBufXJldHVybiBmdW5jdGlvbihlLG4pe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGU7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKSlyZXR1cm4gdChlLG4pO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpfX0oKSxfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX19KCk7ZS5kZWZhdWx0PXA7dmFyIG09bigzMjEpLFM9cihtKSxiPW4oMzIyKSx3PXIoYiksTT1uKDMyMyksRT1yKE0pLHg9bigzMiksST14LklOTElORV9TVFlMRS5CT0xELGs9eC5JTkxJTkVfU1RZTEUuQ09ERSxMPXguSU5MSU5FX1NUWUxFLklUQUxJQyxUPXguSU5MSU5FX1NUWUxFLlNUUklLRVRIUk9VR0gsRD14LklOTElORV9TVFlMRS5VTkRFUkxJTkUsTz1cIiAgXCIsTj1cIjxicj5cIixDPS9eZGF0YS0oW2EtejAtOS1dKykkLyxqPShoPXt9LG8oaCxJLHtlbGVtZW50Olwic3Ryb25nXCJ9KSxvKGgsayx7ZWxlbWVudDpcImNvZGVcIn0pLG8oaCxMLHtlbGVtZW50OlwiZW1cIn0pLG8oaCxULHtlbGVtZW50OlwiZGVsXCJ9KSxvKGgsRCx7ZWxlbWVudDpcInVcIn0pLGgpLEE9W0ksTCxELFQsa10sej0oZD17fSxvKGQseC5FTlRJVFlfVFlQRS5MSU5LLHt1cmw6XCJocmVmXCIsaHJlZjpcImhyZWZcIixyZWw6XCJyZWxcIix0YXJnZXQ6XCJ0YXJnZXRcIix0aXRsZTpcInRpdGxlXCIsY2xhc3NOYW1lOlwiY2xhc3NcIn0pLG8oZCx4LkVOVElUWV9UWVBFLklNQUdFLHtzcmM6XCJzcmNcIixoZWlnaHQ6XCJoZWlnaHRcIix3aWR0aDpcIndpZHRoXCIsYWx0OlwiYWx0XCIsY2xhc3NOYW1lOlwiY2xhc3NcIn0pLGQpLEI9KHk9e30sbyh5LHguRU5USVRZX1RZUEUuTElOSyxmdW5jdGlvbih0LGUpe3ZhciBuPXouaGFzT3duUHJvcGVydHkodCk/elt0XTp7fSxyPWUuZ2V0RGF0YSgpLGk9e30sbz0hMCx1PSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIHMsYz1PYmplY3Qua2V5cyhyKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShvPShzPWMubmV4dCgpKS5kb25lKTtvPSEwKXt2YXIgbD1zLnZhbHVlLGY9cltsXTtuLmhhc093blByb3BlcnR5KGwpP2lbbltsXV09ZjpDLnRlc3QobCkmJihpW2xdPWYpfX1jYXRjaCh0KXt1PSEwLGE9dH1maW5hbGx5e3RyeXshbyYmYy5yZXR1cm4mJmMucmV0dXJuKCl9ZmluYWxseXtpZih1KXRocm93IGF9fXJldHVybiBpfSksbyh5LHguRU5USVRZX1RZUEUuSU1BR0UsZnVuY3Rpb24odCxlKXt2YXIgbj16Lmhhc093blByb3BlcnR5KHQpP3pbdF06e30scj1lLmdldERhdGEoKSxpPXt9LG89ITAsdT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBzLGM9T2JqZWN0LmtleXMocilbU3ltYm9sLml0ZXJhdG9yXSgpOyEobz0ocz1jLm5leHQoKSkuZG9uZSk7bz0hMCl7dmFyIGw9cy52YWx1ZSxmPXJbbF07bi5oYXNPd25Qcm9wZXJ0eShsKT9pW25bbF1dPWY6Qy50ZXN0KGwpJiYoaVtsXT1mKX19Y2F0Y2godCl7dT0hMCxhPXR9ZmluYWxseXt0cnl7IW8mJmMucmV0dXJuJiZjLnJldHVybigpfWZpbmFsbHl7aWYodSl0aHJvdyBhfX1yZXR1cm4gaX0pLHkpLFI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7aSh0aGlzLHQpLG51bGw9PW4mJihuPXt9KSx0aGlzLmNvbnRlbnRTdGF0ZT1lLHRoaXMub3B0aW9ucz1uO3ZhciByPSgwLFMuZGVmYXVsdCkobi5pbmxpbmVTdHlsZXMsW2osQV0pLG89dihyLDIpLHU9b1swXSxhPW9bMV07dGhpcy5pbmxpbmVTdHlsZXM9dSx0aGlzLnN0eWxlT3JkZXI9YX1yZXR1cm4gXyh0LFt7a2V5OlwiZ2VuZXJhdGVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih0aGlzLm91dHB1dD1bXSx0aGlzLmJsb2Nrcz10aGlzLmNvbnRlbnRTdGF0ZS5nZXRCbG9ja3NBc0FycmF5KCksdGhpcy50b3RhbEJsb2Nrcz10aGlzLmJsb2Nrcy5sZW5ndGgsdGhpcy5jdXJyZW50QmxvY2s9MCx0aGlzLmluZGVudExldmVsPTAsdGhpcy53cmFwcGVyVGFnPW51bGw7dGhpcy5jdXJyZW50QmxvY2s8dGhpcy50b3RhbEJsb2NrczspdGhpcy5wcm9jZXNzQmxvY2soKTtyZXR1cm4gdGhpcy5jbG9zZVdyYXBwZXJUYWcoKSx0aGlzLm91dHB1dC5qb2luKFwiXCIpLnRyaW0oKX19LHtrZXk6XCJwcm9jZXNzQmxvY2tcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucyxlPXQuYmxvY2tSZW5kZXJlcnMsbj10LmRlZmF1bHRCbG9ja1RhZyxyPXRoaXMuYmxvY2tzW3RoaXMuY3VycmVudEJsb2NrXSxpPXIuZ2V0VHlwZSgpLG89YShpKTt0aGlzLndyYXBwZXJUYWchPT1vJiYodGhpcy53cmFwcGVyVGFnJiZ0aGlzLmNsb3NlV3JhcHBlclRhZygpLG8mJnRoaXMub3BlbldyYXBwZXJUYWcobykpLHRoaXMuaW5kZW50KCk7dmFyIHU9bnVsbCE9ZSYmZS5oYXNPd25Qcm9wZXJ0eShpKT9lW2ldOm51bGwscz11P3Uocik6bnVsbDtpZihudWxsIT1zKXJldHVybiB0aGlzLm91dHB1dC5wdXNoKHMpLHRoaXMub3V0cHV0LnB1c2goXCJcXG5cIiksdm9pZCh0aGlzLmN1cnJlbnRCbG9jays9MSk7dGhpcy53cml0ZVN0YXJ0VGFnKHIsbiksdGhpcy5vdXRwdXQucHVzaCh0aGlzLnJlbmRlckJsb2NrQ29udGVudChyKSk7dmFyIGw9dGhpcy5nZXROZXh0QmxvY2soKTtpZihjKGkpJiZsJiZsLmdldERlcHRoKCk9PT1yLmdldERlcHRoKCkrMSl7dGhpcy5vdXRwdXQucHVzaChcIlxcblwiKTt2YXIgZj10aGlzLndyYXBwZXJUYWc7dGhpcy53cmFwcGVyVGFnPW51bGwsdGhpcy5pbmRlbnRMZXZlbCs9MSx0aGlzLmN1cnJlbnRCbG9jays9MSx0aGlzLnByb2Nlc3NCbG9ja3NBdERlcHRoKGwuZ2V0RGVwdGgoKSksdGhpcy53cmFwcGVyVGFnPWYsdGhpcy5pbmRlbnRMZXZlbC09MSx0aGlzLmluZGVudCgpfWVsc2UgdGhpcy5jdXJyZW50QmxvY2srPTE7dGhpcy53cml0ZUVuZFRhZyhyLG4pfX0se2tleTpcInByb2Nlc3NCbG9ja3NBdERlcHRoXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuYmxvY2tzW3RoaXMuY3VycmVudEJsb2NrXTtlJiZlLmdldERlcHRoKCk9PT10Oyl0aGlzLnByb2Nlc3NCbG9jaygpLGU9dGhpcy5ibG9ja3NbdGhpcy5jdXJyZW50QmxvY2tdO3RoaXMuY2xvc2VXcmFwcGVyVGFnKCl9fSx7a2V5OlwiZ2V0TmV4dEJsb2NrXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ibG9ja3NbdGhpcy5jdXJyZW50QmxvY2srMV19fSx7a2V5Olwid3JpdGVTdGFydFRhZ1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dSh0LmdldFR5cGUoKSxlKSxyPXZvaWQgMDtpZih0aGlzLm9wdGlvbnMuYmxvY2tTdHlsZUZuKXt2YXIgaT10aGlzLm9wdGlvbnMuYmxvY2tTdHlsZUZuKHQpfHx7fSxvPWkuYXR0cmlidXRlcyxhPWkuc3R5bGU7aWYobz0oMCx3LmRlZmF1bHQpKG8pLG51bGwhPWEpe3ZhciBjPSgwLEUuZGVmYXVsdCkoYSk7bz1udWxsPT1vP3tzdHlsZTpjfTpnKHt9LG8se3N0eWxlOmN9KX1yPXMobyl9ZWxzZSByPVwiXCI7dmFyIGw9ITAsZj0hMSxwPXZvaWQgMDt0cnl7Zm9yKHZhciBoLGQ9bltTeW1ib2wuaXRlcmF0b3JdKCk7IShsPShoPWQubmV4dCgpKS5kb25lKTtsPSEwKXt2YXIgeT1oLnZhbHVlO3RoaXMub3V0cHV0LnB1c2goXCI8XCIreStyK1wiPlwiKX19Y2F0Y2godCl7Zj0hMCxwPXR9ZmluYWxseXt0cnl7IWwmJmQucmV0dXJuJiZkLnJldHVybigpfWZpbmFsbHl7aWYoZil0aHJvdyBwfX19fSx7a2V5Olwid3JpdGVFbmRUYWdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXUodC5nZXRUeXBlKCksZSk7aWYoMT09PW4ubGVuZ3RoKXRoaXMub3V0cHV0LnB1c2goXCI8L1wiK25bMF0rXCI+XFxuXCIpO2Vsc2V7dmFyIHI9W10saT0hMCxvPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIHMsYz1uW1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KHM9Yy5uZXh0KCkpLmRvbmUpO2k9ITApe3ZhciBsPXMudmFsdWU7ci51bnNoaWZ0KFwiPC9cIitsK1wiPlwiKX19Y2F0Y2godCl7bz0hMCxhPXR9ZmluYWxseXt0cnl7IWkmJmMucmV0dXJuJiZjLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBhfX10aGlzLm91dHB1dC5wdXNoKHIuam9pbihcIlwiKStcIlxcblwiKX19fSx7a2V5Olwib3BlbldyYXBwZXJUYWdcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLndyYXBwZXJUYWc9dCx0aGlzLmluZGVudCgpLHRoaXMub3V0cHV0LnB1c2goXCI8XCIrdCtcIj5cXG5cIiksdGhpcy5pbmRlbnRMZXZlbCs9MX19LHtrZXk6XCJjbG9zZVdyYXBwZXJUYWdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMud3JhcHBlclRhZzt0JiYodGhpcy5pbmRlbnRMZXZlbC09MSx0aGlzLmluZGVudCgpLHRoaXMub3V0cHV0LnB1c2goXCI8L1wiK3QrXCI+XFxuXCIpLHRoaXMud3JhcHBlclRhZz1udWxsKX19LHtrZXk6XCJpbmRlbnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMub3V0cHV0LnB1c2goTy5yZXBlYXQodGhpcy5pbmRlbnRMZXZlbCkpfX0se2tleTpcInJlbmRlckJsb2NrQ29udGVudFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LmdldFR5cGUoKSxyPXQuZ2V0VGV4dCgpO2lmKFwiXCI9PT1yKXJldHVybiBOO3I9dGhpcy5wcmVzZXJ2ZVdoaXRlc3BhY2Uocik7dmFyIGk9dC5nZXRDaGFyYWN0ZXJMaXN0KCk7cmV0dXJuKDAseC5nZXRFbnRpdHlSYW5nZXMpKHIsaSkubWFwKGZ1bmN0aW9uKHQpe3ZhciByPXYodCwyKSxpPXJbMF0sbz1yWzFdLHU9by5tYXAoZnVuY3Rpb24odCl7dmFyIHI9dih0LDIpLGk9clswXSxvPXJbMV0sdT1sKGkpLGE9ITAsYz0hMSxmPXZvaWQgMDt0cnl7Zm9yKHZhciBwLGg9ZS5zdHlsZU9yZGVyW1N5bWJvbC5pdGVyYXRvcl0oKTshKGE9KHA9aC5uZXh0KCkpLmRvbmUpO2E9ITApe3ZhciBkPXAudmFsdWU7aWYoKGQhPT1rfHxuIT09eC5CTE9DS19UWVBFLkNPREUpJiZvLmhhcyhkKSl7dmFyIHk9ZS5pbmxpbmVTdHlsZXNbZF0sXz15LmVsZW1lbnQsbT15LmF0dHJpYnV0ZXMsUz15LnN0eWxlO2lmKG51bGw9PV8mJihfPVwic3BhblwiKSxtPSgwLHcuZGVmYXVsdCkobSksbnVsbCE9Uyl7dmFyIGI9KDAsRS5kZWZhdWx0KShTKTttPW51bGw9PW0/e3N0eWxlOmJ9Omcoe30sbSx7c3R5bGU6Yn0pfXU9XCI8XCIrXytzKG0pK1wiPlwiK3UrXCI8L1wiK18rXCI+XCJ9fX1jYXRjaCh0KXtjPSEwLGY9dH1maW5hbGx5e3RyeXshYSYmaC5yZXR1cm4mJmgucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGZ9fXJldHVybiB1fSkuam9pbihcIlwiKSxhPWk/ZS5jb250ZW50U3RhdGUuZ2V0RW50aXR5KGkpOm51bGwsYz1udWxsPT1hP251bGw6YS5nZXRUeXBlKCkudG9VcHBlckNhc2UoKSxmPXZvaWQgMDtpZihudWxsIT1hJiZlLm9wdGlvbnMuZW50aXR5U3R5bGVGbiYmKGY9ZS5vcHRpb25zLmVudGl0eVN0eWxlRm4oYSkpKXt2YXIgcD1mLGg9cC5lbGVtZW50LGQ9cC5hdHRyaWJ1dGVzLHk9cC5zdHlsZTtpZihudWxsPT1oJiYoaD1cInNwYW5cIiksZD0oMCx3LmRlZmF1bHQpKGQpLG51bGwhPXkpe3ZhciBfPSgwLEUuZGVmYXVsdCkoeSk7ZD1udWxsPT1kP3tzdHlsZTpffTpnKHt9LGQse3N0eWxlOl99KX1yZXR1cm5cIjxcIitoK3MoZCkrXCI+XCIrdStcIjwvXCIraCtcIj5cIn1yZXR1cm4gbnVsbCE9YyYmYz09PXguRU5USVRZX1RZUEUuTElOSz9cIjxhXCIrcyhCLmhhc093blByb3BlcnR5KGMpP0JbY10oYyxhKTpudWxsKStcIj5cIit1K1wiPC9hPlwiOm51bGwhPWMmJmM9PT14LkVOVElUWV9UWVBFLklNQUdFP1wiPGltZ1wiK3MoQi5oYXNPd25Qcm9wZXJ0eShjKT9CW2NdKGMsYSk6bnVsbCkrXCIvPlwiOnV9KS5qb2luKFwiXCIpfX0se2tleTpcInByZXNlcnZlV2hpdGVzcGFjZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxuPW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKylcIiBcIiE9PXRbcl18fDAhPT1yJiZyIT09ZS0xJiZcIiBcIiE9PXRbci0xXT9uW3JdPXRbcl06bltyXT1cIsKgXCI7cmV0dXJuIG4uam9pbihcIlwiKX19XSksdH0oKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBlPTAsbj1BcnJheSh0Lmxlbmd0aCk7ZTx0Lmxlbmd0aDtlKyspbltlXT10W2VdO3JldHVybiBufXJldHVybiBBcnJheS5mcm9tKHQpfWZ1bmN0aW9uIGkodCxlKXtpZihudWxsPT10KXJldHVybiBlO3ZhciBuPXUoZSwyKSxpPW5bMF0sYT1uWzFdLHM9byh7fSxpKSxjPVtdLmNvbmNhdChyKGEpKSxsPSEwLGY9ITEscD12b2lkIDA7dHJ5e2Zvcih2YXIgaCxkPU9iamVjdC5rZXlzKHQpW1N5bWJvbC5pdGVyYXRvcl0oKTshKGw9KGg9ZC5uZXh0KCkpLmRvbmUpO2w9ITApe3ZhciB5PWgudmFsdWU7aWYoaS5oYXNPd25Qcm9wZXJ0eSh5KSl7dmFyIGc9aVt5XTtzW3ldPW8oe30sZyx0W3ldKX1lbHNlIHNbeV09dFt5XSxjLnB1c2goeSl9fWNhdGNoKHQpe2Y9ITAscD10fWZpbmFsbHl7dHJ5eyFsJiZkLnJldHVybiYmZC5yZXR1cm4oKX1maW5hbGx5e2lmKGYpdGhyb3cgcH19cmV0dXJuW3MsY119T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYodFtyXT1uW3JdKX1yZXR1cm4gdH0sdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgbj1bXSxyPSEwLGk9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgdSxhPXRbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0odT1hLm5leHQoKSkuZG9uZSkmJihuLnB1c2godS52YWx1ZSksIWV8fG4ubGVuZ3RoIT09ZSk7cj0hMCk7fWNhdGNoKHQpe2k9ITAsbz10fWZpbmFsbHl7dHJ5eyFyJiZhLnJldHVybiYmYS5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgb319cmV0dXJuIG59cmV0dXJuIGZ1bmN0aW9uKGUsbil7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZTtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpKXJldHVybiB0KGUsbik7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIil9fSgpO2UuZGVmYXVsdD1pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtpZihudWxsPT10KXJldHVybiB0O3ZhciBlPXt9LG49ITEscj0hMCxvPSExLHU9dm9pZCAwO3RyeXtmb3IodmFyIGEscz1PYmplY3Qua2V5cyh0KVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShhPXMubmV4dCgpKS5kb25lKTtyPSEwKXt2YXIgYz1hLnZhbHVlLGw9YztpLmhhc093blByb3BlcnR5KGMpJiYobD1pW2NdLG49ITApLGVbbF09dFtjXX19Y2F0Y2godCl7bz0hMCx1PXR9ZmluYWxseXt0cnl7IXImJnMucmV0dXJuJiZzLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyB1fX1yZXR1cm4gbj9lOnR9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9e2FjY2VwdENoYXJzZXQ6XCJhY2NlcHQtY2hhcnNldFwiLGNsYXNzTmFtZTpcImNsYXNzXCIsaHRtbEZvcjpcImZvclwiLGh0dHBFcXVpdjpcImh0dHAtZXF1aXZcIn07ZS5kZWZhdWx0PXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0LnJlcGxhY2UocyxcIi0kMVwiKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UodSxcIi0kMS1cIil9ZnVuY3Rpb24gaSh0LGUpe3ZhciBuPXZvaWQgMDtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9uPWEudGVzdChlKToobj0hMCxlPVN0cmluZyhlKSksbiYmXCIwXCIhPT1lJiYhMCE9PWNbdF0/ZStcInB4XCI6ZX1mdW5jdGlvbiBvKHQpe3JldHVybiBPYmplY3Qua2V5cyh0KS5tYXAoZnVuY3Rpb24oZSl7dmFyIG49aShlLHRbZV0pO3JldHVybiByKGUpK1wiOiBcIitufSkuam9pbihcIjsgXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB1PS9eKG1venxtc3xvfHdlYmtpdCktLyxhPS9eXFxkKyQvLHM9LyhbQS1aXSkvZyxjPXthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxib3JkZXJJbWFnZU91dHNldDohMCxib3JkZXJJbWFnZVNsaWNlOiEwLGJvcmRlckltYWdlV2lkdGg6ITAsYm94RmxleDohMCxib3hGbGV4R3JvdXA6ITAsYm94T3JkaW5hbEdyb3VwOiEwLGNvbHVtbkNvdW50OiEwLGZsZXg6ITAsZmxleEdyb3c6ITAsZmxleFBvc2l0aXZlOiEwLGZsZXhTaHJpbms6ITAsZmxleE5lZ2F0aXZlOiEwLGZsZXhPcmRlcjohMCxncmlkUm93OiEwLGdyaWRSb3dFbmQ6ITAsZ3JpZFJvd1NwYW46ITAsZ3JpZFJvd1N0YXJ0OiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3BhbjohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZm9udFdlaWdodDohMCxsaW5lQ2xhbXA6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsdGFiU2l6ZTohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITAsZmlsbE9wYWNpdHk6ITAsZmxvb2RPcGFjaXR5OiEwLHN0b3BPcGFjaXR5OiEwLHN0cm9rZURhc2hhcnJheTohMCxzdHJva2VEYXNob2Zmc2V0OiEwLHN0cm9rZU1pdGVybGltaXQ6ITAsc3Ryb2tlT3BhY2l0eTohMCxzdHJva2VXaWR0aDohMH07ZS5kZWZhdWx0PW99LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1uKDMyNSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJzdGF0ZUZyb21IVE1MXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIoaSkuZGVmYXVsdH19KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXt2YXIgbj17fTtmb3IodmFyIHIgaW4gdCllLmluZGV4T2Yocik+PTB8fE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYobltyXT10W3JdKTtyZXR1cm4gbn1mdW5jdGlvbiBpKHQsZSl7dmFyIG49ZXx8e30saT1uLnBhcnNlcix1PXIobixbXCJwYXJzZXJcIl0pO251bGw9PWkmJihpPWEuZGVmYXVsdCk7dmFyIHM9aSh0KTtyZXR1cm4oMCxvLnN0YXRlRnJvbUVsZW1lbnQpKHMsdSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5kZWZhdWx0PWk7dmFyIG89bigxNDMpLHU9bigzMzApLGE9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fSh1KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGkodCxlKXtyZXR1cm5cIlxcblwiPT09dC5jaGFyQXQoMCkmJih0PXQuc2xpY2UoMSksZT1lLnNsaWNlKDEpKSx7dGV4dDp0LGNoYXJhY3Rlck1ldGE6ZX19ZnVuY3Rpb24gbyh0LGUpe2Zvcig7XCIgXCI9PT10LmNoYXJBdCgwKTspdD10LnNsaWNlKDEpLGU9ZS5zbGljZSgxKTtyZXR1cm57dGV4dDp0LGNoYXJhY3Rlck1ldGE6ZX19ZnVuY3Rpb24gdSh0LGUpe2Zvcig7XCIgXCI9PT10LnNsaWNlKC0xKTspdD10LnNsaWNlKDAsLTEpLGU9ZS5zbGljZSgwLC0xKTtyZXR1cm57dGV4dDp0LGNoYXJhY3Rlck1ldGE6ZX19ZnVuY3Rpb24gYSh0LGUpe3Q9dC5yZXBsYWNlKC9bIFxcdFxcbl0vZyxcIiBcIik7dmFyIG49byh0LGUpO3Q9bi50ZXh0LGU9bi5jaGFyYWN0ZXJNZXRhO3ZhciByPXUodCxlKTt0PXIudGV4dCxlPXIuY2hhcmFjdGVyTWV0YTtmb3IodmFyIGk9dC5sZW5ndGg7aS0tOylcIiBcIj09PXQuY2hhckF0KGkpJiZcIiBcIj09PXQuY2hhckF0KGktMSkmJih0PXQuc2xpY2UoMCxpKSt0LnNsaWNlKGkrMSksZT1lLnNsaWNlKDAsaSkuY29uY2F0KGUuc2xpY2UoaSsxKSkpO3ZhciBhPSgwLHkuZGVmYXVsdCkoe3RleHQ6dCxjaGFyYWN0ZXJNZXRhOmV9LEUrXCIgXCIsRSk7dD1hLnRleHQsZT1hLmNoYXJhY3Rlck1ldGE7dmFyIHM9KDAseS5kZWZhdWx0KSh7dGV4dDp0LGNoYXJhY3Rlck1ldGE6ZX0sXCIgXCIrRSxFKTtyZXR1cm4gdD1zLnRleHQsZT1zLmNoYXJhY3Rlck1ldGEse3RleHQ6dCxjaGFyYWN0ZXJNZXRhOmV9fWZ1bmN0aW9uIHModCl7c3dpdGNoKHQpe2Nhc2UgXy5CTE9DS19UWVBFLlVOT1JERVJFRF9MSVNUX0lURU06Y2FzZSBfLkJMT0NLX1RZUEUuT1JERVJFRF9MSVNUX0lURU06cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gYyh0KXt2YXIgZT1cIlwiLG49KDAsdi5TZXEpKCk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtlKz10LnRleHQsbj1uLmNvbmNhdCh0LmNoYXJhY3Rlck1ldGEpfSkse3RleHQ6ZSxjaGFyYWN0ZXJNZXRhOm59fWZ1bmN0aW9uIGwodCxlLG4pe3N3aXRjaChlKXtjYXNlXCJiXCI6Y2FzZVwic3Ryb25nXCI6cmV0dXJuIHQuYWRkKF8uSU5MSU5FX1NUWUxFLkJPTEQpO2Nhc2VcImlcIjpjYXNlXCJlbVwiOnJldHVybiB0LmFkZChfLklOTElORV9TVFlMRS5JVEFMSUMpO2Nhc2VcInVcIjpjYXNlXCJpbnNcIjpyZXR1cm4gdC5hZGQoXy5JTkxJTkVfU1RZTEUuVU5ERVJMSU5FKTtjYXNlXCJjb2RlXCI6cmV0dXJuIHQuYWRkKF8uSU5MSU5FX1NUWUxFLkNPREUpO2Nhc2VcInNcIjpjYXNlXCJkZWxcIjpyZXR1cm4gdC5hZGQoXy5JTkxJTkVfU1RZTEUuU1RSSUtFVEhST1VHSCk7ZGVmYXVsdDpyZXR1cm4gbiYmbltlXT90LmFkZChuW2VdKTp0fX1mdW5jdGlvbiBmKHQpe3JldHVybiB0IT09Xy5CTE9DS19UWVBFLlVOU1RZTEVEfWZ1bmN0aW9uIHAodCxlKXtyZXR1cm4gbmV3IFQoZSkucHJvY2Vzcyh0KX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fXJldHVybiBmdW5jdGlvbihlLG4scil7cmV0dXJuIG4mJnQoZS5wcm90b3R5cGUsbiksciYmdChlLHIpLGV9fSgpO2Uuc3RhdGVGcm9tRWxlbWVudD1wO3ZhciBkPW4oMzI3KSx5PWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0oZCksZz1uKDEyKSx2PW4oOTMpLF89bigzMiksbT1uKDE0NCksUz1uKDMyOSksYj0oMCx2Lk9yZGVyZWRTZXQpKCksdz1uZXcgZy5Db250ZW50QmxvY2soe2tleTooMCxnLmdlbktleSkoKSx0ZXh0OlwiXCIsdHlwZTpfLkJMT0NLX1RZUEUuVU5TVFlMRUQsY2hhcmFjdGVyTGlzdDooMCx2Lkxpc3QpKCksZGVwdGg6MH0pLE09LyhcXHJcXG58XFxyfFxcbikvZyxFPVwiXFxyXCIseD0vXmRhdGEtKFthLXowLTktXSspJC8sST17YTp7aHJlZjpcInVybFwiLHJlbDpcInJlbFwiLHRhcmdldDpcInRhcmdldFwiLHRpdGxlOlwidGl0bGVcIn0saW1nOntzcmM6XCJzcmNcIixhbHQ6XCJhbHRcIn19LGs9ZnVuY3Rpb24odCxlKXt2YXIgbj17fTtpZihJLmhhc093blByb3BlcnR5KHQpKWZvcih2YXIgcj1JW3RdLGk9MDtpPGUuYXR0cmlidXRlcy5sZW5ndGg7aSsrKXt2YXIgbz1lLmF0dHJpYnV0ZXNbaV0sdT1vLm5hbWUsYT1vLnZhbHVlO2lmKG51bGwhPWEpaWYoci5oYXNPd25Qcm9wZXJ0eSh1KSl7dmFyIHM9clt1XTtuW3NdPWF9ZWxzZSB4LnRlc3QodSkmJihuW3VdPWEpfXJldHVybiBufSxMPXthOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1rKGUsbik7aWYobnVsbCE9ci51cmwpcmV0dXJuIHQuY3JlYXRlRW50aXR5KF8uRU5USVRZX1RZUEUuTElOSyxyKX0saW1nOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1rKGUsbik7aWYobnVsbCE9ci5zcmMpcmV0dXJuIHQuY3JlYXRlRW50aXR5KF8uRU5USVRZX1RZUEUuSU1BR0Uscil9fSxUPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cih0aGlzLHQpLHRoaXMuaW5saW5lQ3JlYXRvcnM9e1N0eWxlOmZ1bmN0aW9uKHQpe3JldHVybnt0eXBlOlwiU1RZTEVcIixzdHlsZTp0fX0sRW50aXR5OmZ1bmN0aW9uKHQsbil7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOlwiTVVUQUJMRVwiO3JldHVybnt0eXBlOlwiRU5USVRZXCIsZW50aXR5S2V5OmUuY3JlYXRlRW50aXR5KHQsbixyKX19fSx0aGlzLm9wdGlvbnM9bix0aGlzLmNvbnRlbnRTdGF0ZUZvckVudGl0aWVzPWcuQ29udGVudFN0YXRlLmNyZWF0ZUZyb21CbG9ja0FycmF5KFtdKSx0aGlzLmJsb2NrU3RhY2s9W10sdGhpcy5ibG9ja0xpc3Q9W10sdGhpcy5kZXB0aD0wfXJldHVybiBoKHQsW3trZXk6XCJwcm9jZXNzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5wcm9jZXNzQmxvY2tFbGVtZW50KHQpO3ZhciBlPVtdO3JldHVybiB0aGlzLmJsb2NrTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPWModC50ZXh0RnJhZ21lbnRzKSxyPW4udGV4dCxvPW4uY2hhcmFjdGVyTWV0YSx1PSExO2lmKHI9PT1FJiYodT0hMCxyPVwiXCIpLFwicHJlXCI9PT10LnRhZ05hbWUpe3ZhciBzPWkocixvKTtyPXMudGV4dCxvPXMuY2hhcmFjdGVyTWV0YX1lbHNle3ZhciBsPWEocixvKTtyPWwudGV4dCxvPWwuY2hhcmFjdGVyTWV0YX1yPXIuc3BsaXQoRSkuam9pbihcIlxcblwiKSwoci5sZW5ndGh8fHUpJiZlLnB1c2gobmV3IGcuQ29udGVudEJsb2NrKHtrZXk6KDAsZy5nZW5LZXkpKCksdGV4dDpyLHR5cGU6dC50eXBlLGNoYXJhY3Rlckxpc3Q6by50b0xpc3QoKSxkZXB0aDp0LmRlcHRoLGRhdGE6dC5kYXRhPygwLHYuTWFwKSh0LmRhdGEpOigwLHYuTWFwKSgpfSkpfSksZS5sZW5ndGh8fChlPVt3XSksZy5Db250ZW50U3RhdGUuY3JlYXRlRnJvbUJsb2NrQXJyYXkoZSx0aGlzLmNvbnRlbnRTdGF0ZUZvckVudGl0aWVzLmdldEVudGl0eU1hcCgpKX19LHtrZXk6XCJnZXRCbG9ja1R5cGVGcm9tVGFnTmFtZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucy5ibG9ja1R5cGVzO2lmKGUmJmVbdF0pcmV0dXJuIGVbdF07c3dpdGNoKHQpe2Nhc2VcImxpXCI6cmV0dXJuXCJvbFwiPT09dGhpcy5ibG9ja1N0YWNrLnNsaWNlKC0xKVswXS50YWdOYW1lP18uQkxPQ0tfVFlQRS5PUkRFUkVEX0xJU1RfSVRFTTpfLkJMT0NLX1RZUEUuVU5PUkRFUkVEX0xJU1RfSVRFTTtjYXNlXCJibG9ja3F1b3RlXCI6cmV0dXJuIF8uQkxPQ0tfVFlQRS5CTE9DS1FVT1RFO2Nhc2VcImgxXCI6cmV0dXJuIF8uQkxPQ0tfVFlQRS5IRUFERVJfT05FO2Nhc2VcImgyXCI6cmV0dXJuIF8uQkxPQ0tfVFlQRS5IRUFERVJfVFdPO2Nhc2VcImgzXCI6cmV0dXJuIF8uQkxPQ0tfVFlQRS5IRUFERVJfVEhSRUU7Y2FzZVwiaDRcIjpyZXR1cm4gXy5CTE9DS19UWVBFLkhFQURFUl9GT1VSO2Nhc2VcImg1XCI6cmV0dXJuIF8uQkxPQ0tfVFlQRS5IRUFERVJfRklWRTtjYXNlXCJoNlwiOnJldHVybiBfLkJMT0NLX1RZUEUuSEVBREVSX1NJWDtjYXNlXCJwcmVcIjpyZXR1cm4gXy5CTE9DS19UWVBFLkNPREU7Y2FzZVwiZmlndXJlXCI6cmV0dXJuIF8uQkxPQ0tfVFlQRS5BVE9NSUM7ZGVmYXVsdDpyZXR1cm4gXy5CTE9DS19UWVBFLlVOU1RZTEVEfX19LHtrZXk6XCJwcm9jZXNzQmxvY2tFbGVtZW50XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9dGhpcy5vcHRpb25zLmN1c3RvbUJsb2NrRm4sbj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkscj12b2lkIDAsaT12b2lkIDA7aWYoZSl7dmFyIG89ZSh0KTtudWxsIT1vJiYocj1vLnR5cGUsaT1vLmRhdGEpfXZhciB1PSEwO251bGw9PXImJih1PSExLHI9dGhpcy5nZXRCbG9ja1R5cGVGcm9tVGFnTmFtZShuKSk7dmFyIGE9cyhyKSxjPSFTLlNQRUNJQUxfRUxFTUVOVFMuaGFzT3duUHJvcGVydHkobik7aWYoIXUmJiFmKHIpKXt2YXIgbD10aGlzLmJsb2NrU3RhY2suc2xpY2UoLTEpWzBdO2wmJihyPWwudHlwZSl9dmFyIHA9e3RhZ05hbWU6bix0ZXh0RnJhZ21lbnRzOltdLHR5cGU6cixzdHlsZVN0YWNrOltiXSxlbnRpdHlTdGFjazpbbnVsbF0sZGVwdGg6YT90aGlzLmRlcHRoOjAsZGF0YTppfTtjJiYodGhpcy5ibG9ja0xpc3QucHVzaChwKSxhJiYodGhpcy5kZXB0aCs9MSkpLHRoaXMuYmxvY2tTdGFjay5wdXNoKHApLG51bGwhPXQuY2hpbGROb2RlcyYmQXJyYXkuZnJvbSh0LmNoaWxkTm9kZXMpLmZvckVhY2godGhpcy5wcm9jZXNzTm9kZSx0aGlzKSx0aGlzLmJsb2NrU3RhY2sucG9wKCksYyYmYSYmKHRoaXMuZGVwdGgtPTEpfX19LHtrZXk6XCJwcm9jZXNzSW5saW5lRWxlbWVudFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihcImJyXCI9PT1lKXJldHVybiB2b2lkIHRoaXMucHJvY2Vzc1RleHQoRSk7dmFyIG49dGhpcy5ibG9ja1N0YWNrLnNsaWNlKC0xKVswXSxyPW4uc3R5bGVTdGFjay5zbGljZSgtMSlbMF0saT1uLmVudGl0eVN0YWNrLnNsaWNlKC0xKVswXSxvPXRoaXMub3B0aW9ucy5jdXN0b21JbmxpbmVGbix1PW8/byh0LHRoaXMuaW5saW5lQ3JlYXRvcnMpOm51bGw7aWYobnVsbCE9dSlzd2l0Y2godS50eXBlKXtjYXNlXCJTVFlMRVwiOnI9ci5hZGQodS5zdHlsZSk7YnJlYWs7Y2FzZVwiRU5USVRZXCI6aT11LmVudGl0eUtleX1lbHNlIHI9bChyLGUsdGhpcy5vcHRpb25zLmVsZW1lbnRTdHlsZXMpLEwuaGFzT3duUHJvcGVydHkoZSkmJihpPUxbZV0odGhpcyxlLHQpfHxpKTtuLnN0eWxlU3RhY2sucHVzaChyKSxuLmVudGl0eVN0YWNrLnB1c2goaSksbnVsbCE9dC5jaGlsZE5vZGVzJiZBcnJheS5mcm9tKHQuY2hpbGROb2RlcykuZm9yRWFjaCh0aGlzLnByb2Nlc3NOb2RlLHRoaXMpLFMuU0VMRl9DTE9TSU5HX0VMRU1FTlRTLmhhc093blByb3BlcnR5KGUpJiZ0aGlzLnByb2Nlc3NUZXh0KFwiwqBcIiksbi5lbnRpdHlTdGFjay5wb3AoKSxuLnN0eWxlU3RhY2sucG9wKCl9fSx7a2V5OlwicHJvY2Vzc1RleHROb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5ub2RlVmFsdWU7ZT1lLnJlcGxhY2UoTSxcIlxcblwiKSxlPWUuc3BsaXQoXCLigItcIikuam9pbihFKSx0aGlzLnByb2Nlc3NUZXh0KGUpfX0se2tleTpcInByb2Nlc3NUZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ibG9ja1N0YWNrLnNsaWNlKC0xKVswXSxuPWUuc3R5bGVTdGFjay5zbGljZSgtMSlbMF0scj1lLmVudGl0eVN0YWNrLnNsaWNlKC0xKVswXSxpPWcuQ2hhcmFjdGVyTWV0YWRhdGEuY3JlYXRlKHtzdHlsZTpuLGVudGl0eTpyfSksbz0oMCx2LlJlcGVhdCkoaSx0Lmxlbmd0aCk7ZS50ZXh0RnJhZ21lbnRzLnB1c2goe3RleHQ6dCxjaGFyYWN0ZXJNZXRhOm99KX19LHtrZXk6XCJwcm9jZXNzTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHQubm9kZVR5cGU9PT1tLk5PREVfVFlQRV9FTEVNRU5UKXt2YXIgZT10LG49ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1MuSU5MSU5FX0VMRU1FTlRTLmhhc093blByb3BlcnR5KG4pP3RoaXMucHJvY2Vzc0lubGluZUVsZW1lbnQoZSk6dGhpcy5wcm9jZXNzQmxvY2tFbGVtZW50KGUpfWVsc2UgdC5ub2RlVHlwZT09PW0uTk9ERV9UWVBFX1RFWFQmJnRoaXMucHJvY2Vzc1RleHROb2RlKHQpfX0se2tleTpcImNyZWF0ZUVudGl0eVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOlwiTVVUQUJMRVwiO3JldHVybiB0aGlzLmNvbnRlbnRTdGF0ZUZvckVudGl0aWVzPXRoaXMuY29udGVudFN0YXRlRm9yRW50aXRpZXMuY3JlYXRlRW50aXR5KHQsbixlKSx0aGlzLmNvbnRlbnRTdGF0ZUZvckVudGl0aWVzLmdldExhc3RDcmVhdGVkRW50aXR5S2V5KCl9fV0pLHR9KCk7ZS5kZWZhdWx0PXB9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSxuKXtmb3IodmFyIHI9dC50ZXh0LG89dC5jaGFyYWN0ZXJNZXRhLHU9ZS5sZW5ndGgsYT1uLmxlbmd0aCxzPVtdLGM9by5zbGljZSgwLDApLGw9MCxmPXIuaW5kZXhPZihlKTstMSE9PWY7KXMucHVzaChyLnNsaWNlKGwsZikrbiksYz1jLmNvbmNhdChvLnNsaWNlKGwsZiksaShvLnNsaWNlKGYsZisxKSxhKSksbD1mK3UsZj1yLmluZGV4T2YoZSxsKTtyZXR1cm4gcy5wdXNoKHIuc2xpY2UobCkpLGM9Yy5jb25jYXQoby5zbGljZShsKSkse3RleHQ6cy5qb2luKFwiXCIpLGNoYXJhY3Rlck1ldGE6Y319ZnVuY3Rpb24gaSh0LGUpe2Zvcih2YXIgbj10LnNsaWNlKDAsMCk7ZS0tID4wOyluPW4uY29uY2F0KHQpO3JldHVybiBufU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPUFycmF5KHQubGVuZ3RoKTtlPHQubGVuZ3RoO2UrKyluW2VdPXRbZV07cmV0dXJuIG59cmV0dXJuIEFycmF5LmZyb20odCl9ZnVuY3Rpb24gaSh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfWZ1bmN0aW9uIG8odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1mdW5jdGlvbiB1KHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBhKHQpe3JldHVybiB0LnJlcGxhY2UoLyYvZyxcIiZhbXA7XCIpLnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvPi9nLFwiJmd0O1wiKX1mdW5jdGlvbiBzKHQpe3JldHVybiB0LnJlcGxhY2UoLyYvZyxcIiZhbXA7XCIpLnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvPi9nLFwiJmd0O1wiKS5yZXBsYWNlKC9cIi9nLFwiJnF1b3Q7XCIpLnJlcGxhY2UoLycvZyxcIiYjMzk7XCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX19KCksbD1bXSxmPWUuTk9ERV9UWVBFX0VMRU1FTlQ9MSxwPWUuTk9ERV9UWVBFX1RFWFQ9MyxoPWUuTk9ERV9UWVBFX0ZSQUdNRU5UPTExLGQ9ZS5TRUxGX0NMT1NJTkc9e2FyZWE6ITAsYmFzZTohMCxicjohMCxjb2w6ITAsZW1iZWQ6ITAsaHI6ITAsaW1nOiEwLGlucHV0OiEwLGtleWdlbjohMCxsaW5rOiEwLG1ldGE6ITAscGFyYW06ITAsc291cmNlOiEwLHRyYWNrOiEwLHdicjohMH0seT1lLk5vZGU9ZnVuY3Rpb24gdCgpe3UodGhpcyx0KX07ZS5UZXh0Tm9kZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3UodGhpcyxlKTt2YXIgbj1pKHRoaXMsKGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSk7cmV0dXJuIG4ubm9kZVR5cGU9cCxuLm5vZGVOYW1lPVwiI3RleHRcIixuLm5vZGVWYWx1ZT10LG59cmV0dXJuIG8oZSx0KSxjKGUsW3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcy5ub2RlVmFsdWUpfX1dKSxlfSh5KSxlLkVsZW1lbnROb2RlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxuLHIpe3UodGhpcyxlKTt2YXIgbz1pKHRoaXMsKGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSk7bnVsbD09biYmKG49bCk7dmFyIGE9ITA9PT1kW3RdO3JldHVybiBvLm5vZGVUeXBlPWYsby5fbmFtZT10LnRvTG93ZXJDYXNlKCksby5hdHRyaWJ1dGVzPW4sby5fYXR0ck1hcD1uZXcgTWFwKG4ubWFwKGZ1bmN0aW9uKHQpe3JldHVyblt0Lm5hbWUsdF19KSksby5ub2RlTmFtZT10LnRvVXBwZXJDYXNlKCksby5jaGlsZE5vZGVzPVtdLG8uX2lzU2VsZkNsb3Npbmc9YSwhYSYmciYmci5mb3JFYWNoKG8uYXBwZW5kQ2hpbGQsbyksb31yZXR1cm4gbyhlLHQpLGMoZSxbe2tleTpcImFwcGVuZENoaWxkXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodC5ub2RlVHlwZT09PWgpe2lmKG51bGwhPXQuY2hpbGROb2Rlcyl7dmFyIGUsbj10LmNoaWxkTm9kZXM7KGU9dGhpcy5jaGlsZE5vZGVzKS5wdXNoLmFwcGx5KGUscihuKSl9fWVsc2UgdGhpcy5jaGlsZE5vZGVzLnB1c2godCl9fSx7a2V5OlwiZ2V0QXR0cmlidXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYXR0ck1hcC5nZXQodCk7aWYoZSlyZXR1cm4gZS52YWx1ZX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49ITAscj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHU9dGhpcy5hdHRyaWJ1dGVzW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KG89dS5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBhPW8udmFsdWUsYz1hLm5hbWUsbD1hLnZhbHVlO2UucHVzaChjKyhsPyc9XCInK3MobCkrJ1wiJzpcIlwiKSl9fWNhdGNoKHQpe3I9ITAsaT10fWZpbmFsbHl7dHJ5eyFuJiZ1LnJldHVybiYmdS5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgaX19dmFyIGY9ZS5sZW5ndGg/XCIgXCIrZS5qb2luKFwiIFwiKTpcIlwiO2lmKHRoaXMuX2lzU2VsZkNsb3NpbmcpcmV0dXJuXCI8XCIrdGhpcy5fbmFtZStmKyh0P1wiLz5cIjpcIj5cIik7dmFyIHA9dGhpcy5jaGlsZE5vZGVzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS50b1N0cmluZyh0KX0pLmpvaW4oXCJcIik7cmV0dXJuXCI8XCIrdGhpcy5fbmFtZStmK1wiPlwiK3ArXCI8L1wiK3RoaXMuX25hbWUrXCI+XCJ9fSx7a2V5OlwidGFnTmFtZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGVOYW1lfX0se2tleTpcImNsYXNzTmFtZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwifX1dKSxlfSh5KSxlLkZyYWdtZW50Tm9kZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3UodGhpcyxlKTt2YXIgbj1pKHRoaXMsKGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSk7cmV0dXJuIG4ubm9kZVR5cGU9aCxuLmNoaWxkTm9kZXM9W10sdCYmdC5mb3JFYWNoKG4uYXBwZW5kQ2hpbGQsbiksbn1yZXR1cm4gbyhlLHQpLGMoZSxbe2tleTpcImFwcGVuZENoaWxkXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodC5ub2RlVHlwZT09PWgpe2lmKG51bGwhPXQuY2hpbGROb2Rlcyl7dmFyIGUsbj10LmNoaWxkTm9kZXM7KGU9dGhpcy5jaGlsZE5vZGVzKS5wdXNoLmFwcGx5KGUscihuKSl9fWVsc2UgdGhpcy5jaGlsZE5vZGVzLnB1c2godCl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGlsZE5vZGVzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS50b1N0cmluZyh0KX0pLmpvaW4oXCJcIil9fV0pLGV9KHkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5JTkxJTkVfRUxFTUVOVFM9e2E6MSxhYmJyOjEsYXJlYToxLGF1ZGlvOjEsYjoxLGJkaToxLGJkbzoxLGJyOjEsYnV0dG9uOjEsY2FudmFzOjEsY2l0ZToxLGNvZGU6MSxjb21tYW5kOjEsZGF0YWxpc3Q6MSxkZWw6MSxkZm46MSxlbToxLGVtYmVkOjEsaToxLGlmcmFtZToxLGltZzoxLGlucHV0OjEsaW5zOjEsa2JkOjEsa2V5Z2VuOjEsbGFiZWw6MSxtYXA6MSxtYXJrOjEsbWV0ZXI6MSxub3NjcmlwdDoxLG9iamVjdDoxLG91dHB1dDoxLHByb2dyZXNzOjEscToxLHJ1Ynk6MSxzOjEsc2FtcDoxLHNjcmlwdDoxLHNlbGVjdDoxLHNtYWxsOjEsc3BhbjoxLHN0cm9uZzoxLHN1YjoxLHN1cDoxLHRleHRhcmVhOjEsdGltZToxLHU6MSx2YXI6MSx2aWRlbzoxLHdicjoxLGFjcm9ueW06MSxhcHBsZXQ6MSxiYXNlZm9udDoxLGJpZzoxLGZvbnQ6MSxpc2luZGV4OjEsc3RyaWtlOjEsc3R5bGU6MSx0dDoxfSxlLlNQRUNJQUxfRUxFTUVOVFM9e2FyZWE6MSxiYXNlOjEsYnI6MSxjb2w6MSxjb2xncm91cDoxLGNvbW1hbmQ6MSxkbDoxLGVtYmVkOjEsaGVhZDoxLGhncm91cDoxLGhyOjEsaWZyYW1lOjEsaW1nOjEsaW5wdXQ6MSxrZXlnZW46MSxsaW5rOjEsbWV0YToxLG9sOjEsb3B0Z3JvdXA6MSxvcHRpb246MSxwYXJhbToxLHNjcmlwdDoxLHNlbGVjdDoxLHNvdXJjZToxLHN0eWxlOjEsdGFibGU6MSx0Ym9keToxLHRleHRhcmVhOjEsdGZvb3Q6MSx0aGVhZDoxLHRpdGxlOjEsdHI6MSx0cmFjazoxLHVsOjEsd2JyOjEsYmFzZWZvbnQ6MSxkaWFsb2c6MSxkaXI6MSxpc2luZGV4OjF9LGUuU0VMRl9DTE9TSU5HX0VMRU1FTlRTPXtpbWc6MX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3ZhciBlPXZvaWQgMDtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgRE9NUGFyc2VyP2U9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyh0LFwidGV4dC9odG1sXCIpOihlPWRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcIlwiKSxlLmRvY3VtZW50RWxlbWVudCYmKGUuZG9jdW1lbnRFbGVtZW50LmlubmVySFRNTD10KSksZS5ib2R5fHxlLmNyZWF0ZUVsZW1lbnQoXCJib2R5XCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9bigzMzIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwic3RhdGVUb01hcmtkb3duXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIoaSkuZGVmYXVsdH19KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGkodCl7c3dpdGNoKHQpe2Nhc2UgZi5CTE9DS19UWVBFLlVOT1JERVJFRF9MSVNUX0lURU06Y2FzZSBmLkJMT0NLX1RZUEUuT1JERVJFRF9MSVNUX0lURU06cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdC5yZXBsYWNlKC9bKl9gXS9nLFwiXFxcXCQmXCIpfWZ1bmN0aW9uIHUodCl7cmV0dXJuIHQucmVwbGFjZSgvXFwpL2csXCIlMjlcIil9ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdC5yZXBsYWNlKC9cIi9nLCdcXFxcXCInKX1mdW5jdGlvbiBzKHQpe3JldHVybiBuZXcgdih0KS5nZW5lcmF0ZSgpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBuPVtdLHI9ITAsaT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciB1LGE9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPSh1PWEubmV4dCgpKS5kb25lKSYmKG4ucHVzaCh1LnZhbHVlKSwhZXx8bi5sZW5ndGghPT1lKTtyPSEwKTt9Y2F0Y2godCl7aT0hMCxvPXR9ZmluYWxseXt0cnl7IXImJmEucmV0dXJuJiZhLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBvfX1yZXR1cm4gbn1yZXR1cm4gZnVuY3Rpb24oZSxuKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlO2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSkpcmV0dXJuIHQoZSxuKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKX19KCksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fXJldHVybiBmdW5jdGlvbihlLG4scil7cmV0dXJuIG4mJnQoZS5wcm90b3R5cGUsbiksciYmdChlLHIpLGV9fSgpO2UuZGVmYXVsdD1zO3ZhciBmPW4oMzIpLHA9Zi5JTkxJTkVfU1RZTEUuQk9MRCxoPWYuSU5MSU5FX1NUWUxFLkNPREUsZD1mLklOTElORV9TVFlMRS5JVEFMSUMseT1mLklOTElORV9TVFlMRS5TVFJJS0VUSFJPVUdILGc9Zi5JTkxJTkVfU1RZTEUuVU5ERVJMSU5FLHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3IodGhpcyx0KSx0aGlzLmNvbnRlbnRTdGF0ZT1lfXJldHVybiBsKHQsW3trZXk6XCJnZW5lcmF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHRoaXMub3V0cHV0PVtdLHRoaXMuYmxvY2tzPXRoaXMuY29udGVudFN0YXRlLmdldEJsb2NrTWFwKCkudG9BcnJheSgpLHRoaXMudG90YWxCbG9ja3M9dGhpcy5ibG9ja3MubGVuZ3RoLHRoaXMuY3VycmVudEJsb2NrPTAsdGhpcy5saXN0SXRlbUNvdW50cz17fTt0aGlzLmN1cnJlbnRCbG9jazx0aGlzLnRvdGFsQmxvY2tzOyl0aGlzLnByb2Nlc3NCbG9jaygpO3JldHVybiB0aGlzLm91dHB1dC5qb2luKFwiXCIpfX0se2tleTpcInByb2Nlc3NCbG9ja1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ibG9ja3NbdGhpcy5jdXJyZW50QmxvY2tdLGU9dC5nZXRUeXBlKCk7c3dpdGNoKGUpe2Nhc2UgZi5CTE9DS19UWVBFLkhFQURFUl9PTkU6dGhpcy5pbnNlcnRMaW5lQnJlYWtzKDEpLHRoaXMub3V0cHV0LnB1c2goXCIjIFwiK3RoaXMucmVuZGVyQmxvY2tDb250ZW50KHQpK1wiXFxuXCIpO2JyZWFrO2Nhc2UgZi5CTE9DS19UWVBFLkhFQURFUl9UV086dGhpcy5pbnNlcnRMaW5lQnJlYWtzKDEpLHRoaXMub3V0cHV0LnB1c2goXCIjIyBcIit0aGlzLnJlbmRlckJsb2NrQ29udGVudCh0KStcIlxcblwiKTticmVhaztjYXNlIGYuQkxPQ0tfVFlQRS5IRUFERVJfVEhSRUU6dGhpcy5pbnNlcnRMaW5lQnJlYWtzKDEpLHRoaXMub3V0cHV0LnB1c2goXCIjIyMgXCIrdGhpcy5yZW5kZXJCbG9ja0NvbnRlbnQodCkrXCJcXG5cIik7YnJlYWs7Y2FzZSBmLkJMT0NLX1RZUEUuSEVBREVSX0ZPVVI6dGhpcy5pbnNlcnRMaW5lQnJlYWtzKDEpLHRoaXMub3V0cHV0LnB1c2goXCIjIyMjIFwiK3RoaXMucmVuZGVyQmxvY2tDb250ZW50KHQpK1wiXFxuXCIpO2JyZWFrO2Nhc2UgZi5CTE9DS19UWVBFLkhFQURFUl9GSVZFOnRoaXMuaW5zZXJ0TGluZUJyZWFrcygxKSx0aGlzLm91dHB1dC5wdXNoKFwiIyMjIyMgXCIrdGhpcy5yZW5kZXJCbG9ja0NvbnRlbnQodCkrXCJcXG5cIik7YnJlYWs7Y2FzZSBmLkJMT0NLX1RZUEUuSEVBREVSX1NJWDp0aGlzLmluc2VydExpbmVCcmVha3MoMSksdGhpcy5vdXRwdXQucHVzaChcIiMjIyMjIyBcIit0aGlzLnJlbmRlckJsb2NrQ29udGVudCh0KStcIlxcblwiKTticmVhaztjYXNlIGYuQkxPQ0tfVFlQRS5VTk9SREVSRURfTElTVF9JVEVNOnZhciBuPXQuZ2V0RGVwdGgoKSxyPXRoaXMuZ2V0TGFzdEJsb2NrKCksbz1yP3IuZ2V0VHlwZSgpOm51bGwsdT1yJiZpKG8pP3IuZ2V0RGVwdGgoKTpudWxsO28hPT1lJiZ1IT09bi0xJiYodGhpcy5pbnNlcnRMaW5lQnJlYWtzKDEpLG89PT1mLkJMT0NLX1RZUEUuT1JERVJFRF9MSVNUX0lURU0mJnRoaXMuaW5zZXJ0TGluZUJyZWFrcygxKSk7dmFyIGE9XCIgXCIucmVwZWF0KDQqdC5kZXB0aCk7dGhpcy5vdXRwdXQucHVzaChhK1wiLSBcIit0aGlzLnJlbmRlckJsb2NrQ29udGVudCh0KStcIlxcblwiKTticmVhaztjYXNlIGYuQkxPQ0tfVFlQRS5PUkRFUkVEX0xJU1RfSVRFTTp2YXIgcz10LmdldERlcHRoKCksYz10aGlzLmdldExhc3RCbG9jaygpLGw9Yz9jLmdldFR5cGUoKTpudWxsLHA9YyYmaShsKT9jLmdldERlcHRoKCk6bnVsbDtsIT09ZSYmcCE9PXMtMSYmKHRoaXMuaW5zZXJ0TGluZUJyZWFrcygxKSxsPT09Zi5CTE9DS19UWVBFLlVOT1JERVJFRF9MSVNUX0lURU0mJnRoaXMuaW5zZXJ0TGluZUJyZWFrcygxKSk7dmFyIGg9XCIgXCIucmVwZWF0KDQqcyksZD10aGlzLmdldExpc3RJdGVtQ291bnQodCklMTA7dGhpcy5vdXRwdXQucHVzaChoKyhkK1wiLiBcIikrdGhpcy5yZW5kZXJCbG9ja0NvbnRlbnQodCkrXCJcXG5cIik7YnJlYWs7Y2FzZSBmLkJMT0NLX1RZUEUuQkxPQ0tRVU9URTp0aGlzLmluc2VydExpbmVCcmVha3MoMSksdGhpcy5vdXRwdXQucHVzaChcIiA+IFwiK3RoaXMucmVuZGVyQmxvY2tDb250ZW50KHQpK1wiXFxuXCIpO2JyZWFrO2Nhc2UgZi5CTE9DS19UWVBFLkNPREU6dGhpcy5pbnNlcnRMaW5lQnJlYWtzKDEpLHRoaXMub3V0cHV0LnB1c2goXCIgICAgXCIrdGhpcy5yZW5kZXJCbG9ja0NvbnRlbnQodCkrXCJcXG5cIik7YnJlYWs7ZGVmYXVsdDp0aGlzLmluc2VydExpbmVCcmVha3MoMSksdGhpcy5vdXRwdXQucHVzaCh0aGlzLnJlbmRlckJsb2NrQ29udGVudCh0KStcIlxcblwiKX10aGlzLmN1cnJlbnRCbG9jays9MX19LHtrZXk6XCJnZXRMYXN0QmxvY2tcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJsb2Nrc1t0aGlzLmN1cnJlbnRCbG9jay0xXX19LHtrZXk6XCJnZXROZXh0QmxvY2tcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJsb2Nrc1t0aGlzLmN1cnJlbnRCbG9jaysxXX19LHtrZXk6XCJnZXRMaXN0SXRlbUNvdW50XCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuZ2V0VHlwZSgpLG49dC5nZXREZXB0aCgpLHI9dGhpcy5jdXJyZW50QmxvY2stMSxvPXRoaXMuYmxvY2tzW3JdO28mJmkoby5nZXRUeXBlKCkpJiZvLmdldERlcHRoKCk+bjspci09MSxvPXRoaXMuYmxvY2tzW3JdO3JldHVybiBvJiZvLmdldFR5cGUoKT09PWUmJm8uZ2V0RGVwdGgoKT09PW58fCh0aGlzLmxpc3RJdGVtQ291bnRzW25dPTApLHRoaXMubGlzdEl0ZW1Db3VudHNbbl09dGhpcy5saXN0SXRlbUNvdW50c1tuXSsxfX0se2tleTpcImluc2VydExpbmVCcmVha3NcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY3VycmVudEJsb2NrPjAmJnRoaXMub3V0cHV0LnB1c2goXCJcXG5cIil9fSx7a2V5OlwicmVuZGVyQmxvY2tDb250ZW50XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZW50U3RhdGUsbj10LmdldFR5cGUoKSxyPXQuZ2V0VGV4dCgpO2lmKFwiXCI9PT1yKXJldHVyblwi4oCLXCI7dmFyIGk9dC5nZXRDaGFyYWN0ZXJMaXN0KCk7cmV0dXJuKDAsZi5nZXRFbnRpdHlSYW5nZXMpKHIsaSkubWFwKGZ1bmN0aW9uKHQpe3ZhciByPWModCwyKSxpPXJbMF0scz1yWzFdLGw9cy5tYXAoZnVuY3Rpb24odCl7dmFyIGU9Yyh0LDIpLHI9ZVswXSxpPWVbMV07aWYoIXIpcmV0dXJuXCJcIjt2YXIgdT1vKHIpO3JldHVybiBpLmhhcyhwKSYmKHU9XCIqKlwiK3UrXCIqKlwiKSxpLmhhcyhnKSYmKHU9XCIrK1wiK3UrXCIrK1wiKSxpLmhhcyhkKSYmKHU9XCJfXCIrdStcIl9cIiksaS5oYXMoeSkmJih1PVwifn5cIit1K1wifn5cIiksaS5oYXMoaCkmJih1PW49PT1mLkJMT0NLX1RZUEUuQ09ERT91OlwiYFwiK3UrXCJgXCIpLHV9KS5qb2luKFwiXCIpLHY9aT9lLmdldEVudGl0eShpKTpudWxsO2lmKG51bGwhPXYmJnYuZ2V0VHlwZSgpPT09Zi5FTlRJVFlfVFlQRS5MSU5LKXt2YXIgXz12LmdldERhdGEoKSxtPV8udXJsfHxcIlwiLFM9Xy50aXRsZT8nIFwiJythKF8udGl0bGUpKydcIic6XCJcIjtyZXR1cm5cIltcIitsK1wiXShcIit1KG0pK1MrXCIpXCJ9aWYobnVsbCE9diYmdi5nZXRUeXBlKCk9PT1mLkVOVElUWV9UWVBFLklNQUdFKXt2YXIgYj12LmdldERhdGEoKSx3PWIuc3JjfHxcIlwiO3JldHVyblwiIVtcIisoYi5hbHQ/JyBcIicrYShiLmFsdCkrJ1wiJzpcIlwiKStcIl0oXCIrdSh3KStcIilcIn1yZXR1cm4gbH0pLmpvaW4oXCJcIil9fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1uKDMzNCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJzdGF0ZUZyb21NYXJrZG93blwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByKGkpLmRlZmF1bHR9fSk7dmFyIG89bigxNDUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiTWFya2Rvd25QYXJzZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcihvKS5kZWZhdWx0fX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe3ZhciBuPW8uZGVmYXVsdC5wYXJzZSh0LHtnZXRBU1Q6ITB9KTtyZXR1cm4oMCx1LnN0YXRlRnJvbUVsZW1lbnQpKG4sZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5kZWZhdWx0PXI7dmFyIGk9bigxNDUpLG89ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShpKSx1PW4oMTQzKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzM2KTtcInN0cmluZ1wiPT10eXBlb2YgciYmKHI9W1t0LmkscixcIlwiXV0pO3ZhciBpPXtzb3VyY2VNYXA6ITB9O2kudHJhbnNmb3JtPXZvaWQgMCxuKDIwKShyLGkpLHIubG9jYWxzJiYodC5leHBvcnRzPXIubG9jYWxzKX0sZnVuY3Rpb24odCxlLG4pe2U9dC5leHBvcnRzPW4oMjgpKCExKSxlLnB1c2goW3QuaSxcIi5JbWFnZVNwYW5fX3Jvb3RfX19Sb0FxTHtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7ZGlzcGxheTppbmxpbmUtYmxvY2s7b3ZlcmZsb3c6aGlkZGVuO2N1cnNvcjpwb2ludGVyfS5JbWFnZVNwYW5fX3Jlc2l6ZV9fXzFIeDVNe2JvcmRlcjoxcHggZGFzaGVkICM3OGEzMDA7cG9zaXRpb246cmVsYXRpdmU7bWF4LXdpZHRoOjEwMCU7ZGlzcGxheTppbmxpbmUtYmxvY2s7bGluZS1oZWlnaHQ6MDt0b3A6LTFweDtsZWZ0Oi0xcHh9LkltYWdlU3Bhbl9fcmVzaXplSGFuZGxlX19fMThyb3V7Y3Vyc29yOm53c2UtcmVzaXplO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MjtsaW5lLWhlaWdodDoxO2JvdHRvbTotNHB4O3JpZ2h0Oi01cHg7Ym9yZGVyOjFweCBzb2xpZCAjZmZmO2JhY2tncm91bmQtY29sb3I6Izc4YTMwMDt3aWR0aDo4cHg7aGVpZ2h0OjhweH1cIixcIlwiXSksZS5sb2NhbHM9e3Jvb3Q6XCJJbWFnZVNwYW5fX3Jvb3RfX19Sb0FxTFwiLHJlc2l6ZTpcIkltYWdlU3Bhbl9fcmVzaXplX19fMUh4NU1cIixyZXNpemVIYW5kbGU6XCJJbWFnZVNwYW5fX3Jlc2l6ZUhhbmRsZV9fXzE4cm91XCJ9fSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLl9ldmVudHM9dGhpcy5fZXZlbnRzfHx7fSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDB9ZnVuY3Rpb24gcih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fWZ1bmN0aW9uIGkodCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHR9ZnVuY3Rpb24gbyh0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXR9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gdm9pZCAwPT09dH10LmV4cG9ydHM9bixuLkV2ZW50RW1pdHRlcj1uLG4ucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLG4ucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnM9dm9pZCAwLG4uZGVmYXVsdE1heExpc3RlbmVycz0xMCxuLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7aWYoIWkodCl8fHQ8MHx8aXNOYU4odCkpdGhyb3cgVHlwZUVycm9yKFwibiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9dCx0aGlzfSxuLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxhLHMsYztpZih0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLFwiZXJyb3JcIj09PXQmJighdGhpcy5fZXZlbnRzLmVycm9yfHxvKHRoaXMuX2V2ZW50cy5lcnJvcikmJiF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSl7aWYoKGU9YXJndW1lbnRzWzFdKWluc3RhbmNlb2YgRXJyb3IpdGhyb3cgZTt2YXIgbD1uZXcgRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuICgnK2UrXCIpXCIpO3Rocm93IGwuY29udGV4dD1lLGx9aWYobj10aGlzLl9ldmVudHNbdF0sdShuKSlyZXR1cm4hMTtpZihyKG4pKXN3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDE6bi5jYWxsKHRoaXMpO2JyZWFrO2Nhc2UgMjpuLmNhbGwodGhpcyxhcmd1bWVudHNbMV0pO2JyZWFrO2Nhc2UgMzpuLmNhbGwodGhpcyxhcmd1bWVudHNbMV0sYXJndW1lbnRzWzJdKTticmVhaztkZWZhdWx0OmE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG4uYXBwbHkodGhpcyxhKX1lbHNlIGlmKG8obikpZm9yKGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGM9bi5zbGljZSgpLGk9Yy5sZW5ndGgscz0wO3M8aTtzKyspY1tzXS5hcHBseSh0aGlzLGEpO3JldHVybiEwfSxuLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3ZhciBpO2lmKCFyKGUpKXRocm93IFR5cGVFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTtyZXR1cm4gdGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KSx0aGlzLl9ldmVudHMubmV3TGlzdGVuZXImJnRoaXMuZW1pdChcIm5ld0xpc3RlbmVyXCIsdCxyKGUubGlzdGVuZXIpP2UubGlzdGVuZXI6ZSksdGhpcy5fZXZlbnRzW3RdP28odGhpcy5fZXZlbnRzW3RdKT90aGlzLl9ldmVudHNbdF0ucHVzaChlKTp0aGlzLl9ldmVudHNbdF09W3RoaXMuX2V2ZW50c1t0XSxlXTp0aGlzLl9ldmVudHNbdF09ZSxvKHRoaXMuX2V2ZW50c1t0XSkmJiF0aGlzLl9ldmVudHNbdF0ud2FybmVkJiYoaT11KHRoaXMuX21heExpc3RlbmVycyk/bi5kZWZhdWx0TWF4TGlzdGVuZXJzOnRoaXMuX21heExpc3RlbmVycykmJmk+MCYmdGhpcy5fZXZlbnRzW3RdLmxlbmd0aD5pJiYodGhpcy5fZXZlbnRzW3RdLndhcm5lZD0hMCxjb25zb2xlLmVycm9yKFwiKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC5cIix0aGlzLl9ldmVudHNbdF0ubGVuZ3RoKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLnRyYWNlJiZjb25zb2xlLnRyYWNlKCkpLHRoaXN9LG4ucHJvdG90eXBlLm9uPW4ucHJvdG90eXBlLmFkZExpc3RlbmVyLG4ucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5yZW1vdmVMaXN0ZW5lcih0LG4pLGl8fChpPSEwLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1pZighcihlKSl0aHJvdyBUeXBlRXJyb3IoXCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7dmFyIGk9ITE7cmV0dXJuIG4ubGlzdGVuZXI9ZSx0aGlzLm9uKHQsbiksdGhpc30sbi5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHUsYTtpZighcihlKSl0aHJvdyBUeXBlRXJyb3IoXCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7aWYoIXRoaXMuX2V2ZW50c3x8IXRoaXMuX2V2ZW50c1t0XSlyZXR1cm4gdGhpcztpZihuPXRoaXMuX2V2ZW50c1t0XSx1PW4ubGVuZ3RoLGk9LTEsbj09PWV8fHIobi5saXN0ZW5lcikmJm4ubGlzdGVuZXI9PT1lKWRlbGV0ZSB0aGlzLl9ldmVudHNbdF0sdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLHQsZSk7ZWxzZSBpZihvKG4pKXtmb3IoYT11O2EtLSA+MDspaWYoblthXT09PWV8fG5bYV0ubGlzdGVuZXImJm5bYV0ubGlzdGVuZXI9PT1lKXtpPWE7YnJlYWt9aWYoaTwwKXJldHVybiB0aGlzOzE9PT1uLmxlbmd0aD8obi5sZW5ndGg9MCxkZWxldGUgdGhpcy5fZXZlbnRzW3RdKTpuLnNwbGljZShpLDEpLHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIix0LGUpfXJldHVybiB0aGlzfSxuLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7dmFyIGUsbjtpZighdGhpcy5fZXZlbnRzKXJldHVybiB0aGlzO2lmKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpcmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMuX2V2ZW50cz17fTp0aGlzLl9ldmVudHNbdF0mJmRlbGV0ZSB0aGlzLl9ldmVudHNbdF0sdGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKGUgaW4gdGhpcy5fZXZlbnRzKVwicmVtb3ZlTGlzdGVuZXJcIiE9PWUmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGUpO3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInJlbW92ZUxpc3RlbmVyXCIpLHRoaXMuX2V2ZW50cz17fSx0aGlzfWlmKG49dGhpcy5fZXZlbnRzW3RdLHIobikpdGhpcy5yZW1vdmVMaXN0ZW5lcih0LG4pO2Vsc2UgaWYobilmb3IoO24ubGVuZ3RoOyl0aGlzLnJlbW92ZUxpc3RlbmVyKHQsbltuLmxlbmd0aC0xXSk7cmV0dXJuIGRlbGV0ZSB0aGlzLl9ldmVudHNbdF0sdGhpc30sbi5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50c1t0XT9yKHRoaXMuX2V2ZW50c1t0XSk/W3RoaXMuX2V2ZW50c1t0XV06dGhpcy5fZXZlbnRzW3RdLnNsaWNlKCk6W119LG4ucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24odCl7aWYodGhpcy5fZXZlbnRzKXt2YXIgZT10aGlzLl9ldmVudHNbdF07aWYocihlKSlyZXR1cm4gMTtpZihlKXJldHVybiBlLmxlbmd0aH1yZXR1cm4gMH0sbi5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubGlzdGVuZXJDb3VudChlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMzOSk7XCJzdHJpbmdcIj09dHlwZW9mIHImJihyPVtbdC5pLHIsXCJcIl1dKTt2YXIgaT17fTtpLnRyYW5zZm9ybT12b2lkIDAsbigyMCkocixpKSxyLmxvY2FscyYmKHQuZXhwb3J0cz1yLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPScvKipcXG4gKiBXZSBpbmhlcml0IHRoZSBoZWlnaHQgb2YgdGhlIGNvbnRhaW5lciBieSBkZWZhdWx0XFxuICovXFxuXFxuLkRyYWZ0RWRpdG9yLXJvb3QsXFxuLkRyYWZ0RWRpdG9yLWVkaXRvckNvbnRhaW5lcixcXG4ucHVibGljLURyYWZ0RWRpdG9yLWNvbnRlbnQge1xcbiAgaGVpZ2h0OiBpbmhlcml0O1xcbiAgdGV4dC1hbGlnbjogaW5pdGlhbDtcXG59XFxuXFxuLkRyYWZ0RWRpdG9yLXJvb3Qge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG5cXG4vKipcXG4gKiBaZXJvLW9wYWNpdHkgYmFja2dyb3VuZCB1c2VkIHRvIGFsbG93IGZvY3VzIGluIElFLiBPdGhlcndpc2UsIGNsaWNrc1xcbiAqIGZhbGwgdGhyb3VnaCB0byB0aGUgcGxhY2Vob2xkZXIuXFxuICovXFxuXFxuLkRyYWZ0RWRpdG9yLWVkaXRvckNvbnRhaW5lciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDApO1xcbiAgLyogUmVwYWlyIG15c3RlcmlvdXMgbWlzc2luZyBTYWZhcmkgY3Vyc29yICovXFxuICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHotaW5kZXg6IDE7XFxufVxcblxcbi5wdWJsaWMtRHJhZnRFZGl0b3ItY29udGVudCB7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xcbn1cXG5cXG4ucHVibGljLURyYWZ0RWRpdG9yLWJsb2NrIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLkRyYWZ0RWRpdG9yLWFsaWduTGVmdCAucHVibGljLURyYWZ0RWRpdG9yLWJsb2NrIHtcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxufVxcblxcbi5EcmFmdEVkaXRvci1hbGlnbkxlZnQgLnB1YmxpYy1EcmFmdEVkaXRvclBsYWNlaG9sZGVyLXJvb3Qge1xcbiAgbGVmdDogMDtcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxufVxcblxcbi5EcmFmdEVkaXRvci1hbGlnbkNlbnRlciAucHVibGljLURyYWZ0RWRpdG9yLWJsb2NrIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuLkRyYWZ0RWRpdG9yLWFsaWduQ2VudGVyIC5wdWJsaWMtRHJhZnRFZGl0b3JQbGFjZWhvbGRlci1yb290IHtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcblxcbi5EcmFmdEVkaXRvci1hbGlnblJpZ2h0IC5wdWJsaWMtRHJhZnRFZGl0b3ItYmxvY2sge1xcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XFxufVxcblxcbi5EcmFmdEVkaXRvci1hbGlnblJpZ2h0IC5wdWJsaWMtRHJhZnRFZGl0b3JQbGFjZWhvbGRlci1yb290IHtcXG4gIHJpZ2h0OiAwO1xcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XFxufVxcbi8qKlxcbiAqIEBwcm92aWRlc01vZHVsZSBEcmFmdEVkaXRvclBsYWNlaG9sZGVyXFxuICovXFxuXFxuLnB1YmxpYy1EcmFmdEVkaXRvclBsYWNlaG9sZGVyLXJvb3Qge1xcbiAgY29sb3I6ICM5MTk3YTM7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB6LWluZGV4OiAwO1xcbn1cXG5cXG4ucHVibGljLURyYWZ0RWRpdG9yUGxhY2Vob2xkZXItaGFzRm9jdXMge1xcbiAgY29sb3I6ICNiZGMxYzk7XFxufVxcblxcbi5EcmFmdEVkaXRvclBsYWNlaG9sZGVyLWhpZGRlbiB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4vKipcXG4gKiBAcHJvdmlkZXNNb2R1bGUgRHJhZnRTdHlsZURlZmF1bHRcXG4gKi9cXG5cXG4ucHVibGljLURyYWZ0U3R5bGVEZWZhdWx0LWJsb2NrIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcXG59XFxuXFxuLyogQG5vZmxpcCAqL1xcblxcbi5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtbHRyIHtcXG4gIGRpcmVjdGlvbjogbHRyO1xcbiAgdGV4dC1hbGlnbjogbGVmdDtcXG59XFxuXFxuLyogQG5vZmxpcCAqL1xcblxcbi5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtcnRsIHtcXG4gIGRpcmVjdGlvbjogcnRsO1xcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XFxufVxcblxcbi8qKlxcbiAqIFRoZXNlIHJ1bGVzIHByb3ZpZGUgYXBwcm9wcmlhdGUgdGV4dCBkaXJlY3Rpb24gZm9yIGNvdW50ZXIgcHNldWRvLWVsZW1lbnRzLlxcbiAqL1xcblxcbi8qIEBub2ZsaXAgKi9cXG5cXG4ucHVibGljLURyYWZ0U3R5bGVEZWZhdWx0LWxpc3RMVFIge1xcbiAgZGlyZWN0aW9uOiBsdHI7XFxufVxcblxcbi8qIEBub2ZsaXAgKi9cXG5cXG4ucHVibGljLURyYWZ0U3R5bGVEZWZhdWx0LWxpc3RSVEwge1xcbiAgZGlyZWN0aW9uOiBydGw7XFxufVxcblxcbi8qKlxcbiAqIERlZmF1bHQgc3BhY2luZyBmb3IgbGlzdCBjb250YWluZXIgZWxlbWVudHMuIE92ZXJyaWRlIHdpdGggQ1NTIGFzIG5lZWRlZC5cXG4gKi9cXG5cXG4ucHVibGljLURyYWZ0U3R5bGVEZWZhdWx0LXVsLFxcbi5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtb2wge1xcbiAgbWFyZ2luOiAxNnB4IDA7XFxuICBwYWRkaW5nOiAwO1xcbn1cXG5cXG4vKipcXG4gKiBEZWZhdWx0IGNvdW50ZXJzIGFuZCBzdHlsZXMgYXJlIHByb3ZpZGVkIGZvciBmaXZlIGxldmVscyBvZiBuZXN0aW5nLlxcbiAqIElmIHlvdSByZXF1aXJlIG5lc3RpbmcgYmV5b25kIHRoYXQgbGV2ZWwsIHlvdSBzaG91bGQgdXNlIHlvdXIgb3duIENTU1xcbiAqIGNsYXNzZXMgdG8gZG8gc28uIElmIHlvdSBjYXJlIGFib3V0IGhhbmRsaW5nIFJUTCBsYW5ndWFnZXMsIHRoZSBydWxlcyB5b3VcXG4gKiBjcmVhdGUgc2hvdWxkIGxvb2sgYSBsb3QgbGlrZSB0aGVzZS5cXG4gKi9cXG5cXG4vKiBAbm9mbGlwICovXFxuXFxuLnB1YmxpYy1EcmFmdFN0eWxlRGVmYXVsdC1kZXB0aDAucHVibGljLURyYWZ0U3R5bGVEZWZhdWx0LWxpc3RMVFIge1xcbiAgbWFyZ2luLWxlZnQ6IDEuNWVtO1xcbn1cXG5cXG4vKiBAbm9mbGlwICovXFxuXFxuLnB1YmxpYy1EcmFmdFN0eWxlRGVmYXVsdC1kZXB0aDAucHVibGljLURyYWZ0U3R5bGVEZWZhdWx0LWxpc3RSVEwge1xcbiAgbWFyZ2luLXJpZ2h0OiAxLjVlbTtcXG59XFxuXFxuLyogQG5vZmxpcCAqL1xcblxcbi5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtZGVwdGgxLnB1YmxpYy1EcmFmdFN0eWxlRGVmYXVsdC1saXN0TFRSIHtcXG4gIG1hcmdpbi1sZWZ0OiAzZW07XFxufVxcblxcbi8qIEBub2ZsaXAgKi9cXG5cXG4ucHVibGljLURyYWZ0U3R5bGVEZWZhdWx0LWRlcHRoMS5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtbGlzdFJUTCB7XFxuICBtYXJnaW4tcmlnaHQ6IDNlbTtcXG59XFxuXFxuLyogQG5vZmxpcCAqL1xcblxcbi5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtZGVwdGgyLnB1YmxpYy1EcmFmdFN0eWxlRGVmYXVsdC1saXN0TFRSIHtcXG4gIG1hcmdpbi1sZWZ0OiA0LjVlbTtcXG59XFxuXFxuLyogQG5vZmxpcCAqL1xcblxcbi5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtZGVwdGgyLnB1YmxpYy1EcmFmdFN0eWxlRGVmYXVsdC1saXN0UlRMIHtcXG4gIG1hcmdpbi1yaWdodDogNC41ZW07XFxufVxcblxcbi8qIEBub2ZsaXAgKi9cXG5cXG4ucHVibGljLURyYWZ0U3R5bGVEZWZhdWx0LWRlcHRoMy5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtbGlzdExUUiB7XFxuICBtYXJnaW4tbGVmdDogNmVtO1xcbn1cXG5cXG4vKiBAbm9mbGlwICovXFxuXFxuLnB1YmxpYy1EcmFmdFN0eWxlRGVmYXVsdC1kZXB0aDMucHVibGljLURyYWZ0U3R5bGVEZWZhdWx0LWxpc3RSVEwge1xcbiAgbWFyZ2luLXJpZ2h0OiA2ZW07XFxufVxcblxcbi8qIEBub2ZsaXAgKi9cXG5cXG4ucHVibGljLURyYWZ0U3R5bGVEZWZhdWx0LWRlcHRoNC5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtbGlzdExUUiB7XFxuICBtYXJnaW4tbGVmdDogNy41ZW07XFxufVxcblxcbi8qIEBub2ZsaXAgKi9cXG5cXG4ucHVibGljLURyYWZ0U3R5bGVEZWZhdWx0LWRlcHRoNC5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtbGlzdFJUTCB7XFxuICBtYXJnaW4tcmlnaHQ6IDcuNWVtO1xcbn1cXG5cXG4vKipcXG4gKiBPbmx5IHVzZSBgc3F1YXJlYCBsaXN0LXN0eWxlIGFmdGVyIHRoZSBmaXJzdCB0d28gbGV2ZWxzLlxcbiAqL1xcblxcbi5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtdW5vcmRlcmVkTGlzdEl0ZW0ge1xcbiAgbGlzdC1zdHlsZS10eXBlOiBzcXVhcmU7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtdW5vcmRlcmVkTGlzdEl0ZW0ucHVibGljLURyYWZ0U3R5bGVEZWZhdWx0LWRlcHRoMCB7XFxuICBsaXN0LXN0eWxlLXR5cGU6IGRpc2M7XFxufVxcblxcbi5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtdW5vcmRlcmVkTGlzdEl0ZW0ucHVibGljLURyYWZ0U3R5bGVEZWZhdWx0LWRlcHRoMSB7XFxuICBsaXN0LXN0eWxlLXR5cGU6IGNpcmNsZTtcXG59XFxuXFxuLyoqXFxuICogT3JkZXJlZCBsaXN0IGl0ZW0gY291bnRlcnMgYXJlIG1hbmFnZWQgd2l0aCBDU1MsIHNpbmNlIGFsbCBsaXN0IG5lc3RpbmcgaXNcXG4gKiBwdXJlbHkgdmlzdWFsLlxcbiAqL1xcblxcbi5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtb3JkZXJlZExpc3RJdGVtIHtcXG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLyogQG5vZmxpcCAqL1xcblxcbi5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtb3JkZXJlZExpc3RJdGVtLnB1YmxpYy1EcmFmdFN0eWxlRGVmYXVsdC1saXN0TFRSOmJlZm9yZSB7XFxuICBsZWZ0OiAtMzZweDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbiAgd2lkdGg6IDMwcHg7XFxufVxcblxcbi8qIEBub2ZsaXAgKi9cXG5cXG4ucHVibGljLURyYWZ0U3R5bGVEZWZhdWx0LW9yZGVyZWRMaXN0SXRlbS5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtbGlzdFJUTDpiZWZvcmUge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcmlnaHQ6IC0zNnB4O1xcbiAgdGV4dC1hbGlnbjogbGVmdDtcXG4gIHdpZHRoOiAzMHB4O1xcbn1cXG5cXG4vKipcXG4gKiBDb3VudGVycyBhcmUgcmVzZXQgaW4gSmF2YVNjcmlwdC4gSWYgeW91IG5lZWQgZGlmZmVyZW50IGNvdW50ZXIgc3R5bGVzLFxcbiAqIG92ZXJyaWRlIHRoZXNlIHJ1bGVzLiBJZiB5b3UgbmVlZCBtb3JlIG5lc3RpbmcsIGNyZWF0ZSB5b3VyIG93biBydWxlcyB0b1xcbiAqIGRvIHNvLlxcbiAqL1xcblxcbi5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtb3JkZXJlZExpc3RJdGVtOmJlZm9yZSB7XFxuICBjb250ZW50OiBjb3VudGVyKG9sMCkgXCIuIFwiO1xcbiAgY291bnRlci1pbmNyZW1lbnQ6IG9sMDtcXG59XFxuXFxuLnB1YmxpYy1EcmFmdFN0eWxlRGVmYXVsdC1vcmRlcmVkTGlzdEl0ZW0ucHVibGljLURyYWZ0U3R5bGVEZWZhdWx0LWRlcHRoMTpiZWZvcmUge1xcbiAgY29udGVudDogY291bnRlcihvbDEpIFwiLiBcIjtcXG4gIGNvdW50ZXItaW5jcmVtZW50OiBvbDE7XFxufVxcblxcbi5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtb3JkZXJlZExpc3RJdGVtLnB1YmxpYy1EcmFmdFN0eWxlRGVmYXVsdC1kZXB0aDI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IGNvdW50ZXIob2wyKSBcIi4gXCI7XFxuICBjb3VudGVyLWluY3JlbWVudDogb2wyO1xcbn1cXG5cXG4ucHVibGljLURyYWZ0U3R5bGVEZWZhdWx0LW9yZGVyZWRMaXN0SXRlbS5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtZGVwdGgzOmJlZm9yZSB7XFxuICBjb250ZW50OiBjb3VudGVyKG9sMykgXCIuIFwiO1xcbiAgY291bnRlci1pbmNyZW1lbnQ6IG9sMztcXG59XFxuXFxuLnB1YmxpYy1EcmFmdFN0eWxlRGVmYXVsdC1vcmRlcmVkTGlzdEl0ZW0ucHVibGljLURyYWZ0U3R5bGVEZWZhdWx0LWRlcHRoNDpiZWZvcmUge1xcbiAgY29udGVudDogY291bnRlcihvbDQpIFwiLiBcIjtcXG4gIGNvdW50ZXItaW5jcmVtZW50OiBvbDQ7XFxufVxcblxcbi5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtZGVwdGgwLnB1YmxpYy1EcmFmdFN0eWxlRGVmYXVsdC1yZXNldCB7XFxuICBjb3VudGVyLXJlc2V0OiBvbDA7XFxufVxcblxcbi5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtZGVwdGgxLnB1YmxpYy1EcmFmdFN0eWxlRGVmYXVsdC1yZXNldCB7XFxuICBjb3VudGVyLXJlc2V0OiBvbDE7XFxufVxcblxcbi5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtZGVwdGgyLnB1YmxpYy1EcmFmdFN0eWxlRGVmYXVsdC1yZXNldCB7XFxuICBjb3VudGVyLXJlc2V0OiBvbDI7XFxufVxcblxcbi5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtZGVwdGgzLnB1YmxpYy1EcmFmdFN0eWxlRGVmYXVsdC1yZXNldCB7XFxuICBjb3VudGVyLXJlc2V0OiBvbDM7XFxufVxcblxcbi5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtZGVwdGg0LnB1YmxpYy1EcmFmdFN0eWxlRGVmYXVsdC1yZXNldCB7XFxuICBjb3VudGVyLXJlc2V0OiBvbDQ7XFxufVxcbid9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDM0MSk7XCJzdHJpbmdcIj09dHlwZW9mIHImJihyPVtbdC5pLHIsXCJcIl1dKTt2YXIgaT17c291cmNlTWFwOiEwfTtpLnRyYW5zZm9ybT12b2lkIDAsbigyMCkocixpKSxyLmxvY2FscyYmKHQuZXhwb3J0cz1yLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSxuKXtlPXQuZXhwb3J0cz1uKDI4KSghMSksZS5wdXNoKFt0LmksXCIuUmljaFRleHRFZGl0b3JfX3Jvb3RfX18yUVhLLXtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyOjFweCBzb2xpZCAjZGRkO2JvcmRlci1yYWRpdXM6M3B4O2ZvbnQtZmFtaWx5Okdlb3JnaWEsc2VyaWY7Zm9udC1zaXplOjE0cHh9LlJpY2hUZXh0RWRpdG9yX19lZGl0b3JfX18xUXFJVXtjdXJzb3I6dGV4dDtmb250LXNpemU6MTZweH0udGV4dC1hbGlnbi0tY2VudGVyIC5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtbHRye3RleHQtYWxpZ246Y2VudGVyfS50ZXh0LWFsaWduLS1yaWdodCAucHVibGljLURyYWZ0U3R5bGVEZWZhdWx0LWx0cnt0ZXh0LWFsaWduOnJpZ2h0fS50ZXh0LWFsaWduLS1qdXN0aWZ5IC5wdWJsaWMtRHJhZnRTdHlsZURlZmF1bHQtbHRye3RleHQtYWxpZ246anVzdGlmeX0uUmljaFRleHRFZGl0b3JfX2VkaXRvcl9fXzFRcUlVIC5wdWJsaWMtRHJhZnRFZGl0b3ItY29udGVudCwuUmljaFRleHRFZGl0b3JfX2VkaXRvcl9fXzFRcUlVIC5wdWJsaWMtRHJhZnRFZGl0b3JQbGFjZWhvbGRlci1yb290e21hcmdpbjowO3BhZGRpbmc6OXB4fS5SaWNoVGV4dEVkaXRvcl9fZWRpdG9yX19fMVFxSVUgLnB1YmxpYy1EcmFmdEVkaXRvci1jb250ZW50e292ZXJmbG93OmF1dG99LlJpY2hUZXh0RWRpdG9yX19oaWRlUGxhY2Vob2xkZXJfX18zV0xpZCAucHVibGljLURyYWZ0RWRpdG9yUGxhY2Vob2xkZXItcm9vdHtkaXNwbGF5Om5vbmV9LlJpY2hUZXh0RWRpdG9yX19lZGl0b3JfX18xUXFJVSAuUmljaFRleHRFZGl0b3JfX3BhcmFncmFwaF9fXzNOVGY5LC5SaWNoVGV4dEVkaXRvcl9fZWRpdG9yX19fMVFxSVUgcHJle21hcmdpbjoxNHB4IDB9LlJpY2hUZXh0RWRpdG9yX19lZGl0b3JfX18xUXFJVSAuUmljaFRleHRFZGl0b3JfX2NvZGVCbG9ja19fX19LRDRRe2JhY2tncm91bmQtY29sb3I6I2YzZjNmMztmb250LWZhbWlseTpJbmNvbnNvbGF0YSxNZW5sbyxDb25zb2xhcyxtb25vc3BhY2U7Zm9udC1zaXplOjE2cHg7bWFyZ2luOjE0cHggMDtwYWRkaW5nOjIwcHh9LlJpY2hUZXh0RWRpdG9yX19lZGl0b3JfX18xUXFJVSAuUmljaFRleHRFZGl0b3JfX2NvZGVCbG9ja19fX19LRDRRIHNwYW5bc3R5bGVde3BhZGRpbmc6MCFpbXBvcnRhbnR9LlJpY2hUZXh0RWRpdG9yX19lZGl0b3JfX18xUXFJVSAuUmljaFRleHRFZGl0b3JfX2Jsb2NrcXVvdGVfX18xdkNZbHtib3JkZXItbGVmdDo1cHggc29saWQgI2VlZTtjb2xvcjojNjY2O2ZvbnQtZmFtaWx5OkhvZWZsZXIgVGV4dCxHZW9yZ2lhLHNlcmlmO2ZvbnQtc3R5bGU6aXRhbGljO21hcmdpbjoxNnB4IDA7cGFkZGluZzoxMHB4IDIwcHh9LlJpY2hUZXh0RWRpdG9yX19lZGl0b3JfX18xUXFJVSAuUmljaFRleHRFZGl0b3JfX2Jsb2NrX19fMlZzX0Q6Zmlyc3QtY2hpbGQsLlJpY2hUZXh0RWRpdG9yX19lZGl0b3JfX18xUXFJVSBvbDpmaXJzdC1jaGlsZCwuUmljaFRleHRFZGl0b3JfX2VkaXRvcl9fXzFRcUlVIHByZTpmaXJzdC1jaGlsZCwuUmljaFRleHRFZGl0b3JfX2VkaXRvcl9fXzFRcUlVIHVsOmZpcnN0LWNoaWxke21hcmdpbi10b3A6MH0uUmljaFRleHRFZGl0b3JfX2VkaXRvcl9fXzFRcUlVIC5SaWNoVGV4dEVkaXRvcl9fYmxvY2tfX18yVnNfRDpsYXN0LWNoaWxkLC5SaWNoVGV4dEVkaXRvcl9fZWRpdG9yX19fMVFxSVUgb2w6bGFzdC1jaGlsZCwuUmljaFRleHRFZGl0b3JfX2VkaXRvcl9fXzFRcUlVIHByZTpsYXN0LWNoaWxkLC5SaWNoVGV4dEVkaXRvcl9fZWRpdG9yX19fMVFxSVUgdWw6bGFzdC1jaGlsZHttYXJnaW4tYm90dG9tOjB9XCIsXCJcIl0pLGUubG9jYWxzPXtyb290OlwiUmljaFRleHRFZGl0b3JfX3Jvb3RfX18yUVhLLVwiLGVkaXRvcjpcIlJpY2hUZXh0RWRpdG9yX19lZGl0b3JfX18xUXFJVVwiLGhpZGVQbGFjZWhvbGRlcjpcIlJpY2hUZXh0RWRpdG9yX19oaWRlUGxhY2Vob2xkZXJfX18zV0xpZFwiLHBhcmFncmFwaDpcIlJpY2hUZXh0RWRpdG9yX19wYXJhZ3JhcGhfX18zTlRmOVwiLGNvZGVCbG9jazpcIlJpY2hUZXh0RWRpdG9yX19jb2RlQmxvY2tfX19fS0Q0UVwiLGJsb2NrcXVvdGU6XCJSaWNoVGV4dEVkaXRvcl9fYmxvY2txdW90ZV9fXzF2Q1lsXCIsYmxvY2s6XCJSaWNoVGV4dEVkaXRvcl9fYmxvY2tfX18yVnNfRFwifX1dKTsiLCJ2YXIgY2hhcmFjdGVyTWFwID0ge1xyXG5cdFwiw4BcIjogXCJBXCIsXHJcblx0XCLDgVwiOiBcIkFcIixcclxuXHRcIsOCXCI6IFwiQVwiLFxyXG5cdFwiw4NcIjogXCJBXCIsXHJcblx0XCLDhFwiOiBcIkFcIixcclxuXHRcIsOFXCI6IFwiQVwiLFxyXG5cdFwi4bqkXCI6IFwiQVwiLFxyXG5cdFwi4bquXCI6IFwiQVwiLFxyXG5cdFwi4bqyXCI6IFwiQVwiLFxyXG5cdFwi4bq0XCI6IFwiQVwiLFxyXG5cdFwi4bq2XCI6IFwiQVwiLFxyXG5cdFwiw4ZcIjogXCJBRVwiLFxyXG5cdFwi4bqmXCI6IFwiQVwiLFxyXG5cdFwi4bqwXCI6IFwiQVwiLFxyXG5cdFwiyIJcIjogXCJBXCIsXHJcblx0XCLDh1wiOiBcIkNcIixcclxuXHRcIuG4iFwiOiBcIkNcIixcclxuXHRcIsOIXCI6IFwiRVwiLFxyXG5cdFwiw4lcIjogXCJFXCIsXHJcblx0XCLDilwiOiBcIkVcIixcclxuXHRcIsOLXCI6IFwiRVwiLFxyXG5cdFwi4bq+XCI6IFwiRVwiLFxyXG5cdFwi4biWXCI6IFwiRVwiLFxyXG5cdFwi4buAXCI6IFwiRVwiLFxyXG5cdFwi4biUXCI6IFwiRVwiLFxyXG5cdFwi4bicXCI6IFwiRVwiLFxyXG5cdFwiyIZcIjogXCJFXCIsXHJcblx0XCLDjFwiOiBcIklcIixcclxuXHRcIsONXCI6IFwiSVwiLFxyXG5cdFwiw45cIjogXCJJXCIsXHJcblx0XCLDj1wiOiBcIklcIixcclxuXHRcIuG4rlwiOiBcIklcIixcclxuXHRcIsiKXCI6IFwiSVwiLFxyXG5cdFwiw5BcIjogXCJEXCIsXHJcblx0XCLDkVwiOiBcIk5cIixcclxuXHRcIsOSXCI6IFwiT1wiLFxyXG5cdFwiw5NcIjogXCJPXCIsXHJcblx0XCLDlFwiOiBcIk9cIixcclxuXHRcIsOVXCI6IFwiT1wiLFxyXG5cdFwiw5ZcIjogXCJPXCIsXHJcblx0XCLDmFwiOiBcIk9cIixcclxuXHRcIuG7kFwiOiBcIk9cIixcclxuXHRcIuG5jFwiOiBcIk9cIixcclxuXHRcIuG5klwiOiBcIk9cIixcclxuXHRcIsiOXCI6IFwiT1wiLFxyXG5cdFwiw5lcIjogXCJVXCIsXHJcblx0XCLDmlwiOiBcIlVcIixcclxuXHRcIsObXCI6IFwiVVwiLFxyXG5cdFwiw5xcIjogXCJVXCIsXHJcblx0XCLDnVwiOiBcIllcIixcclxuXHRcIsOgXCI6IFwiYVwiLFxyXG5cdFwiw6FcIjogXCJhXCIsXHJcblx0XCLDolwiOiBcImFcIixcclxuXHRcIsOjXCI6IFwiYVwiLFxyXG5cdFwiw6RcIjogXCJhXCIsXHJcblx0XCLDpVwiOiBcImFcIixcclxuXHRcIuG6pVwiOiBcImFcIixcclxuXHRcIuG6r1wiOiBcImFcIixcclxuXHRcIuG6s1wiOiBcImFcIixcclxuXHRcIuG6tVwiOiBcImFcIixcclxuXHRcIuG6t1wiOiBcImFcIixcclxuXHRcIsOmXCI6IFwiYWVcIixcclxuXHRcIuG6p1wiOiBcImFcIixcclxuXHRcIuG6sVwiOiBcImFcIixcclxuXHRcIsiDXCI6IFwiYVwiLFxyXG5cdFwiw6dcIjogXCJjXCIsXHJcblx0XCLhuIlcIjogXCJjXCIsXHJcblx0XCLDqFwiOiBcImVcIixcclxuXHRcIsOpXCI6IFwiZVwiLFxyXG5cdFwiw6pcIjogXCJlXCIsXHJcblx0XCLDq1wiOiBcImVcIixcclxuXHRcIuG6v1wiOiBcImVcIixcclxuXHRcIuG4l1wiOiBcImVcIixcclxuXHRcIuG7gVwiOiBcImVcIixcclxuXHRcIuG4lVwiOiBcImVcIixcclxuXHRcIuG4nVwiOiBcImVcIixcclxuXHRcIsiHXCI6IFwiZVwiLFxyXG5cdFwiw6xcIjogXCJpXCIsXHJcblx0XCLDrVwiOiBcImlcIixcclxuXHRcIsOuXCI6IFwiaVwiLFxyXG5cdFwiw69cIjogXCJpXCIsXHJcblx0XCLhuK9cIjogXCJpXCIsXHJcblx0XCLIi1wiOiBcImlcIixcclxuXHRcIsOwXCI6IFwiZFwiLFxyXG5cdFwiw7FcIjogXCJuXCIsXHJcblx0XCLDslwiOiBcIm9cIixcclxuXHRcIsOzXCI6IFwib1wiLFxyXG5cdFwiw7RcIjogXCJvXCIsXHJcblx0XCLDtVwiOiBcIm9cIixcclxuXHRcIsO2XCI6IFwib1wiLFxyXG5cdFwiw7hcIjogXCJvXCIsXHJcblx0XCLhu5FcIjogXCJvXCIsXHJcblx0XCLhuY1cIjogXCJvXCIsXHJcblx0XCLhuZNcIjogXCJvXCIsXHJcblx0XCLIj1wiOiBcIm9cIixcclxuXHRcIsO5XCI6IFwidVwiLFxyXG5cdFwiw7pcIjogXCJ1XCIsXHJcblx0XCLDu1wiOiBcInVcIixcclxuXHRcIsO8XCI6IFwidVwiLFxyXG5cdFwiw71cIjogXCJ5XCIsXHJcblx0XCLDv1wiOiBcInlcIixcclxuXHRcIsSAXCI6IFwiQVwiLFxyXG5cdFwixIFcIjogXCJhXCIsXHJcblx0XCLEglwiOiBcIkFcIixcclxuXHRcIsSDXCI6IFwiYVwiLFxyXG5cdFwixIRcIjogXCJBXCIsXHJcblx0XCLEhVwiOiBcImFcIixcclxuXHRcIsSGXCI6IFwiQ1wiLFxyXG5cdFwixIdcIjogXCJjXCIsXHJcblx0XCLEiFwiOiBcIkNcIixcclxuXHRcIsSJXCI6IFwiY1wiLFxyXG5cdFwixIpcIjogXCJDXCIsXHJcblx0XCLEi1wiOiBcImNcIixcclxuXHRcIsSMXCI6IFwiQ1wiLFxyXG5cdFwixI1cIjogXCJjXCIsXHJcblx0XCJDzIZcIjogXCJDXCIsXHJcblx0XCJjzIZcIjogXCJjXCIsXHJcblx0XCLEjlwiOiBcIkRcIixcclxuXHRcIsSPXCI6IFwiZFwiLFxyXG5cdFwixJBcIjogXCJEXCIsXHJcblx0XCLEkVwiOiBcImRcIixcclxuXHRcIsSSXCI6IFwiRVwiLFxyXG5cdFwixJNcIjogXCJlXCIsXHJcblx0XCLElFwiOiBcIkVcIixcclxuXHRcIsSVXCI6IFwiZVwiLFxyXG5cdFwixJZcIjogXCJFXCIsXHJcblx0XCLEl1wiOiBcImVcIixcclxuXHRcIsSYXCI6IFwiRVwiLFxyXG5cdFwixJlcIjogXCJlXCIsXHJcblx0XCLEmlwiOiBcIkVcIixcclxuXHRcIsSbXCI6IFwiZVwiLFxyXG5cdFwixJxcIjogXCJHXCIsXHJcblx0XCLHtFwiOiBcIkdcIixcclxuXHRcIsSdXCI6IFwiZ1wiLFxyXG5cdFwix7VcIjogXCJnXCIsXHJcblx0XCLEnlwiOiBcIkdcIixcclxuXHRcIsSfXCI6IFwiZ1wiLFxyXG5cdFwixKBcIjogXCJHXCIsXHJcblx0XCLEoVwiOiBcImdcIixcclxuXHRcIsSiXCI6IFwiR1wiLFxyXG5cdFwixKNcIjogXCJnXCIsXHJcblx0XCLEpFwiOiBcIkhcIixcclxuXHRcIsSlXCI6IFwiaFwiLFxyXG5cdFwixKZcIjogXCJIXCIsXHJcblx0XCLEp1wiOiBcImhcIixcclxuXHRcIuG4qlwiOiBcIkhcIixcclxuXHRcIuG4q1wiOiBcImhcIixcclxuXHRcIsSoXCI6IFwiSVwiLFxyXG5cdFwixKlcIjogXCJpXCIsXHJcblx0XCLEqlwiOiBcIklcIixcclxuXHRcIsSrXCI6IFwiaVwiLFxyXG5cdFwixKxcIjogXCJJXCIsXHJcblx0XCLErVwiOiBcImlcIixcclxuXHRcIsSuXCI6IFwiSVwiLFxyXG5cdFwixK9cIjogXCJpXCIsXHJcblx0XCLEsFwiOiBcIklcIixcclxuXHRcIsSxXCI6IFwiaVwiLFxyXG5cdFwixLJcIjogXCJJSlwiLFxyXG5cdFwixLNcIjogXCJpalwiLFxyXG5cdFwixLRcIjogXCJKXCIsXHJcblx0XCLEtVwiOiBcImpcIixcclxuXHRcIsS2XCI6IFwiS1wiLFxyXG5cdFwixLdcIjogXCJrXCIsXHJcblx0XCLhuLBcIjogXCJLXCIsXHJcblx0XCLhuLFcIjogXCJrXCIsXHJcblx0XCJLzIZcIjogXCJLXCIsXHJcblx0XCJrzIZcIjogXCJrXCIsXHJcblx0XCLEuVwiOiBcIkxcIixcclxuXHRcIsS6XCI6IFwibFwiLFxyXG5cdFwixLtcIjogXCJMXCIsXHJcblx0XCLEvFwiOiBcImxcIixcclxuXHRcIsS9XCI6IFwiTFwiLFxyXG5cdFwixL5cIjogXCJsXCIsXHJcblx0XCLEv1wiOiBcIkxcIixcclxuXHRcIsWAXCI6IFwibFwiLFxyXG5cdFwixYFcIjogXCJsXCIsXHJcblx0XCLFglwiOiBcImxcIixcclxuXHRcIuG4vlwiOiBcIk1cIixcclxuXHRcIuG4v1wiOiBcIm1cIixcclxuXHRcIk3MhlwiOiBcIk1cIixcclxuXHRcIm3MhlwiOiBcIm1cIixcclxuXHRcIsWDXCI6IFwiTlwiLFxyXG5cdFwixYRcIjogXCJuXCIsXHJcblx0XCLFhVwiOiBcIk5cIixcclxuXHRcIsWGXCI6IFwiblwiLFxyXG5cdFwixYdcIjogXCJOXCIsXHJcblx0XCLFiFwiOiBcIm5cIixcclxuXHRcIsWJXCI6IFwiblwiLFxyXG5cdFwiTsyGXCI6IFwiTlwiLFxyXG5cdFwibsyGXCI6IFwiblwiLFxyXG5cdFwixYxcIjogXCJPXCIsXHJcblx0XCLFjVwiOiBcIm9cIixcclxuXHRcIsWOXCI6IFwiT1wiLFxyXG5cdFwixY9cIjogXCJvXCIsXHJcblx0XCLFkFwiOiBcIk9cIixcclxuXHRcIsWRXCI6IFwib1wiLFxyXG5cdFwixZJcIjogXCJPRVwiLFxyXG5cdFwixZNcIjogXCJvZVwiLFxyXG5cdFwiUMyGXCI6IFwiUFwiLFxyXG5cdFwicMyGXCI6IFwicFwiLFxyXG5cdFwixZRcIjogXCJSXCIsXHJcblx0XCLFlVwiOiBcInJcIixcclxuXHRcIsWWXCI6IFwiUlwiLFxyXG5cdFwixZdcIjogXCJyXCIsXHJcblx0XCLFmFwiOiBcIlJcIixcclxuXHRcIsWZXCI6IFwiclwiLFxyXG5cdFwiUsyGXCI6IFwiUlwiLFxyXG5cdFwicsyGXCI6IFwiclwiLFxyXG5cdFwiyJJcIjogXCJSXCIsXHJcblx0XCLIk1wiOiBcInJcIixcclxuXHRcIsWaXCI6IFwiU1wiLFxyXG5cdFwixZtcIjogXCJzXCIsXHJcblx0XCLFnFwiOiBcIlNcIixcclxuXHRcIsWdXCI6IFwic1wiLFxyXG5cdFwixZ5cIjogXCJTXCIsXHJcblx0XCLImFwiOiBcIlNcIixcclxuXHRcIsiZXCI6IFwic1wiLFxyXG5cdFwixZ9cIjogXCJzXCIsXHJcblx0XCLFoFwiOiBcIlNcIixcclxuXHRcIsWhXCI6IFwic1wiLFxyXG5cdFwixaJcIjogXCJUXCIsXHJcblx0XCLFo1wiOiBcInRcIixcclxuXHRcIsibXCI6IFwidFwiLFxyXG5cdFwiyJpcIjogXCJUXCIsXHJcblx0XCLFpFwiOiBcIlRcIixcclxuXHRcIsWlXCI6IFwidFwiLFxyXG5cdFwixaZcIjogXCJUXCIsXHJcblx0XCLFp1wiOiBcInRcIixcclxuXHRcIlTMhlwiOiBcIlRcIixcclxuXHRcInTMhlwiOiBcInRcIixcclxuXHRcIsWoXCI6IFwiVVwiLFxyXG5cdFwixalcIjogXCJ1XCIsXHJcblx0XCLFqlwiOiBcIlVcIixcclxuXHRcIsWrXCI6IFwidVwiLFxyXG5cdFwixaxcIjogXCJVXCIsXHJcblx0XCLFrVwiOiBcInVcIixcclxuXHRcIsWuXCI6IFwiVVwiLFxyXG5cdFwixa9cIjogXCJ1XCIsXHJcblx0XCLFsFwiOiBcIlVcIixcclxuXHRcIsWxXCI6IFwidVwiLFxyXG5cdFwixbJcIjogXCJVXCIsXHJcblx0XCLFs1wiOiBcInVcIixcclxuXHRcIsiWXCI6IFwiVVwiLFxyXG5cdFwiyJdcIjogXCJ1XCIsXHJcblx0XCJWzIZcIjogXCJWXCIsXHJcblx0XCJ2zIZcIjogXCJ2XCIsXHJcblx0XCLFtFwiOiBcIldcIixcclxuXHRcIsW1XCI6IFwid1wiLFxyXG5cdFwi4bqCXCI6IFwiV1wiLFxyXG5cdFwi4bqDXCI6IFwid1wiLFxyXG5cdFwiWMyGXCI6IFwiWFwiLFxyXG5cdFwieMyGXCI6IFwieFwiLFxyXG5cdFwixbZcIjogXCJZXCIsXHJcblx0XCLFt1wiOiBcInlcIixcclxuXHRcIsW4XCI6IFwiWVwiLFxyXG5cdFwiWcyGXCI6IFwiWVwiLFxyXG5cdFwiecyGXCI6IFwieVwiLFxyXG5cdFwixblcIjogXCJaXCIsXHJcblx0XCLFulwiOiBcInpcIixcclxuXHRcIsW7XCI6IFwiWlwiLFxyXG5cdFwixbxcIjogXCJ6XCIsXHJcblx0XCLFvVwiOiBcIlpcIixcclxuXHRcIsW+XCI6IFwielwiLFxyXG5cdFwixb9cIjogXCJzXCIsXHJcblx0XCLGklwiOiBcImZcIixcclxuXHRcIsagXCI6IFwiT1wiLFxyXG5cdFwixqFcIjogXCJvXCIsXHJcblx0XCLGr1wiOiBcIlVcIixcclxuXHRcIsawXCI6IFwidVwiLFxyXG5cdFwix41cIjogXCJBXCIsXHJcblx0XCLHjlwiOiBcImFcIixcclxuXHRcIsePXCI6IFwiSVwiLFxyXG5cdFwix5BcIjogXCJpXCIsXHJcblx0XCLHkVwiOiBcIk9cIixcclxuXHRcIseSXCI6IFwib1wiLFxyXG5cdFwix5NcIjogXCJVXCIsXHJcblx0XCLHlFwiOiBcInVcIixcclxuXHRcIseVXCI6IFwiVVwiLFxyXG5cdFwix5ZcIjogXCJ1XCIsXHJcblx0XCLHl1wiOiBcIlVcIixcclxuXHRcIseYXCI6IFwidVwiLFxyXG5cdFwix5lcIjogXCJVXCIsXHJcblx0XCLHmlwiOiBcInVcIixcclxuXHRcIsebXCI6IFwiVVwiLFxyXG5cdFwix5xcIjogXCJ1XCIsXHJcblx0XCLhu6hcIjogXCJVXCIsXHJcblx0XCLhu6lcIjogXCJ1XCIsXHJcblx0XCLhubhcIjogXCJVXCIsXHJcblx0XCLhublcIjogXCJ1XCIsXHJcblx0XCLHulwiOiBcIkFcIixcclxuXHRcIse7XCI6IFwiYVwiLFxyXG5cdFwix7xcIjogXCJBRVwiLFxyXG5cdFwix71cIjogXCJhZVwiLFxyXG5cdFwix75cIjogXCJPXCIsXHJcblx0XCLHv1wiOiBcIm9cIixcclxuXHRcIsOeXCI6IFwiVEhcIixcclxuXHRcIsO+XCI6IFwidGhcIixcclxuXHRcIuG5lFwiOiBcIlBcIixcclxuXHRcIuG5lVwiOiBcInBcIixcclxuXHRcIuG5pFwiOiBcIlNcIixcclxuXHRcIuG5pVwiOiBcInNcIixcclxuXHRcIljMgVwiOiBcIlhcIixcclxuXHRcInjMgVwiOiBcInhcIixcclxuXHRcItCDXCI6IFwi0JNcIixcclxuXHRcItGTXCI6IFwi0LNcIixcclxuXHRcItCMXCI6IFwi0JpcIixcclxuXHRcItGcXCI6IFwi0LpcIixcclxuXHRcIkHMi1wiOiBcIkFcIixcclxuXHRcImHMi1wiOiBcImFcIixcclxuXHRcIkXMi1wiOiBcIkVcIixcclxuXHRcImXMi1wiOiBcImVcIixcclxuXHRcIknMi1wiOiBcIklcIixcclxuXHRcImnMi1wiOiBcImlcIixcclxuXHRcIse4XCI6IFwiTlwiLFxyXG5cdFwix7lcIjogXCJuXCIsXHJcblx0XCLhu5JcIjogXCJPXCIsXHJcblx0XCLhu5NcIjogXCJvXCIsXHJcblx0XCLhuZBcIjogXCJPXCIsXHJcblx0XCLhuZFcIjogXCJvXCIsXHJcblx0XCLhu6pcIjogXCJVXCIsXHJcblx0XCLhu6tcIjogXCJ1XCIsXHJcblx0XCLhuoBcIjogXCJXXCIsXHJcblx0XCLhuoFcIjogXCJ3XCIsXHJcblx0XCLhu7JcIjogXCJZXCIsXHJcblx0XCLhu7NcIjogXCJ5XCIsXHJcblx0XCLIgFwiOiBcIkFcIixcclxuXHRcIsiBXCI6IFwiYVwiLFxyXG5cdFwiyIRcIjogXCJFXCIsXHJcblx0XCLIhVwiOiBcImVcIixcclxuXHRcIsiIXCI6IFwiSVwiLFxyXG5cdFwiyIlcIjogXCJpXCIsXHJcblx0XCLIjFwiOiBcIk9cIixcclxuXHRcIsiNXCI6IFwib1wiLFxyXG5cdFwiyJBcIjogXCJSXCIsXHJcblx0XCLIkVwiOiBcInJcIixcclxuXHRcIsiUXCI6IFwiVVwiLFxyXG5cdFwiyJVcIjogXCJ1XCIsXHJcblx0XCJCzIxcIjogXCJCXCIsXHJcblx0XCJizIxcIjogXCJiXCIsXHJcblx0XCLEjMyjXCI6IFwiQ1wiLFxyXG5cdFwixI3Mo1wiOiBcImNcIixcclxuXHRcIsOKzIxcIjogXCJFXCIsXHJcblx0XCLDqsyMXCI6IFwiZVwiLFxyXG5cdFwiRsyMXCI6IFwiRlwiLFxyXG5cdFwiZsyMXCI6IFwiZlwiLFxyXG5cdFwix6ZcIjogXCJHXCIsXHJcblx0XCLHp1wiOiBcImdcIixcclxuXHRcIsieXCI6IFwiSFwiLFxyXG5cdFwiyJ9cIjogXCJoXCIsXHJcblx0XCJKzIxcIjogXCJKXCIsXHJcblx0XCLHsFwiOiBcImpcIixcclxuXHRcIseoXCI6IFwiS1wiLFxyXG5cdFwix6lcIjogXCJrXCIsXHJcblx0XCJNzIxcIjogXCJNXCIsXHJcblx0XCJtzIxcIjogXCJtXCIsXHJcblx0XCJQzIxcIjogXCJQXCIsXHJcblx0XCJwzIxcIjogXCJwXCIsXHJcblx0XCJRzIxcIjogXCJRXCIsXHJcblx0XCJxzIxcIjogXCJxXCIsXHJcblx0XCLFmMypXCI6IFwiUlwiLFxyXG5cdFwixZnMqVwiOiBcInJcIixcclxuXHRcIuG5plwiOiBcIlNcIixcclxuXHRcIuG5p1wiOiBcInNcIixcclxuXHRcIlbMjFwiOiBcIlZcIixcclxuXHRcInbMjFwiOiBcInZcIixcclxuXHRcIlfMjFwiOiBcIldcIixcclxuXHRcInfMjFwiOiBcIndcIixcclxuXHRcIljMjFwiOiBcIlhcIixcclxuXHRcInjMjFwiOiBcInhcIixcclxuXHRcIlnMjFwiOiBcIllcIixcclxuXHRcInnMjFwiOiBcInlcIixcclxuXHRcIkHMp1wiOiBcIkFcIixcclxuXHRcImHMp1wiOiBcImFcIixcclxuXHRcIkLMp1wiOiBcIkJcIixcclxuXHRcImLMp1wiOiBcImJcIixcclxuXHRcIuG4kFwiOiBcIkRcIixcclxuXHRcIuG4kVwiOiBcImRcIixcclxuXHRcIsioXCI6IFwiRVwiLFxyXG5cdFwiyKlcIjogXCJlXCIsXHJcblx0XCLGkMynXCI6IFwiRVwiLFxyXG5cdFwiyZvMp1wiOiBcImVcIixcclxuXHRcIuG4qFwiOiBcIkhcIixcclxuXHRcIuG4qVwiOiBcImhcIixcclxuXHRcIknMp1wiOiBcIklcIixcclxuXHRcImnMp1wiOiBcImlcIixcclxuXHRcIsaXzKdcIjogXCJJXCIsXHJcblx0XCLJqMynXCI6IFwiaVwiLFxyXG5cdFwiTcynXCI6IFwiTVwiLFxyXG5cdFwibcynXCI6IFwibVwiLFxyXG5cdFwiT8ynXCI6IFwiT1wiLFxyXG5cdFwib8ynXCI6IFwib1wiLFxyXG5cdFwiUcynXCI6IFwiUVwiLFxyXG5cdFwiccynXCI6IFwicVwiLFxyXG5cdFwiVcynXCI6IFwiVVwiLFxyXG5cdFwidcynXCI6IFwidVwiLFxyXG5cdFwiWMynXCI6IFwiWFwiLFxyXG5cdFwieMynXCI6IFwieFwiLFxyXG5cdFwiWsynXCI6IFwiWlwiLFxyXG5cdFwiesynXCI6IFwielwiLFxyXG59O1xyXG5cclxudmFyIGNoYXJzID0gT2JqZWN0LmtleXMoY2hhcmFjdGVyTWFwKS5qb2luKCd8Jyk7XHJcbnZhciBhbGxBY2NlbnRzID0gbmV3IFJlZ0V4cChjaGFycywgJ2cnKTtcclxudmFyIGZpcnN0QWNjZW50ID0gbmV3IFJlZ0V4cChjaGFycywgJycpO1xyXG5cclxudmFyIHJlbW92ZUFjY2VudHMgPSBmdW5jdGlvbihzdHJpbmcpIHtcdFxyXG5cdHJldHVybiBzdHJpbmcucmVwbGFjZShhbGxBY2NlbnRzLCBmdW5jdGlvbihtYXRjaCkge1xyXG5cdFx0cmV0dXJuIGNoYXJhY3Rlck1hcFttYXRjaF07XHJcblx0fSk7XHJcbn07XHJcblxyXG52YXIgaGFzQWNjZW50cyA9IGZ1bmN0aW9uKHN0cmluZykge1xyXG5cdHJldHVybiAhIXN0cmluZy5tYXRjaChmaXJzdEFjY2VudCk7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJlbW92ZUFjY2VudHM7XHJcbm1vZHVsZS5leHBvcnRzLmhhcyA9IGhhc0FjY2VudHM7XHJcbm1vZHVsZS5leHBvcnRzLnJlbW92ZSA9IHJlbW92ZUFjY2VudHM7XHJcbiIsImltcG9ydCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gYXJlSW5wdXRzRXF1YWwobmV3SW5wdXRzLCBsYXN0SW5wdXRzKSB7XG4gIGlmIChuZXdJbnB1dHMubGVuZ3RoICE9PSBsYXN0SW5wdXRzLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3SW5wdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKG5ld0lucHV0c1tpXSAhPT0gbGFzdElucHV0c1tpXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB1c2VNZW1vT25lKGdldFJlc3VsdCwgaW5wdXRzKSB7XG4gIHZhciBpbml0aWFsID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbnB1dHM6IGlucHV0cyxcbiAgICAgIHJlc3VsdDogZ2V0UmVzdWx0KClcbiAgICB9O1xuICB9KVswXTtcbiAgdmFyIGlzRmlyc3RSdW4gPSB1c2VSZWYodHJ1ZSk7XG4gIHZhciBjb21taXR0ZWQgPSB1c2VSZWYoaW5pdGlhbCk7XG4gIHZhciB1c2VDYWNoZSA9IGlzRmlyc3RSdW4uY3VycmVudCB8fCBCb29sZWFuKGlucHV0cyAmJiBjb21taXR0ZWQuY3VycmVudC5pbnB1dHMgJiYgYXJlSW5wdXRzRXF1YWwoaW5wdXRzLCBjb21taXR0ZWQuY3VycmVudC5pbnB1dHMpKTtcbiAgdmFyIGNhY2hlID0gdXNlQ2FjaGUgPyBjb21taXR0ZWQuY3VycmVudCA6IHtcbiAgICBpbnB1dHM6IGlucHV0cyxcbiAgICByZXN1bHQ6IGdldFJlc3VsdCgpXG4gIH07XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaXNGaXJzdFJ1bi5jdXJyZW50ID0gZmFsc2U7XG4gICAgY29tbWl0dGVkLmN1cnJlbnQgPSBjYWNoZTtcbiAgfSwgW2NhY2hlXSk7XG4gIHJldHVybiBjYWNoZS5yZXN1bHQ7XG59XG5mdW5jdGlvbiB1c2VDYWxsYmFja09uZShjYWxsYmFjaywgaW5wdXRzKSB7XG4gIHJldHVybiB1c2VNZW1vT25lKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2FsbGJhY2s7XG4gIH0sIGlucHV0cyk7XG59XG52YXIgdXNlTWVtbyA9IHVzZU1lbW9PbmU7XG52YXIgdXNlQ2FsbGJhY2sgPSB1c2VDYWxsYmFja09uZTtcblxuZXhwb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUNhbGxiYWNrT25lLCB1c2VNZW1vLCB1c2VNZW1vT25lIH07XG4iXSwic291cmNlUm9vdCI6IiJ9